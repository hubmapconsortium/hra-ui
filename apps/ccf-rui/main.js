(self.webpackChunkccf_rui=self.webpackChunkccf_rui||[]).push([[792],{7772:Ge=>{"use strict";Ge.exports=T,Ge.exports.default=T;var ye=1e20;function T(ne,w,E,B,K,te){this.fontSize=ne||24,this.buffer=void 0===w?3:w,this.cutoff=B||.25,this.fontFamily=K||"sans-serif",this.fontWeight=te||"normal",this.radius=E||8;var R=this.size=this.fontSize+2*this.buffer,de=R+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=R,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(de*de),this.gridInner=new Float64Array(de*de),this.f=new Float64Array(de),this.z=new Float64Array(de+1),this.v=new Uint16Array(de),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(R/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function q(ne,w,E,B,K,te){for(var R=0;R<w;R++)Y(ne,R,w,E,B,K,te);for(var de=0;de<E;de++)Y(ne,de*w,1,w,B,K,te)}function Y(ne,w,E,B,K,te,R){var de,x,F,se;for(te[0]=0,R[0]=-ye,R[1]=ye,de=0;de<B;de++)K[de]=ne[w+de*E];for(de=1,x=0,F=0;de<B;de++){do{F=(K[de]-K[se=te[x]]+de*de-se*se)/(de-se)/2}while(F<=R[x]&&--x>-1);te[++x]=de,R[x]=F,R[x+1]=ye}for(de=0,x=0;de<B;de++){for(;R[x+1]<de;)x++;ne[w+de*E]=K[se=te[x]]+(de-se)*(de-se)}}T.prototype._draw=function(ne,w){var te,R,de,x,F,se,z,$,X,E=this.ctx.measureText(ne),B=E.width,K=2*this.buffer;w&&this.useMetrics?(F=Math.floor(E.actualBoundingBoxAscent),$=this.buffer+Math.ceil(E.actualBoundingBoxAscent),se=this.buffer,z=this.buffer,te=(R=Math.min(this.size,Math.ceil(E.actualBoundingBoxRight-E.actualBoundingBoxLeft)))+K,de=(x=Math.min(this.size-se,Math.ceil(E.actualBoundingBoxAscent+E.actualBoundingBoxDescent)))+K,this.ctx.textBaseline="alphabetic"):(te=R=this.size,de=x=this.size,F=19*this.fontSize/24,se=z=0,$=this.middle,this.ctx.textBaseline="middle"),R&&x&&(this.ctx.clearRect(z,se,R,x),this.ctx.fillText(ne,this.buffer,$),X=this.ctx.getImageData(z,se,R,x));var j=new Uint8ClampedArray(te*de);return function J(ne,w,E,B,K,te,R){te.fill(ye,0,w*E),R.fill(0,0,w*E);for(var de=(w-B)/2,x=0;x<K;x++)for(var F=0;F<B;F++){var se=(x+de)*w+F+de,z=ne.data[4*(x*B+F)+3]/255;if(1===z)te[se]=0,R[se]=ye;else if(0===z)te[se]=ye,R[se]=0;else{var $=Math.max(0,.5-z),X=Math.max(0,z-.5);te[se]=$*$,R[se]=X*X}}}(X,te,de,R,x,this.gridOuter,this.gridInner),q(this.gridOuter,te,de,this.f,this.v,this.z),q(this.gridInner,te,de,this.f,this.v,this.z),function C(ne,w,E,B,K,te,R){for(var de=0;de<w*E;de++){var x=Math.sqrt(B[de])-Math.sqrt(K[de]);ne[de]=Math.round(255-255*(x/te+R))}}(j,te,de,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:j,metrics:{width:R,height:x,sdfWidth:te,sdfHeight:de,top:F,left:0,advance:B}}},T.prototype.draw=function(ne){return this._draw(ne,!1).data},T.prototype.drawWithMetrics=function(ne){return this._draw(ne,!0)}},1145:(Ge,ye,T)=>{"use strict";var J={};T.r(J),T.d(J,{decode:()=>PIe,name:()=>kIe});var C={};T.r(C),T.d(C,{name:()=>UIe,preprocess:()=>VIe});var q={};T.r(q),T.d(q,{name:()=>zIe,preprocess:()=>HIe});var Y={};T.r(Y),T.d(Y,{decode:()=>TDe,encode:()=>MDe,name:()=>ADe,preprocess:()=>SDe});var ne={};T.r(ne),T.d(ne,{decode:()=>kDe,encode:()=>PDe,name:()=>RDe});var w={};T.r(w),T.d(w,{decode:()=>FDe,encode:()=>LDe,name:()=>NDe});var E={};T.r(E),T.d(E,{decode:()=>jDe,encode:()=>UDe,name:()=>BDe});var B={};T.r(B),T.d(B,{delMany:()=>hze,get:()=>dze,setMany:()=>uze});var K={};function te(n,e,t,i,r,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(i,r)}function R(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(c){te(o,i,r,s,a,"next",c)}function a(c){te(o,i,r,s,a,"throw",c)}s(void 0)})}}T.r(K),T.d(K,{inDefaultGraph:()=>Dze,isBlankNode:()=>Tze,isDefaultGraph:()=>Zw,isLiteral:()=>Mze,isNamedNode:()=>Sze,isVariable:()=>Ize,prefix:()=>Oze,prefixes:()=>b3});let x=null,F=!1,se=1;const z=Symbol("SIGNAL");function $(n){const e=x;return x=n,e}const y={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oe(n){if((!je(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==se)){if(!n.producerMustRecompute(n)&&!Le(n))return n.dirty=!1,void(n.lastCleanEpoch=se);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=se}}function ie(n){n.dirty=!0,function ee(n){if(void 0===n.liveConsumerNode)return;const e=F;F=!0;try{for(const t of n.liveConsumerNode)t.dirty||ie(t)}finally{F=e}}(n),n.consumerMarkedDirty?.(n)}function xe(n){return n&&(n.nextProducerIndex=0),$(n)}function Re(n,e){if($(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(je(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ee(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Le(n){De(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(oe(t),i!==t.version))return!0}return!1}function tt(n){if(De(n),je(n))for(let e=0;e<n.producerNode.length;e++)Ee(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ee(n,e){if(function ot(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),De(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Ee(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];De(r),r.producerIndexOfThis[i]=e}}function je(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function De(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Q=null;const $e=()=>{},ve={...y,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:$e};function Ze(n){return"function"==typeof n}function St(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Gt=St(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ot(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Ht{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ze(i))try{i()}catch(o){e=o instanceof Gt?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{U(o)}catch(s){e=e??[],s instanceof Gt?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Gt(e)}}add(e){var t;if(e&&e!==this)if(this.closed)U(e);else{if(e instanceof Ht){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ot(t,e)}remove(e){const{_finalizers:t}=this;t&&Ot(t,e),e instanceof Ht&&e._removeParent(this)}}Ht.EMPTY=(()=>{const n=new Ht;return n.closed=!0,n})();const ce=Ht.EMPTY;function k(n){return n instanceof Ht||n&&"closed"in n&&Ze(n.remove)&&Ze(n.add)&&Ze(n.unsubscribe)}function U(n){Ze(n)?n():n.unsubscribe()}const Pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},it={setTimeout(n,e,...t){const{delegate:i}=it;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=it;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ht(n){it.setTimeout(()=>{const{onUnhandledError:e}=Pe;if(!e)throw n;e(n)})}function Tt(){}const An=zn("C",void 0,void 0);function zn(n,e,t){return{kind:n,value:e,error:t}}let Nn=null;function mr(n){if(Pe.useDeprecatedSynchronousErrorHandling){const e=!Nn;if(e&&(Nn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Nn;if(Nn=null,t)throw i}}else n()}class xr extends Ht{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,k(e)&&e.add(this)):this.destination=jc}static create(e,t,i){return new To(e,t,i)}next(e){this.isStopped?Bc(function ri(n){return zn("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Bc(function qn(n){return zn("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bc(An,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Js=Function.prototype.bind;function Sa(n,e){return Js.call(n,e)}class Ir{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ua(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ua(i)}else Ua(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ua(t)}}}class To extends xr{constructor(e,t,i){let r;if(super(),Ze(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Pe.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Sa(e.next,o),error:e.error&&Sa(e.error,o),complete:e.complete&&Sa(e.complete,o)}):r=e}this.destination=new Ir(r)}}function Ua(n){Pe.useDeprecatedSynchronousErrorHandling?function ja(n){Pe.useDeprecatedSynchronousErrorHandling&&Nn&&(Nn.errorThrown=!0,Nn.error=n)}(n):ht(n)}function Bc(n,e){const{onStoppedNotification:t}=Pe;t&&it.setTimeout(()=>t(n,e))}const jc={closed:!0,next:Tt,error:function fl(n){throw n},complete:Tt},uc="function"==typeof Symbol&&Symbol.observable||"@@observable";function He(n){return n}let Ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function Mo(n){return n&&n instanceof xr||function Dr(n){return n&&Ze(n.next)&&Ze(n.error)&&Ze(n.complete)}(n)&&k(n)}(t)?t:new To(t,i,r);return mr(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Cn(i))((r,o)=>{const s=new To({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[uc](){return this}pipe(...t){return function Wt(n){return 0===n.length?He:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Cn(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function Cn(n){var e;return null!==(e=n??Pe.Promise)&&void 0!==e?e:Promise}const Uc=St(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let en=(()=>{class n extends Ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new re(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Uc}next(t){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?ce:(this.currentObservers=null,o.push(t),new Ht(()=>{this.currentObservers=null,Ot(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new Ct;return t.source=this,t}}return n.create=(e,t)=>new re(e,t),n})();class re extends en{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:ce}}class _e extends en{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function ae(n){return Ze(n?.lift)}function S(n){return e=>{if(ae(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(n,e,t,i,r){return new he(n,e,t,i,r)}class he extends xr{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function le(n,e){return S((t,i)=>{let r=0;t.subscribe(P(i,o=>{i.next(n.call(e,o,r++))}))})}const mt="https://g.co/ng/security#xss";class We extends Error{constructor(e,t){super(function qt(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function oi(n){return{toString:n}.toString()}const ki="__parameters__";function Vr(n,e,t){return oi(()=>{const i=function fo(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,d){const h=c.hasOwnProperty(ki)?c[ki]:Object.defineProperty(c,ki,{value:[]})[ki];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const di=globalThis;function Ti(n){for(let e in n)if(n[e]===Ti)return e;throw Error("Could not find renamed property on target object.")}function $l(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Or(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Or).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function hc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const vf=Ti({__forward_ref__:Ti});function mi(n){return n.__forward_ref__=mi,n.toString=function(){return Or(this())},n}function Hn(n){return Jd(n)?n():n}function Jd(n){return"function"==typeof n&&n.hasOwnProperty(vf)&&n.__forward_ref__===mi}function Rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function an(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mm(n){return gr(n,Dm)||gr(n,mx)}function gr(n,e){return n.hasOwnProperty(e)?n[e]:null}function Im(n){return n&&(n.hasOwnProperty(Bb)||n.hasOwnProperty(CM))?n[Bb]:null}const Dm=Ti({\u0275prov:Ti}),Bb=Ti({\u0275inj:Ti}),mx=Ti({ngInjectableDef:Ti}),CM=Ti({ngInjectorDef:Ti});class vt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Rt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Om(n){return n&&!!n.\u0275providers}const Xu=Ti({\u0275cmp:Ti}),Rm=Ti({\u0275dir:Ti}),Os=Ti({\u0275pipe:Ti}),_x=Ti({\u0275mod:Ti}),go=Ti({\u0275fac:Ti}),xf=Ti({__NG_ELEMENT_ID__:Ti}),Vb=Ti({__NG_ENV_ID__:Ti});function Gn(n){return"string"==typeof n?n:null==n?"":String(n)}function Ef(n,e){throw new We(-201,!1)}var Pi=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Pi||{});let zb;function vx(){return zb}function Rs(n){const e=zb;return zb=n,e}function Cf(n,e,t){const i=Mm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Pi.Optional?null:void 0!==e?e:void Ef()}const Yu={},km="__NG_DI_FLAG__",Ku="ngTempTokenPath",wx=/\n/gm,Pm="__source";let Xl;function pl(n){const e=Xl;return Xl=n,e}function Ta(n,e=Pi.Default){if(void 0===Xl)throw new We(-203,!1);return null===Xl?Cf(n,void 0,e):Xl.get(n,e&Pi.Optional?null:void 0,e)}function Ke(n,e=Pi.Default){return(vx()||Ta)(Hn(n),e)}function kt(n,e=Pi.Default){return Ke(n,Sf(e))}function Sf(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Gb(n){const e=[];for(let t=0;t<n.length;t++){const i=Hn(n[t]);if(Array.isArray(i)){if(0===i.length)throw new We(900,!1);let r,o=Pi.Default;for(let s=0;s<i.length;s++){const a=i[s],c=OM(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}e.push(Ke(r,o))}else e.push(Ke(i))}return e}function Tf(n,e){return n[km]=e,n.prototype[km]=e,n}function OM(n){return n[km]}const Zu=Tf(Vr("Optional"),8),eh=Tf(Vr("SkipSelf"),4);function Zs(n,e){return n.hasOwnProperty(go)?n[go]:null}function th(n,e){n.forEach(t=>Array.isArray(t)?th(t,e):e(t))}function Ex(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ml(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Ma(n,e,t){let i=gl(n,e);return i>=0?n[1|i]=t:(i=~i,function Cx(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Wb(n,e){const t=gl(n,e);if(t>=0)return n[1|t]}function gl(n,e){return function Ut(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Mt={},nn=[],Yn=new vt(""),Vi=new vt("",-1),ao=new vt("");class nr{get(e,t=Yu){if(t===Yu){const i=new Error(`NullInjectorError: No provider for ${Or(e)}!`);throw i.name="NullInjectorError",i}return t}}var nh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nh||{}),pc=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(pc||{}),gt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(gt||{});function Lm(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function $b(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];Mf(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function Zd(n){return 3===n||4===n||6===n}function Mf(n){return 64===n.charCodeAt(0)}function Yl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||ir(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function ir(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const Ax="ng-template";function Sx(n,e,t,i){let r=0;if(i){for(;r<e.length&&"string"==typeof e[r];r+=2)if("class"===e[r]&&-1!==Lm(e[r+1].toLowerCase(),t,0))return!0}else if(ih(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&"string"==typeof(o=e[r]);)if(o.toLowerCase()===t)return!0}return!1}function ih(n){return 4===n.type&&n.value!==Ax}function NM(n,e,t){return e===(4!==n.type||t?n.value:Ax)}function FM(n,e,t){let i=4;const r=n.attrs,o=null!==r?function Tx(n){for(let e=0;e<n.length;e++)if(Zd(n[e]))return e;return n.length}(r):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!NM(n,c,t)||""===c&&1===e.length){if(mc(i))return!1;s=!0}}else if(8&i){if(null===r||!Sx(n,r,c,t)){if(mc(i))return!1;s=!0}}else{const l=e[++a],d=Bm(c,r,ih(n),t);if(-1===d){if(mc(i))return!1;s=!0;continue}if(""!==l){let h;if(h=d>o?"":r[d+1].toLowerCase(),2&i&&l!==h){if(mc(i))return!1;s=!0}}}}else{if(!s&&!mc(i)&&!mc(c))return!1;if(s&&mc(c))continue;s=!1,i=c|1&i}}return mc(i)||s}function mc(n){return!(1&n)}function Bm(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function Um(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function _l(n,e,t=!1){for(let i=0;i<e.length;i++)if(FM(n,e[i],t))return!0;return!1}function Mx(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function qb(n,e){return n?":not("+e.trim()+")":e}function Vm(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!mc(s)&&(e+=qb(o,r),r=""),i=s,o=o||!mc(i);t++}return""!==r&&(e+=qb(o,r)),e}function un(n){return oi(()=>{const e=_o(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||pc.Emulated,styles:n.styles||nn,_:null,schemas:n.schemas||null,tView:null,id:""};ds(t);const i=n.dependencies;return t.directiveDefs=Hm(i,!1),t.pipeDefs=Hm(i,!0),t.id=function Ox(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function zm(n){return gi(n)||Oo(n)}function LM(n){return null!==n}function dn(n){return oi(()=>({type:n.type,bootstrap:n.bootstrap||nn,declarations:n.declarations||nn,imports:n.imports||nn,exports:n.exports||nn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Dx(n,e){if(null==n)return Mt;const t={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=gt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(t[o]=a!==gt.None?[i,a]:i,e[o]=s):t[o]=i}return t}function Zt(n){return oi(()=>{const e=_o(n);return ds(e),e})}function Do(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function gi(n){return n[Xu]||null}function Oo(n){return n[Rm]||null}function Xo(n){return n[Os]||null}function _o(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Mt,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||nn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dx(n.inputs,e),outputs:Dx(n.outputs),debugInfo:null}}function ds(n){n.features?.forEach(e=>e(n))}function Hm(n,e){if(!n)return null;const t=e?Xo:zm;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(LM)}function Xb(...n){return{\u0275providers:eu(0,n),\u0275fromNgModule:!0}}function eu(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return th(e,s=>{const a=s;bl(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&Gm(r,o),t}function Gm(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];tu(r,o=>{e(o,i)})}}function bl(n,e,t,i){if(!(n=Hn(n)))return!1;let r=null,o=Im(n);const s=!o&&gi(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Im(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)bl(l,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{th(o.imports,d=>{bl(d,e,t,i)&&(l||=[],l.push(d))})}finally{}void 0!==l&&Gm(l,e)}if(!a){const l=Zs(r)||(()=>new r);e({provide:r,useFactory:l,deps:nn},r),e({provide:ao,useValue:r,multi:!0},r),e({provide:Yn,useValue:()=>Ke(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;tu(c,d=>{e(d,l)})}}}return r!==n&&void 0!==n.providers}function tu(n,e){for(let t of n)Om(t)&&(t=t.\u0275providers),Array.isArray(t)?tu(t,e):e(t)}const $m=Ti({provide:String,useValue:Ti});function Jl(n){return null!==n&&"object"==typeof n&&$m in n}function nu(n){return"function"==typeof n}const Yb=new vt(""),iu={},Of={};let qm;function Se(){return void 0===qm&&(qm=new nr),qm}class Yo{}class yl extends Yo{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kb(e,s=>this.processProvider(s)),this.records.set(Vi,rh(void 0,this)),r.has("environment")&&this.records.set(Yo,rh(void 0,this));const o=this.records.get(Yb);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ao,nn,Pi.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=$(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=pl(this),i=Rs(void 0);try{return e()}finally{pl(t),Rs(i)}}get(e,t=Yu,i=Pi.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Vb))return e[Vb](this);i=Sf(i);const o=pl(this),s=Rs(void 0);try{if(!(i&Pi.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function zM(n){return"function"==typeof n||"object"==typeof n&&n instanceof vt}(e)&&Mm(e);c=l&&this.injectableDefInScope(l)?rh(na(e),iu):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(i&Pi.Self?Se():this.parent).get(e,t=i&Pi.Optional&&t===Yu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ku]=a[Ku]||[]).unshift(Or(e)),o)throw a;return function RM(n,e,t,i){const r=n[Ku];throw e[Pm]&&r.unshift(e[Pm]),n.message=function kM(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Or(e);if(Array.isArray(e))r=e.map(Or).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Or(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(wx,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Ku]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Rs(s),pl(o)}}resolveInjectorInitializers(){const e=$(null),t=pl(this),i=Rs(void 0);try{const o=this.get(Yn,nn,Pi.Self);for(const s of o)s()}finally{pl(t),Rs(i),$(e)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(Or(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new We(205,!1)}processProvider(e){let t=nu(e=Hn(e))?e:Hn(e&&e.provide);const i=function UM(n){return Jl(n)?rh(void 0,n.useValue):rh(Px(n),iu)}(e);if(!nu(e)&&!0===e.multi){let r=this.records.get(t);r||(r=rh(void 0,iu,!0),r.factory=()=>Gb(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){const i=$(null);try{return t.value===iu&&(t.value=Of,t.value=t.factory()),"object"==typeof t.value&&t.value&&function VM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{$(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Hn(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function na(n){const e=Mm(n),t=null!==e?e.factory:Zs(n);if(null!==t)return t;if(n instanceof vt)throw new We(204,!1);if(n instanceof Function)return function Ni(n){if(n.length>0)throw new We(204,!1);const t=function EM(n){return n&&(n[Dm]||n[mx])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new We(204,!1)}function Px(n,e,t){let i;if(nu(n)){const r=Hn(n);return Zs(r)||na(r)}if(Jl(n))i=()=>Hn(n.useValue);else if(function kx(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Gb(n.deps||[]));else if(function Rx(n){return!(!n||!n.useExisting)}(n))i=()=>Ke(Hn(n.useExisting));else{const r=Hn(n&&(n.useClass||n.provide));if(!function ru(n){return!!n.deps}(n))return Zs(r)||na(r);i=()=>new r(...Gb(n.deps))}return i}function rh(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Kb(n,e){for(const t of n)Array.isArray(t)?Kb(t,e):t&&Om(t)?Kb(t.\u0275providers,e):e(t)}function Nx(){return void 0!==vx()||null!=function DM(){return Xl}()}const Hr=0,sn=1,Vn=2,co=3,gc=4,us=5,ra=6,sh=7,Er=8,ko=9,ks=10,Wn=11,kf=12,Qb=13,ah=14,Ji=15,su=16,Ha=17,bo=18,Pf=19,Zb=20,xl=21,Ql=22,oa=23,si=25,ey=1,Vc=7,to=9,Kr=10;var Xm=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Xm||{});function kr(n){return Array.isArray(n)&&"object"==typeof n[ey]}function Ko(n){return Array.isArray(n)&&!0===n[ey]}function ch(n){return!!(4&n.flags)}function Ia(n){return n.componentOffset>-1}function Ff(n){return!(1&~n.flags)}function Pr(n){return!!n.template}function Lf(n){return!!(512&n[Vn])}class Bf{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ux(n,e,t,i){null!==e?e.applyValueToInputSignal(e,i):n[t]=i}function _r(){return ny}function ny(n){return n.type.prototype.ngOnChanges&&(n.setInput=Vx),oI}function oI(){const n=Qm(this),e=n?.current;if(e){const t=n.previous;if(t===Mt)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function Vx(n,e,t,i,r){const o=this.declaredInputs[i],s=Qm(n)||function Hx(n,e){return n[zx]=e}(n,{previous:Mt,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Bf(l&&l.currentValue,t,c===Mt),Ux(n,e,r,t)}_r.ngInherit=!0;const zx="__ngSimpleChanges__";function Qm(n){return n[zx]||null}const Ga=function(n,e,t){},_i="svg";let Wx=!1;function fr(n){for(;Array.isArray(n);)n=n[Hr];return n}function xs(n,e){return fr(e[n])}function Ps(n,e){return fr(e[n.index])}function cu(n,e){return n.data[e]}function lu(n,e){return n[e]}function sa(n,e){const t=e[n];return kr(t)?t:t[Hr]}function zc(n){return!(128&~n[Vn])}function _c(n,e){return null==e?null:n[e]}function Vf(n){n[Ha]=0}function $x(n){1024&n[Vn]||(n[Vn]|=1024,zc(n)&&du(n))}function tg(n){return!!(9216&n[Vn]||n[oa]?.dirty)}function zf(n){n[ks].changeDetectionScheduler?.notify(1),tg(n)?du(n):64&n[Vn]&&(function Uf(){return Wx}()?(n[Vn]|=1024,du(n)):n[ks].changeDetectionScheduler?.notify())}function du(n){n[ks].changeDetectionScheduler?.notify();let e=aa(n);for(;null!==e&&!(8192&e[Vn])&&(e[Vn]|=8192,zc(e));)e=aa(e)}function bc(n,e){if(!(256&~n[Vn]))throw new We(911,!1);null===n[xl]&&(n[xl]=[]),n[xl].push(e)}function aa(n){const e=n[co];return Ko(e)?e[co]:e}const Zn={lFrame:Qx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ay(){return Zn.bindingsEnabled}function uu(){return null!==Zn.skipHydrationRootTNode}function Ft(){return Zn.lFrame.lView}function Mi(){return Zn.lFrame.tView}function fn(n){return Zn.lFrame.contextLView=n,n[Er]}function hn(n){return Zn.lFrame.contextLView=null,n}function rr(){let n=cy();for(;null!==n&&64===n.type;)n=n.parent;return n}function cy(){return Zn.lFrame.currentTNode}function yc(n,e){const t=Zn.lFrame;t.currentTNode=n,t.isParent=e}function ed(){return Zn.lFrame.isParent}function hu(){Zn.lFrame.isParent=!1}function Jo(){const n=Zn.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Oa(){return Zn.lFrame.bindingIndex++}function Wa(n){const e=Zn.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ng(n,e){const t=Zn.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wf(e)}function Wf(n){Zn.lFrame.currentDirectiveIndex=n}function uy(n){const e=Zn.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function ig(){return Zn.lFrame.currentQueryIndex}function $a(n){Zn.lFrame.currentQueryIndex=n}function Jx(n){const e=n[sn];return 2===e.type?e.declTNode:1===e.type?n[us]:null}function hy(n,e,t){if(t&Pi.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&Pi.Host||(r=Jx(o),null===r||(o=o[ah],10&r.type))););if(null===r)return!1;e=r,n=o}const i=Zn.lFrame=py();return i.currentTNode=e,i.lView=n,!0}function fy(n){const e=py(),t=n[sn];Zn.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function py(){const n=Zn.lFrame,e=null===n?null:n.child;return null===e?Qx(n):e}function Qx(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Zx(){const n=Zn.lFrame;return Zn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Wc=Zx;function $f(){const n=Zx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qo(){return Zn.lFrame.selectedIndex}function $c(n){Zn.lFrame.selectedIndex=n}function Qi(){const n=Zn.lFrame;return cu(n.tView,n.selectedIndex)}function jn(){Zn.lFrame.currentNamespace=_i}let sg=!0;function lh(){return sg}function Nr(n){sg=n}function ag(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function qf(n,e,t){tE(n,e,3,t)}function cg(n,e,t,i){(3&n[Vn])===t&&tE(n,e,t,i)}function lg(n,e){let t=n[Vn];(3&t)===e&&(t&=16383,t+=1,n[Vn]=t)}function tE(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let c=void 0!==i?65535&n[Ha]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=i&&a>=i)break}else e[c]<0&&(n[Ha]+=65536),(a<o||-1==o)&&(gI(n,t,e,c),n[Ha]=(4294901760&n[Ha])+c+2),c++}function nE(n,e){Ga(4,n,e);const t=$(null);try{e.call(n)}finally{$(t),Ga(5,n,e)}}function gI(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[Vn]>>14<n[Ha]>>16&&(3&n[Vn])===e&&(n[Vn]+=16384,nE(a,o)):nE(a,o)}const la=-1;class Po{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function ug(n){return n!==la}function Xf(n){return 32767&n}function Yf(n,e){let t=function vI(n){return n>>16}(n),i=e;for(;t>0;)i=i[ah],t--;return i}let yy=!0;function Kf(n){const e=yy;return yy=n,e}const iE=255,hg=5;let rE=0;const da={};function Jf(n,e){const t=Qf(n,e);if(-1!==t)return t;const i=e[sn];i.firstCreatePass&&(n.injectorIndex=e.length,fg(i.data,n),fg(e,null),fg(i.blueprint,null));const r=Zf(n,e),o=n.injectorIndex;if(ug(r)){const s=Xf(r),a=Yf(r,e),c=a[sn].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=r,o}function fg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Qf(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Zf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=uE(r),null===i)return la;if(t++,r=r[ah],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return la}function qa(n,e,t){!function vy(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(xf)&&(i=t[xf]),null==i&&(i=t[xf]=rE++);const r=i&iE;e.data[n+(r>>hg)]|=1<<r}(n,e,t)}function oE(n,e,t){if(t&Pi.Optional||void 0!==n)return n;Ef()}function wy(n,e,t,i){if(t&Pi.Optional&&void 0===i&&(i=null),!(t&(Pi.Self|Pi.Host))){const r=n[ko],o=Rs(void 0);try{return r?r.get(e,i,t&Pi.Optional):Cf(e,i,t&Pi.Optional)}finally{Rs(o)}}return oE(i,0,t)}function sE(n,e,t,i=Pi.Default,r){if(null!==n){if(2048&e[Vn]&&!(i&Pi.Self)){const s=function CI(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Vn]&&!(512&s[Vn]);){const a=aE(o,s,t,i|Pi.Self,da);if(a!==da)return a;let c=o.parent;if(!c){const l=s[Zb];if(l){const d=l.get(t,da,i);if(d!==da)return d}c=uE(s),s=s[ah]}o=c}return r}(n,e,t,i,da);if(s!==da)return s}const o=aE(n,e,t,i,da);if(o!==da)return o}return wy(e,t,i,r)}function aE(n,e,t,i,r){const o=function EI(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xf)?n[xf]:void 0;return"number"==typeof e?e>=0?e&iE:dE:e}(t);if("function"==typeof o){if(!hy(e,n,i))return i&Pi.Host?oE(r,0,i):wy(e,t,i,r);try{let s;if(s=o(i),null!=s||i&Pi.Optional)return s;Ef()}finally{Wc()}}else if("number"==typeof o){let s=null,a=Qf(n,e),c=la,l=i&Pi.Host?e[Ji][us]:null;for((-1===a||i&Pi.SkipSelf)&&(c=-1===a?Zf(n,e):e[a+8],c!==la&&lE(i,!1)?(s=e[sn],a=Xf(c),e=Yf(c,e)):a=-1);-1!==a;){const d=e[sn];if(cE(o,a,d.data)){const h=xI(a,e,t,s,i,l);if(h!==da)return h}c=e[a+8],c!==la&&lE(i,e[sn].data[a+8]===l)&&cE(o,a,e)?(s=d,a=Xf(c),e=Yf(c,e)):a=-1}}return r}function xI(n,e,t,i,r,o){const s=e[sn],a=s.data[n+8],d=pg(a,s,t,null==i?Ia(a)&&yy:i!=s&&!!(3&a.type),r&Pi.Host&&o===a);return null!==d?mu(e,s,d,a):da}function pg(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,f=r?a+d:n.directiveEnd;for(let m=i?a:a+d;m<f;m++){const g=s[m];if(m<c&&t===g||m>=c&&g.type===t)return m}if(r){const m=s[c];if(m&&Pr(m)&&m.type===t)return c}return null}function mu(n,e,t,i){let r=n[t];const o=e.data;if(function gy(n){return n instanceof Po}(r)){const s=r;s.resolving&&function ql(n,e){throw e&&e.join(" > "),new We(-200,n)}(function Ui(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Gn(n)}(o[t]));const a=Kf(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Rs(s.injectImpl):null;hy(n,i,Pi.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function mI(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=ny(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==l&&Rs(l),Kf(a),s.resolving=!1,Wc()}}return r}function cE(n,e,t){return!!(t[e+(n>>hg)]&1<<n)}function lE(n,e){return!(n&Pi.Self||n&Pi.Host&&e)}class No{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return sE(this._tNode,this._lView,e,Sf(i),t)}}function dE(){return new No(rr(),Ft())}function zi(n){return oi(()=>{const e=n.prototype.constructor,t=e[go]||mg(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[go]||mg(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function mg(n){return Jd(n)?()=>{const e=mg(Hn(n));return e&&e()}:Zs(n)}function uE(n){const e=n[sn],t=e.type;return 2===t?e.declTNode:1===t?n[us]:null}function ua(n){return function pu(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(Zd(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(rr(),n)}function bE(n,e=null,t=null,i){const r=yE(n,e,t,i);return r.resolveInjectorInitializers(),r}function yE(n,e=null,t=null,i,r=new Set){const o=[t||nn,Xb(n)];return i=i||("object"==typeof n?void 0:Or(n)),new yl(o,e||Se(),i||null,r)}let bi=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Yu;static#t=this.NULL=new nr;static create(t,i){if(Array.isArray(t))return bE({name:""},i,t,"");{const r=t.name??"";return bE({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=Rt({token:n,providedIn:"any",factory:()=>Ke(Vi)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function Ey(n){return n.ngOriginalError}class ha{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Ey(e);for(;t&&Ey(t);)t=Ey(t);return t||null}}const wE=new vt("",{providedIn:"root",factory:()=>kt(ha).handleError.bind(void 0)});let hh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=DI;static#t=this.__NG_ENV_ID__=t=>t}return n})();class II extends hh{constructor(e){super(),this._lView=e}onDestroy(e){return bc(this._lView,e),()=>function oy(n,e){if(null===n[xl])return;const t=n[xl].indexOf(e);-1!==t&&n[xl].splice(t,1)}(this._lView,e)}}function DI(){return new II(Ft())}function OI(){return fh(rr(),Ft())}function fh(n,e){return new On(Ps(n,e))}let On=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=OI}return n})();function EE(n){return n instanceof On?n.nativeElement:n}function ep(n){return e=>{setTimeout(n,void 0,e)}}const Qt=class RI extends en{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Nx()&&(this.destroyRef=kt(hh,{optional:!0})??void 0)}emit(e){const t=$(null);try{super.next(e)}finally{$(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ep(o),r&&(r=ep(r)),s&&(s=ep(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ht&&e.add(a),a}};function kI(){return this._results[Symbol.iterator]()}class ph{static#e=Symbol.iterator;get changes(){return this._changes??=new Qt}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=ph.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=kI)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function ea(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Nm(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function _g(n){return!(128&~n.flags)}const yg=new Map;let NI=0;const Ay="__ngContext__";function Es(n,e){kr(e)?(n[Ay]=e[Pf],function FI(n){yg.set(n[Pf],n)}(e)):n[Ay]=e}function ip(n){return PE(n[kf])}function kE(n){return PE(n[gc])}function PE(n){for(;null!==n&&!Ko(n);)n=n[gc];return n}let xg;const op=new vt("",{providedIn:"root",factory:()=>Eg}),Eg="ng",sp=new vt(""),Ns=new vt("",{providedIn:"platform",factory:()=>"unknown"}),lo=new vt(""),ap=new vt("",{providedIn:"root",factory:()=>function td(){if(void 0!==xg)return xg;if(typeof document<"u")return document;throw new We(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Cl=()=>null;function Ny(n,e,t=!1){return Cl(n,e,t)}const HE=new vt("",{providedIn:"root",factory:()=>!1});let gu;function vc(n){return function Fs(){if(void 0===gu&&(gu=null,di.trustedTypes))try{gu=di.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gu}()?.createHTML(n)||n}class id{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mt})`}}class Ya extends id{getTypeName(){return"HTML"}}class GE extends id{getTypeName(){return"Style"}}class cD extends id{getTypeName(){return"Script"}}class or extends id{getTypeName(){return"URL"}}class lD extends id{getTypeName(){return"ResourceURL"}}function ma(n){return n instanceof id?n.changingThisBreaksApplicationSecurity:n}function Ra(n,e){const t=function dD(n){return n instanceof id&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${mt})`)}return t===e}class gD{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(vc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class _D{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=vc(e),t}}const yD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dg(n){return(n=String(n)).match(yD)?n:"unsafe:"+n}function Al(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function _u(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const $E=Al("area,br,col,hr,img,wbr"),Og=Al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qE=Al("rp,rt"),As=_u($E,_u(Og,Al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_u(qE,Al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_u(qE,Og)),zy=Al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hy=_u(zy,Al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Al("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vD=Al("script,style,template");class wD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)r.push(t),t=ED(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=XE(t);if(o){t=o;break}t=r.pop()}return this.buf.join("")}startElement(e){const t=YE(e).toLowerCase();if(!As.hasOwnProperty(t))return this.sanitizedSomething=!0,!vD.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Hy.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;zy[a]&&(c=Dg(c)),this.buf.push(" ",s,'="',ZE(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=YE(e).toLowerCase();As.hasOwnProperty(t)&&!$E.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(ZE(e))}}function XE(n){const e=n.nextSibling;if(e&&n!==e.previousSibling)throw KE(e);return e}function ED(n){const e=n.firstChild;if(e&&function xD(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,e))throw KE(e);return e}function YE(n){const e=n.nodeName;return"string"==typeof e?e:"FORM"}function KE(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const JE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QE=/([^\#-~ |!])/g;function ZE(n){return n.replace(/&/g,"&amp;").replace(JE,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(QE,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rg;function eC(n,e){let t=null;try{Rg=Rg||function WE(n){const e=new _D(n);return function bD(){try{return!!(new window.DOMParser).parseFromString(vc(""),"text/html")}catch{return!1}}()?new gD(e):e}(n);let i=e?String(e):"";t=Rg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Rg.getInertBodyElement(i)}while(i!==o);return vc((new wD).sanitizeChildren(Gy(t)||t))}finally{if(t){const i=Gy(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Gy(n){return"content"in n&&function bh(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Zo=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Zo||{});function kg(n){const e=function up(){const n=Ft();return n&&n[ks].sanitizer}();return e?e.sanitize(Zo.URL,n)||"":Ra(n,"URL")?ma(n):Dg(Gn(n))}const MD=/^>|^->|<!--|-->|--!>|<!-$/g,ID=/(<|>)/g,DD="\u200b$1\u200b";function pp(n){return n.ownerDocument.defaultView}function yh(n){return n.ownerDocument}var rd=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(rd||{});let Yy;function Ky(n,e){return Yy(n,e)}function wh(n,e,t,i,r){if(null!=i){let o,s=!1;Ko(i)?o=i:kr(i)&&(s=!0,i=i[Hr]);const a=fr(i);0===n&&null!==t?null==r?_C(e,t,a):bu(e,t,a,r||null,!0):1===n&&null!==t?bu(e,t,a,r||null,!0):2===n?function Vt(n,e,t){const i=Fg(n,e);i&&function WD(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function yi(n,e,t,i,r){const o=t[Vc];o!==fr(t)&&wh(e,n,i,o,r);for(let a=Kr;a<t.length;a++){const c=t[a];pn(c[sn],c,n,e,i,o)}}(e,n,o,t,r)}}function mp(n,e){return n.createComment(function oC(n){return n.replace(MD,e=>e.replace(ID,DD))}(e))}function xh(n,e,t){return n.createElement(e,t)}function pC(n,e){e[ks].changeDetectionScheduler?.notify(1),pn(n,e,e[Wn],2,null,null)}function mC(n,e){const t=n[to],i=t.indexOf(e);t.splice(i,1)}function gp(n,e){if(n.length<=Kr)return;const t=Kr+e,i=n[t];if(i){const r=i[su];null!==r&&r!==n&&mC(r,i),e>0&&(n[t-1][gc]=i[gc]);const o=ml(n,Kr+e);!function BD(n,e){pC(n,e),e[Hr]=null,e[us]=null}(i[sn],i);const s=o[bo];null!==s&&s.detachView(o[sn]),i[co]=null,i[gc]=null,i[Vn]&=-129}return i}function Ng(n,e){if(!(256&e[Vn])){const t=e[Wn];t.destroyNode&&pn(n,e,t,3,null,null),function UD(n){let e=n[kf];if(!e)return Qy(n[sn],n);for(;e;){let t=null;if(kr(e))t=e[kf];else{const i=e[Kr];i&&(t=i)}if(!t){for(;e&&!e[gc]&&e!==n;)kr(e)&&Qy(e[sn],e),e=e[co];null===e&&(e=n),kr(e)&&Qy(e[sn],e),t=e&&e[gc]}e=t}}(e)}}function Qy(n,e){if(256&e[Vn])return;const t=$(null);try{e[Vn]&=-129,e[Vn]|=256,e[oa]&&tt(e[oa]),function GD(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Po)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Ga(4,a,c);try{c.call(a)}finally{Ga(5,a,c)}}else{Ga(4,r,o);try{o.call(r)}finally{Ga(5,r,o)}}}}}(n,e),function HD(n,e){const t=n.cleanup,i=e[sh];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[sh]=null);const r=e[xl];if(null!==r){e[xl]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[sn].type&&e[Wn].destroy();const i=e[su];if(null!==i&&Ko(e[co])){i!==e[co]&&mC(i,e);const r=e[bo];null!==r&&r.detachView(n)}!function LI(n){yg.delete(n[Pf])}(e)}finally{$(t)}}function Zy(n,e,t){return function gC(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Hr];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===pc.None||o===pc.Emulated)return null}return Ps(i,t)}}(n,e.parent,t)}function bu(n,e,t,i,r){n.insertBefore(e,t,i,r)}function _C(n,e,t){n.appendChild(e,t)}function bC(n,e,t,i,r){null!==i?bu(n,e,t,i,r):_C(n,e,t)}function Fg(n,e){return n.parentNode(e)}function u(n,e,t){return _(n,e,t)}let L,_=function p(n,e,t){return 40&n.type?Ps(n,t):null};function ke(n,e,t,i){const r=Zy(n,i,e),o=e[Wn],a=u(i.parent||e[us],i,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)bC(o,r,t[c],a,!1);else bC(o,r,t,a,!1);void 0!==L&&L(o,i,e,t,r)}function Qe(n,e){if(null!==e){const t=e.type;if(3&t)return Ps(e,n);if(4&t)return bt(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Qe(n,i);{const r=n[e.index];return Ko(r)?bt(-1,r):fr(r)}}if(32&t)return Ky(e,n)()||fr(n[e.index]);{const i=dt(n,e);return null!==i?Array.isArray(i)?i[0]:Qe(aa(n[Ji]),i):Qe(n,e.next)}}return null}function dt(n,e){return null!==e?n[Ji][us].projection[e.projection]:null}function bt(n,e){const t=Kr+n+1;if(t<e.length){const i=e[t],r=i[sn].firstChild;if(null!==r)return Qe(i,r)}return e[Vc]}function Kt(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],c=t.type;if(s&&0===e&&(a&&Es(fr(a),i),t.flags|=2),32&~t.flags)if(8&c)Kt(n,e,t.child,i,r,o,!1),wh(e,n,r,a,o);else if(32&c){const l=Ky(t,i);let d;for(;d=l();)wh(e,n,r,d,o);wh(e,n,r,a,o)}else 16&c?$n(n,e,i,t,r,o):wh(e,n,r,a,o);t=s?t.projectionNext:t.next}}function pn(n,e,t,i,r,o){Kt(t,i,n.firstChild,e,r,o,!1)}function $n(n,e,t,i,r,o){const s=t[Ji],c=s[us].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)wh(e,n,r,c[l],o);else{let l=c;const d=s[co];_g(i)&&(l.flags|=128),Kt(n,e,l,d,r,o,!0)}}function Fi(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ga(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&$b(n,e,i),null!==r&&Fi(n,e,r),null!==o&&function Ii(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}const Ln={};function lt(n=1){io(Mi(),Ft(),Qo()+n,!1)}function io(n,e,t,i){if(!i)if(3&~e[Vn]){const o=n.preOrderHooks;null!==o&&cg(e,o,0,t)}else{const o=n.preOrderCheckHooks;null!==o&&qf(e,o,t)}$c(t)}function be(n,e=Pi.Default){const t=Ft();return null===t?Ke(n,e):sE(rr(),t,Hn(n),e)}function wc(){throw new Error("invalid")}function ev(n,e,t,i,r,o){const s=$(null);try{let a=null;r&gt.SignalBased&&(a=e[i][z]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&gt.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),null!==n.setInput?n.setInput(e,a,o,t,i):Ux(e,a,i,o)}finally{$(s)}}function yC(n,e,t,i,r,o,s,a,c,l,d){const h=e.blueprint.slice();return h[Hr]=r,h[Vn]=204|i,(null!==l||n&&2048&n[Vn])&&(h[Vn]|=2048),Vf(h),h[co]=h[ah]=n,h[Er]=t,h[ks]=s||n&&n[ks],h[Wn]=a||n&&n[Wn],h[ko]=c||n&&n[ko]||null,h[us]=o,h[Pf]=function vg(){return NI++}(),h[ra]=d,h[Zb]=l,h[Ji]=2==e.type?n[Ji]:h,h}function Lg(n,e,t,i,r){let o=n.data[e];if(null===o)o=function qD(n,e,t,i,r){const o=cy(),s=ed(),c=n.data[e]=function dte(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return uu()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,i,r),function pI(){return Zn.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Hf(){const n=Zn.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return yc(o,!0),o}function tv(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function tU(n,e,t,i,r){const o=Qo(),s=2&i;try{$c(-1),s&&e.length>si&&io(n,e,si,!1),Ga(s?2:0,r),t(i,r)}finally{$c(o),Ga(s?3:1,r)}}function XD(n,e,t){if(ch(e)){const i=$(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{$(i)}}}function YD(n,e,t){ay()&&(function _te(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;Ia(t)&&function Cte(n,e,t){const i=Ps(e,n),r=nU(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=vC(n,yC(n,r,null,s,i,e,null,n[ks].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Jf(t,e),Es(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=mu(e,n,a,t);Es(l,e),null!==s&&Ate(0,a-r,l,c,0,s),Pr(c)&&(sa(t.index,e)[Er]=mu(e,n,a,t))}}(n,e,t,Ps(t,e)),!(64&~t.flags)&&aU(n,e,t))}function KD(n,e,t=Ps){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function nU(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=JD(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function JD(n,e,t,i,r,o,s,a,c,l,d){const h=si+i,f=h+r,m=function rte(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ln);return t}(h,f),g="function"==typeof l?l():l;return m[sn]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:d}}let iU=()=>null;function rU(n,e,t,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;const s=e[o];if(void 0===s)continue;i??={};let a,c=gt.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?oU(i,t,l,a,c):oU(i,t,l,a)}return i}function oU(n,e,t,i,r){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],void 0!==r&&o.push(r)}function Ka(n,e,t,i,r,o,s,a){const c=Ps(e,t);let d,l=e.inputs;!a&&null!=l&&(d=l[i])?(nO(n,t,d,i,r),Ia(e)&&function fte(n,e){const t=sa(e,n);16&t[Vn]||(t[Vn]|=64)}(t,e.index)):3&e.type&&(i=function hte(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(c,i,r))}function QD(n,e,t,i){if(ay()){const r=null===i?null:{"":-1},o=function yte(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(_l(e,s.selectors,!1))if(i||(i=[]),Pr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),ZD(n,e,a.length)}else i.unshift(s),ZD(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&sU(n,e,t,s,r,a),r&&function vte(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new We(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Yl(t.mergedAttrs,t.attrs)}function sU(n,e,t,i,r,o){for(let l=0;l<i.length;l++)qa(Jf(t,e),n,i[l].type);!function xte(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const d=i[l];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=tv(n,e,i.length,null);for(let l=0;l<i.length;l++){const d=i[l];t.mergedAttrs=Yl(t.mergedAttrs,d.hostAttrs),Ete(n,t,e,c,d),wte(c,d,r),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function ute(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,l=null;for(let d=e.directiveStart;d<r;d++){const h=o[d],f=t?t.get(h):null,g=f?f.outputs:null;c=rU(0,h.inputs,d,c,f?f.inputs:null),l=rU(1,h.outputs,d,l,g);const b=null===c||null===s||ih(e)?null:Ste(c,d,s);a.push(b)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(n,t,o)}function aU(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function Kx(){return Zn.lFrame.currentDirectiveIndex}();try{$c(o);for(let a=i;a<r;a++){const c=n.data[a],l=e[a];Wf(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&bte(c,l)}}finally{$c(-1),Wf(s)}}function bte(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function ZD(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function wte(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Pr(e)&&(t[""]=n)}}function Ete(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=Zs(r.type)),s=new Po(o,Pr(r),be);n.blueprint[i]=s,t[i]=s,function mte(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function gte(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,tv(n,t,r.hostVars,Ln),r)}function od(n,e,t,i,r,o){const s=Ps(n,e);!function eO(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?Gn(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[Wn],s,o,n.value,t,i,r)}function Ate(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)ev(i,t,s[a++],s[a++],s[a++],s[a++])}function Ste(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function cU(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function lU(n,e){const t=n.contentQueries;if(null!==t){const i=$(null);try{for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const a=n.data[s];$a(t[r]),a.contentQueries(2,e[s],s)}}}finally{$(i)}}}function vC(n,e){return n[kf]?n[Qb][gc]=e:n[kf]=e,n[Qb]=e,e}function tO(n,e,t){$a(0);const i=$(null);try{e(n,t)}finally{$(i)}}function dU(n){return n[sh]||(n[sh]=[])}function uU(n){return n.cleanup||(n.cleanup=[])}function hU(n,e,t){return(null===n||Pr(n))&&(t=function iy(n){for(;Array.isArray(n);){if("object"==typeof n[ey])return n;n=n[Hr]}return null}(t[e.index])),t[Wn]}function wC(n,e){const t=n[ko],i=t?t.get(ha,null):null;i&&i.handleError(e)}function nO(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++],c=t[o++];ev(n.data[s],e[s],i,a,c,r)}}function yu(n,e,t){const i=xs(e,n);!function fC(n,e,t){n.setValue(e,t)}(n[Wn],i,t)}function Tte(n,e){const t=sa(e,n),i=t[sn];!function Mte(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Hr];null!==r&&null===t[ra]&&(t[ra]=Ny(r,t[ko])),iO(i,t,t[Er])}function iO(n,e,t){fy(e);try{const i=n.viewQuery;null!==i&&tO(1,i,t);const r=n.template;null!==r&&tU(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[bo]?.finishViewCreation(n),n.staticContentQueries&&lU(n,e),n.staticViewQueries&&tO(2,n.viewQuery,t);const o=n.components;null!==o&&function Ite(n,e){for(let t=0;t<e.length;t++)Tte(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[Vn]&=-5,$f()}}function nv(n,e,t,i){const r=$(null);try{const o=e.tView,c=yC(n,o,t,4096&n[Vn]?4096:16,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);c[su]=n[e.index];const d=n[bo];return null!==d&&(c[bo]=d.createEmbeddedView(o)),iO(o,c,t),c}finally{$(r)}}function fU(n,e){const t=Kr+e;if(t<n.length)return n[t]}function Bg(n,e){return!e||null===e.firstChild||_g(n)}function iv(n,e,t,i=!0){const r=e[sn];if(function VD(n,e,t,i){const r=Kr+i,o=t.length;i>0&&(t[r-1][gc]=e),i<o-Kr?(e[gc]=t[r],Ex(t,Kr+i,e)):(t.push(e),e[gc]=null),e[co]=t;const s=e[su];null!==s&&t!==s&&function zD(n,e){const t=n[to];e[Ji]!==e[co][co][Ji]&&(n[Vn]|=Xm.HasTransplantedViews),null===t?n[to]=[e]:t.push(e)}(s,e);const a=e[bo];null!==a&&a.insertView(n),zf(e),e[Vn]|=128}(r,e,n,t),i){const s=bt(t,n),a=e[Wn],c=Fg(a,n[Vc]);null!==c&&function jD(n,e,t,i,r,o){i[Hr]=r,i[us]=e,pn(n,i,t,1,r,o)}(r,n[us],a,e,c,s)}const o=e[ra];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function rO(n,e){const t=gp(n,e);return void 0!==t&&Ng(t[sn],t),t}function rv(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(fr(o)),Ko(o)&&pU(o,i);const s=t.type;if(8&s)rv(n,e,t.child,i);else if(32&s){const a=Ky(t,e);let c;for(;c=a();)i.push(c)}else if(16&s){const a=dt(e,t);if(Array.isArray(a))i.push(...a);else{const c=aa(e[Ji]);rv(c[sn],c,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function pU(n,e){for(let t=Kr;t<n.length;t++){const i=n[t],r=i[sn].firstChild;null!==r&&rv(i[sn],i,r,e)}n[Vc]!==n[Hr]&&e.push(n[Vc])}let mU=[];const kte={...y,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{du(n.lView)},consumerOnSignalRead(){this.lView[oa]=this}},gU=100;function xC(n,e=!0,t=0){const i=n[ks],r=i.rendererFactory;r.begin?.();try{!function Pte(n,e){oO(n,e);let t=0;for(;tg(n);){if(t===gU)throw new We(103,!1);t++,oO(n,1)}}(n,t)}catch(s){throw e&&wC(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function Nte(n,e,t,i){const r=e[Vn];if(!(256&~r))return;e[ks].inlineEffectRunner?.flush(),fy(e);let s=null,a=null;(function Fte(n){return 2!==n.type})(n)&&(a=function Dte(n){return n[oa]??function Ote(n){const e=mU.pop()??Object.create(kte);return e.lView=n,e}(n)}(e),s=xe(a));try{Vf(e),function Gf(n){return Zn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&tU(n,e,t,2,i);const c=!(3&~r);if(c){const h=n.preOrderCheckHooks;null!==h&&qf(e,h,null)}else{const h=n.preOrderHooks;null!==h&&cg(e,h,0,null),lg(e,0)}if(function Lte(n){for(let e=ip(n);null!==e;e=kE(e)){if(!(e[Vn]&Xm.HasTransplantedViews))continue;const t=e[to];for(let i=0;i<t.length;i++){$x(t[i])}}}(e),_U(e,0),null!==n.contentQueries&&lU(n,e),c){const h=n.contentCheckHooks;null!==h&&qf(e,h)}else{const h=n.contentHooks;null!==h&&cg(e,h,1),lg(e,1)}!function ite(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)$c(~r);else{const o=r,s=t[++i],a=t[++i];ng(s,o),a(2,e[o])}}}finally{$c(-1)}}(n,e);const l=n.components;null!==l&&yU(e,l,0);const d=n.viewQuery;if(null!==d&&tO(2,d,i),c){const h=n.viewCheckHooks;null!==h&&qf(e,h)}else{const h=n.viewHooks;null!==h&&cg(e,h,2),lg(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ql]){for(const h of e[Ql])h();e[Ql]=null}e[Vn]&=-73}catch(c){throw du(e),c}finally{null!==a&&(Re(a,s),function Rte(n){n.lView[oa]!==n&&(n.lView=null,mU.push(n))}(a)),$f()}}function _U(n,e){for(let t=ip(n);null!==t;t=kE(t))for(let i=Kr;i<t.length;i++)bU(t[i],e)}function Bte(n,e,t){bU(sa(e,n),t)}function bU(n,e){zc(n)&&oO(n,e)}function oO(n,e){const i=n[sn],r=n[Vn],o=n[oa];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!o?.dirty||!Le(o)),o&&(o.dirty=!1),n[Vn]&=-9217,s)Nte(i,n,i.template,n[Er]);else if(8192&r){_U(n,1);const a=i.components;null!==a&&yU(n,a,1)}}function yU(n,e,t){for(let i=0;i<e.length;i++)Bte(n,e[i],t)}function ov(n){for(n[ks].changeDetectionScheduler?.notify();n;){n[Vn]|=64;const e=aa(n);if(Lf(n)&&!e)return n;n=e}return null}class sv{get rootNodes(){const e=this._lView,t=e[sn];return rv(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Er]}set context(e){this._lView[Er]=e}get destroyed(){return!(256&~this._lView[Vn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[co];if(Ko(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(gp(e,i),ml(t,i))}this._attachedToViewContainer=!1}Ng(this._lView[sn],this._lView)}onDestroy(e){bc(this._lView,e)}markForCheck(){ov(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vn]&=-129}reattach(){zf(this._lView),this._lView[Vn]|=128}detectChanges(){this._lView[Vn]|=1024,xC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new We(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,pC(this._lView[sn],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new We(902,!1);this._appRef=e,zf(this._lView)}}let Ja=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Vte}return n})();const jte=Ja,Ute=class extends jte{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=nv(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new sv(r)}};function Vte(){return EC(rr(),Ft())}function EC(n,e){return 4&n.type?new Ute(e,n,fh(n,e)):null}let AU=()=>null;function jg(n,e){return AU(n,e)}class MC{}class une{}class SU{}class fne{resolveComponentFactory(e){throw function hne(n){const e=Error(`No component factory found for ${Or(n)}.`);return e.ngComponent=n,e}(e)}}let Eh=(()=>{class n{static#e=this.NULL=new fne}return n})();class uO{}let sd=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function pne(){const n=Ft(),t=sa(rr().index,n);return(kr(t)?t:n)[Wn]}()}return n})(),mne=(()=>{class n{static#e=this.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>null})}return n})();const hO={},MU=new Set;function ad(n){MU.has(n)||(MU.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function IU(...n){}class _n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qt(!1),this.onMicrotaskEmpty=new Qt(!1),this.onStable=new Qt(!1),this.onError=new Qt(!1),typeof Zone>"u")throw new We(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function gne(){const n="function"==typeof di.requestAnimationFrame;let e=di[n?"requestAnimationFrame":"setTimeout"],t=di[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function yne(n){const e=()=>{!function bne(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(di,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,pO(n),n.isCheckStableRunning=!0,fO(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),pO(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function vne(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return DU(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),OU(n)}},onInvoke:(t,i,r,o,s,a,c)=>{try{return DU(n),t.invoke(r,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),OU(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,pO(n),fO(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_n.isInAngularZone())throw new We(909,!1)}static assertNotInAngularZone(){if(_n.isInAngularZone())throw new We(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,_ne,IU,IU);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const _ne={};function fO(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function pO(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function DU(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function OU(n){n._nesting--,fO(n)}class RU{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qt,this.onMicrotaskEmpty=new Qt,this.onStable=new Qt,this.onError=new Qt}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let uv=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of t)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>new n})}return n})();function DC(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=hc(r,a):2==o&&(i=hc(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class BU extends Eh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=gi(e);return new pv(t,this.ngModule)}}function jU(n){const e=[];for(const t in n){if(!n.hasOwnProperty(t))continue;const i=n[t];void 0!==i&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:t})}return e}class OC{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Sf(i);const r=this.injector.get(e,hO,i);return r!==hO||t===hO?r:this.parentInjector.get(e,t,i)}}class pv extends SU{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=jU(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return jU(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Ix(n){return n.map(Vm).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){const o=$(null);try{let s=(r=r||this.ngModule)instanceof Yo?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new OC(e,s):e,c=a.get(uO,null);if(null===c)throw new We(407,!1);const l=a.get(mne,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(uv,null),changeDetectionScheduler:a.get(MC,null)},m=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=i?function ote(n,e,t,i){const o=i.get(HE,!1)||t===pc.ShadowDom,s=n.selectRootElement(e,o);return function ste(n){iU(n)}(s),s}(m,i,this.componentDef.encapsulation,a):xh(m,g,function Sne(n){const e=n.toLowerCase();return"svg"===e?_i:"math"===e?"math":null}(g));let v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let D=null;null!==b&&(D=Ny(b,a,!0));const N=JD(0,null,null,1,0,null,null,null,null,null,null),Z=yC(null,N,null,v,null,null,f,m,a,null,D);let G,Oe;fy(Z);try{const ze=this.componentDef;let st,pt=null;ze.findHostDirectiveDefs?(st=[],pt=new Map,ze.findHostDirectiveDefs(ze,st,pt),st.push(ze)):st=[ze];const Je=function Mne(n,e){const t=n[sn],i=si;return n[i]=e,Lg(t,i,2,"#host",null)}(Z,b),yt=function Ine(n,e,t,i,r,o,s){const a=r[sn];!function Dne(n,e,t,i){for(const r of n)e.mergedAttrs=Yl(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(DC(e,e.mergedAttrs,!0),null!==t&&ga(i,t,e))}(i,n,e,s);let c=null;null!==e&&(c=Ny(e,r[ko]));const l=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=yC(r,nU(t),null,d,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&ZD(a,n,i.length-1),vC(r,h),r[n.index]=h}(Je,b,ze,st,Z,f,m);Oe=cu(N,si),b&&function Rne(n,e,t,i){if(i)$b(n,t,["ng-version","17.3.4"]);else{const{attrs:r,classes:o}=function If(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!mc(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&$b(n,t,r),o&&o.length>0&&Fi(n,t,o.join(" "))}}(m,ze,b,i),void 0!==t&&function kne(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(Oe,this.ngContentSelectors,t),G=function One(n,e,t,i,r,o){const s=rr(),a=r[sn],c=Ps(s,r);sU(a,r,s,t,null,i);for(let d=0;d<t.length;d++)Es(mu(r,a,s.directiveStart+d,s),r);aU(a,r,s),c&&Es(c,r);const l=mu(r,a,s.directiveStart+s.componentOffset,s);if(n[Er]=r[Er]=l,null!==o)for(const d of o)d(l,e);return XD(a,s,r),l}(yt,ze,st,pt,Z,[Pne]),iO(N,Z,null)}finally{$f()}return new Tne(this.componentType,G,fh(Oe,Z),Z,Oe)}finally{$(o)}}}class Tne extends une{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new sv(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;nO(o[sn],o,r,e,t),this.previousInputValues.set(e,t),ov(sa(this._tNode.index,o))}}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Pne(){const n=rr();ag(Ft()[sn],n)}let Ss=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Nne}return n})();function Nne(){return zU(rr(),Ft())}const Fne=Ss,UU=class extends Fne{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return fh(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const e=Zf(this._hostTNode,this._hostLView);if(ug(e)){const t=Yf(e,this._hostLView),i=Xf(e);return new No(t[sn].data[i+8],t)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=VU(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Kr}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=jg(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,r,Bg(this._hostTNode,s)),a}createComponent(e,t,i,r,o){const s=e&&!function Rf(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}const c=s?e:new pv(gi(e)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?l:this.parentInjector).get(Yo,null);b&&(o=b)}const d=gi(c.componentType??{}),h=jg(this._lContainer,d?.id??null),m=c.create(l,r,h?.firstChild??null,o);return this.insertImpl(m.hostView,a,Bg(this._hostTNode,h)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function ry(n){return Ko(n[co])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[co],l=new UU(c,c[us],c[co]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(t),s=this._lContainer;return iv(s,r,o,i),e.attachToViewContainerRef(),Ex(bO(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=VU(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=gp(this._lContainer,t);i&&(ml(bO(this._lContainer),t),Ng(i[sn],i))}detach(e){const t=this._adjustIndex(e,-1),i=gp(this._lContainer,t);return i&&null!=ml(bO(this._lContainer),t)?new sv(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function VU(n){return n[8]}function bO(n){return n[8]||(n[8]=[])}function zU(n,e){let t;const i=e[n.index];return Ko(i)?t=i:(t=cU(i,e,null,n),e[n.index]=t,vC(e,t)),HU(t,e,n,i),new UU(t,n,e)}let HU=function WU(n,e,t,i){if(n[Vc])return;let r;r=8&t.type?fr(i):function Lne(n,e){const t=n[Wn],i=t.createComment(""),r=Ps(e,n);return bu(t,Fg(t,r),i,function $D(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Vc]=r},yO=()=>!1;class vO{constructor(e){this.queryList=e,this.matches=null}clone(){return new vO(this.queryList)}setDirty(){this.queryList.setDirty()}}class wO{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new wO(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==SO(e,t).matches&&this.queries[t].setDirty()}}class $U{constructor(e,t,i=null){this.flags=t,this.read=i,this.predicate="string"==typeof e?function Wne(n){return n.split(",").map(e=>e.trim())}(e):e}}class xO{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new xO(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class EO{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new EO(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Vne(t,o)),this.matchTNodeWithReadOption(e,t,pg(t,e,o,!1,!1))}else i===Ja?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,pg(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===On||r===Ss||r===Ja&&4&t.type)this.addMatch(t.index,-2);else{const o=pg(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Vne(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Hne(n,e,t,i){return-1===t?function zne(n,e){return 11&n.type?fh(n,e):4&n.type?EC(n,e):null}(e,n):-2===t?function Gne(n,e,t){return t===On?fh(e,n):t===Ja?EC(e,n):t===Ss?zU(e,n):void 0}(n,e,i):mu(n,n[sn],t,e)}function qU(n,e,t,i){const r=e[bo].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:Hne(e,o[l],s[c+1],t.metadata.read))}r.matches=a}return r.matches}function CO(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=qU(n,e,r,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],d=e[-c];for(let h=Kr;h<d.length;h++){const f=d[h];f[su]===f[co]&&CO(f[sn],f,l,i)}if(null!==d[to]){const h=d[to];for(let f=0;f<h.length;f++){const m=h[f];CO(m[sn],m,l,i)}}}}}return i}function XU(n,e,t){const i=new ph(!(4&~t));return function lte(n,e,t,i){const r=dU(e);r.push(t),n.firstCreatePass&&uU(n).push(i,r.length-1)}(n,e,i,i.destroy),(e[bo]??=new wO).queries.push(new vO(i))-1}function JU(n,e,t){null===n.queries&&(n.queries=new xO),n.queries.track(new EO(e,t))}function SO(n,e){return n.queries.getByIndex(e)}function QU(n,e){const t=n[sn],i=SO(t,e);return i.crossesNgTemplate?CO(t,n,e,[]):qU(t,n,i,e)}function RC(n){return"function"==typeof n&&void 0!==n[z]}function eV(n){return RC(n)&&"function"==typeof n.set}function ui(n){let e=function uV(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(Pr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new We(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=PC(n.inputs),s.inputTransforms=PC(n.inputTransforms),s.declaredInputs=PC(n.declaredInputs),s.outputs=PC(n.outputs);const a=r.hostBindings;a&&aie(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&oie(n,c),l&&sie(n,l),iie(n,r),$l(n.outputs,r.outputs),Pr(r)&&r.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ui&&(t=!1)}}e=Object.getPrototypeOf(e)}!function rie(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Yl(r.hostAttrs,t=Yl(t,r.hostAttrs))}}(i)}function iie(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const i=e.inputs[t];if(void 0!==i&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],null!==e.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function PC(n){return n===Mt?{}:n===nn?[]:n}function oie(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function sie(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function aie(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function Gr(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}class bp{}class mV{}class MO extends bp{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BU(this);const r=function ws(n,e){const t=n[_x]||null;if(!t&&!0===e)throw new Error(`Type ${Or(n)} does not have '\u0275mod' property.`);return t}(e);this._bootstrapComponents=function Cr(n){return n instanceof Function?n():n}(r.bootstrap),this._r3Injector=yE(e,t,[{provide:bp,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver},...i],Or(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class IO extends mV{constructor(e){super(),this.moduleType=e}create(e){return new MO(this.moduleType,e,[])}}class gV extends bp{constructor(e){super(),this.componentFactoryResolver=new BU(this),this.instance=null;const t=new yl([...e.providers,{provide:bp,useValue:this},{provide:Eh,useValue:this.componentFactoryResolver}],e.parent||Se(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}let Sh=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new _e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FC(n){return!!function OO(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function cd(n,e,t){return n[e]=t}function Fo(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function yp(n,e,t,i){const r=Fo(n,e,t);return Fo(n,e+1,i)||r}function mn(n,e,t,i,r,o,s,a){const c=Ft(),l=Mi(),d=n+si,h=l.firstCreatePass?function vie(n,e,t,i,r,o,s,a,c){const l=e.consts,d=Lg(e,n,4,s||null,_c(l,a));QD(e,t,d,_c(l,c)),ag(e,d);const h=d.tView=JD(2,d,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,l,c,e,t,i,r,o,s):l.data[d];yc(h,!1);const f=_V(l,c,h,n);lh()&&ke(l,c,f,h),Es(f,c);const m=cU(f,c,f,h);return c[d]=m,vC(c,m),function GU(n,e,t){return yO(n,e,t)}(m,h,c),Ff(h)&&YD(l,c,h),null!=s&&KD(c,h,a),mn}let _V=function bV(n,e,t,i){return Nr(!0),e[Wn].createComment("")};function ci(n,e,t,i){const r=Ft();return Fo(r,Oa(),e)&&(Mi(),od(Qi(),r,n,e,t,i)),ci}function Xg(n,e,t,i){return Fo(n,Oa(),t)?e+Gn(t)+i:Ln}function Yg(n,e,t,i,r,o){const a=yp(n,function Gc(){return Zn.lFrame.bindingIndex}(),t,r);return Wa(2),a?e+Gn(t)+i+Gn(r)+o:Ln}function HC(n,e){return n<<17|e<<2}function Mh(n){return n>>17&32767}function VO(n){return 2|n}function wp(n){return(131068&n)>>2}function zO(n,e){return-131069&n|e<<2}function HO(n){return 1|n}function YV(n,e,t,i){const r=n[t+1],o=null===e;let s=i?Mh(r):wp(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];ore(n[s],e)&&(a=!0,n[s+1]=i?HO(l):VO(l)),s=i?Mh(l):wp(l)}a&&(n[t+1]=i?VO(r):HO(r))}function ore(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&gl(n,e)>=0}const fs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function KV(n){return n.substring(fs.key,fs.keyEnd)}function sre(n){return n.substring(fs.value,fs.valueEnd)}function JV(n,e){const t=fs.textEnd;return t===e?-1:(e=fs.keyEnd=function lre(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,fs.key=e,t),n_(n,e,t))}function QV(n,e){const t=fs.textEnd;let i=fs.key=n_(n,e,t);return t===i?-1:(i=fs.keyEnd=function dre(n,e,t){let i;for(;e<t&&(45===(i=n.charCodeAt(e))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)e++;return e}(n,i,t),i=ez(n,i,t),i=fs.value=n_(n,i,t),i=fs.valueEnd=function ure(n,e,t){let i=-1,r=-1,o=-1,s=e,a=s;for(;s<t;){const c=n.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=tz(n,c,s,t):e===s-4&&85===o&&82===r&&76===i&&40===c?a=s=tz(n,41,s,t):c>32&&(a=s),o=r,r=i,i=-33&c}return a}(n,i,t),ez(n,i,t))}function ZV(n){fs.key=0,fs.keyEnd=0,fs.value=0,fs.valueEnd=0,fs.textEnd=n.length}function n_(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ez(n,e,t,i){return(e=n_(n,e,t))<t&&e++,e}function tz(n,e,t,i){let r=-1,o=t;for(;o<i;){const s=n.charCodeAt(o++);if(s==e&&92!==r)return o;r=92==s&&92===r?0:s}throw new Error}function Dt(n,e,t){const i=Ft();return Fo(i,Oa(),e)&&Ka(Mi(),Qi(),i,n,e,i[Wn],t,!1),Dt}function GO(n,e,t,i,r){const s=r?"class":"style";nO(n,t,e.inputs[s],s,i)}function Ih(n,e,t){return Tl(n,e,t,!1),Ih}function bn(n,e){return Tl(n,e,null,!0),bn}function hre(n,e){for(let t=function cre(n){return ZV(n),QV(n,n_(n,0,fs.textEnd))}(e);t>=0;t=QV(e,t))rz(n,KV(e),sre(e))}function vi(n){Ml(bre,ld,n,!0)}function ld(n,e){for(let t=function are(n){return ZV(n),JV(n,n_(n,0,fs.textEnd))}(e);t>=0;t=JV(e,t))Ma(n,KV(e),!0)}function Tl(n,e,t,i){const r=Ft(),o=Mi(),s=Wa(2);o.firstUpdatePass&&iz(o,n,s,i),e!==Ln&&Fo(r,s,e)&&oz(o,o.data[Qo()],r,r[Wn],n,r[s+1]=function vre(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Or(ma(n)))),n}(e,t),i,s)}function Ml(n,e,t,i){const r=Mi(),o=Wa(2);r.firstUpdatePass&&iz(r,null,o,i);const s=Ft();if(t!==Ln&&Fo(s,o,t)){const a=r.data[Qo()];if(az(a,i)&&!nz(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=hc(c,t||"")),GO(r,a,s,t,i)}else!function yre(n,e,t,i,r,o,s,a){r===Ln&&(r=nn);let c=0,l=0,d=0<r.length?r[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const f=c<r.length?r[c+1]:void 0,m=l<o.length?o[l+1]:void 0;let b,g=null;d===h?(c+=2,l+=2,f!==m&&(g=h,b=m)):null===h||null!==d&&d<h?(c+=2,g=d):(l+=2,g=h,b=m),null!==g&&oz(n,e,t,i,g,b,s,a),d=c<r.length?r[c]:null,h=l<o.length?o[l]:null}}(r,a,s,s[Wn],s[o+1],s[o+1]=function _re(n,e,t){if(null==t||""===t)return nn;const i=[],r=ma(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,o)}}function nz(n,e){return e>=n.expandoStartIndex}function iz(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[Qo()],s=nz(n,t);az(o,i)&&null===e&&!s&&(e=!1),e=function fre(n,e,t,i){const r=uy(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=wv(t=WO(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=WO(r,n,e,t,i),null===o){let c=function pre(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==wp(i))return n[Mh(i)]}(n,e,i);void 0!==c&&Array.isArray(c)&&(c=WO(null,n,e,c[1],i),c=wv(c,e.attrs,i),function mre(n,e,t,i){n[Mh(t?e.classBindings:e.styleBindings)]=i}(n,e,i,c))}else o=function gre(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=wv(i,n[o].hostAttrs,t);return wv(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function ire(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=Mh(s),c=wp(s);n[i]=t;let d,l=!1;if(Array.isArray(t)?(d=t[1],(null===d||gl(t,d)>0)&&(l=!0)):d=t,r)if(0!==c){const f=Mh(n[a+1]);n[i+1]=HC(f,a),0!==f&&(n[f+1]=zO(n[f+1],i)),n[a+1]=function tre(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=HC(a,0),0!==a&&(n[a+1]=zO(n[a+1],i)),a=i;else n[i+1]=HC(c,0),0===a?a=i:n[c+1]=zO(n[c+1],i),c=i;l&&(n[i+1]=VO(n[i+1])),YV(n,d,i,!0),YV(n,d,i,!1),function rre(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&gl(o,e)>=0&&(t[i+1]=HO(t[i+1]))}(e,d,n,i,o),s=HC(a,c),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}function WO(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=wv(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function wv(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ma(n,s,!!t||e[++o]))}return void 0===n?null:n}function rz(n,e,t){Ma(n,e,ma(t))}function bre(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Ma(n,i,t)}function oz(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const c=n.data,l=c[a+1],d=function nre(n){return!(1&~n)}(l)?sz(c,e,t,r,wp(l),s):void 0;GC(d)||(GC(o)||function ere(n){return!(2&~n)}(l)&&(o=sz(c,null,t,r,a,s)),function Kn(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:rd.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=rd.Important),n.setStyle(t,i,r,o))}}(i,s,xs(Qo(),t),r,o))}function sz(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),d=l?c[1]:c,h=null===d;let f=t[r+1];f===Ln&&(f=h?nn:void 0);let m=h?Wb(f,i):d===i?f:void 0;if(l&&!GC(m)&&(m=Wb(c,i)),GC(m)&&(a=m,s))return a;const g=n[r+1];r=s?Mh(g):wp(g)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=Wb(c,i))}return a}function GC(n){return void 0!==n}function az(n,e){return!!(n.flags&(e?8:16))}class Dre{destroy(e){}updateValue(e,t){}swap(e,t){const i=Math.min(e,t),r=Math.max(e,t),o=this.detach(r);if(r-i>1){const s=this.detach(i);this.attach(i,o),this.attach(r,s)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}}function $O(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function qO(n,e,t,i){return!(void 0===e||!e.has(i)||(n.attach(t,e.get(i)),e.delete(i),0))}function lz(n,e,t,i,r){if(qO(n,e,i,t(i,r)))n.updateValue(i,r);else{const o=n.create(i,r);n.attach(i,o)}}function dz(n,e,t,i){const r=new Set;for(let o=e;o<=t;o++)r.add(i(o,n.at(o)));return r}class uz{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}}function Hi(n,e,t){ad("NgControlFlow");const i=Ft(),r=Oa(),o=XO(i,si+n);if(Fo(i,r,e)){const a=$(null);try{if(rO(o,0),-1!==e){const c=YO(i[sn],si+e),l=jg(o,c.tView.ssrId);iv(o,nv(i,c,t,{dehydratedView:l}),0,Bg(c,l))}}finally{$(a)}}else{const a=fU(o,0);void 0!==a&&(a[Er]=t)}}class Rre{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Kr}}function hz(n,e){return e}class Pre{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}}class Nre extends Dre{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Kr}at(e){return this.getLView(e)[Er].$implicit}attach(e,t){const i=t[ra];this.needsIndexUpdate||=e!==this.length,iv(this.lContainer,t,e,Bg(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function Fre(n,e){return gp(n,e)}(this.lContainer,e)}create(e,t){const i=jg(this.lContainer,this.templateTNode.tView.ssrId);return nv(this.hostLView,this.templateTNode,new Rre(this.lContainer,t,e),{dehydratedView:i})}destroy(e){Ng(e[sn],e)}updateValue(e,t){this.getLView(e)[Er].$implicit=t}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Er].$index=e}getLView(e){return function Lre(n,e){return fU(n,e)}(this.lContainer,e)}}function XO(n,e){return n[e]}function YO(n,e){return cu(n,e)}function Ye(n,e,t,i){const r=Ft(),o=Mi(),s=si+n,a=r[Wn],c=o.firstCreatePass?function Bre(n,e,t,i,r,o){const s=e.consts,c=Lg(e,n,2,i,_c(s,r));return QD(e,t,c,_c(s,o)),null!==c.attrs&&DC(c,c.attrs,!1),null!==c.mergedAttrs&&DC(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,r,e,t,i):o.data[s],l=mz(o,r,c,a,e,n);r[s]=l;const d=Ff(c);return yc(c,!0),ga(a,l,c),!function _v(n){return!(32&~n.flags)}(c)&&lh()&&ke(o,r,l,c),0===function cI(){return Zn.lFrame.elementDepthCount}()&&Es(l,r),function lI(){Zn.lFrame.elementDepthCount++}(),d&&(YD(o,r,c),XD(o,c,r)),null!==i&&KD(r,c),Ye}function et(){let n=rr();ed()?hu():(n=n.parent,yc(n,!1));const e=n;(function uI(n){return Zn.skipHydrationRootTNode===n})(e)&&function Hc(){Zn.skipHydrationRootTNode=null}(),function dI(){Zn.lFrame.elementDepthCount--}();const t=Mi();return t.firstCreatePass&&(ag(t,n),ch(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function _I(n){return!!(8&n.flags)}(e)&&GO(t,e,Ft(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function bI(n){return!!(16&n.flags)}(e)&&GO(t,e,Ft(),e.stylesWithoutHost,!1),et}function yn(n,e,t,i){return Ye(n,e,t,i),et(),yn}let mz=(n,e,t,i,r,o)=>(Nr(!0),xh(i,r,function eE(){return Zn.lFrame.currentNamespace}()));function xv(n,e,t){const i=Ft(),r=Mi(),o=n+si,s=r.firstCreatePass?function Vre(n,e,t,i,r){const o=e.consts,s=_c(o,i),a=Lg(e,n,8,"ng-container",s);return null!==s&&DC(a,s,!0),QD(e,t,a,_c(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];yc(s,!0);const a=gz(r,i,s,n);return i[o]=a,lh()&&ke(r,i,a,s),Es(a,i),Ff(s)&&(YD(r,i,s),XD(r,s,i)),null!=t&&KD(i,s),xv}function Ev(){let n=rr();const e=Mi();return ed()?hu():(n=n.parent,yc(n,!1)),e.firstCreatePass&&(ag(e,n),ch(n)&&e.queries.elementEnd(n)),Ev}function KO(n,e,t){return xv(n,e,t),Ev(),KO}let gz=(n,e,t,i)=>(Nr(!0),mp(e[Wn],""));function qi(){return Ft()}function ka(n,e,t){const i=Ft();return Fo(i,Oa(),e)&&Ka(Mi(),Qi(),i,n,e,i[Wn],t,!0),ka}function Cv(n,e,t){const i=Ft();if(Fo(i,Oa(),e)){const o=Mi(),s=Qi();Ka(o,s,i,n,e,hU(uy(o.data),s,i),t,!0)}return Cv}const xp=void 0;var Wre=["en",[["a","p"],["AM","PM"],xp],[["AM","PM"],xp,xp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xp,"{1} 'at' {0}",xp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Gre(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let i_={};function bz(n){return n in i_||(i_[n]=di.ng&&di.ng.common&&di.ng.common.locales&&di.ng.common.locales[n]),i_[n]}var Wr=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Wr||{});const r_="en-US";let yz=r_;function Lt(n,e,t,i){const r=Ft(),o=Mi(),s=rr();return ZO(o,r,r[Wn],s,n,e,i),Lt}function YC(n,e){const t=rr(),i=Ft(),r=Mi();return ZO(r,i,hU(uy(r.data),t,i),t,n,e),YC}function ZO(n,e,t,i,r,o,s){const a=Ff(i),l=n.firstCreatePass&&uU(n),d=e[Er],h=dU(e);let f=!0;if(3&i.type||s){const b=Ps(i,e),v=s?s(b):b,D=h.length,N=s?G=>s(fr(G[i.index])):i.index;let Z=null;if(!s&&a&&(Z=function zoe(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[sh],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=o,Z.__ngLastListenerFn__=o,f=!1;else{o=$z(i,e,d,o,!1);const G=t.listen(v,r,o);h.push(o,G),l&&l.push(r,N,D,D+1)}}else o=$z(i,e,d,o,!1);const m=i.outputs;let g;if(f&&null!==m&&(g=m[r])){const b=g.length;if(b)for(let v=0;v<b;v+=2){const Oe=e[g[v]][g[v+1]].subscribe(o),ze=h.length;h.push(o,Oe),l&&l.push(r,i.index,ze,-(ze+1))}}}function Wz(n,e,t,i){const r=$(null);try{return Ga(6,e,t),!1!==t(i)}catch(o){return wC(n,o),!1}finally{Ga(7,e,t),$(r)}}function $z(n,e,t,i,r){return function o(s){if(s===Function)return i;ov(n.componentOffset>-1?sa(n.index,e):e);let c=Wz(e,t,i,s),l=o.__ngNextListenerFn__;for(;l;)c=Wz(e,t,l,s)&&c,l=l.__ngNextListenerFn__;return r&&!1===c&&s.preventDefault(),c}}function Tn(n=1){return function my(n){return(Zn.lFrame.contextLView=function eg(n,e){for(;n>0;)e=e[ah],n--;return e}(n,Zn.lFrame.contextLView))[Er]}(n)}function Hoe(n,e){let t=null;const i=function jm(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?_l(n,o,!0):Mx(i,o))return r}else t=r}return t}function br(n){const e=Ft()[Ji][us];if(!e.projection){const i=e.projection=function ta(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?Hoe(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Un(n,e=0,t){const i=Ft(),r=Mi(),o=Lg(r,si+n,16,null,t||null);null===o.projection&&(o.projection=e),hu(),(!i[ra]||uu())&&32&~o.flags&&function Pn(n,e,t){$n(e[Wn],0,e,t,Zy(n,t,e),u(t.parent||e[us],t,e))}(r,i,o)}function KC(n,e,t){return eR(n,"",e,"",t),KC}function eR(n,e,t,i,r){const o=Ft(),s=Xg(o,e,t,i);return s!==Ln&&Ka(Mi(),Qi(),o,n,s,o[Wn],r,!1),eR}function pr(n,e,t,i){!function KU(n,e,t,i){const r=Mi();if(r.firstCreatePass){const o=rr();JU(r,new $U(e,t,i),o.index),function $ne(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return XU(r,Ft(),t)}(n,e,t,i)}function Di(n,e,t){!function YU(n,e,t){const i=Mi();return i.firstCreatePass&&(JU(i,new $U(n,e,t),-1),!(2&~e)&&(i.staticViewQueries=!0)),XU(i,Ft(),e)}(n,e,t)}function In(n){const e=Ft(),t=Mi(),i=ig();$a(i+1);const r=SO(t,i);if(n.dirty&&function Da(n){return!(4&~n[Vn])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=QU(e,i);n.reset(o,EE),n.notifyOnChanges()}return!0}return!1}function Dn(){return function AO(n,e){return n[bo].queries[e].queryList}(Ft(),ig())}function Ts(n){return lu(function hI(){return Zn.lFrame.contextLView}(),si+n)}function Xt(n,e=""){const t=Ft(),i=Mi(),r=n+si,o=i.firstCreatePass?Lg(i,r,1,e,null):i.data[r],s=d4(i,t,o,e,n);t[r]=s,lh()&&ke(i,t,s,o),yc(o,!1)}let d4=(n,e,t,i,r)=>(Nr(!0),function Jy(n,e){return n.createText(e)}(e[Wn],i));function jo(n){return yo("",n,""),jo}function yo(n,e,t){const i=Ft(),r=Xg(i,n,e,t);return r!==Ln&&yu(i,Qo(),r),yo}function JC(n,e,t,i,r){const o=Ft(),s=Yg(o,n,e,t,i,r);return s!==Ln&&yu(o,Qo(),s),JC}function tR(n,e,t){eV(e)&&(e=e());const i=Ft();return Fo(i,Oa(),e)&&Ka(Mi(),Qi(),i,n,e,i[Wn],t,!1),tR}function nR(n,e){const t=Ft(),i=Mi(),r=rr();return ZO(i,t,t[Wn],r,n,e),nR}function iR(n,e,t,i,r){if(n=Hn(n),Array.isArray(n))for(let o=0;o<n.length;o++)iR(n[o],e,t,i,r);else{const o=Mi(),s=Ft(),a=rr();let c=nu(n)?n:Hn(n.provide);const l=Px(n),d=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(nu(n)||!n.multi){const m=new Po(l,r,be),g=oR(c,e,r?d:d+f,h);-1===g?(qa(Jf(a,s),o,c),rR(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[g]=m,s[g]=m)}else{const m=oR(c,e,d+f,h),g=oR(c,e,d,d+f),v=g>=0&&t[g];if(r&&!v||!r&&!(m>=0&&t[m])){qa(Jf(a,s),o,c);const D=function cse(n,e,t,i,r){const o=new Po(n,t,be);return o.multi=[],o.index=e,o.componentProviders=0,y4(o,r,i&&!t),o}(r?ase:sse,t.length,r,i,l);!r&&v&&(t[g].providerFactory=D),rR(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(D),s.push(D)}else rR(o,n,m>-1?m:g,y4(t[r?g:m],l,!r&&i));!r&&i&&v&&t[g].componentProviders++}}}function rR(n,e,t,i){const r=nu(e),o=function jM(n){return!!n.useClass}(e);if(r||o){const c=(o?Hn(e.useClass):e).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const d=l.indexOf(t);-1===d?l.push(t,[i,c]):l[d+1].push(i,c)}else l.push(t,c)}}}function y4(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function oR(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function sse(n,e,t,i){return sR(this.multi,[])}function ase(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=mu(t,t[sn],this.providerFactory.index,i);o=a.slice(0,s),sR(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],sR(r,o);return o}function sR(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Jn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function ose(n,e,t){const i=Mi();if(i.firstCreatePass){const r=Pr(n);iR(t,i.data,i.blueprint,r,!0),iR(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}let lse=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=eu(0,t.type),r=i.length>0?function DO(n,e,t=null){return new gV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Rt({token:n,providedIn:"environment",factory:()=>new n(Ke(Yo))})}return n})();function Li(n){ad("NgStandalone"),n.getStandaloneInjector=e=>e.get(lse).getOrCreateStandaloneInjector(n)}function Ep(n,e,t){const i=Jo()+n,r=Ft();return r[i]===Ln?cd(r,i,t?e.call(t):e()):function gv(n,e){return n[e]}(r,i)}function Ov(n,e){const t=n[e];return t===Ln?void 0:t}function ei(n,e){const t=Mi();let i;const r=n+si;t.firstCreatePass?(i=function wse(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];const o=i.factory||(i.factory=Zs(i.type)),a=Rs(be);try{const c=Kf(!1),l=o();return Kf(c),function qoe(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,Ft(),r,l),l}finally{Rs(a)}}function ti(n,e,t){const i=n+si,r=Ft(),o=lu(r,i);return Rv(r,i)?function w4(n,e,t,i,r,o){const s=e+t;return Fo(n,s,r)?cd(n,s+1,o?i.call(o,r):i(r)):Ov(n,s+1)}(r,Jo(),e,o.transform,t,o):o.transform(t)}function S4(n,e,t,i){const r=n+si,o=Ft(),s=lu(o,r);return Rv(o,r)?function x4(n,e,t,i,r,o,s){const a=e+t;return yp(n,a,r,o)?cd(n,a+2,s?i.call(s,r,o):i(r,o)):Ov(n,a+2)}(o,Jo(),e,s.transform,t,i,s):s.transform(t,i)}function Rv(n,e){return n[sn].data[e].pure}function kv(n,e){return EC(n,e)}const q4=new vt(""),t1=new vt("");let pR,hR=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,pR||(function _ae(n){pR=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(_n),Ke(fR),Ke(t1))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})(),fR=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return pR?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function a_(n){return!!n&&"function"==typeof n.then}function X4(n){return!!n&&"function"==typeof n.subscribe}const mR=new vt("");let gR=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=kt(mR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(a_(o))t.push(o);else if(X4(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fv=new vt("");function J4(n,e){return Array.isArray(e)?e.reduce(J4,n):{...n,...e}}let vu=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=kt(wE),this.afterRenderEffectManager=kt(uv),this.externalTestViews=new Set,this.beforeRender=new en,this.afterTick=new en,this.componentTypes=[],this.components=[],this.isStable=kt(Sh).hasPendingTasks.pipe(le(t=>!t)),this._injector=kt(Yo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof SU;if(!this._injector.get(gR).done)throw!r&&function Kl(n){const e=gi(n)||Oo(n)||Xo(n);return null!==e&&e.standalone}(t),new We(405,!1);let s;s=r?t:this._injector.get(Eh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function bae(n){return n.isBoundToModule}(s)?void 0:this._injector.get(bp),l=s.create(bi.NULL,[],i||s.selector,a),d=l.location.nativeElement,h=l.injector.get(q4,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),n1(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new We(101,!1);const i=$(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,$(i)}}detectChangesInAttachedViews(t){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===gU)throw new We(103,!1);if(t){const o=0===i;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)vae(s,o,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_R(o))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>_R(o))))break}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;n1(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(Fv,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>n1(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new We(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function vae(n,e,t){!e&&!_R(n)||function wae(n,e,t){let i;t?(i=0,n[Vn]|=1024):i=64&n[Vn]?0:1,xC(n,e,i)}(n,t,e)}function _R(n){return tg(n)}let Sae=(()=>{class n{constructor(){this.zone=kt(_n),this.applicationRef=kt(vu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tae(){const n=kt(_n),e=kt(ha);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Iae=(()=>{class n{constructor(){this.subscription=new Ht,this.initialized=!1,this.zone=kt(_n),this.pendingTasks=kt(Sh)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_n.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_n.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dd=new vt("",{providedIn:"root",factory:()=>kt(dd,Pi.Optional|Pi.SkipSelf)||function Dae(){return typeof $localize<"u"&&$localize.locale||r_}()}),bR=new vt("");let tH=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function wne(n="zone.js",e){return"noop"===n?new RU:"zone.js"===n?new _n(e):n}(i?.ngZone,function eH(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function pie(n,e,t){return new MO(n,e,t)}(t.moduleType,this.injector,function Z4(n){return[{provide:_n,useFactory:n},{provide:Yn,multi:!0,useFactory:()=>{const e=kt(Sae,{optional:!0});return()=>e.initialize()}},{provide:Yn,multi:!0,useFactory:()=>{const e=kt(Iae);return()=>{e.initialize()}}},{provide:wE,useFactory:Tae}]}(()=>r)),s=o.injector.get(ha,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{n1(this._modules,o),a.unsubscribe()})}),function K4(n,e,t){try{const i=t();return a_(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(gR);return a.runInitializers(),a.donePromise.then(()=>(function vz(n){"string"==typeof n&&(yz=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(dd,r_)||r_),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=J4({},i);return function Aae(n,e,t){const i=new IO(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(vu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new We(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new We(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(bR,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(bi))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Oh=null;const nH=new vt("");function iH(n,e,t=[]){const i=`Platform: ${e}`,r=new vt(i);return(o=[])=>{let s=yR();if(!s||s.injector.get(nH,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function kae(n){if(Oh&&!Oh.get(nH,!1))throw new We(400,!1);(function Y4(){!function Ne(n){Q=n}(()=>{throw new We(600,!1)})})(),Oh=n;const e=n.get(tH);(function oH(n){n.get(sp,null)?.forEach(t=>t())})(n)}(function rH(n=[],e){return bi.create({name:e,providers:[{provide:Yb,useValue:"platform"},{provide:bR,useValue:new Set([()=>Oh=null])},...n]})}(a,i))}return function Pae(n){const e=yR();if(!e)throw new We(401,!1);return e}()}}function yR(){return Oh?.get(tH)??null}let Ai=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Fae}return n})();function Fae(n){return function Lae(n,e,t){if(Ia(n)&&!t){const i=sa(n.index,e);return new sv(i,i)}return 47&n.type?new sv(e[Ji],e):null}(rr(),Ft(),!(16&~n))}class dH{constructor(){}supports(e){return FC(e)}create(e){return new zae(e)}}const Vae=(n,e)=>e;class zae{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Vae}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<hH(i,r,o)?t:i,a=hH(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,d=c-r;if(l!=d){for(let f=0;f<l;f++){const m=f<o.length?o[f]:o[f]=0,g=m+f;d<=g&&g<l&&(o[f]=m+1)}o[s.previousIndex]=d-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!FC(e))throw new We(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function bie(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Hae(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new uH),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uH),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Hae{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Gae{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class uH{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new Gae,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hH(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function pH(){return new CR([new dH])}let CR=(()=>{class n{static#e=this.\u0275prov=Rt({token:n,providedIn:"root",factory:pH});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||pH()),deps:[[n,new eh,new Zu]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new We(901,!1)}}return n})();const Yae=iH(null,"core",[]);let Kae=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(vu))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();function vn(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Uo(n,e=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?e:Number(n)}function LH(n){const e=$(null);try{return n()}finally{$(e)}}const Sce=new vt("",{providedIn:"root",factory:()=>kt(Tce)});let Tce=(()=>{class n{static#e=this.\u0275prov=Rt({token:n,providedIn:"root",factory:()=>new Mce})}return n})();class Mce{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=kt(Sh),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),null===this.taskId){const t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){const t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);const i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}class Ice{constructor(e,t,i,r,o,s){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=o,this.watcher=function ge(n,e,t){const i=Object.create(ve);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=c=>{i.cleanupFn=c};return i.ref={notify:()=>ie(i),run:()=>{if(null===i.fn)return;if(function j(){return F}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Le(i))return;i.hasRun=!0;const c=xe(i);try{i.cleanupFn(),i.cleanupFn=$e,i.fn(r)}finally{Re(i,c)}},cleanup:()=>i.cleanupFn(),destroy:()=>function s(c){(function o(c){return null===c.fn&&null===c.schedule})(c)||(tt(c),c.cleanupFn(),c.fn=null,c.schedule=null,c.cleanupFn=$e)}(i),[z]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),s),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(ha,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function BH(n,e){ad("NgSignals"),!e?.injector&&function za(n){if(!Nx())throw new We(-203,!1)}();const t=e?.injector??kt(bi),i=!0!==e?.manualCleanup?t.get(hh):null,r=new Ice(t.get(Sce),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),o=t.get(Ai,null,{optional:!0});return o&&8&o._lView[Vn]?(o._lView[Ql]??=[]).push(r.watcher.notify):r.watcher.notify(),r}let jH=null;function Rh(){return jH}class Oce{}const ni=new vt("");let UH=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:()=>kt(Rce),providedIn:"platform"})}return n})(),Rce=(()=>{class n extends UH{constructor(){super(),this._doc=kt(ni),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Rh().getBaseHref(this._doc)}onPopState(t){const i=Rh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Rh().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function VH(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function zH(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ap(n){return n&&"?"!==n[0]?"?"+n:n}let f1=(()=>{class n{historyGo(t){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:()=>kt(Pce),providedIn:"root"})}return n})();const kce=new vt("");let Pce=(()=>{class n extends f1{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??kt(ni).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return VH(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ap(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Ap(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Ap(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(UH),Ke(kce,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sp=(()=>{class n{constructor(t){this._subject=new Qt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function Lce(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(zH(HH(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ap(i))}normalize(t){return n.stripTrailingSlash(function Fce(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,HH(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ap(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ap(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Ap;static#t=this.joinWithSlash=VH;static#n=this.stripTrailingSlash=zH;static#i=this.\u0275fac=function(i){return new(i||n)(Ke(f1))};static#r=this.\u0275prov=Rt({token:n,factory:()=>function Nce(){return new Sp(Ke(f1))}(),providedIn:"root"})}return n})();function HH(n){return n.replace(/\/index.html$/,"")}var l_=function(n){return n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other",n}(l_||{});const Wce=function _z(n){return function Pa(n){const e=function $re(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=bz(e);if(t)return t;const i=e.split("-")[0];if(t=bz(i),t)return t;if("en"===i)return Wre;throw new We(701,!1)}(n)[Wr.PluralCase]};let NR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:function(i){let r=null;return i?r=new i:(o=Ke(dd),r=new vle(o)),r;var o},providedIn:"root"})}return n})();let vle=(()=>{class n extends NR{constructor(t){super(),this.locale=t}getPluralCategory(t,i){switch(Wce(i||this.locale)(t)){case l_.Zero:return"zero";case l_.One:return"one";case l_.Two:return"two";case l_.Few:return"few";case l_.Many:return"many";default:return"other"}}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(dd))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();function QH(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}const FR=/\s+/,ZH=[];let A1=(()=>{class n{constructor(t,i){this._ngEl=t,this._renderer=i,this.initialClasses=ZH,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(FR):ZH}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(FR):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(FR).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(sd))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[gt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class xle{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zc=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new xle(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),t8(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{t8(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ss),be(Ja),be(CR))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function t8(n,e){n.context.$implicit=e.item}let Za=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Ele,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){n8("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){n8("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ss),be(Ja))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Ele{constructor(){this.$implicit=null,this.ngIf=null}}function n8(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Or(e)}'.`)}let r8=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ss))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_r]})}return n})();function Dl(n,e){return new We(2100,!1)}class Ile{createSubscription(e,t){return LH(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){LH(()=>e.unsubscribe())}}class Dle{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Ole=new Dle,Rle=new Ile;let ud=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(a_(t))return Ole;if(X4(t))return Rle;throw Dl()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ai,16))};static#t=this.\u0275pipe=Do({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Vle=/#/g;let o8=(()=>{class n{constructor(t){this._localization=t}transform(t,i,r){if(null==t)return"";if("object"!=typeof i||null===i)throw Dl();return i[function JH(n,e,t,i){let r=`=${n}`;if(e.indexOf(r)>-1||(r=t.getPluralCategory(n,i),e.indexOf(r)>-1))return r;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(t,Object.keys(i),this._localization,r)].replace(Vle,t.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(be(NR,16))};static#t=this.\u0275pipe=Do({name:"i18nPlural",type:n,pure:!0,standalone:!0})}return n})(),s8=(()=>{class n{transform(t){return JSON.stringify(t,null,2)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=Do({name:"json",type:n,pure:!1,standalone:!0})}return n})(),Bi=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();const c8="browser",Xle="server";function hd(n){return n===c8}function Uv(n){return n===Xle}class l8{}class Ade extends Oce{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zR extends Ade{static makeCurrent(){!function Dce(n){jH??=n}(new zR)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Sde(){return Hv=Hv||document.querySelector("base"),Hv?Hv.getAttribute("href"):null}();return null==t?null:function Tde(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Hv=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return QH(document.cookie,e)}}let Hv=null,Ide=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const HR=new vt("");let b8=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new We(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(HR),Ke(_n))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();class y8{constructor(e){this._doc=e}}const GR="ng-app-id";let v8=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Uv(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${GR}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(GR),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(GR,this.appId),t.appendChild(s),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(op),Ke(ap,8),Ke(Ns))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const WR={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$R=/%COMP%/g,kde=new vt("",{providedIn:"root",factory:()=>!0});function x8(n,e){return e.map(t=>t.replace($R,n))}let qR=(()=>{class n{constructor(t,i,r,o,s,a,c,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Uv(a),this.defaultRenderer=new XR(t,s,c,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===pc.ShadowDom&&(i={...i,encapsulation:pc.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof C8?r.applyToHost(t):r instanceof YR&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case pc.Emulated:o=new C8(c,l,i,this.appId,d,s,a,h);break;case pc.ShadowDom:return new Lde(c,l,t,i,s,a,this.nonce,h);default:o=new YR(c,l,i,d,s,a,h)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(b8),Ke(v8),Ke(op),Ke(kde),Ke(ni),Ke(Ns),Ke(_n),Ke(ap))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();class XR{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(WR[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(E8(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(E8(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new We(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=WR[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=WR[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(rd.DashCase|rd.Important)?e.style.setProperty(t,i,r&rd.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&rd.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=Rh().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function E8(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Lde extends XR{constructor(e,t,i,r,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=x8(r.id,r.styles);for(const d of l){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class YR extends XR{constructor(e,t,i,r,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=c?x8(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class C8 extends YR{constructor(e,t,i,r,o,s,a,c){const l=r+"-"+i.id;super(e,t,i,o,s,a,c,l),this.contentAttr=function Pde(n){return"_ngcontent-%COMP%".replace($R,n)}(l),this.hostAttr=function Nde(n){return"_nghost-%COMP%".replace($R,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Bde=(()=>{class n extends y8{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const A8=["alt","control","meta","shift"],jde={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ude={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Vde=(()=>{class n extends y8{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rh().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),A8.forEach(l=>{const d=i.indexOf(l);d>-1&&(i.splice(d,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(t,i){let r=jde[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),A8.forEach(s=>{s!==r&&(0,Ude[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const T8=[{provide:Ns,useValue:c8},{provide:sp,useValue:function zde(){zR.makeCurrent()},multi:!0},{provide:ni,useFactory:function Gde(){return function KI(n){xg=n}(document),document},deps:[]}],Wde=iH(Yae,"browser",T8),$de=new vt(""),M8=[{provide:t1,useClass:class Mde{addToWindow(e){di.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new We(5103,!1);return o},di.getAllAngularTestabilities=()=>e.getAllTestabilities(),di.getAllAngularRootElements=()=>e.getAllRootElements(),di.frameworkStabilizers||(di.frameworkStabilizers=[]),di.frameworkStabilizers.push(i=>{const r=di.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Rh().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:q4,useClass:hR,deps:[_n,fR,t1]},{provide:hR,useClass:hR,deps:[_n,fR,t1]}],I8=[{provide:Yb,useValue:"root"},{provide:ha,useFactory:function Hde(){return new ha},deps:[]},{provide:HR,useClass:Bde,multi:!0,deps:[ni,_n,Ns]},{provide:HR,useClass:Vde,multi:!0,deps:[ni]},qR,v8,b8,{provide:uO,useExisting:qR},{provide:l8,useClass:Ide,deps:[]},[]];let KR=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:op,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(Ke($de,12))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[...I8,...M8],imports:[Bi,Kae]})}return n})(),Tp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:function(i){let r=null;return r=i?new(i||n):Ke(Jde),r},providedIn:"root"})}return n})(),Jde=(()=>{class n extends Tp{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case Zo.NONE:return i;case Zo.HTML:return Ra(i,"HTML")?ma(i):eC(this._doc,String(i)).toString();case Zo.STYLE:return Ra(i,"Style")?ma(i):i;case Zo.SCRIPT:if(Ra(i,"Script"))return ma(i);throw new We(5200,!1);case Zo.URL:return Ra(i,"URL")?ma(i):Dg(String(i));case Zo.RESOURCE_URL:if(Ra(i,"ResourceURL"))return ma(i);throw new We(5201,!1);default:throw new We(5202,!1)}}bypassSecurityTrustHtml(t){return function uD(n){return new Ya(n)}(t)}bypassSecurityTrustStyle(t){return function hD(n){return new GE(n)}(t)}bypassSecurityTrustScript(t){return function fD(n){return new cD(n)}(t)}bypassSecurityTrustUrl(t){return function pD(n){return new or(n)}(t)}bypassSecurityTrustResourceUrl(t){return function mD(n){return new lD(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const JR={now:()=>(JR.delegate||Date).now(),delegate:void 0};class kh extends en{constructor(e=1/0,t=1/0,i=JR){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function Nt(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}function ns(n,e){return function(t,i){e(t,i,n)}}function Ie(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function Ph(n){return this instanceof Ph?(this.v=n,this):new Ph(n)}function F8(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function tk(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function r(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const nk=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function L8(n){return Ze(n?.then)}function B8(n){return Ze(n[uc])}function j8(n){return Symbol.asyncIterator&&Ze(n?.[Symbol.asyncIterator])}function U8(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const V8=function gue(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function z8(n){return Ze(n?.[V8])}function H8(n){return function N8(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(m){return new Promise(function(g,b){o.push([f,m,g,b])>1||a(f,m)})})}function a(f,m){try{!function c(f){f.value instanceof Ph?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}(i[f](m))}catch(g){h(o[0][3],g)}}function l(f){a("next",f)}function d(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Ph(t.read());if(r)return yield Ph(void 0);yield yield Ph(i)}}finally{t.releaseLock()}})}function G8(n){return Ze(n?.getReader)}function vo(n){if(n instanceof Ct)return n;if(null!=n){if(B8(n))return function _ue(n){return new Ct(e=>{const t=n[uc]();if(Ze(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(nk(n))return function bue(n){return new Ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(L8(n))return function yue(n){return new Ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ht)})}(n);if(j8(n))return W8(n);if(z8(n))return function vue(n){return new Ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(G8(n))return function wue(n){return W8(H8(n))}(n)}throw U8(n)}function W8(n){return new Ct(e=>{(function xue(n,e){var t,i,r,o;return function k8(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(d){try{l(i.next(d))}catch(h){s(h)}}function c(d){try{l(i.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=F8(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Cu(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function is(n,e,t=1/0){return Ze(e)?is((i,r)=>le((o,s)=>e(i,o,r,s))(vo(n(i,r))),t):("number"==typeof e&&(t=e),S((i,r)=>function Eue(n,e,t,i,r,o,s,a){const c=[];let l=0,d=0,h=!1;const f=()=>{h&&!c.length&&!l&&e.complete()},m=b=>l<i?g(b):c.push(b),g=b=>{o&&e.next(b),l++;let v=!1;vo(t(b,d++)).subscribe(P(e,D=>{r?.(D),o?m(D):e.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<i;){const D=c.shift();s?Cu(e,s,()=>g(D)):g(D)}f()}catch(D){e.error(D)}}))};return n.subscribe(P(e,m,()=>{h=!0,f()})),()=>{a?.()}}(i,r,n,t)))}function Wv(n=1/0){return is(He,n)}const Ls=new Ct(n=>n.complete());function $8(n){return n&&Ze(n.schedule)}function ik(n){return n[n.length-1]}function rk(n){return Ze(ik(n))?n.pop():void 0}function $v(n){return $8(ik(n))?n.pop():void 0}function q8(n,e=0){return S((t,i)=>{t.subscribe(P(i,r=>Cu(i,n,()=>i.next(r),e),()=>Cu(i,n,()=>i.complete(),e),r=>Cu(i,n,()=>i.error(r),e)))})}function X8(n,e=0){return S((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Y8(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ct(t=>{Cu(t,e,()=>{const i=n[Symbol.asyncIterator]();Cu(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ro(n,e){return e?function Rue(n,e){if(null!=n){if(B8(n))return function Tue(n,e){return vo(n).pipe(X8(e),q8(e))}(n,e);if(nk(n))return function Iue(n,e){return new Ct(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(L8(n))return function Mue(n,e){return vo(n).pipe(X8(e),q8(e))}(n,e);if(j8(n))return Y8(n,e);if(z8(n))return function Due(n,e){return new Ct(t=>{let i;return Cu(t,e,()=>{i=n[V8](),Cu(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ze(i?.return)&&i.return()})}(n,e);if(G8(n))return function Oue(n,e){return Y8(H8(n),e)}(n,e)}throw U8(n)}(n,e):vo(n)}function Bs(...n){const e=$v(n),t=function Sue(n,e){return"number"==typeof ik(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?vo(i[0]):Wv(t)(ro(i,e)):Ls}function Br(n,e){return S((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(P(i,c=>{r?.unsubscribe();let l=0;const d=o++;vo(n(c,d)).subscribe(r=P(i,h=>i.next(e?e(c,h,d,l++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}const I1={schedule(n,e){const t=setTimeout(n,e);return()=>clearTimeout(t)},scheduleBeforeRender(n){if(typeof window>"u")return I1.schedule(n,0);if(typeof window.requestAnimationFrame>"u")return I1.schedule(n,16);const e=window.requestAnimationFrame(n);return()=>window.cancelAnimationFrame(e)}};let ok;function Vue(n,e,t){let i=t;return function Pue(n){return!!n&&n.nodeType===Node.ELEMENT_NODE}(n)&&e.some((r,o)=>!("*"===r||!function Fue(n,e){if(!ok){const t=Element.prototype;ok=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}return n.nodeType===Node.ELEMENT_NODE&&ok.call(n,e)}(n,r)||(i=o,0))),i}class Hue{constructor(e,t){this.componentFactory=t.get(Eh).resolveComponentFactory(e)}create(e){return new Gue(this.componentFactory,e)}}class Gue{constructor(e,t){this.componentFactory=e,this.injector=t,this.eventEmitters=new kh(1),this.events=this.eventEmitters.pipe(Br(i=>Bs(...i))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:i})=>i)),this.ngZone=this.injector.get(_n),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(e){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(e)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=I1.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(e){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(e):this.componentRef.instance[e])}setInputValue(e,t,i){this.runInZone(()=>{i&&(t=i.call(this.componentRef?.instance,t)),null!==this.componentRef?function Lue(n,e){return n===e||n!=n&&e!=e}(t,this.getInputValue(e))&&(void 0!==t||!this.unchangedInputs.has(e))||(this.recordInputChange(e,t),this.unchangedInputs.delete(e),this.hasInputChanges=!0,this.componentRef.instance[e]=t,this.scheduleDetectChanges()):this.initialInputValues.set(e,t)})}initializeComponent(e){const t=bi.create({providers:[],parent:this.injector}),i=function Uue(n,e){const t=n.childNodes,i=e.map(()=>[]);let r=-1;e.some((o,s)=>"*"===o&&(r=s,!0));for(let o=0,s=t.length;o<s;++o){const a=t[o],c=Vue(a,e,r);-1!==c&&i[c].push(a)}return i}(e,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(t,i,e),this.viewChangeDetectorRef=this.componentRef.injector.get(Ai),this.implementsOnChanges=function Nue(n){return"function"==typeof n}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(vu).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:e,transform:t})=>{this.initialInputValues.has(e)&&this.setInputValue(e,this.initialInputValues.get(e),t)}),this.initialInputValues.clear()}initializeOutputs(e){const t=this.componentFactory.outputs.map(({propName:i,templateName:r})=>e.instance[i].pipe(le(s=>({name:r,value:s}))));this.eventEmitters.next(t)}callNgOnChanges(e){if(!this.implementsOnChanges||null===this.inputChanges)return;const t=this.inputChanges;this.inputChanges=null,e.instance.ngOnChanges(t)}markViewForCheck(e){this.hasInputChanges&&(this.hasInputChanges=!1,e.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=I1.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(e,t){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const i=this.inputChanges[e];if(i)return void(i.currentValue=t);const r=this.unchangedInputs.has(e),o=r?void 0:this.getInputValue(e);this.inputChanges[e]=new Bf(o,t,r)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(e){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(e):e()}}class Wue extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}const que=new vt("cdk-dir-doc",{providedIn:"root",factory:function Xue(){return kt(ni)}}),Yue=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let sk,Ol=(()=>{class n{constructor(t){this.value="ltr",this.change=new Qt,t&&(this.value=function Kue(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Yue.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(que,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();try{sk=typeof Intl<"u"&&Intl.v8BreakIterator}catch{sk=!1}let d_,oo=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?hd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sk)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(Ns))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K8=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function J8(){if(d_)return d_;if("object"!=typeof document||!document)return d_=new Set(K8),d_;let n=document.createElement("input");return d_=new Set(K8.filter(e=>(n.setAttribute("type",e),n.type===e))),d_}let Xv,Mp,ak;function u_(n){return function Jue(){if(null==Xv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Xv=!0}))}finally{Xv=Xv||!1}return Xv}()?n:!!n.capture}function Que(){if(null==Mp){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Mp=!1,Mp;if("scrollBehavior"in document.documentElement.style)Mp=!0;else{const n=Element.prototype.scrollTo;Mp=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Mp}function ck(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Au(n){return n.composedPath?n.composedPath()[0]:n.target}function lk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Si(n){return S((e,t)=>{vo(n).subscribe(P(t,()=>t.complete(),Tt)),!t.closed&&e.subscribe(t)})}function Ei(n,e){return S((t,i)=>{let r=0;t.subscribe(P(i,o=>n.call(e,o,r++)&&i.next(o)))})}function fd(n={}){const{connector:e=(()=>new en),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,d=!1,h=!1;const f=()=>{a?.unsubscribe(),a=void 0},m=()=>{f(),s=c=void 0,d=h=!1},g=()=>{const b=s;m(),b?.unsubscribe()};return S((b,v)=>{l++,!h&&!d&&f();const D=c=c??e();v.add(()=>{l--,0===l&&!h&&!d&&(a=dk(g,r))}),D.subscribe(v),!s&&l>0&&(s=new To({next:N=>D.next(N),error:N=>{h=!0,f(),a=dk(m,t,N),D.error(N)},complete:()=>{d=!0,f(),a=dk(m,i),D.complete()}}),vo(b).subscribe(s))})(o)}}function dk(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new To({next:()=>{i.unsubscribe(),n()}});return vo(e(...t)).subscribe(i)}function el(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,fd({connector:()=>new kh(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class the{constructor(e){this._box=e,this._destroyed=new en,this._resizeSubject=new en,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Ct(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Ei(t=>t.some(i=>i.target===e)),el({bufferSize:1,refCount:!0}),Si(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let nhe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=kt(_n)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new the(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pd(n){return null!=n&&"false"!=`${n}`}function O1(n,e=0){return function ihe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function R1(n){return Array.isArray(n)?n:[n]}function rs(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Nh(n){return n instanceof On?n.nativeElement:n}var li=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(li||{});const Su="*";function tl(n,e){return{type:li.Trigger,name:n,definitions:e,options:{}}}function Ms(n,e=null){return{type:li.Animate,styles:e,timings:n}}function uk(n,e=null){return{type:li.Group,steps:n,options:e}}function sr(n){return{type:li.Style,styles:n,offset:null}}function Vo(n,e,t){return{type:li.State,name:n,styles:e,options:t}}function Is(n,e,t=null){return{type:li.Transition,expr:n,animation:e,options:t}}function hk(n=null){return{type:li.AnimateChild,options:n}}function fk(n,e,t=null){return{type:li.Query,selector:n,animation:e,options:t}}class Kv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Q8{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}let dhe=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[dhe]})}return n})();function Mn(...n){return ro(n,$v(n))}function ec(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ur(n,e,t){const i=Ze(n)||e||t?{next:n,error:e,complete:t}:n;return i?S((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(P(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):He}class Che extends Ht{constructor(e,t){super()}schedule(e,t=0){return this}}const N1={setInterval(n,e,...t){const{delegate:i}=N1;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=N1;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class gk extends Che{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return N1.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&N1.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ot(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class Qv{constructor(e,t=Qv.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Qv.now=JR.now;class _k extends Qv{constructor(e,t=Qv.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const p_=new _k(gk),Ahe=p_;function i5(n,e=p_){return S((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,d=e.now();if(d<l)return r=this.schedule(void 0,l-d),void i.add(r);a()}t.subscribe(P(i,l=>{o=l,s=e.now(),r||(r=e.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function yr(n){return n<=0?()=>Ls:S((e,t)=>{let i=0;e.subscribe(P(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function bk(n){return Ei((e,t)=>n<=t)}function hr(n,e=He){return n=n??She,S((t,i)=>{let r,o=!0;t.subscribe(P(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function She(n,e){return n===e}const{isArray:The}=Array,{getPrototypeOf:Mhe,prototype:Ihe,keys:Dhe}=Object;function r5(n){if(1===n.length){const e=n[0];if(The(e))return{args:e,keys:null};if(function Ohe(n){return n&&"object"==typeof n&&Mhe(n)===Ihe}(e)){const t=Dhe(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:Rhe}=Array;function F1(n){return le(e=>function khe(n,e){return Rhe(e)?n(...e):n(e)}(n,e))}function o5(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function zo(...n){const e=$v(n),t=rk(n),{args:i,keys:r}=r5(n);if(0===i.length)return ro([],e);const o=new Ct(function Phe(n,e,t=He){return i=>{s5(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)s5(e,()=>{const l=ro(n[c],e);let d=!1;l.subscribe(P(i,h=>{o[c]=h,d||(d=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>o5(r,s):He));return t?o.pipe(F1(t)):o}function s5(n,e,t){n?Cu(t,n,e):e()}function Zv(...n){return function Nhe(){return Wv(1)}()(ro(n,$v(n)))}function ms(...n){const e=$v(n);return S((t,i)=>{(e?Zv(n,t,e):Zv(n,t)).subscribe(i)})}const a5=new Set;let Ip,Fhe=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Bhe}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Lhe(n,e){if(!a5.has(n))try{Ip||(Ip=document.createElement("style"),e&&Ip.setAttribute("nonce",e),Ip.setAttribute("type","text/css"),document.head.appendChild(Ip)),Ip.sheet&&(Ip.sheet.insertRule(`@media ${n} {body{ }}`,0),a5.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(oo),Ke(ap,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bhe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let c5=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new en}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return l5(R1(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=zo(l5(R1(t)).map(s=>this._registerQuery(s).observable));return o=Zv(o.pipe(yr(1)),o.pipe(bk(1),i5(0))),o.pipe(le(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new Ct(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(ms(i),le(({matches:s})=>({query:t,matches:s})),Si(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(Fhe),Ke(_n))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function l5(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function L1(n,e,t){const i=B1(n,e);t=t.trim(),!i.some(r=>r.trim()===t)&&(i.push(t),n.setAttribute(e,i.join(" ")))}function m_(n,e,t){const i=B1(n,e);t=t.trim();const r=i.filter(o=>o!==t);r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}function B1(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}const u5="cdk-describedby-message",j1="cdk-describedby-host";let yk=0,Uhe=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+yk++,this._document=t,this._id=kt(op)+"-"+yk++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=vk(i,r);"string"!=typeof i?(h5(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=vk(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${j1}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(j1);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");h5(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(vk(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=B1(t,"aria-describedby").filter(r=>0!=r.indexOf(u5));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);L1(t,"aria-describedby",r.messageElement.id),t.setAttribute(j1,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,m_(t,"aria-describedby",r.messageElement.id),t.removeAttribute(j1)}_isElementDescribedByMessage(t,i){const r=B1(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(oo))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vk(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function h5(n,e){n.id||(n.id=`${u5}-${e}-${yk++}`)}class f5{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new en,this._typeaheadSubscription=Ht.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new en,this.change=new en,e instanceof ph?this._itemChangesSubscription=e.changes.subscribe(i=>this._itemsChanged(i.toArray())):RC(e)&&(this._effectRef=BH(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(ur(t=>this._pressedLetters.push(t)),i5(e),Ei(()=>this._pressedLetters.length>0),le(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||ec(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return RC(this._items)?this._items():this._items instanceof ph?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){const t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}}}class p5 extends f5{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class Vhe extends f5{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let wk=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function Hhe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function zhe(n){try{return n.frameElement}catch{return null}}(function Jhe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===g5(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=g5(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Yhe(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Khe(n){return!function Whe(n){return function qhe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ghe(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function $he(n){return function Xhe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||m5(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(oo))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m5(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function g5(n){if(!m5(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class _5{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(yr(1)).subscribe(e)}}let b5=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new _5(t,this._checker,this._ngZone,this._document,i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(wk),Ke(_n),Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function y5(n){return 0===n.buttons||0===n.detail}function v5(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Qhe=new vt("cdk-input-modality-detector-options"),Zhe={ignoreKeys:[18,17,224,91,16]},g_=u_({passive:!0,capture:!0});let efe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new _e(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Au(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(y5(s)?"keyboard":"mouse"),this._mostRecentTarget=Au(s))},this._onTouchstart=s=>{v5(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Au(s))},this._options={...Zhe,...o},this.modalityDetected=this._modality.pipe(bk(1)),this.modalityChanged=this.modalityDetected.pipe(hr()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,g_),r.addEventListener("mousedown",this._onMousedown,g_),r.addEventListener("touchstart",this._onTouchstart,g_)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,g_),document.removeEventListener("mousedown",this._onMousedown,g_),document.removeEventListener("touchstart",this._onTouchstart,g_))}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(oo),Ke(_n),Ke(ni),Ke(Qhe,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const tfe=new vt("liveAnnouncerElement",{providedIn:"root",factory:function nfe(){return null}}),ife=new vt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let rfe=0,x5=(()=>{class n{constructor(t,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+rfe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(t){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(tfe,8),Ke(_n),Ke(ni),Ke(ife,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var U1=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(U1||{});const ofe=new vt("cdk-focus-monitor-default-options"),V1=u_({passive:!0,capture:!0});let Tu=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new en,this._rootNodeFocusAndBlurListener=a=>{for(let l=Au(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||U1.IMMEDIATE}monitor(t,i=!1){const r=Nh(t);if(!this._platform.isBrowser||1!==r.nodeType)return Mn();const o=function ehe(n){if(function Zue(){if(null==ak){const n=typeof document<"u"?document.head:null;ak=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ak}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new en,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Nh(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Nh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===U1.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,this._detectionMode===U1.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Au(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,V1),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,V1)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Si(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,V1),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,V1),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(_n),Ke(oo),Ke(efe),Ke(ni,8),Ke(ofe,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dp=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Dp||{});const E5="cdk-high-contrast-black-on-white",C5="cdk-high-contrast-white-on-black",xk="cdk-high-contrast-active";let A5=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=kt(c5).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Dp.NONE;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Dp.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Dp.BLACK_ON_WHITE}return Dp.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(xk,E5,C5),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Dp.BLACK_ON_WHITE?t.add(xk,E5):i===Dp.WHITE_ON_BLACK&&t.add(xk,C5)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(oo),Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),S5=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(A5))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Z8]})}return n})();const sfe=["text"],afe=[[["mat-icon"]],"*"],cfe=["mat-icon","*"];function lfe(n,e){if(1&n&&yn(0,"mat-pseudo-checkbox",1),2&n){const t=Tn();Dt("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function dfe(n,e){1&n&&yn(0,"mat-pseudo-checkbox",3),2&n&&Dt("disabled",Tn().disabled)}function ufe(n,e){if(1&n&&(Ye(0,"span",4),Xt(1),et()),2&n){const t=Tn();lt(),yo("(",t.group.label,")")}}const hfe=["mat-internal-form-field",""],ffe=["*"],mfe=new vt("mat-sanity-checks",{providedIn:"root",factory:function pfe(){return!0}});let ar=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!lk()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(A5),Ke(mfe,8),Ke(ni))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[qv,qv]})}return n})();class z1{constructor(e,t,i,r,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){const e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}}let H1=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tc=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(tc||{});class wfe{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=tc.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const I5=u_({passive:!0,capture:!0});class xfe{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Au(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,I5)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,I5)))}}const D5={enterDuration:225,exitDuration:150},O5=u_({passive:!0,capture:!0}),R5=["mousedown","touchstart"],k5=["mouseup","mouseleave","touchend","touchcancel"];class G1{static#e=this._eventManager=new xfe;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Nh(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...D5,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function Cfe(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,c=t-r.top,l=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-s+"px",d.style.top=c-s+"px",d.style.height=2*s+"px",d.style.width=2*s+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(d);const h=window.getComputedStyle(d),m=h.transitionDuration,g="none"===h.transitionProperty||"0s"===m||"0s, 0s"===m||0===r.width&&0===r.height,b=new wfe(this,d,i,g);d.style.transform="scale3d(1, 1, 1)",b.state=tc.FADING_IN,i.persistent||(this._mostRecentTransientRipple=b);let v=null;return!g&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const D=()=>this._finishRippleTransition(b),N=()=>this._destroyRipple(b);d.addEventListener("transitionend",D),d.addEventListener("transitioncancel",N),v={onTransitionEnd:D,onTransitionCancel:N}}),this._activeRipples.set(b,v),(g||!l)&&this._finishRippleTransition(b),b}fadeOutRipple(e){if(e.state===tc.FADING_OUT||e.state===tc.HIDDEN)return;const t=e.element,i={...D5,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=tc.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Nh(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,R5.forEach(i=>{G1._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{k5.forEach(t=>{this._triggerElement.addEventListener(t,this,O5)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===tc.FADING_IN?this._startFadeOutTransition(e):e.state===tc.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=tc.VISIBLE,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=tc.HIDDEN,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=y5(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!v5(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(e.state===tc.VISIBLE||e.config.terminateOnPointerUp&&e.state===tc.FADING_IN)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(R5.forEach(t=>G1._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&k5.forEach(t=>e.removeEventListener(t,this,O5)))}}const t0=new vt("mat-ripple-global-options");let nc=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new G1(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(_n),be(oo),be(t0,8),be(lo,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mat-ripple-unbounded",r.unbounded)},inputs:{color:[gt.None,"matRippleColor","color"],unbounded:[gt.None,"matRippleUnbounded","unbounded"],centered:[gt.None,"matRippleCentered","centered"],radius:[gt.None,"matRippleRadius","radius"],animation:[gt.None,"matRippleAnimation","animation"],disabled:[gt.None,"matRippleDisabled","disabled"],trigger:[gt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Rl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,ar]})}return n})(),Afe=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(be(lo,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&bn("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[Li],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),Sfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar]})}return n})();const Ek=new vt("MAT_OPTION_PARENT_COMPONENT"),Ck=new vt("MatOptgroup");let Tfe=0;class P5{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let n0=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(t,i,r,o){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=o,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Tfe++,this.onSelectionChange=new Qt,this._stateChanges=new en}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!ec(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new P5(this,t))}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(Ai),be(Ek,8),be(Ck,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&Di(sfe,7),2&i){let o;In(o=Dn())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&Lt("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(ka("id",r.id),ci("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),bn("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[Gr,Li],ngContentSelectors:cfe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(br(afe),mn(0,lfe,1,2,"mat-pseudo-checkbox",1),Un(1),Ye(2,"span",2,0),Un(4,1),et(),mn(5,dfe,1,1,"mat-pseudo-checkbox",3)(6,ufe,2,1,"span",4),yn(7,"div",5)),2&i&&(Hi(0,r.multiple?0:-1),lt(5),Hi(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),lt(),Hi(6,r.group&&r.group._inert?6:-1),lt(),Dt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Afe,nc],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();function N5(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),o=0;for(let s=0;s<n+1;s++)i[s].group&&i[s].group===r[o]&&o++;return o}return 0}function F5(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}let L5=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Rl,ar,Sfe]})}return n})();const B5={capture:!0},j5=["focus","click","mouseenter","touchstart"],Ak="mat-ripple-loader-uninitialized",Sk="mat-ripple-loader-class-name",U5="mat-ripple-loader-centered",W1="mat-ripple-loader-disabled";let V5=(()=>{class n{constructor(){this._document=kt(ni,{optional:!0}),this._animationMode=kt(lo,{optional:!0}),this._globalRippleOptions=kt(t0,{optional:!0}),this._platform=kt(oo),this._ngZone=kt(_n),this._hosts=new Map,this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${Ak}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of j5)this._document?.addEventListener(t,this._onInteraction,B5)})}ngOnDestroy(){const t=this._hosts.keys();for(const i of t)this.destroyRipple(i);for(const i of j5)this._document?.removeEventListener(i,this._onInteraction,B5)}configureRipple(t,i){t.setAttribute(Ak,""),(i.className||!t.hasAttribute(Sk))&&t.setAttribute(Sk,i.className||""),i.centered&&t.setAttribute(U5,""),i.disabled&&t.setAttribute(W1,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,i){const r=this._hosts.get(t);r?r.disabled=i:i?t.setAttribute(W1,""):t.removeAttribute(W1)}_createRipple(t){if(!this._document)return;const i=this._hosts.get(t);if(i)return i;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(Sk)),t.append(r);const o=new nc(new On(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=t,o.centered=t.hasAttribute(U5),o.disabled=t.hasAttribute(W1),this.attachRipple(t,o),o}attachRipple(t,i){t.removeAttribute(Ak),this._hosts.set(t,i)}destroyRipple(t){const i=this._hosts.get(t);i&&(i.ngOnDestroy(),this._hosts.delete(t))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[Li],attrs:hfe,ngContentSelectors:ffe,decls:1,vars:0,template:function(i,r){1&i&&(br(),Un(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-form-field{font-family:var(--mdc-form-field-label-text-font);line-height:var(--mdc-form-field-label-text-line-height);font-size:var(--mdc-form-field-label-text-size);font-weight:var(--mdc-form-field-label-text-weight);letter-spacing:var(--mdc-form-field-label-text-tracking);color:var(--mdc-form-field-label-text-color)}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0})}return n})();const Mfe=["notch"],Ife=["matFormFieldNotchedOutline",""],Dfe=["*"],Ofe=["textField"],Rfe=["iconPrefixContainer"],kfe=["textPrefixContainer"],Pfe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Nfe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ffe(n,e){1&n&&yn(0,"span",17)}function Lfe(n,e){if(1&n&&(Ye(0,"label",16),Un(1,1),mn(2,Ffe,1,0,"span",17),et()),2&n){const t=Tn(2);Dt("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),ci("for",t._control.id),lt(2),Hi(2,!t.hideRequiredMarker&&t._control.required?2:-1)}}function Bfe(n,e){1&n&&mn(0,Lfe,3,5,"label",16),2&n&&Hi(0,Tn()._hasFloatingLabel()?0:-1)}function jfe(n,e){1&n&&yn(0,"div",5)}function Ufe(n,e){}function Vfe(n,e){1&n&&mn(0,Ufe,0,0,"ng-template",11),2&n&&(Tn(2),Dt("ngTemplateOutlet",Ts(1)))}function zfe(n,e){if(1&n&&(Ye(0,"div",7),mn(1,Vfe,1,1,null,11),et()),2&n){const t=Tn();Dt("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),lt(),Hi(1,t._forceDisplayInfixLabel()?-1:1)}}function Hfe(n,e){1&n&&(Ye(0,"div",8,2),Un(2,2),et())}function Gfe(n,e){1&n&&(Ye(0,"div",9,3),Un(2,3),et())}function Wfe(n,e){}function $fe(n,e){1&n&&mn(0,Wfe,0,0,"ng-template",11),2&n&&(Tn(),Dt("ngTemplateOutlet",Ts(1)))}function qfe(n,e){1&n&&(Ye(0,"div",12),Un(1,4),et())}function Xfe(n,e){1&n&&(Ye(0,"div",13),Un(1,5),et())}function Yfe(n,e){1&n&&yn(0,"div",14)}function Kfe(n,e){1&n&&(Ye(0,"div",18),Un(1,6),et()),2&n&&Dt("@transitionMessages",Tn()._subscriptAnimationState)}function Jfe(n,e){if(1&n&&(Ye(0,"mat-hint",20),Xt(1),et()),2&n){const t=Tn(2);Dt("id",t._hintLabelId),lt(),jo(t.hintLabel)}}function Qfe(n,e){if(1&n&&(Ye(0,"div",19),mn(1,Jfe,2,2,"mat-hint",20),Un(2,7),yn(3,"div",21),Un(4,8),et()),2&n){const t=Tn();Dt("@transitionMessages",t._subscriptAnimationState),lt(),Hi(1,t.hintLabel?1:-1)}}let Fh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-label"]],standalone:!0})}return n})(),Zfe=0;const z5=new vt("MatError");let epe=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+Zfe++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(ua("aria-live"),be(On))};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&ka("id",r.id)},inputs:{id:"id"},standalone:!0,features:[Jn([{provide:z5,useExisting:n}])]})}return n})(),tpe=0,H5=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+tpe++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(ka("id",r.id),ci("align",null),bn("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const G5=new vt("MatPrefix");let npe=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matPrefix",""],["","matIconPrefix",""],["","matTextPrefix",""]],inputs:{_isTextSelector:[gt.None,"matTextPrefix","_isTextSelector"]},standalone:!0,features:[Jn([{provide:G5,useExisting:n}])]})}return n})();const W5=new vt("MatSuffix");let Mk=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(t){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[gt.None,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[Jn([{provide:W5,useExisting:n}])]})}return n})();const $5=new vt("FloatingLabelParent");let q5=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=kt(nhe),this._ngZone=kt(_n),this._parent=kt($5),this._resizeSubscription=new Ht}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ipe(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(be(On))};static#t=this.\u0275dir=Zt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const X5="mdc-line-ripple--active",$1="mdc-line-ripple--deactivating";let Y5=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains($1);"opacity"===r.propertyName&&s&&o.remove(X5,$1)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove($1),t.add(X5)}deactivate(){this._elementRef.nativeElement.classList.add($1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(_n))};static#t=this.\u0275dir=Zt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),K5=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(_n))};static#t=this.\u0275cmp=un({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Di(Mfe,5),2&i){let o;In(o=Dn())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mdc-notched-outline--notched",r.open)},inputs:{open:[gt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[Li],attrs:Ife,ngContentSelectors:Dfe,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(br(),yn(0,"div",1),Ye(1,"div",2,0),Un(3),et(),yn(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const rpe={transitionMessages:tl("transitionMessages",[Vo("enter",sr({opacity:1,transform:"translateY(0%)"})),Is("void => enter",[sr({opacity:0,transform:"translateY(-5px)"}),Ms("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let q1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n})}return n})();const r0=new vt("MatFormField"),J5=new vt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Q5=0,Lh=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=pd(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,c,l){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Q5++,this._hintLabelId="mat-mdc-hint-"+Q5++,this._subscriptAnimationState="",this._destroyed=new en,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Si(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Bs(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Si(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Si(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(Ai),be(_n),be(Ol),be(oo),be(J5,8),be(lo,8),be(ni))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(pr(o,Fh,5),pr(o,Fh,7),pr(o,q1,5),pr(o,G5,5),pr(o,W5,5),pr(o,z5,5),pr(o,H5,5)),2&i){let s;In(s=Dn())&&(r._labelChildNonStatic=s.first),In(s=Dn())&&(r._labelChildStatic=s.first),In(s=Dn())&&(r._formFieldControl=s.first),In(s=Dn())&&(r._prefixChildren=s),In(s=Dn())&&(r._suffixChildren=s),In(s=Dn())&&(r._errorChildren=s),In(s=Dn())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Di(Ofe,5),Di(Rfe,5),Di(kfe,5),Di(q5,5),Di(K5,5),Di(Y5,5)),2&i){let o;In(o=Dn())&&(r._textField=o.first),In(o=Dn())&&(r._iconPrefixContainer=o.first),In(o=Dn())&&(r._textPrefixContainer=o.first),In(o=Dn())&&(r._floatingLabel=o.first),In(o=Dn())&&(r._notchedOutline=o.first),In(o=Dn())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&bn("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Jn([{provide:r0,useExisting:n},{provide:$5,useExisting:n}]),Li],ngContentSelectors:Nfe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const o=qi();br(Pfe),mn(0,Bfe,1,1,"ng-template",null,0,kv),Ye(2,"div",4,1),Lt("click",function(a){return fn(o),hn(r._control.onContainerClick(a))}),mn(4,jfe,1,0,"div",5),Ye(5,"div",6),mn(6,zfe,2,2,"div",7)(7,Hfe,3,0,"div",8)(8,Gfe,3,0,"div",9),Ye(9,"div",10),mn(10,$fe,1,1,null,11),Un(11),et(),mn(12,qfe,2,0,"div",12)(13,Xfe,2,0,"div",13),et(),mn(14,Yfe,1,0,"div",14),et(),Ye(15,"div",15),mn(16,Kfe,2,1)(17,Qfe,5,2),et()}if(2&i){let o;lt(2),bn("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),lt(2),Hi(4,r._hasOutline()||r._control.disabled?-1:4),lt(2),Hi(6,r._hasOutline()?6:-1),lt(),Hi(7,r._hasIconPrefix?7:-1),lt(),Hi(8,r._hasTextPrefix?8:-1),lt(2),Hi(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),lt(2),Hi(12,r._hasTextSuffix?12:-1),lt(),Hi(13,r._hasIconSuffix?13:-1),lt(),Hi(14,r._hasOutline()?-1:14),lt(),bn("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),lt(),Hi(16,"error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[q5,K5,r8,Y5,H5],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[rpe.transitionMessages]},changeDetection:0})}return n})(),Bh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,Bi,Z8,ar]})}return n})();function jh(n,e){const t=Ze(n)?n:()=>n,i=r=>r.error(t());return new Ct(e?r=>e.schedule(i,0,r):i)}function o0(...n){const e=rk(n),{args:t,keys:i}=r5(n),r=new Ct(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let d=0;d<s;d++){let h=!1;vo(t[d]).subscribe(P(o,f=>{h||(h=!0,l--),a[d]=f},()=>c--,void 0,()=>{(!c||!h)&&(l||o.next(i?o5(i,a):a),o.complete())}))}});return e?r.pipe(F1(e)):r}function ic(n){return S((e,t)=>{let o,i=null,r=!1;i=e.subscribe(P(t,void 0,void 0,s=>{o=vo(n(s,ic(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Op(n){return S((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function __(n,e){return Ze(e)?is(n,e,1):is(n,1)}class X1{}class Y1{}class Cc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class ape{encodeKey(e){return tG(e)}encodeValue(e){return tG(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const lpe=/%(\d[a-f0-9])/gi,dpe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function tG(n){return encodeURIComponent(n).replace(lpe,(e,t)=>dpe[t]??e)}function K1(n){return`${n}`}class jr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ape,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cpe(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(K1):[K1(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new jr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(K1(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(K1(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ho{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function nG(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iG(n){return typeof Blob<"u"&&n instanceof Blob}function rG(n){return typeof FormData<"u"&&n instanceof FormData}class s0{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function upe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Cc,this.context??=new Ho,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new jr,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||nG(this.body)||iG(this.body)||rG(this.body)||function hpe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof jr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rG(this.body)?null:iG(this.body)?this.body.type||null:nG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress;let l=e.headers||this.headers,d=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((f,m)=>f.set(m,e.setHeaders[m]),l)),e.setParams&&(d=Object.keys(e.setParams).reduce((f,m)=>f.set(m,e.setParams[m]),d)),new s0(t,i,s,{params:d,headers:l,context:h,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}}var Uh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Uh||{});class Ik{constructor(e,t=a0.Ok,i="OK"){this.headers=e.headers||new Cc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class J1 extends Ik{constructor(e={}){super(e),this.type=Uh.ResponseHeader}clone(e={}){return new J1({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Rp extends Ik{constructor(e={}){super(e),this.type=Uh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Rp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class b_ extends Ik{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var a0=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(a0||{});function Dk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let gd=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof s0)o=t;else{let c,l;c=r.headers instanceof Cc?r.headers:new Cc(r.headers),r.params&&(l=r.params instanceof jr?r.params:new jr({fromObject:r.params})),o=new s0(t,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Mn(o).pipe(__(c=>this.handler.handle(c)));if(t instanceof s0||"events"===r.observe)return s;const a=s.pipe(Ei(c=>c instanceof Rp));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(le(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(le(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(le(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(le(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new jr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,Dk(r,i))}post(t,i,r={}){return this.request("POST",t,Dk(r,i))}put(t,i,r={}){return this.request("PUT",t,Dk(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(X1))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();function sG(n,e){return e(n)}function _pe(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const ype=new vt(""),c0=new vt(""),aG=new vt(""),cG=new vt("");function vpe(){let n=null;return(e,t)=>{null===n&&(n=(kt(ype,{optional:!0})??[]).reduceRight(_pe,sG));const i=kt(Sh),r=i.add();return n(e,t).pipe(Op(()=>i.remove(r)))}}let lG=(()=>{class n extends X1{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null,this.pendingTasks=kt(Sh);const r=kt(cG,{optional:!0});this.backend=r??t}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(c0),...this.injector.get(aG,[])]));this.chain=r.reduceRight((o,s)=>function bpe(n,e,t){return(i,r)=>function vl(n,e){n instanceof yl&&n.assertNotDestroyed();const i=pl(n),r=Rs(void 0);try{return e()}finally{pl(i),Rs(r)}}(t,()=>e(i,o=>n(o,r)))}(o,s,this.injector),sG)}const i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Op(()=>this.pendingTasks.remove(i)))}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(Y1),Ke(Yo))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const Ape=/^\)\]\}',?\n/;let uG=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new We(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?ro(i.\u0275loadImpl()):Mn(null)).pipe(Br(()=>new Ct(o=>{const s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((b,v)=>s.setRequestHeader(b,v.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const b=t.detectContentTypeHeader();null!==b&&s.setRequestHeader("Content-Type",b)}if(t.responseType){const b=t.responseType.toLowerCase();s.responseType="json"!==b?b:"text"}const a=t.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const b=s.statusText||"OK",v=new Cc(s.getAllResponseHeaders()),D=function Spe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new J1({headers:v,status:s.status,statusText:b,url:D}),c},d=()=>{let{headers:b,status:v,statusText:D,url:N}=l(),Z=null;v!==a0.NoContent&&(Z=typeof s.response>"u"?s.responseText:s.response),0===v&&(v=Z?a0.Ok:0);let G=v>=200&&v<300;if("json"===t.responseType&&"string"==typeof Z){const Oe=Z;Z=Z.replace(Ape,"");try{Z=""!==Z?JSON.parse(Z):null}catch(ze){Z=Oe,G&&(G=!1,Z={error:ze,text:Z})}}G?(o.next(new Rp({body:Z,headers:b,status:v,statusText:D,url:N||void 0})),o.complete()):o.error(new b_({error:Z,headers:b,status:v,statusText:D,url:N||void 0}))},h=b=>{const{url:v}=l(),D=new b_({error:b,status:s.status||0,statusText:s.statusText||"Unknown Error",url:v||void 0});o.error(D)};let f=!1;const m=b=>{f||(o.next(l()),f=!0);let v={type:Uh.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(v.total=b.total),"text"===t.responseType&&s.responseText&&(v.partialText=s.responseText),o.next(v)},g=b=>{let v={type:Uh.UploadProgress,loaded:b.loaded};b.lengthComputable&&(v.total=b.total),o.next(v)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Uh.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(l8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const kk=new vt(""),hG=new vt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),fG=new vt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class pG{}let Ipe=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=QH(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(Ns),Ke(hG))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();function Dpe(n,e){const t=n.url.toLowerCase();if(!kt(kk)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=kt(pG).getToken(),r=kt(fG);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Vh=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Vh||{});function Ope(...n){const e=[gd,uG,lG,{provide:X1,useExisting:lG},{provide:Y1,useExisting:uG},{provide:c0,useValue:Dpe,multi:!0},{provide:kk,useValue:!0},{provide:pG,useClass:Ipe}];for(const t of n)e.push(...t.\u0275providers);return function Df(n){return{\u0275providers:n}}(e)}const mG=new vt("");function Rpe(){return function kp(n,e){return{\u0275kind:n,\u0275providers:e}}(Vh.LegacyInterceptors,[{provide:mG,useFactory:vpe},{provide:c0,useExisting:mG,multi:!0}])}let gG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[Ope(Rpe())]})}return n})();const Bpe=["*"];let Z1;function l0(n){return function jpe(){if(void 0===Z1&&(Z1=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Z1=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Z1}()?.createHTML(n)||n}function CG(n){return Error(`Unable to find icon with the name "${n}"`)}function AG(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function SG(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Pp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let d0=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Pp(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(Zo.HTML,r);if(!s)throw SG(r);const a=l0(s);return this._addSvgIconConfig(t,i,new Pp("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Pp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(Zo.HTML,i);if(!o)throw SG(i);const s=l0(o);return this._addSvgIconSetConfig(t,new Pp("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(Zo.RESOURCE_URL,t);if(!i)throw AG(t);const r=this._cachedIconsByUrl.get(i);return r?Mn(eA(r)):this._loadSvgIconFromConfig(new Pp(t,null)).pipe(ur(o=>this._cachedIconsByUrl.set(i,o)),le(o=>eA(o)))}getNamedSvgIcon(t,i=""){const r=TG(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):jh(CG(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Mn(eA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(le(i=>eA(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Mn(r):o0(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ic(a=>{const l=`Loading icon set URL: ${this._sanitizer.sanitize(Zo.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(l)),Mn(null)})))).pipe(le(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw CG(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(ur(i=>t.svgText=i),le(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Mn(null):this._fetchIcon(t).pipe(ur(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(l0("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(l0("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Upe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(Zo.RESOURCE_URL,i);if(!s)throw AG(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(le(l=>l0(l)),Op(()=>this._inProgressUrlFetches.delete(s)),fd());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(TG(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return zpe(o)?new Pp(o.url,null,o.options):new Pp(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(gd,8),Ke(Tp),Ke(ni,8),Ke(ha))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eA(n){return n.cloneNode(!0)}function TG(n,e){return n+":"+e}function zpe(n){return!(!n.url||!n.options)}const Hpe=new vt("MAT_ICON_DEFAULT_OPTIONS"),Gpe=new vt("mat-icon-location",{providedIn:"root",factory:function Wpe(){const n=kt(ni),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),MG=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],$pe=MG.map(n=>`[${n}]`).join(", "),qpe=/^url\(['"]?#(.*?)['"]?\)$/;let _a=(()=>{class n{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){this._elementRef=t,this._iconRegistry=i,this._location=o,this._errorHandler=s,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ht.EMPTY,a&&(a.color&&(this.color=this._defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll($pe),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)MG.forEach(s=>{const a=i[o],c=a.getAttribute(s),l=c?c.match(qpe):null;if(l){let d=r.get(a);d||(d=[],r.set(a,d)),d.push({name:s,value:l[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(yr(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(d0),ua("aria-hidden"),be(Gpe),be(ha),be(Hpe,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(ci("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),vi(r.color?"mat-"+r.color:""),bn("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[gt.HasDecoratorInputTransform,"inline","inline",vn],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Gr,Li],ngContentSelectors:Bpe,decls:1,vars:0,template:function(i,r){1&i&&(br(),Un(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),wo=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,ar]})}return n})();const Xpe=["mat-button",""],Ype=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Kpe=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Jpe=new vt("MAT_BUTTON_CONFIG"),Qpe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let Zpe=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,i,r,o){this._elementRef=t,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=kt(Tu),this._rippleLoader=kt(V5),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=kt(Jpe,{optional:!0}),a=t.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:d}of Qpe)a.hasAttribute(l)&&c.add(...d)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){wc()};static#t=this.\u0275dir=Zt({type:n,inputs:{color:"color",disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],ariaDisabled:[gt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",vn],disabledInteractive:[gt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",vn]},features:[Gr]})}return n})(),y_=(()=>{class n extends Zpe{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(oo),be(_n),be(lo,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(ci("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),vi(r.color?"mat-"+r.color:""),bn("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[ui,Li],attrs:Xpe,ngContentSelectors:Kpe,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(br(Ype),yn(0,"span",0),Un(1),Ye(2,"span",1),Un(3,1),et(),Un(4,2),yn(5,"span",2)(6,"span",3)),2&i&&bn("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),zh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,Rl,ar]})}return n})();class Pk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class v_ extends Pk{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class w_ extends Pk{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class tme extends Pk{constructor(e){super(),this.element=e instanceof On?e.nativeElement:e}}class tA{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof v_?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof w_?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof tme?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nme extends tA{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||bi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let x_=(()=>{class n extends tA{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Qt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),s=i.createComponent(o,i.length,t.injector||i.injector,t.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=t,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(be(Eh),be(Ss),be(ni))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[gt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[ui]})}return n})(),E_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();const ime=["addListener","removeListener"],rme=["addEventListener","removeEventListener"],ome=["on","off"];function Np(n,e,t,i){if(Ze(t)&&(i=t,t=void 0),i)return Np(n,e,t).pipe(F1(i));const[r,o]=function cme(n){return Ze(n.addEventListener)&&Ze(n.removeEventListener)}(n)?rme.map(s=>a=>n[s](e,a,t)):function sme(n){return Ze(n.addListener)&&Ze(n.removeListener)}(n)?ime.map(IG(n,e)):function ame(n){return Ze(n.on)&&Ze(n.off)}(n)?ome.map(IG(n,e)):[];if(!r&&nk(n))return is(s=>Np(s,e,t))(vo(n));if(!r)throw new TypeError("Invalid event target");return new Ct(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function IG(n,e){return t=>i=>n[t](e,i)}const u0={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=u0;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new Ht(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=u0;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=u0;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class dme extends _k{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class lme extends gk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=u0.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(u0.cancelAnimationFrame(t),e._scheduled=void 0)}});let Nk,hme=1;const nA={};function DG(n){return n in nA&&(delete nA[n],!0)}const fme={setImmediate(n){const e=hme++;return nA[e]=!0,Nk||(Nk=Promise.resolve()),Nk.then(()=>DG(e)&&n()),e},clearImmediate(n){DG(n)}},{setImmediate:pme,clearImmediate:mme}=fme,iA={setImmediate(...n){const{delegate:e}=iA;return(e?.setImmediate||pme)(...n)},clearImmediate(n){const{delegate:e}=iA;return(e?.clearImmediate||mme)(n)},delegate:void 0};new class _me extends _k{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gme extends gk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=iA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(iA.clearImmediate(t),e._scheduled=void 0)}});function h0(n=0,e,t=Ahe){let i=-1;return null!=e&&($8(e)?t=e:i=e),new Ct(r=>{let o=function vme(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function OG(n,e=p_){return function yme(n){return S((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,t.next(l)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(P(t,l=>{i=!0,r=l,o||vo(n(l)).subscribe(o=P(t,a,c))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>h0(n,e))}let RG=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new en,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ct(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(OG(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Mn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ei(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Nh(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Np(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(_n),Ke(oo),Ke(ni,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rA=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new en,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(OG(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(oo),Ke(_n),Ke(ni,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})(),kG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[qv,oA,qv,oA]})}return n})();function PG(n,e=!1){return S((t,i)=>{let r=0;t.subscribe(P(i,o=>{const s=n(o,r++);(s||e)&&i.next(o),!s&&i.complete()}))})}const NG=Que();class Eme{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=rs(-this._previousScrollPosition.left),e.style.top=rs(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),NG&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),NG&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Cme{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(Ei(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class FG{enable(){}disable(){}attach(){}}function Fk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function LG(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Ame{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Fk(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Sme=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new FG,this.close=s=>new Cme(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new Eme(this._viewportRuler,this._document),this.reposition=s=>new Ame(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(RG),Ke(rA),Ke(_n),Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class f0{constructor(e){if(this.scrollStrategy=new FG,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Tme{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let BG=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mme=(()=>{class n extends BG{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(_n,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ime=(()=>{class n extends BG{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Au(o)},this._clickListener=o=>{const s=Au(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const d=c[l];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(s)||d.overlayElement.contains(a))break;const h=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(oo),Ke(_n,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),p0=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||lk()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),lk()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(oo))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sA{constructor(e,t,i,r,o,s,a,c,l,d=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._backdropElement=null,this._backdropClick=new en,this._attachments=new en,this._detachments=new en,this._locationChanges=Ht.EMPTY,this._backdropClickHandler=h=>this._backdropClick.next(h),this._backdropTransitionendHandler=h=>{this._disposeBackdrop(h.target)},this._keydownEvents=new en,this._outsidePointerEvents=new en,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(yr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=rs(this._config.width),e.height=rs(this._config.height),e.minWidth=rs(this._config.minWidth),e.minHeight=rs(this._config.minHeight),e.maxWidth=rs(this._config.maxWidth),e.maxHeight=rs(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=R1(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Si(Bs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const jG="cdk-overlay-connected-position-bounding-box",Dme=/([A-Za-z%]+)$/;class Ome{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new en,this._resizeSubscription=Ht.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(jG),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,r,a),l=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(l,t,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(d,l,i)?o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:l,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(const l of o){const d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Fp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jG),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=VG(t);let{x:s,y:a}=e,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let f=0-a,m=a+o.height-i.height,g=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,f,m),v=g*b;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=UG(this._overlayRef.getConfig().minHeight),a=UG(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=VG(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),c=Math.max(o.top-i.top-e.y,0),l=Math.max(o.left-i.left-e.x,0);let d=0,h=0;return d=r.width<=o.width?l||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,h=r.height<=o.height?c||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:d,y:h},{x:e.x+d,y:e.y+h}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!function Rme(n,e){return n===e||n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new Tme(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,d,h,f;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-e.y+i.top,e.y),g=this._lastBoundingBoxSize.height;o=2*m,s=e.y-m,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-g/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)f=i.width-e.x+2*this._viewportMargin,d=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)h=e.x,d=i.right-e.x;else{const m=Math.min(i.right-e.x+i.left,e.x),g=this._lastBoundingBoxSize.width;d=2*m,h=e.x-m,d>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=e.x-g/2)}return{top:s,left:h,bottom:a,right:f,width:d,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=rs(i.height),r.top=rs(i.top),r.bottom=rs(i.bottom),r.width=rs(i.width),r.left=rs(i.left),r.right=rs(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=rs(o)),s&&(r.maxWidth=rs(s))}this._lastBoundingBoxSize=i,Fp(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Fp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Fp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const d=this._viewportRuler.getViewportScrollPosition();Fp(i,this._getExactOverlayY(t,e,d)),Fp(i,this._getExactOverlayX(t,e,d))}else i.position="static";let a="",c=this._getOffset(t,"x"),l=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=rs(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=rs(s.maxWidth):o&&(i.maxWidth="")),Fp(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=rs(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=rs(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:LG(e,i),isOriginOutsideView:Fk(e,i),isOverlayClipped:LG(t,i),isOverlayOutsideView:Fk(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&R1(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof On)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Fp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function UG(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Dme);return t&&"px"!==t?null:parseFloat(e)}return n||null}function VG(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const zG="cdk-global-overlay-wrapper";class kme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(zG),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),d=this._xPosition,h=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let m="",g="",b="";c?b="flex-start":"center"===d?(b="center",f?g=h:m=h):f?"left"===d||"end"===d?(b="flex-end",m=h):("right"===d||"start"===d)&&(b="flex-start",g=h):"left"===d||"start"===d?(b="flex-start",m=h):("right"===d||"end"===d)&&(b="flex-end",g=h),e.position=this._cssPosition,e.marginLeft=c?"0":m,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":g,t.justifyContent=b,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(zG),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Pme=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new kme}flexibleConnectedTo(t){return new Ome(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(rA),Ke(ni),Ke(oo),Ke(p0))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nme=0,gs=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,f,m){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=d,this._location=h,this._outsideClickDispatcher=f,this._animationsModuleType=m}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new f0(t);return s.direction=s.direction||this._directionality.value,new sA(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Nme++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(vu)),new nme(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(Sme),Ke(p0),Ke(Eh),Ke(Pme),Ke(Mme),Ke(bi),Ke(_n),Ke(ni),Ke(Ol),Ke(Sp),Ke(Ime),Ke(lo,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Fme=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],HG=new vt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(gs);return()=>n.scrollStrategies.reposition()}});let Lk=(()=>{class n{constructor(t){this.elementRef=t}static#e=this.\u0275fac=function(i){return new(i||n)(be(On))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),GG=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,i,r,o,s){this._overlay=t,this._dir=s,this._backdropSubscription=Ht.EMPTY,this._attachSubscription=Ht.EMPTY,this._detachSubscription=Ht.EMPTY,this._positionSubscription=Ht.EMPTY,this._disposeOnNavigation=!1,this._ngZone=kt(_n),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Qt,this.positionChange=new Qt,this.attach=new Qt,this.detach=new Qt,this.overlayKeydown=new Qt,this.overlayOutsideClick=new Qt,this._templatePortal=new w_(i,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Fme);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ec(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new f0({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Lk?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(PG(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(be(gs),be(Ja),be(Ss),be(HG),be(Ol,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[gt.None,"cdkConnectedOverlayOrigin","origin"],positions:[gt.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[gt.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[gt.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[gt.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[gt.None,"cdkConnectedOverlayWidth","width"],height:[gt.None,"cdkConnectedOverlayHeight","height"],minWidth:[gt.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[gt.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[gt.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[gt.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[gt.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[gt.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[gt.None,"cdkConnectedOverlayOpen","open"],disableClose:[gt.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[gt.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[gt.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",vn],lockPosition:[gt.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",vn],flexibleDimensions:[gt.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",vn],growAfterOpen:[gt.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",vn],push:[gt.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",vn],disposeOnNavigation:[gt.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",vn]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Gr,_r]})}return n})();const Bme={provide:HG,deps:[gs],useFactory:function Lme(n){return()=>n.scrollStrategies.reposition()}};let m0=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[gs,Bme],imports:[qv,E_,kG,kG]})}return n})();function jme(n,e){if(1&n){const t=qi();Ye(0,"div",1)(1,"button",2),Lt("click",function(){return fn(t),hn(Tn().action())}),Xt(2),et()()}if(2&n){const t=Tn();lt(2),yo(" ",t.data.action," ")}}const Ume=["label"];function Vme(n,e){}const zme=Math.pow(2,31)-1;class Bk{constructor(e,t){this._overlayRef=t,this._afterDismissed=new en,this._afterOpened=new en,this._onAction=new en,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,zme))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const jk=new vt("MatSnackBarData");class aA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let WG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),$G=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),qG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),XG=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(be(Bk),be(jk))};static#t=this.\u0275cmp=un({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[Li],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(Ye(0,"div",0),Xt(1),et(),mn(2,jme,3,1,"div",1)),2&i&&(lt(),yo(" ",r.data.message,"\n"),lt(),Hi(2,r.hasAction?2:-1))},dependencies:[y_,WG,$G,qG],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Hme={snackBarState:tl("state",[Vo("void, hidden",sr({transform:"scale(0.8)",opacity:0})),Vo("visible",sr({transform:"scale(1)",opacity:1})),Is("* => visible",Ms("150ms cubic-bezier(0, 0, 0.2, 1)")),Is("* => void, * => hidden",Ms("75ms cubic-bezier(0.4, 0.0, 1, 1)",sr({opacity:0})))])};let Gme=0,YG=(()=>{class n extends tA{constructor(t,i,r,o,s){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=kt(ni),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new en,this._onExit=new en,this._onEnter=new en,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+Gme++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const t=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(t)&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{const i=t.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(be(_n),be(On),be(Ai),be(oo),be(aA))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(Di(x_,7),Di(Ume,7)),2&i){let o;In(o=Dn())&&(r._portalOutlet=o.first),In(o=Dn())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&YC("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&Cv("@state",r._animationState)},standalone:!0,features:[ui,Li],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Ye(0,"div",1)(1,"div",2,0)(3,"div",3),mn(4,Vme,0,0,"ng-template",4),et(),yn(5,"div"),et()()),2&i&&(lt(5),ci("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[x_],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Hme.snackBarState]}})}return n})();const $me=new vt("mat-snack-bar-default-options",{providedIn:"root",factory:function Wme(){return new aA}});let KG=(()=>{class n{get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(t,i,r,o,s,a){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=XG,this.snackBarContainerComponent=YG,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const o={...this._defaultConfig,...r};return o.data={message:t,action:i},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const o=bi.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:aA,useValue:i}]}),s=new v_(this.snackBarContainerComponent,i.viewContainerRef,o),a=t.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(t,i){const r={...new aA,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new Bk(s,o);if(t instanceof Ja){const c=new w_(t,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new v_(t,void 0,c),d=s.attachComponentPortal(l);a.instance=d.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Si(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new f0;i.direction=t.direction;let r=this._overlay.position().global();const o="rtl"===t.direction,s="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,a=!s&&"center"!==t.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return bi.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Bk,useValue:i},{provide:jk,useValue:t.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(gs),Ke(x5),Ke(bi),Ke(c5),Ke(n,12),Ke($me))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[KG],imports:[m0,E_,zh,ar,XG,ar]})}return n})();function JG(n){return new We(3e3,!1)}function Hh(n){switch(n.length){case 0:return new Kv;case 1:return n[0];default:return new Q8(n)}}function QG(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(c=>{const l=c.get("offset"),d=l==s,h=d&&a||new Map;c.forEach((f,m)=>{let g=m,b=f;if("offset"!==m)switch(g=n.normalizePropertyName(g,r),b){case"!":b=t.get(m);break;case Su:b=i.get(m);break;default:b=n.normalizeStyleValue(m,g,b,r)}h.set(g,b)}),d||o.push(h),a=h,s=l}),r.length)throw function gge(n){return new We(3502,!1)}();return o}function Uk(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&Vk(t,"start",n)));break;case"done":n.onDone(()=>i(t&&Vk(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&Vk(t,"destroy",n)))}}function Vk(n,e,t){const o=zk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function zk(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ac(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function ZG(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Mge=typeof document>"u"?null:document.documentElement;function Hk(n){const e=n.parentNode||n.host||null;return e===Mge?null:e}let Lp=null,e6=!1;function t6(n,e){for(;e;){if(e===n)return!0;e=Hk(e)}return!1}function n6(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let Gk=(()=>{class n{validateStyleProperty(t){return function Dge(n){Lp||(Lp=function Oge(){return typeof document<"u"?document.body:null}()||{},e6=!!Lp.style&&"WebkitAppearance"in Lp.style);let e=!0;return Lp.style&&!function Ige(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Lp.style,!e&&e6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Lp.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return t6(t,i)}getParentElement(t){return Hk(t)}query(t,i,r){return n6(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],c){return new Kv(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();class Wk{static#e=this.NOOP=new Gk}class $k{}const kge=1e3,qk="ng-enter",cA="ng-leave",lA="ng-trigger",dA=".ng-trigger",r6="ng-animating",Xk=".ng-animating";function Mu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yk(parseFloat(e[1]),e[2])}function Yk(n,e){return"s"===e?n*kge:n}function uA(n,e,t){return n.hasOwnProperty("duration")?n:function Nge(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(JG()),{duration:0,delay:0,easing:""};r=Yk(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=Yk(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!t){let a=!1,c=e.length;r<0&&(e.push(function Xme(){return new We(3100,!1)}()),a=!0),o<0&&(e.push(function Yme(){return new We(3101,!1)}()),a=!0),a&&e.splice(c,0,JG())}return{duration:r,delay:o,easing:s}}(n,e,t)}function _d(n,e,t){e.forEach((i,r)=>{const o=Jk(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Bp(n,e){e.forEach((t,i)=>{const r=Jk(i);n.style[r]=""})}function g0(n){return Array.isArray(n)?1==n.length?n[0]:function ohe(n,e=null){return{type:li.Sequence,steps:n,options:e}}(n):n}const Kk=new RegExp("{{\\s*(.+?)\\s*}}","g");function s6(n){let e=[];if("string"==typeof n){let t;for(;t=Kk.exec(n);)e.push(t[1]);Kk.lastIndex=0}return e}function _0(n,e,t){const i=`${n}`,r=i.replace(Kk,(o,s)=>{let a=e[s];return null==a&&(t.push(function Jme(n){return new We(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const Bge=/-+([a-z0-9])/g;function Jk(n){return n.replace(Bge,(...e)=>e[1].toUpperCase())}function Sc(n,e,t){switch(e.type){case li.Trigger:return n.visitTrigger(e,t);case li.State:return n.visitState(e,t);case li.Transition:return n.visitTransition(e,t);case li.Sequence:return n.visitSequence(e,t);case li.Group:return n.visitGroup(e,t);case li.Animate:return n.visitAnimate(e,t);case li.Keyframes:return n.visitKeyframes(e,t);case li.Style:return n.visitStyle(e,t);case li.Reference:return n.visitReference(e,t);case li.AnimateChild:return n.visitAnimateChild(e,t);case li.AnimateRef:return n.visitAnimateRef(e,t);case li.Query:return n.visitQuery(e,t);case li.Stagger:return n.visitStagger(e,t);default:throw function Qme(n){return new We(3004,!1)}()}}function Qk(n,e){return window.getComputedStyle(n)[e]}const Vge=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class a6 extends $k{normalizePropertyName(e,t){return Jk(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(Vge.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Zme(n,e){return new We(3005,!1)}())}return s+o}}const hA="*";const fA=new Set(["true","1"]),pA=new Set(["false","0"]);function c6(n,e){const t=fA.has(n)||pA.has(n),i=fA.has(e)||pA.has(e);return(r,o)=>{let s=n==hA||n==r,a=e==hA||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?fA.has(n):pA.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?fA.has(e):pA.has(e)),s&&a}}const Wge=new RegExp("s*:selfs*,?","g");function Zk(n,e,t,i){return new $ge(n).build(e,t,i)}class $ge{constructor(e){this._driver=e}build(e,t,i){const r=new Yge(t);return this._resetContextStyleTimingState(r),Sc(this,g0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function ege(){return new We(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==li.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,o.push(this.visitState(c,t))}),c.name=l}else if(a.type==li.Transition){const c=this.visitTransition(a,t);i+=c.queryCount,r+=c.depCount,s.push(c)}else t.errors.push(function tge(){return new We(3007,!1)}())}),{type:li.Trigger,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{s6(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&t.errors.push(function nge(n,e){return new We(3008,!1)}(0,o.values()))}return{type:li.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Sc(this,g0(e.animation),t),r=function zge(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Hge(n,e,t){if(":"==n[0]){const c=function Gge(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function hge(n){return new We(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function uge(n){return new We(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(c6(r,s)),"<"==o[0]&&(r!=hA||s!=hA)&&e.push(c6(s,r))}(i,t,e)):t.push(n),t}(e.expr,t.errors);return{type:li.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:jp(e.options)}}visitSequence(e,t){return{type:li.Sequence,steps:e.steps.map(i=>Sc(this,i,t)),options:jp(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Sc(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:li.Group,steps:o,options:jp(e.options)}}visitAnimate(e,t){const i=function Jge(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return eP(uA(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=eP(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=uA(t,e);return eP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:sr({});if(o.type==li.Keyframes)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=sr(l)}t.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,r=c}return t.currentAnimateTimings=null,{type:li.Animate,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Su?i.push(a):t.errors.push(new We(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:li.Style,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=t.collectedStyles.get(t.currentQuerySelector),d=l.get(c);let h=!0;d&&(o!=r&&o>=d.startTime&&r<=d.endTime&&(t.errors.push(function rge(n,e,t,i,r){return new We(3010,!1)}()),h=!1),o=d.startTime),h&&l.set(c,{startTime:o,endTime:r}),t.options&&function Lge(n,e,t){const i=e.params||{},r=s6(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function Kme(n){return new We(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:li.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function oge(){return new We(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const d=e.steps.map(D=>{const N=this._makeStyleAst(D,t);let Z=null!=N.offset?N.offset:function Kge(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(N.styles),G=0;return null!=Z&&(o++,G=N.offset=Z),c=c||G<0||G>1,a=a||G<l,l=G,s.push(G),N});c&&t.errors.push(function sge(){return new We(3012,!1)}()),a&&t.errors.push(function age(){return new We(3200,!1)}());const h=e.steps.length;let f=0;o>0&&o<h?t.errors.push(function cge(){return new We(3202,!1)}()):0==o&&(f=1/(h-1));const m=h-1,g=t.currentTime,b=t.currentAnimateTimings,v=b.duration;return d.forEach((D,N)=>{const Z=f>0?N==m?1:f*N:s[N],G=Z*v;t.currentTime=g+b.delay+G,b.duration=G,this._validateStyleAst(D,t),D.offset=Z,i.styles.push(D)}),i}visitReference(e,t){return{type:li.Reference,animation:Sc(this,g0(e.animation),t),options:jp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:li.AnimateChild,options:jp(e.options)}}visitAnimateRef(e,t){return{type:li.AnimateRef,animation:this.visitReference(e.animation,t),options:jp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function qge(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Wge,"")),n=n.replace(/@\*/g,dA).replace(/@\w+/g,t=>dA+"-"+t.slice(1)).replace(/:animating/g,Xk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ac(t.collectedStyles,t.currentQuerySelector,new Map);const a=Sc(this,g0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:li.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:jp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function lge(){return new We(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:uA(e.timings,t.errors,!0);return{type:li.Stagger,animation:Sc(this,g0(e.animation),t),timings:i,options:null}}}class Yge{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function jp(n){return n?(n={...n}).params&&(n.params=function Xge(n){return n?{...n}:null}(n.params)):n={},n}function eP(n,e,t){return{duration:n,delay:e,easing:t}}function tP(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class mA{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const e_e=new RegExp(":enter","g"),n_e=new RegExp(":leave","g");function nP(n,e,t,i,r,o=new Map,s=new Map,a,c,l=[]){return(new i_e).buildKeyframes(n,e,t,i,r,o,s,a,c,l)}class i_e{buildKeyframes(e,t,i,r,o,s,a,c,l,d=[]){l=l||new mA;const h=new iP(e,t,l,r,o,d,[]);h.options=c;const f=c.delay?Mu(c.delay):0;h.currentTimeline.delayNextStep(f),h.currentTimeline.setStyles([s],null,h.errors,c),Sc(this,i,h);const m=h.timelines.filter(g=>g.containsAnimation());if(m.length&&a.size){let g;for(let b=m.length-1;b>=0;b--){const v=m[b];if(v.element===t){g=v;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,c)}return m.length?m.map(g=>g.buildKeyframes()):[tP(t,[],[],[],0,f,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:Mu(_0(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?Mu(i.duration):null,a=null!=i.delay?Mu(i.delay):null;return 0!==s&&e.forEach(c=>{const l=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Sc(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==li.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=gA);const s=Mu(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Sc(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Mu(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Sc(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return uA(t.params?_0(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;o.type==li.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?Mu(r.delay):0;o&&(t.previousNode.type===li.Style||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=gA);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((l,d)=>{t.currentQueryIndex=d;const h=t.createSubContext(e.options,l);o&&h.delayNextStep(o),l===t.element&&(c=h.currentTimeline),Sc(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const h=d.currentTime;Sc(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const gA={};class iP{constructor(e,t,i,r,o,s,a,c){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=gA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new _A(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Mu(i.duration)),null!=i.delay&&(r.delay=Mu(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=_0(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new iP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=gA,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new r_e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(e_e,"."+this._enterClassName)).replace(n_e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function dge(n){return new We(3014,!1)}()),a}}class _A{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new _A(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Su),this._currentKeyframe.set(t,Su);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function o_e(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i??=e.keys();for(let o of i)t.set(o,Su)}else for(let[o,s]of r)t.set(o,s)}),t}(e,this._globalTimelineStyles);for(let[a,c]of s){const l=_0(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Su),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((d,h)=>{"!"===d?e.add(h):d===Su&&t.add(h)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...e.values()],s=[...t.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return tP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class r_e extends _A{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,c=new Map(e[0]);c.set("offset",0),o.push(c);const l=new Map(e[0]);l.set("offset",u6(a)),o.push(l);const d=e.length-1;for(let h=1;h<=d;h++){let f=new Map(e[h]);const m=f.get("offset");f.set("offset",u6((t+m*i)/s)),o.push(f)}i=s,t=0,r="",e=o}return tP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function u6(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}function h6(n,e,t,i,r,o,s,a,c,l,d,h,f){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:d,totalTime:h,errors:f}}const rP={};class f6{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function s_e(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,c,l,d){const h=[],f=this.ast.options&&this.ast.options.params||rP,g=this.buildStyles(i,a&&a.params||rP,h),b=c&&c.params||rP,v=this.buildStyles(r,b,h),D=new Set,N=new Map,Z=new Map,G="void"===r,Oe={params:p6(b,f),delay:this.ast.options?.delay},ze=d?[]:nP(e,t,this.ast.animation,o,s,g,v,Oe,l,h);let st=0;return ze.forEach(pt=>{st=Math.max(pt.duration+pt.delay,st)}),h.length?h6(t,this._triggerName,i,r,G,g,v,[],[],N,Z,st,h):(ze.forEach(pt=>{const Je=pt.element,yt=Ac(N,Je,new Set);pt.preStyleProps.forEach(zt=>yt.add(zt));const Pt=Ac(Z,Je,new Set);pt.postStyleProps.forEach(zt=>Pt.add(zt)),Je!==t&&D.add(Je)}),h6(t,this._triggerName,i,r,G,g,v,ze,[...D.values()],N,Z,st))}}function p6(n,e){const t={...e};return Object.entries(n).forEach(([i,r])=>{null!=r&&(t[i]=r)}),t}class a_e{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=p6(e,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=_0(s,r,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),i.set(a,s)})}),i}}class l_e{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new a_e(r.style,r.options&&r.options.params||{},i))}),m6(this.states,"true","1"),m6(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new f6(e,r,this.states))}),this.fallbackTransition=function d_e(n,e,t){return new f6(n,{type:li.Transition,animation:{type:li.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function m6(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const u_e=new mA;class h_e{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=Zk(this._driver,t,i,[]);if(i.length)throw function _ge(n){return new We(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=QG(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=nP(this._driver,t,o,qk,cA,new Map,new Map,i,u_e,r),s.forEach(d=>{const h=Ac(a,d.element,new Map);d.postStyleProps.forEach(f=>h.set(f,null))})):(r.push(function bge(){return new We(3300,!1)}()),s=[]),r.length)throw function yge(n){return new We(3504,!1)}();a.forEach((d,h)=>{d.forEach((f,m)=>{d.set(m,this._driver.computeStyle(h,m,Su))})});const l=Hh(s.map(d=>{const h=a.get(d.element);return this._buildPlayer(d,new Map,h)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function vge(n){return new We(3301,!1)}();return t}listen(e,t,i,r){const o=zk(t,"","","");return Uk(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const g6="ng-animate-queued",oP="ng-animate-disabled",__e=[],_6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},b_e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kl="__ng_removed";class sP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function x_e(n){return n??null}(i?e.value:e),i){const{value:o,...s}=e;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const b0="void",aP=new sP(b0);class y_e{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,nl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function wge(n,e){return new We(3302,!1)}();if(null==i||0==i.length)throw function xge(n){return new We(3303,!1)}();if(!function E_e(n){return"start"==n||"done"==n}(i))throw function Ege(n,e){return new We(3400,!1)}();const o=Ac(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Ac(this._engine.statesByElement,e,new Map);return a.has(t)||(nl(e,lA),nl(e,lA+"-"+t),a.set(t,aP)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Cge(n){return new We(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new cP(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(nl(e,lA),nl(e,lA+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const l=new sP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(t,l),c||(c=aP),l.value!==b0&&c.value===l.value){if(!function S_e(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(c.params,l.params)){const b=[],v=o.matchStyles(c.value,c.params,b),D=o.matchStyles(l.value,l.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Bp(e,v),_d(e,D)})}return}const f=Ac(this._engine.playersByElement,e,[]);f.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let m=o.matchTransition(c.value,l.value,e,l.params),g=!1;if(!m){if(!r)return;m=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:m,fromState:c,toState:l,player:s,isFallbackTransition:g}),g||(nl(e,g6),s.onStart(()=>{C_(e,g6)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const v=this._engine.playersByElement.get(e);if(v){let D=v.indexOf(s);D>=0&&v.splice(D,1)}}),this.players.push(s),f.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,dA,!0);i.forEach(r=>{if(r[kl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const d=this.trigger(e,l,b0,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&Hh(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||aP,d=new sP(b0),h=new cP(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:c,fromState:l,toState:d,player:h,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[kl];(!o||o===_6)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){nl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=zk(o,i.triggerName,i.fromState.value,i.toState.value);c._data=e,Uk(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class v_e{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i,r){this.bodyNode=e,this.driver=t,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new y_e(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(bA(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!bA(t))return;const o=t[kl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),nl(e,oP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),C_(e,oP))}removeNode(e,t,i){if(bA(t)){this.scheduler?.notify();const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[kl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return bA(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,dA,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Xk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[kl];if(t&&t.setForRemoval){if(e[kl]=_6,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(oP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)nl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Hh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function Age(n){return new We(3402,!1)}()}_flushAnimations(e,t){const i=new mA,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,d=new Set;this.disabledNodes.forEach(wt=>{d.add(wt);const Yt=this.driver.query(wt,".ng-animate-queued",!0);for(let rn=0;rn<Yt.length;rn++)d.add(Yt[rn])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=v6(f,this.collectedEnterElements),g=new Map;let b=0;m.forEach((wt,Yt)=>{const rn=qk+b++;g.set(Yt,rn),wt.forEach(cn=>nl(cn,rn))});const v=[],D=new Set,N=new Set;for(let wt=0;wt<this.collectedLeaveElements.length;wt++){const Yt=this.collectedLeaveElements[wt],rn=Yt[kl];rn&&rn.setForRemoval&&(v.push(Yt),D.add(Yt),rn.hasAnimation?this.driver.query(Yt,".ng-star-inserted",!0).forEach(cn=>D.add(cn)):N.add(Yt))}const Z=new Map,G=v6(f,Array.from(D));G.forEach((wt,Yt)=>{const rn=cA+b++;Z.set(Yt,rn),wt.forEach(cn=>nl(cn,rn))}),e.push(()=>{m.forEach((wt,Yt)=>{const rn=g.get(Yt);wt.forEach(cn=>C_(cn,rn))}),G.forEach((wt,Yt)=>{const rn=Z.get(Yt);wt.forEach(cn=>C_(cn,rn))}),v.forEach(wt=>{this.processLeaveNode(wt)})});const Oe=[],ze=[];for(let wt=this._namespaceList.length-1;wt>=0;wt--)this._namespaceList[wt].drainQueuedTransitions(t).forEach(rn=>{const cn=rn.player,Fn=rn.element;if(Oe.push(cn),this.collectedEnterElements.length){const Yi=Fn[kl];if(Yi&&Yi.setForMove){if(Yi.previousTriggersValues&&Yi.previousTriggersValues.has(rn.triggerName)){const Ks=Yi.previousTriggersValues.get(rn.triggerName),So=this.statesByElement.get(rn.element);if(So&&So.has(rn.triggerName)){const dc=So.get(rn.triggerName);dc.value=Ks,So.set(rn.triggerName,dc)}}return void cn.destroy()}}const Gi=!h||!this.driver.containsElement(h,Fn),xn=Z.get(Fn),eo=g.get(Fn),Ri=this._buildInstruction(rn,i,eo,xn,Gi);if(Ri.errors&&Ri.errors.length)return void ze.push(Ri);if(Gi)return cn.onStart(()=>Bp(Fn,Ri.fromStyles)),cn.onDestroy(()=>_d(Fn,Ri.toStyles)),void r.push(cn);if(rn.isFallbackTransition)return cn.onStart(()=>Bp(Fn,Ri.fromStyles)),cn.onDestroy(()=>_d(Fn,Ri.toStyles)),void r.push(cn);const Ys=[];Ri.timelines.forEach(Yi=>{Yi.stretchStartingKeyframe=!0,this.disabledNodes.has(Yi.element)||Ys.push(Yi)}),Ri.timelines=Ys,i.append(Fn,Ri.timelines),s.push({instruction:Ri,player:cn,element:Fn}),Ri.queriedElements.forEach(Yi=>Ac(a,Yi,[]).push(cn)),Ri.preStyleProps.forEach((Yi,Ks)=>{if(Yi.size){let So=c.get(Ks);So||c.set(Ks,So=new Set),Yi.forEach((dc,Lc)=>So.add(Lc))}}),Ri.postStyleProps.forEach((Yi,Ks)=>{let So=l.get(Ks);So||l.set(Ks,So=new Set),Yi.forEach((dc,Lc)=>So.add(Lc))})});if(ze.length){const wt=[];ze.forEach(Yt=>{wt.push(function Sge(n,e){return new We(3505,!1)}())}),Oe.forEach(Yt=>Yt.destroy()),this.reportError(wt)}const st=new Map,pt=new Map;s.forEach(wt=>{const Yt=wt.element;i.has(Yt)&&(pt.set(Yt,Yt),this._beforeAnimationBuild(wt.player.namespaceId,wt.instruction,st))}),r.forEach(wt=>{const Yt=wt.element;this._getPreviousPlayers(Yt,!1,wt.namespaceId,wt.triggerName,null).forEach(cn=>{Ac(st,Yt,[]).push(cn),cn.destroy()})});const Je=v.filter(wt=>x6(wt,c,l)),yt=new Map;y6(yt,this.driver,N,l,Su).forEach(wt=>{x6(wt,c,l)&&Je.push(wt)});const zt=new Map;m.forEach((wt,Yt)=>{y6(zt,this.driver,new Set(wt),c,"!")}),Je.forEach(wt=>{const Yt=yt.get(wt),rn=zt.get(wt);yt.set(wt,new Map([...Yt?.entries()??[],...rn?.entries()??[]]))});const xt=[],It=[],Jt={};s.forEach(wt=>{const{element:Yt,player:rn,instruction:cn}=wt;if(i.has(Yt)){if(d.has(Yt))return rn.onDestroy(()=>_d(Yt,cn.toStyles)),rn.disabled=!0,rn.overrideTotalTime(cn.totalTime),void r.push(rn);let Fn=Jt;if(pt.size>1){let xn=Yt;const eo=[];for(;xn=xn.parentNode;){const Ri=pt.get(xn);if(Ri){Fn=Ri;break}eo.push(xn)}eo.forEach(Ri=>pt.set(Ri,Fn))}const Gi=this._buildAnimation(rn.namespaceId,cn,st,o,zt,yt);if(rn.setRealPlayer(Gi),Fn===Jt)xt.push(rn);else{const xn=this.playersByElement.get(Fn);xn&&xn.length&&(rn.parentPlayer=Hh(xn)),r.push(rn)}}else Bp(Yt,cn.fromStyles),rn.onDestroy(()=>_d(Yt,cn.toStyles)),It.push(rn),d.has(Yt)&&r.push(rn)}),It.forEach(wt=>{const Yt=o.get(wt.element);if(Yt&&Yt.length){const rn=Hh(Yt);wt.setRealPlayer(rn)}}),r.forEach(wt=>{wt.parentPlayer?wt.syncPlayerEvents(wt.parentPlayer):wt.destroy()});for(let wt=0;wt<v.length;wt++){const Yt=v[wt],rn=Yt[kl];if(C_(Yt,cA),rn&&rn.hasAnimation)continue;let cn=[];if(a.size){let Gi=a.get(Yt);Gi&&Gi.length&&cn.push(...Gi);let xn=this.driver.query(Yt,Xk,!0);for(let eo=0;eo<xn.length;eo++){let Ri=a.get(xn[eo]);Ri&&Ri.length&&cn.push(...Ri)}}const Fn=cn.filter(Gi=>!Gi.destroyed);Fn.length?C_e(this,Yt,Fn):this.processLeaveNode(Yt)}return v.length=0,xt.forEach(wt=>{this.players.push(wt),wt.onDone(()=>{wt.destroy();const Yt=this.players.indexOf(wt);this.players.splice(Yt,1)}),wt.play()}),xt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const c=!o||o==b0;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const l=c.element,d=l!==o,h=Ac(i,l,[]);this._getPreviousPlayers(l,d,s,a,t.toState).forEach(m=>{const g=m.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),m.destroy(),h.push(m)})}Bp(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,c=t.element,l=[],d=new Set,h=new Set,f=t.timelines.map(g=>{const b=g.element;d.add(b);const v=b[kl];if(v&&v.removedBeforeQueried)return new Kv(g.duration,g.delay);const D=b!==c,N=function A_e(n){const e=[];return w6(n,e),e}((i.get(b)||__e).map(st=>st.getRealPlayer())).filter(st=>!!st.element&&st.element===b),Z=o.get(b),G=s.get(b),Oe=QG(this._normalizer,g.keyframes,Z,G),ze=this._buildPlayer(g,Oe,N);if(g.subTimeline&&r&&h.add(b),D){const st=new cP(e,a,b);st.setRealPlayer(ze),l.push(st)}return ze});l.forEach(g=>{Ac(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function w_e(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,g.element,g))}),d.forEach(g=>nl(g,r6));const m=Hh(f);return m.onDestroy(()=>{d.forEach(g=>C_(g,r6)),_d(c,t.toStyles)}),h.forEach(g=>{Ac(r,g,[]).push(m)}),m}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Kv(e.duration,e.delay)}}class cP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Kv,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Uk(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ac(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function bA(n){return n&&1===n.nodeType}function b6(n,e){const t=n.style.display;return n.style.display=e??"none",t}function y6(n,e,t,i,r){const o=[];t.forEach(c=>o.push(b6(c)));const s=[];i.forEach((c,l)=>{const d=new Map;c.forEach(h=>{const f=e.computeStyle(l,h,r);d.set(h,f),(!f||0==f.length)&&(l[kl]=b_e,s.push(l))}),n.set(l,d)});let a=0;return t.forEach(c=>b6(c,o[a++])),s}function v6(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=t.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return e.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function nl(n,e){n.classList?.add(e)}function C_(n,e){n.classList?.remove(e)}function C_e(n,e,t){Hh(t).onDone(()=>n.processLeaveNode(e))}function w6(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Q8?w6(i.players,e):e.push(i)}}function x6(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class y0{constructor(e,t,i,r){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new v_e(e.body,t,i,r),this._timelineEngine=new h_e(e.body,t,i),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],d=Zk(this._driver,o,c,[]);if(c.length)throw function mge(n,e){return new We(3404,!1)}();a=function c_e(n,e,t){return new l_e(n,e,t)}(r,d,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=ZG(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=ZG(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}class v0{static#e=this.initialStylesByElement=new WeakMap;constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=v0.initialStylesByElement.get(e);r||v0.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&_d(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(_d(this._element,this._initialStyles),this._endStyles&&(_d(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(v0.initialStylesByElement.delete(this._element),this._startStyles&&(Bp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bp(this._element,this._endStyles),this._endStyles=null),_d(this._element,this._initialStyles),this._state=3)}}function lP(n){let e=null;return n.forEach((t,i)=>{(function M_e(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class E6{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Qk(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class C6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return t6(e,t)}getParentElement(e){return Hk(e)}query(e,t,i){return n6(e,t,i)}computeStyle(e,t,i){return Qk(e,t)}animate(e,t,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,d=s.filter(m=>m instanceof E6);(function jge(n,e){return 0===n||0===e})(i,r)&&d.forEach(m=>{m.currentSnapshot.forEach((g,b)=>l.set(b,g))});let h=function Fge(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}(t).map(m=>new Map(m));h=function Uge(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,Qk(n,a)))}}return e}(e,h,l);const f=function T_e(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=lP(e[0]),e.length>1&&(i=lP(e[e.length-1]))):e instanceof Map&&(t=lP(e)),t||i?new v0(n,t,i):null}(e,h);return new E6(e,h,c,f)}}const A6="@.disabled";class S6{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==A6?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class I_e extends S6{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==A6?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function D_e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function O_e(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}class R_e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,o)=>{const s=o?.parentNode(r);s&&o.removeChild(s,r)}}createRenderer(e,t){const r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){const l=this._rendererCache;let d=l.get(r);return d||(d=new S6("",r,this.engine,()=>l.delete(r)),l.set(r,d)),d}const o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,e,l.name,l)};return t.data.animation.forEach(a),new I_e(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId)return void this._zone.run(()=>t(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let k_e=(()=>{class n extends y0{constructor(t,i,r){super(t,i,r,kt(MC,{optional:!0}))}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(Wk),Ke($k))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const T6=[{provide:$k,useFactory:function P_e(){return new a6}},{provide:y0,useClass:k_e},{provide:uO,useFactory:function N_e(n,e,t){return new R_e(n,e,t)},deps:[qR,y0,_n]}],dP=[{provide:Wk,useFactory:()=>new C6},{provide:lo,useValue:"BrowserAnimations"},...T6],M6=[{provide:Wk,useClass:Gk},{provide:lo,useValue:"NoopAnimations"},...T6];let uP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?M6:dP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:dP,imports:[KR]})}return n})(),F_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi]})}return n})();function w0(n){return(w0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function pe(n,e,t){return(e=function B_e(n){var e=function L_e(n,e){if("object"!=w0(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=w0(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==w0(e)?e:String(e)}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I6(n){if(typeof window<"u"&&"object"==typeof window.process&&"renderer"===window.process.type||typeof process<"u"&&"object"==typeof process.versions&&process.versions.electron)return!0;const e="object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent,t=n||e;return!!(t&&t.indexOf("Electron")>=0)}function bd(){return!("object"==typeof process&&"[object process]"===String(process)&&!process.browser)||I6()}const D6=typeof __VERSION__<"u"?__VERSION__:"untranspiled source";bd();class U_e{constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";pe(this,"storage",void 0),pe(this,"id",void 0),pe(this,"config",void 0),this.storage=function j_e(n){try{const e=window[n],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch{return null}}(i),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const t=JSON.stringify(this.config);this.storage.setItem(this.id,t)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function hP(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const r=n.src.replace(/\(/g,"%28").replace(/\)/g,"%29");n.width>i&&(t=Math.min(t,i/n.width));const o=n.width*t,s=n.height*t,a=["font-size:1px;","padding:".concat(Math.floor(s/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(s,"px;"),"background:url(".concat(r,");"),"background-size:".concat(o,"px ").concat(s,"px;"),"color:transparent;"].join("");return["".concat(e," %c+"),a]}let vA;var n;function O6(n){return"string"==typeof n?vA[n.toUpperCase()]||vA.WHITE:n}function wA(n,e){if(!n)throw new Error(e||"Assertion failed")}(n=vA||(vA={}))[n.BLACK=30]="BLACK",n[n.RED=31]="RED",n[n.GREEN=32]="GREEN",n[n.YELLOW=33]="YELLOW",n[n.BLUE=34]="BLUE",n[n.MAGENTA=35]="MAGENTA",n[n.CYAN=36]="CYAN",n[n.WHITE=37]="WHITE",n[n.BRIGHT_BLACK=90]="BRIGHT_BLACK",n[n.BRIGHT_RED=91]="BRIGHT_RED",n[n.BRIGHT_GREEN=92]="BRIGHT_GREEN",n[n.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",n[n.BRIGHT_BLUE=94]="BRIGHT_BLUE",n[n.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",n[n.BRIGHT_CYAN=96]="BRIGHT_CYAN",n[n.BRIGHT_WHITE=97]="BRIGHT_WHITE";const Gh={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document,process:"object"==typeof process&&process},xA=Gh.window||Gh.self||Gh.global,x0=Gh.process||{};function A_(){let n;var e,t;if(bd&&"performance"in xA)n=null==xA||null===(e=xA.performance)||void 0===e||null===(t=e.now)||void 0===t?void 0:t.call(e);else if("hrtime"in x0){var i;const r=null==x0||null===(i=x0.hrtime)||void 0===i?void 0:i.call(x0);n=1e3*r[0]+r[1]/1e6}else n=Date.now();return n}const S_={debug:bd&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},q_e={enabled:!0,level:0};function il(){}const R6={},k6={once:!0};class E0{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};pe(this,"id",void 0),pe(this,"VERSION",D6),pe(this,"_startTs",A_()),pe(this,"_deltaTs",A_()),pe(this,"_storage",void 0),pe(this,"userData",{}),pe(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new U_e("__probe-".concat(this.id,"__"),q_e),this.timeStamp("".concat(this.id," started")),function $_e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const t=Object.getPrototypeOf(n),i=Object.getOwnPropertyNames(t);for(const r of i)"function"==typeof n[r]&&(e.find(o=>r===o)||(n[r]=n[r].bind(n)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((A_()-this._startTs).toPrecision(10))}getDelta(){return Number((A_()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){return this._storage.setConfiguration({enabled:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){wA(e,t)}warn(e){return this._getLogFunction(0,e,S_.warn,arguments,k6)}error(e){return this._getLogFunction(0,e,S_.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,S_.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,S_.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];return this._getLogFunction(e,t,S_.debug||S_.info,arguments,k6)}table(e,t,i){return t?this._getLogFunction(e,t,console.table||il,i&&[i],{tag:J_e(t)}):il}image(e){let{logLevel:t,priority:i,image:r,message:o="",scale:s=1}=e;return this._shouldLog(t||i)?bd?function K_e(n){let{image:e,message:t="",scale:i=1}=n;if("string"==typeof e){const o=new Image;return o.onload=()=>{const s=hP(o,t,i);console.log(...s)},o.src=e,il}const r=e.nodeName||"";if("img"===r.toLowerCase())return console.log(...hP(e,t,i)),il;if("canvas"===r.toLowerCase()){const o=new Image;return o.onload=()=>console.log(...hP(o,t,i)),o.src=e.toDataURL(),il}return il}({image:r,message:o,scale:s}):function Y_e(n){let{message:t="",scale:i=1}=n;return console.warn("removed"),il}({image:r,message:o,scale:s}):il}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||il)}group(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=N6({logLevel:e,message:t,opts:i}),{collapsed:o}=i;return r.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){return this.group(e,t,Object.assign({},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||il)}withGroup(e,t,i){this.group(e,t)();try{i()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=P6(e)}_getLogFunction(e,t,i,r,o){if(this._shouldLog(e)){o=N6({logLevel:e,message:t,args:r,opts:o}),wA(i=i||o.method),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=A_();const s=o.tag||o.message;if(o.once){if(R6[s])return il;R6[s]=A_()}return t=function X_e(n,e,t){if("string"==typeof e){const i=t.time?function z_e(n){const t=Math.max((arguments.length>1&&void 0!==arguments[1]?arguments[1]:8)-n.length,0);return"".concat(" ".repeat(t)).concat(n)}(function V_e(n){let e;return e=n<10?"".concat(n.toFixed(2),"ms"):n<100?"".concat(n.toFixed(1),"ms"):n<1e3?"".concat(n.toFixed(0),"ms"):"".concat((n/1e3).toFixed(2),"s"),e}(t.total)):"";e=function W_e(n,e,t){return!bd&&"string"==typeof n&&(e&&(e=O6(e),n="\x1b[".concat(e,"m").concat(n,"\x1b[39m")),t&&(e=O6(t),n="\x1b[".concat(t+10,"m").concat(n,"\x1b[49m"))),n}(e=t.time?"".concat(n,": ").concat(i,"  ").concat(e):"".concat(n,": ").concat(e),t.color,t.background)}return e}(this.id,o.message,o),i.bind(console,t,...o.args)}return il}}function P6(n){if(!n)return 0;let e;switch(typeof n){case"number":e=n;break;case"object":e=n.logLevel||n.priority||0;break;default:return 0}return wA(Number.isFinite(e)&&e>=0),e}function N6(n){const{logLevel:e,message:t}=n;n.logLevel=P6(e);const i=n.args?Array.from(n.args):[];for(;i.length&&i.shift()!==t;);switch(typeof e){case"string":case"function":void 0!==t&&i.unshift(t),n.message=e;break;case"object":Object.assign(n,e)}"function"==typeof n.message&&(n.message=n.message());const r=typeof n.message;return wA("string"===r||"object"===r),Object.assign(n,{args:i},n.opts)}function J_e(n){for(const e in n)for(const t in n[e])return t||"untitled";return"empty"}pe(E0,"VERSION",D6);const ji=new E0({id:"deck"}),C0=new class Q_e{constructor(e={}){pe(this,"_pool",[]),pe(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,{size:i=1,type:r,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:c}){const l=r||e&&e.constructor||Float32Array,d=t*i+o;if(ArrayBuffer.isView(e)){if(d<=e.length)return e;if(d*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new l(e.buffer,0,d)}let h=1/0;c&&(h=c*i+o);const f=this._allocate(l,d,a,h);return e&&s?f.set(e):a||f.fill(0,0,4),this._release(e),f}release(e){this._release(e)}_allocate(e,t,i,r){let o=Math.max(Math.ceil(t*this.opts.overAlloc),1);o>r&&(o=r);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,c=s.findIndex(l=>l.byteLength>=a);if(c>=0){const l=new e(s.splice(c,1)[0],0,o);return i&&l.fill(0),l}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:i}=e,{byteLength:r}=i,o=t.findIndex(s=>s.byteLength>=r);o<0?t.push(i):(o>0||t.length<this.opts.poolSize)&&t.splice(o,0,i),t.length>this.opts.poolSize&&t.shift()}},ebe=(Math,1/180*Math.PI),Go={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function tbe(n,{precision:e=Go.precision}={}){return n=function obe(n){return Math.round(n/Go.EPSILON)*Go.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function Iu(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ho(n){return function nbe(n,e){return Du(n,t=>t*ebe,e)}(n)}function js(n,e,t){return Du(n,i=>Math.max(e,Math.min(t,i)))}function EA(n,e,t){return Iu(n)?n.map((i,r)=>EA(i,e[r],t)):t*e+(1-t)*n}function T_(n,e,t){const i=Go.EPSILON;t&&(Go.EPSILON=t);try{if(n===e)return!0;if(Iu(n)&&Iu(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!T_(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):"number"==typeof n&&"number"==typeof e&&Math.abs(n-e)<=Go.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Go.EPSILON=i}}function Du(n,e,t){if(Iu(n)){const i=n;t=t||function sbe(n){return n.clone?n.clone():new Array(n.length)}(i);for(let r=0;r<t.length&&r<i.length;++r)t[r]=e(n[r],r,t);return t}return e(n)}class fP extends(function abe(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:Iu(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Go)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+tbe(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!T_(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){if(void 0===i)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if("number"==typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(Go.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}get elements(){return this}}function Ur(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}function CA(n,e,t=""){if(Go.debug&&!function cbe(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}function L6(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}class B6 extends fP{get x(){return this[0]}set x(e){this[0]=Ur(e)}get y(){return this[1]}set y(e){this[1]=Ur(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Ur(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Ur(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return L6(e>=0&&e<this.ELEMENTS,"index is out of range"),Ur(this[e])}setComponent(e,t){return L6(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var yd=1e-6,rc=typeof Float32Array<"u"?Float32Array:Array;function j6(){var n=new rc(3);return rc!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function U6(n,e,t){var i=new rc(3);return i[0]=n,i[1]=e,i[2]=t,i}function V6(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function AA(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];return n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s,n}function pP(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];return n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s,n}function z6(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,f=i*c-r*a,m=r*f-o*h,g=o*d-i*f,b=i*h-r*d,v=2*t[3];return h*=v,f*=v,g*=2,b*=2,n[0]=a+(d*=v)+(m*=2),n[1]=c+h+g,n[2]=l+f+b,n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function H6(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;return n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s,n}j6();const mP=[0,0,0];let SA;class ba extends B6{static get ZERO(){return SA||(SA=new ba(0,0,0),Object.freeze(SA)),SA}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&Iu(e)?this.copy(e):(Go.debug&&(Ur(e),Ur(t),Ur(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Go.debug&&(Ur(e.x),Ur(e.y),Ur(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Ur(e)}angle(e){return function bbe(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&V6(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return AA(this,this,e),this.check()}rotateX({radians:e,origin:t=mP}){return function mbe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=mP}){return function gbe(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=mP}){return function _be(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return pP(this,this,e),this.check()}transformAsVector(e){return H6(this,this,e),this.check()}transformByMatrix3(e){return function pbe(n,e,t){var i=e[0],r=e[1],o=e[2];n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8]}(this,this,e),this.check()}transformByMatrix2(e){return function xbe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return z6(this,this,e),this.check()}}const G6=new ba;function M_(n,e,t,i){G6.set(n,e,t);const r=G6.len();return{distance:i/r,normal:new ba(-n/r,-e/r,-t/r)}}function Mbe(n){return n-Math.fround(n)}let S0;function gP(n,e){const{size:t=1,startIndex:i=0}=e,r=void 0!==e.endIndex?e.endIndex:n.length,o=(r-i)/t;S0=C0.allocate(S0,o,{type:Float32Array,size:2*t});let s=i,a=0;for(;s<r;){for(let c=0;c<t;c++){const l=n[s++];S0[a+c]=l,S0[a+c+t]=Mbe(l)}a+=2*t}return S0.subarray(0,o*t*2)}class Ibe extends fP{toString(){let e="[";if(Go.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Ur(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function _P(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=e[9],f=e[10],m=e[11],g=e[12],b=e[13],v=e[14],D=e[15],N=t*a-i*s,Z=t*c-r*s,G=t*l-o*s,Oe=i*c-r*a,ze=i*l-o*a,st=r*l-o*c,pt=d*b-h*g,Je=d*v-f*g,yt=d*D-m*g,Pt=h*v-f*b,zt=h*D-m*b,xt=f*D-m*v,It=N*xt-Z*zt+G*Pt+Oe*yt-ze*Je+st*pt;return It?(n[0]=(a*xt-c*zt+l*Pt)*(It=1/It),n[1]=(r*zt-i*xt-o*Pt)*It,n[2]=(b*st-v*ze+D*Oe)*It,n[3]=(f*ze-h*st-m*Oe)*It,n[4]=(c*yt-s*xt-l*Je)*It,n[5]=(t*xt-r*yt+o*Je)*It,n[6]=(v*G-g*st-D*Z)*It,n[7]=(d*st-f*G+m*Z)*It,n[8]=(s*zt-a*yt+l*pt)*It,n[9]=(i*yt-t*zt-o*pt)*It,n[10]=(g*ze-b*G+D*N)*It,n[11]=(h*G-d*ze-m*N)*It,n[12]=(a*Je-s*Pt-c*pt)*It,n[13]=(t*Pt-i*Je+r*pt)*It,n[14]=(b*Z-g*Oe-v*N)*It,n[15]=(d*Oe-h*Z+f*N)*It,n):null}function Up(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=e[9],m=e[10],g=e[11],b=e[12],v=e[13],D=e[14],N=e[15],Z=t[0],G=t[1],Oe=t[2],ze=t[3];return n[0]=Z*i+G*a+Oe*h+ze*b,n[1]=Z*r+G*c+Oe*f+ze*v,n[2]=Z*o+G*l+Oe*m+ze*D,n[3]=Z*s+G*d+Oe*g+ze*N,n[4]=(Z=t[4])*i+(G=t[5])*a+(Oe=t[6])*h+(ze=t[7])*b,n[5]=Z*r+G*c+Oe*f+ze*v,n[6]=Z*o+G*l+Oe*m+ze*D,n[7]=Z*s+G*d+Oe*g+ze*N,n[8]=(Z=t[8])*i+(G=t[9])*a+(Oe=t[10])*h+(ze=t[11])*b,n[9]=Z*r+G*c+Oe*f+ze*v,n[10]=Z*o+G*l+Oe*m+ze*D,n[11]=Z*s+G*d+Oe*g+ze*N,n[12]=(Z=t[12])*i+(G=t[13])*a+(Oe=t[14])*h+(ze=t[15])*b,n[13]=Z*r+G*c+Oe*f+ze*v,n[14]=Z*o+G*l+Oe*m+ze*D,n[15]=Z*s+G*d+Oe*g+ze*N,n}function TA(n,e,t){var s,a,c,l,d,h,f,m,g,b,v,D,i=t[0],r=t[1],o=t[2];return e===n?(n[12]=e[0]*i+e[4]*r+e[8]*o+e[12],n[13]=e[1]*i+e[5]*r+e[9]*o+e[13],n[14]=e[2]*i+e[6]*r+e[10]*o+e[14],n[15]=e[3]*i+e[7]*r+e[11]*o+e[15]):(a=e[1],c=e[2],l=e[3],d=e[4],h=e[5],f=e[6],m=e[7],g=e[8],b=e[9],v=e[10],D=e[11],n[0]=s=e[0],n[1]=a,n[2]=c,n[3]=l,n[4]=d,n[5]=h,n[6]=f,n[7]=m,n[8]=g,n[9]=b,n[10]=v,n[11]=D,n[12]=s*i+d*r+g*o+e[12],n[13]=a*i+h*r+b*o+e[13],n[14]=c*i+f*r+v*o+e[14],n[15]=l*i+m*r+D*o+e[15]),n}function bP(n,e,t){var i=t[0],r=t[1],o=t[2];return n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*r,n[6]=e[6]*r,n[7]=e[7]*r,n[8]=e[8]*o,n[9]=e[9]*o,n[10]=e[10]*o,n[11]=e[11]*o,n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15],n}function W6(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[4],s=e[5],a=e[6],c=e[7],l=e[8],d=e[9],h=e[10],f=e[11];return e!==n&&(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[4]=o*r+l*i,n[5]=s*r+d*i,n[6]=a*r+h*i,n[7]=c*r+f*i,n[8]=l*r-o*i,n[9]=d*r-s*i,n[10]=h*r-a*i,n[11]=f*r-c*i,n}function $6(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[4],d=e[5],h=e[6],f=e[7];return e!==n&&(n[8]=e[8],n[9]=e[9],n[10]=e[10],n[11]=e[11],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r+l*i,n[1]=s*r+d*i,n[2]=a*r+h*i,n[3]=c*r+f*i,n[4]=l*r-o*i,n[5]=d*r-s*i,n[6]=h*r-a*i,n[7]=f*r-c*i,n}function MA(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function q6(n,e){return n[0]=-e[0],n[1]=-e[1],n}function X6(n,e,t,i){var r=e[0],o=e[1];return n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n}function Y6(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n[3]=e[3]*t,n}function T0(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3];return n[0]=t[0]*i+t[4]*r+t[8]*o+t[12]*s,n[1]=t[1]*i+t[5]*r+t[9]*o+t[13]*s,n[2]=t[2]*i+t[6]*r+t[10]*o+t[14]*s,n[3]=t[3]*i+t[7]*r+t[11]*o+t[15]*s,n}!function Gbe(){var n=new rc(2);rc!=Float32Array&&(n[0]=0,n[1]=0)}(),function $be(){var n=new rc(4);rc!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0)}();var K6=function(n){return n[n.COL0ROW0=0]="COL0ROW0",n[n.COL0ROW1=1]="COL0ROW1",n[n.COL0ROW2=2]="COL0ROW2",n[n.COL0ROW3=3]="COL0ROW3",n[n.COL1ROW0=4]="COL1ROW0",n[n.COL1ROW1=5]="COL1ROW1",n[n.COL1ROW2=6]="COL1ROW2",n[n.COL1ROW3=7]="COL1ROW3",n[n.COL2ROW0=8]="COL2ROW0",n[n.COL2ROW1=9]="COL2ROW1",n[n.COL2ROW2=10]="COL2ROW2",n[n.COL2ROW3=11]="COL2ROW3",n[n.COL3ROW0=12]="COL3ROW0",n[n.COL3ROW1=13]="COL3ROW1",n[n.COL3ROW2=14]="COL3ROW2",n[n.COL3ROW3=15]="COL3ROW3",n}(K6||{});const sye=45*Math.PI/180,aye=1,yP=.1,vP=500,cye=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Bt extends Ibe{static get IDENTITY(){return function dye(){return DA||(DA=new Bt,Object.freeze(DA)),DA}()}static get ZERO(){return function lye(){return IA||(IA=new Bt([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(IA)),IA}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return K6}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,i,r,o,s,a,c,l,d,h,f,m,g,b,v){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this[9]=d,this[10]=h,this[11]=f,this[12]=m,this[13]=g,this[14]=b,this[15]=v,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l,d,h,f,m,g,b,v){return this[0]=e,this[1]=o,this[2]=l,this[3]=m,this[4]=t,this[5]=s,this[6]=d,this[7]=g,this[8]=i,this[9]=a,this[10]=h,this[11]=b,this[12]=r,this[13]=c,this[14]=f,this[15]=v,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(cye)}fromObject(e){return this.check()}fromQuaternion(e){return function Lbe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,f=r*s,m=r*a,g=r*c,b=o*s,v=o*a,D=o*c;n[0]=1-h-g,n[1]=d+D,n[2]=f-v,n[3]=0,n[4]=d-D,n[5]=1-l-g,n[6]=m+b,n[7]=0,n[8]=f+v,n[9]=m-b,n[10]=1-l-h,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:i,bottom:r,top:o,near:s=yP,far:a=vP}=e;return a===1/0?function uye(n,e,t,i,r,o){const a=2*o/(r-i),c=(t+e)/(t-e),l=(r+i)/(r-i),f=-2*o;n[0]=2*o/(t-e),n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=a,n[6]=0,n[7]=0,n[8]=c,n[9]=l,n[10]=-1,n[11]=-1,n[12]=0,n[13]=0,n[14]=f,n[15]=0}(this,t,i,r,o,s):function Bbe(n,e,t,i,r,o,s){var a=1/(t-e),c=1/(r-i),l=1/(o-s);n[0]=2*o*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=2*o*c,n[6]=0,n[7]=0,n[8]=(t+e)*a,n[9]=(r+i)*c,n[10]=(s+o)*l,n[11]=-1,n[12]=0,n[13]=0,n[14]=s*o*2*l,n[15]=0}(this,t,i,r,o,s,a),this.check()}lookAt(e){const{eye:t,center:i=[0,0,0],up:r=[0,1,0]}=e;return function Hbe(n,e,t,i){var r,o,s,a,c,l,d,h,f,m,g=e[0],b=e[1],v=e[2],D=i[0],N=i[1],Z=i[2],G=t[0],Oe=t[1],ze=t[2];Math.abs(g-G)<yd&&Math.abs(b-Oe)<yd&&Math.abs(v-ze)<yd?function Dbe(n){n[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1}(n):(d=g-G,h=b-Oe,f=v-ze,r=N*(f*=m=1/Math.hypot(d,h,f))-Z*(h*=m),o=Z*(d*=m)-D*f,s=D*h-N*d,(m=Math.hypot(r,o,s))?(r*=m=1/m,o*=m,s*=m):(r=0,o=0,s=0),a=h*s-f*o,c=f*r-d*s,l=d*o-h*r,(m=Math.hypot(a,c,l))?(a*=m=1/m,c*=m,l*=m):(a=0,c=0,l=0),n[0]=r,n[1]=a,n[2]=d,n[3]=0,n[4]=o,n[5]=c,n[6]=h,n[7]=0,n[8]=s,n[9]=l,n[10]=f,n[11]=0,n[12]=-(r*g+o*b+s*v),n[13]=-(a*g+c*b+l*v),n[14]=-(d*g+h*b+f*v),n[15]=1)}(this,t,i,r),this.check()}ortho(e){const{left:t,right:i,bottom:r,top:o,near:s=yP,far:a=vP}=e;return function Vbe(n,e,t,i,r,o,s){var a=1/(e-t),c=1/(i-r),l=1/(o-s);n[0]=-2*a,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=-2*c,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=2*l,n[11]=0,n[12]=(e+t)*a,n[13]=(r+i)*c,n[14]=(s+o)*l,n[15]=1}(this,t,i,r,o,s,a),this.check()}orthographic(e){const{fovy:t=sye,aspect:i=aye,focalDistance:r=1,near:o=yP,far:s=vP}=e;J6(t);const c=r*Math.tan(t/2),l=c*i;return this.ortho({left:-l,right:l,bottom:-c,top:c,near:o,far:s})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:i=1,near:r=.1,far:o=500}=e;return J6(t),function jbe(n,e,t,i,r){var s,o=1/Math.tan(e/2);n[0]=o/t,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=o,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[11]=-1,n[12]=0,n[13]=0,n[15]=0,null!=r&&r!==1/0?(n[10]=(r+i)*(s=1/(i-r)),n[14]=2*r*i*s):(n[10]=-1,n[14]=-2*i)}(this,t,i,r,o),this.check()}determinant(){return function Rbe(n){var e=n[0],t=n[1],i=n[2],r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8],d=n[9],h=n[10],f=n[11],m=n[12],g=n[13],b=n[14],v=n[15];return(e*s-t*o)*(h*v-f*b)-(e*a-i*o)*(d*v-f*g)+(e*c-r*o)*(d*b-h*g)+(t*a-i*s)*(l*v-f*m)-(t*c-r*s)*(l*b-h*m)+(i*c-r*a)*(l*g-d*m)}(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0];const i=this.getScale(t=t||[-0,-0,-0]),r=1/i[0],o=1/i[1],s=1/i[2];return e[0]=this[0]*r,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*r,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*r,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return function Obe(n,e){if(n===e){var t=e[1],i=e[2],r=e[3],o=e[6],s=e[7],a=e[11];n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=t,n[6]=e[9],n[7]=e[13],n[8]=i,n[9]=o,n[11]=e[14],n[12]=r,n[13]=s,n[14]=a}else n[0]=e[0],n[1]=e[4],n[2]=e[8],n[3]=e[12],n[4]=e[1],n[5]=e[5],n[6]=e[9],n[7]=e[13],n[8]=e[2],n[9]=e[6],n[10]=e[10],n[11]=e[14],n[12]=e[3],n[13]=e[7],n[14]=e[11],n[15]=e[15]}(this,this),this.check()}invert(){return _P(this,this),this.check()}multiplyLeft(e){return Up(this,e,this),this.check()}multiplyRight(e){return Up(this,this,e),this.check()}rotateX(e){return W6(this,this,e),this.check()}rotateY(e){return function Pbe(n,e,t){var i=Math.sin(t),r=Math.cos(t),o=e[0],s=e[1],a=e[2],c=e[3],l=e[8],d=e[9],h=e[10],f=e[11];e!==n&&(n[4]=e[4],n[5]=e[5],n[6]=e[6],n[7]=e[7],n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]),n[0]=o*r-l*i,n[1]=s*r-d*i,n[2]=a*r-h*i,n[3]=c*r-f*i,n[8]=o*i+l*r,n[9]=s*i+d*r,n[10]=a*i+h*r,n[11]=c*i+f*r}(this,this,e),this.check()}rotateZ(e){return $6(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function kbe(n,e,t,i){var c,l,d,h,f,m,g,b,v,D,N,Z,G,Oe,ze,st,pt,Je,yt,Pt,zt,xt,It,Jt,r=i[0],o=i[1],s=i[2],a=Math.hypot(r,o,s);a<yd||(r*=a=1/a,o*=a,s*=a,c=Math.sin(t),l=Math.cos(t),f=e[1],m=e[2],g=e[3],v=e[5],D=e[6],N=e[7],G=e[9],Oe=e[10],ze=e[11],yt=r*o*(d=1-l)-s*c,Pt=o*o*d+l,zt=s*o*d+r*c,xt=r*s*d+o*c,It=o*s*d-r*c,Jt=s*s*d+l,n[0]=(h=e[0])*(st=r*r*d+l)+(b=e[4])*(pt=o*r*d+s*c)+(Z=e[8])*(Je=s*r*d-o*c),n[1]=f*st+v*pt+G*Je,n[2]=m*st+D*pt+Oe*Je,n[3]=g*st+N*pt+ze*Je,n[4]=h*yt+b*Pt+Z*zt,n[5]=f*yt+v*Pt+G*zt,n[6]=m*yt+D*Pt+Oe*zt,n[7]=g*yt+N*Pt+ze*zt,n[8]=h*xt+b*It+Z*Jt,n[9]=f*xt+v*It+G*Jt,n[10]=m*xt+D*It+Oe*Jt,n[11]=g*xt+N*It+ze*Jt,e!==n&&(n[12]=e[12],n[13]=e[13],n[14]=e[14],n[15]=e[15]))}(this,this,e,t),this.check()}scale(e){return bP(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return TA(this,this,e),this.check()}transform(e,t){return 4===e.length?(CA(t=T0(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:i}=e;let r;switch(i){case 2:r=function Wbe(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[4]*r+t[12],n[1]=t[1]*i+t[5]*r+t[13],n}(t||[-0,-0],e,this);break;case 3:r=pP(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return CA(r,e.length),r}transformAsVector(e,t){let i;switch(e.length){case 2:i=function wbe(n,e,t){const i=e[0],r=e[1],o=t[3]*i+t[7]*r||1;return n[0]=(t[0]*i+t[4]*r)/o,n[1]=(t[1]*i+t[5]*r)/o,n}(t||[-0,-0],e,this);break;case 3:i=H6(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return CA(i,e.length),i}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,i){return this.identity().translate([e,t,i])}}let IA,DA;function J6(n){if(n>2*Math.PI)throw Error("expected radians")}function I_(n,e){const t=T0([],e,n);return Y6(t,t,1/t[3]),t}function Q6(n,e){const t=n%e;return t<0?e+t:t}function wP(n,e,t){return n<e?e:n>t?t:n}const xP=Math.log2||function fye(n){return Math.log(n)*Math.LOG2E};function Ou(n,e){if(!n)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const Pl=Math.PI,Z6=Pl/4,rl=Pl/180,EP=180/Pl,D_=512,OA=4003e4,RA=85.051129,pye=1.5;function kA(n){const[e,t]=n;return Ou(Number.isFinite(e)),Ou(Number.isFinite(t)&&t>=-90&&t<=90,"invalid latitude"),[D_*(e*rl+Pl)/(2*Pl),D_*(Pl+Math.log(Math.tan(Z6+t*rl*.5)))/(2*Pl)]}function O_(n){const[e,t]=n,i=e/D_*(2*Pl)-Pl,r=2*(Math.atan(Math.exp(t/D_*(2*Pl)-Pl))-Z6);return[i*EP,r*EP]}function CP(n){const{latitude:e,longitude:t,highPrecision:i=!1}=n;Ou(Number.isFinite(e)&&Number.isFinite(t));const r=D_,o=Math.cos(e*rl),s=r/360,a=s/o,c=r/OA/o,l={unitsPerMeter:[c,c,c],metersPerUnit:[1/c,1/c,1/c],unitsPerDegree:[s,a,c],degreesPerUnit:[1/s,1/a,1/c]};if(i){const d=rl*Math.tan(e*rl)/o,f=r/OA*d,m=f/a*c;l.unitsPerDegree2=[0,s*d/2,f],l.unitsPerMeter2=[m,0,m]}return l}function e9(n,e){const[t,i,r]=n,[o,s,a]=e,{unitsPerMeter:c,unitsPerMeter2:l}=CP({longitude:t,latitude:i,highPrecision:!0}),d=kA(n);d[0]+=o*(c[0]+l[0]*s),d[1]+=s*(c[1]+l[1]*s);const h=O_(d),f=(r||0)+(a||0);return Number.isFinite(r)||Number.isFinite(a)?[h[0],h[1],f]:h}function PA(n){return 2*Math.atan(.5/n)*EP}function AP(n){return.5/Math.tan(.5*n*rl)}function n9(n,e){const[t,i,r=0]=n;return Ou(Number.isFinite(t)&&Number.isFinite(i)&&Number.isFinite(r)),I_(e,[t,i,r,1])}function M0(n,e,t=0){const[i,r,o]=n;if(Ou(Number.isFinite(i)&&Number.isFinite(r),"invalid pixel coordinate"),Number.isFinite(o))return I_(e,[i,r,o,1]);const s=I_(e,[i,r,0,1]),a=I_(e,[i,r,1,1]),c=s[2],l=a[2];return X6([],s,a,c===l?0:((t||0)-c)/(l-c))}function i9(n){const{width:e,height:t,bounds:i,minExtent:r=0,maxZoom:o=24,offset:s=[0,0]}=n,[[a,c],[l,d]]=i,h=function bye(n=0){return"number"==typeof n?{top:n,bottom:n,left:n,right:n}:(Ou(Number.isFinite(n.top)&&Number.isFinite(n.bottom)&&Number.isFinite(n.left)&&Number.isFinite(n.right)),n)}(n.padding),f=kA([a,wP(d,-RA,RA)]),m=kA([l,wP(c,-RA,RA)]),g=[Math.max(Math.abs(m[0]-f[0]),r),Math.max(Math.abs(m[1]-f[1]),r)],b=[e-h.left-h.right-2*Math.abs(s[0]),t-h.top-h.bottom-2*Math.abs(s[1])];Ou(b[0]>0&&b[1]>0);const v=b[0]/g[0],D=b[1]/g[1],Oe=O_([(m[0]+f[0])/2+(h.right-h.left)/2/v,(m[1]+f[1])/2+(h.top-h.bottom)/2/D]),ze=Math.min(o,xP(Math.abs(Math.min(v,D))));return Ou(Number.isFinite(ze)),{longitude:Oe[0],latitude:Oe[1],zoom:ze}}const r9=Math.PI/180;function o9(n,e,t){const{pixelUnprojectionMatrix:i}=n,r=I_(i,[e,0,1,1]),o=I_(i,[e,n.height,1,1]),l=O_(X6([],r,o,(t*n.distanceScales.unitsPerMeter[2]-r[2])/(o[2]-r[2])));return l.push(t),l}const Xi={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(Xi,"IDENTITY",{get:()=>(ji.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const vd={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},NA={common:0,meters:1,pixels:2},d9={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},xye=Math.PI/180,Eye=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],u9=[0,0,0],Cye={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class Wh{constructor(e={}){pe(this,"id",void 0),pe(this,"x",void 0),pe(this,"y",void 0),pe(this,"width",void 0),pe(this,"height",void 0),pe(this,"padding",void 0),pe(this,"isGeospatial",void 0),pe(this,"zoom",void 0),pe(this,"focalDistance",void 0),pe(this,"position",void 0),pe(this,"modelMatrix",void 0),pe(this,"distanceScales",void 0),pe(this,"scale",void 0),pe(this,"center",void 0),pe(this,"cameraPosition",void 0),pe(this,"projectionMatrix",void 0),pe(this,"viewMatrix",void 0),pe(this,"viewMatrixUncentered",void 0),pe(this,"viewMatrixInverse",void 0),pe(this,"viewProjectionMatrix",void 0),pe(this,"pixelProjectionMatrix",void 0),pe(this,"pixelUnprojectionMatrix",void 0),pe(this,"resolution",void 0),pe(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||Cye,this.focalDistance=e.focalDistance||1,this.position=e.position||u9,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:i}=e;this.isGeospatial=Number.isFinite(i)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?vd.WEB_MERCATOR:vd.WEB_MERCATOR_AUTO_OFFSET:vd.IDENTITY}equals(e){return e instanceof Wh&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&T_(e.projectionMatrix,this.projectionMatrix)&&T_(e.viewMatrix,this.viewMatrix))}project(e,{topLeft:t=!0}={}){const r=n9(this.projectPosition(e),this.pixelProjectionMatrix),[o,s]=r,a=t?s:this.height-s;return 2===e.length?[o,a]:[o,a,r[2]]}unproject(e,{topLeft:t=!0,targetZ:i}={}){const[r,o,s]=e,l=M0([r,t?o:this.height-o,s],this.pixelUnprojectionMatrix,i&&i*this.distanceScales.unitsPerMeter[2]),[d,h,f]=this.unprojectPosition(l);return Number.isFinite(s)?[d,h,f]:Number.isFinite(i)?[d,h,i]:[d,h]}projectPosition(e){const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=kA(e);return t[1]=js(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?O_(e):e}getBounds(e={}){const t={targetZ:e.z||0},i=this.unproject([0,0],t),r=this.unproject([this.width,0],t),o=this.unproject([0,this.height],t),s=this.unproject([this.width,this.height],t);return[Math.min(i[0],r[0],o[0],s[0]),Math.min(i[1],r[1],o[1],s[1]),Math.max(i[0],r[0],o[0],s[0]),Math.max(i[1],r[1],o[1],s[1])]}getDistanceScales(e){return e?CP({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:t,width:i=1,height:r=1}){return e<this.x+this.width&&this.x<e+i&&t<this.y+this.height&&this.y<t+r}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,function Tbe(n){return{left:M_(n[3]+n[0],n[7]+n[4],n[11]+n[8],n[15]+n[12]),right:M_(n[3]-n[0],n[7]-n[4],n[11]-n[8],n[15]-n[12]),bottom:M_(n[3]+n[1],n[7]+n[5],n[11]+n[9],n[15]+n[13]),top:M_(n[3]-n[1],n[7]-n[5],n[11]-n[9],n[15]-n[13]),near:M_(n[3]+n[2],n[7]+n[6],n[11]+n[10],n[15]+n[14]),far:M_(n[3]-n[2],n[7]-n[6],n[11]-n[10],n[15]-n[14])}}(this.viewProjectionMatrix)),this._frustumPlanes}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,i=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=function gye(n){const{latitude:e}=n;Ou(Number.isFinite(e));const t=Math.cos(e*rl);return function mye(n){return xP(n)}(OA*t)-9}({latitude:i})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||CP({latitude:i,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:o,modelMatrix:s}=e;let a=u9;if(o&&(a=s?new Bt(s).transformAsVector(o,[]):o),this.isGeospatial){const c=this.projectPosition([t,i,0]);this.center=new ba(a).scale(this.distanceScales.unitsPerMeter).add(c)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=Eye,projectionMatrix:i=null,orthographic:r=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:c=1e3,padding:l=null,focalDistance:d=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new Bt).multiplyRight(t).translate(new ba(this.center).negate()),this.projectionMatrix=i||function Aye({width:n,height:e,orthographic:t,fovyRadians:i,focalDistance:r,padding:o,near:s,far:a}){const c=n/e,l=t?(new Bt).orthographic({fovy:i,aspect:c,focalDistance:r,near:s,far:a}):(new Bt).perspective({fovy:i,aspect:c,near:s,far:a});if(o){const{left:d=0,right:h=0,top:f=0,bottom:m=0}=o,g=js((d+n-h)/2,0,n)-n/2,b=js((f+e-m)/2,0,e)-e/2;l[8]-=2*g/n,l[9]+=2*b/e}return l}({width:this.width,height:this.height,orthographic:r,fovyRadians:o||s*xye,focalDistance:d,padding:l,near:a,far:c});const h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Up(h,h,this.projectionMatrix),Up(h,h,this.viewMatrix),this.viewProjectionMatrix=h,this.viewMatrixInverse=_P([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=function Sbe(n){return[n[12],n[13],n[14]]}(this.viewMatrixInverse);const f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];bP(f,f,[this.width/2,-this.height/2,1]),TA(f,f,[1,-1,0]),Up(m,f,this.viewProjectionMatrix),this.pixelProjectionMatrix=m,this.pixelUnprojectionMatrix=_P([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||ji.warn("Pixel project matrix not invertible")()}}pe(Wh,"displayName","Viewport");const Sye=/([0-9]+\.?[0-9]*)(%|px)/;function $h(n){switch(typeof n){case"number":return{position:n,relative:!1};case"string":const e=Sye.exec(n);if(e&&e.length>=3){const t="%"===e[2],i=parseFloat(e[1]);return{position:t?i/100:i,relative:t}}default:throw new Error("Could not parse position string ".concat(n))}}function qh(n,e){return n.relative?Math.round(n.position*e):n.position}function R_(n,e){if(n===e)return!0;if(!n||!e)return!1;for(const t in n){const i=n[t],r=e[t];if(!(i===r||Array.isArray(i)&&Array.isArray(r)&&R_(i,r)))return!1}return!0}function Us(n,e){if(!n)throw new Error(e||"deck.gl: assertion failed.")}class TP{constructor(e){pe(this,"id",void 0),pe(this,"viewportInstance",void 0),pe(this,"_x",void 0),pe(this,"_y",void 0),pe(this,"_width",void 0),pe(this,"_height",void 0),pe(this,"_padding",void 0),pe(this,"props",void 0);const{id:t,x:i=0,y:r=0,width:o="100%",height:s="100%",padding:a=null,viewportInstance:c}=e||{};Us(!c||c instanceof Wh),this.viewportInstance=c,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=$h(i),this._y=$h(r),this._width=$h(o),this._height=$h(s),this._padding=a&&{left:$h(a.left||0),right:$h(a.right||0),top:$h(a.top||0),bottom:$h(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&R_(this.props,e.props))}makeViewport({width:e,height:t,viewState:i}){if(this.viewportInstance)return this.viewportInstance;i=this.filterViewState(i);const r=this.getDimensions({width:e,height:t});return new this.ViewportType({...i,...this.props,...r})}getViewStateId(){const{viewState:e}=this.props;return"string"==typeof e?e:e?.id||this.id}filterViewState(e){if(this.props.viewState&&"object"==typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const i in this.props.viewState)"id"!==i&&(t[i]=this.props.viewState[i]);return t}return e}getDimensions({width:e,height:t}){const i={x:qh(this._x,e),y:qh(this._y,t),width:qh(this._width,e),height:qh(this._height,t)};return this._padding&&(i.padding={left:qh(this._padding.left,e),top:qh(this._padding.top,t),right:qh(this._padding.right,e),bottom:qh(this._padding.bottom,t)}),i}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"==typeof e?{type:e}:{type:this.ControllerType,...e}:null}}const Tye=(new Bt).lookAt({eye:[0,0,1]});function Mye({width:n,height:e,near:t,far:i,padding:r}){let o=-n/2,s=n/2,a=-e/2,c=e/2;if(r){const{left:l=0,right:d=0,top:h=0,bottom:f=0}=r,m=js((l+n-d)/2,0,n)-n/2,g=js((h+e-f)/2,0,e)-e/2;o-=m,s-=m,a+=g,c+=g}return(new Bt).ortho({left:o,right:s,bottom:a,top:c,near:t,far:i})}class Iye extends Wh{constructor(e){const{width:t,height:i,near:r=.1,far:o=1e3,zoom:s=0,target:a=[0,0,0],padding:c=null,flipY:l=!0}=e,d=Array.isArray(s)?s[0]:s,h=Array.isArray(s)?s[1]:s,f=Math.min(d,h),m=Math.pow(2,f);let g;if(d!==h){const b=Math.pow(2,d),v=Math.pow(2,h);g={unitsPerMeter:[b/m,v/m,1],metersPerUnit:[m/b,m/v,1]}}super({...e,longitude:void 0,position:a,viewMatrix:Tye.clone().scale([m,m*(l?-1:1),m]),projectionMatrix:Mye({width:t||1,height:i||1,padding:c,near:r,far:o}),zoom:f,distanceScales:g})}projectFlat([e,t]){const{unitsPerMeter:i}=this.distanceScales;return[e*i[0],t*i[1]]}unprojectFlat([e,t]){const{metersPerUnit:i}=this.distanceScales;return[e*i[0],t*i[1]]}panByPosition(e,t){const i=M0(t,this.pixelUnprojectionMatrix),o=MA([],this.projectFlat(e),q6([],i)),s=MA([],this.center,o);return{target:this.unprojectFlat(s)}}}class D0{constructor(e){pe(this,"_inProgress",void 0),pe(this,"_handle",void 0),pe(this,"_timeline",void 0),pe(this,"time",void 0),pe(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,i;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(i=this.settings).onStart)||void 0===t||t.call(i,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:i,settings:r}=this;this._handle=i.addChannel({delay:i.getTime(),duration:r.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const h9=()=>{},Dye=n=>n;class Rye{constructor(e){pe(this,"getControllerState",void 0),pe(this,"props",void 0),pe(this,"propsInTransition",void 0),pe(this,"transition",void 0),pe(this,"onViewStateChange",void 0),pe(this,"onStateChange",void 0),pe(this,"_onTransitionUpdate",t=>{const{time:i,settings:{interpolator:r,startProps:o,endProps:s,duration:a,easing:c}}=t,l=c(i/a),d=r.interpolateProps(o,s,l);this.propsInTransition=this.getControllerState({...this.props,...d}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})}),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new D0(e.timeline),this.onViewStateChange=e.onViewStateChange||h9,this.onStateChange=e.onStateChange||h9}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const i=this.props;if(this.props=e,!i||this._shouldIgnoreViewportChange(i,e))return!1;if(this._isTransitionEnabled(e)){let r=i;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;r={...i,...2===o?s:this.propsInTransition||i}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:i}=e;return(t>0||"auto"===t)&&!!i}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?3===this.transition.settings.interruption||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const i=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(i),o=t.transitionInterpolator,s=o.getDuration?o.getDuration(e,t):t.transitionDuration;if(0===s)return;const a=o.initializeProps(e,r);this.propsInTransition={};const c={duration:s,easing:t.transitionEasing||Dye,interpolator:o,interruption:t.transitionInterruption||1,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(c),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e?.(t)}}}class kye{constructor(e){pe(this,"_propsToCompare",void 0),pe(this,"_propsToExtract",void 0),pe(this,"_requiredProps",void 0);const{compare:t,extract:i,required:r}=e;this._propsToCompare=t,this._propsToExtract=i||t,this._requiredProps=r}arePropsEqual(e,t){for(const i of this._propsToCompare)if(!(i in e)||!(i in t)||!T_(e[i],t[i]))return!1;return!0}initializeProps(e,t){const i={},r={};for(const o of this._propsToExtract)(o in e||o in t)&&(i[o]=e[o],r[o]=t[o]);return this._checkRequiredProps(i),this._checkRequiredProps(r),{start:i,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(t=>{const i=e[t];Us(Number.isFinite(i)||Array.isArray(i),"".concat(t," is required for transition"))})}}const Pye=["longitude","latitude","zoom","bearing","pitch"],Nye=["longitude","latitude","zoom"];class FA extends kye{constructor(e={}){const t=Array.isArray(e)?e:e.transitionProps,i=Array.isArray(e)?{}:e;i.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:Pye,required:Nye},super(i.transitionProps),pe(this,"opts",void 0),this.opts=i}initializeProps(e,t){const i=super.initializeProps(e,t),{makeViewport:r,around:o}=this.opts;if(r&&o){const s=r(e),a=r(t),c=s.unproject(o);i.start.around=o,Object.assign(i.end,{around:a.project(c),aroundPosition:c,width:t.width,height:t.height})}return i}interpolateProps(e,t,i){const r={};for(const o of this._propsToExtract)r[o]=EA(e[o]||0,t[o]||0,i);if(t.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...t,...r});Object.assign(r,o.panByPosition(t.aroundPosition,EA(e.around,t.around,i)))}return r}}const Xh={transitionDuration:0},LA=n=>1-(1-n)*(1-n),k__WHEEL=["wheel"],k__PAN=["panstart","panmove","panend"],k__PINCH=["pinchstart","pinchmove","pinchend"],k__TRIPLE_PAN=["tripanstart","tripanmove","tripanend"],k__DOUBLE_TAP=["doubletap"],k__KEYBOARD=["keydown"],Vp={};class IP{constructor(e){pe(this,"props",void 0),pe(this,"state",{}),pe(this,"transitionManager",void 0),pe(this,"eventManager",void 0),pe(this,"onViewStateChange",void 0),pe(this,"onStateChange",void 0),pe(this,"makeViewport",void 0),pe(this,"_controllerState",void 0),pe(this,"_events",{}),pe(this,"_interactionState",{isDragging:!1}),pe(this,"_customEvents",[]),pe(this,"_eventStartBlocked",null),pe(this,"_panMove",!1),pe(this,"invertPan",!1),pe(this,"dragMode","rotate"),pe(this,"inertia",0),pe(this,"scrollZoom",!0),pe(this,"dragPan",!0),pe(this,"dragRotate",!0),pe(this,"doubleClickZoom",!0),pe(this,"touchZoom",!0),pe(this,"touchRotate",!1),pe(this,"keyboard",!0),this.transitionManager=new Rye({...e,getControllerState:t=>new this.ControllerState(t),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events)if(this._events[t]){var e;null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:i}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-i]}isPointInBounds(e,t){const{width:i,height:r}=this.props;if(t&&t.handled)return!1;const o=e[0]>=0&&e[0]<=i&&e[1]>=0&&e[1]<=r;return o&&t&&t.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:t}=e;return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout(()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:i=!0,dragPan:r=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:c=!1,keyboard:l=!0}=e,d=!!this.onViewStateChange;this.toggleEvents(k__WHEEL,d&&i),this.toggleEvents(k__PAN,d&&(r||o)),this.toggleEvents(k__PINCH,d&&(a||c)),this.toggleEvents(k__TRIPLE_PAN,d&&c),this.toggleEvents(k__DOUBLE_TAP,d&&s),this.toggleEvents(k__KEYBOARD,d&&l),this.scrollZoom=i,this.dragPan=r,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=c,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach(i=>{this._events[i]!==t&&(this._events[i]=t,t?this.eventManager.on(i,this.handleEvent):this.eventManager.off(i,this.handleEvent))})}updateViewport(e,t=null,i={}){const r={...e.getViewportProps(),...t},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(i),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:s})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let i=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(i=!i);const r=this.controllerState[i?"panStart":"rotateStart"]({pos:t});return this._panMove=i,this.updateViewport(r,Xh,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),i=this.controllerState.pan({pos:t});return this.updateViewport(i,Xh,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.pan({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:LA},{isDragging:!1,isPanning:!0})}else{const i=this.controllerState.panEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),i=this.controllerState.rotate({pos:t});return this.updateViewport(i,Xh,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const i=this.getCenter(e),o=this.controllerState.rotate({pos:[i[0]+e.velocityX*t/2,i[1]+e.velocityY*t/2]}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:LA},{isDragging:!1,isRotating:!0})}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:i=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*i)));o<0&&0!==s&&(s=1/s);const a=this.controllerState.zoom({pos:t,scale:s});return this.updateViewport(a,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.rotateStart({pos:t});return this.updateViewport(i,Xh,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate||!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const i=this.controllerState.rotate({pos:t});return this.updateViewport(i,Xh,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const i=this.getCenter(e),r=[i[0],i[1]+=e.velocityY*t/2],o=this.controllerState.rotate({pos:r});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:LA},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const i=this.controllerState.rotateEnd();this.updateViewport(i,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return Vp._startPinchRotation=e.rotation,Vp._lastPinchEvent=e,this.updateViewport(i,Xh,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:i}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:i})}if(this.touchRotate){const{rotation:i}=e;t=t.rotate({deltaAngleX:Vp._startPinchRotation-i})}return this.updateViewport(t,Xh,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Vp._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:i}=Vp;if(this.touchZoom&&t&&i&&e.scale!==i.scale){const r=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(i.scale))/(e.deltaTime-i.deltaTime),c=Math.pow(2,s+a*t/2);o=o.zoom({pos:r,scale:c}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:LA},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const r=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(r,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Vp._startPinchRotation=null,Vp._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const i=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:i?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:i,moveSpeed:r,rotateSpeedX:o,rotateSpeedY:s}=!0===this.keyboard?{}:this.keyboard,{controllerState:a}=this;let c;const l={};switch(e.srcEvent.code){case"Minus":c=t?a.zoomOut(i).zoomOut(i):a.zoomOut(i),l.isZooming=!0;break;case"Equal":c=t?a.zoomIn(i).zoomIn(i):a.zoomIn(i),l.isZooming=!0;break;case"ArrowLeft":t?(c=a.rotateLeft(o),l.isRotating=!0):(c=a.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(c=a.rotateRight(o),l.isRotating=!0):(c=a.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(c=a.rotateUp(s),l.isRotating=!0):(c=a.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(c=a.rotateDown(s),l.isRotating=!0):(c=a.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(c,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new FA({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:Xh}}class f9{constructor(e,t){pe(this,"_viewportProps",void 0),pe(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class p9 extends f9{constructor(e){const{width:t,height:i,rotationX:r=0,rotationOrbit:o=0,target:s=[0,0,0],zoom:a=0,minRotationX:c=-90,maxRotationX:l=90,minZoom:d=-1/0,maxZoom:h=1/0,startPanPosition:f,startRotatePos:m,startRotationX:g,startRotationOrbit:b,startZoomPosition:v,startZoom:D}=e;super({width:t,height:i,rotationX:r,rotationOrbit:o,target:s,zoom:a,minRotationX:c,maxRotationX:l,minZoom:d,maxZoom:h},{startPanPosition:f,startRotatePos:m,startRotationX:g,startRotationOrbit:b,startZoomPosition:v,startZoom:D}),pe(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanPosition:this._unproject(e)})}pan({pos:e,startPosition:t}){const i=this.getState().startPanPosition||t;if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startRotationX:o,startRotationOrbit:s}=this.getState(),{width:a,height:c}=this.getViewportProps();if(!r||void 0===o||void 0===s)return this;let l;if(e){let d=(e[0]-r[0])/a;(o<-90||o>90)&&(d*=-1),l={rotationX:o+(e[1]-r[1])/c*180,rotationOrbit:s+180*d}}else l={rotationX:o+i,rotationOrbit:s+t};return this._getUpdatedState(l)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{rotationOrbit:r}=i;return Math.abs(r-t.rotationOrbit)>180&&(i.rotationOrbit=r<0?r+360:r-360),i}zoomStart({pos:e}){return this._getUpdatedState({startZoomPosition:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomPosition:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const s=this._calculateNewZoom({scale:i,startZoom:r}),a=this.makeViewport({...this.getViewportProps(),zoom:s});return this._getUpdatedState({zoom:s,...a.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(e=2){return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(e=50){return this._panFromCenter([-e,0])}moveRight(e=50){return this._panFromCenter([e,0])}moveUp(e=50){return this._panFromCenter([0,-e])}moveDown(e=50){return this._panFromCenter([0,e])}rotateLeft(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(e=15){return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(e=10){return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();return void 0===t&&(t=this.getViewportProps().zoom),js(t+Math.log2(e),r,i)}_panFromCenter(e){const{width:t,height:i,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r,maxRotationX:o,minRotationX:s,rotationOrbit:a}=e;return e.zoom=Array.isArray(r)?[js(r[0],i,t),js(r[1],i,t)]:js(r,i,t),e.rotationX=js(e.rotationX,s,o),(a<-180||a>180)&&(e.rotationOrbit=function Abe(n,e){const t=n%e;return t<0?e+t:t}(a+180,360)-180),e}}class Lye extends IP{constructor(...e){super(...e),pe(this,"ControllerState",p9),pe(this,"transition",{transitionDuration:300,transitionInterpolator:new FA({transitionProps:{compare:["target","zoom","rotationX","rotationOrbit"],required:["target","zoom"]}})})}}class Bye extends p9{constructor(e){super(e),pe(this,"zoomAxis",void 0),this.zoomAxis=e.zoomAxis||"all"}_calculateNewZoom({scale:e,startZoom:t}){const{maxZoom:i,minZoom:r}=this.getViewportProps();void 0===t&&(t=this.getViewportProps().zoom);let o=Math.log2(e);if(Array.isArray(t)){let[s,a]=t;switch(this.zoomAxis){case"X":s=js(s+o,r,i);break;case"Y":a=js(a+o,r,i);break;default:let c=Math.min(s+o,a+o);c<r&&(o+=r-c),c=Math.max(s+o,a+o),c>i&&(o+=i-c),s+=o,a+=o}return[s,a]}return js(t+o,r,i)}}class jye extends IP{constructor(...e){super(...e),pe(this,"ControllerState",Bye),pe(this,"transition",{transitionDuration:300,transitionInterpolator:new FA(["target","zoom"])}),pe(this,"dragMode","pan")}_onPanRotate(){return!1}}class DP extends TP{get ViewportType(){return Iye}get ControllerType(){return jye}}pe(DP,"displayName","OrthographicView");const OP=Math.PI/180;function Uye({height:n,focalDistance:e,orbitAxis:t,rotationX:i,rotationOrbit:r,zoom:o}){const s="Z"===t?[0,0,1]:[0,1,0],a="Z"===t?[0,-e,0]:[0,0,e],c=(new Bt).lookAt({eye:a,up:s});c.rotateX(i*OP),"Z"===t?c.rotateZ(r*OP):c.rotateY(r*OP);const l=Math.pow(2,o)/n;return c.scale(l),c}class Vye extends Wh{constructor(e){const{height:t,projectionMatrix:i,fovy:r=50,orbitAxis:o="Z",target:s=[0,0,0],rotationX:a=0,rotationOrbit:c=0,zoom:l=0}=e,d=i?i[5]/2:AP(r);super({...e,longitude:void 0,viewMatrix:Uye({height:t||1,focalDistance:d,orbitAxis:o,rotationX:a,rotationOrbit:c,zoom:l}),fovy:r,focalDistance:d,position:s,zoom:l}),pe(this,"projectedCenter",void 0),this.projectedCenter=this.project(this.center)}unproject(e,{topLeft:t=!0}={}){const[i,r,o=this.projectedCenter[2]]=e,s=t?r:this.height-r,[a,c,l]=M0([i,s,o],this.pixelUnprojectionMatrix);return[a,c,l]}panByPosition(e,t){const i=this.project(e);return{target:this.unproject([this.width/2+i[0]-t[0],this.height/2+i[1]-t[1],this.projectedCenter[2]])}}}class m9 extends TP{constructor(e={}){super(e),this.props.orbitAxis=e.orbitAxis||"Z"}get ViewportType(){return Vye}get ControllerType(){return Lye}}pe(m9,"displayName","OrbitView");const O0="vs";function Tc(n,e){if(!n)throw new Error(e||"shadertools: assertion failed.")}const kP={number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},array:{validate:(n,e)=>Array.isArray(n)||ArrayBuffer.isView(n)}};function Hye(n){let e=g9(n);return"object"===e?n?"type"in n?Object.assign({},n,kP[n.type]):"value"in n?(e=g9(n.value),Object.assign({type:e},n,kP[e])):{type:"object",value:n}:{type:"object",value:null}:Object.assign({type:e,value:n},kP[e])}function g9(n){return Array.isArray(n)||ArrayBuffer.isView(n)?"array":typeof n}class PP{constructor(e){let{name:t,vs:i,fs:r,dependencies:o=[],uniforms:s,getUniforms:a,deprecations:c=[],defines:l={},inject:d={},vertexShader:h,fragmentShader:f}=e;Tc("string"==typeof t),this.name=t,this.vs=i||h,this.fs=r||f,this.getModuleUniforms=a,this.dependencies=o,this.deprecations=this._parseDeprecationDefinitions(c),this.defines=l,this.injections=function $ye(n){const e={vs:{},fs:{}};for(const t in n){let i=n[t];"string"==typeof i&&(i={order:0,injection:i}),e[t.slice(0,2)][t]=i}return e}(d),s&&(this.uniforms=function zye(n){const e={};for(const t in n){const r=Hye(n[t]);e[t]=r}return e}(s))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:Tc(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach(i=>{i.regex.test(e)&&(i.deprecated?t.deprecated(i.old,i.new)():t.removed(i.old,i.new)())})}_parseDeprecationDefinitions(e){return e.forEach(t=>{t.regex="function"===t.type?new RegExp("\\b".concat(t.old,"\\(")):new RegExp("".concat(t.type," ").concat(t.old,";"))}),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},i=this.uniforms;for(const r in i){const o=i[r];r in e&&!o.private?(o.validate&&Tc(o.validate(e[r],o),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=o.value}return t}}function qye(n){return function _9(n){const e={},t={};return NP({modules:n,level:0,moduleMap:e,moduleDepth:t}),Object.keys(t).sort((i,r)=>t[r]-t[i]).map(i=>e[i])}(b9(n))}function NP(n){let{modules:e,level:t,moduleMap:i,moduleDepth:r}=n;if(t>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)i[o.name]=o,(void 0===r[o.name]||r[o.name]<t)&&(r[o.name]=t);for(const o of e)o.dependencies&&NP({modules:o.dependencies,level:t+1,moduleMap:i,moduleDepth:r})}function b9(n,e){return n.map(t=>(t instanceof PP||(Tc("string"!=typeof t,"Shader module use by name is deprecated. Import shader module '".concat(t,"' and use it directly.")),Tc(t.name,"shader module has no name"),(t=new PP(t)).dependencies=b9(t.dependencies)),t))}const Yye=7936,Kye=7937,Jye=7938,Qye=35724,FP={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},zp={};function tve(n,e){return n.match(/NVIDIA/i)||e.match(/NVIDIA/i)?"NVIDIA":n.match(/INTEL/i)||e.match(/INTEL/i)?"INTEL":n.match(/AMD/i)||e.match(/AMD/i)||n.match(/ATI/i)||e.match(/ATI/i)?"AMD":"UNKNOWN GPU"}Object.keys(FP).forEach(n=>{zp[n]=n});const LP={};function y9(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=FP[e];if(Tc(i,e),!function Xye(){const e=typeof window<"u"&&window.navigator||{},t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).userAgent||e.userAgent||"",i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r}(t))return!0;if(e in LP)return LP[e];const o=t.behavior||"enable",s="#extension GL_".concat(i[0]," : ").concat(o,"\nvoid main(void) {}"),a=n.createShader(35633);n.shaderSource(a,s),n.compileShader(a);const c=n.getShaderParameter(a,35713);return n.deleteShader(a),LP[e]=c,c}function BA(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>function nve(n,e){const t=FP[e];Tc(t,e);const i=function Zye(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}(n)&&t[1]||t[0],r="string"==typeof i?!!n.getExtension(i):i;return Tc(!1===r||!0===r),r}(n,t))}const ave={[O0]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",fs:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},jA="__LUMA_INJECT_DECLARATIONS__",v9=/void\s+main\s*\([^)]*\)\s*\{\n?/,w9=/}\n?[^{}]*$/,BP=[];function x9(n,e,t){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e===O0;for(const o in t){const s=t[o];s.sort((c,l)=>c.order-l.order),BP.length=s.length;for(let c=0,l=s.length;c<l;++c)BP[c]=s[c].injection;const a="".concat(BP.join("\n"),"\n");switch(o){case"vs:#decl":r&&(n=n.replace(jA,a));break;case"vs:#main-start":r&&(n=n.replace(v9,c=>c+a));break;case"vs:#main-end":r&&(n=n.replace(w9,c=>a+c));break;case"fs:#decl":r||(n=n.replace(jA,a));break;case"fs:#main-start":r||(n=n.replace(v9,c=>c+a));break;case"fs:#main-end":r||(n=n.replace(w9,c=>a+c));break;default:n=n.replace(o,c=>c+a)}}return n=n.replace(jA,""),i&&(n=n.replace(/\}\s*$/,o=>o+ave[e])),n}function jP(n){const e={};return Tc(Array.isArray(n)&&n.length>1),n.forEach(t=>{for(const i in t)e[i]=e[i]?"".concat(e[i],"\n").concat(t[i]):t[i]}),e}function P_(n){return new RegExp("\\b".concat(n,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const E9=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],cve=[...E9,[P_("attribute"),"in $1"],[P_("varying"),"out $1"]],lve=[...E9,[P_("varying"),"in $1"]],C9=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],dve=[...C9,[P_("in"),"attribute $1"],[P_("out"),"varying $1"]],uve=[...C9,[P_("in"),"varying $1"]],UP="gl_FragColor",VP=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,hve=/void\s+main\s*\([^)]*\)\s*\{\n?/;function UA(n,e){for(const[t,i]of e)n=n.replace(t,i);return n}const gve="\n\n".concat(jA,"\n\n"),A9={[O0]:"vertex",fs:"fragment"};function S9(n,e){let{id:t,source:i,type:r,modules:o,defines:s={},hookFunctions:a=[],inject:c={},transpileToGLSL100:l=!1,prologue:d=!0,log:h}=e;Tc("string"==typeof i,"shader source must be a string");const f=r===O0,m=i.split("\n");let g=100,b="",v=i;0===m[0].indexOf("#version ")?(g=300,b=m[0],v=m.slice(1).join("\n")):b="#version ".concat(g);const D={};o.forEach(st=>{Object.assign(D,st.getDefines())}),Object.assign(D,s);let N=d?"".concat(b,"\n").concat(function wve(n){let{id:e,source:t,type:i}=n;return e&&"string"==typeof e&&-1===t.indexOf("SHADER_NAME")?"\n#define SHADER_NAME ".concat(e,"_").concat(A9[i],"\n\n"):""}({id:t,source:i,type:r}),"\n").concat(function vve(n){let{type:e}=n;return"\n#define SHADER_TYPE_".concat(A9[e].toUpperCase(),"\n")}({type:r}),"\n").concat(function ive(n){switch(function eve(n){const e=n.getExtension("WEBGL_debug_renderer_info"),t=n.getParameter(e&&e.UNMASKED_VENDOR_WEBGL||Yye),i=n.getParameter(e&&e.UNMASKED_RENDERER_WEBGL||Kye);return{gpuVendor:tve(t,i),vendor:t,renderer:i,version:n.getParameter(Jye),shadingLanguageVersion:n.getParameter(Qye)}}(n).gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(n),"\n").concat(function rve(n,e,t){let i="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return BA(n,zp.GLSL_FRAG_DEPTH)&&(i+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),BA(n,zp.GLSL_DERIVATIVES)&&y9(n,zp.GLSL_DERIVATIVES)&&(i+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),BA(n,zp.GLSL_FRAG_DATA)&&y9(n,zp.GLSL_FRAG_DATA,{behavior:"require"})&&(i+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),BA(n,zp.GLSL_TEXTURE_LOD)&&(i+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),i}(n),"\n").concat(function xve(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=0,t="";for(const i in n){0===e&&(t+="\n// APPLICATION DEFINES\n"),e++;const r=n[i];(r||Number.isFinite(r))&&(t+="#define ".concat(i.toUpperCase()," ").concat(n[i],"\n"))}return 0===e&&(t+="\n"),t}(D),"\n").concat(f?"":"precision highp float;\n\n","\n"):"".concat(b,"\n");const Z=function Cve(n){const e={vs:{},fs:{}};return n.forEach(t=>{let i;"string"!=typeof t?(i=t,t=i.hook):i={},t=t.trim();const[r,o]=t.split(":"),s=t.replace(/\(.+/,"");e[r][s]=Object.assign(i,{signature:o})}),e}(a),G={},Oe={},ze={};for(const st in c){const pt="string"==typeof c[st]?{injection:c[st],order:0}:c[st],Je=st.match(/^(v|f)s:(#)?([\w-]+)$/);Je?Je[2]?"decl"===Je[3]?Oe[st]=[pt]:ze[st]=[pt]:G[st]=[pt]:ze[st]=[pt]}for(const st of o){h&&st.checkDeprecations(v,h),N+=st.getModuleSource(r,g);const Je=st.injections[r];for(const yt in Je){const Pt=yt.match(/^(v|f)s:#([\w-]+)$/);if(Pt){const xt="decl"===Pt[2]?Oe:ze;xt[yt]=xt[yt]||[],xt[yt].push(Je[yt])}else G[yt]=G[yt]||[],G[yt].push(Je[yt])}}return N+=gve,N=x9(N,r,Oe),N+=function Eve(n,e){let t="";for(const i in n){const r=n[i];if(t+="void ".concat(r.signature," {\n"),r.header&&(t+="  ".concat(r.header)),e[i]){const o=e[i];o.sort((s,a)=>s.order-a.order);for(const s of o)t+="  ".concat(s.injection,"\n")}r.footer&&(t+="  ".concat(r.footer)),t+="}\n"}return t}(Z[r],G),N+=v,N=x9(N,r,ze),N=function fve(n,e,t){switch(e){case 300:return t?UA(n,cve):function pve(n){const e=(n=UA(n,lve)).match(VP);if(e){const t=e[1];n=n.replace(new RegExp("\\b".concat(UP,"\\b"),"g"),t)}else{const t="fragmentColor";n=n.replace(hve,i=>"out vec4 ".concat(t,";\n").concat(i)).replace(new RegExp("\\b".concat(UP,"\\b"),"g"),t)}return n}(n);case 100:return t?UA(n,dve):function mve(n){const e=(n=UA(n,uve)).match(VP);if(e){const t=e[1];n=n.replace(VP,"").replace(new RegExp("\\b".concat(t,"\\b"),"g"),UP)}return n}(n);default:throw new Error("unknown GLSL version ".concat(e))}}(N,l?100:g,f),N}function yve(n){return function(t){const i={};for(const r of n){const o=r.getUniforms(t,i);Object.assign(i,o)}return i}}const Rn=new E0({id:"luma.gl"});function La(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}const Sve="Requires WebGL2";function VA(n){return typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext||typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||!Number.isFinite(n._version))}function Oi(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||!(!n||2!==n._version)}function zA(n){return La(VA(n),"Invalid WebGLRenderingContext"),n}function ya(n){return La(Oi(n),Sve),n}const R0={};const k0=function n(e){const t=e.gl;this.ext=e,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(e.maxVertexAttribs);for(let i=0;i<this.attribs.length;i++){const r=new n.VertexAttrib(t);this.attribs[i]=r}this.maxAttrib=0};(k0.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const Hp=function(e){const t=this;this.gl=e,function Ove(n){const e=n.getError;n.getError=function(){let i;do{i=e.apply(n),0!==i&&(R0[i]=!0)}while(0!==i);for(i in R0)if(R0[i])return delete R0[i],parseInt(i,10);return 0}}(e);const i=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(o){return o===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:i.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!0,i.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(o){const s=t.currentVertexArrayObject;return s.maxAttrib=Math.max(s.maxAttrib,o),s.attribs[o].enabled=!1,i.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(o,s){switch(o){case 34962:t.currentArrayBuffer=s;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=s}return i.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(o,s){const c=t.currentVertexArrayObject.attribs[o];switch(s){case 34975:return c.buffer;case 34338:return c.enabled;case 34339:return c.size;case 34340:return c.stride;case 34341:return c.type;case 34922:return c.normalized;default:return i.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(o,s,a,c,l,d){const h=t.currentVertexArrayObject;h.maxAttrib=Math.max(h.maxAttrib,o);const f=h.attribs[o];return f.buffer=t.currentArrayBuffer,f.size=s,f.type=a,f.normalized=c,f.stride=l,f.offset=d,f.recache(),i.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",()=>{(function Ive(n){globalThis.console&&globalThis.console.log&&globalThis.console.log(n)})("OESVertexArrayObject emulation library context restored"),t.reset_()},!0),this.reset_()};Hp.prototype.VERTEX_ARRAY_BINDING_OES=34229,Hp.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let i=0;i<this.vertexArrayObjects.length;++i)this.vertexArrayObjects.isAlive=!1;this.maxVertexAttribs=this.gl.getParameter(34921),this.defaultVertexArrayObject=new k0(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},Hp.prototype.createVertexArrayOES=function(){const e=new k0(this);return this.vertexArrayObjects.push(e),e},Hp.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},Hp.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof k0&&e.hasBeenBound&&e.ext===this)},Hp.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void function Dve(n,e){R0[n]=!0,void 0!==e&&function Mve(n){globalThis.console&&globalThis.console.error&&globalThis.console.error(n)}(e)}(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const i=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const o=this.currentVertexArrayObject;if(r===o)return;(!r||o.elementArrayBuffer!==r.elementArrayBuffer)&&i.bindBuffer.call(t,34963,o.elementArrayBuffer);let s=this.currentArrayBuffer;const a=Math.max(r?r.maxAttrib:0,o.maxAttrib);for(let c=0;c<=a;c++){const l=o.attribs[c],d=r?r.attribs[c]:null;if((!r||l.enabled!==d.enabled)&&(l.enabled?i.enableVertexAttribArray.call(t,c):i.disableVertexAttribArray.call(t,c)),l.enabled){let h=!1;(!r||l.buffer!==d.buffer)&&(s!==l.buffer&&(i.bindBuffer.call(t,34962,l.buffer),s=l.buffer),h=!0),(h||l.cached!==d.cached)&&i.vertexAttribPointer.call(t,c,l.size,l.type,l.normalized,l.stride,l.offset)}}this.currentArrayBuffer!==s&&i.bindBuffer.call(t,34962,this.currentArrayBuffer)};const T9="OES_element_index",M9="WEBGL_draw_buffers",I9="WEBGL_debug_renderer_info",Xr=n=>Oi(n)?void 0:0,zve={3074:n=>Oi(n)?void 0:36064,35723:n=>Oi(n)?void 0:4352,35977:Xr,32937:Xr,36795:(n,e)=>{const t=Oi(n)?n.getExtension("EXT_disjoint_timer_query_webgl2"):n.getExtension("EXT_disjoint_timer_query");return t&&t.GPU_DISJOINT_EXT?e(t.GPU_DISJOINT_EXT):0},37445:(n,e)=>{const t=n.getExtension(I9);return e(t&&t.UNMASKED_VENDOR_WEBGL||7936)},37446:(n,e)=>{const t=n.getExtension(I9);return e(t&&t.UNMASKED_RENDERER_WEBGL||7937)},34047:(n,e)=>{const t=n.luma.extensions.EXT_texture_filter_anisotropic;return t?e(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:Xr,35071:Xr,37447:Xr,36063:(n,e)=>{if(!Oi(n)){const t=n.getExtension(M9);return t?e(t.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:Xr,35374:Xr,35377:Xr,34852:n=>{if(!Oi(n)){const e=n.getExtension(M9);return e?e.MAX_DRAW_BUFFERS_WEBGL:0}},36203:n=>n.getExtension(T9)?2147483647:65535,33001:n=>n.getExtension(T9)?16777216:65535,33e3:n=>16777216,37157:Xr,35373:Xr,35657:Xr,36183:Xr,37137:Xr,34045:Xr,35978:Xr,35979:Xr,35968:Xr,35376:Xr,35375:Xr,35659:Xr,37154:Xr,35371:Xr,35658:Xr,35076:Xr,35077:Xr,35380:Xr},D9="ANGLE_instanced_arrays",O9={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{La(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[D9]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(n,e){La(0===e,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{La(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{La(!1)},deleteQuery:()=>{La(!1)},beginQuery:()=>{La(!1)},endQuery:()=>{},getQuery(n,e){return this.getQueryObject(n,e)},getQueryParameter(n,e){return this.getQueryObject(n,e)},getQueryObject:()=>{}}},zP={readBuffer:(n,e,t)=>{Oi(n)&&e(t)},getVertexAttrib:(n,e,t,i)=>{const{webgl2:r,ext:o}=function Yve(n,e){return{webgl2:Oi(n),ext:n.getExtension(e)}}(n,D9);let s;switch(i){case 35069:s=!!r&&void 0;break;case 35070:s=r||o?void 0:0}return void 0!==s?s:e(t,i)},getProgramParameter:(n,e,t,i)=>{if(!Oi(n))switch(i){case 35967:return 35981;case 35971:case 35382:return 0}return e(t,i)},getInternalformatParameter:(n,e,t,i,r)=>Oi(n)||32937!==r?n.getInternalformatParameter(t,i,r):new Int32Array([0]),getTexParameter(n,e,t,i){if(34046===i){const{extensions:r}=n.luma,o=r.EXT_texture_filter_anisotropic;i=o&&o.TEXTURE_MAX_ANISOTROPY_EXT||34046}return e(t,i)},getParameter:function Hve(n,e,t){const i=zve[t],r="function"==typeof i?i(n,e,t):i;return void 0!==r?r:e(t)},hint:(n,e,t,i)=>e(t,i)};function e0e(n,e){let{extension:t,target:i,target2:r}=e;const o=O9[t];La(o);const{meta:s={}}=o,{suffix:a=""}=s,c=n.getExtension(t);for(const l of Object.keys(o)){const d="".concat(l).concat(a);let h=null;"meta"===l||"function"==typeof n[l]||(c&&"function"==typeof c[d]?h=function(){return c[d](...arguments)}:"function"==typeof o[l]&&(h=o[l].bind(i))),h&&(i[l]=h,r[l]=h)}}globalThis.polyfillContext=function Kve(n){n.luma=n.luma||{};const{luma:e}=n;return e.polyfilled||(function Rve(n){if("function"==typeof n.createVertexArray)return;const e=n.getSupportedExtensions;n.getSupportedExtensions=function(){const r=e.call(this)||[];return r.indexOf("OES_vertex_array_object")<0&&r.push("OES_vertex_array_object"),r};const t=n.getExtension;n.getExtension=function(r){return t.call(this,r)||("OES_vertex_array_object"!==r?null:(n.__OESVertexArrayObject||(this.__OESVertexArrayObject=new Hp(this)),this.__OESVertexArrayObject))}}(n),function Jve(n){n.luma.extensions={};const e=n.getSupportedExtensions()||[];for(const t of e)n.luma[t]=n.getExtension(t)}(n),function Zve(n,e){for(const t of Object.getOwnPropertyNames(e))"overrides"!==t&&e0e(n,{extension:t,target:n.luma,target2:n})}(n,O9),function Qve(n,e){let{target:t,target2:i}=e;Object.keys(zP).forEach(r=>{if("function"==typeof zP[r]){const o=n[r]?n[r].bind(n):()=>{},s=zP[r].bind(null,n,o);t[r]=s,i[r]=s}})}(n,{target:e,target2:n}),e.polyfilled=!0),n};const HP={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Yh=(n,e,t)=>e?n.enable(t):n.disable(t),R9=(n,e,t)=>n.hint(t,e),Mc=(n,e,t)=>n.pixelStorei(t,e);function P0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}const i0e={3042:Yh,32773:(n,e)=>n.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(n,e)=>n.clearColor(...e),3107:(n,e)=>n.colorMask(...e),2884:Yh,2885:(n,e)=>n.cullFace(e),2929:Yh,2931:(n,e)=>n.clearDepth(e),2932:(n,e)=>n.depthFunc(e),2928:(n,e)=>n.depthRange(...e),2930:(n,e)=>n.depthMask(e),3024:Yh,35723:R9,36006:(n,e)=>{const t=Oi(n)?36009:36160;return n.bindFramebuffer(t,e)},2886:(n,e)=>n.frontFace(e),33170:R9,2849:(n,e)=>n.lineWidth(e),32823:Yh,32824:"polygonOffset",10752:"polygonOffset",35977:Yh,32938:"sampleCoverage",32939:"sampleCoverage",3089:Yh,3088:(n,e)=>n.scissor(...e),2960:Yh,2961:(n,e)=>n.clearStencil(e),2968:(n,e)=>n.stencilMaskSeparate(1028,e),36005:(n,e)=>n.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(n,e)=>n.viewport(...e),3333:Mc,3317:Mc,37440:Mc,37441:Mc,37443:Mc,3330:Mc,3332:Mc,3331:Mc,36010:(n,e)=>n.bindFramebuffer(36008,e),3314:Mc,32878:Mc,3316:Mc,3315:Mc,32877:Mc,framebuffer:(n,e)=>n.bindFramebuffer(36160,e&&"handle"in e?e.handle:e),blend:(n,e)=>e?n.enable(3042):n.disable(3042),blendColor:(n,e)=>n.blendColor(...e),blendEquation:(n,e)=>{e=P0(e)?e:[e,e],n.blendEquationSeparate(...e)},blendFunc:(n,e)=>{e=P0(e)&&2===e.length?[...e,...e]:e,n.blendFuncSeparate(...e)},clearColor:(n,e)=>n.clearColor(...e),clearDepth:(n,e)=>n.clearDepth(e),clearStencil:(n,e)=>n.clearStencil(e),colorMask:(n,e)=>n.colorMask(...e),cull:(n,e)=>e?n.enable(2884):n.disable(2884),cullFace:(n,e)=>n.cullFace(e),depthTest:(n,e)=>e?n.enable(2929):n.disable(2929),depthFunc:(n,e)=>n.depthFunc(e),depthMask:(n,e)=>n.depthMask(e),depthRange:(n,e)=>n.depthRange(...e),dither:(n,e)=>e?n.enable(3024):n.disable(3024),derivativeHint:(n,e)=>{n.hint(35723,e)},frontFace:(n,e)=>n.frontFace(e),mipmapHint:(n,e)=>n.hint(33170,e),lineWidth:(n,e)=>n.lineWidth(e),polygonOffsetFill:(n,e)=>e?n.enable(32823):n.disable(32823),polygonOffset:(n,e)=>n.polygonOffset(...e),sampleCoverage:(n,e)=>n.sampleCoverage(...e),scissorTest:(n,e)=>e?n.enable(3089):n.disable(3089),scissor:(n,e)=>n.scissor(...e),stencilTest:(n,e)=>e?n.enable(2960):n.disable(2960),stencilMask:(n,e)=>{e=P0(e)?e:[e,e];const[t,i]=e;n.stencilMaskSeparate(1028,t),n.stencilMaskSeparate(1029,i)},stencilFunc:(n,e)=>{e=P0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilFuncSeparate(1028,t,i,r),n.stencilFuncSeparate(1029,o,s,a)},stencilOp:(n,e)=>{e=P0(e)&&3===e.length?[...e,...e]:e;const[t,i,r,o,s,a]=e;n.stencilOpSeparate(1028,t,i,r),n.stencilOpSeparate(1029,o,s,a)},viewport:(n,e)=>n.viewport(...e)};function xo(n,e,t){return void 0!==e[n]?e[n]:t[n]}const r0e={blendEquation:(n,e,t)=>n.blendEquationSeparate(xo(32777,e,t),xo(34877,e,t)),blendFunc:(n,e,t)=>n.blendFuncSeparate(xo(32969,e,t),xo(32968,e,t),xo(32971,e,t),xo(32970,e,t)),polygonOffset:(n,e,t)=>n.polygonOffset(xo(32824,e,t),xo(10752,e,t)),sampleCoverage:(n,e,t)=>n.sampleCoverage(xo(32938,e,t),xo(32939,e,t)),stencilFuncFront:(n,e,t)=>n.stencilFuncSeparate(1028,xo(2962,e,t),xo(2967,e,t),xo(2963,e,t)),stencilFuncBack:(n,e,t)=>n.stencilFuncSeparate(1029,xo(34816,e,t),xo(36003,e,t),xo(36004,e,t)),stencilOpFront:(n,e,t)=>n.stencilOpSeparate(1028,xo(2964,e,t),xo(2965,e,t),xo(2966,e,t)),stencilOpBack:(n,e,t)=>n.stencilOpSeparate(1029,xo(34817,e,t),xo(34818,e,t),xo(34819,e,t))},k9={enable:(n,e)=>n({[e]:!0}),disable:(n,e)=>n({[e]:!1}),pixelStorei:(n,e,t)=>n({[e]:t}),hint:(n,e,t)=>n({[e]:t}),bindFramebuffer:(n,e,t)=>{switch(e){case 36160:return n({36006:t,36010:t});case 36009:return n({36006:t});case 36008:return n({36010:t});default:return null}},blendColor:(n,e,t,i,r)=>n({32773:new Float32Array([e,t,i,r])}),blendEquation:(n,e)=>n({32777:e,34877:e}),blendEquationSeparate:(n,e,t)=>n({32777:e,34877:t}),blendFunc:(n,e,t)=>n({32969:e,32968:t,32971:e,32970:t}),blendFuncSeparate:(n,e,t,i,r)=>n({32969:e,32968:t,32971:i,32970:r}),clearColor:(n,e,t,i,r)=>n({3106:new Float32Array([e,t,i,r])}),clearDepth:(n,e)=>n({2931:e}),clearStencil:(n,e)=>n({2961:e}),colorMask:(n,e,t,i,r)=>n({3107:[e,t,i,r]}),cullFace:(n,e)=>n({2885:e}),depthFunc:(n,e)=>n({2932:e}),depthRange:(n,e,t)=>n({2928:new Float32Array([e,t])}),depthMask:(n,e)=>n({2930:e}),frontFace:(n,e)=>n({2886:e}),lineWidth:(n,e)=>n({2849:e}),polygonOffset:(n,e,t)=>n({32824:e,10752:t}),sampleCoverage:(n,e,t)=>n({32938:e,32939:t}),scissor:(n,e,t,i,r)=>n({3088:new Int32Array([e,t,i,r])}),stencilMask:(n,e)=>n({2968:e,36005:e}),stencilMaskSeparate:(n,e,t)=>n({[1028===e?2968:36005]:t}),stencilFunc:(n,e,t,i)=>n({2962:e,2967:t,2963:i,34816:e,36003:t,36004:i}),stencilFuncSeparate:(n,e,t,i,r)=>n({[1028===e?2962:34816]:t,[1028===e?2967:36003]:i,[1028===e?2963:36004]:r}),stencilOp:(n,e,t,i)=>n({2964:e,2965:t,2966:i,34817:e,34818:t,34819:i}),stencilOpSeparate:(n,e,t,i,r)=>n({[1028===e?2964:34817]:t,[1028===e?2965:34818]:i,[1028===e?2966:34819]:r}),viewport:(n,e,t,i,r)=>n({2978:[e,t,i,r]})},wd=(n,e)=>n.isEnabled(e),P9={3042:wd,2884:wd,2929:wd,3024:wd,32823:wd,32926:wd,32928:wd,3089:wd,2960:wd,35977:wd};function N9(n){for(const e in n)return!1;return!0}function o0e(n,e){if(n===e)return!0;const t=Array.isArray(n)||ArrayBuffer.isView(n),i=Array.isArray(e)||ArrayBuffer.isView(e);if(t&&i&&n.length===e.length){for(let r=0;r<n.length;++r)if(n[r]!==e[r])return!1;return!0}return!1}function F9(n,e){const t=n[e].bind(n);n[e]=function(){const r=arguments.length<=0?void 0:arguments[0];return r in n.state.cache&&n.state.enable?n.state.cache[r]:t(...arguments)},Object.defineProperty(n[e],"name",{value:"".concat(e,"-from-cache"),configurable:!1})}function s0e(n,e,t){const i=n[e].bind(n);n[e]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const{valueChanged:c,oldValue:l}=t(n.state._updateCache,...s);return c&&i(...s),l},Object.defineProperty(n[e],"name",{value:"".concat(e,"-to-cache"),configurable:!1})}class c0e{constructor(e){let{copyState:t=!1,log:i=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function d0e(n,e){if("number"==typeof(e=e||HP)){const r=e,o=P9[r];return o?o(n,r):n.getParameter(r)}const t=Array.isArray(e)?e:Object.keys(e),i={};for(const r of t){const o=P9[r];i[r]=o?o(n,Number(r)):n.getParameter(Number(r))}return i}(e):Object.assign({},HP),this.log=i,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){La(this.stateStack.length>0),Ru(this.gl,this.stateStack[this.stateStack.length-1]),this.stateStack.pop()}_updateCache(e){let i,t=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const o in e){La(void 0!==o);const s=e[o],a=this.cache[o];o0e(s,a)||(t=!0,i=a,r&&!(o in r)&&(r[o]=a),this.cache[o]=s)}return{valueChanged:t,oldValue:i}}}function L9(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:t=!0,copyState:i}=e;if(La(void 0!==i),!n.state){const{polyfillContext:r}=globalThis;r&&r(n),n.state=new c0e(n,{copyState:i}),function a0e(n){const e=n.useProgram.bind(n);n.useProgram=function(i){n.state.program!==i&&(e(i),n.state.program=i)}}(n);for(const o in k9)s0e(n,o,k9[o]);F9(n,"getParameter"),F9(n,"isEnabled")}return n.state.enable=t,n}function B9(n){La(n.state),n.state.pop()}function Ru(n,e){if(La(VA(n),"setParameters requires a WebGL context"),N9(e))return;const t={};for(const r in e){const o=Number(r),s=i0e[r];s&&("string"==typeof s?t[s]=!0:s(n,e[r],o))}const i=n.state&&n.state.cache;if(i)for(const r in t)(0,r0e[r])(n,e,i)}function ol(n,e,t){if(N9(e))return t(n);const{nocatch:i=!0}=e;let r;if(function l0e(n){n.state||L9(n,{copyState:!1}),n.state.push()}(n),Ru(n,e),i)r=t(n),B9(n);else try{r=t(n)}finally{B9(n)}return r}function N_(n){const{luma:e}=n;if(n.canvas&&e){const t=e.canvasSizeInfo,i="clientWidth"in t?t.clientWidth:n.canvas.clientWidth;return i?n.drawingBufferWidth/i:1}return 1}function GP(n,e){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function f0e(n,e,t,i,r){const o=j9(n[0],e,t);let s=U9(n[1],e,i,r),a=j9(n[0]+1,e,t);const c=a===t-1?a:a-1;let l;return a=U9(n[1]+1,e,i,r),r?(a=0===a?a:a+1,l=s,s=a):l=a===i-1?a:a-1,{x:o,y:s,width:Math.max(c-o+1,1),height:Math.max(l-s+1,1)}}(e,N_(n),n.drawingBufferWidth,n.drawingBufferHeight,t)}function j9(n,e,t){return Math.min(Math.round(n*e),t-1)}function U9(n,e,t,i){return i?Math.max(0,t-1-Math.round(n*e)):Math.min(Math.round(n*e),t-1)}const WP=bd(),p0e=WP&&typeof document<"u",V9={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function z9(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};La(WP,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),n=Object.assign({},V9,n);const{width:e,height:t}=n;function i(a){if(n.throwOnError)throw new Error(a);return console.error(a),null}let r;n.onError=i;const{canvas:o}=n,s=function b0e(n){let o,{canvas:e,width:t=800,height:i=600,onError:r}=n;return"string"==typeof e?(p0e&&"complete"===document.readyState||r("createGLContext called on canvas '".concat(e,"' before page was loaded")),o=document.getElementById(e)):e?o=e:(o=document.createElement("canvas"),o.id="lumagl-canvas",o.style.width=Number.isFinite(t)?"".concat(t,"px"):"100%",o.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(o,document.body.firstChild)),o}({canvas:o,width:e,height:t,onError:i});return r=function _0e(n,e){const{onError:t}=e;let i=null;const r=c=>i=c.statusMessage||i;n.addEventListener("webglcontextcreationerror",r,!1);const{webgl1:o=!0,webgl2:s=!0}=e;let a=null;return s&&(a=a||n.getContext("webgl2",e),a=a||n.getContext("experimental-webgl2",e)),o&&(a=a||n.getContext("webgl",e),a=a||n.getContext("experimental-webgl",e)),n.removeEventListener("webglcontextcreationerror",r,!1),a?(e.onContextLost&&n.addEventListener("webglcontextlost",e.onContextLost,!1),e.onContextRestored&&n.addEventListener("webglcontextrestored",e.onContextRestored,!1),a):t("Failed to create ".concat(s&&!o?"WebGL2":"WebGL"," context: ").concat(i||"Unknown error"))}(s,n),r?(r=$P(r,n),function y0e(n){const e=Oi(n)?"WebGL2":"WebGL1",t=function m0e(n){const e=n.getParameter(7936),t=n.getParameter(7937),i=n.getExtension("WEBGL_debug_renderer_info");return{vendor:i&&n.getParameter(i.UNMASKED_VENDOR_WEBGL||7936)||e,renderer:i&&n.getParameter(i.UNMASKED_RENDERER_WEBGL||7937)||t,vendorMasked:e,rendererMasked:t,version:n.getParameter(7938),shadingLanguageVersion:n.getParameter(35724)}}(n),i=t?"(".concat(t.vendor,",").concat(t.renderer,")"):"",r=n.debug?" debug":"";Rn.info(1,"".concat(e).concat(r," context ").concat(i))()}(r),r):null}function $P(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!n||n._instrumented)return n;n._version=n._version||function v0e(n){return typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext?2:1}(n),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{},e=Object.assign({},V9,e);const{manageState:t,debug:i}=e;return t&&L9(n,{copyState:!1,log:function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return Rn.log(1,...o)()}}),WP&&i&&(globalThis.makeDebugContext?(n=globalThis.makeDebugContext(n,e),Rn.level=Math.max(Rn.level,1)):Rn.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),n._instrumented=!0,n}function H9(){let n;if(typeof window<"u"&&window.performance)n=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();n=1e3*e[0]+e[1]/1e6}else n=Date.now();return n}class G9{constructor(e,t){pe(this,"name",void 0),pe(this,"type",void 0),pe(this,"sampleSize",1),pe(this,"time",void 0),pe(this,"count",void 0),pe(this,"samples",void 0),pe(this,"lastTiming",void 0),pe(this,"lastSampleTime",void 0),pe(this,"lastSampleCount",void 0),pe(this,"_count",0),pe(this,"_time",0),pe(this,"_samples",0),pe(this,"_startTime",0),pe(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=H9(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(H9()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class qP{constructor(e){pe(this,"id",void 0),pe(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){return this._getOrCreate({name:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count"})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach(t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}}),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(t=>this._getOrCreate(t))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:i}=e;return this.stats[t]||(this.stats[t]=e instanceof G9?e:new G9(t,i)),this.stats[t]}}const N0="8.5.21",Gp=new class E0e{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new qP({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==N0)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(N0));function gn(n,e){if(!n)throw new Error(e||"luma.gl: assertion failed.")}function XP(n,e){if("string"!=typeof e)return e;const t=Number(e);if(!isNaN(t))return t;const i=n[e=e.replace(/^.*\./,"")];return gn(void 0!==i,"Accessing undefined constant GL.".concat(e)),i}function Kh(n,e){e=Number(e);for(const t in n)if(n[t]===e)return"GL.".concat(t);return String(e)}globalThis.luma||(bd()&&Rn.log(1,"luma.gl ".concat(N0," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:N0,version:N0,log:Rn,stats:Gp,globals:{modules:{},nodeIO:{}}}),globalThis;const YP={};function oc(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";YP[n]=YP[n]||1;const e=YP[n]++;return"".concat(n,"-").concat(e)}function W9(n){return gn("number"==typeof n,"Input must be a number"),n&&!(n&n-1)}function F_(n){let e=!0;for(const t in n){e=!1;break}return e}function $9(n,e,t,i){const r="See luma.gl ".concat(t," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(n);i.forEach(s=>{o.methodName||(o[s]=()=>{throw Rn.removed("Calling removed method ".concat(e,".").concat(s,": "),r)(),new Error(s)})})}const L_="Resource subclass must define virtual methods";class ku{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zA(e);const{id:i,userData:r={}}=t;this.gl=e,this.gl2=e,this.id=i||oc(this[Symbol.toStringTag]),this.userData=r,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach(i=>i.delete()),this}bind(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!=typeof e?(this._bindHandle(e),this):(this._bound?t=e():(this._bindHandle(this.handle),this._bound=!0,t=e(),this._bound=!1,this._bindHandle(null)),t)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};gn(e=XP(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Oi(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))return o&&"webgl2"in r?r.webgl2:r.webgl1}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:i}=e,r=this.constructor.PARAMETERS||{},o=Oi(this.gl),s={},a=t||Object.keys(r);for(const c of a){const l=r[c];if(l&&(!("webgl2"in l)||o)&&(!("extension"in l)||this.gl.getExtension(l.extension))){const h=i?Kh(this.gl,c):c;s[h]=this.getParameter(c,e),i&&"GLenum"===l.type&&(s[h]=Kh(this.gl,s[h]))}}return s}setParameter(e,t){gn(e=XP(this.gl,e));const r=(this.constructor.PARAMETERS||{})[e];if(r){const o=Oi(this.gl);if("webgl2"in r&&!o||"extension"in r&&!this.gl.getExtension(r.extension))throw new Error("Parameter not available on this platform");"GLenum"===r.type&&(t=XP(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,i){return $9(this,e,t,i)}initialize(e){}_createHandle(){throw new Error(L_)}_deleteHandle(){throw new Error(L_)}_bindHandle(e){throw new Error(L_)}_getOptsFromHandle(){throw new Error(L_)}_getParameter(e,t){throw new Error(L_)}_setParameter(e,t){throw new Error(L_)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=Gp.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];Gp.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];const r=Gp.get("Memory Usage".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];const i=Gp.get("Memory Usage".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:""));i.get("GPU Memory").subtractCount(this.byteLength),i.get("".concat(e," Memory")).subtractCount(this.byteLength)}}const C0e="Failed to deduce GL constant from typed array";function KP(n){switch(ArrayBuffer.isView(n)?n.constructor:n){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error(C0e)}}function F0(n){let{clamped:e=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(n){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return e?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function S0e(n){let{data:e,width:t,height:i}=n;const r=Math.round(t/2),o=Math.round(i/2),s=new Uint8Array(r*o*4);for(let a=0;a<o;a++)for(let c=0;c<r;c++)for(let l=0;l<4;l++)s[4*(a*r+c)+l]=e[4*(2*a*t+2*c)+l];return{data:s,width:r,height:o}}function JP(n,e,t){const{removedProps:i={},deprecatedProps:r={},replacedProps:o={}}=t;for(const a in i)if(a in e){const l=i[a]?"".concat(n,".").concat(i[a]):"N/A";Rn.removed("".concat(n,".").concat(a),l)()}for(const a in r)if(a in e){const c=r[a];Rn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))()}let s=null;for(const a in o)if(a in e){const c=o[a];Rn.deprecated("".concat(n,".").concat(a),"".concat(n,".").concat(c))(),s=s||Object.assign({},e),s[c]=e[a],delete s[a]}return s||e}const T0e={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},M0e={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class sc{static getBytesPerElement(e){return F0(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){return gn(e.size),F0(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new sc(T0e,...t)}constructor(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(r=>this._assign(r)),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return sc.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return sc.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=JP("Accessor",e,M0e),void 0!==e.type&&(this.type=e.type,(5124===e.type||5125===e.type)&&(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&(this.index="boolean"==typeof e.index?e.index?1:0:e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}const X9={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},I0e={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:X9},D0e={removedProps:X9};class Ar extends ku{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){return Math.round(this.byteLength/sc.getBytesPerElement(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}getVertexCount(){return Math.round(this.byteLength/sc.getBytesPerVertex(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=JP("Buffer",e,I0e),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=JP("Buffer",e,D0e))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new sc(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:i=0,srcOffset:r=0}=e,o=e.byteLength||e.length;gn(t);const s=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(s,this.handle),0!==r||void 0!==o?(ya(this.gl),this.gl.bufferSubData(this.target,i,t,r,o)):this.gl.bufferSubData(s,i,t),this.gl.bindBuffer(s,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:i=0,writeOffset:r=0,size:o}=e;const{gl:s}=this;return ya(s),s.bindBuffer(36662,t.handle),s.bindBuffer(36663,this.handle),s.copyBufferSubData(36662,36663,i,r,o),s.bindBuffer(36662,null),s.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:i=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ya(this.gl);const o=F0(this.accessor.type||5126,{clamped:!1}),s=this._getAvailableElementCount(t),a=i;let c,l;e?(l=e.length,c=l-a):(c=Math.min(s,r||s),l=a+c);const d=Math.min(s,c);return r=r||d,gn(r<=d),e=e||new o(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,i,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:i=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,i,r):(gn(0===i),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;gn(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=i,this._trackAllocatedMemory(i);const o=KP(e);return gn(o),this.setAccessor(new sc(this.accessor,{type:o})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;gn(e>=0),this._trackDeallocatedMemory();let i=e;0===e&&(i=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,i,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const i=e/F0(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-i}_inferType(e){this.accessor.type||this.setAccessor(new sc(this.accessor,{type:KP(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return Rn.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return Rn.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return Rn.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return Rn.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new sc(this.accessor,e),this}}const QP={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},Y9={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},K9={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1},k0e=[9729,9728],J9=globalThis.WebGLBuffer||function(){};class Wp extends ku{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:i,linearFiltering:r}=t;let o=!0;return i&&(o=o&&function O0e(n,e){const t=QP[e];if(!t)return!1;if(void 0===t.gl1&&void 0===t.gl2)return!0;const i=Oi(n)&&t.gl2||t.gl1;return"string"==typeof i?n.getExtension(i):i}(e,i),o=o&&(!r||function R0e(n,e){const t=QP[e];switch(t&&t.types[0]){case 5126:return n.getExtension("OES_texture_float_linear");case 5131:return n.getExtension("OES_texture_half_float_linear");default:return!0}}(e,i))),o}constructor(e,t){const{id:i=oc("texture"),handle:r,target:o}=t;super(e,{id:i,handle:r}),this.target=o,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then(N=>this.initialize(Object.assign({},e,{pixels:N,data:N}))),this;const i=typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement;if(i&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",()=>this.initialize(e)),this;const{pixels:r=null,format:o=6408,border:s=0,recreate:a=!1,parameters:c={},pixelStore:l={},textureUnit:d}=e;t||(t=r);let{width:h,height:f,dataFormat:m,type:g,compressed:b=!1,mipmaps:v=!0}=e;const{depth:D=0}=e;return({width:h,height:f,compressed:b,dataFormat:m,type:g}=this._deduceParameters({format:o,type:g,dataFormat:m,compressed:b,data:t,width:h,height:f})),this.width=h,this.height=f,this.depth=D,this.format=o,this.type=g,this.dataFormat=m,this.border=s,this.textureUnit=d,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),v&&this._isNPOT()&&(Rn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),v=!1,this._updateForNPOT(c)),this.mipmaps=v,this.setImageData({data:t,width:h,height:f,depth:D,format:o,type:g,dataFormat:m,border:s,mipmaps:v,parameters:l,compressed:b}),v&&this.generateMipmap(),this.setParameters(c),a&&(this.data=t),i&&(this._video={video:t,parameters:c,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:i}=this._video;if(i===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:i,mipmaps:r=!1}=e;return i!==this.width||t!==this.height?this.initialize({width:i,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(Rn.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),ol(this.gl,e,()=>{this.gl.generateMipmap(this.target)}),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:i=null,level:r=0,format:o=this.format,border:s=this.border,offset:a=0,parameters:c={}}=e;let{data:l=null,type:d=this.type,width:h=this.width,height:f=this.height,dataFormat:m=this.dataFormat,compressed:g=!1}=e;l||(l=i),({type:d,dataFormat:m,compressed:g,width:h,height:f}=this._deduceParameters({format:o,type:d,dataFormat:m,compressed:g,data:l,width:h,height:f}));const{gl:b}=this;b.bindTexture(this.target,this.handle);let v=null;({data:l,dataType:v}=this._getDataType({data:l,compressed:g}));let D,N=0;return ol(this.gl,c,()=>{switch(v){case"null":b.texImage2D(t,r,o,h,f,s,m,d,l);break;case"typed-array":b.texImage2D(t,r,o,h,f,s,m,d,l,a);break;case"buffer":D=ya(b),D.bindBuffer(35052,l.handle||l),D.texImage2D(t,r,o,h,f,s,m,d,a),D.bindBuffer(35052,null);break;case"browser-object":Oi(b)?b.texImage2D(t,r,o,h,f,s,m,d,l):b.texImage2D(t,r,o,m,d,l);break;case"compressed":for(const[Z,G]of l.entries())b.compressedTexImage2D(t,Z,G.format,G.width,G.height,s,G.data),N+=G.levelSize;break;default:gn(!1,"Unknown image data type")}}),this._trackAllocatedMemory("compressed"===v?N:l&&l.byteLength?l.byteLength:this.width*this.height*(Y9[this.dataFormat]||4)*(K9[this.type]||1),"Texture"),this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:i=null,data:r=null,x:o=0,y:s=0,width:a=this.width,height:c=this.height,level:l=0,format:d=this.format,type:h=this.type,dataFormat:f=this.dataFormat,compressed:m=!1,offset:g=0,border:b=this.border,parameters:v={}}=e;if(({type:h,dataFormat:f,compressed:m,width:a,height:c}=this._deduceParameters({format:d,type:h,dataFormat:f,compressed:m,data:r,width:a,height:c})),gn(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=i),r&&r.data){const D=r;r=D.data,a=D.shape[0],c=D.shape[1]}r instanceof Ar&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),ol(this.gl,v,()=>{if(m)this.gl.compressedTexSubImage2D(t,l,o,s,a,c,d,r);else if(null===r)this.gl.texSubImage2D(t,l,o,s,a,c,f,h,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(t,l,o,s,a,c,f,h,r,g);else if(r instanceof J9){const D=ya(this.gl);D.bindBuffer(35052,r),D.texSubImage2D(t,l,o,s,a,c,f,h,g),D.bindBuffer(35052,null)}else Oi(this.gl)?ya(this.gl).texSubImage2D(t,l,o,s,a,c,f,h,r):this.gl.texSubImage2D(t,l,o,s,f,h,r)}),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return Rn.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:i=!1}=e;return i?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof Ar?{data:t.handle,dataType:"buffer"}:t instanceof J9?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:i}=e;let{width:r,height:o,dataFormat:s,type:a,compressed:c}=e;const l=QP[t];return s=s||l&&l.dataFormat,a=a||l&&l.types[0],c=c||l&&l.compressed,({width:r,height:o}=this._deduceImageSize(i,r,o)),{dataFormat:s,type:a,compressed:c,width:r,height:o,format:t,data:i}}_deduceImageSize(e,t,i){let r;return r=typeof ImageData<"u"&&e instanceof ImageData?{width:e.width,height:e.height}:typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?{width:e.width,height:e.height}:typeof HTMLVideoElement<"u"&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:i}:{width:t>=0?t:1,height:i>=0?i:1},gn(r,"Could not deduced texture size"),gn(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),gn(void 0===i||r.height===i,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:gn(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!(Oi(this.gl)||!this.width||!this.height||W9(this.width)&&W9(this.height))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===k0e.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}function P0e(n,e){return gn("string"==typeof n),n=""+n,new Promise((t,i)=>{try{const r=new Image;r.onload=()=>t(r),r.onerror=()=>i(new Error("Could not load image ".concat(n,"."))),r.crossOrigin=e&&e.crossOrigin||"anonymous",r.src=n}catch(r){i(r)}})}class Vs extends Wp{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return Wp.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zA(e),(t instanceof Promise||"string"==typeof t)&&(t={data:t}),"string"==typeof t.data&&(t=Object.assign({},t,{data:P0e(t.data)})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}const $p="EXT_color_buffer_float",Q9={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:$p,bpp:2},33327:{gl2:$p,bpp:4},34842:{gl2:$p,bpp:8},33326:{gl2:$p,bpp:4},33328:{gl2:$p,bpp:8},34836:{gl2:$p,bpp:16},35898:{gl2:$p,bpp:4}};class B_ extends ku{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function N0e(n,e,t){const i=t[e];if(!i)return!1;const r=Oi(n)&&i.gl2||i.gl1;return"string"==typeof r?n.getExtension(r):r}(e,t,Q9)}static getSamplesForFormat(e,t){let{format:i}=t;return e.getInternalformatParameter(36161,i,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:i=1,height:r=1,samples:o=0}=e;return gn(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==o&&Oi(this.gl)?this.gl.renderbufferStorageMultisample(36161,o,t,i,r):this.gl.renderbufferStorage(36161,t,i,r),this.format=t,this.width=i,this.height=r,this.samples=o,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*Q9[this.format].bpp),this}resize(e){let{width:t,height:i}=e;return t!==this.width||i!==this.height?this.initialize({width:t,height:i,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){return this.gl.bindRenderbuffer(36161,this.handle),this.gl.getRenderbufferParameter(36161,e)}}const Z9=6144,iW="clear: bad arguments";function e2(n){let{framebuffer:e=null,color:t=null,depth:i=null,stencil:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={};e&&(o.framebuffer=e);let s=0;t&&(s|=16384,!0!==t&&(o.clearColor=t)),i&&(s|=256,!0!==i&&(o.clearDepth=i)),r&&(s|=1024,!0!==i&&(o.clearStencil=i)),gn(0!==s,iW),ol(n,o,()=>{n.clear(s)})}const t2=[34069,34070,34071,34072,34073,34074];let V0e=(()=>{class n extends Wp{get[Symbol.toStringTag](){return"TextureCube"}constructor(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};zA(t),super(t,Object.assign({},i,{target:34067})),this.initialize(i),Object.seal(this)}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:i=!0,parameters:r={}}=t;return this.opts=t,this.setCubeMapImageData(t).then(()=>{this.loaded=!0,i&&this.generateMipmap(t),this.setParameters(r)}),this}subImage(t){let{face:i,data:r,x:o=0,y:s=0,mipmapLevel:a=0}=t;return this._subImage({target:i,data:r,x:o,y:s,mipmapLevel:a})}setCubeMapImageData(t){var i=this;return R(function*(){let{width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t;const{gl:h}=i,f=s||a,m=yield Promise.all(t2.map(g=>{const b=f[g];return Promise.all(Array.isArray(b)?b:[b])}));i.bind(),t2.forEach((g,b)=>{m[b].length>1&&!1!==i.opts.mipmaps&&Rn.warn("".concat(i.id," has mipmap and multiple LODs."))(),m[b].forEach((v,D)=>{r&&o?h.texImage2D(g,D,l,r,o,c,l,d,v):h.texImage2D(g,D,l,l,d,v)})}),i.unbind()})()}setImageDataForFace(t){const{face:i,width:r,height:o,pixels:s,data:a,border:c=0,format:l=6408,type:d=5121}=t,{gl:h}=this,f=s||a;return this.bind(),f instanceof Promise?f.then(m=>this.setImageDataForFace(Object.assign({},t,{face:i,data:m,pixels:m}))):this.width||this.height?h.texImage2D(i,0,l,r,o,c,l,d,f):h.texImage2D(i,0,l,l,d,f),this}}return n.FACES=t2,n})();class z0e extends Wp{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return Oi(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ya(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:i=6408,width:r,height:o,depth:s=1,border:a=0,format:c,type:l=5121,offset:d=0,data:h,parameters:f={}}=e;return this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),ol(this.gl,f,()=>{ArrayBuffer.isView(h)&&this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,h),h instanceof Ar&&(this.gl.bindBuffer(35052,h.handle),this.gl.texImage3D(this.target,t,i,r,o,s,a,c,l,d))}),this._trackAllocatedMemory(h&&h.byteLength?h.byteLength:this.width*this.height*this.depth*(Y9[this.dataFormat]||4)*(K9[this.type]||1),"Texture"),this.loaded=!0,this}}function G0e(n,e){const{gl:t,width:i,height:r,id:o}=n;return new os(t,Object.assign({},e,{id:"framebuffer-for-".concat(o),width:i,height:r,attachments:{36064:n}}))}function HA(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:t=0,sourceY:i=0,sourceFormat:r=6408}=e;let{sourceAttachment:o=36064,target:s=null,sourceWidth:a,sourceHeight:c,sourceType:l}=e;const{framebuffer:d,deleteFramebuffer:h}=L0(n);gn(d);const{gl:f,handle:m,attachments:g}=d;a=a||d.width,c=c||d.height,36064===o&&null===m&&(o=1028),gn(g[o]),l=l||g[o].type,s=function $0e(n,e,t,i,r){if(n)return n;const o=F0(e=e||5121,{clamped:!1}),s=function U0e(n){switch(n){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return gn(!1),0}}(t);return new o(i*r*s)}(s,l,r,a,c),l=l||KP(s);const b=f.bindFramebuffer(36160,m);return f.readPixels(t,i,a,c,r,l,s),f.bindFramebuffer(36160,b||null),h&&d.delete(),s}function n2(n){let{sourceAttachment:e=36064,targetMaxHeight:t=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=HA(n,{sourceAttachment:e}),{width:r,height:o}=n;for(;o>t;)({data:i,width:r,height:o}=S0e({data:i,width:r,height:o}));!function A0e(n){let{data:e,width:t,height:i,bytesPerPixel:r=4,temp:o}=n;const s=t*r;o=o||new Uint8Array(s);for(let a=0;a<i/2;++a){const c=a*s,l=(i-a-1)*s;o.set(e.subarray(c,c+s)),e.copyWithin(c,l,l+s),e.set(o,l)}}({data:i,width:r,height:o});const s=document.createElement("canvas");s.width=r,s.height=o;const a=s.getContext("2d"),c=a.createImageData(r,o);return c.data.set(i),a.putImageData(c,0,0),s.toDataURL()}function L0(n){return n instanceof os?{framebuffer:n,deleteFramebuffer:!1}:{framebuffer:G0e(n),deleteFramebuffer:!0}}const rW={WEBGL2:[!1,!0],VERTEX_ARRAY_OBJECT:["OES_vertex_array_object",!0],TIMER_QUERY:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],INSTANCED_RENDERING:["ANGLE_instanced_arrays",!0],MULTIPLE_RENDER_TARGETS:["WEBGL_draw_buffers",!0],ELEMENT_INDEX_UINT32:["OES_element_index_uint",!0],BLEND_EQUATION_MINMAX:["EXT_blend_minmax",!0],FLOAT_BLEND:["EXT_float_blend"],COLOR_ENCODING_SRGB:["EXT_sRGB",!0],TEXTURE_DEPTH:["WEBGL_depth_texture",!0],TEXTURE_FLOAT:["OES_texture_float",!0],TEXTURE_HALF_FLOAT:["OES_texture_half_float",!0],TEXTURE_FILTER_LINEAR_FLOAT:["OES_texture_float_linear"],TEXTURE_FILTER_LINEAR_HALF_FLOAT:["OES_texture_half_float_linear"],TEXTURE_FILTER_ANISOTROPIC:["EXT_texture_filter_anisotropic"],COLOR_ATTACHMENT_RGBA32F:[function q0e(n){const e=new Vs(n,{format:6408,type:5126,dataFormat:6408}),t=new os(n,{id:"test-framebuffer",check:!1,attachments:{36064:e}}),i=t.getStatus();return e.delete(),t.delete(),36053===i},"EXT_color_buffer_float"],COLOR_ATTACHMENT_FLOAT:[!1,"EXT_color_buffer_float"],COLOR_ATTACHMENT_HALF_FLOAT:["EXT_color_buffer_half_float"],GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},X0e=2;function r2(n,e){return oW(n,e)}function oW(n,e){return(e=Array.isArray(e)?e:[e]).every(t=>sW(n,t))}function sW(n,e){return n.luma=n.luma||{},n.luma.caps=n.luma.caps||{},void 0===n.luma.caps[e]&&(n.luma.caps[e]=function K0e(n,e){const t=rW[e];let i;gn(t,e);const r=Oi(n)&&t[1]||t[0];if("function"==typeof r)i=r(n);else if(Array.isArray(r)){i=!0;for(const o of r)i=i&&!!n.getExtension(o)}else"string"==typeof r?i=!!n.getExtension(r):"boolean"==typeof r?i=r:gn(!1);return i}(n,e)),n.luma.caps[e]||Rn.log(X0e,"Feature: ".concat(e," not supported"))(),n.luma.caps[e]}const aW="Multiple render targets not supported";class os extends ku{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:i,colorBufferHalfFloat:r}=t;let o=!0;return i&&(o=!!(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(o=o&&!(!e.getExtension("EXT_color_buffer_float")&&!e.getExtension("EXT_color_buffer_half_float"))),o}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new os(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=ya(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=ya(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:i=1,attachments:r=null,color:o=!0,depth:s=!0,stencil:a=!1,check:c=!0,readBuffer:l,drawBuffers:d}=e;if(gn(t>=0&&i>=0,"Width and height need to be integers"),this.width=t,this.height=i,r)for(const h in r){const f=r[h];(Array.isArray(f)?f[0]:f).resize({width:t,height:i})}else r=this._createDefaultAttachments(o,s,a,t,i);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:d}),r&&c&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:i,drawBuffers:r,clearAttachments:o=!1,resizeAttachments:s=!0}=e;this.attach(t,{clearAttachments:o,resizeAttachments:s});const{gl:a}=this,c=a.bindFramebuffer(36160,this.handle);return i&&this._setReadBuffer(i),r&&this._setDrawBuffers(r),a.bindFramebuffer(36160,c||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:i}=e;if(null===this.handle)return gn(void 0===t&&void 0===i),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===i&&(i=this.gl.drawingBufferHeight),t!==this.width&&i!==this.height&&Rn.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(i))();for(const r in this.attachments)this.attachments[r].resize({width:t,height:i});return this.width=t,this.height=i,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach(s=>{r[s]=null}),Object.assign(r,e);const o=this.gl.bindFramebuffer(36160,this.handle);for(const s in r){gn(void 0!==s,"Misspelled framebuffer binding point?");const a=Number(s),c=r[a];let l=c;if(l)if(l instanceof B_)this._attachRenderbuffer({attachment:a,renderbuffer:l});else if(Array.isArray(c)){const[d,h=0,f=0]=c;l=d,this._attachTexture({attachment:a,texture:d,layer:h,level:f})}else this._attachTexture({attachment:a,texture:l,layer:0,level:0});else this._unattach(a);i&&l&&l.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,o||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter(s=>!this.attachments[s]).forEach(s=>{delete this.attachments[s]})}checkStatus(){const t=this.getStatus();if(36053!==t)throw new Error(function Q0e(n){return(os.STATUS||{})[n]||"Framebuffer error ".concat(n)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),i=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),i}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:i,stencil:r,drawBuffers:o=[]}=e,s=this.gl.bindFramebuffer(36160,this.handle);return(t||i||r)&&e2(this.gl,{color:t,depth:i,stencil:r}),o.forEach((a,c)=>{!function j0e(n){let{framebuffer:e=null,buffer:t=Z9,drawBuffer:i=0,value:r=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ya(n),ol(n,{framebuffer:e},()=>{switch(t){case Z9:switch(r.constructor){case Int32Array:n.clearBufferiv(t,i,r);break;case Uint32Array:n.clearBufferuiv(t,i,r);break;case Float32Array:default:n.clearBufferfv(t,i,r)}break;case 6145:n.clearBufferfv(6145,0,[r]);break;case 6146:n.clearBufferiv(6146,0,[r]);break;case 34041:const[o,s]=r;n.clearBufferfi(34041,0,o,s);break;default:gn(!1,iW)}})}(this.gl,{drawBuffer:c,value:a})}),this.gl.bindFramebuffer(36160,s||null),this}readPixels(){return Rn.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return Rn.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return Rn.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return Rn.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return Rn.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return Rn.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:i=0,y:r=0,width:o,height:s}=e;const a=ya(this.gl),c=a.bindFramebuffer(36008,this.handle);return 0===i&&0===r&&void 0===o&&void 0===s?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,i,r,o,s),a.bindFramebuffer(36008,c),this}getAttachmentParameter(e,t,i){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),i&&r>1e3&&(r=Kh(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const o of i)r[t?Kh(this.gl,o):o]=this.getAttachmentParameter(e,o,t);return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),i={};for(const r of t){const o=Number(r);i[e?Kh(this.gl,o):o]=this.getAttachmentParameters(o,e)}return i}show(){return typeof window<"u"&&window.open(n2(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>Rn.level||typeof window>"u")return this;t=t||"Framebuffer ".concat(this.id);const i=n2(this,{targetMaxHeight:100});return Rn.image({logLevel:e,message:t,image:i},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,i,r,o){let s=null;return e&&(s=s||{},s[36064]=new Vs(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:o,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(s[36064])),t&&i?(s=s||{},s[33306]=new B_(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(s[33306])):t?(s=s||{},s[36096]=new B_(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:o}),this.ownResources.push(s[36096])):i&&gn(!1),s}_unattach(e){const t=this.attachments[e];t&&(t instanceof B_?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:i}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,i.handle),this.attachments[t]=i}_attachTexture(e){let{attachment:t=36064,texture:i,layer:r,level:o}=e;const{gl:s}=this;switch(s.bindTexture(i.target,i.handle),i.target){case 35866:case 32879:ya(s).framebufferTextureLayer(36160,t,i.target,o,r);break;case 34067:const c=function J0e(n){return n<34069?n+34069:n}(r);s.framebufferTexture2D(36160,t,c,i.handle,o);break;case 3553:s.framebufferTexture2D(36160,t,3553,i.handle,o);break;default:gn(!1,"Illegal texture type")}s.bindTexture(i.target,null),this.attachments[t]=i}_setReadBuffer(e){const t=function Tve(n){return Oi(n)?n:null}(this.gl);t?t.readBuffer(e):gn(36064===e||1029===e,aW),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,i=ya(t);if(i)i.drawBuffers(e);else{const r=t.getExtension("WEBGL_draw_buffers");r?r.drawBuffersWEBGL(e):gn(1===e.length&&(36064===e[0]||1029===e[0]),aW)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=function Y0e(n){n.luma=n.luma||{},n.luma.caps=n.luma.caps||{};for(const e in rW)void 0===n.luma.caps[e]&&(n.luma.caps[e]=sW(n,e));return n.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}os.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];const ewe={5126:Jr.bind(null,"uniform1fv",Ic,1,va),35664:Jr.bind(null,"uniform2fv",Ic,2,va),35665:Jr.bind(null,"uniform3fv",Ic,3,va),35666:Jr.bind(null,"uniform4fv",Ic,4,va),5124:Jr.bind(null,"uniform1iv",Jh,1,va),35667:Jr.bind(null,"uniform2iv",Jh,2,va),35668:Jr.bind(null,"uniform3iv",Jh,3,va),35669:Jr.bind(null,"uniform4iv",Jh,4,va),35670:Jr.bind(null,"uniform1iv",Jh,1,va),35671:Jr.bind(null,"uniform2iv",Jh,2,va),35672:Jr.bind(null,"uniform3iv",Jh,3,va),35673:Jr.bind(null,"uniform4iv",Jh,4,va),35674:Jr.bind(null,"uniformMatrix2fv",Ic,4,Pu),35675:Jr.bind(null,"uniformMatrix3fv",Ic,9,Pu),35676:Jr.bind(null,"uniformMatrix4fv",Ic,16,Pu),35678:zs,35680:zs,5125:Jr.bind(null,"uniform1uiv",GA,1,va),36294:Jr.bind(null,"uniform2uiv",GA,2,va),36295:Jr.bind(null,"uniform3uiv",GA,3,va),36296:Jr.bind(null,"uniform4uiv",GA,4,va),35685:Jr.bind(null,"uniformMatrix2x3fv",Ic,6,Pu),35686:Jr.bind(null,"uniformMatrix2x4fv",Ic,8,Pu),35687:Jr.bind(null,"uniformMatrix3x2fv",Ic,6,Pu),35688:Jr.bind(null,"uniformMatrix3x4fv",Ic,12,Pu),35689:Jr.bind(null,"uniformMatrix4x2fv",Ic,8,Pu),35690:Jr.bind(null,"uniformMatrix4x3fv",Ic,12,Pu),35678:zs,35680:zs,35679:zs,35682:zs,36289:zs,36292:zs,36293:zs,36298:zs,36299:zs,36300:zs,36303:zs,36306:zs,36307:zs,36308:zs,36311:zs},twe={},nwe={},iwe={},cW=[0];function o2(n,e,t,i){1===e&&"boolean"==typeof n&&(n=n?1:0),Number.isFinite(n)&&(cW[0]=n,n=cW);const r=n.length;if(r%e&&Rn.warn("Uniform size should be multiples of ".concat(e),n)(),n instanceof t)return n;let o=i[r];o||(o=new t(r),i[r]=o);for(let s=0;s<r;s++)o[s]=n[s];return o}function Ic(n,e){return o2(n,e,Float32Array,twe)}function Jh(n,e){return o2(n,e,Int32Array,nwe)}function GA(n,e){return o2(n,e,Uint32Array,iwe)}function lW(n,e,t){const i=ewe[t.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(t.type));return i().bind(null,n,e)}function rwe(n){if("]"!==n[n.length-1])return{name:n,length:1,isArray:!1};const t=n.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(n));return{name:t[1],length:t[2]||1,isArray:!!t[2]}}function swe(n){return Array.isArray(n)||ArrayBuffer.isView(n)?function cwe(n){if(0===n.length)return!1;const e=Math.min(n.length,16);for(let t=0;t<e;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n):!!(isFinite(n)||!0===n||!1===n||n instanceof Wp||n instanceof B_)||n instanceof os&&!!n.texture}function awe(n,e,t){if(Array.isArray(t)||ArrayBuffer.isView(t))if(n[e]){const i=n[e];for(let r=0,o=t.length;r<o;++r)i[r]=t[r]}else n[e]=t.slice();else n[e]=t}function zs(){let n=null;return(e,t,i)=>{const r=n!==i;return r&&(e.uniform1i(t,i),n=i),r}}function Jr(n,e,t,i){let r=null,o=null;return(s,a,c)=>{const l=e(c,t),d=l.length;let h=!1;if(null===r)r=new Float32Array(d),o=d,h=!0;else{gn(o===d,"Uniform length cannot change.");for(let f=0;f<d;++f)if(l[f]!==r[f]){h=!0;break}}return h&&(i(s,n,a,l),r.set(l)),h}}function va(n,e,t,i){n[e](t,i)}function Pu(n,e,t,i){n[e](t,!1,i)}function WA(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const i=n.match(/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/);return i?i[1]:e}function uW(n,e){let t="";for(let i=0;i<e.length;i++)if((n[i+3]||n[i+2]||n[i+1])&&(t+="".concat(e[i],"\n"),n[i+1])){const o=n[i+1],s=o.split(":",3),a=s[0],c=parseInt(s[1],10)||0,l=o.substring(s.join(":").length+1).trim();t+=hW("^^^ ".concat(a,": ").concat(l,"\n\n"),c)}return t}function hW(n,e){let t="";for(let i=0;i<e;++i)t+=" ";return"".concat(t).concat(n)}class B0 extends ku{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return gn(!1),"unknown"}}constructor(e,t){zA(e),gn("string"==typeof t.source,"Shader: GLSL source code must be a JavaScript string"),super(e,{id:WA(t.source,null)||t.id||oc("unnamed ".concat(B0.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const i=WA(t,null);i&&(this.id=oc(i)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(B0.getTypeName(this.shaderType),":").concat(this.id)}getName(){return WA(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;if(e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle),!this.getParameter(35713)){const i=this.gl.getShaderInfoLog(this.handle),{shaderName:r,errors:o,warnings:s}=function dW(n,e,t,i){const r=n.split(/\r?\n/),o={},s={},a=i||WA(e)||"(unnamed)",c="".concat(function uwe(n){switch(n){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(t)," shader ").concat(a);for(let d=0;d<r.length;d++){const h=r[d];if(h.length<=1)continue;const f=h.split(":"),m=f[0],g=parseInt(f[2],10);if(isNaN(g))throw new Error("GLSL compilation error in ".concat(c,": ").concat(n));"WARNING"!==m?o[g]=h:s[g]=h}const l=function hwe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const i=n.split(/\r?\n/),r=String(i.length+e-1).length;return i.map((o,s)=>{const a=String(s+e);return hW(a,r-a.length)+t+o})}(e);return{shaderName:c,errors:uW(o,l),warnings:uW(s,l)}}(i,this.source,this.shaderType,this.id);throw Rn.error("GLSL compilation errors in ".concat(r,"\n").concat(o))(),Rn.warn("GLSL compilation warnings in ".concat(r,"\n").concat(s))(),new Error("GLSL compilation errors in ".concat(r))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class s2 extends B0{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class a2 extends B0{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"==typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const pwe=5120,mwe=5121,gwe=5122,_we=5123,_s=5126,j0=5124,U0=5125,c2={[_s]:[_s,1,"float"],35664:[_s,2,"vec2"],35665:[_s,3,"vec3"],35666:[_s,4,"vec4"],[j0]:[j0,1,"int"],35667:[j0,2,"ivec2"],35668:[j0,3,"ivec3"],35669:[j0,4,"ivec4"],[U0]:[U0,1,"uint"],36294:[U0,2,"uvec2"],36295:[U0,3,"uvec3"],36296:[U0,4,"uvec4"],35670:[_s,1,"bool"],35671:[_s,2,"bvec2"],35672:[_s,3,"bvec3"],35673:[_s,4,"bvec4"],35674:[_s,8,"mat2"],35685:[_s,8,"mat2x3"],35686:[_s,8,"mat2x4"],35675:[_s,12,"mat3"],35687:[_s,12,"mat3x2"],35688:[_s,12,"mat3x4"],35676:[_s,16,"mat4"],35689:[_s,16,"mat4x2"],35690:[_s,16,"mat4x3"]};function bW(n){const e=c2[n];if(!e)return null;const[t,i]=e;return{type:t,components:i}}function yW(n,e){switch(n){case pwe:case mwe:case gwe:case _we:n=_s}for(const t in c2){const[i,r,o]=c2[t];if(i===n&&r===e)return{glType:t,name:o}}return null}class Vwe{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,i=t.getProgramParameter(e.handle,35721);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getActiveAttrib(e.handle,r),c=t.getAttribLocation(e.handle,o);c>=0&&this._addAttribute(c,o,s,a)}this.attributeInfos.sort((r,o)=>r.location-o.location)}_readVaryingsFromProgram(e){const{gl:t}=e;if(!Oi(t))return;const i=t.getProgramParameter(e.handle,35971);for(let r=0;r<i;r++){const{name:o,type:s,size:a}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,o,s,a)}this.varyingInfos.sort((r,o)=>r.location-o.location)}_addAttribute(e,t,i,r){const{type:o,components:s}=bW(i),a={type:o,size:r*s};this._inferProperties(e,t,a);const c={location:e,name:t,accessor:new sc(a)};this.attributeInfos.push(c),this.attributeInfosByLocation[e]=c,this.attributeInfosByName[c.name]=c}_inferProperties(e,t,i){/instance/i.test(t)&&(i.divisor=1)}_addVarying(e,t,i,r){const{type:o,components:s}=bW(i),c={location:e,name:t,accessor:new sc({type:o,size:r*s})};this.varyingInfos.push(c),this.varyingInfosByName[c.name]=c}}const zwe=35981,Hwe=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class wW extends ku{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",Hwe),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:i,fs:r,varyings:o,bufferMode:s=zwe}=e;return this.hash=t||"",this.vs="string"==typeof i?new s2(this.gl,{id:"".concat(e.id,"-vs"),source:i}):i,this.fs="string"==typeof r?new a2(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,gn(this.vs instanceof s2),gn(this.fs instanceof a2),this.uniforms={},this._textureUniforms={},o&&o.length>0&&(ya(this.gl),this.varyings=o,this.gl2.transformFeedbackVaryings(this.handle,o,s)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Vwe(this),this.setProps(e)}delete(){return this._isCached?this:super.delete(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:i=4,vertexCount:r,offset:o=0,start:s,end:a,isIndexed:c=!1,indexType:l=5123,instanceCount:d=0,isInstanced:h=d>0,vertexArray:f=null,transformFeedback:m,framebuffer:g,parameters:b={},uniforms:v,samplers:D}=e;if((v||D)&&(Rn.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(v||{})),Rn.priority>=t){const N=g?g.id:"default",Z="mode=".concat(Kh(this.gl,i)," verts=").concat(r," ")+"instances=".concat(d," indexType=").concat(Kh(this.gl,l)," ")+"isInstanced=".concat(h," isIndexed=").concat(c," ")+"Framebuffer=".concat(N);Rn.log(t,Z)()}return gn(f),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||h&&0===d||(f.bindForDraw(r,d,()=>{if(void 0!==g&&(b=Object.assign({},b,{framebuffer:g})),m){const N=function _W(n){switch(n){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return gn(!1),0}}(i);m.begin(N)}this._bindTextures(),ol(this.gl,b,()=>{c&&h?this.gl2.drawElementsInstanced(i,r,l,o,d):c&&Oi(this.gl)&&!isNaN(s)&&!isNaN(a)?this.gl2.drawRangeElements(i,s,a,r,l,o):c?this.gl.drawElements(i,r,l,o):h?this.gl2.drawArraysInstanced(i,o,r,d):this.gl.drawArrays(i,o,r)}),m&&m.end()}),0))}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Rn.priority>=2&&function owe(n,e,t){for(const i in n){const r=n[i];if((!t||t[i])&&!swe(r))throw e=e?"".concat(e," "):"",console.error("".concat(e," Bad uniform ").concat(i),r),new Error("".concat(e," Bad uniform ").concat(i))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const i=e[t],r=this._uniformSetters[t];if(r){let o=i,s=!1;if(o instanceof os&&(o=o.texture),o instanceof Wp)if(s=this.uniforms[t]!==i,s){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const a=o,{textureIndex:c}=r;a.bind(c),o=c,this._textureUniforms[t]=a}else o=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(o)||s)&&awe(this.uniforms,t,i)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const i=this._textureUniforms[t];i.update(),e=e&&i.loaded}return e}_bindTextures(){for(const e in this._textureUniforms)this._textureUniforms[e].bind(this._uniformSetters[e].textureIndex)}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),i={};for(const r of t)switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:i.vs=new s2({handle:r});break;case 35632:i.fs=new a2({handle:r})}return i}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const t=this._getName();this.id=oc(t)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),Rn.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),Rn.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||Rn.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));if(e.validateProgram(this.handle),!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const i=this.gl.getActiveUniform(this.handle,t),{name:r}=rwe(i.name);let o=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=lW(e,o,i),i.size>1)for(let s=0;s<i.size;s++)o=e.getUniformLocation(this.handle,"".concat(r,"[").concat(s,"]")),this._uniformSetters["".concat(r,"[").concat(s,"]")]=lW(e,o,i)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}class V0{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new V0(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find(t=>t.name===e.name)||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"==typeof e?e:e.name;this._defaultModules=this._defaultModules.filter(i=>i.name!==t),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:i="",defines:r={},inject:o={},varyings:s=[],bufferMode:a=35981,transpileToGLSL100:c=!1}=e,l=this._getModuleList(e.modules),d=this._getHash(t),h=this._getHash(i),f=l.map(Z=>this._getHash(Z.name)).sort(),m=s.map(Z=>this._getHash(Z)),g=Object.keys(r).sort(),b=Object.keys(o).sort(),v=[],D=[];for(const Z of g)v.push(this._getHash(Z)),v.push(this._getHash(r[Z]));for(const Z of b)D.push(this._getHash(Z)),D.push(this._getHash(o[Z]));const N="".concat(d,"/").concat(h,"D").concat(v.join("/"),"M").concat(f.join("/"),"I").concat(D.join("/"),"V").concat(m.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(c?"T":"");if(!this._programCache[N]){const Z=function bve(n,e){const{vs:t,fs:i}=e,r=qye(e.modules||[]);return{gl:n,vs:S9(n,Object.assign({},e,{source:t,type:O0,modules:r})),fs:S9(n,Object.assign({},e,{source:i,type:"fs",modules:r})),getUniforms:yve(r)}}(this.gl,{vs:t,fs:i,modules:l,inject:o,defines:r,hookFunctions:this._hookFunctions,transpileToGLSL100:c});this._programCache[N]=new wW(this.gl,{hash:N,vs:Z.vs,fs:Z.fs,varyings:s,bufferMode:a}),this._getUniforms[N]=Z.getUniforms||(G=>{}),this._useCounts[N]=0}return this._useCounts[N]++,this._programCache[N]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),i={};let r=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],c=a.name;t[r++]=a,i[c]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],c=a.name;i[c]||(t[r++]=a,i[c]=!0)}return t.length=r,t}}const Gwe=[255,255,255],Wwe=1;let $we=0;class xW{constructor(e={}){pe(this,"id",void 0),pe(this,"color",void 0),pe(this,"intensity",void 0),pe(this,"type","ambient");const{color:t=Gwe}=e,{intensity:i=Wwe}=e;this.id=e.id||"ambient-".concat($we++),this.color=t,this.intensity=i}}const qwe=[255,255,255],Xwe=1,Ywe=[0,0,-1];let Kwe=0;class EW{constructor(e={}){pe(this,"id",void 0),pe(this,"color",void 0),pe(this,"intensity",void 0),pe(this,"type","directional"),pe(this,"direction",void 0),pe(this,"shadow",void 0);const{color:t=qwe}=e,{intensity:i=Xwe}=e,{direction:r=Ywe}=e,{_shadow:o=!1}=e;this.id=e.id||"directional-".concat(Kwe++),this.color=t,this.intensity=i,this.type="directional",this.direction=new ba(r).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class Jwe{constructor(e,t={id:"pass"}){pe(this,"id",void 0),pe(this,"gl",void 0),pe(this,"props",void 0);const{id:i}=t;this.id=i,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class qA extends Jwe{constructor(...e){super(...e),pe(this,"_lastRenderIndex",-1)}render(e){return Ru(this.gl,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:i,viewports:r,views:o,onViewportActive:s,clearStack:a=!0,clearCanvas:c=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;c&&function Zwe(n){Ru(n,{viewport:[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}),n.clear(16640)}(l),a&&(this._lastRenderIndex=-1);const d=[];for(const h of r){const f=o&&o[h.id];s(h);const m=this._getDrawLayerParams(h,e),g=h.subViewports||[h];for(const b of g){const v=this._drawLayersInViewport(l,{target:t,moduleParameters:i,viewport:b,view:f,pass:e.pass,layers:e.layers},m);d.push(v)}}return d}_getDrawLayerParams(e,{layers:t,pass:i,layerFilter:r,cullRect:o,effects:s,moduleParameters:a}){const c=[],l=CW(this._lastRenderIndex+1),d={layer:t[0],viewport:e,isPicking:i.startsWith("picking"),renderPass:i,cullRect:o},h={};for(let f=0;f<t.length;f++){const m=t[f],g=this._shouldDrawLayer(m,d,r,h),b={shouldDrawLayer:g};g&&(b.layerRenderIndex=l(m,g),b.moduleParameters=this._getModuleParameters(m,s,i,a),b.layerParameters=this.getLayerParameters(m,f,e)),c[f]=b}return c}_drawLayersInViewport(e,{layers:t,moduleParameters:i,pass:r,target:o,viewport:s,view:a},c){const l=function Qwe(n,{moduleParameters:e,target:t,viewport:i}){const r=t&&"default-framebuffer"!==t.id,o=e&&e.devicePixelRatio||N_(n);return[i.x*o,(r?t.height:n.drawingBufferHeight)-(i.y+i.height)*o,i.width*o,i.height*o]}(e,{moduleParameters:i,target:o,viewport:s});if(a&&a.props.clear){const h=!0===a.props.clear?{color:!0,depth:!0}:a.props.clear;ol(e,{scissorTest:!0,scissor:l},()=>e2(e,h))}const d={totalCount:t.length,visibleCount:0,compositeCount:0,pickableCount:0};Ru(e,{viewport:l});for(let h=0;h<t.length;h++){const f=t[h],{shouldDrawLayer:m,layerRenderIndex:g,moduleParameters:b,layerParameters:v}=c[h];if(m&&f.props.pickable&&d.pickableCount++,f.isComposite)d.compositeCount++;else if(m){d.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,g),b.viewport=s;try{f._drawLayer({moduleParameters:b,uniforms:{layerIndex:g},parameters:v})}catch(D){f.raiseError(D,"drawing ".concat(f," to ").concat(r))}}}return d}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,i){return e.props.parameters}_shouldDrawLayer(e,t,i,r){if(!e.props.visible||!this.shouldDrawLayer(e))return!1;t.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(t))return!1;t.layer=s,s=s.parent}if(i){const a=t.layer.id;if(a in r||(r[a]=i(t)),!r[a])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,i,r){var o;const s=Object.assign(Object.create((null===(o=e.internalState)||void 0===o?void 0:o.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:N_(this.gl)});if(t)for(const c of t){var a;Object.assign(s,null===(a=c.getModuleParameters)||void 0===a?void 0:a.call(c,e))}return Object.assign(s,this.getModuleParameters(e,t),r)}}function CW(n=0,e={}){const t={},i=(r,o)=>{const s=r.props._offset,a=r.id,c=r.parent&&r.parent.id;let l;if(c&&!(c in e)&&i(r.parent,!1),c in t){const d=t[c]=t[c]||CW(e[c],e);l=d(r,o),t[a]=d}else Number.isFinite(s)?(l=s+(e[c]||0),t[a]=null):l=n;return o&&l>=n&&(n=l+1),e[a]=l,l};return i}class exe extends qA{constructor(e,t){super(e,t),pe(this,"shadowMap",void 0),pe(this,"depthBuffer",void 0),pe(this,"fbo",void 0),this.shadowMap=new Vs(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new B_(e,{format:33189,width:1,height:1}),this.fbo=new os(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;ol(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},()=>{const i=e.viewports[0],r=N_(this.gl),o=i.width*r,s=i.height*r;(o!==t.width||s!==t.height)&&t.resize({width:o,height:s}),super.render({...e,target:t,pass:"shadow"})})}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const AW="#define SMOOTH_EDGE_RADIUS 0.5",rxe={name:"geometry",vs:"\n".concat(AW,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(AW,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")},oxe=Object.keys(Xi).map(n=>"const int COORDINATE_SYSTEM_".concat(n," = ").concat(Xi[n],";")).join(""),sxe=Object.keys(vd).map(n=>"const int PROJECTION_MODE_".concat(n," = ").concat(vd[n],";")).join(""),axe=Object.keys(NA).map(n=>"const int UNIT_".concat(n.toUpperCase()," = ").concat(NA[n],";")).join(""),cxe="".concat(oxe,"\n").concat(sxe,"\n").concat(axe,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n');function lxe(n,e){if(n===e)return!0;if(Array.isArray(n)){const t=n.length;if(!e||e.length!==t)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}return!1}function XA(n){let t,e={};return i=>{for(const r in i)if(!lxe(i[r],e[r])){t=n(i),e=i;break}return t}}const SW=[0,0,0,0],dxe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],TW=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],uxe=[0,0,0],MW=[0,0,0],hxe=XA(function mxe({viewport:n,devicePixelRatio:e,coordinateSystem:t,coordinateOrigin:i}){const{projectionCenter:r,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:c,geospatialOrigin:l}=function fxe(n,e,t){const{viewMatrixUncentered:i,projectionMatrix:r}=n;let{viewMatrix:o,viewProjectionMatrix:s}=n,a=SW,c=SW,l=n.cameraPosition;const{geospatialOrigin:d,shaderCoordinateOrigin:h,offsetMode:f}=IW(n,e,t);return f&&(c=n.projectPosition(d||h),l=[l[0]-c[0],l[1]-c[1],l[2]-c[2]],c[3]=1,a=T0([],c,s),o=i||o,s=Up([],r,o),s=Up([],s,dxe)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:c,cameraPosCommon:l,shaderCoordinateOrigin:h,geospatialOrigin:d}}(n,t,i),d=n.getDistanceScales(),h=[n.width*e,n.height*e],f=T0([],[0,0,-n.focalDistance,1],n.projectionMatrix)[3]||1,m={project_uCoordinateSystem:t,project_uProjectionMode:n.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:r,project_uPseudoMeters:!!n._pseudoMeters,project_uViewportSize:h,project_uDevicePixelRatio:e,project_uFocalDistance:f,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:uxe,project_uScale:n.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:o,project_uModelMatrix:TW,project_uCameraPosition:a};if(l){const g=n.getDistanceScales(l);switch(t){case Xi.METER_OFFSETS:m.project_uCommonUnitsPerWorldUnit=g.unitsPerMeter,m.project_uCommonUnitsPerWorldUnit2=g.unitsPerMeter2;break;case Xi.LNGLAT:case Xi.LNGLAT_OFFSETS:n._pseudoMeters||(m.project_uCommonUnitsPerMeter=g.unitsPerMeter),m.project_uCommonUnitsPerWorldUnit=g.unitsPerDegree,m.project_uCommonUnitsPerWorldUnit2=g.unitsPerDegree2;break;case Xi.CARTESIAN:m.project_uCommonUnitsPerWorldUnit=[1,1,g.unitsPerMeter[2]],m.project_uCommonUnitsPerWorldUnit2=[0,0,g.unitsPerMeter2[2]]}}return m});function IW(n,e,t=MW){t.length<3&&(t=[t[0],t[1],0]);let r,i=t,o=!0;switch(r=e===Xi.LNGLAT_OFFSETS||e===Xi.METER_OFFSETS?t:n.isGeospatial?[Math.fround(n.longitude),Math.fround(n.latitude),0]:null,n.projectionMode){case vd.WEB_MERCATOR:(e===Xi.LNGLAT||e===Xi.CARTESIAN)&&(r=[0,0,0],o=!1);break;case vd.WEB_MERCATOR_AUTO_OFFSET:e===Xi.LNGLAT?i=r:e===Xi.CARTESIAN&&(i=[Math.fround(n.center[0]),Math.fround(n.center[1]),0],r=n.unprojectPosition(i),i[0]-=t[0],i[1]-=t[1],i[2]-=t[2]);break;case vd.IDENTITY:i=n.position.map(Math.fround),i[2]=i[2]||0;break;case vd.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}const gxe={},l2={name:"project",dependencies:[{name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},rxe],vs:cxe,getUniforms:function _xe(n=gxe){return"viewport"in n?function pxe({viewport:n,devicePixelRatio:e=1,modelMatrix:t=null,coordinateSystem:i=Xi.DEFAULT,coordinateOrigin:r=MW,autoWrapLongitude:o=!1}){i===Xi.DEFAULT&&(i=n.isGeospatial?Xi.LNGLAT:Xi.CARTESIAN);const s=hxe({viewport:n,devicePixelRatio:e,coordinateSystem:i,coordinateOrigin:r});return s.project_uWrapLongitude=o,s.project_uModelMatrix=t||TW,s}(n):{}}},vxe=XA(function Axe({viewport:n,center:e}){return new Bt(n.viewProjectionMatrix).invert().transform(e)}),wxe=XA(function Sxe({viewport:n,shadowMatrices:e}){const t=[],i=n.pixelUnprojectionMatrix,r=n.isGeospatial?void 0:1,o=[[0,0,r],[n.width,0,r],[0,n.height,r],[n.width,n.height,r],[0,0,-1],[n.width,0,-1],[0,n.height,-1],[n.width,n.height,-1]].map(s=>function Cxe(n,e){const[t,i,r]=n,o=M0([t,i,r],e);return Number.isFinite(r)?o:[o[0],o[1],0]}(s,i));for(const s of e){const a=s.clone().translate(new ba(n.center).negate()),c=o.map(d=>a.transform(d)),l=(new Bt).ortho({left:Math.min(...c.map(d=>d[0])),right:Math.max(...c.map(d=>d[0])),bottom:Math.min(...c.map(d=>d[1])),top:Math.max(...c.map(d=>d[1])),near:Math.min(...c.map(d=>-d[2])),far:Math.max(...c.map(d=>-d[2]))});t.push(l.multiplyRight(s))}return t}),xxe=[0,0,0,1],Exe=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],d2={name:"shadow",dependencies:[l2],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:(n={},e={})=>"viewport"in n&&(n.drawToShadowMap||n.shadowMaps&&n.shadowMaps.length>0)?function Txe(n,e){const{shadowEnabled:t=!0}=n;if(!t||!n.shadowMatrices||!n.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const i={shadow_uDrawShadowMap:!!n.drawToShadowMap,shadow_uUseShadowMap:!!n.shadowMaps&&n.shadowMaps.length>0,shadow_uColor:n.shadowColor||xxe,shadow_uLightId:n.shadowLightId||0,shadow_uLightCount:n.shadowMatrices.length},r=vxe({viewport:n.viewport,center:e.project_uCenter}),o=[],s=wxe({shadowMatrices:n.shadowMatrices,viewport:n.viewport}).slice();for(let a=0;a<n.shadowMatrices.length;a++){const c=s[a],l=c.clone().translate(new ba(n.viewport.center).negate());e.project_uCoordinateSystem===Xi.LNGLAT&&e.project_uProjectionMode===vd.WEB_MERCATOR?(s[a]=l,o[a]=r):(s[a]=c.clone().multiplyRight(Exe),o[a]=l.transform(r))}for(let a=0;a<s.length;a++)i["shadow_uViewProjectionMatrices[".concat(a,"]")]=s[a],i["shadow_uProjectCenters[".concat(a,"]")]=o[a],i["shadow_uShadowMap".concat(a)]=n.shadowMaps&&n.shadowMaps.length>0?n.shadowMaps[a]:n.dummyShadowMap;return i}(n,e):{}},Mxe={color:[255,255,255],intensity:1},DW=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],Ixe=[0,0,0,200/255];class u2{constructor(e={}){pe(this,"id","lighting-effect"),pe(this,"props",null),pe(this,"shadowColor",Ixe),pe(this,"shadow",void 0),pe(this,"ambientLight",null),pe(this,"directionalLights",[]),pe(this,"pointLights",[]),pe(this,"shadowPasses",[]),pe(this,"shadowMaps",[]),pe(this,"dummyShadowMap",null),pe(this,"programManager",void 0),pe(this,"shadowMatrices",void 0);for(const t in e){const i=e[t];switch(i.type){case"ambient":this.ambientLight=i;break;case"directional":this.directionalLights.push(i);break;case"point":this.pointLights.push(i)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(t=>t.shadow)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=V0.getDefaultProgramManager(e),d2&&this.programManager.addDefaultModule(d2)),this.dummyShadowMap||(this.dummyShadowMap=new Vs(e,{width:1,height:1}));for(let a=0;a<this.shadowPasses.length;a++)this.shadowPasses[a].render({layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s,moduleParameters:{shadowLightId:a,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(i=>i.getProjectedLight({layer:e})),pointLights:this.pointLights.map(i=>i.getProjectedLight({layer:e}))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(d2),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const i=(new Bt).lookAt({eye:new ba(t.direction).negate()});e.push(i)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const i=new exe(e);this.shadowPasses[t]=i,this.shadowMaps[t]=i.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:i}=this;!e&&0===t.length&&0===i.length&&(this.ambientLight=new xW(Mxe),this.directionalLights.push(new EW(DW[0]),new EW(DW[1])))}}let Dxe=1,Oxe=1;class OW{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:i=Number.POSITIVE_INFINITY,rate:r=1,repeat:o=1}=e,s=Dxe++,a={time:0,delay:t,duration:i,rate:r,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[t,i]of this.animations)i.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const i=this.animations.values();for(const r of i){const{animation:o,channel:s}=r;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const i=Oxe++;return this.animations.set(i,{animation:e,channel:t}),e.setTime(this.getTime(t)),i}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const i=t-e.delay;i>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,i)%e.duration,e.time*=e.rate)}}const YA=Symbol.for("component"),z_=Symbol.for("asyncPropDefaults"),qp=Symbol.for("asyncPropOriginal"),Qh=Symbol.for("asyncPropResolved");let h2={};function wa(n,e,t,i){ji.level>0&&h2[n]&&h2[n].call(null,e,t,i)}function f2(n,e=(()=>!0)){return Array.isArray(n)?RW(n,e,[]):e(n)?[n]:[]}function RW(n,e,t){let i=-1;for(;++i<n.length;){const r=n[i];Array.isArray(r)?RW(r,e,t):e(r)&&t.push(r)}return t}function kxe({target:n,source:e,start:t=0,count:i=1}){const r=e.length,o=i*r;let s=0;for(let a=t;s<r;s++)n[a++]=e[s];for(;s<o;)s<o-s?(n.copyWithin(t+s,t,t+s),s*=2):(n.copyWithin(t+s,t,t+o-s),s=o);return n}const Nl=n=>"function"==typeof n,Zh=n=>null!==n&&"object"==typeof n,PW=n=>Zh(n)&&n.constructor==={}.constructor,Pxe=n=>n&&"function"==typeof n[Symbol.iterator],Nxe=n=>n&&"function"==typeof n[Symbol.asyncIterator],H_=n=>typeof Response<"u"&&n instanceof Response||n&&n.arrayBuffer&&n.text&&n.json,G_=n=>typeof Blob<"u"&&n instanceof Blob,Fxe=n=>n&&"object"==typeof n&&n.isBuffer,NW=n=>(n=>typeof ReadableStream<"u"&&n instanceof ReadableStream||Zh(n)&&Nl(n.tee)&&Nl(n.cancel)&&Nl(n.getReader))(n)||(n=>Zh(n)&&Nl(n.read)&&Nl(n.pipe)&&(n=>"boolean"==typeof n)(n.readable))(n);function FW(n,e){if(!n)throw new Error(e||"loader assertion failed.")}function p2(n){var e;return!!n&&(Array.isArray(n)&&(n=n[0]),Array.isArray(null===(e=n)||void 0===e?void 0:e.extensions))}function m2(n){var e,t;let i;return FW(n,"null loader"),FW(p2(n),"invalid loader"),Array.isArray(n)&&(i=n[1],n=n[0],n={...n,options:{...n.options,...i}}),(null!==(e=n)&&void 0!==e&&e.parseTextSync||null!==(t=n)&&void 0!==t&&t.parseText)&&(n.text=!0),n.text||(n.binary=!0),n}let g2="";const _2={},zxe=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Hxe=/^([-\w.]+\/[-\w.+]+)/;function Gxe(n){const e=Hxe.exec(n);return e?e[1]:n}function LW(n){const e=zxe.exec(n);return e?e[1]:""}const Wxe=/\?.*/;function KA(n){if(H_(n)){const e=b2(n.url||"");return{url:e,type:Gxe(n.headers.get("content-type")||"")||LW(e)}}return G_(n)?{url:b2(n.name||""),type:n.type||""}:"string"==typeof n?{url:b2(n),type:LW(n)}:{url:"",type:""}}function b2(n){return n.replace(Wxe,"")}function BW(n){return y2.apply(this,arguments)}function y2(){return y2=R(function*(n){if(H_(n))return n;const e={},t=function $xe(n){return H_(n)?n.headers["content-length"]||-1:G_(n)?n.size:"string"==typeof n?n.length:n instanceof ArrayBuffer||ArrayBuffer.isView(n)?n.byteLength:-1}(n);t>=0&&(e["content-length"]=String(t));const{url:i,type:r}=KA(n);r&&(e["content-type"]=r);const o=yield function Yxe(n){return x2.apply(this,arguments)}(n);o&&(e["x-first-bytes"]=o),"string"==typeof n&&(n=(new TextEncoder).encode(n));const s=new Response(n,{headers:e});return Object.defineProperty(s,"url",{value:i}),s}),y2.apply(this,arguments)}function v2(){return v2=R(function*(n){if(!n.ok){const e=yield function Xxe(n){return w2.apply(this,arguments)}(n);throw new Error(e)}}),v2.apply(this,arguments)}function w2(){return w2=R(function*(n){let e="Failed to fetch resource ".concat(n.url," (").concat(n.status,"): ");try{const t=n.headers.get("Content-Type");let i=n.statusText;t.includes("application/json")&&(i+=" ".concat(yield n.text())),e+=i,e=e.length>60?"".concat(e.slice(0,60),"..."):e}catch{}return e}),w2.apply(this,arguments)}function x2(){return x2=R(function*(n){if("string"==typeof n)return"data:,".concat(n.slice(0,5));if(n instanceof Blob){const t=n.slice(0,5);return yield new Promise(i=>{const r=new FileReader;r.onload=o=>{var s;return i(null==o||null===(s=o.target)||void 0===s?void 0:s.result)},r.readAsDataURL(t)})}if(n instanceof ArrayBuffer){const i=function Kxe(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.byteLength;i++)e+=String.fromCharCode(t[i]);return btoa(e)}(n.slice(0,5));return"data:base64,".concat(i)}return null}),x2.apply(this,arguments)}function jW(n,e){return E2.apply(this,arguments)}function E2(){return E2=R(function*(n,e){if("string"==typeof n){n=function Vxe(n){for(const e in _2)n.startsWith(e)&&(n=n.replace(e,_2[e]));return!n.startsWith("http://")&&!n.startsWith("https://")&&(n="".concat(g2).concat(n)),n}(n);let t=e;return null!=e&&e.fetch&&"function"!=typeof e?.fetch&&(t=e.fetch),yield fetch(n,t)}return yield BW(n)}),E2.apply(this,arguments)}const UW=new E0({id:"loaders.gl"});class Jxe{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const VW=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),zW=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),HW=(zW&&parseFloat(zW[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class Qxe{constructor(){pe(this,"console",void 0),this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:VW,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),Zxe={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function C2(){globalThis.loaders=globalThis.loaders||{};const{loaders:n}=globalThis;return n._state=n._state||{},n._state}const A2=()=>{const n=C2();return n.globalOptions=n.globalOptions||{...HW},n.globalOptions};function eEe(n,e,t,i){return t=t||[],function tEe(n,e){WW(n,null,HW,Zxe,e);for(const t of e)WW(n&&n[t.id]||{},t.id,t.options&&t.options[t.id]||{},t.deprecatedOptions&&t.deprecatedOptions[t.id]||{},e)}(n,t=Array.isArray(t)?t:[t]),function $W(n,e,t){const r={...n.options||{}};return function iEe(n,e){e&&!("baseUri"in n)&&(n.baseUri=e)}(r,t),null===r.log&&(r.log=new Jxe),qW(r,A2()),qW(r,e),r}(e,n,i)}function GW(n,e){const t=A2(),i=n||t;return"function"==typeof i.fetch?i.fetch:Zh(i.fetch)?r=>jW(r,i):null!=e&&e.fetch?e?.fetch:jW}function WW(n,e,t,i,r){const o=e||"Top level",s=e?"".concat(e,"."):"";for(const a in n){const c=!e&&Zh(n[a]);if(!(a in t)&&("baseUri"!==a||e)&&("workerUrl"!==a||!e))if(a in i)UW.warn("".concat(o," loader option '").concat(s).concat(a,"' no longer supported, use '").concat(i[a],"'"))();else if(!c){const h=nEe(a,r);UW.warn("".concat(o," loader option '").concat(s).concat(a,"' not recognized. ").concat(h))()}}}function nEe(n,e){const t=n.toLowerCase();let i="";for(const r of e)for(const o in r.options){if(n===o)return"Did you mean '".concat(r.id,".").concat(o,"'?");const s=o.toLowerCase();(t.startsWith(s)||s.startsWith(t))&&(i=i||"Did you mean '".concat(r.id,".").concat(o,"'?"))}return i}function qW(n,e){for(const t in e)t in e&&(n[t]=PW(e[t])&&PW(n[t])?{...n[t],...e[t]}:e[t])}function Ed(n,e){if(!n)throw new Error(e||"loaders.gl assertion failed.")}const rEe="3.2.13",Cd={self:typeof self<"u"&&self,window:typeof window<"u"&&window,global:typeof global<"u"&&global,document:typeof document<"u"&&document},sEe=Cd.global||Cd.self||Cd.window||{},ef="object"!=typeof process||"[object process]"!==String(process)||process.browser,S2="function"==typeof importScripts,aEe=typeof window<"u"&&typeof window.orientation<"u",XW=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);XW&&parseFloat(XW[1]);class T2{}const M2=new Map;function YW(n){const e=new Blob([n],{type:"application/javascript"});return URL.createObjectURL(e)}function KW(n,e=!0,t){const i=t||new Set;if(n)if(JW(n))i.add(n);else if(JW(n.buffer))i.add(n.buffer);else if(!ArrayBuffer.isView(n)&&e&&"object"==typeof n)for(const r in n)KW(n[r],e,i);return void 0===t?Array.from(i):[]}function JW(n){return!!n&&(n instanceof ArrayBuffer||typeof MessagePort<"u"&&n instanceof MessagePort||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)}const I2=()=>{};class D2{static isSupported(){return typeof Worker<"u"&&ef||typeof T2<"u"&&!ef}constructor(e){pe(this,"name",void 0),pe(this,"source",void 0),pe(this,"url",void 0),pe(this,"terminated",!1),pe(this,"worker",void 0),pe(this,"onMessage",void 0),pe(this,"onError",void 0),pe(this,"_loadableURL","");const{name:t,source:i,url:r}=e;Ed(i||r),this.name=t,this.source=i,this.url=r,this.onMessage=I2,this.onError=o=>console.log(o),this.worker=ef?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=I2,this.onError=I2,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,t){t=t||KW(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=function cEe(n){Ed(n.source&&!n.url||!n.source&&n.url);let e=M2.get(n.source||n.url);return e||(n.url&&(e=function lEe(n){if(!n.startsWith("http"))return n;const e=function dEe(n){return"try {\n  importScripts('".concat(n,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")}(n);return YW(e)}(n.url),M2.set(n.url,e)),n.source&&(e=YW(n.source),M2.set(n.source,e))),Ed(e),e}({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=t=>{t.data?this.onMessage(t.data):this.onError(new Error("No data received"))},e.onerror=t=>{this.onError(this._getErrorFromErrorEvent(t)),this.terminated=!0},e.onmessageerror=t=>console.error(t),e}_createNodeWorker(){let e;if(this.url){const i=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new T2(i,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new T2(this.source,{eval:!0})}return e.on("message",t=>{this.onMessage(t)}),e.on("error",t=>{this.onError(t)}),e.on("exit",t=>{}),e}}class hEe{constructor(e,t){pe(this,"name",void 0),pe(this,"workerThread",void 0),pe(this,"isRunning",!0),pe(this,"result",void 0),pe(this,"_resolve",()=>{}),pe(this,"_reject",()=>{}),this.name=e,this.workerThread=t,this.result=new Promise((i,r)=>{this._resolve=i,this._reject=r})}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Ed(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Ed(this.isRunning),this.isRunning=!1,this._reject(e)}}class fEe{static isSupported(){return D2.isSupported()}constructor(e){pe(this,"name","unnamed"),pe(this,"source",void 0),pe(this,"url",void 0),pe(this,"maxConcurrency",1),pe(this,"maxMobileConcurrency",1),pe(this,"onDebug",()=>{}),pe(this,"reuseWorkers",!0),pe(this,"props",{}),pe(this,"jobQueue",[]),pe(this,"idleQueue",[]),pe(this,"count",0),pe(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}startJob(e,t=((r,o,s)=>r.done(s)),i=((r,o)=>r.error(o))){var r=this;return R(function*(){const o=new Promise(s=>(r.jobQueue.push({name:e,onMessage:t,onError:i,onStart:s}),r));return r._startQueuedJob(),yield o})()}_startQueuedJob(){var e=this;return R(function*(){if(!e.jobQueue.length)return;const t=e._getAvailableWorker();if(!t)return;const i=e.jobQueue.shift();if(i){e.onDebug({message:"Starting job",name:i.name,workerThread:t,backlog:e.jobQueue.length});const r=new hEe(i.name,t);t.onMessage=o=>i.onMessage(r,o.type,o.payload),t.onError=o=>i.onError(r,o),i.onStart(r);try{yield r.result}finally{e.returnWorkerToQueue(t)}}})()}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new D2({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return aEe?this.maxMobileConcurrency:this.maxConcurrency}}const pEe={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class Nu{static isSupported(){return D2.isSupported()}static getWorkerFarm(e={}){return Nu._workerFarm=Nu._workerFarm||new Nu({}),Nu._workerFarm.setProps(e),Nu._workerFarm}constructor(e){pe(this,"props",void 0),pe(this,"workerPools",new Map),this.props={...pEe},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:i,url:r}=e;let o=this.workerPools.get(t);return o||(o=new fEe({name:t,source:i,url:r}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}pe(Nu,"_workerFarm",void 0);const mEe="latest";function O2(){return O2=R(function*(n,e,t,i,r){const o=n.id,s=function gEe(n,e={}){const t=e[n.id]||{},i="".concat(n.id,"-worker.js");let r=t.workerUrl;if(!r&&"compression"===n.id&&(r=e.workerUrl),"test"===e._workerType&&(r="modules/".concat(n.module,"/dist/").concat(i)),!r){let o=n.version;"latest"===o&&(o=mEe);const s=o?"@".concat(o):"";r="https://unpkg.com/@loaders.gl/".concat(n.module).concat(s,"/dist/").concat(i)}return Ed(r),r}(n,t),c=Nu.getWorkerFarm(t).getWorkerPool({name:o,url:s});t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i||{}));const l=yield c.startJob("process-on-worker",yEe.bind(null,r));return l.postMessage("process",{input:e,options:t,context:i}),yield(yield l.result).result}),O2.apply(this,arguments)}function yEe(n,e,t,i){return R2.apply(this,arguments)}function R2(){return R2=R(function*(n,e,t,i){switch(t){case"done":e.done(i);break;case"error":e.error(new Error(i.error));break;case"process":const{id:r,input:o,options:s}=i;try{const a=yield n(o,s);e.postMessage("done",{id:r,result:a})}catch(a){const c=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:r,error:c})}break;default:console.warn("parse-with-worker unknown message ".concat(t))}}),R2.apply(this,arguments)}function k2(n){var e,t,i,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(i&&null!=(e=n[i]))return new JA(e.call(n));t="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function JA(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var i=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:i}})}return(JA=function(i){this.s=i,this.n=i.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(i){var r=this.s.return;return void 0===r?Promise.resolve({value:i,done:!0}):e(r.apply(this.s,arguments))},throw:function(i){var r=this.s.return;return void 0===r?Promise.reject(i):e(r.apply(this.s,arguments))}},new JA(n)}function ZW(n){return n&&"object"==typeof n&&n.isBuffer}function e$(n){if(ZW(n))return function vEe(n){return ZW(n)?new Uint8Array(n.buffer,n.byteOffset,n.length).slice().buffer:n}(n);if(n instanceof ArrayBuffer)return n;if(ArrayBuffer.isView(n))return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength);if("string"==typeof n){const e=n;return(new TextEncoder).encode(e).buffer}if(n&&"object"==typeof n&&n._toArrayBuffer)return n._toArrayBuffer();throw new Error("toArrayBuffer")}function N2(){return N2=R(function*(n){const e=[];var r,t=!1,i=!1;try{for(var s,o=k2(n);t=!(s=yield o.next()).done;t=!1)e.push(s.value)}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield o.return())}finally{if(i)throw r}}return function xEe(...n){const e=n.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),t=e.reduce((o,s)=>o+s.byteLength,0),i=new Uint8Array(t);let r=0;for(const o of e)i.set(o,r),r+=o.byteLength;return i.buffer}(...e)}),N2.apply(this,arguments)}T(1492);const CEe=262144,SEe=262144;function t$(n,e){this.v=n,this.k=e}function QA(n){return new t$(n,0)}function z0(n){var e,t;function i(o,s){try{var a=n[o](s),c=a.value,l=c instanceof t$;Promise.resolve(l?c.v:c).then(function(d){if(l){var h="return"===o?"return":"next";if(!c.k||d.done)return i(h,d);d=n[h](d).value}r(a.done?"return":"normal",d)},function(d){i("throw",d)})}catch(d){r("throw",d)}}function r(o,s){switch(o){case"return":e.resolve({value:s,done:!0});break;case"throw":e.reject(s);break;default:e.resolve({value:s,done:!1})}(e=e.next)?i(e.key,e.arg):t=null}this._invoke=function(o,s){return new Promise(function(a,c){var l={key:o,arg:s,resolve:a,reject:c,next:null};t?t=t.next=l:(e=t=l,i(o,s))})},"function"!=typeof n.return&&(this.return=void 0)}function L2(n){return function(){return new z0(n.apply(this,arguments))}}z0.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},z0.prototype.next=function(n){return this._invoke("next",n)},z0.prototype.throw=function(n){return this._invoke("throw",n)},z0.prototype.return=function(n){return this._invoke("return",n)};const MEe=1048576;function B2(){return B2=L2(function*(n,e){const t=e?.chunkSize||MEe;let i=0;for(;i<n.size;){const r=i+t,o=yield QA(n.slice(i,r).arrayBuffer());i=r,yield o}}),B2.apply(this,arguments)}function n$(n,e){return VW?function DEe(n,e){return j2.apply(this,arguments)}(n,e):function OEe(n,e){return U2.apply(this,arguments)}(n,e)}function j2(){return j2=L2(function*(n,e){const t=n.getReader();let i;try{for(;;){const r=i||t.read();null!=e&&e._streamReadAhead&&(i=t.read());const{done:o,value:s}=yield QA(r);if(o)return;yield e$(s)}}catch{t.releaseLock()}}),j2.apply(this,arguments)}function U2(){return U2=L2(function*(n,e){var r,t=!1,i=!1;try{for(var s,o=k2(n);t=!(s=yield QA(o.next())).done;t=!1){const a=s.value;yield e$(a)}}catch(a){i=!0,r=a}finally{try{t&&null!=o.return&&(yield QA(o.return()))}finally{if(i)throw r}}}),U2.apply(this,arguments)}const V2="Cannot convert supplied data type";function z2(){return z2=R(function*(n,e,t){const i=n instanceof ArrayBuffer||ArrayBuffer.isView(n);if("string"==typeof n||i)return function kEe(n,e,t){if(e.text&&"string"==typeof n)return n;if(Fxe(n)&&(n=n.buffer),n instanceof ArrayBuffer){const i=n;return e.text&&!e.binary?new TextDecoder("utf8").decode(i):i}if(ArrayBuffer.isView(n)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(n);let i=n.buffer;const r=n.byteLength||n.length;return(0!==n.byteOffset||r!==i.byteLength)&&(i=i.slice(n.byteOffset,n.byteOffset+r)),i}throw new Error(V2)}(n,e);if(G_(n)&&(n=yield BW(n)),H_(n)){const r=n;return yield function qxe(n){return v2.apply(this,arguments)}(r),e.binary?yield r.arrayBuffer():yield r.text()}if(NW(n)&&(n=function REe(n,e){if("string"==typeof n)return function*AEe(n,e){const t=e?.chunkSize||CEe;let i=0;const r=new TextEncoder;for(;i<n.length;){const o=Math.min(n.length-i,t),s=n.slice(i,i+o);i+=o,yield r.encode(s)}}(n,e);if(n instanceof ArrayBuffer)return function*TEe(n,e={}){const{chunkSize:t=SEe}=e;let i=0;for(;i<n.byteLength;){const r=Math.min(n.byteLength-i,t),o=new ArrayBuffer(r),s=new Uint8Array(n,i,r);new Uint8Array(o).set(s),i+=r,yield o}}(n,e);if(G_(n))return function IEe(n,e){return B2.apply(this,arguments)}(n,e);if(NW(n))return n$(n,e);if(H_(n))return n$(n.body,e);throw new Error("makeIterator")}(n,t)),Pxe(n)||Nxe(n))return function EEe(n){return N2.apply(this,arguments)}(n);throw new Error(V2)}),z2.apply(this,arguments)}const jEe=new E0({id:"loaders.gl"}),i$=()=>{const n=C2();return n.loaderRegistry=n.loaderRegistry||[],n.loaderRegistry};function r$(n){const e=i$();n=Array.isArray(n)?n:[n];for(const t of n){const i=m2(t);e.find(r=>i===r)||e.unshift(i)}}const VEe=/\.([^.]+)$/;function W2(){return W2=R(function*(n,e=[],t,i){if(!s$(n))return null;let r=o$(n,e,{...t,nothrow:!0},i);if(r)return r;if(G_(n)&&(r=o$(n=yield n.slice(0,10).arrayBuffer(),e,t,i)),!(r||null!=t&&t.nothrow))throw new Error(a$(n));return r}),W2.apply(this,arguments)}function o$(n,e=[],t,i){if(!s$(n))return null;if(e&&!Array.isArray(e))return m2(e);let r=[];e&&(r=r.concat(e)),null!=t&&t.ignoreRegisteredLoaders||r.push(...function UEe(){return i$()}()),function GEe(n){for(const e of n)m2(e)}(r);const o=function HEe(n,e,t,i){const{url:r,type:o}=KA(n),s=r||i?.url;let a=null,c="";var l;return null!=t&&t.mimeType&&(a=$2(e,t?.mimeType),c="match forced by supplied MIME type ".concat(t?.mimeType)),a=a||function WEe(n,e){const t=e&&VEe.exec(e),i=t&&t[1];return i?function $Ee(n,e){e=e.toLowerCase();for(const t of n)for(const i of t.extensions)if(i.toLowerCase()===e)return t;return null}(n,i):null}(e,s),c=c||(a?"matched url ".concat(s):""),a=a||$2(e,o),c=c||(a?"matched MIME type ".concat(o):""),a=a||function qEe(n,e){if(!e)return null;for(const t of n)if("string"==typeof e){if(XEe(e,t))return t}else if(ArrayBuffer.isView(e)){if(c$(e.buffer,e.byteOffset,t))return t}else if(e instanceof ArrayBuffer&&c$(e,0,t))return t;return null}(e,n),c=c||(a?"matched initial data ".concat(l$(n)):""),a=a||$2(e,t?.fallbackMimeType),c=c||(a?"matched fallback MIME type ".concat(o):""),c&&jEe.log(1,"selectLoader selected ".concat(null===(l=a)||void 0===l?void 0:l.name,": ").concat(c,".")),a}(n,r,t,i);if(!(o||null!=t&&t.nothrow))throw new Error(a$(n));return o}function s$(n){return!(n instanceof Response&&204===n.status)}function a$(n){const{url:e,type:t}=KA(n);let i="No valid loader found (";i+=e?"".concat(function BEe(n){const e=n&&n.lastIndexOf("/");return e>=0?n.substr(e+1):""}(e),", "):"no url provided, ",i+="MIME type: ".concat(t?'"'.concat(t,'"'):"not provided",", ");const r=n?l$(n):"";return i+=r?' first bytes: "'.concat(r,'"'):"first bytes: not available",i+=")",i}function $2(n,e){for(const t of n)if(t.mimeTypes&&t.mimeTypes.includes(e)||e==="application/x.".concat(t.id))return t;return null}function XEe(n,e){return e.testText?e.testText(n):(Array.isArray(e.tests)?e.tests:[e.tests]).some(i=>n.startsWith(i))}function c$(n,e,t){return(Array.isArray(t.tests)?t.tests:[t.tests]).some(r=>function YEe(n,e,t,i){if(i instanceof ArrayBuffer)return function wEe(n,e,t){if(n.byteLength<(t=t||n.byteLength)||e.byteLength<t)return!1;const i=new Uint8Array(n),r=new Uint8Array(e);for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(i,n,i.byteLength);switch(typeof i){case"function":return i(n,t);case"string":return i===q2(n,e,i.length);default:return!1}}(n,e,t,r))}function l$(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?q2(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?q2(n,0,e):""}function q2(n,e,t){if(n.byteLength<e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function ZA(n,e,t,i){return X2.apply(this,arguments)}function X2(){return X2=R(function*(n,e,t,i){Ed(!i||"object"==typeof i),e&&!Array.isArray(e)&&!p2(e)&&(i=void 0,t=e,e=void 0),n=yield n,t=t||{};const{url:r}=KA(n),s=function LEe(n,e){if(!e&&n&&!Array.isArray(n))return n;let t;if(n&&(t=Array.isArray(n)?n:[n]),e&&e.loaders){const i=Array.isArray(e.loaders)?e.loaders:[e.loaders];t=t?[...t,...i]:i}return t&&t.length?t:null}(e,i),a=yield function zEe(n){return W2.apply(this,arguments)}(n,s,t);return a?(i=function FEe(n,e,t=null){if(t)return t;const i={fetch:GW(e,n),...n};return Array.isArray(i.loaders)||(i.loaders=null),i}({url:r,parse:ZA,loaders:s},t=eEe(t,a,s,r),i),yield function KEe(n,e,t,i){return Y2.apply(this,arguments)}(a,n,t,i)):null}),X2.apply(this,arguments)}function Y2(){return Y2=R(function*(n,e,t,i){if(function oEe(n,e=rEe){Ed(n,"no worker provided")}(n),H_(e)){const r=e,{ok:o,redirected:s,status:a,statusText:c,type:l,url:d}=r,h=Object.fromEntries(r.headers.entries());i.response={headers:h,ok:o,redirected:s,status:a,statusText:c,type:l,url:d}}if(e=yield function PEe(n,e,t){return z2.apply(this,arguments)}(e,n,t),n.parseTextSync&&"string"==typeof e)return t.dataType="text",n.parseTextSync(e,t,i,n);if(function _Ee(n,e){return!(!Nu.isSupported()||!(ef||null!=e&&e._nodeWorkers))&&n.worker&&e?.worker}(n,t))return yield function bEe(n,e,t,i,r){return O2.apply(this,arguments)}(n,e,t,i,ZA);if(n.parseText&&"string"==typeof e)return yield n.parseText(e,t,i,n);if(n.parse)return yield n.parse(e,t,i,n);throw Ed(!n.parseSync),new Error("".concat(n.id," loader - no parser found and worker is disabled"))}),Y2.apply(this,arguments)}function H0(n,e,t,i){return K2.apply(this,arguments)}function K2(){return K2=R(function*(n,e,t,i){!Array.isArray(e)&&!p2(e)&&(t=e,e=void 0);const r=GW(t);let o=n;return"string"==typeof n&&(o=yield r(n)),G_(n)&&(o=yield r(n)),yield ZA(o,e,t)}),K2.apply(this,arguments)}class JEe{constructor(e,t,i){pe(this,"id",void 0),pe(this,"context",void 0),pe(this,"isLoaded",void 0),pe(this,"persistent",void 0),pe(this,"_loadCount",0),pe(this,"_subscribers",new Set),pe(this,"_data",void 0),pe(this,"_loader",void 0),pe(this,"_error",void 0),pe(this,"_content",void 0),this.id=e,this.context=i,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,t){if(e===this._data&&!t)return;this._data=e;const i=++this._loadCount;let r=e;"string"==typeof e&&(r=H0(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===i&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class QEe{constructor({gl:e,protocol:t}){pe(this,"protocol",void 0),pe(this,"_context",void 0),pe(this,"_resources",void 0),pe(this,"_consumers",void 0),pe(this,"_pruneRequest",void 0),this.protocol=t||"resource://",this._context={gl:e,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add({resourceId:e,data:t,forceUpdate:i=!1,persistent:r=!0}){let o=this._resources[e];o?o.setData(t,i):(o=new JEe(e,t,this._context),this._resources[e]=o),o.persistent=r}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const t=this._consumers[e];if(t){for(const i in t){const r=t[i],o=this._resources[r.resourceId];o&&o.unsubscribe(r)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:t,consumerId:i,requestId:r="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(o[e=e.replace(s,"")]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(i,r,a,t),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,i,r){const o=this._consumers,s=o[e]=o[e]||{},a=s[t]||{},c=a.resourceId&&this._resources[a.resourceId];c&&(c.unsubscribe(a),this.prune()),i&&(s[t]=a,a.onChange=r,a.resourceId=i.id,i.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];!t.persistent&&!t.inUse()&&(t.delete(),delete this._resources[e])}}}const ZEe=[l2],eCe=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function tCe(n){const e=V0.getDefaultProgramManager(n);for(const t of ZEe)e.addDefaultModule(t);for(const t of eCe)e.addShaderHook(t);return e}class rCe{constructor(e,{deck:t,stats:i,viewport:r,timeline:o}={}){pe(this,"layers",void 0),pe(this,"context",void 0),pe(this,"resourceManager",void 0),pe(this,"_lastRenderedLayers",[]),pe(this,"_needsRedraw",!1),pe(this,"_needsUpdate",!1),pe(this,"_nextLayers",null),pe(this,"_debug",!1),pe(this,"activateViewport",s=>{wa("layerManager.activateViewport",this,s),s&&(this.context.viewport=s)}),this.layers=[],this.resourceManager=new QEe({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&tCe(e),stats:i||new qP({id:"deck.gl"}),viewport:r||new Wh({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:o||new OW,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const i of this.layers){const r=i.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(t=>e.find(i=>0===t.id.indexOf(i))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){wa("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const i=f2(e,Boolean);for(const r of i)r.context=this.context;this._updateLayers(this.layers,i)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,i){i.raiseError(t,"".concat(e," of ").concat(i))}_updateLayers(e,t){const i={};for(const s of e)i[s.id]?ji.warn("Multiple old layers with same id ".concat(s.id))():i[s.id]=s;const r=[];this._updateSublayersRecursively(t,i,r),this._finalizeOldLayers(i);let o=!1;for(const s of r)if(s.hasUniformTransition()){o="Uniform transition in ".concat(s);break}this._needsUpdate=o,this.layers=r}_updateSublayersRecursively(e,t,i){for(const r of e){r.context=this.context;const o=t[r.id];null===o&&ji.warn("Multiple new layers with same id ".concat(r.id))(),t[r.id]=null;let s=null;try{this._debug&&o!==r&&r.validateProps(),o?(this._transferLayerState(o,r),this._updateLayer(r)):this._initializeLayer(r),i.push(r),s=r.isComposite?r.getSubLayers():null}catch(a){this._handleError("matching",a,r)}s&&this._updateSublayersRecursively(s,t,i)}}_finalizeOldLayers(e){for(const t in e){const i=e[t];i&&this._finalizeLayer(i)}}_initializeLayer(e){try{e._initialize(),e.lifecycle="Initialized"}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle="Matched. State transferred from previous layer",t!==e&&(e.lifecycle="Discarded. Awaiting garbage collection")}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle="No longer matched. Awaiting garbage collection";try{e._finalize(),e.lifecycle="Finalized! Awaiting garbage collection"}catch(t){this._handleError("finalization",t,e)}}}class oCe{constructor(e){pe(this,"width",void 0),pe(this,"height",void 0),pe(this,"views",void 0),pe(this,"viewState",void 0),pe(this,"controllers",void 0),pe(this,"timeline",void 0),pe(this,"_viewports",void 0),pe(this,"_viewportMap",void 0),pe(this,"_isUpdating",void 0),pe(this,"_needsRedraw",void 0),pe(this,"_needsUpdate",void 0),pe(this,"_eventManager",void 0),pe(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter(t=>t.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(t=>{e[t.id]=t}),e}getView(e){return this.views.find(t=>t.id===e)}getViewState(e){const t="string"==typeof e?this.getView(e):e,i=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(i):i}getViewport(e){return this._viewportMap[e]}unproject(e,t){const i=this.getViewports(),r={x:e[0],y:e[1]};for(let o=i.length-1;o>=0;--o){const s=i[o];if(s.containsPixel(r)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){(e!==this.width||t!==this.height)&&(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=f2(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!R_(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):ji.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return null===(s=this.getView(e.id))||void 0===s?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,t,i,r){const o=e.controller;if(o){const s={...t,...o,id:e.id,x:i.x,y:i.y,width:i.width,height:i.height};return r||(r=this._createController(e,s)),r&&r.setProps(s),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let i=!1;for(let r=e.length;r--;){const o=e[r],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let c=t[o.id];const l=!!o.controller;l&&!c&&(i=!0),(i||!l)&&c&&(c.finalize(),c=null),this.controllers[o.id]=this._updateController(o,s,a,c),this._viewports.unshift(a)}for(const r in t){const o=t[r];o&&!this.controllers[r]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,t){return e.length!==t.length||e.some((i,r)=>!e[r].equals(t[r]))}}const cCe=Math.PI/180;function d$(n){return 512/4003e4/Math.cos(n*cCe)}class tf extends Wh{constructor(e={}){const{latitude:t=0,longitude:i=0,zoom:r=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:c=1.01,orthographic:l=!1,projectionMatrix:d,repeat:h=!1,worldOffset:f=0,legacyMeterSizes:m=!1}=e;let{width:g,height:b,altitude:v=1.5}=e;const D=Math.pow(2,r);g=g||1,b=b||1;let N,Z=null;d?(v=d[5]/2,N=PA(v)):(e.fovy?(N=e.fovy,v=AP(N)):N=PA(v),Z=function t9(n){const{width:e,height:t,altitude:i,pitch:r=0,offset:o,center:s,scale:a,nearZMultiplier:c=1,farZMultiplier:l=1}=n;let{fovy:d=PA(pye)}=n;void 0!==i&&(d=PA(i));const h=d*rl,f=r*rl,m=AP(d);let g=m;s&&(g+=s[2]*a/Math.cos(f)/t);const b=h*(.5+(o?o[1]:0)/t),v=Math.sin(b)*g/Math.sin(wP(Math.PI/2-f-b,.01,Math.PI-.01)),D=Math.sin(f)*v+g;return{fov:h,aspect:e/t,focalDistance:m,near:c,far:Math.min(D*l,10*g)}}({width:g,height:b,pitch:o,fovy:N,nearZMultiplier:a,farZMultiplier:c}));let G=function _ye(n){const{height:e,pitch:t,bearing:i,altitude:r,scale:o,center:s}=n,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];TA(a,a,[0,0,-r]),W6(a,a,-t*rl),$6(a,a,i*rl);const c=o/e;return bP(a,a,[c,c,c]),s&&TA(a,a,function hbe(n,e){return n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n}([],s)),a}({height:b,pitch:o,bearing:s,scale:D,altitude:v});f&&(G=(new Bt).translate([512*f,0,0]).multiplyLeft(G)),super({...e,width:g,height:b,viewMatrix:G,longitude:i,latitude:t,zoom:r,...Z,fovy:N,focalDistance:v}),pe(this,"longitude",void 0),pe(this,"latitude",void 0),pe(this,"pitch",void 0),pe(this,"bearing",void 0),pe(this,"altitude",void 0),pe(this,"fovy",void 0),pe(this,"orthographic",void 0),pe(this,"_subViewports",void 0),pe(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=i,this.zoom=r,this.pitch=o,this.bearing=s,this.altitude=v,this.fovy=N,this.orthographic=l,this._subViewports=h?[]:null,this._pseudoMeters=m,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),i=Math.ceil((e[2]-180)/360);for(let r=t;r<=i;r++){const o=r?new tf({...this,worldOffset:r}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,i]=this.projectFlat(e);return[t,i,(e[2]||0)*d$(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,i]=this.unprojectFlat(e);return[t,i,(e[2]||0)/d$(i)]}addMetersToLngLat(e,t){return e9(e,t)}panByPosition(e,t){const i=M0(t,this.pixelUnprojectionMatrix),o=MA([],this.projectFlat(e),q6([],i)),s=MA([],this.center,o),[a,c]=this.unprojectFlat(s);return{longitude:a,latitude:c}}getBounds(e={}){const t=function yye(n,e=0){const{width:t,height:i,unproject:r}=n,o={targetZ:e},s=r([0,i],o),a=r([t,i],o);let c,l;return(n.fovy?.5*n.fovy*r9:Math.atan(.5/n.altitude))>(90-n.pitch)*r9-.01?(c=o9(n,0,e),l=o9(n,t,e)):(c=r([0,0],o),l=r([t,0],o)),[s,a,l,c]}(this,e.z||0);return[Math.min(t[0][0],t[1][0],t[2][0],t[3][0]),Math.min(t[0][1],t[1][1],t[2][1],t[3][1]),Math.max(t[0][0],t[1][0],t[2][0],t[3][0]),Math.max(t[0][1],t[1][1],t[2][1],t[3][1])]}fitBounds(e,t={}){const{width:i,height:r}=this,{longitude:o,latitude:s,zoom:a}=i9({width:i,height:r,bounds:e,...t});return new tf({width:i,height:r,longitude:o,latitude:s,zoom:a})}}pe(tf,"displayName","WebMercatorViewport");class dCe extends f9{constructor(e){const{width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a=0,pitch:c=0,altitude:l=1.5,position:d=[0,0,0],maxZoom:h=20,minZoom:f=0,maxPitch:m=60,minPitch:g=0,startPanLngLat:b,startZoomLngLat:v,startRotatePos:D,startBearing:N,startPitch:Z,startZoom:G,normalize:Oe=!0}=e;Us(Number.isFinite(o)),Us(Number.isFinite(r)),Us(Number.isFinite(s)),super({width:t,height:i,latitude:r,longitude:o,zoom:s,bearing:a,pitch:c,altitude:l,maxZoom:h,minZoom:f,maxPitch:m,minPitch:g,normalize:Oe,position:d},{startPanLngLat:b,startZoomLngLat:v,startRotatePos:D,startBearing:N,startPitch:Z,startZoom:G}),pe(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:t}){const i=this.getState().startPanLngLat||this._unproject(t);if(!i)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(i,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:t=0,deltaAngleY:i=0}){const{startRotatePos:r,startBearing:o,startPitch:s}=this.getState();if(!r||void 0===o||void 0===s)return this;let a;return a=e?this._getNewRotation(e,r,s,o):{bearing:o+t,pitch:s+i},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:t,scale:i}){let{startZoom:r,startZoomLngLat:o}=this.getState();if(o||(r=this.getViewportProps().zoom,o=this._unproject(t)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let c=r+Math.log2(i);c=js(c,a,s);const l=this.makeViewport({...this.getViewportProps(),zoom:c});return this._getUpdatedState({zoom:c,...l.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),i={...this.getViewportProps()},{bearing:r,longitude:o}=i;return Math.abs(r-t.bearing)>180&&(i.bearing=r<0?r+360:r-360),Math.abs(o-t.longitude)>180&&(i.longitude=o<0?o+360:o-360),i}applyConstraints(e){const{maxZoom:t,minZoom:i,zoom:r}=e;e.zoom=js(r,i,t);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=js(a,s,o);const{normalize:c=!0}=e;return c&&Object.assign(e,function vye(n){const{width:e,height:t,pitch:i=0}=n;let{longitude:r,latitude:o,zoom:s,bearing:a=0}=n;(r<-180||r>180)&&(r=Q6(r+180,360)-180),(a<-180||a>180)&&(a=Q6(a+180,360)-180);const c=xP(t/512);if(s<=c)s=c,o=0;else{const l=t/2/Math.pow(2,s),d=O_([0,l])[1];if(o<d)o=d;else{const h=O_([0,512-l])[1];o>h&&(o=h)}}return{width:e,height:t,longitude:r,latitude:o,zoom:s,pitch:i,bearing:a}}(e)),e}_zoomFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.zoom({pos:[t/2,i/2],scale:e})}_panFromCenter(e){const{width:t,height:i}=this.getViewportProps();return this.pan({startPos:[t/2,i/2],pos:[t/2+e[0],i/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,i,r){const o=e[0]-t[0],s=e[1]-t[1],a=e[1],c=t[1],{width:l,height:d}=this.getViewportProps(),h=o/l;let f=0;s>0?Math.abs(d-c)>5&&(f=s/(c-d)*1.2):s<0&&c>5&&(f=1-a/c),f=js(f,-1,1);const{minPitch:m,maxPitch:g}=this.getViewportProps();let v=i;return f>0?v=i+f*(g-i):f<0&&(v=i-f*(m-i)),{pitch:v,bearing:r+180*h}}}class uCe extends IP{constructor(...e){super(...e),pe(this,"ControllerState",dCe),pe(this,"transition",{transitionDuration:300,transitionInterpolator:new FA({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),pe(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e),(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class h$ extends TP{get ViewportType(){return tf}get ControllerType(){return uCe}}pe(h$,"displayName","MapView");class hCe extends qA{constructor(e,t){super(e,t),pe(this,"maskMap",void 0),pe(this,"fbo",void 0);const{mapSize:i=2048}=t;this.maskMap=new Vs(e,{width:i,height:i,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new os(e,{id:"maskmap",width:i,height:i,attachments:{36064:this.maskMap}})}render(e){const t=this.gl,i=[!1,!1,!1,!1];return i[e.channel]=!0,ol(t,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:i,depthTest:!1},()=>super.render({...e,target:this.fbo,pass:"mask"}))}shouldDrawLayer(e){return"mask"===e.props.operation}delete(){this.fbo.delete(),this.maskMap.delete()}}class gCe{constructor(){pe(this,"id","mask-effect"),pe(this,"props",null),pe(this,"useInPicking",!0),pe(this,"dummyMaskMap",void 0),pe(this,"channels",[]),pe(this,"masks",null),pe(this,"maskPass",void 0),pe(this,"maskMap",void 0),pe(this,"lastViewport",void 0)}preRender(e,{layers:t,layerFilter:i,viewports:r,onViewportActive:o,views:s}){this.dummyMaskMap||(this.dummyMaskMap=new Vs(e,{width:1,height:1}));const a=t.filter(h=>h.props.visible&&"mask"===h.props.operation);if(0===a.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new hCe(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const c=this._sortMaskChannels(a),l=r[0],d=!this.lastViewport||!this.lastViewport.equals(l);for(const h in c)this._renderChannel(c[h],{layerFilter:i,onViewportActive:o,views:s,viewport:l,viewportChanged:d})}_renderChannel(e,{layerFilter:t,onViewportActive:i,views:r,viewport:o,viewportChanged:s}){const a=this.channels[e.index];if(!a)return;const c=e===a||a.layers.length!==e.layers.length||e.layerBounds.some((l,d)=>l!==a.layerBounds[d]);if(e.bounds=a.bounds,e.maskBounds=a.maskBounds,this.channels[e.index]=e,(c||s)&&(this.lastViewport=o,e.bounds=function fCe({layers:n,viewport:e}){let t=null;for(const o of n){const s=o.getBounds();s&&(t?(t[0]=Math.min(t[0],s[0][0]),t[1]=Math.min(t[1],s[0][1]),t[2]=Math.max(t[2],s[1][0]),t[3]=Math.max(t[3],s[1][1])):t=[s[0][0],s[0][1],s[1][0],s[1][1]])}const i=e.getBounds();if(!t)return i;const r=function mCe(n){const e_x=n[2]-n[0],e_y=n[3]-n[1],t_x=n[0]+.5*e_x,t_y=n[1]+.5*e_y;return[t_x-e_x,t_y-e_y,t_x+e_x,t_y+e_y]}(i);return t[2]-t[0]<r[2]-r[0]||t[3]-t[1]<r[3]-r[1]||(t[0]=Math.max(t[0],r[0]),t[1]=Math.max(t[1],r[1]),t[2]=Math.min(t[2],r[2]),t[3]=Math.min(t[3],r[3])),t}({layers:e.layers,viewport:o}),c||!T_(e.bounds,a.bounds))){const{maskPass:l,maskMap:d}=this,h=function pCe({bounds:n,viewport:e,width:t,height:i}){if(n[2]<=n[0]||n[3]<=n[1])return null;if(t-=2,i-=2,e instanceof tf){const{longitude:a,latitude:c,zoom:l}=i9({width:t,height:i,bounds:[[n[0],n[1]],[n[2],n[3]]],maxZoom:20});return new tf({longitude:a,latitude:c,zoom:l,x:1,y:1,width:t,height:i})}const o=[(n[0]+n[2])/2,(n[1]+n[3])/2,0],s=Math.min(20,t/(n[2]-n[0]),i/(n[3]-n[1]));return new DP({x:1,y:1}).makeViewport({width:t,height:i,viewState:{target:o,zoom:Math.log2(s)}})}({bounds:e.bounds,viewport:o,width:d.width,height:d.height});e.maskBounds=h?h.getBounds():[0,0,1,1],l.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:t,viewports:h?[h]:[],onViewportActive:i,views:r,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}_sortMaskChannels(e){const t={};let i=0;for(const r of e){const{id:o}=r.root;let s=t[o];if(!s){if(++i>4){ji.warn("Too many mask layers. The max supported is 4")();continue}s={id:o,index:this.channels.findIndex(a=>a?.id===o),layers:[],layerBounds:[],coordinateOrigin:r.root.props.coordinateOrigin,coordinateSystem:r.root.props.coordinateSystem},t[o]=s}s.layers.push(r),s.layerBounds.push(r.getBounds())}for(let r=0;r<4;r++){const o=this.channels[r];(!o||!(o.id in t))&&(this.channels[r]=null)}for(const r in t){const o=t[r];o.index<0&&(o.index=this.channels.findIndex(s=>!s),this.channels[o.index]=o)}return t}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const _Ce=new u2;class bCe{constructor(){pe(this,"effects",void 0),pe(this,"_internalEffects",void 0),pe(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length!==this.effects.length||!R_(e.effects,this.effects))&&(this.setEffects(e.effects),this._needsRedraw="effects changed")}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(e=[]){this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new gCe),e.some(t=>t instanceof u2)||this._internalEffects.push(_Ce)}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class yCe extends qA{shouldDrawLayer(e){return"draw"===e.props.operation}}const f$={blendFunc:[1,0,32771,0],blendEquation:32774};class p$ extends qA{constructor(...e){super(...e),pe(this,"pickZ",void 0),pe(this,"_colors",null)}render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:c,width:l,height:d},cullRect:h,effects:f,pass:m="picking",pickZ:g}){const b=this.gl;this.pickZ=g;const v=g?null:{byLayer:new Map,byAlpha:[]};this._colors=v;const D=ol(b,{scissorTest:!0,scissor:[a,c,l,d],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...f$,blend:!g},()=>super.render({target:s,layers:e,layerFilter:t,views:i,viewports:r,onViewportActive:o,cullRect:h,effects:f?.filter(Z=>Z.useInPicking),pass:m}));return this._colors=null,{decodePickingColor:v&&wCe.bind(null,v),stats:D}}shouldDrawLayer(e){return e.props.pickable&&"draw"===e.props.operation}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,i){const r={...e.props.parameters};return this._colors?(Object.assign(r,f$),r.blend=!0,r.blendColor=function vCe(n,e,t){const{byLayer:i,byAlpha:r}=n;let o,s=i.get(e);return s?(s.viewports.push(t),o=s.a):(o=i.size+1,o<=255?(s={a:o,layer:e,viewports:[t]},i.set(e,s),r[o]=s):(ji.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}(this._colors,e,i)):r.blend=!1,r}}function wCe(n,e){const t=n.byAlpha[e[3]];return t&&{pickedLayer:t.layer,pickedViewports:t.viewports,pickedObjectIndex:t.layer.decodePickingColor(e)}}class ECe{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new yCe(e),this.pickLayersPass=new p$(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||os.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const i=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render({...e,target:i});this._postRender(e.effects,e),this.renderCount++,wa("deckRenderer.renderLayers",this,r,e)}needsRedraw(e={clearRedrawFlags:!1}){const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let i=null;for(const r of e)r.preRender(this.gl,t),r.postRender&&(i=r);i&&this._resizeRenderBuffers(),this.lastPostProcessEffect=i}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new os(this.gl),new os(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:i}=this,r={inputBuffer:i[0],swapBuffer:i[1],target:null};for(const o of e)if(o.postRender){if(o===this.lastPostProcessEffect){r.target=t.target,o.postRender(this.gl,r);break}const s=o.postRender(this.gl,r);r.inputBuffer=s,r.swapBuffer=s===i[0]?i[1]:i[0]}}}const CCe={pickedColor:null,pickedObjectIndex:-1};function ACe({pickedColors:n,decodePickingColor:e,deviceX:t,deviceY:i,deviceRadius:r,deviceRect:o}){const{x:s,y:a,width:c,height:l}=o;let d=r*r,h=-1,f=0;for(let m=0;m<l;m++){const g=m+a-i,b=g*g;if(b>d)f+=4*c;else for(let v=0;v<c;v++){if(n[f+3]-1>=0){const N=v+s-t,Z=N*N+b;Z<=d&&(d=Z,h=f)}f+=4}}if(h>=0){const m=n.slice(h,h+4),g=e(m);if(g){const b=Math.floor(h/4/c),v=h/4-b*c;return{...g,pickedColor:m,pickedX:s+v,pickedY:a+b}}ji.error("Picked non-existent layer. Is picking buffer corrupt?")()}return CCe}function m$({pickInfo:n,viewports:e,pixelRatio:t,x:i,y:r,z:o}){let a,s=e[0];if(e.length>1&&(s=function MCe(n,e){for(let t=n.length-1;t>=0;t--){const i=n[t];if(i.containsPixel(e))return i}return n[0]}(n?.pickedViewports||e,{x:i,y:r})),s){const c=[i-s.x,r-s.y];void 0!==o&&(c[2]=o),a=s.unproject(c)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:i,y:r,pixel:[i,r],coordinate:a,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:t}}function TCe(n){const{pickInfo:e,lastPickedInfo:t,mode:i,layers:r}=n,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,c=s?[s]:[];if("hover"===i){const f=t.layerId,m=s?s.props.id:null;if(m!==f||a!==t.index){if(m!==f){const g=r.find(b=>b.props.id===f);g&&c.unshift(g)}t.layerId=m,t.index=a,t.info=null}}const l=m$(n),d=new Map;return d.set(null,l),c.forEach(h=>{let f={...l};h===s&&(f.color=o,f.index=a,f.picked=!0),f=g$({layer:h,info:f,mode:i});const m=f.layer;h===s&&"hover"===i&&(t.info=f),d.set(m.id,f),"hover"===i&&m.updateAutoHighlight(f)}),d}function g$({layer:n,info:e,mode:t}){for(;n&&e;){const i=e.layer||null;e.sourceLayer=i,e.layer=n,e=n.getPickingInfo({info:e,mode:t,sourceLayer:i}),n=n.parent}return e}class ICe{constructor(e){pe(this,"gl",void 0),pe(this,"pickingFBO",void 0),pe(this,"depthFBO",void 0),pe(this,"pickLayersPass",void 0),pe(this,"layerFilter",void 0),pe(this,"lastPickedInfo",void 0),pe(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new p$(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:t,layers:i,viewports:r},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,c=s?i.find(f=>f.id===s):null,l=a&&r.find(f=>f.id===a)||r[0],d=l&&l.unproject([e-l.x,t-l.y]);return{...o,x:e,y:t,viewport:l,coordinate:d,layer:c}}_resizeBuffer(){var e,t;const{gl:i}=this;if(!this.pickingFBO&&(this.pickingFBO=new os(i),os.isSupported(i,{colorBufferFloat:!0}))){const r=new os(i);r.attach({36064:new Vs(i,{format:Oi(i)?34836:6408,type:5126})}),this.depthFBO=r}null===(e=this.pickingFBO)||void 0===e||e.resize({width:i.canvas.width,height:i.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:i.canvas.width,height:i.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter(i=>i.isPickable()&&!i.isComposite);return t.length?t:null}_pickClosestObject({layers:e,views:t,viewports:i,x:r,y:o,radius:s=0,depth:a=1,mode:c="query",unproject3D:l,onViewportActive:d,effects:h}){const f=this._getPickable(e),m=N_(this.gl);if(!f)return{result:[],emptyInfo:m$({viewports:i,x:r,y:o,pixelRatio:m})};this._resizeBuffer();const g=GP(this.gl,[r,o],!0),b=[g.x+Math.floor(g.width/2),g.y+Math.floor(g.height/2)],v=Math.round(s*m),{width:D,height:N}=this.pickingFBO,Z=this._getPickingRect({deviceX:b[0],deviceY:b[1],deviceRadius:v,deviceWidth:D,deviceHeight:N}),G={x:r-s,y:o-s,width:2*s+1,height:2*s+1};let Oe;const ze=[],st=new Set;for(let pt=0;pt<a;pt++){let Je,yt;Je=Z?ACe({...this._drawAndSample({layers:f,views:t,viewports:i,onViewportActive:d,deviceRect:Z,cullRect:G,effects:h,pass:"picking:".concat(c)}),deviceX:b[0],deviceY:b[1],deviceRadius:v,deviceRect:Z}):{pickedColor:null,pickedObjectIndex:-1},Je.pickedLayer&&l&&this.depthFBO&&(yt=this._drawAndSample({layers:[Je.pickedLayer],views:t,viewports:i,onViewportActive:d,deviceRect:{x:Je.pickedX,y:Je.pickedY,width:1,height:1},cullRect:G,effects:h,pass:"picking:".concat(c,":z")},!0).pickedColors[0]),Je.pickedLayer&&pt+1<a&&(st.add(Je.pickedLayer),Je.pickedLayer.disablePickingIndex(Je.pickedObjectIndex)),Oe=TCe({pickInfo:Je,lastPickedInfo:this.lastPickedInfo,mode:c,layers:f,viewports:i,x:r,y:o,z:yt,pixelRatio:m});for(const Pt of Oe.values())Pt.layer&&ze.push(Pt);if(!Je.pickedColor)break}for(const pt of st)pt.restorePickingColors();return{result:ze,emptyInfo:Oe.get(null)}}_pickVisibleObjects({layers:e,views:t,viewports:i,x:r,y:o,width:s=1,height:a=1,mode:c="query",maxObjects:l=null,onViewportActive:d,effects:h}){const f=this._getPickable(e);if(!f)return[];this._resizeBuffer();const m=N_(this.gl),g=GP(this.gl,[r,o],!0),b=g.x,v=g.y+g.height,D=GP(this.gl,[r+s,o+a],!0),Z=D.y,ze=function SCe({pickedColors:n,decodePickingColor:e}){const t=new Map;if(n)for(let i=0;i<n.length;i+=4)if(n[i+3]-1>=0){const o=n.slice(i,i+4),s=o.join(",");if(!t.has(s)){const a=e(o);a?t.set(s,{...a,color:o}):ji.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(t.values())}(this._drawAndSample({layers:f,views:t,viewports:i,onViewportActive:d,deviceRect:{x:b,y:Z,width:D.x+D.width-b,height:v-Z},cullRect:{x:r,y:o,width:s,height:a},effects:h,pass:"picking:".concat(c)})),st=new Map,pt=Number.isFinite(l);for(let Je=0;Je<ze.length&&!(pt&&l&&st.size>=l);Je++){const yt=ze[Je];let Pt={color:yt.pickedColor,layer:null,index:yt.pickedObjectIndex,picked:!0,x:r,y:o,pixelRatio:m};Pt=g$({layer:yt.pickedLayer,info:Pt,mode:c}),st.has(Pt.object)||st.set(Pt.object,Pt)}return Array.from(st.values())}_drawAndSample({layers:e,views:t,viewports:i,onViewportActive:r,deviceRect:o,cullRect:s,effects:a,pass:c},l=!1){const d=l?this.depthFBO:this.pickingFBO,{decodePickingColor:h}=this.pickLayersPass.render({layers:e,layerFilter:this.layerFilter,views:t,viewports:i,onViewportActive:r,pickingFBO:d,deviceRect:o,cullRect:s,effects:a,pass:c,pickZ:l}),{x:f,y:m,width:g,height:b}=o,v=new(l?Float32Array:Uint8Array)(g*b*4);return HA(d,{sourceX:f,sourceY:m,sourceWidth:g,sourceHeight:b,target:v}),{pickedColors:v,decodePickingColor:h}}_getPickingRect({deviceX:e,deviceY:t,deviceRadius:i,deviceWidth:r,deviceHeight:o}){const s=Math.max(0,e-i),a=Math.max(0,t-i),c=Math.min(r,e+i+1)-s,l=Math.min(o,t+i+1)-a;return c<=0||l<=0?null:{x:s,y:a,width:c,height:l}}}const DCe={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class OCe{constructor(e){pe(this,"el",null),pe(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,DCe),t.appendChild(this.el))}setTooltip(e,t,i){const r=this.el;if(r){if("string"==typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(i,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}function _$(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const kCe=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),b$=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:PCe}=(b$&&parseFloat(b$[1]),globalThis),J2=typeof Image<"u",Q2=typeof ImageBitmap<"u",Z2=!!kCe||!!PCe;function y$(n){const e=function w$(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const LCe=/^data:image\/svg\+xml/,BCe=/\.svg((\?|#).*)?$/;function eN(n){return n&&(LCe.test(n)||BCe.test(n))}function x$(n,e){if(eN(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function E$(n,e,t){return tN.apply(this,arguments)}function tN(){return tN=R(function*(n,e,t){const i=function jCe(n,e){if(eN(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return x$(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function UCe(n,e){return nN.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),tN.apply(this,arguments)}function nN(){return nN=R(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),nN.apply(this,arguments)}const VCe={};let C$=!0;function iN(){return iN=R(function*(n,e,t){let i;i=eN(t)?yield E$(n,e,t):x$(n,t);const r=e&&e.imagebitmap;return yield function HCe(n){return rN.apply(this,arguments)}(i,r)}),iN.apply(this,arguments)}function rN(){return rN=R(function*(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((function GCe(n){for(const e in n||VCe)return!1;return!0}(e)||!C$)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),C$=!1}return yield createImageBitmap(n)}),rN.apply(this,arguments)}const Sd=!1,G0=!0;function A$(n){const e=W0(n);return function JCe(n){const e=W0(n);return e.byteLength>=24&&2303741511===e.getUint32(0,Sd)?{mimeType:"image/png",width:e.getUint32(16,Sd),height:e.getUint32(20,Sd)}:null}(e)||function e1e(n){const e=W0(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,Sd)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function t1e(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Sd);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Sd),width:e.getUint16(o+7,Sd)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,Sd)}return null}(e)||function QCe(n){const e=W0(n);return e.byteLength>=10&&1195984440===e.getUint32(0,Sd)?{mimeType:"image/gif",width:e.getUint16(6,G0),height:e.getUint16(8,G0)}:null}(e)||function ZCe(n){const e=W0(n);return e.byteLength>=14&&16973===e.getUint16(0,Sd)&&e.getUint32(2,G0)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,G0),height:e.getUint32(22,G0)}:null}(e)||function KCe(n){const t=function WCe(n){return function YCe(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=function XCe(n){return[...n].map(e=>e.charCodeAt(0))}(e);for(let r=0;r<i.length;++r)if(i[r]!==n[r+t])return!1;return!0}(n,"ftyp",4)&&96&n[8]?function $Ce(n){switch(function qCe(n,e,t){return String.fromCharCode(...n.slice(e,t))}(n,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}(n):null}(new Uint8Array(n instanceof DataView?n.buffer:n));return t?{mimeType:t.mimeType,width:0,height:0}:null}(e)}function W0(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function oN(){return oN=R(function*(n,e){const{mimeType:t}=A$(n)||{},i=globalThis._parseImageNode;return _$(i),yield i(n,t)}),oN.apply(this,arguments)}function sN(){return sN=R(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function r1e(n){switch(n){case"auto":case"data":return function FCe(){if(Q2)return"imagebitmap";if(J2)return"image";if(Z2)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function NCe(n){switch(n){case"auto":return Q2||J2||Z2;case"imagebitmap":return Q2;case"image":return J2;case"data":return Z2;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function zCe(n,e,t){return iN.apply(this,arguments)}(n,e,o);break;case"image":a=yield E$(n,e,o);break;case"data":a=yield function n1e(n,e){return oN.apply(this,arguments)}(n,e);break;default:_$(!1)}return"data"===r&&(a=function v$(n){switch(y$(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),sN.apply(this,arguments)}const S$={id:"image",module:"images",name:"Images",version:"3.4.15",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],parse:function i1e(n,e,t){return sN.apply(this,arguments)},tests:[n=>!!A$(new DataView(n))],options:{image:{type:"auto",decode:!0}}},s1e={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function o1e(n){const e=n[0],t=n[n.length-1];return"{"===e&&"}"===t||"["===e&&"]"===t},parseTextSync:JSON.parse},$0="8.8.27",eS=globalThis.deck&&globalThis.deck.VERSION;if(eS&&eS!==$0)throw new Error("deck.gl - multiple versions detected: ".concat(eS," vs ").concat($0));eS||(ji.log(1,"deck.gl ".concat($0))(),globalThis.deck={...globalThis.deck,VERSION:$0,version:$0,log:ji,_registerLoggers:function Rxe(n){h2=n}},r$([s1e,[S$,{imagebitmap:{premultiplyAlpha:"none"}}]]));const a1e=globalThis.deck,tS=globalThis;function T$(n){if(!n&&!bd())return"Node";if(I6(n))return"Electron";const t=n||(typeof navigator<"u"?navigator:{}).userAgent||"";if(t.indexOf("Edge")>-1)return"Edge";const i=-1!==t.indexOf("MSIE "),r=-1!==t.indexOf("Trident/");return i||r?"IE":tS.chrome?"Chrome":tS.safari?"Safari":tS.mozInnerScreenX?"Firefox":"Unknown"}class nS extends ku{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=Oi(e),r=oW(e,"TIMER_QUERY");let o=i||r;for(const s of t)switch(s){case"queries":o=o&&i;break;case"timers":o=o&&r;break;default:gn(!1)}return o}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise((i,r)=>{const o=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(o)};requestAnimationFrame(o)}),this._pollingPromise}_createHandle(){return nS.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const M$=bd()&&typeof document<"u";let _1e=0;class b1e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(v=>z9(v)),onAddHTML:i=null,onInitialize:r=(()=>{}),onRender:o=(()=>{}),onFinalize:s=(()=>{}),onError:a,gl:c=null,glOptions:l={},debug:d=!1,createFramebuffer:h=!1,autoResizeViewport:f=!0,autoResizeDrawingBuffer:m=!0,stats:g=Gp.get("animation-loop-".concat(_1e++))}=e;let{useDevicePixels:b=!0}=e;"useDevicePixelRatio"in e&&(Rn.deprecated("useDevicePixelRatio","useDevicePixels")(),b=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:i,onInitialize:r,onRender:o,onFinalize:s,onError:a,gl:c,glOptions:l,debug:d,createFramebuffer:h},this.gl=c,this.needsRedraw=null,this.timeline=null,this.stats=g,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:f,autoResizeDrawingBuffer:m,useDevicePixels:b}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return gn("string"==typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then(()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=nS.isSupported(this.gl,["timers"])?new nS(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps))).then(i=>{this._running&&(this._addCallbackData(i||{}),!1!==i&&this._startLoop())});return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}toDataURL(){var e=this;return R(function*(){return e.setNeedsRedraw("toDataURL"),yield e.waitForRender(),e.gl.canvas.toDataURL()})()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.getElementById(e);return i?Number(i.value):t}setViewParameters(){return Rn.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=M$?new Promise((e,t)=>{M$&&"complete"===document.readyState?e(document):window.addEventListener("load",()=>{e(document)})}):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):function g1e(n){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(n):clearTimeout(n)}(e)}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):function m1e(n){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(n):setTimeout(n,1e3/60)}(e)}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:i}=this._getSizeAndAspect();(e!==this.animationProps.width||t!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),i!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=i,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"==typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&typeof OffscreenCanvas<"u"&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?$P(this.props.gl,e):this.onCreateContext(e),!VA(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");(function u0e(n){Ru(n,HP)})(this.gl),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const i=this.props.onAddHTML(t);i&&(t.innerHTML=i)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let i=1;const{canvas:r}=this.gl;return r&&r.clientHeight?i=r.clientWidth/r.clientHeight:e>0&&t>0&&(i=e/t),{width:e,height:t,aspect:i}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&function g0e(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.canvas){const i=function h0e(n){const e=typeof window>"u"?1:window.devicePixelRatio||1;return Number.isFinite(n)?n<=0?1:n:n?e:1}(e.useDevicePixels);return void function w0e(n,e,t){let i="width"in t?t.width:n.canvas.clientWidth,r="height"in t?t.height:n.canvas.clientHeight;(!i||!r)&&(Rn.log(1,"Canvas clientWidth/clientHeight is 0")(),e=1,i=n.canvas.width||1,r=n.canvas.height||1),n.luma=n.luma||{},n.luma.canvasSizeInfo=n.luma.canvasSizeInfo||{};const o=n.luma.canvasSizeInfo;if(o.clientWidth!==i||o.clientHeight!==r||o.devicePixelRatio!==e){let s=e;const a=Math.floor(i*s),c=Math.floor(r*s);n.canvas.width=a,n.canvas.height=c,(n.drawingBufferWidth!==a||n.drawingBufferHeight!==c)&&(Rn.warn("Device pixel ratio clamped")(),s=Math.min(n.drawingBufferWidth/i,n.drawingBufferHeight/r),n.canvas.width=Math.floor(i*s),n.canvas.height=Math.floor(r*s)),Object.assign(n.luma.canvasSizeInfo,{clientWidth:i,clientHeight:r,devicePixelRatio:e})}}(n,i,e)}const t=n.getExtension("STACKGL_resize_drawingbuffer");t&&"width"in e&&"height"in e&&t.resize(e.width,e.height)}(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new os(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var iS=T(4511);const y1e={mousedown:1,mousemove:2,mouseup:4};(function w1e(n){const e=n.prototype.handler;n.prototype.handler=function(i){const r=this.store;i.button>0&&"pointerdown"===i.type&&(function v1e(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return!0;return!1}(r,o=>o.pointerId===i.pointerId)||r.push(i)),e.call(this,i)}})(iS.PointerEventInput),function x1e(n){n.prototype.handler=function(t){let i=y1e[t.type];1&i&&t.button>=0&&(this.pressed=!0),2&i&&0===t.which&&(i=4),this.pressed&&(4&i&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}}(iS.MouseInput);const E1e=iS.Manager,Td=iS;class rS{constructor(e,t,i){this.element=e,this.callback=t,this.options={enable:!0,...i}}}const C1e=Td?[[Td.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[Td.Rotate,{enable:!1}],[Td.Pinch,{enable:!1}],[Td.Swipe,{enable:!1}],[Td.Pan,{threshold:0,enable:!1}],[Td.Press,{enable:!1}],[Td.Tap,{event:"doubletap",taps:2,enable:!1}],[Td.Tap,{event:"anytap",enable:!1}],[Td.Tap,{enable:!1}]]:null,O$={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},A1e={doubletap:["tap"]},S1e={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},cN={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},T1e={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},R$={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},M1e=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",W_=typeof window<"u"?window:global;typeof global<"u"?global:window,typeof document<"u"&&document;let lN=!1;try{W_.addEventListener("test",null,{get passive(){return lN=!0,!0}}),W_.removeEventListener("test",null)}catch{lN=!1}const I1e=-1!==M1e.indexOf("firefox"),{WHEEL_EVENTS:D1e}=cN,P$=4.000244140625;class k1e extends rS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{if(!this.options.enable)return;let o=r.deltaY;W_.WheelEvent&&(I1e&&r.deltaMode===W_.WheelEvent.DOM_DELTA_PIXEL&&(o/=W_.devicePixelRatio),r.deltaMode===W_.WheelEvent.DOM_DELTA_LINE&&(o*=40)),0!==o&&o%P$==0&&(o=Math.floor(o/P$)),r.shiftKey&&o&&(o*=.25),this.callback({type:"wheel",center:{x:r.clientX,y:r.clientY},delta:-o,srcEvent:r,pointerType:"mouse",target:r.target})},this.events=(this.options.events||[]).concat(D1e),this.events.forEach(r=>e.addEventListener(r,this.handleEvent,!!lN&&{passive:!1}))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){"wheel"===e&&(this.options.enable=t)}}const{MOUSE_EVENTS:P1e}=cN,N$="pointermove",F$="pointerover",L$="pointerout",B$="pointerenter",j$="pointerleave";class N1e extends rS{constructor(e,t,i){super(e,t,i),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(P1e),this.events.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===N$&&(this.enableMoveEvent=t),e===F$&&(this.enableOverEvent=t),e===L$&&(this.enableOutEvent=t),e===B$&&(this.enableEnterEvent=t),e===j$&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(F$,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(L$,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(B$,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(j$,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit(N$,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:F1e}=cN,U$="keydown";class L1e extends rS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{const o=r.target||r.srcElement;"INPUT"===o.tagName&&"text"===o.type||"TEXTAREA"===o.tagName||(this.enableDownEvent&&"keydown"===r.type&&this.callback({type:U$,srcEvent:r,key:r.key,target:r.target}),this.enableUpEvent&&"keyup"===r.type&&this.callback({type:"keyup",srcEvent:r,key:r.key,target:r.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(F1e),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach(r=>e.addEventListener(r,this.handleEvent))}destroy(){this.events.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,t){e===U$&&(this.enableDownEvent=t),"keyup"===e&&(this.enableUpEvent=t)}}const z$="contextmenu";class B1e extends rS{constructor(e,t,i){super(e,t,i),this.handleEvent=r=>{this.options.enable&&this.callback({type:z$,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===z$&&(this.options.enable=t)}}const j1e={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function Y1e(n){const e=j1e[n.srcEvent.type];if(!e)return null;const{buttons:t,button:i,which:r}=n.srcEvent;let o=!1,s=!1,a=!1;return 4===e||2===e&&!Number.isFinite(t)?(o=1===r,s=2===r,a=3===r):2===e?(o=!!(1&t),s=!!(4&t),a=!!(2&t)):1===e&&(o=0===i,s=1===i,a=2===i),{leftButton:o,middleButton:s,rightButton:a}}function K1e(n,e){const t=n.center;if(!t)return null;const i=e.getBoundingClientRect();return{center:t,offsetCenter:{x:(t.x-i.left-e.clientLeft)/(i.width/e.offsetWidth||1),y:(t.y-i.top-e.clientTop)/(i.height/e.offsetHeight||1)}}}const hN={srcElement:"root",priority:0};class J1e{constructor(e){this.handleEvent=t=>{if(this.isEmpty())return;const i=this._normalizeEvent(t);let r=t.srcEvent.target;for(;r&&r!==i.rootElement;){if(this._emit(i,r),i.handled)return;r=r.parentNode}this._emit(i,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,i,r=!1,o=!1){const{handlers:s,handlersByElement:a}=this;let c=hN;"string"==typeof i||i&&i.addEventListener?c={...hN,srcElement:i}:i&&(c={...hN,...i});let l=a.get(c.srcElement);l||(l=[],a.set(c.srcElement,l));const d={type:e,handler:t,srcElement:c.srcElement,priority:c.priority};r&&(d.once=!0),o&&(d.passive=!0),s.push(d),this._active=this._active||!d.passive;let h=l.length-1;for(;h>=0&&!(l[h].priority>=d.priority);)h--;l.splice(h+1,0,d)}remove(e,t){const{handlers:i,handlersByElement:r}=this;for(let o=i.length-1;o>=0;o--){const s=i[o];if(s.type===e&&s.handler===t){i.splice(o,1);const a=r.get(s.srcElement);a.splice(a.indexOf(s),1),0===a.length&&r.delete(s.srcElement)}}this._active=i.some(o=>!o.passive)}_emit(e,t){const i=this.handlersByElement.get(t);if(i){let r=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,r=!0},a=[];for(let c=0;c<i.length;c++){const{type:l,handler:d,once:h}=i[c];if(d({...e,type:l,stopPropagation:o,stopImmediatePropagation:s}),h&&a.push(i[c]),r)break}for(let c=0;c<a.length;c++){const{type:l,handler:d}=a[c];this.remove(l,d)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...Y1e(e),...K1e(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const Q1e={events:null,recognizers:null,recognizerOptions:{},Manager:E1e,touchAction:"none",tabIndex:0};class Z1e{constructor(e=null,t){this._onBasicInput=r=>{const{srcEvent:o}=r,s=S1e[o.type];s&&this.manager.emit(s,r)},this._onOtherEvent=r=>{this.manager.emit(r.type,r)},this.options={...Q1e,...t},this.events=new Map,this.setElement(e);const{events:i}=this.options;i&&this.on(i)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this;this.manager=new(0,t.Manager)(e,{touchAction:t.touchAction,recognizers:t.recognizers||C1e}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(O$).forEach(r=>{const o=this.manager.get(r);o&&O$[r].forEach(s=>{o.recognizeWith(s)})});for(const r in t.recognizerOptions){const o=this.manager.get(r);if(o){const s=t.recognizerOptions[r];delete s.enable,o.set(s)}}this.wheelInput=new k1e(e,this._onOtherEvent,{enable:!1}),this.moveInput=new N1e(e,this._onOtherEvent,{enable:!1}),this.keyInput=new L1e(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new B1e(e,this._onOtherEvent,{enable:!1});for(const[r,o]of this.events)o.isEmpty()||(this._toggleRecognizer(o.recognizerName,!0),this.manager.on(r,o.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,i){this._addEventHandler(e,t,i,!1)}once(e,t,i){this._addEventHandler(e,t,i,!0)}watch(e,t,i){this._addEventHandler(e,t,i,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:i}=this;if(!i)return;const r=i.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const o=A1e[e];o&&!this.options.recognizers&&o.forEach(s=>{const a=i.get(s);t?(a.requireFailure(e),r.dropRequireFailure(s)):a.dropRequireFailure(e)})}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,i,r,o){if("string"!=typeof e){i=t;for(const d in e)this._addEventHandler(d,e[d],i,r,o);return}const{manager:s,events:a}=this,c=R$[e]||e;let l=a.get(c);l||(l=new J1e(this),a.set(c,l),l.recognizerName=T1e[c]||c,s&&s.on(c,l.handleEvent)),l.add(e,t,i,r,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!=typeof e){for(const s in e)this._removeEventHandler(s,e[s]);return}const{events:i}=this,o=i.get(R$[e]||e);if(o&&(o.remove(e,t),o.isEmpty())){const{recognizerName:s}=o;let a=!1;for(const c of i.values())if(c.recognizerName===s&&!c.isEmpty()){a=!0;break}a||this._toggleRecognizer(s,!1)}}}function Xp(){}const H$={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:Xp,onResize:Xp,onViewStateChange:Xp,onInteractionStateChange:Xp,onBeforeRender:Xp,onAfterRender:Xp,onLoad:Xp,onError:n=>ji.error(n.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:({isDragging:n})=>n?"grabbing":"grab",getTooltip:null,debug:!1,drawPickingColors:!1};class fN{constructor(e){pe(this,"props",void 0),pe(this,"width",0),pe(this,"height",0),pe(this,"userData",{}),pe(this,"canvas",null),pe(this,"viewManager",null),pe(this,"layerManager",null),pe(this,"effectManager",null),pe(this,"deckRenderer",null),pe(this,"deckPicker",null),pe(this,"eventManager",null),pe(this,"tooltip",null),pe(this,"metrics",void 0),pe(this,"animationLoop",void 0),pe(this,"stats",void 0),pe(this,"viewState",void 0),pe(this,"cursorState",void 0),pe(this,"_needsRedraw",void 0),pe(this,"_pickRequest",void 0),pe(this,"_lastPointerDownInfo",null),pe(this,"_metricsCounter",void 0),pe(this,"_onPointerMove",t=>{const{_pickRequest:i}=this;if("pointerleave"===t.type)i.x=-1,i.y=-1,i.radius=0;else{if(t.leftButton||t.rightButton)return;{const r=t.offsetCenter;if(!r)return;i.x=r.x,i.y=r.y,i.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:i.x,y:i.y}),i.event=t}),pe(this,"_onEvent",t=>{const i=d9[t.type],r=t.offsetCenter;if(!i||!r||!this.layerManager)return;const o=this.layerManager.getLayers(),s=this.deckPicker.getLastPickedObject({x:r.x,y:r.y,layers:o,viewports:this.getViewports(r)},this._lastPointerDownInfo),{layer:a}=s,c=a&&(a[i.handler]||a.props[i.handler]),l=this.props[i.handler];let d=!1;c&&(d=c.call(a,s,t)),!d&&l&&l(s,t)}),pe(this,"_onPointerDown",t=>{const i=t.offsetCenter,r=this._pick("pickObject","pickObject Time",{x:i.x,y:i.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=r.result[0]||r.emptyInfo}),this.props={...H$,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&ji.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===T$()&&ji.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||typeof document<"u"&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new qP({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&C0.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,i,r,o,s,a,c;this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(i=this.effectManager)||void 0===i||i.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(o=this.deckPicker)||void 0===o||o.finalize(),this.deckPicker=null,null===(s=this.eventManager)||void 0===s||s.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas||(null===(c=this.canvas.parentElement)||void 0===c||c.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&ji.removed("onLayerHover","onHover")(),"onLayerClick"in e&&ji.removed("onLayerClick","onClick")(),e.initialViewState&&!R_(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const i=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return t=t||i||r||o||s,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return Us(this.viewManager),this.viewManager.views}getViewports(e){return Us(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,t=!1){for(const i in e)this.layerManager.resourceManager.add({resourceId:i,data:e[i],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,i){Us(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(i),views:this.viewManager.getViews(),viewports:this.getViewports(i),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...i});return r.get(t).timeEnd(),o}_createCanvas(e){let t=e.canvas;return"string"==typeof t&&(t=document.getElementById(t),Us(t)),t||(t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay",(e.parent||document.body).appendChild(t)),Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:i}=e;if(t||0===t){const o=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=o}if(i||0===i){var r;const o=Number.isFinite(i)?"".concat(i,"px"):i;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const t=e.clientWidth||e.width,i=e.clientHeight||e.height;var r;t===this.width&&i===this.height||(this.width=t,this.height=i,null===(r=this.viewManager)||void 0===r||r.setProps({width:t,height:i}),this.props.onResize({width:t,height:i}))}_createAnimationLoop(e){const{width:t,height:i,gl:r,glOptions:o,debug:s,onError:a,onBeforeRender:c,onAfterRender:l,useDevicePixels:d}=e;return new b1e({width:t,height:i,useDevicePixels:d,autoResizeViewport:!1,gl:r,onCreateContext:h=>z9({...o,...h,canvas:this.canvas,debug:s,onContextLost:()=>this._onContextLost()}),onInitialize:h=>this._setGLContext(h.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:c,onAfterRender:l,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new h$({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:i,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=i.length>0;let o=r,s=!1;for(const a of i){var t;o=a,s=(null===(t=a.layer)||void 0===t?void 0:t.onHover(a,e.event))||s}if(!s&&this.props.onHover&&this.props.onHover(o,e.event),this.props.getTooltip&&this.tooltip){const a=this.props.getTooltip(o);this.tooltip.setTooltip(a,o.x,o.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,$P(e,{enable:!0,copyState:!0})),this.tooltip=new OCe(this.canvas),Ru(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new OW;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new Z1e(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in d9)this.eventManager.on(r,this._onEvent);this.viewManager=new oCe({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const i=this.viewManager.getViewports()[0];this.layerManager=new rCe(e,{deck:this,stats:this.stats,viewport:i,timeline:t}),this.effectManager=new bCe,this.deckRenderer=new ECe(e),this.deckPicker=new ICe(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:i}=this.layerManager.context;Ru(i,this.props.parameters),this.props.onBeforeRender({gl:i}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:i})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60==0&&(this._getMetrics(),this.stats.reset(),ji.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const i=Gp.get("Memory Usage");e.bufferMemory=i.get("Buffer Memory").count,e.textureMemory=i.get("Texture Memory").count,e.renderbufferMemory=i.get("Renderbuffer Memory").count,e.gpuMemory=i.get("GPU Memory").count}}pe(fN,"defaultProps",H$),pe(fN,"VERSION",a1e.VERSION);var Md=T(6887);class pN{constructor(e,t){pe(this,"opts",void 0),pe(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:i}=this.source,{size:r}=t;let o=i;if(i&&i.length!==r){o=new Float32Array(r);const s=t.elementOffset||0;for(let a=0;a<r;++a)o[a]=i[s+a]}return o}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function sS(n){return n.stride||n.size*n.bytesPerElement}function G$(n,e){e.offset&&ji.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const t=sS(n),o=(void 0!==e.vertexOffset?e.vertexOffset:n.vertexOffset||0)*t+(e.elementOffset||0)*n.bytesPerElement+(n.offset||0);return{...e,offset:o,stride:t}}class nAe{constructor(e,t,i){pe(this,"gl",void 0),pe(this,"id",void 0),pe(this,"size",void 0),pe(this,"settings",void 0),pe(this,"value",void 0),pe(this,"doublePrecision",void 0),pe(this,"_buffer",void 0),pe(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,o=5130===r;let a,{defaultValue:s}=t;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0),a=o?5126:!r&&t.isIndexed?e&&r2(e,"ELEMENT_INDEX_UINT32")?5125:5123:r||5126;let c=function eAe(n){switch(n){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||a||5126);this.doublePrecision=o,o&&!1===t.fp64&&(c=Float32Array),this.value=null,this.settings={...t,defaultType:c,defaultValue:s,logicalType:r,type:a,size:this.size,bytesPerElement:c.BYTES_PER_ELEMENT},this.state={...i,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new Ar(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*sS(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),C0.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const i={},r=this.value instanceof Float64Array,o=function tAe(n,e){const t=G$(n,e);return{high:t,low:{...t,offset:t.offset+4*n.size}}}(this.getAccessor(),t||{});return i[e]=new pN(this,o.high),i["".concat(e,"64Low")]=r?new pN(this,o.low):new Float32Array(this.size),i}if(t){const i=G$(this.getAccessor(),t);return{[e]:new pN(this,i)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:i,size:r}=this,o=i*r;if(t&&o&&t.length>=o){const s=new Array(r).fill(1/0),a=new Array(r).fill(-1/0);for(let c=0;c<o;)for(let l=0;l<r;l++){const d=t[c++];d<s[l]&&(s[l]=d),d>a[l]&&(a[l]=d)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let i;i=ArrayBuffer.isView(e)?{value:e}:e instanceof Ar?{buffer:e}:e;const r={...this.settings,...i};if(t.bufferAccessor=r,t.bounds=null,i.constant){let o=i.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),t.constant&&this._areValuesEqual(o,this.value))return!1;t.externalBuffer=null,t.constant=!0,this.value=o}else if(i.buffer){const o=i.buffer;t.externalBuffer=o,t.constant=!1,this.value=i.value||null;const s=i.value instanceof Float64Array;r.type=i.type||o.accessor.type,r.bytesPerElement=o.accessor.BYTES_PER_ELEMENT*(s?2:1),r.stride=sS(r)}else if(i.value){this._checkExternalBuffer(i);let o=i.value;t.externalBuffer=null,t.constant=!1,this.value=o,r.bytesPerElement=o.BYTES_PER_ELEMENT,r.stride=sS(r);const{buffer:s,byteOffset:a}=this;this.doublePrecision&&o instanceof Float64Array&&(o=gP(o,r));const c=o.byteLength+a+2*r.stride;s.byteLength<c&&s.reallocate(c),s.setAccessor(null),s.subData({data:o,offset:a}),r.type=i.type||s.accessor.type}return!0}updateSubBuffer(e={}){this.state.bounds=null;const t=this.value,{startOffset:i=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?gP(t,{size:this.size,startIndex:i,endIndex:r}):t.subarray(i,r),offset:i*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e,t=!1){const{state:i}=this,r=i.allocatedValue,o=C0.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=o;const{buffer:s,byteOffset:a}=this;return s.byteLength<o.byteLength+a&&(s.reallocate(o.byteLength+a),t&&r&&s.subData({data:r instanceof Float64Array?gP(r,this):r,offset:a})),i.allocatedValue=o,i.constant=!1,i.externalBuffer=null,i.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const i=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));!(t instanceof i)&&this.settings.normalized&&!("normalized"in e)&&ji.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map(t=>(t+128)/255*2-1);case 5122:return new Float32Array(e).map(t=>(t+32768)/65535*2-1);case 5121:return new Float32Array(e).map(t=>t/255);case 5123:return new Float32Array(e).map(t=>t/65535);default:return e}}_normalizeValue(e,t,i){const{defaultValue:r,size:o}=this.settings;if(Number.isFinite(e))return t[i]=e,t;if(!e)return t[i]=r[0],t;switch(o){case 4:t[i+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[i+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[i+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[i+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let s=o;for(;--s>=0;)t[i+s]=Number.isFinite(e[s])?e[s]:r[s]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:i}=this;for(let r=0;r<i;r++)if(e[r]!==t[r])return!1;return!0}}const W$=[],q$=[];function aS(n,e=0,t=1/0){let i=W$;const r={index:-1,data:n,target:[]};return n?"function"==typeof n[Symbol.iterator]?i=n:n.length>0&&(q$.length=n.length,i=q$):i=W$,(e>0||Number.isFinite(t))&&(i=(Array.isArray(i)?i:Array.from(i)).slice(e,t),r.index=e-1),{iterable:i,objectInfo:r}}function X$(n){return n&&n[Symbol.asyncIterator]}const rAe=[],cS=[[0,1/0]];function mN(n){const{source:e,target:t,start:i=0,size:r,getData:o}=n,a=e.length,c=(n.end||t.length)-i;if(a>c)return void t.set(e.subarray(0,c),i);if(t.set(e,i),!o)return;let l=a;for(;l<c;){const d=o(l,e);for(let h=0;h<r;h++)t[i+l]=d[h]||0,l++}}const aAe={interpolation:{duration:0,easing:n=>n},spring:{stiffness:.05,damping:.5}};function Y$(n,e){if(!n)return null;Number.isFinite(n)&&(n={type:"interpolation",duration:n});const t=n.type||"interpolation";return{...aAe[t],...e,...n,type:t}}function K$(n,e){const t=e.getBuffer();return t?[t,{divisor:0,size:e.size,normalized:e.settings.normalized}]:e.value}function J$(n){switch(n){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(n,'"'))}}function Q$(n){n.push(n.shift())}function gN(n,e){const{doublePrecision:t,settings:i,value:r,size:o}=n,s=t&&r instanceof Float64Array?2:1;return(i.noAlloc?r.length:e*o)*s}function Z$({buffer:n,numInstances:e,attribute:t,fromLength:i,fromStartIndices:r,getData:o=(s=>s)}){const s=t.doublePrecision&&t.value instanceof Float64Array?2:1,a=t.size*s,c=t.byteOffset,l=t.startIndices,d=r&&l,h=gN(t,e),f=t.isConstant;if(!d&&i>=h)return;const m=f?t.value:t.getBuffer().getData({srcByteOffset:c});if(t.settings.normalized&&!f){const D=o;o=(N,Z)=>t.normalizeConstant(D(N,Z))}const g=f?(D,N)=>o(m,N):(D,N)=>o(m.subarray(D,D+a),N),b=n.getData({length:i}),v=new Float32Array(h);(function sAe({source:n,target:e,size:t,getData:i,sourceStartIndices:r,targetStartIndices:o}){if(!Array.isArray(o))return mN({source:n,target:e,size:t,getData:i}),e;let s=0,a=0;const c=i&&((d,h)=>i(d+a,h)),l=Math.min(r.length,o.length);for(let d=1;d<l;d++){const h=r[d]*t,f=o[d]*t;mN({source:n.subarray(s,h),target:e,start:a,end:f,size:t,getData:c}),s=h,a=f}a<e.length&&mN({source:[],target:e,start:a,size:t,getData:c})})({source:b,target:v,sourceStartIndices:r,targetStartIndices:l,size:a,getData:g}),n.byteLength<v.byteLength+c&&n.reallocate(v.byteLength+c),n.subData({data:v,offset:c})}class _N extends nAe{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:cS}),pe(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!=typeof e&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,i=this.settings.transition;return Y$(Array.isArray(t)?e[t.find(o=>e[o])]:e[t],i)}setNeedsUpdate(e=this.id,t){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:i=0,endRow:r=1/0}=t;this.state.updateRanges=function oAe(n,e){if(n===cS||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return n;const t=[],i=n.length;let r=0;for(let o=0;o<i;o++){const s=n[o];s[1]<e[0]?(t.push(s),r=o+1):s[0]>e[1]?t.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return t.splice(r,0,e),t}(this.state.updateRanges,[i,r])}else this.state.updateRanges=cS}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=rAe}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:i}=this;return!i.noAlloc&&!!i.update&&(super.allocate(e,t.updateRanges!==cS),!0)}updateBuffer({numInstances:e,data:t,props:i,context:r}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let c=!0;if(s){for(const[l,d]of o)s.call(r,this,{data:t,startRow:l,endRow:d,props:i,numInstances:e});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[l,d]of o){const h=Number.isFinite(l)?this.getVertexOffset(l):0,f=Number.isFinite(d)?this.getVertexOffset(d):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:h,endOffset:f})}this._checkAttributeArray()}else c=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),c}setConstantValue(e){return void 0!==e&&"function"!=typeof e&&(this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0)}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e,t=null){const{state:i,settings:r}=this;if(!e)return i.binaryValue=null,i.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(i.binaryValue===e)return this.clearNeedsUpdate(),!0;if(i.binaryValue=e,this.setNeedsRedraw(),r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;return Us(ArrayBuffer.isView(s.value),"invalid ".concat(r.accessor)),i.binaryAccessor=function iAe(n,e){const{size:t,stride:i,offset:r,startIndices:o,nested:s}=e,a=n.BYTES_PER_ELEMENT,c=i?i/a:t,l=r?r/a:0,d=Math.floor((n.length-l)/c);return(h,{index:f,target:m})=>{if(!o){const D=f*c+l;for(let N=0;N<t;N++)m[N]=n[D+N];return m}const g=o[f],b=o[f+1]||d;let v;if(s){v=new Array(b-g);for(let D=g;D<b;D++){const N=D*c+l;m=new Array(t);for(let Z=0;Z<t;Z++)m[Z]=n[N+Z];v[D-g]=m}}else if(c===t)v=n.subarray(g*t+l,b*t+l);else{v=new n.constructor((b-g)*t);let D=0;for(let N=g;N<b;N++){const Z=N*c+l;for(let G=0;G<t;G++)v[D++]=n[Z+G]}}return v}}(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:t,nested:!!s.size&&s.size!==this.size}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const i in e)Object.assign(t,super.getShaderAttributes(i,e[i]));return t}_autoUpdater(e,{data:t,startRow:i,endRow:r,props:o,numInstances:s}){if(e.constant)return;const{settings:a,state:c,value:l,size:d,startIndices:h}=e,{accessor:f,transform:m}=a,g=c.binaryAccessor||("function"==typeof f?f:o[f]);Us("function"==typeof g,'accessor "'.concat(f,'" is not a function'));let b=e.getVertexOffset(i);const{iterable:v,objectInfo:D}=aS(t,i,r);for(const N of v){D.index++;let Z=g(N,D);if(m&&(Z=m.call(this,Z)),h){const G=(D.index<h.length-1?h[D.index+1]:s)-h[D.index];if(Z&&Array.isArray(Z[0])){let Oe=b;for(const ze of Z)e._normalizeValue(ze,l,Oe),Oe+=d}else Z&&Z.length>d?l.set(Z,b):(e._normalizeValue(Z,D.target,0),kxe({target:l,source:D.target,start:b,count:G}));b+=G*d}else e._normalizeValue(Z,l,b),b+=d}}_validateAttributeUpdaters(){const{settings:e}=this;if(!e.noAlloc&&"function"!=typeof e.update)throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let i=!0;switch(t){case 4:i=i&&Number.isFinite(e[3]);case 3:i=i&&Number.isFinite(e[2]);case 2:i=i&&Number.isFinite(e[1]);case 1:i=i&&Number.isFinite(e[0]);break;default:i=!1}if(!i)throw new Error("Illegal attribute generated for ".concat(this.id))}}}const e7="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",lAe="#version 300 es\n".concat(e7);function t7(n,e){e=Array.isArray(e)?e:[e];const t=n.replace(/^\s+/,"").split(/\s+/),[i,r,o]=t;return e.includes(i)&&r&&o?{qualifier:i,type:r,name:o.split(";")[0]}:null}function n7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:e=100,input:t,inputType:i,output:r}=n;if(!t)return 300===e?lAe:e>300?"#version ".concat(e,"\n").concat(e7):"void main() {gl_FragColor = vec4(0);}";const o=function hAe(n,e){switch(e){case"float":return"vec4(".concat(n,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(n,", 0.0, 1.0)");case"vec3":return"vec4(".concat(n,", 1.0)");case"vec4":return n;default:return Tc(!1),null}}(t,i);return e>=300?"#version ".concat(e," ").concat(300===e?"es":"","\nin ").concat(i," ").concat(t,";\nout vec4 ").concat(r,";\nvoid main() {\n  ").concat(r," = ").concat(o,";\n}"):"varying ".concat(i," ").concat(t,";\nvoid main() {\n  gl_FragColor = ").concat(o,";\n}")}class i7 extends ku{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return Oi(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ya(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,F_(this.buffers)||this.bind(()=>this._unbindBuffers()),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind(()=>{for(const t in e)this.setBuffer(t,e[t])}),this}setBuffer(e,t){const i=this._getVaryingIndex(e),{buffer:r,byteSize:o,byteOffset:s}=this._getBufferParams(t);return i<0?(this.unused[e]=r,Rn.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[i]=t,this.bindOnUse||this._bindBuffer(i,r,s,o),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,i,r;return e instanceof Ar?r=e:(r=e.buffer,i=e.byteSize,t=e.byteOffset),(void 0!==t||void 0!==i)&&(t=t||0,i=i||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:i}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:i,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,i)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let r=arguments.length>3?arguments[3]:void 0;const o=t&&t.handle;return o&&void 0!==r?this.gl.bindBufferRange(35982,e,o,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r):this.gl.bindBufferBase(35982,e,o),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}class fAe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:i,transformFeedback:r}=t;return{attributes:Object.assign({},i,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupBuffers(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],i=e?t[e]:null;return i?i instanceof Ar?i:i.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,i=this.getBuffer(t);return i?i.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&gn(Oi(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,i={};if(this.bindings[this.currentIndex]&&Object.assign(i,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap)r in t&&(i[this.feedbackMap[r]]=r);Object.assign(i,e.feedbackBuffers);for(const r in i){const o=i[r];if("string"==typeof o){const s=t[o],{byteLength:a,usage:c,accessor:l}=s;i[r]=this._createNewBuffer(r,{byteLength:a,usage:c,accessor:l})}}return i}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const i=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:i})}_setupTransformFeedback(e,t){let{model:i}=t;const{program:r}=i;e.transformFeedback=new i7(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:t,feedbackBuffers:i}=this._swapBuffers(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceBuffers:t,feedbackBuffers:i})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),i=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const o=this.feedbackMap[r];t[r]=e.feedbackBuffers[o],i[o]=e.sourceBuffers[r],gn(i[o]instanceof Ar)}return{sourceBuffers:t,feedbackBuffers:i}}_createNewBuffer(e,t){const i=new Ar(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=i,i}_getNextIndex(){return(this.currentIndex+1)%2}}function r7(n){let e=100;const t=n.match(/[^\s]+/g);if(t.length>=2&&"#version"===t[0]){const i=parseInt(t[1],10);Number.isFinite(i)&&(e=i)}return e}const pAe={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},lS="transform_uSize_",o7="transform_position";const xAe={10241:9728,10240:9728,10242:33071,10243:33071};class CAe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:i,framebuffer:r,targetTexture:o}=this.bindings[this.currentIndex],s=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),c=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){s.transform_elementID=this.elementIDBuffer;for(const h in this.samplerTextureMap)a[h]=i[this.samplerTextureMap[h]];this._setSourceTextureParameters();const d=function _Ae(n){let{sourceTextureMap:e,targetTextureVarying:t,targetTexture:i}=n;const r={};let o,s;t&&(({width:o,height:s}=i),r["".concat(lS).concat(t)]=[o,s]);for(const a in e)({width:o,height:s}=e[a]),r["".concat(lS).concat(a)]=[o,s];return r}({sourceTextureMap:i,targetTextureVarying:this.targetTextureVarying,targetTexture:o});Object.assign(a,d)}return this.hasTargetTexture&&(l=!1,c.viewport=[0,0,r.width,r.height]),{attributes:s,framebuffer:r,uniforms:a,discard:l,parameters:c}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){this._setupTextures(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],i=HA(t);if(!e)return i;const r=i.constructor,o=function uAe(n){switch(n){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return Tc(!1),null}}(this.targetTextureType),s=new r(i.length*o/4);let a=0;for(let c=0;c<i.length;c+=4)for(let l=0;l<o;l++)s[a++]=i[c+l];return s}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:i}=e;this._swapTexture=i,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:i}=e;if(i instanceof Vs)return i;const r=t[i];return r?(this._targetRefTexName=i,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:i={},_targetTexture:r}=e,o=this._createTargetTexture({sourceTextures:i,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||i&&Object.keys(i).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:i,targetTexture:o}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!=typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach((i,r,o)=>{o[r]=r}),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new Ar(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:t,targetTexture:i}=this._swapTextures(this.bindings[this.currentIndex]),r=this._getNextIndex();this.bindings[r]=this._updateBinding(this.bindings[r],{sourceTextures:t,targetTexture:i})}}_updateBinding(e,t){const{sourceBuffers:i,sourceTextures:r,targetTexture:o}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,i),o){e.targetTexture=o;const{width:s,height:a}=o,{framebuffer:c}=e;c?(c.update({attachments:{36064:o},resizeAttachments:!1}),c.resize({width:s,height:a})):e.framebuffer=new os(this.gl,{id:"transform-framebuffer",width:s,height:a,attachments:{36064:o}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const i in t)t[i].setParameters(xAe)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);return t[this._swapTexture]=e.targetTexture,{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=function H0e(n,e){gn(n instanceof Vs||n instanceof V0e||n instanceof z0e);const t=n.constructor,{gl:i,width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d}=n;return new t(i,Object.assign({width:r,height:o,format:s,type:a,dataFormat:c,border:l,mipmaps:d},e))}(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:i}=this.bindings[this.currentIndex],{vs:r,uniforms:o,targetTextureType:s,inject:a,samplerTextureMap:c}=function gAe(n){let{vs:e,sourceTextureMap:t,targetTextureVarying:i,targetTexture:r}=n,s=Object.keys(t).length,a=null;const c={};let l=e,d={};if(s>0||i){const h=l.split("\n"),f=h.slice();if(h.forEach((m,g,b)=>{if(s>0){const v=function wAe(n,e){const t={},i=function bAe(n){return t7(n,["attribute","in"])}(n);if(!i)return null;const{type:r,name:o}=i;if(o&&e[o]){const s="// ".concat(n," => Replaced by Transform with a sampler"),{samplerName:a,sizeName:c,uniformDeclerations:l}=function yAe(n){const e="".concat("transform_uSampler_").concat(n),t="".concat(lS).concat(n);return{samplerName:e,sizeName:t,uniformDeclerations:"  uniform sampler2D ".concat(e,";\n  uniform vec2 ").concat(t,";")}}(o),d=function dAe(n){switch(n){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return Tc(!1),null}}(r),h="  ".concat(r," ").concat(o," = transform_getInput(").concat(a,", ").concat(c,").").concat(d,";\n");return t[a]=o,{updatedLine:s,inject:{"vs:#decl":l,"vs:#main-start":h},samplerTextureMap:t}}return null}(m,t);if(v){const{updatedLine:D,inject:N}=v;f[g]=D,d=jP([d,N]),Object.assign(c,v.samplerTextureMap),s--}}i&&!a&&(a=function vAe(n,e){const t=t7(n,["varying","out"]);return t&&t.name===e?t.type:null}(m,i))}),i){gn(r);const m="".concat(lS).concat(i),g="uniform vec2 ".concat(m,";\n"),b="     vec2 ".concat(o7," = transform_getPos(").concat(m,");\n     gl_Position = vec4(").concat(o7,", 0, 1.);\n");d=jP([d,{"vs:#decl":g,"vs:#main-start":b}])}l=f.join("\n")}return{vs:l,targetTextureType:a,inject:d,samplerTextureMap:c}}({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:i}),l=jP([e.inject||{},a]);return this.targetTextureType=s,this.samplerTextureMap=c,{vs:r,fs:e._fs||n7({version:r7(r),input:this.targetTextureVarying,inputType:s,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[pAe].concat(e.modules||[]):e.modules,uniforms:o,inject:l}}}let dS=null;class Dc extends ku{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||Oi(e)||"Chrome"===T$()}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new Dc(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return Dc.MAX_ATTRIBUTES=Dc.MAX_ATTRIBUTES||e.getParameter(34921),Dc.MAX_ATTRIBUTES}static setConstant(e,t,i){switch(i.constructor){case Float32Array:Dc._setConstantFloatArray(e,t,i);break;case Int32Array:Dc._setConstantIntArray(e,t,i);break;case Uint32Array:Dc._setConstantUintArray(e,t,i);break;default:gn(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,Object.assign({},t,{id:t.id||t.program&&t.program.id})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return Dc.getMaxAttributes(this.gl)}initialize(){return this.setProps(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return gn(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind(()=>{this.gl.bindBuffer(34963,e?e.handle:null)}),this}setBuffer(e,t,i){if(34963===t.target)return this.setElementBuffer(t,i);const{size:r,type:o,stride:s,offset:a,normalized:c,integer:l,divisor:d}=i,{gl:h,gl2:f}=this;return e=Number(e),this.bind(()=>{h.bindBuffer(34962,t.handle),l?(gn(Oi(h)),f.vertexAttribIPointer(e,r,o,s,a)):h.vertexAttribPointer(e,r,o,c,s,a),h.enableVertexAttribArray(e),f.vertexAttribDivisor(e,d||0)}),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!Dc.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind(()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e))),this}getConstantBuffer(e,t){const i=this._normalizeConstantArrayValue(t),r=i.byteLength*e,o=i.length*e;let s=!this.buffer;if(this.buffer=this.buffer||new Ar(this.gl,r),s=s||this.buffer.reallocate(r),s=s||!this._compareConstantArrayValues(i,this.bufferValue),s){const a=function SAe(n,e){const t=function AAe(n){return(!dS||dS.byteLength<n)&&(dS=new ArrayBuffer(n)),dS}(n.BYTES_PER_ELEMENT*e);return new n(t,0,e)}(t.constructor,o);(function TAe(n){let{target:e,source:t,start:i=0,count:r=1}=n;const o=t.length,s=r*o;let a=0;for(let c=i;a<o;a++)e[c++]=t[a];for(;a<s;)a<s-a?(e.copyWithin(i+a,i,i+a),a*=2):(e.copyWithin(i+a,i,i+s-a),a=s)})({target:a,source:i,start:0,count:o}),this.buffer.subData(a),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}static _setConstantFloatArray(e,t,i){switch(i.length){case 1:e.vertexAttrib1fv(t,i);break;case 2:e.vertexAttrib2fv(t,i);break;case 3:e.vertexAttrib3fv(t,i);break;case 4:e.vertexAttrib4fv(t,i);break;default:gn(!1)}}static _setConstantIntArray(e,t,i){switch(gn(Oi(e)),i.length){case 1:e.vertexAttribI1iv(t,i);break;case 2:e.vertexAttribI2iv(t,i);break;case 3:e.vertexAttribI3iv(t,i);break;case 4:e.vertexAttribI4iv(t,i);break;default:gn(!1)}}static _setConstantUintArray(e,t,i){switch(gn(Oi(e)),i.length){case 1:e.vertexAttribI1uiv(t,i);break;case 2:e.vertexAttribI2uiv(t,i);break;case 3:e.vertexAttribI3uiv(t,i);break;case 4:e.vertexAttribI4uiv(t,i);break;default:gn(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:i}=t;return gn(Number.isFinite(i)),this.bind(()=>34373===e?this.gl.getVertexAttribOffset(i,e):this.gl.getVertexAttrib(i,e))}}const DAe=/^(.+)__LOCATION_([0-9]+)$/,OAe=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class RAe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.id=t.id||t.program&&t.program.id,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new Dc(e),$9(this,"VertexArray","v6.0",OAe),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind(()=>{for(const t in e)this._setAttribute(t,e[t]);this.gl.bindBuffer(34962,null)}),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,i);const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,t.accessor,i);return r>=0&&(this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,o)),this}setConstant(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:o}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},i));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=o,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Ar(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof Ar&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))}),this}bindBuffers(){return this.vertexArrayObject.bind(()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof Ar&&this.setBuffer(e,t)}}),this}bindForDraw(e,t,i){let r;return this.vertexArrayObject.bind(()=>{this._setConstantAttributes(e,t),r=i()}),r}_resolveLocationAndAccessor(e,t,i,r){const o={location:-1,accessor:null},{location:s,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(s)||s<0)return this.unused[e]=t,Rn.once(3,()=>"unused value ".concat(e," in ").concat(this.id))(),o;const c=this._getAttributeInfo(a||s);if(!c)return o;const d=sc.resolve(c.accessor,this.accessors[s]||{},i,r),{size:h,type:f}=d;return gn(Number.isFinite(h)&&Number.isFinite(f)),{location:s,accessor:d}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const i=DAe.exec(e),r=i?i[1]:e,o=i?Number(i[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+o,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof Ar)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof Ar)this.setBuffer(e,t[0],t[1]);else if(ArrayBuffer.isView(t)||Array.isArray(t))this.setConstant(e,t);else{if(!(t.buffer instanceof Ar))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");this.setBuffer(e,t.buffer,t)}}_setConstantAttributes(e,t){const i=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,i);for(let o=1;o<this.vertexArrayObject.MAX_ATTRIBUTES;o++)r=this.values[o],ArrayBuffer.isView(r)&&this._setConstantAttribute(o,r)}_setConstantAttributeZero(e,t){if(Dc.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const i=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,i,this.accessors[0])}_setConstantAttribute(e,t){Dc.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const i=this.values[t],r=this.accessors[t];if(!i)return;const{divisor:o}=r,s=o>0;if(e.isInstanced=e.isInstanced||s,i instanceof Ar){const a=i;if(s){const c=a.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,c)}else{const c=a.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,c)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rn.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}function q0(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{isInteger:i=!1}=e;if(Array.isArray(n)||ArrayBuffer.isView(n))return function kAe(n,e){const{maxElts:t=16,size:i=1}=e;let r="[";for(let s=0;s<n.length&&s<t;++s)s>0&&(r+=",".concat(s%i==0?" ":"")),r+=q0(n[s],e);const o=n.length>t?"...":"]";return"".concat(r).concat(o)}(n,e);if(!Number.isFinite(n))return String(n);if(Math.abs(n)<1e-16)return i?"0":"0.";if(i||Math.abs(n)>100&&Math.abs(n)<1e4)return n.toFixed(0);const r=n.toPrecision(2);return r.indexOf(".0")===r.length-2?r.slice(0,-1):r}function s7(n,e,t,i){const{gl:r}=n;if(!e)return{[i]:"null","Format ":"N/A"};let l,d,h,o="NOT PROVIDED",s=1,a=0,c=0;if(t&&(o=t.type,s=t.size,o=String(o).replace("Array",""),l=-1!==o.indexOf("nt")),e instanceof Ar){const f=e,{data:m,changed:g}=f.getDebugData();let b;return d=g?"*":"",h=m,c=f.byteLength,a=c/m.BYTES_PER_ELEMENT/s,t?b="".concat(t.divisor>0?"I ":"P "," ").concat(a," (x").concat(s,"=").concat(c," bytes ").concat(Kh(r,o),")"):(l=!0,b="".concat(c," bytes")),{[i]:"".concat(d).concat(q0(h,{size:s,isInteger:l})),"Format ":b}}return h=e,s=e.length,o=String(e.constructor.name).replace("Array",""),l=-1!==o.indexOf("nt"),{[i]:"".concat(q0(h,{size:s,isInteger:l})," (constant)"),"Format ":"".concat(s,"x").concat(o," (constant)")}}function NAe(n,e){const{type:t,size:i}=e,r=yW(t,i);return r?"".concat(n," (").concat(r.name,")"):n}function a7(n){let{header:e="Uniforms",program:t,uniforms:i,undefinedOnly:r=!1}=n;gn(t);const s=".*Matrix",c={},l=Object.keys(t._uniformSetters).sort();let d=0;for(const m of l)!m.match(".*_.*")&&!m.match(s)&&bN({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;for(const m of l)m.match(s)&&bN({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;for(const m of l)c[m]||bN({table:c,header:e,uniforms:i,uniformName:m,undefinedOnly:r})&&d++;let h=0;const f={};if(!r)for(const m in i){const g=i[m];c[m]||(h++,f[m]={Type:"NOT USED: ".concat(g),[e]:q0(g)})}return{table:c,count:d,unusedTable:f,unusedCount:h}}function bN(n){let{table:e,header:t,uniforms:i,uniformName:r,undefinedOnly:o}=n;const s=i[r],a=function FAe(n){return null!=n}(s);return!(o&&a||(e[r]={[t]:a?q0(s):"N/A","Uniform Type":a?s:"NOT PROVIDED"},0))}function c7(n){const{type:e,size:t}=n.accessor,i=yW(e,t);return i?"".concat(i.name," ").concat(n.name):n.name}const BAe={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function UAe(n,e){const{attributeMap:t=BAe}=e||{};return t&&t[n]||n}function VAe(n,e){let t;switch(n){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":t="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":t="vectors"}switch(t){case"vectors":e.size=e.size||3;break;case"uvs":e.size=e.size||2}gn(Number.isFinite(e.size),"attribute ".concat(n," needs size"))}const l7=()=>{},GAe={};class q_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:i=oc("model")}=t;gn(VA(e)),this.id=i,this.gl=e,this.id=t.id||oc("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||V0.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},gn(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=e;this.programProps={program:t,vs:i,fs:r,modules:o,defines:s,inject:a,varyings:c,bufferMode:l,transpileToGLSL100:d},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return gn(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return gn(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function jAe(n,e,t){const i={};let r=e.indices;for(const o in e.attributes){const s=e.attributes[o],a=UAe(o,t);if("indices"===o)r=s;else if(s.constant)i[a]=s.value;else{const c=s.value,l={...s};delete l.value,i[a]=[new Ar(n,c),l],VAe(o,l)}}if(r){const o=r.value||r;gn(o instanceof Uint16Array||o instanceof Uint32Array,'attribute array for "indices" must be of integer type');const s={size:1,isIndexed:void 0===r.isIndexed||r.isIndexed};i.indices=[new Ar(n,{data:o,target:34963}),s]}return i}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(F_(e))return this;const t={};for(const i in e){const r=e[i];t[i]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){return Object.assign(this.uniforms,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return e2(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:i,uniforms:r={},attributes:o={},transformFeedback:s=this.transformFeedback,parameters:a={},vertexArray:c=this.vertexArray}=e;let l;this.setAttributes(o),this.updateModuleSettings(t),this.setUniforms(r),Rn.priority>=2&&(l=this._logDrawCallStart(2));const d=this.vertexArray.getDrawParams(),{isIndexed:h=d.isIndexed,indexType:f=d.indexType,indexOffset:m=d.indexOffset,vertexArrayInstanced:g=d.isInstanced}=this.props;g&&!this.isInstanced&&Rn.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:b,instanceCount:v}=this,{onBeforeRender:D=l7,onAfterRender:N=l7}=this.props;D(),this.program.setUniforms(this.uniforms);const Z=this.program.draw(Object.assign(GAe,e,{logPriority:l,uniforms:null,framebuffer:i,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:c,transformFeedback:s,isIndexed:h,indexType:f,isInstanced:b,instanceCount:v,offset:h?m:0}));return N(),Rn.priority>=2&&this._logDrawCallEnd(l,c,i),Z}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:i,unbindModels:r=[]}=e;let{parameters:o}=e;i&&this._setFeedbackBuffers(i),t&&(o=Object.assign({},o,{35977:t})),r.forEach(s=>s.vertexArray.unbindBuffers());try{this.draw(Object.assign({},e,{parameters:o}))}finally{r.forEach(s=>s.vertexArray.bindBuffers())}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Rn.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!this._programDirty&&this.programManager.stateHash===this._programManagerState)return;let{program:t}=this.programProps;if(t)this._managedProgram=!1;else{const{vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}=this.programProps;t=this.programManager.get({vs:i,fs:r,modules:o,inject:s,defines:a,varyings:c,bufferMode:l,transpileToGLSL100:d}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}gn(t instanceof wW,"Model needs a program"),this._programDirty=!1,t!==this.program&&(this.program=t,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new RAe(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof Ar&&t.delete()}}_setAnimationProps(e){this.animated&&gn(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(F_(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new i7(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),Rn.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:Rn.level<=2})(),e}_logDrawCallEnd(e,t,i,r){if(void 0===e)return;const o=function PAe(n){let{vertexArray:e,header:t="Attributes"}=n;if(!e.configuration)return{};const i={};e.elements&&(i.ELEMENT_ARRAY_BUFFER=s7(e,e.elements,null,t));const r=e.values;for(const o in r){const s=e._getAttributeInfo(o);if(s){let a="".concat(o,": ").concat(s.name);const c=e.accessors[s.location];c&&(a="".concat(o,": ").concat(NAe(s.name,c))),i[a]=s7(e,r[o],c,t)}}return i}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:s,unusedTable:a,unusedCount:c}=a7({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i)}),{table:l,count:d}=a7({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,i),undefinedOnly:!0});d>0&&Rn.log("MISSING UNIFORMS",Object.keys(l))(),c>0&&Rn.log("UNUSED UNIFORMS",Object.keys(a))();const h=function LAe(n){const e={},t="Accessors for ".concat(n.id);for(const i of n.attributeInfos)if(i){const r=c7(i);e["in ".concat(r)]={[t]:JSON.stringify(i.accessor)}}for(const i of n.varyingInfos)if(i){const r=c7(i);e["out ".concat(r)]={[t]:JSON.stringify(i.accessor)}}return e}(this.vertexArray.configuration);Rn.table(e,o)(),Rn.table(e,s)(),Rn.table(e+1,h)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),Rn.groupEnd(2)()}}class yN{static isSupported(e){return Oi(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:i}=this;e&&e.delete(),t&&t.delete(),i&&i.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,i=this._updateDrawOptions(e);t&&i.framebuffer&&i.framebuffer.clear({color:!0}),this.model.transform(i)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)e=e||i.swap();gn(e,"Nothing to swap")}getBuffer(){return this.bufferTransform&&this.bufferTransform.getBuffer(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t){const r=i.getData(e);if(r)return r}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const i of t)i.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new q_(t,Object.assign({},e,{fs:e.fs||n7({version:r7(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=r.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function WAe(n){return!(F_(n.feedbackBuffers)&&F_(n.feedbackMap)&&!(n.varyings&&n.varyings.length>0))})(t)&&(this.bufferTransform=new fAe(e,t)),function $Ae(n){return!(F_(n._sourceTextures)&&!n._targetTexture&&!n._targetTextureVarying)}(t)&&(this.textureTransform=new CAe(e,t)),gn(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const i=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of i)t=Object.assign(t,r.getDrawOptions(t));return t}}const eSe={interpolation:class qAe{constructor({gl:e,attribute:t,timeline:i}){pe(this,"gl",void 0),pe(this,"type","interpolation"),pe(this,"attributeInTransition",void 0),pe(this,"settings",void 0),pe(this,"attribute",void 0),pe(this,"transition",void 0),pe(this,"currentStartIndices",void 0),pe(this,"currentLength",void 0),pe(this,"transform",void 0),pe(this,"buffers",void 0),this.gl=e,this.transition=new D0(i),this.attribute=t,this.attributeInTransition=new _N(e,t.settings),this.currentStartIndices=t.startIndices,this.currentLength=0,this.transform=function YAe(n,e){const t=J$(e.size);return new yN(n,{vs:"\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n",defines:{ATTRIBUTE_TYPE:t},varyings:["vCurrent"]})}(e,t);const r={byteLength:0,usage:35050};this.buffers=[new Ar(e,r),new Ar(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{buffers:r,attribute:o}=this;Q$(r);const s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)Z$({buffer:a,...s});this.currentStartIndices=o.startIndices,this.currentLength=gN(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aFrom:r[0],aTo:K$(0,o)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:t,easing:i}=this.settings,{time:r}=this.transition;let o=r/t;i&&(o=i(o)),this.transform.run({uniforms:{time:o}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class KAe{constructor({gl:e,attribute:t,timeline:i}){pe(this,"gl",void 0),pe(this,"type","spring"),pe(this,"attributeInTransition",void 0),pe(this,"settings",void 0),pe(this,"attribute",void 0),pe(this,"transition",void 0),pe(this,"currentStartIndices",void 0),pe(this,"currentLength",void 0),pe(this,"texture",void 0),pe(this,"framebuffer",void 0),pe(this,"transform",void 0),pe(this,"buffers",void 0),this.gl=e,this.type="spring",this.transition=new D0(i),this.attribute=t,this.attributeInTransition=new _N(e,{...t.settings,normalized:!1}),this.currentStartIndices=t.startIndices,this.currentLength=0,this.texture=function QAe(n){return new Vs(n,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(e),this.framebuffer=function ZAe(n,e){return new os(n,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:e}})}(e,this.texture),this.transform=function JAe(n,e,t){const i=J$(e.size);return new yN(n,{framebuffer:t,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:i},varyings:["vNext"]})}(e,t,this.framebuffer);const r={byteLength:0,usage:35050};this.buffers=[new Ar(e,r),new Ar(e,r),new Ar(e,r)]}get inProgress(){return this.transition.inProgress}start(e,t){const{buffers:r,attribute:o}=this,s={numInstances:t,attribute:o,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)Z$({buffer:a,...s});this.settings=e,this.currentStartIndices=o.startIndices,this.currentLength=gN(o,t),this.attributeInTransition.setData({buffer:r[1],value:o.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/o.size),sourceBuffers:{aTo:K$(0,o)}})}update(){const{buffers:e,transform:t,framebuffer:i,transition:r}=this;if(!r.update())return!1;const s=this.settings;return t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:i,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:s.stiffness,damping:s.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),Q$(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value}),HA(i)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class tSe{constructor(e,{id:t,timeline:i}){pe(this,"id",void 0),pe(this,"isSupported",void 0),pe(this,"gl",void 0),pe(this,"timeline",void 0),pe(this,"transitions",void 0),pe(this,"needsRedraw",void 0),pe(this,"numInstances",void 0),this.id=t,this.gl=e,this.timeline=i,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=yN.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:t,numInstances:i}){this.numInstances=i||1;for(const r in e){const o=e[r],s=o.getTransitionSetting(t);s&&this._updateAttribute(r,o,s)}for(const r in this.transitions){const o=e[r];(!o||!o.getTransitionSetting(t))&&this._removeTransition(r)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const i=this.transitions[t];i.inProgress&&(e[t]=i.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const t in this.transitions)this.transitions[t].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,i){const r=this.transitions[e];let o=!r||r.type!==i.type;if(o){if(!this.isSupported)return void ji.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const s=eSe[i.type];s?this.transitions[e]=new s({attribute:t,timeline:this.timeline,gl:this.gl}):(ji.error("unsupported transition type '".concat(i.type,"'"))(),o=!1)}(o||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(i,this.numInstances))}}const d7="attributeManager.invalidate";class aSe{constructor(e,{id:t="attribute-manager",stats:i,timeline:r}={}){pe(this,"id",void 0),pe(this,"gl",void 0),pe(this,"attributes",void 0),pe(this,"updateTriggers",void 0),pe(this,"needsRedraw",void 0),pe(this,"userData",void 0),pe(this,"stats",void 0),pe(this,"attributeTransitionManager",void 0),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=i,this.attributeTransitionManager=new tSe(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const i=this._invalidateTrigger(e,t);wa(d7,this,e,i)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);wa(d7,this,"all")}update({data:e,numInstances:t,startIndices:i=null,transitions:r,props:o={},buffers:s={},context:a={}}){let c=!1;wa("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const l in this.attributes){const d=this.attributes[l],h=d.settings.accessor;d.startIndices=i,d.numInstances=t,o[l]&&ji.removed("props.".concat(l),"data.attributes.".concat(l))(),d.setExternalBuffer(s[l])||d.setBinaryValue("string"==typeof h?s[h]:void 0,e.startIndices)||"string"==typeof h&&!s[h]&&d.setConstantValue(o[h])||d.needsUpdate()&&(c=!0,this._updateAttribute({attribute:d,numInstances:t,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||d.needsRedraw()}c&&wa("attributeManager.updateEnd",this,t),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:t,transitions:r})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:t,attributeTransitionManager:i}=this,r={...i.getAttributes()};for(const o in t){const s=t[o];s.needsRedraw(e)&&!i.hasAttribute(o)&&(r[o]=s)}return r}getShaderAttributes(e,t={}){e||(e=this.getAttributes());const i={};for(const r in e)t[r]||Object.assign(i,e[r].getShaderAttributes());return i}_add(e,t={}){for(const i in e)this.attributes[i]=this._createAttribute(i,e[i],t);this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,i){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:i.instanced?1:t.divisor||0};return new _N(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes)this.attributes[t].getUpdateTriggers().forEach(r=>{e[r]||(e[r]=[]),e[r].push(t)});this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:i,updateTriggers:r}=this,o=r[e];return o&&o.forEach(s=>{const a=i[s];a&&a.setNeedsUpdate(a.id,t)}),o}_updateAttribute(e){const{attribute:t,numInstances:i}=e;wa("attribute.updateStart",t),t.constant?t.setConstantValue(t.value):(t.allocate(i)&&wa("attribute.allocate",t,i),t.updateBuffer(e)&&(this.needsRedraw=!0,wa("attribute.updateEnd",t,i)))}}function h7(n,e,t,i,r){const o=e-n;return(t-e)*r+-o*i+o+e}function f7(n,e){if(Array.isArray(n)){let t=0;for(let i=0;i<n.length;i++){const r=n[i]-e[i];t+=r*r}return Math.sqrt(t)}return Math.abs(n-e)}const uSe={interpolation:class cSe extends D0{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:i,duration:r,easing:o}}=this,s=o(e/r);this._value=EA(t,i,s)}},spring:class dSe extends D0{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:i,stiffness:r}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=function lSe(n,e,t,i,r){if(Array.isArray(t)){const o=[];for(let s=0;s<t.length;s++)o[s]=h7(n[s],e[s],t[s],i,r);return o}return h7(n,e,t,i,r)}(o,s,t,i,r);const c=f7(a,t),l=f7(a,s);c<1e-5&&l<1e-5&&(a=t,this.end()),this._prevValue=s,this._currValue=a}}};class hSe{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,i,r){const{transitions:o}=this;if(o.has(e)){const c=o.get(e),{value:l=c.settings.fromValue}=c;t=l,this.remove(e)}if(!(r=Y$(r)))return;const s=uSe[r.type];if(!s)return void ji.error("unsupported transition type '".concat(r.type,"'"))();const a=new s(this.timeline);a.start({...r,fromValue:t,toValue:i}),o.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,i]of this.transitions)i.update(),e[t]=i.value,i.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function mSe(n,e){if(!n.transitions)return!1;const t={},i=wN(n);let r=!1;for(const o in n.transitions){const s=i[o],a=s&&s.type;("number"===a||"color"===a||"array"===a)&&vN(n[o],e[o],s)&&(t[o]=!0,r=!0)}return!!r&&t}function p7({newProps:n,oldProps:e,ignoreProps:t={},propTypes:i={},triggerName:r="props"}){if(e===n)return!1;if("object"!=typeof n||null===n||"object"!=typeof e||null===e)return"".concat(r," changed shallowly");for(const o of Object.keys(n))if(!(o in t)){if(!(o in e))return"".concat(r,".").concat(o," added");const s=vN(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}for(const o of Object.keys(e))if(!(o in t)){if(!(o in n))return"".concat(r,".").concat(o," dropped");if(!Object.hasOwnProperty.call(n,o)){const s=vN(n[o],e[o],i[o]);if(s)return"".concat(r,".").concat(o," ").concat(s)}}return!1}function vN(n,e,t){let i=t&&t.equal;return i&&!i(n,e,t)||!i&&(i=n&&e&&n.equals,i&&!i.call(n,e))?"changed deeply":i||e===n?null:"changed shallowly"}function bSe(n,e){if(null===e)return!0;const t=e.extensions,{extensions:i}=n;if(i===t)return!1;if(!t||!i||i.length!==t.length)return!0;for(let r=0;r<i.length;r++)if(!i[r].equals(t[r]))return!0;return!1}function m7(n,e,t){let i=n.updateTriggers[t];i=i??{};let r=e.updateTriggers[t];return r=r??{},p7({oldProps:r,newProps:i,triggerName:t})}function wN(n){const e=n[YA],t=e&&e.constructor;return t?t._propTypes:{}}function CSe(n,e){if(!e)return n;const t={...n,...e};if("defines"in e&&(t.defines={...n.defines,...e.defines}),"modules"in e&&(t.modules=(n.modules||[]).concat(e.modules),e.modules.some(i=>"project64"===i.name))){const i=t.modules.findIndex(r=>"project32"===r.name);i>=0&&t.modules.splice(i,1)}if("inject"in e)if(n.inject){const i={...n.inject};for(const r in e.inject)i[r]=(i[r]||"")+e.inject[r];t.inject=i}else t.inject=e.inject;return t}function xN(n,e,t=!1){const i=e.projectPosition(n);if(t&&e instanceof tf){const[r,o,s=0]=n,a=e.getDistanceScales([r,o]);i[2]=s*a.unitsPerMeter[2]}return i}function g7(n,{viewport:e,modelMatrix:t,coordinateSystem:i,coordinateOrigin:r,offsetMode:o}){let[s,a,c=0]=n;switch(t&&([s,a,c]=T0([],[s,a,c,1],t)),i){case Xi.LNGLAT:return xN([s,a,c],e,o);case Xi.LNGLAT_OFFSETS:return xN([s+r[0],a+r[1],c+(r[2]||0)],e,o);case Xi.METER_OFFSETS:return xN(e9(r,[s,a,c]),e,o);default:return e.isGeospatial?[s+r[0],a+r[1],c+r[2]]:e.projectPosition([s,a,c])}}const TSe={10241:9987,10240:9729,10242:33071,10243:33071},EN={},DSe={boolean:{validate:(n,e)=>!0,equal:(n,e,t)=>!!n==!!e},number:{validate:(n,e)=>Number.isFinite(n)&&(!("max"in e)||n<=e.max)&&(!("min"in e)||n>=e.min)},color:{validate:(n,e)=>e.optional&&!n||Y0(n)&&(3===n.length||4===n.length),equal:(n,e,t)=>CN(n,e)},accessor:{validate(n,e){const t=uS(n);return"function"===t||t===uS(e.value)},equal:(n,e,t)=>"function"==typeof e||CN(n,e)},array:{validate:(n,e)=>e.optional&&!n||Y0(n),equal:(n,e,t)=>t.compare?CN(n,e):n===e},object:{equal:(n,e,t)=>t.compare?R_(n,e):n===e},function:{validate:(n,e)=>e.optional&&!n||"function"==typeof n,equal:(n,e,t)=>!t.compare||n===e},data:{transform:(n,e,t)=>{const{dataTransform:i}=t.props;return i&&n?i(n):n}},image:{transform:(n,e,t)=>function MSe(n,e){const t=n.context&&n.context.gl;if(!t||!e)return null;if(e instanceof Vs)return e;e.constructor&&"Object"!==e.constructor.name&&(e={data:e});let i=null;e.compressed&&(i={10241:e.data.length>1?9985:9729});const r=new Vs(t,{...e,parameters:{...TSe,...i,...n.props.textureParameters}});return EN[r.id]=!0,r}(t,n),release:n=>{!function ISe(n){!n||!(n instanceof Vs)||EN[n.id]&&(n.delete(),delete EN[n.id])}(n)}}};function CN(n,e){if(n===e)return!0;if(!Y0(n)||!Y0(e))return!1;const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function RSe(n,e){switch(uS(e)){case"object":return X0(n,e);case"array":return X0(n,{type:"array",value:e,compare:!1});case"boolean":return X0(n,{type:"boolean",value:e});case"number":return X0(n,{type:"number",value:e});case"function":return X0(n,{type:"function",value:e,compare:!0});default:return{name:n,type:"unknown",value:e}}}function X0(n,e){return"type"in e?{name:n,...DSe[e.type],...e}:"value"in e?{name:n,type:uS(e.value),...e}:{name:n,type:"object",value:e}}function Y0(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function uS(n){return Y0(n)?"array":null===n?"null":typeof n}function _7(n){return hS(n,"_mergedDefaultProps")||(function PSe(n){if(!n.prototype)return;const t=Object.getPrototypeOf(n),i=_7(t),o=function OSe(n){const e={},t={},i={};for(const[r,o]of Object.entries(n)){const s=o?.deprecatedFor;if(s)i[r]=Array.isArray(s)?s:[s];else{const a=RSe(r,o);e[r]=a,t[r]=a.value}}return{propTypes:e,defaultProps:t,deprecatedProps:i}}(hS(n,"defaultProps")||{}),s=function NSe(n,e,t){const i=Object.create(null);Object.assign(i,e,n);const r=function jSe(n){const e=hS(n,"layerName")||hS(n,"componentName");return e||ji.once(0,"".concat(n.name,".componentName not specified"))(),e||n.name}(t);return delete n.id,Object.defineProperties(i,{id:{writable:!0,value:r}}),i}(o.defaultProps,i,n),a={...t._propTypes,...o.propTypes};!function LSe(n,e){const t={},i={};for(const r in e){const o=e[r],{name:s,value:a}=o;o.async&&(t[s]=a,i[s]=BSe(s))}n[z_]=t,n[qp]={},Object.defineProperties(n,i)}(s,a);const c={...t._deprecatedProps,...o.deprecatedProps};(function FSe(n,e){for(const t in e)Object.defineProperty(n,t,{enumerable:!1,set(i){const r="".concat(this.id,": ").concat(t);for(const o of e[t])b7(this,o)||(this[o]=i);ji.deprecated(r,e[t].join("/"))()}})})(s,c),n._mergedDefaultProps=s,n._propTypes=a,n._deprecatedProps=c}(n),n._mergedDefaultProps)}function BSe(n){return{enumerable:!0,set(e){"string"==typeof e||e instanceof Promise||X$(e)?this[qp][n]=e:this[Qh][n]=e},get(){if(this[Qh]){if(n in this[Qh])return this[Qh][n]||this[z_][n];if(n in this[qp]){const e=this[YA]&&this[YA].internalState;if(e&&e.hasAsyncProp(n))return e.getAsyncProp(n)||this[z_][n]}}return this[z_][n]}}}function b7(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function hS(n,e){return b7(n,e)&&n[e]}let USe=0;class AN{constructor(...e){pe(this,"id",void 0),pe(this,"props",void 0),pe(this,"count",void 0),this.props=function kSe(n,e){const t=_7(n.constructor),i=Object.create(t);i[YA]=n,i[qp]={},i[Qh]={};for(let r=0;r<e.length;++r){const o=e[r];for(const s in o)i[s]=o[s]}return Object.freeze(i),i}(this,e),this.id=this.props.id,this.count=USe++}clone(e){const{props:t}=this,i={};for(const r in t[z_])r in t[Qh]?i[r]=t[Qh][r]:r in t[qp]&&(i[r]=t[qp][r]);return new this.constructor({...t,...i,...e})}}pe(AN,"componentName","Component"),pe(AN,"defaultProps",{});const VSe=Object.freeze({});class zSe{constructor(e){pe(this,"component",void 0),pe(this,"onAsyncPropUpdated",void 0),pe(this,"asyncProps",void 0),pe(this,"oldProps",void 0),pe(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||VSe}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return!!(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[Qh]||{},i=e[qp]||e,r=e[z_]||{};for(const o in t){const s=t[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s),t[o]=this.getAsyncProp(o)}for(const o in i){const s=i[o];this._createAsyncPropData(o,r[o]),this._updateAsyncProp(o,s)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){if(this._didAsyncInputValueChange(e,t)){if("string"==typeof t&&(t=this._fetch(e,t)),t instanceof Promise)return void this._watchPromise(e,t);if(X$(t))return void this._resolveAsyncIterable(e,t);this._setPropValue(e,t)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const i=this.asyncProps[e];return t!==i.resolvedValue&&t!==i.lastValue&&(i.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const i=this.asyncProps[e];i&&(t=this._postProcessValue(i,t),i.resolvedValue=t,i.pendingLoadCount++,i.resolvedLoadCount=i.pendingLoadCount)}_setAsyncPropValue(e,t,i){const r=this.asyncProps[e];r&&i>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=i,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const i=this.asyncProps[e];if(i){i.pendingLoadCount++;const r=i.pendingLoadCount;t.then(o=>{o=this._postProcessValue(i,o),this._setAsyncPropValue(e,o,r),this._onResolve(e,o)}).catch(o=>{this._onError(e,o)})}}_resolveAsyncIterable(e,t){var i=this;return R(function*(){if("data"!==e)return void i._setPropValue(e,t);const r=i.asyncProps[e];if(!r)return;r.pendingLoadCount++;const o=r.pendingLoadCount;let s=[],a=0;var d,c=!1,l=!1;try{for(var f,h=k2(t);c=!(f=yield h.next()).done;c=!1){const m=f.value;{const{dataTransform:g}=i.component.props;s=g?g(m,s):s.concat(m),Object.defineProperty(s,"__diff",{enumerable:!1,value:[{startRow:a,endRow:s.length}]}),a=s.length,i._setAsyncPropValue(e,s,o)}}}catch(m){l=!0,d=m}finally{try{c&&null!=h.return&&(yield h.return())}finally{if(l)throw d}}i._onResolve(e,s)})()}_postProcessValue(e,t){const i=e.type;return i&&(i.release&&i.release(e.resolvedValue,i,this.component),i.transform)?i.transform(t,i,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const r=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:r&&r[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class HSe extends zSe{constructor({attributeManager:e,layer:t}){super(t),pe(this,"attributeManager",void 0),pe(this,"needsRedraw",void 0),pe(this,"needsUpdate",void 0),pe(this,"subLayers",void 0),pe(this,"usesPickingColorCache",void 0),pe(this,"changeFlags",void 0),pe(this,"viewport",void 0),pe(this,"uniformTransitions",void 0),pe(this,"propsInTransition",void 0),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}_fetch(e,t){const i=this.component.props.fetch;return i?i(t,{propName:e,layer:this.layer}):super._fetch(e,t)}_onResolve(e,t){const i=this.component.props.onDataLoad;"data"===e&&i&&i(t,{propName:e,layer:this.layer})}_onError(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}const YSe=Object.freeze([]),KSe=XA(({oldViewport:n,viewport:e})=>n.equals(e));let Id=new Uint8ClampedArray(0);const JSe={data:{type:"data",value:YSe,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:n=>n&&n.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(n,{propName:e,layer:t,loaders:i,loadOptions:r,signal:o})=>{const{resourceManager:s}=t.context;var a;r=r||t.getLoadOptions(),i=i||t.props.loaders,o&&(r={...r,fetch:{...null===(a=r)||void 0===a?void 0:a.fetch,signal:o}});let c=s.contains(n);return!c&&!r&&(s.add({resourceId:n,data:H0(n,i),persistent:!1}),c=!0),c?s.subscribe({resourceId:n,onChange:l=>{var d;return null===(d=t.internalState)||void 0===d?void 0:d.reloadAsyncProp(e,l)},consumerId:t.id,requestId:e}):H0(n,i,r)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:Xi.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:({layerIndex:n})=>[0,100*-n],compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class Yp extends AN{constructor(...e){super(...e),pe(this,"internalState",null),pe(this,"lifecycle","Awaiting state"),pe(this,"context",void 0),pe(this,"state",void 0),pe(this,"parent",null)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return"".concat(this.constructor.layerName||this.constructor.name,"({id: '").concat(this.props.id,"'})")}project(e){Us(this.internalState);const t=this.internalState.viewport||this.context.viewport,i=g7(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,o,s]=n9(i,t.pixelProjectionMatrix);return 2===e.length?[r,o]:[r,o,s]}unproject(e){return Us(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){return Us(this.internalState),function SSe(n,e){const{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=function ASe(n){const{viewport:e,modelMatrix:t,coordinateOrigin:i}=n;let{coordinateSystem:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}=n;return r===Xi.DEFAULT&&(r=e.isGeospatial?Xi.LNGLAT:Xi.CARTESIAN),void 0===o&&(o=r),void 0===s&&(s=i),{viewport:e,coordinateSystem:r,coordinateOrigin:i,modelMatrix:t,fromCoordinateSystem:o,fromCoordinateOrigin:s}}(e),{geospatialOrigin:c,shaderCoordinateOrigin:l,offsetMode:d}=IW(t,i,r),h=g7(n,{viewport:t,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:d});d&&function ube(n,e,t){n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2]}(h,h,t.projectPosition(c||l));return h}(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===Xi.DEFAULT||e===Xi.LNGLAT||e===Xi.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,t=[]){return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){Us(e instanceof Uint8Array);const[t,i,r]=e;return t+256*i+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:function wSe(n){if(!function ESe(n){return null!==n&&"object"==typeof n}(n))throw new Error("count(): argument not an object");if("function"==typeof n.count)return n.count();if(Number.isFinite(n.size))return n.size;if(Number.isFinite(n.length))return n.length;if(function xSe(n){return null!==n&&"object"==typeof n&&n.constructor===Object}(n))return Object.keys(n).length;throw new Error("count(): argument not a container")}(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;const t=this.getAttributeManager();if(!t)return null;const{positions:i,instancePositions:r}=t.attributes;return null===(e=i||r)||void 0===e?void 0:e.getBounds()}getShaders(e){for(const t of this.props.extensions)e=CSe(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:i}=e.changeFlags;if(i&&t)if(Array.isArray(i))for(const c of i)t.invalidateAll(c);else t.invalidateAll();const{props:r,oldProps:o}=e,s=Number.isInteger(o.highlightedObjectIndex)||o.pickable,a=Number.isInteger(r.highlightedObjectIndex)||r.pickable;if(s!==a&&t){const{pickingColors:c,instancePickingColors:l}=t.attributes,d=c||l;d&&(a&&d.constant&&(d.constant=!1,t.invalidate(d.id)),!d.value&&!a&&(d.constant=!0,d.value=[0,0,0]))}}finalizeState(e){for(const i of this.getModels())i.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo({info:e}){const{index:r}=e;return r>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[r]),e}raiseError(e,t){var i,r,o,s;t&&(e.message="".concat(t,": ").concat(e.message)),null!==(i=(r=this.props).onError)&&void 0!==i&&i.call(r,e)||null===(o=this.context)||void 0===o||null===(s=o.onError)||void 0===s||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,(!t||!KSe({oldViewport:t,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,i=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:i,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),i=Object.create(this.props);for(const r in t)Object.defineProperty(i,r,{value:t[r]});return i}return this.props}calculateInstancePickingColors(e,{numInstances:t}){if(e.constant)return;const i=Math.floor(Id.length/3);if(this.internalState.usesPickingColorCache=!0,i<t){t>16777215&&ji.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),Id=C0.allocate(Id,t,{size:3,copy:!0,maxCount:Math.max(t,16777215)});const r=Math.floor(Id.length/3),o=[];for(let s=i;s<r;s++)this.encodePickingColor(s,o),Id[3*s+0]=o[0],Id[3*s+1]=o[1],Id[3*s+2]=o[2]}e.value=Id.subarray(0,3*t)}_setModelAttributes(e,t){const o=this.getAttributeManager().getShaderAttributes(t,e.userData.excludeAttributes||{});e.setAttributes(o)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:i}=this.getAttributeManager().attributes,r=t||i;if(!r)return;const o=r.getVertexOffset(e),s=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(s-o),offset:o})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,i=e||t;i&&(this.internalState.usesPickingColorCache&&i.value.buffer!==Id.buffer&&(i.value=Id.subarray(0,i.value.length)),i.updateSubBuffer({startOffset:0}))}_initialize(){Us(!this.internalState),Us(Number.isFinite(this.props.coordinateSystem)),wa("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new HSe({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(ji.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new hSe(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){wa("layer.matched",this,this===e);const{state:t,internalState:i}=e;this!==e&&(this.internalState=i,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(wa("layer.update",this,e),!e)return;const t=this.props,i=this.context,r=this.internalState,o=i.viewport,s=this._updateUniformTransition();r.propsInTransition=s,i.viewport=r.viewport||o,this.props=s;try{const a=this._getUpdateParams(),c=this.getModels();if(i.gl)this.updateState(a);else try{this.updateState(a)}catch{}for(const d of this.props.extensions)d.updateState.call(this,a,d);const l=this.getModels()[0]!==c[0];this._postUpdate(a,l)}finally{i.viewport=o,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){wa("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}_drawLayer({moduleParameters:e=null,uniforms:t={},parameters:i={}}){this._updateAttributeTransition();const r=this.props,o=this.context;this.props=this.internalState.propsInTransition||r,t.opacity=Math.pow(this.props.opacity,1/2.2);try{e&&this.setModuleParameters(e);const{getPolygonOffset:a}=this.props,c=a&&a(t)||[0,0];Ru(o.gl,{polygonOffset:c}),ol(o.gl,i,()=>{const l={moduleParameters:e,uniforms:t,parameters:i,context:o};for(const d of this.props.extensions)d.draw.call(this,l,d);this.draw(l)})}finally{this.props=r}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let o=!1;if("dataChanged"===r){const s=e[r],a=t[r];s&&Array.isArray(a)&&(t.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0)}t[r]||(t[r]=e[r],o=!0),o&&wa("layer.changeFlag",this,r,e)}const i=!!(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=i,t.somethingChanged=i||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const i=function pSe(n,e){const t=p7({newProps:n,oldProps:e,propTypes:wN(n),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),i=function gSe(n,e){if(null===e)return"oldProps is null, initial diff";let t=!1;const{dataComparator:i,_dataDiff:r}=n;return i?i(n.data,e.data)||(t="Data comparator detected a change"):n.data!==e.data&&(t="A new data container was supplied"),t&&r&&(t=r(n.data,e.data)||t),t}(n,e);let r=!1;return i||(r=function _Se(n,e){if(null===e)return{all:!0};if("all"in n.updateTriggers&&m7(n,e,"all"))return{all:!0};const t={};let i=!1;for(const r in n.updateTriggers)"all"!==r&&m7(n,e,r)&&(t[r]=!0,i=!0);return!!i&&t}(n,e)),{dataChanged:i,propsChanged:t,updateTriggersChanged:r,extensionsChanged:bSe(n,e),transitionsChanged:mSe(n,e)}}(e,t);if(i.updateTriggersChanged)for(const o in i.updateTriggersChanged)i.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(i.transitionsChanged)for(const o in i.transitionsChanged){var r;this.internalState.uniformTransitions.add(o,t[o],e[o],null===(r=e.transitions)||void 0===r?void 0:r[o])}return this.setChangeFlags(i)}validateProps(){!function fSe(n){const e=wN(n);for(const t in e){const i=e[t],{validate:r}=i;if(r&&!r(n[t],i))throw new Error("Invalid prop ".concat(t,": ").concat(n[t]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:i}=this.props;e.picked&&"function"==typeof i&&(t.pickingHighlightColor=i(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new aSe(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:i,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:o}=this.state;o?.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:c}=i;if(t||r.autoHighlight!==s||r.highlightedObjectIndex!==a||r.highlightColor!==c){const l={};s||(l.pickingSelectedColor=null),Array.isArray(c)&&(l.pickingHighlightColor=c),(t||a!==r.highlightedObjectIndex)&&(l.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(l)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const i=this.getAttributeManager(),r=!!i&&i.getNeedsRedraw(e);return t=t||r,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}pe(Yp,"defaultProps",JSe),pe(Yp,"layerName","Layer");class SN extends Yp{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:t}=e;return t&&t.__source&&t.__source.parent&&t.__source.parent.id===this.id&&(e.object=t.__source.object,e.index=t.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:i}=this.props;return i&&i[e]&&i[e].type||t}getSubLayerRow(e,t,i){return e.__source={parent:this,object:t,index:i},e}getSubLayerAccessor(e){if("function"==typeof e){const t={index:-1,data:this.props.data,target:[]};return(i,r)=>i&&i.__source?(t.index=i.__source.index,e(i.__source.object,t)):e(i,r)}return e}getSubLayerProps(e={}){var t;const{opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:m,positionFormat:g,modelMatrix:b,extensions:v,fetch:D,operation:N,_subLayerProps:Z}=this.props,G={id:"",updateTriggers:{},opacity:i,pickable:r,visible:o,parameters:s,getPolygonOffset:a,highlightedObjectIndex:c,autoHighlight:l,highlightColor:d,coordinateSystem:h,coordinateOrigin:f,wrapLongitude:m,positionFormat:g,modelMatrix:b,extensions:v,fetch:D,operation:N},Oe=Z&&e.id&&Z[e.id],ze=Oe&&Oe.updateTriggers,st=e.id||"sublayer";if(Oe){const pt=this.constructor._propTypes,Je=e.type?e.type._propTypes:{};for(const yt in Oe){const Pt=Je[yt]||pt[yt];Pt&&"accessor"===Pt.type&&(Oe[yt]=this.getSubLayerAccessor(Oe[yt]))}}Object.assign(G,e,Oe),G.id="".concat(this.props.id,"-").concat(st),G.updateTriggers={all:null===(t=this.props.updateTriggers)||void 0===t?void 0:t.all,...e.updateTriggers,...ze};for(const pt of v){const Je=pt.getSubLayerProps.call(this,pt);Je&&Object.assign(G,Je,{updateTriggers:Object.assign(G.updateTriggers,Je.updateTriggers)})}return G}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let i=this.internalState.subLayers;const r=!i||this.needsUpdate();r&&(i=f2(this.renderLayers(),Boolean),this.internalState.subLayers=i),wa("compositeLayer.renderLayers",this,r,i);for(const o of i)o.parent=this}}pe(SN,"layerName","CompositeLayer");const fS={name:"project32",dependencies:[l2],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"},ZSe={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1},pS={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:#decl":"\nuniform bool picking_uAttribute;\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function eTe(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ZSe;const e={};if(void 0!==n.pickingSelectedColor)if(n.pickingSelectedColor){const t=n.pickingSelectedColor.slice(0,3);e.picking_uSelectedColorValid=1,e.picking_uSelectedColor=t}else e.picking_uSelectedColorValid=0;if(n.pickingHighlightColor){const t=Array.from(n.pickingHighlightColor,i=>i/255);Number.isFinite(t[3])||(t[3]=1),e.picking_uHighlightColor=t}return void 0!==n.pickingActive&&(e.picking_uActive=!!n.pickingActive,e.picking_uAttribute=!!n.pickingAttribute),e}},v7={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class nf{static get DRAW_MODE(){return v7}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=oc("geometry"),drawMode:i=v7.TRIANGLES,attributes:r={},indices:o=null,vertexCount:s=null}=e;this.id=t,this.drawMode=0|i,this.attributes={},this.userData={},this._setAttributes(r,o),this.vertexCount=s||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const i in e){let r=e[i];r=ArrayBuffer.isView(r)?{value:r}:r,gn(ArrayBuffer.isView(r.value),"".concat(this._print(i),": must be typed array or object with value as typed array")),("POSITION"===i||"positions"===i)&&!r.size&&(r.size=3),"indices"===i?(gn(!this.indices),this.indices=r):this.attributes[i]=r}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let i=1/0;for(const r in e){const o=e[r],{value:s,size:a,constant:c}=o;!c&&s&&a>=1&&(i=Math.min(i,s.length/a))}return gn(Number.isFinite(i)),i}}const w7=()=>{},x7={10241:9987,10240:9729,10242:33071,10243:33071};function oTe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function sTe(n,e,t,i){return t===e.width&&i===e.height?e:(n.canvas.height=i,n.canvas.width=t,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.drawImage(e,0,0,e.width,e.height,0,0,t,i),n.canvas)}function K0(n){return n&&(n.id||n.url)}function E7(n,e,t){for(let i=0;i<e.length;i++){const{icon:r,xOffset:o}=e[i];n[K0(r)]={...r,x:o,y:t}}}class dTe{constructor(e,{onUpdate:t=w7,onError:i=w7}){pe(this,"gl",void 0),pe(this,"onUpdate",void 0),pe(this,"onError",void 0),pe(this,"_loadOptions",null),pe(this,"_texture",null),pe(this,"_externalTexture",null),pe(this,"_mapping",{}),pe(this,"_textureParameters",null),pe(this,"_pendingCount",0),pe(this,"_autoPacking",!1),pe(this,"_xOffset",0),pe(this,"_yOffset",0),pe(this,"_rowHeight",0),pe(this,"_buffer",4),pe(this,"_canvasWidth",1024),pe(this,"_canvasHeight",0),pe(this,"_canvas",null),this.gl=e,this.onUpdate=t,this.onError=i}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?K0(e):e;return this._mapping[t]||{}}setProps({loadOptions:e,autoPacking:t,iconAtlas:i,iconMapping:r,textureParameters:o}){var s;e&&(this._loadOptions=e),void 0!==t&&(this._autoPacking=t),r&&(this._mapping=r),i&&(null===(s=this._texture)||void 0===s||s.delete(),this._texture=null,this._externalTexture=i),o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||typeof document>"u")return;const i=Object.values(function lTe(n,e,t){if(!n||!e)return null;t=t||{};const i={},{iterable:r,objectInfo:o}=aS(n);for(const s of r){o.index++;const a=e(s,o),c=K0(a);if(!a)throw new Error("Icon is missing.");if(!a.url)throw new Error("Icon url is missing.");!i[c]&&(!t[c]||a.url!==t[c].url)&&(i[c]={...a,source:s,sourceIndex:o.index})}return i}(e,t,this._mapping)||{});if(i.length>0){const{mapping:r,xOffset:o,yOffset:s,rowHeight:a,canvasHeight:c}=function cTe({icons:n,buffer:e,mapping:t={},xOffset:i=0,yOffset:r=0,rowHeight:o=0,canvasWidth:s}){let a=[];for(let c=0;c<n.length;c++){const l=n[c];if(!t[K0(l)]){const{height:h,width:f}=l;i+f+e>s&&(E7(t,a,r),i=0,r=o+r+e,o=0,a=[]),a.push({icon:l,xOffset:i}),i=i+f+e,o=Math.max(o,h)}}return a.length>0&&E7(t,a,r),{mapping:t,rowHeight:o,xOffset:i,yOffset:r,canvasWidth:s,canvasHeight:oTe(o+r+e)}}({icons:i,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=a,this._mapping=r,this._xOffset=o,this._yOffset=s,this._canvasHeight=c,this._texture||(this._texture=new Vs(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||x7})),this._texture.height!==this._canvasHeight&&(this._texture=function aTe(n,e,t,i){const r=n.width,o=n.height,s=new Vs(n.gl,{width:e,height:t,parameters:i});return function W0e(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:i=0,sourceY:r=0,targetMipmaplevel:o=0,targetInternalFormat:s=6408}=t;let{targetX:a,targetY:c,targetZ:l,width:d,height:h}=t;const{framebuffer:f,deleteFramebuffer:m}=L0(n);gn(f);const{gl:g,handle:b}=f,v=typeof a<"u"||typeof c<"u"||typeof l<"u";a=a||0,c=c||0,l=l||0;const D=g.bindFramebuffer(36160,b);gn(e);let N=null;if(e instanceof Wp&&(N=e,d=Number.isFinite(d)?d:N.width,h=Number.isFinite(h)?h:N.height,N.bind(0),e=N.target),v)switch(e){case 3553:case 34067:g.copyTexSubImage2D(e,o,a,c,i,r,d,h);break;case 35866:case 32879:ya(g).copyTexSubImage3D(e,o,a,c,l,i,r,d,h)}else g.copyTexImage2D(e,o,s,i,r,d,h,0);N&&N.unbind(),g.bindFramebuffer(36160,D||null),m&&f.delete()}(n,s,{targetY:0,width:r,height:o}),n.delete(),s}(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||x7)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(i)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const i of e)this._pendingCount++,H0(i.url,S$,this._loadOptions).then(r=>{const o=K0(i),{x:s,y:a,width:c,height:l}=this._mapping[o],d=sTe(t,r,c,l);this._texture.setSubImageData({data:d,x:s,y:a,width:c,height:l}),this._texture.generateMipmap(),this.onUpdate()}).catch(r=>{this.onError({url:i.url,source:i.source,sourceIndex:i.sourceIndex,loadOptions:this._loadOptions,error:r})}).finally(()=>{this._pendingCount--})}}const C7=[0,0,0,255],uTe={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:n=>n.position},getIcon:{type:"accessor",value:n=>n.icon},getColor:{type:"accessor",value:C7},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class TN extends Yp{constructor(...e){super(...e),pe(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[fS,pS]})}initializeState(){this.state={iconManager:new dTe(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})},this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:C7},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e,o=this.getAttributeManager(),{iconAtlas:s,iconMapping:a,data:c,getIcon:l,textureParameters:d}=t,{iconManager:h}=this.state,f=s||this.internalState.isAsyncPropLoading("iconAtlas");if(h.setProps({loadOptions:t.loadOptions,autoPacking:!f,iconAtlas:s,iconMapping:f?a:null,textureParameters:d}),f?i.iconMapping!==t.iconMapping&&o.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&h.packIcons(c,l),r.extensionsChanged){var m;const{gl:g}=this.context;null===(m=this.state.model)||void 0===m||m.delete(),this.state.model=this._getModel(g),o.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw({uniforms:e}){const{sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,sizeUnits:o,billboard:s,alphaCutoff:a}=this.props,{iconManager:c}=this.state,l=c.getTexture();l&&this.state.model.setUniforms(e).setUniforms({iconsTexture:l,iconsTextureDim:[l.width,l.height],sizeUnits:NA[o],sizeScale:t,sizeMinPixels:i,sizeMaxPixels:r,billboard:s,alphaCutoff:a}).draw()}_getModel(e){return new q_(e,{...this.getShaders(),id:this.props.id,geometry:new nf({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const i=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;i?i(e):ji.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:i,anchorX:r=t/2,anchorY:o=i/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,i/2-o]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:i,width:r,height:o}=this.state.iconManager.getIconMapping(e);return[t,i,r,o]}}pe(TN,"defaultProps",uTe),pe(TN,"layerName","IconLayer");const S7=[];class MN extends TN{constructor(...e){super(...e),pe(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState(),this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(t,{index:i,target:r})=>this.encodePickingColor(i,r)}})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;let{outlineColor:r}=t;r!==i.outlineColor&&(r=r.map(o=>o/255),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&ji.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:i,outlineWidth:r}=this.props,{outlineColor:o}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(i,.75*(1-r)):-1,gamma:i,sdf:!!t,outlineColor:o},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap(t=>super.getInstanceOffset(t)):S7}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap(t=>super.getInstanceIconFrame(t)):S7}}pe(MN,"defaultProps",{getIconOffsets:{type:"accessor",value:n=>n.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),pe(MN,"layerName","MultiIconLayer");var pTe=T(7772),mTe=T.n(pTe);const gTe=32,_Te=[];function bTe(n){return Math.pow(2,Math.ceil(Math.log2(n)))}function T7(n,e,t,i){let r=0;for(let s=e;s<t;s++){var o;r+=(null===(o=i[n[s]])||void 0===o?void 0:o.width)||0}return r}function M7(n,e,t,i,r,o){let s=e,a=0;for(let c=e;c<t;c++){const l=T7(n,c,c+1,r);a+l>i&&(s<c&&o.push(c),s=c,a=0),a+=l}return a}function wTe(n,e,t,i,r=0,o){void 0===o&&(o=n.length);const s=[];return"break-all"===e?M7(n,r,o,t,i,s):function vTe(n,e,t,i,r,o){let s=e,a=e,c=e,l=0;for(let d=e;d<t;d++)if((" "===n[d]||" "===n[d+1]||d+1===t)&&(c=d+1),c>a){let h=T7(n,a,c,r);l+h>i&&(s<a&&(o.push(a),s=a,l=0),h>i&&(h=M7(n,a,c,i,r,o),s=o[o.length-1])),a=c,l+=h}}(n,r,o,t,i,s),s}function xTe(n,e,t,i,r,o){let s=0,a=0;for(let c=e;c<t;c++){const l=n[c],d=i[l];d?(a||(a=d.height),r[c]=s+d.width/2,s+=d.width):(ji.warn("Missing character: ".concat(l," (").concat(l.codePointAt(0),")"))(),r[c]=s,s+=gTe)}o[0]=s,o[1]=a}function I7(n,e,t,i,r){const o=Array.from(n),s=o.length,a=new Array(s),c=new Array(s),l=new Array(s),d=("break-word"===t||"break-all"===t)&&isFinite(i)&&i>0,h=[0,0],f=[0,0];let m=0,g=0,b=0;for(let v=0;v<=s;v++){const D=o[v];if(("\n"===D||v===s)&&(b=v),b>g){const N=d?wTe(o,t,i,r,g,b):_Te;for(let Z=0;Z<=N.length;Z++){const G=0===Z?g:N[Z-1],Oe=Z<N.length?N[Z]:b;xTe(o,G,Oe,r,a,f);for(let ze=G;ze<Oe;ze++)c[ze]=m+f[1]/2,l[ze]=f[0];m+=f[1]*e,h[0]=Math.max(h[0],f[0])}g=b}"\n"===D&&(a[g]=0,c[g]=0,l[g]=0,g++)}return h[1]=m,{x:a,y:c,rowWidth:l,size:h}}class D7{constructor(e=5){pe(this,"limit",void 0),pe(this,"_cache",{}),pe(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const J0={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function CTe(){const n=[];for(let e=32;e<128;e++)n.push(String.fromCharCode(e));return n}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let mS=new D7(3);function TTe(n,e){for(let t=0;t<n.length;t++)e.data[4*t+3]=n[t]}function P7(n,e,t,i){n.font="".concat(i," ").concat(t,"px ").concat(e),n.fillStyle="#000",n.textBaseline="alphabetic",n.textAlign="left"}class ITe{constructor(){pe(this,"props",{...J0}),pe(this,"_key",void 0),pe(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(e={}){Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const i=function STe(n,e){let t;t="string"==typeof e?new Set(Array.from(e)):new Set(e);const i=mS.get(n);if(!i)return t;for(const r in i.mapping)t.has(r)&&t.delete(r);return t}(this._key,this.props.characterSet),r=mS.get(this._key);if(r&&0===i.size)return void(this._key!==t&&(this._atlas=r));const o=this._generateFontAtlas(this._key,i,r);this._atlas=o,mS.set(this._key,o)}_generateFontAtlas(e,t,i){const{fontFamily:r,fontWeight:o,fontSize:s,buffer:a,sdf:c,radius:l,cutoff:d}=this.props;let h=i&&i.data;h||(h=document.createElement("canvas"),h.width=1024);const f=h.getContext("2d");P7(f,r,s,o);const{mapping:m,canvasHeight:g,xOffset:b,yOffset:v}=function yTe({characterSet:n,getFontWidth:e,fontHeight:t,buffer:i,maxCanvasWidth:r,mapping:o={},xOffset:s=0,yOffset:a=0}){let c=0,l=s;for(const h of n)if(!o[h]){const f=e(h);l+f+2*i>r&&(l=0,c++),o[h]={x:l+i,y:a+c*(t+2*i)+i,width:f,height:t},l+=f+2*i}const d=t+2*i;return{mapping:o,xOffset:l,yOffset:a+c*d,canvasHeight:bTe(a+(c+1)*d)}}({getFontWidth:D=>f.measureText(D).width,fontHeight:1.2*s,buffer:a,characterSet:t,maxCanvasWidth:1024,...i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset}});if(h.height!==g){const D=f.getImageData(0,0,h.width,h.height);h.height=g,f.putImageData(D,0,0)}if(P7(f,r,s,o),c){const D=new(mTe())(s,a,l,d,r,o),N=f.getImageData(0,0,D.size,D.size);for(const Z of t)TTe(D.draw(Z),N),f.putImageData(N,m[Z].x-a,m[Z].y+a)}else for(const D of t)f.fillText(D,m[D].x,m[D].y+.9*s);return{xOffset:b,yOffset:v,mapping:m,data:h,width:h.width,height:h.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:i,buffer:r,sdf:o,radius:s,cutoff:a}=this.props;return o?"".concat(e," ").concat(t," ").concat(i," ").concat(r," ").concat(s," ").concat(a):"".concat(e," ").concat(t," ").concat(i," ").concat(r)}}const RTe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:n=>n.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class IN extends Yp{constructor(...e){super(...e),pe(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[fS,pS]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var i;const{gl:r}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(r),this.getAttributeManager().invalidateAll()}}draw({uniforms:e}){const{billboard:t,sizeScale:i,sizeUnits:r,sizeMinPixels:o,sizeMaxPixels:s,getLineWidth:a}=this.props;let{padding:c}=this.props;c.length<4&&(c=[c[0],c[1],c[0],c[1]]),this.state.model.setUniforms(e).setUniforms({billboard:t,stroked:!!a,padding:c,sizeUnits:NA[r],sizeScale:i,sizeMinPixels:o,sizeMaxPixels:s}).draw()}_getModel(e){return new q_(e,{...this.getShaders(),id:this.props.id,geometry:new nf({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}pe(IN,"defaultProps",RTe),pe(IN,"layerName","TextBackgroundLayer");const N7={start:1,middle:0,end:-1},F7={top:1,center:0,bottom:-1},DN=[0,0,0,255],kTe={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:DN},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:J0.characterSet},fontFamily:J0.fontFamily,fontWeight:J0.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:DN},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:n=>n.text},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:DN},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class ON extends SN{constructor(...e){super(...e),pe(this,"state",void 0),pe(this,"getBoundingRect",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{size:[f,m]}=I7(h,c,s,a,r);return[(N7["function"==typeof l?l(t,i):l]-1)*f/2,(F7["function"==typeof d?d(t,i):d]-1)*m/2,f,m]}),pe(this,"getIconOffsets",(t,i)=>{const r=this.state.fontAtlasManager.mapping,o=this.state.getText,{wordBreak:s,maxWidth:a,lineHeight:c,getTextAnchor:l,getAlignmentBaseline:d}=this.props,h=o(t,i)||"",{x:f,y:m,rowWidth:g,size:[b,v]}=I7(h,c,s,a,r),D=N7["function"==typeof l?l(t,i):l],N=F7["function"==typeof d?d(t,i):d],Z=f.length,G=new Array(2*Z);let Oe=0;for(let ze=0;ze<Z;ze++)G[Oe++]=(D-1)*b/2+(1-D)*(b-g[ze])/2+f[ze],G[Oe++]=(N-1)*v/2+m[ze];return G})}initializeState(){this.state={styleVersion:0,fontAtlasManager:new ITe}}updateState(e){const{props:t,oldProps:i,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText(),(this._updateFontAtlas()||t.lineHeight!==i.lineHeight||t.wordBreak!==i.wordBreak||t.maxWidth!==i.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo({info:e}){return e.object=e.index>=0?this.props.data[e.index]:null,e}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:i}=this.props,{fontAtlasManager:r,characterSet:o}=this.state,s={...e,characterSet:o,fontFamily:t,fontWeight:i};if(!r.mapping)return r.setProps(s),!0;for(const a in s)if(s[a]!==r.props[a])return r.setProps(s),!0;return!1}_updateText(){var e;const{data:t,characterSet:i}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let a,{getText:o}=this.props,s=t.startIndices;const c="auto"===i&&new Set;if(r&&s){const{texts:l,characterCount:d}=function ETe({value:n,length:e,stride:t,offset:i,startIndices:r,characterSet:o}){const s=n.BYTES_PER_ELEMENT,a=t?t/s:1,c=i?i/s:0,l=r[e]||Math.ceil((n.length-c)/a),d=o&&new Set,h=new Array(e);let f=n;if(a>1||c>0){f=new(0,n.constructor)(l);for(let g=0;g<l;g++)f[g]=n[g*a+c]}for(let m=0;m<e;m++){const v=f.subarray(r[m],r[m+1]||l);h[m]=String.fromCodePoint.apply(null,v),d&&v.forEach(d.add,d)}if(d)for(const m of d)o.add(String.fromCodePoint(m));return{texts:h,characterCount:l}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:s,characterSet:c});a=d,o=(h,{index:f})=>l[f]}else{const{iterable:l,objectInfo:d}=aS(t);s=[0],a=0;for(const h of l){d.index++;const f=Array.from(o(h,d)||"");c&&f.forEach(c.add,c),a+=f.length,s.push(a)}}this.setState({getText:o,startIndices:s,numInstances:a,characterSet:c||i})}renderLayers(){const{startIndices:e,numInstances:t,getText:i,fontAtlasManager:{scale:r,texture:o,mapping:s},styleVersion:a}=this.state,{data:c,_dataDiff:l,getPosition:d,getColor:h,getSize:f,getAngle:m,getPixelOffset:g,getBackgroundColor:b,getBorderColor:v,getBorderWidth:D,backgroundPadding:N,background:Z,billboard:G,fontSettings:Oe,outlineWidth:ze,outlineColor:st,sizeScale:pt,sizeUnits:Je,sizeMinPixels:yt,sizeMaxPixels:Pt,transitions:zt,updateTriggers:xt}=this.props,It=this.getSubLayerClass("characters",MN),Jt=this.getSubLayerClass("background",IN);return[Z&&new Jt({getFillColor:b,getLineColor:v,getLineWidth:D,padding:N,getPosition:d,getSize:f,getAngle:m,getPixelOffset:g,billboard:G,sizeScale:pt/this.state.fontAtlasManager.props.fontSize,sizeUnits:Je,sizeMinPixels:yt,sizeMaxPixels:Pt,transitions:zt&&{getPosition:zt.getPosition,getAngle:zt.getAngle,getSize:zt.getSize,getFillColor:zt.getBackgroundColor,getLineColor:zt.getBorderColor,getLineWidth:zt.getBorderWidth,getPixelOffset:zt.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:xt.getPosition,getAngle:xt.getAngle,getSize:xt.getSize,getFillColor:xt.getBackgroundColor,getLineColor:xt.getBorderColor,getLineWidth:xt.getBorderWidth,getPixelOffset:xt.getPixelOffset,getBoundingRect:{getText:xt.getText,getTextAnchor:xt.getTextAnchor,getAlignmentBaseline:xt.getAlignmentBaseline,styleVersion:a}}}),{data:c.attributes&&c.attributes.background?{length:c.length,attributes:c.attributes.background}:c,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new It({sdf:Oe.sdf,smoothing:Number.isFinite(Oe.smoothing)?Oe.smoothing:J0.smoothing,outlineWidth:ze,outlineColor:st,iconAtlas:o,iconMapping:s,getPosition:d,getColor:h,getSize:f,getAngle:m,getPixelOffset:g,billboard:G,sizeScale:pt*r,sizeUnits:Je,sizeMinPixels:yt*r,sizeMaxPixels:Pt*r,transitions:zt&&{getPosition:zt.getPosition,getAngle:zt.getAngle,getColor:zt.getColor,getSize:zt.getSize,getPixelOffset:zt.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:xt.getText,getPosition:xt.getPosition,getAngle:xt.getAngle,getColor:xt.getColor,getSize:xt.getSize,getPixelOffset:xt.getPixelOffset,getIconOffsets:{getText:xt.getText,getTextAnchor:xt.getTextAnchor,getAlignmentBaseline:xt.getAlignmentBaseline,styleVersion:a}}}),{data:c,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:i})]}static set fontAtlasCacheLimit(e){!function MTe(n){ji.assert(Number.isFinite(n)&&n>=3,"Invalid cache limit"),mS=new D7(n)}(e)}}pe(ON,"defaultProps",kTe),pe(ON,"layerName","TextLayer");const L7="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n",PTe={lightSources:{}};function RN(){let{color:n=[0,0,0],intensity:e=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.map(t=>t*e/255)}const kN={name:"lights",vs:L7,fs:L7,getUniforms:function B7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PTe;if("lightSources"in n){const{ambientLight:e,pointLights:t,directionalLights:i}=n.lightSources||{};return e||t&&t.length>0||i&&i.length>0?Object.assign({},function NTe(n){let{ambientLight:e,pointLights:t=[],directionalLights:i=[]}=n;const r={};return r["lighting_uAmbientLight.color"]=e?RN(e):[0,0,0],t.forEach((o,s)=>{r["lighting_uPointLight[".concat(s,"].color")]=RN(o),r["lighting_uPointLight[".concat(s,"].position")]=o.position,r["lighting_uPointLight[".concat(s,"].attenuation")]=o.attenuation||[1,0,0]}),r.lighting_uPointLightCount=t.length,i.forEach((o,s)=>{r["lighting_uDirectionalLight[".concat(s,"].color")]=RN(o),r["lighting_uDirectionalLight[".concat(s,"].direction")]=o.direction}),r.lighting_uDirectionalLightCount=i.length,r}({ambientLight:e,pointLights:t,directionalLights:i}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in n){const e={pointLights:[],directionalLights:[]};for(const t of n.lights||[])switch(t.type){case"ambient":e.ambientLight=t;break;case"directional":e.directionalLights.push(t);break;case"point":e.pointLights.push(t)}return B7({lightSources:e})}return{}},defines:{MAX_LIGHTS:3}},FTe={};const BTe={name:"phong-lighting",dependencies:[kN],fs:"\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n",defines:{LIGHTING_FRAGMENT:1},getUniforms:function U7(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:FTe;if(!("material"in n))return{};const{material:e}=n;return e?function LTe(n){const{ambient:e=.35,diffuse:t=.6,shininess:i=32,specularColor:r=[30,30,30]}=n;return{lighting_uAmbient:e,lighting_uDiffuse:t,lighting_uShininess:i,lighting_uSpecularColor:r.map(o=>o/255)}}(e):{lighting_uEnabled:!1}}},PN=Math.PI/180,gS=new Float32Array(16),V7=new Float32Array(12);function z7(n,e,t){const i=e[0]*PN,r=e[1]*PN,o=e[2]*PN,s=Math.sin(o),a=Math.sin(i),c=Math.sin(r),l=Math.cos(o),d=Math.cos(i),h=Math.cos(r),f=t[0],m=t[1],g=t[2];n[0]=f*h*d,n[1]=f*c*d,n[2]=f*-a,n[3]=m*(-c*l+h*a*s),n[4]=m*(h*l+c*a*s),n[5]=m*d*s,n[6]=g*(c*s+h*a*l),n[7]=g*(-h*s+c*a*l),n[8]=g*d*l}function H7(n){return n[0]=n[0],n[1]=n[1],n[2]=n[2],n[3]=n[4],n[4]=n[5],n[5]=n[6],n[6]=n[8],n[7]=n[9],n[8]=n[10],n[9]=n[12],n[10]=n[13],n[11]=n[14],n.subarray(0,12)}const G7={size:12,accessor:["getOrientation","getScale","getTranslation","getTransformMatrix"],shaderAttributes:{instanceModelMatrix__LOCATION_0:{size:3,elementOffset:0},instanceModelMatrix__LOCATION_1:{size:3,elementOffset:3},instanceModelMatrix__LOCATION_2:{size:3,elementOffset:6},instanceTranslation:{size:3,elementOffset:9}},update(n,{startRow:e,endRow:t}){const{data:i,getOrientation:r,getScale:o,getTranslation:s,getTransformMatrix:a}=this.props,c=Array.isArray(a),l=c&&16===a.length,d=Array.isArray(o),h=Array.isArray(r),f=Array.isArray(s),m=l||!c&&!!a(i[0]);n.constant=m?l:h&&d&&f;const g=n.value;if(n.constant){let b;m?(gS.set(a),b=H7(gS)):(b=V7,z7(b,r,o),b.set(s,9)),n.value=new Float32Array(b)}else{let b=e*n.size;const{iterable:v,objectInfo:D}=aS(i,e,t);for(const N of v){let Z;D.index++,m?(gS.set(l?a:a(N,D)),Z=H7(gS)):(Z=V7,z7(Z,h?r:r(N,D),d?o:o(N,D)),Z.set(f?s:s(N,D),9)),g[b++]=Z[0],g[b++]=Z[1],g[b++]=Z[2],g[b++]=Z[3],g[b++]=Z[4],g[b++]=Z[5],g[b++]=Z[6],g[b++]=Z[7],g[b++]=Z[8],g[b++]=Z[9],g[b++]=Z[10],g[b++]=Z[11]}}}};function W7(n,e){return e===Xi.CARTESIAN||e===Xi.METER_OFFSETS||e===Xi.DEFAULT&&!n.isGeospatial}function $7(n,e){(n.COLOR_0||n.colors)&&e||(n.colors={constant:!0,value:new Float32Array([1,1,1])}),ji.assert(n.positions||n.POSITION,'no "postions" or "POSITION" attribute in mesh')}function VTe(n,e){if(n.attributes)return $7(n.attributes,e),n instanceof nf?n:new nf(n);if(n.positions||n.POSITION)return $7(n,e),new nf({attributes:n});throw Error("Invalid mesh")}class NN extends Yp{constructor(...e){super(...e),pe(this,"state",void 0)}getShaders(){const e=!Oi(this.context.gl),t={};return r2(this.context.gl,"GLSL_DERIVATIVES")&&(t.DERIVATIVES_AVAILABLE=1),super.getShaders({vs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-vs\n\n// Scale the model\nuniform float sizeScale;\nuniform bool composeModelMatrix;\n\n// Primitive attributes\nin vec3 positions;\nin vec3 normals;\nin vec3 colors;\nin vec2 texCoords;\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Outputs to fragment shader\nout vec2 vTexCoord;\nout vec3 cameraPosition;\nout vec3 normals_commonspace;\nout vec4 position_commonspace;\nout vec4 vColor;\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = texCoords;\n  geometry.pickingColor = instancePickingColors;\n\n  vTexCoord = texCoords;\n  cameraPosition = project_uCameraPosition;\n  vColor = vec4(colors * instanceColors.rgb, instanceColors.a);\n\n  vec3 pos = (instanceModelMatrix * positions) * sizeScale + instanceTranslation;\n\n  if (composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), position_commonspace);\n    geometry.position = position_commonspace;\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, position_commonspace);\n    geometry.position = position_commonspace;\n    normals_commonspace = project_normal(instanceModelMatrix * normals);\n  }\n\n  geometry.normal = normals_commonspace;\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n#define SHADER_NAME simple-mesh-layer-fs\n\nprecision highp float;\n\nuniform bool hasTexture;\nuniform sampler2D sampler;\nuniform bool flatShading;\nuniform float opacity;\n\nin vec2 vTexCoord;\nin vec3 cameraPosition;\nin vec3 normals_commonspace;\nin vec4 position_commonspace;\nin vec4 vColor;\n\nout vec4 fragColor;\n\nvoid main(void) {\n  geometry.uv = vTexCoord;\n\n  vec3 normal;\n  if (flatShading) {\n\n// NOTE(Tarek): This is necessary because\n// headless.gl reports the extension as\n// available but does not support it in\n// the shader.\n#ifdef DERIVATIVES_AVAILABLE\n    normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));\n#else\n    normal = vec3(0.0, 0.0, 1.0);\n#endif\n  } else {\n    normal = normals_commonspace;\n  }\n\n  vec4 color = hasTexture ? texture(sampler, vTexCoord) : vColor;\n  vec3 lightColor = lighting_getLightColor(color.rgb, cameraPosition, position_commonspace.xyz, normal);\n  fragColor = vec4(lightColor, color.a * opacity);\n\n  DECKGL_FILTER_COLOR(fragColor, geometry);\n}\n",modules:[fS,BTe,pS],transpileToGLSL100:e,defines:t})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{transition:!0,type:5130,fp64:this.use64bitPositions(),size:3,accessor:"getPosition"},instanceColors:{type:5121,transition:!0,size:this.props.colorFormat.length,normalized:!0,accessor:"getColor",defaultValue:[0,0,0,255]},instanceModelMatrix:G7}),this.setState({emptyTexture:new Vs(this.context.gl,{data:new Uint8Array(4),width:1,height:1})})}updateState(e){super.updateState(e);const{props:t,oldProps:i,changeFlags:r}=e;if(t.mesh!==i.mesh||r.extensionsChanged){var o;if(null===(o=this.state.model)||void 0===o||o.delete(),t.mesh){this.state.model=this.getModel(t.mesh);const s=t.mesh.attributes||t.mesh;this.setState({hasNormals:!(!s.NORMAL&&!s.normals)})}this.getAttributeManager().invalidateAll()}t.texture!==i.texture&&this.setTexture(t.texture),this.state.model&&this.state.model.setDrawMode(this.props.wireframe?3:4)}finalizeState(e){super.finalizeState(e),this.state.emptyTexture.delete()}draw({uniforms:e}){if(!this.state.model)return;const{viewport:t}=this.context,{sizeScale:i,coordinateSystem:r,_instanced:o}=this.props;this.state.model.setUniforms(e).setUniforms({sizeScale:i,composeModelMatrix:!o||W7(t,r),flatShading:!this.state.hasNormals}).draw()}getModel(e){const t=new q_(this.context.gl,{...this.getShaders(),id:this.props.id,geometry:VTe(e,this.props._useMeshColors),isInstanced:!0}),{texture:i}=this.props,{emptyTexture:r}=this.state;return t.setUniforms({sampler:i||r,hasTexture:!!i}),t}setTexture(e){const{emptyTexture:t,model:i}=this.state;i&&i.setUniforms({sampler:e||t,hasTexture:!!e})}}pe(NN,"defaultProps",{mesh:{type:"object",value:null,async:!0},texture:{type:"image",value:null,async:!0},sizeScale:{type:"number",value:1,min:0},_useMeshColors:{type:"boolean",value:!1},_instanced:!0,wireframe:!1,material:!0,getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:[0,0,0,255]},getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]}}),pe(NN,"layerName","SimpleMeshLayer");const q7={name:"pbr",vs:"uniform mat4 u_MVPMatrix;\nuniform mat4 u_ModelMatrix;\nuniform mat4 u_NormalMatrix;\n\nvarying vec3 pbr_vPosition;\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n# ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n# else\nvarying vec3 pbr_vNormal;\n# endif\n#endif\n\nvoid pbr_setPositionNormalTangentUV(vec4 position, vec4 normal, vec4 tangent, vec2 uv)\n{\n  vec4 pos = u_ModelMatrix * position;\n  pbr_vPosition = vec3(pos.xyz) / pos.w;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\n  vec3 normalW = normalize(vec3(u_NormalMatrix * vec4(normal.xyz, 0.0)));\n  vec3 tangentW = normalize(vec3(u_ModelMatrix * vec4(tangent.xyz, 0.0)));\n  vec3 bitangentW = cross(normalW, tangentW) * tangent.w;\n  pbr_vTBN = mat3(tangentW, bitangentW, normalW);\n#else\n  pbr_vNormal = normalize(vec3(u_ModelMatrix * vec4(normal.xyz, 0.0)));\n#endif\n#endif\n\n#ifdef HAS_UV\n  pbr_vUV = uv;\n#else\n  pbr_vUV = vec2(0.,0.);\n#endif\n}\n",fs:"#if defined(USE_TEX_LOD) && !defined(FEATURE_GLSL_TEXTURE_LOD)\n# error PBR fragment shader: Texture LOD is not available\n#endif\n\n#if !defined(HAS_TANGENTS) && !defined(FEATURE_GLSL_DERIVATIVES)\n# error PBR fragment shader: Derivatives are not available\n#endif\n\n\n#if (__VERSION__ < 300)\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL1COND; INCR)\n#else\n  #define SMART_FOR(INIT, WEBGL1COND, WEBGL2COND, INCR) for (INIT; WEBGL2COND; INCR)\n#endif\n\nprecision highp float;\n\nuniform bool pbr_uUnlit;\n\n#ifdef USE_IBL\nuniform samplerCube u_DiffuseEnvSampler;\nuniform samplerCube u_SpecularEnvSampler;\nuniform sampler2D u_brdfLUT;\nuniform vec2 u_ScaleIBLAmbient;\n#endif\n\n#ifdef HAS_BASECOLORMAP\nuniform sampler2D u_BaseColorSampler;\n#endif\n#ifdef HAS_NORMALMAP\nuniform sampler2D u_NormalSampler;\nuniform float u_NormalScale;\n#endif\n#ifdef HAS_EMISSIVEMAP\nuniform sampler2D u_EmissiveSampler;\nuniform vec3 u_EmissiveFactor;\n#endif\n#ifdef HAS_METALROUGHNESSMAP\nuniform sampler2D u_MetallicRoughnessSampler;\n#endif\n#ifdef HAS_OCCLUSIONMAP\nuniform sampler2D u_OcclusionSampler;\nuniform float u_OcclusionStrength;\n#endif\n\n#ifdef ALPHA_CUTOFF\nuniform float u_AlphaCutoff;\n#endif\n\nuniform vec2 u_MetallicRoughnessValues;\nuniform vec4 u_BaseColorFactor;\n\nuniform vec3 u_Camera;\n#ifdef PBR_DEBUG\nuniform vec4 u_ScaleDiffBaseMR;\nuniform vec4 u_ScaleFGDSpec;\n#endif\n\nvarying vec3 pbr_vPosition;\n\nvarying vec2 pbr_vUV;\n\n#ifdef HAS_NORMALS\n#ifdef HAS_TANGENTS\nvarying mat3 pbr_vTBN;\n#else\nvarying vec3 pbr_vNormal;\n#endif\n#endif\n\n\nstruct PBRInfo\n{\n  float NdotL;\n  float NdotV;\n  float NdotH;\n  float LdotH;\n  float VdotH;\n  float perceptualRoughness;\n  float metalness;\n  vec3 reflectance0;\n  vec3 reflectance90;\n  float alphaRoughness;\n  vec3 diffuseColor;\n  vec3 specularColor;\n  vec3 n;\n  vec3 v;\n};\n\nconst float M_PI = 3.141592653589793;\nconst float c_MinRoughness = 0.04;\n\nvec4 SRGBtoLINEAR(vec4 srgbIn)\n{\n#ifdef MANUAL_SRGB\n#ifdef SRGB_FAST_APPROXIMATION\n  vec3 linOut = pow(srgbIn.xyz,vec3(2.2));\n#else\n  vec3 bLess = step(vec3(0.04045),srgbIn.xyz);\n  vec3 linOut = mix( srgbIn.xyz/vec3(12.92), pow((srgbIn.xyz+vec3(0.055))/vec3(1.055),vec3(2.4)), bLess );\n#endif\n  return vec4(linOut,srgbIn.w);;\n#else\n  return srgbIn;\n#endif\n}\n\nvec3 getNormal()\n{\n#ifndef HAS_TANGENTS\n  vec3 pos_dx = dFdx(pbr_vPosition);\n  vec3 pos_dy = dFdy(pbr_vPosition);\n  vec3 tex_dx = dFdx(vec3(pbr_vUV, 0.0));\n  vec3 tex_dy = dFdy(vec3(pbr_vUV, 0.0));\n  vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\n\n#ifdef HAS_NORMALS\n  vec3 ng = normalize(pbr_vNormal);\n#else\n  vec3 ng = cross(pos_dx, pos_dy);\n#endif\n\n  t = normalize(t - ng * dot(ng, t));\n  vec3 b = normalize(cross(ng, t));\n  mat3 tbn = mat3(t, b, ng);\n#else\n  mat3 tbn = pbr_vTBN;\n#endif\n\n#ifdef HAS_NORMALMAP\n  vec3 n = texture2D(u_NormalSampler, pbr_vUV).rgb;\n  n = normalize(tbn * ((2.0 * n - 1.0) * vec3(u_NormalScale, u_NormalScale, 1.0)));\n#else\n  vec3 n = normalize(tbn[2].xyz);\n#endif\n\n  return n;\n}\n\n\n#ifdef USE_IBL\nvec3 getIBLContribution(PBRInfo pbrInputs, vec3 n, vec3 reflection)\n{\n  float mipCount = 9.0;\n  float lod = (pbrInputs.perceptualRoughness * mipCount);\n  vec3 brdf = SRGBtoLINEAR(texture2D(u_brdfLUT,\n    vec2(pbrInputs.NdotV, 1.0 - pbrInputs.perceptualRoughness))).rgb;\n  vec3 diffuseLight = SRGBtoLINEAR(textureCube(u_DiffuseEnvSampler, n)).rgb;\n\n#ifdef USE_TEX_LOD\n  vec3 specularLight = SRGBtoLINEAR(textureCubeLod(u_SpecularEnvSampler, reflection, lod)).rgb;\n#else\n  vec3 specularLight = SRGBtoLINEAR(textureCube(u_SpecularEnvSampler, reflection)).rgb;\n#endif\n\n  vec3 diffuse = diffuseLight * pbrInputs.diffuseColor;\n  vec3 specular = specularLight * (pbrInputs.specularColor * brdf.x + brdf.y);\n  diffuse *= u_ScaleIBLAmbient.x;\n  specular *= u_ScaleIBLAmbient.y;\n\n  return diffuse + specular;\n}\n#endif\n\n\nvec3 diffuse(PBRInfo pbrInputs)\n{\n  return pbrInputs.diffuseColor / M_PI;\n}\n\nvec3 specularReflection(PBRInfo pbrInputs)\n{\n  return pbrInputs.reflectance0 +\n    (pbrInputs.reflectance90 - pbrInputs.reflectance0) *\n    pow(clamp(1.0 - pbrInputs.VdotH, 0.0, 1.0), 5.0);\n}\n\n\n\nfloat geometricOcclusion(PBRInfo pbrInputs)\n{\n  float NdotL = pbrInputs.NdotL;\n  float NdotV = pbrInputs.NdotV;\n  float r = pbrInputs.alphaRoughness;\n\n  float attenuationL = 2.0 * NdotL / (NdotL + sqrt(r * r + (1.0 - r * r) * (NdotL * NdotL)));\n  float attenuationV = 2.0 * NdotV / (NdotV + sqrt(r * r + (1.0 - r * r) * (NdotV * NdotV)));\n  return attenuationL * attenuationV;\n}\n\n\n\n\n\nfloat microfacetDistribution(PBRInfo pbrInputs)\n{\n  float roughnessSq = pbrInputs.alphaRoughness * pbrInputs.alphaRoughness;\n  float f = (pbrInputs.NdotH * roughnessSq - pbrInputs.NdotH) * pbrInputs.NdotH + 1.0;\n  return roughnessSq / (M_PI * f * f);\n}\n\nvoid PBRInfo_setAmbientLight(inout PBRInfo pbrInputs) {\n  pbrInputs.NdotL = 1.0;\n  pbrInputs.NdotH = 0.0;\n  pbrInputs.LdotH = 0.0;\n  pbrInputs.VdotH = 1.0;\n}\n\nvoid PBRInfo_setDirectionalLight(inout PBRInfo pbrInputs, vec3 lightDirection) {\n  vec3 n = pbrInputs.n;\n  vec3 v = pbrInputs.v;\n  vec3 l = normalize(lightDirection);\n  vec3 h = normalize(l+v);\n\n  pbrInputs.NdotL = clamp(dot(n, l), 0.001, 1.0);\n  pbrInputs.NdotH = clamp(dot(n, h), 0.0, 1.0);\n  pbrInputs.LdotH = clamp(dot(l, h), 0.0, 1.0);\n  pbrInputs.VdotH = clamp(dot(v, h), 0.0, 1.0);\n}\n\nvoid PBRInfo_setPointLight(inout PBRInfo pbrInputs, PointLight pointLight) {\n  vec3 light_direction = normalize(pointLight.position - pbr_vPosition);\n  PBRInfo_setDirectionalLight(pbrInputs, light_direction);\n}\n\nvec3 calculateFinalColor(PBRInfo pbrInputs, vec3 lightColor) {\n  vec3 F = specularReflection(pbrInputs);\n  float G = geometricOcclusion(pbrInputs);\n  float D = microfacetDistribution(pbrInputs);\n  vec3 diffuseContrib = (1.0 - F) * diffuse(pbrInputs);\n  vec3 specContrib = F * G * D / (4.0 * pbrInputs.NdotL * pbrInputs.NdotV);\n  return pbrInputs.NdotL * lightColor * (diffuseContrib + specContrib);\n}\n\nvec4 pbr_filterColor(vec4 colorUnused)\n{\n#ifdef HAS_BASECOLORMAP\n  vec4 baseColor = SRGBtoLINEAR(texture2D(u_BaseColorSampler, pbr_vUV)) * u_BaseColorFactor;\n#else\n  vec4 baseColor = u_BaseColorFactor;\n#endif\n\n#ifdef ALPHA_CUTOFF\n  if (baseColor.a < u_AlphaCutoff) {\n    discard;\n  }\n#endif\n\n  vec3 color = vec3(0, 0, 0);\n\n  if(pbr_uUnlit){\n    color.rgb = baseColor.rgb;\n  }\n  else{\n\n\n    float perceptualRoughness = u_MetallicRoughnessValues.y;\n    float metallic = u_MetallicRoughnessValues.x;\n#ifdef HAS_METALROUGHNESSMAP\n\n    vec4 mrSample = texture2D(u_MetallicRoughnessSampler, pbr_vUV);\n    perceptualRoughness = mrSample.g * perceptualRoughness;\n    metallic = mrSample.b * metallic;\n#endif\n    perceptualRoughness = clamp(perceptualRoughness, c_MinRoughness, 1.0);\n    metallic = clamp(metallic, 0.0, 1.0);\n\n    float alphaRoughness = perceptualRoughness * perceptualRoughness;\n\n    vec3 f0 = vec3(0.04);\n    vec3 diffuseColor = baseColor.rgb * (vec3(1.0) - f0);\n    diffuseColor *= 1.0 - metallic;\n    vec3 specularColor = mix(f0, baseColor.rgb, metallic);\n    float reflectance = max(max(specularColor.r, specularColor.g), specularColor.b);\n\n\n\n    float reflectance90 = clamp(reflectance * 25.0, 0.0, 1.0);\n    vec3 specularEnvironmentR0 = specularColor.rgb;\n    vec3 specularEnvironmentR90 = vec3(1.0, 1.0, 1.0) * reflectance90;\n\n    vec3 n = getNormal();\n    vec3 v = normalize(u_Camera - pbr_vPosition);\n\n    float NdotV = clamp(abs(dot(n, v)), 0.001, 1.0);\n    vec3 reflection = -normalize(reflect(v, n));\n\n    PBRInfo pbrInputs = PBRInfo(\n      0.0,\n      NdotV,\n      0.0,\n      0.0,\n      0.0,\n      perceptualRoughness,\n      metallic,\n      specularEnvironmentR0,\n      specularEnvironmentR90,\n      alphaRoughness,\n      diffuseColor,\n      specularColor,\n      n,\n      v\n    );\n\n#ifdef USE_LIGHTS\n    PBRInfo_setAmbientLight(pbrInputs);\n    color += calculateFinalColor(pbrInputs, lighting_uAmbientLight.color);\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uDirectionalLightCount, i++) {\n      if (i < lighting_uDirectionalLightCount) {\n        PBRInfo_setDirectionalLight(pbrInputs, lighting_uDirectionalLight[i].direction);\n        color += calculateFinalColor(pbrInputs, lighting_uDirectionalLight[i].color);\n      }\n    }\n    SMART_FOR(int i = 0, i < MAX_LIGHTS, i < lighting_uPointLightCount, i++) {\n      if (i < lighting_uPointLightCount) {\n        PBRInfo_setPointLight(pbrInputs, lighting_uPointLight[i]);\n        float attenuation = getPointLightAttenuation(lighting_uPointLight[i], distance(lighting_uPointLight[i].position, pbr_vPosition));\n        color += calculateFinalColor(pbrInputs, lighting_uPointLight[i].color / attenuation);\n      }\n    }\n#endif\n#ifdef USE_IBL\n    color += getIBLContribution(pbrInputs, n, reflection);\n#endif\n#ifdef HAS_OCCLUSIONMAP\n    float ao = texture2D(u_OcclusionSampler, pbr_vUV).r;\n    color = mix(color, color * ao, u_OcclusionStrength);\n#endif\n\n#ifdef HAS_EMISSIVEMAP\n    vec3 emissive = SRGBtoLINEAR(texture2D(u_EmissiveSampler, pbr_vUV)).rgb * u_EmissiveFactor;\n    color += emissive;\n#endif\n\n#ifdef PBR_DEBUG\n\n\n\n\n\n    color = mix(color, baseColor.rgb, u_ScaleDiffBaseMR.y);\n    color = mix(color, vec3(metallic), u_ScaleDiffBaseMR.z);\n    color = mix(color, vec3(perceptualRoughness), u_ScaleDiffBaseMR.w);\n#endif\n\n  }\n\n  return vec4(pow(color,vec3(1.0/2.2)), baseColor.a);\n}\n",defines:{LIGHTING_FRAGMENT:1},dependencies:[kN]};class X_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t}=e;this.id=t||oc(this.constructor.name),this.display=!0,this.position=new ba,this.rotation=new ba,this.scale=new ba(1,1,1),this.matrix=new Bt,this.userData={},this.props={},this._setScenegraphNodeProps(e)}delete(){}setProps(e){return this._setScenegraphNodeProps(e),this}toString(){return"{type: ScenegraphNode, id: ".concat(this.id,")}")}getBounds(){return null}setPosition(e){return gn(3===e.length,"setPosition requires vector argument"),this.position=e,this}setRotation(e){return gn(3===e.length,"setRotation requires vector argument"),this.rotation=e,this}setScale(e){return gn(3===e.length,"setScale requires vector argument"),this.scale=e,this}setMatrix(e){arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?this.matrix=e:this.matrix.copy(e)}setMatrixComponents(e){let{position:t,rotation:i,scale:r,update:o=!0}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),o&&this.updateMatrix(),this}updateMatrix(){const e=this.position,t=this.rotation,i=this.scale;return this.matrix.identity(),this.matrix.translate(e),this.matrix.rotateXYZ(t),this.matrix.scale(i),this}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t,rotation:i,scale:r}=e;return t&&this.setPosition(t),i&&this.setRotation(i),r&&this.setScale(r),this.updateMatrix(),this}getCoordinateUniforms(e,t){gn(e),t=t||this.matrix;const i=new Bt(e).multiplyRight(t),r=i.invert(),o=r.transpose();return{viewMatrix:e,modelMatrix:t,objectMatrix:t,worldMatrix:i,worldInverseMatrix:r,worldInverseTransposeMatrix:o}}_setScenegraphNodeProps(e){"display"in e&&(this.display=e.display),"position"in e&&this.setPosition(e.position),"rotation"in e&&this.setRotation(e.rotation),"scale"in e&&this.setScale(e.scale),"matrix"in e&&this.setMatrix(e.matrix),Object.assign(this.props,e)}}class Q0 extends X_{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=Array.isArray(e)?{children:e}:e;const{children:t=[]}=e;Rn.assert(t.every(i=>i instanceof X_),"every child must an instance of ScenegraphNode"),super(e),this.children=t}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];for(const r of t)Array.isArray(r)?this.add(...r):this.children.push(r);return this}remove(e){const t=this.children,i=t.indexOf(e);return i>-1&&t.splice(i,1),this}removeAll(){return this.children=[],this}delete(){this.children.forEach(e=>e.delete()),this.removeAll(),super.delete()}getBounds(){const e=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];return this.traverse((t,i)=>{let{worldMatrix:r}=i;const o=t.getBounds();if(!o)return;const[s,a]=o,c=new ba(s).add(a).divide([2,2,2]);r.transformAsPoint(c,c);const l=new ba(a).subtract(s).divide([2,2,2]);r.transformAsVector(l,l);for(let d=0;d<8;d++){const h=new ba(1&d?-1:1,2&d?-1:1,4&d?-1:1).multiply(l).add(c);for(let f=0;f<3;f++)e[0][f]=Math.min(e[0][f],h[f]),e[1][f]=Math.max(e[1][f],h[f])}}),Number.isFinite(e[0][0])?e:null}traverse(e){let{worldMatrix:t=new Bt}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new Bt(t).multiplyRight(this.matrix);for(const r of this.children)r instanceof Q0?r.traverse(e,{worldMatrix:i}):e(r,{worldMatrix:i})}}let _S;class FN extends B6{static get ZERO(){return _S||(_S=new FN(0,0,0,0),Object.freeze(_S)),_S}constructor(e=0,t=0,i=0,r=0){super(-0,-0,-0,-0),Iu(e)&&1===arguments.length?this.copy(e):(Go.debug&&(Ur(e),Ur(t),Ur(i),Ur(r)),this[0]=e,this[1]=t,this[2]=i,this[3]=r)}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}fromObject(e){return Go.debug&&(Ur(e.x),Ur(e.y),Ur(e.z),Ur(e.w)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e.w=this[3],e}get ELEMENTS(){return 4}get z(){return this[2]}set z(e){this[2]=Ur(e)}get w(){return this[3]}set w(e){this[3]=Ur(e)}transform(e){return pP(this,this,e),this.check()}transformByMatrix3(e){return function Cbe(n,e,t){const i=e[0],r=e[1],o=e[2];n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3]}(this,this,e),this.check()}transformByMatrix2(e){return function Ebe(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2],n[3]=e[3]}(this,this,e),this.check()}transformByQuaternion(e){return z6(this,this,e),this.check()}applyMatrix4(e){return e.transform(this,this),this}}function X7(){var n=new rc(4);return rc!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function Y7(n,e,t){t*=.5;var i=Math.sin(t);return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=Math.cos(t),n}function K7(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=t[0],c=t[1],l=t[2],d=t[3];return n[0]=i*d+s*a+r*l-o*c,n[1]=r*d+s*c+o*a-i*l,n[2]=o*d+s*l+i*c-r*a,n[3]=s*d-i*a-r*c-o*l,n}var Q7=Y6,iMe=function(){var n=j6(),e=U6(1,0,0),t=U6(0,1,0);return function(i,r,o){var s=V6(r,o);return s<-.999999?(AA(n,e,r),function dbe(n){return Math.hypot(n[0],n[1],n[2])}(n)<1e-6&&AA(n,t,r),function fbe(n,e){var t=e[0],i=e[1],r=e[2],o=t*t+i*i+r*r;o>0&&(o=1/Math.sqrt(o)),n[0]=e[0]*o,n[1]=e[1]*o,n[2]=e[2]*o}(n,n),Y7(i,n,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(AA(n,r,o),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=1+s,function eye(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o;return s>0&&(s=1/Math.sqrt(s)),n[0]=t*s,n[1]=i*s,n[2]=r*s,n[3]=o*s,n}(i,i))}}();X7(),X7(),function HTe(){var n=new rc(9);rc!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1}();const rMe=[0,0,0,1],sMe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},aMe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function tq(n){if(!n._animation){const e=aMe[n.componentType],t=sMe[n.type],i=t*n.count,{buffer:r,byteOffset:o}=n.bufferView.data,s=new e(r,o+(n.byteOffset||0),i);if(1===t)n._animation=Array.from(s);else{const a=[];for(let c=0;c<s.length;c+=t)a.push(Array.from(s.slice(c,c+t)));n._animation=a}}return n._animation}const cMe=new Bt,LN=new class oMe extends fP{constructor(e=0,t=0,i=0,r=1){super(-0,-0,-0,-0),Array.isArray(e)&&1===arguments.length?this.copy(e):this.set(e,t,i,r)}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this.check()}set(e,t,i,r){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this.check()}fromObject(e){return this[0]=e.x,this[1]=e.y,this[2]=e.z,this[3]=e.w,this.check()}fromMatrix3(e){return function J7(n,e){var i,t=e[0]+e[4]+e[8];if(t>0)i=Math.sqrt(t+1),n[3]=.5*i,n[0]=(e[5]-e[7])*(i=.5/i),n[1]=(e[6]-e[2])*i,n[2]=(e[1]-e[3])*i;else{var r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);var o=(r+1)%3,s=(r+2)%3;i=Math.sqrt(e[3*r+r]-e[3*o+o]-e[3*s+s]+1),n[r]=.5*i,n[3]=(e[3*o+s]-e[3*s+o])*(i=.5/i),n[o]=(e[3*o+r]+e[3*r+o])*i,n[s]=(e[3*s+r]+e[3*r+s])*i}return n}(this,e),this.check()}fromAxisRotation(e,t){return Y7(this,e,t),this.check()}identity(){return function GTe(n){n[0]=0,n[1]=0,n[2]=0,n[3]=1}(this),this.check()}setAxisAngle(e,t){return this.fromAxisRotation(e,t)}get ELEMENTS(){return 4}get x(){return this[0]}set x(e){this[0]=Ur(e)}get y(){return this[1]}set y(e){this[1]=Ur(e)}get z(){return this[2]}set z(e){this[2]=Ur(e)}get w(){return this[3]}set w(e){this[3]=Ur(e)}len(){return function Qbe(n){return Math.hypot(n[0],n[1],n[2],n[3])}(this)}lengthSquared(){return function Zbe(n){var e=n[0],t=n[1],i=n[2],r=n[3];return e*e+t*t+i*i+r*r}(this)}dot(e){return function tye(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}(this,e)}rotationTo(e,t){return iMe(this,e,t),this.check()}add(e){return function Jbe(n,e,t){n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n[3]=e[3]+t[3]}(this,this,e),this.check()}calculateW(){return function XTe(n,e){var t=e[0],i=e[1],r=e[2];n[0]=t,n[1]=i,n[2]=r,n[3]=Math.sqrt(Math.abs(1-t*t-i*i-r*r))}(this,this),this.check()}conjugate(){return function QTe(n,e){n[0]=-e[0],n[1]=-e[1],n[2]=-e[2],n[3]=e[3]}(this,this),this.check()}invert(){return function JTe(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t*t+i*i+r*r+o*o,a=s?1/s:0;n[0]=-t*a,n[1]=-i*a,n[2]=-r*a,n[3]=o*a}(this,this),this.check()}lerp(e,t,i){return void 0===i?this.lerp(this,e,t):(function nye(n,e,t,i){var r=e[0],o=e[1],s=e[2],a=e[3];n[0]=r+i*(t[0]-r),n[1]=o+i*(t[1]-o),n[2]=s+i*(t[2]-s),n[3]=a+i*(t[3]-a)}(this,e,t,i),this.check())}multiplyRight(e){return K7(this,this,e),this.check()}multiplyLeft(e){return K7(this,e,this),this.check()}normalize(){const e=this.len(),t=e>0?1/e:0;return this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,0===e&&(this[3]=1),this.check()}rotateX(e){return function WTe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+s*a,n[1]=r*c+o*a,n[2]=o*c-r*a,n[3]=s*c-i*a}(this,this,e),this.check()}rotateY(e){return function $Te(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c-o*a,n[1]=r*c+s*a,n[2]=o*c+i*a,n[3]=s*c-r*a}(this,this,e),this.check()}rotateZ(e){return function qTe(n,e,t){t*=.5;var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(t),c=Math.cos(t);n[0]=i*c+r*a,n[1]=r*c-i*a,n[2]=o*c+s*a,n[3]=s*c-o*a}(this,this,e),this.check()}scale(e){return Q7(this,this,e),this.check()}slerp(e,t,i){let r,o,s;switch(arguments.length){case 1:({start:r=rMe,target:o,ratio:s}=e);break;case 2:r=this,o=e,s=t;break;default:r=e,o=t,s=i}return function bS(n,e,t,i){var f,m,g,b,v,r=e[0],o=e[1],s=e[2],a=e[3],c=t[0],l=t[1],d=t[2],h=t[3];return(m=r*c+o*l+s*d+a*h)<0&&(m=-m,c=-c,l=-l,d=-d,h=-h),1-m>yd?(f=Math.acos(m),g=Math.sin(f),b=Math.sin((1-i)*f)/g,v=Math.sin(i*f)/g):(b=1-i,v=i),n[0]=b*r+v*c,n[1]=b*o+v*l,n[2]=b*s+v*d,n[3]=b*a+v*h,n}(this,r,o,s),this.check()}transformVector4(e,t=new FN){return function iye(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2],l=t[3],d=l*i+a*o-c*r,h=l*r+c*i-s*o,f=l*o+s*r-a*i,m=-s*i-a*r-c*o;n[0]=d*l+m*-s+h*-c-f*-a,n[1]=h*l+m*-a+f*-s-d*-c,n[2]=f*l+m*-c+d*-a-h*-s,n[3]=e[3]}(t,e,this),CA(t,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(e,t){return this.setAxisAngle(e,t)}premultiply(e){return this.multiplyLeft(e)}multiply(e){return this.multiplyRight(e)}};class pMe{constructor(e){this.startTime=0,this.playing=!0,this.speed=1,this.channels=[],Object.assign(this,e)}animate(e){if(!this.playing)return;const i=(e/1e3-this.startTime)*this.speed;this.channels.forEach(r=>{let{sampler:o,target:s,path:a}=r;(function fMe(n,e,t,i){let{input:r,interpolation:o,output:s}=e;const c=n%r[r.length-1],l=r.findIndex(m=>m>=c),d=Math.max(0,l-1);if(!Array.isArray(t[i]))switch(i){case"translation":t[i]=[0,0,0];break;case"rotation":t[i]=[0,0,0,1];break;case"scale":t[i]=[1,1,1];break;default:Rn.warn("Bad animation path ".concat(i))()}gn(t[i].length===s[d].length);const h=r[d],f=r[l];switch(o){case"STEP":!function hMe(n,e,t){for(let i=0;i<t.length;i++)n[e][i]=t[i]}(t,i,s[d]);break;case"LINEAR":f>h&&function dMe(n,e,t,i,r){if("rotation"===e){LN.slerp({start:t,target:i,ratio:r});for(let o=0;o<LN.length;o++)n[e][o]=LN[o]}else for(let o=0;o<t.length;o++)n[e][o]=r*i[o]+(1-r)*t[o]}(t,i,s[d],s[l],(c-h)/(f-h));break;case"CUBICSPLINE":f>h&&function uMe(n,e,t){let{p0:i,outTangent0:r,inTangent1:o,p1:s,tDiff:a,ratio:c}=t;for(let l=0;l<n[e].length;l++){const d=r[l]*a,h=o[l]*a;n[e][l]=(2*Math.pow(c,3)-3*Math.pow(c,2)+1)*i[l]+(Math.pow(c,3)-2*Math.pow(c,2)+c)*d+(-2*Math.pow(c,3)+3*Math.pow(c,2))*s[l]+(Math.pow(c,3)-Math.pow(c,2))*h}}(t,i,{p0:s[3*d+1],outTangent0:s[3*d+2],inTangent1:s[3*l+0],p1:s[3*l+1],tDiff:f-h,ratio:(c-h)/(f-h)});break;default:Rn.warn("Interpolation ".concat(o," not supported"))()}})(i,o,s,a),function lMe(n,e){if(e.matrix.identity(),n.translation&&e.matrix.translate(n.translation),n.rotation){const t=cMe.fromQuaternion(n.rotation);e.matrix.multiplyRight(t)}n.scale&&e.matrix.scale(n.scale)}(s,s._node)})}}class mMe{constructor(e){this.animations=e.animations.map((t,i)=>{const r=t.name||"Animation-".concat(i),o=t.samplers.map(a=>{let{input:c,interpolation:l="LINEAR",output:d}=a;return{input:tq(e.accessors[c]),interpolation:l,output:tq(e.accessors[d])}}),s=t.channels.map(a=>{let{sampler:c,target:l}=a;return{sampler:o[c],target:e.nodes[l.node],path:l.path}});return new pMe({name:r,channels:s})})}animate(e){this.setTime(e)}setTime(e){this.animations.forEach(t=>t.animate(e))}getAnimations(){return this.animations}}class gMe extends X_{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this.onBeforeRender=null,this.AfterRender=null,e instanceof q_?(this.model=e,this._setModelNodeProps(t)):this.model=new q_(e,t),this.bounds=null,this.managedResources=t.managedResources||[]}setProps(e){return super.setProps(e),this._setModelNodeProps(e),this}getBounds(){return this.bounds}delete(){this.model&&(this.model.delete(),this.model=null),this.managedResources.forEach(e=>e.delete()),this.managedResources=[]}draw(){return this.model.draw(...arguments)}setUniforms(){return this.model.setUniforms(...arguments),this}setAttributes(){return this.model.setAttributes(...arguments),this}updateModuleSettings(){return this.model.updateModuleSettings(...arguments),this}_setModelNodeProps(e){this.model.setProps(e)}}class _Me{constructor(e,t){let{attributes:i,material:r,pbrDebug:o,imageBasedLightingEnvironment:s,lights:a,useTangents:c}=t;this.gl=e,this.defines={MANUAL_SRGB:1,SRGB_FAST_APPROXIMATION:1},r2(e,"GLSL_TEXTURE_LOD")&&(this.defines.USE_TEX_LOD=1),this.uniforms={u_Camera:[0,0,0],u_MetallicRoughnessValues:[1,1]},this.parameters={},this.generatedTextures=[],s&&(this.uniforms.u_DiffuseEnvSampler=s.getDiffuseEnvSampler(),this.uniforms.u_SpecularEnvSampler=s.getSpecularEnvSampler(),this.uniforms.u_brdfLUT=s.getBrdfTexture(),this.uniforms.u_ScaleIBLAmbient=[1,1]),o&&(this.uniforms.u_ScaleDiffBaseMR=[0,0,0,0],this.uniforms.u_ScaleFGDSpec=[0,0,0,0]),this.defineIfPresent(i.NORMAL,"HAS_NORMALS"),this.defineIfPresent(i.TANGENT&&c,"HAS_TANGENTS"),this.defineIfPresent(i.TEXCOORD_0,"HAS_UV"),this.defineIfPresent(s,"USE_IBL"),this.defineIfPresent(a,"USE_LIGHTS"),this.defineIfPresent(o,"PBR_DEBUG"),r&&this.parseMaterial(r)}defineIfPresent(e,t){e&&(this.defines[t]=1)}parseTexture(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=e.texture.source.image;let s,a={};o.compressed?(s=o,a={[this.gl.TEXTURE_MIN_FILTER]:o.data.length>1?this.gl.LINEAR_MIPMAP_NEAREST:this.gl.LINEAR}):s={data:o};const c=new Vs(this.gl,{id:e.name||e.id,parameters:{...e.texture&&e.texture.sampler&&e.texture.sampler.parameters||{},...a},pixelStore:{[this.gl.UNPACK_FLIP_Y_WEBGL]:!1},...s});this.uniforms[t]=c,this.defineIfPresent(i,i),this.generatedTextures.push(c)}parsePbrMetallicRoughness(e){e.baseColorTexture&&this.parseTexture(e.baseColorTexture,"u_BaseColorSampler","HAS_BASECOLORMAP"),this.uniforms.u_BaseColorFactor=e.baseColorFactor||[1,1,1,1],e.metallicRoughnessTexture&&this.parseTexture(e.metallicRoughnessTexture,"u_MetallicRoughnessSampler","HAS_METALROUGHNESSMAP");const{metallicFactor:t=1,roughnessFactor:i=1}=e;this.uniforms.u_MetallicRoughnessValues=[t,i]}parseMaterial(e){if(this.uniforms.pbr_uUnlit=!!e.unlit,e.pbrMetallicRoughness&&this.parsePbrMetallicRoughness(e.pbrMetallicRoughness),e.normalTexture){this.parseTexture(e.normalTexture,"u_NormalSampler","HAS_NORMALMAP");const{scale:t=1}=e.normalTexture;this.uniforms.u_NormalScale=t}if(e.occlusionTexture){this.parseTexture(e.occlusionTexture,"u_OcclusionSampler","HAS_OCCLUSIONMAP");const{strength:t=1}=e.occlusionTexture;this.uniforms.u_OcclusionStrength=t}if(e.emissiveTexture&&(this.parseTexture(e.emissiveTexture,"u_EmissiveSampler","HAS_EMISSIVEMAP"),this.uniforms.u_EmissiveFactor=e.emissiveFactor||[0,0,0]),"MASK"===e.alphaMode){const{alphaCutoff:t=.5}=e;this.defines.ALPHA_CUTOFF=1,this.uniforms.u_AlphaCutoff=t}else"BLEND"===e.alphaMode&&(Rn.warn("BLEND alphaMode might not work well because it requires mesh sorting")(),Object.assign(this.parameters,{blend:!0,blendEquation:this.gl.FUNC_ADD,blendFunc:[this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA]}))}delete(){this.generatedTextures.forEach(e=>e.delete())}}function nq(n,e){return Oi(n)?"#version 300 es\n".concat(e):e}const wMe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xMe={modelOptions:{},pbrDebug:!1,imageBasedLightingEnvironment:null,lights:!0,useTangents:!1};class EMe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.options=Object.assign({},xMe,t)}instantiate(e){return this.gltf=e,(e.scenes||[]).map(i=>this.createScene(i))}createAnimator(){return Array.isArray(this.gltf.animations)?new mMe(this.gltf):null}createScene(e){const i=(e.nodes||[]).map(o=>this.createNode(o));return new Q0({id:e.name||e.id,children:i})}createNode(e){if(!e._node){const i=(e.children||[]).map(o=>this.createNode(o));e.mesh&&i.push(this.createMesh(e.mesh));const r=new Q0({id:e.name||e.id,children:i});if(e.matrix)r.setMatrix(e.matrix);else{if(r.matrix.identity(),e.translation&&r.matrix.translate(e.translation),e.rotation){const o=(new Bt).fromQuaternion(e.rotation);r.matrix.multiplyRight(o)}e.scale&&r.matrix.scale(e.scale)}e._node=r}return e._node}createMesh(e){if(!e._mesh){const i=(e.primitives||[]).map((o,s)=>this.createPrimitive(o,s,e)),r=new Q0({id:e.name||e.id,children:i});e._mesh=r}return e._mesh}getVertexCount(e){Rn.warn("getVertexCount() not found")()}createPrimitive(e,t,i){const r=function vMe(n,e){const{id:t,drawMode:i,vertexCount:r,attributes:o,modelOptions:s}=e,a=new _Me(n,e);Rn.info(4,"createGLTFModel defines: ",a.defines)();const c=[];c.push(...a.generatedTextures),c.push(...Object.values(o).map(d=>d.buffer));const l=new gMe(n,{id:t,drawMode:i,vertexCount:r,modules:[q7],parameters:a.parameters,vs:nq(n,"\n#if (__VERSION__ < 300)\n  #define _attr attribute\n#else\n  #define _attr in\n#endif\n\n  _attr vec4 POSITION;\n\n  #ifdef HAS_NORMALS\n    _attr vec4 NORMAL;\n  #endif\n\n  #ifdef HAS_TANGENTS\n    _attr vec4 TANGENT;\n  #endif\n\n  #ifdef HAS_UV\n    _attr vec2 TEXCOORD_0;\n  #endif\n\n  void main(void) {\n    vec4 _NORMAL = vec4(0.);\n    vec4 _TANGENT = vec4(0.);\n    vec2 _TEXCOORD_0 = vec2(0.);\n\n    #ifdef HAS_NORMALS\n      _NORMAL = NORMAL;\n    #endif\n\n    #ifdef HAS_TANGENTS\n      _TANGENT = TANGENT;\n    #endif\n\n    #ifdef HAS_UV\n      _TEXCOORD_0 = TEXCOORD_0;\n    #endif\n\n    pbr_setPositionNormalTangentUV(POSITION, _NORMAL, _TANGENT, _TEXCOORD_0);\n    gl_Position = u_MVPMatrix * POSITION;\n  }\n"),fs:nq(n,"\n#if (__VERSION__ < 300)\n  #define fragmentColor gl_FragColor\n#else\n  out vec4 fragmentColor;\n#endif\n\n  void main(void) {\n    fragmentColor = pbr_filterColor(vec4(0));\n  }\n"),managedResources:c,...s,defines:{...a.defines,...s.defines}});return l.setProps({attributes:o}),l.setUniforms(a.uniforms),l}(this.gl,Object.assign({id:e.name||"".concat(i.name||i.id,"-primitive-").concat(t),drawMode:e.mode||4,vertexCount:e.indices?e.indices.count:this.getVertexCount(e.attributes),attributes:this.createAttributes(e.attributes,e.indices),material:e.material},this.options));return r.bounds=[e.attributes.POSITION.min,e.attributes.POSITION.max],r}createAttributes(e,t){const i={};return Object.keys(e).forEach(r=>{i[r]=this.createAccessor(e[r],this.createBuffer(e[r],this.gl.ARRAY_BUFFER))}),t&&(i.indices=this.createAccessor(t,this.createBuffer(t,this.gl.ELEMENT_ARRAY_BUFFER))),Rn.info(4,"glTF Attributes",{attributes:e,indices:t,generated:i})(),i}createBuffer(e,t){e.bufferView||(e.bufferView={});const{bufferView:i}=e;return i.lumaBuffers||(i.lumaBuffers={}),i.lumaBuffers[t]||(i.lumaBuffers[t]=new Ar(this.gl,{id:"from-".concat(i.id),data:i.data||e.value,target:t})),i.lumaBuffers[t]}createAccessor(e,t){return new sc({buffer:t,offset:e.byteOffset||0,stride:e.bufferView.byteStride||0,type:e.componentType,size:wMe[e.type]})}createSampler(e){return e}needsPOT(){return!1}}var Z0=T(2435);const TMe="3.2.13",BN={};function Kp(n){return jN.apply(this,arguments)}function jN(){return jN=R(function*(n,e=null,t={}){return e&&(n=function MMe(n,e,t){if(n.startsWith("http"))return n;const i=t.modules||{};return i[n]?i[n]:ef?t.CDN?(Ed(t.CDN.startsWith("http")),"".concat(t.CDN,"/").concat(e,"@").concat(TMe,"/dist/libs/").concat(n)):S2?"../src/libs/".concat(n):"modules/".concat(e,"/src/libs/").concat(n):"modules/".concat(e,"/dist/libs/").concat(n)}(n,e,t)),BN[n]=BN[n]||function IMe(n){return UN.apply(this,arguments)}(n),yield BN[n]}),jN.apply(this,arguments)}function UN(){return UN=R(function*(n){if(n.endsWith("wasm"))return yield(yield fetch(n)).arrayBuffer();if(!ef)try{return Z0&&Z0.requireFromFile&&(yield Z0.requireFromFile(n))}catch{return null}return S2?importScripts(n):function DMe(n,e){if(!ef)return Z0.requireFromString&&Z0.requireFromString(n,e);if(S2)return eval.call(sEe,n),null;const t=document.createElement("script");t.id=e;try{t.appendChild(document.createTextNode(n))}catch{t.text=n}return document.body.appendChild(t),null}(yield(yield fetch(n)).text(),n)}),UN.apply(this,arguments)}const OMe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.wasm"),RMe="https://unpkg.com/@loaders.gl/textures@".concat("3.2.13","/dist/libs/basis_encoder.js");let VN,GN;function rq(n){return zN.apply(this,arguments)}function zN(){return zN=R(function*(n){const e=n.modules||{};return e.basis?e.basis:(VN=VN||function kMe(n){return HN.apply(this,arguments)}(n),yield VN)}),zN.apply(this,arguments)}function HN(){return HN=R(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield Kp("basis_transcoder.js","textures",n),yield Kp("basis_transcoder.wasm","textures",n)]),e=e||globalThis.BASIS,yield function PMe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,initializeBasis:s}=r;s(),i({BasisFile:o})})})}(e,t)}),HN.apply(this,arguments)}function oq(n){return WN.apply(this,arguments)}function WN(){return WN=R(function*(n){const e=n.modules||{};return e.basisEncoder?e.basisEncoder:(GN=GN||function NMe(n){return $N.apply(this,arguments)}(n),yield GN)}),WN.apply(this,arguments)}function $N(){return $N=R(function*(n){let e=null,t=null;return[e,t]=yield Promise.all([yield Kp(RMe,"textures",n),yield Kp(OMe,"textures",n)]),e=e||globalThis.BASIS,yield function FMe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n(t).then(r=>{const{BasisFile:o,KTX2File:s,initializeBasis:a,BasisEncoder:c}=r;a(),i({BasisFile:o,KTX2File:s,BasisEncoder:c})})})}(e,t)}),$N.apply(this,arguments)}const LMe=["","WEBKIT_","MOZ_"],sq={WEBGL_compressed_texture_s3tc:"dxt",WEBGL_compressed_texture_s3tc_srgb:"dxt-srgb",WEBGL_compressed_texture_etc1:"etc1",WEBGL_compressed_texture_etc:"etc2",WEBGL_compressed_texture_pvrtc:"pvrtc",WEBGL_compressed_texture_atc:"atc",WEBGL_compressed_texture_astc:"astc",EXT_texture_compression_rgtc:"rgtc"};let yS=null;var qN,vS,XN,wS,cq,YN,lq,dq;new Uint8Array([0]),function(n){n[n.NONE=0]="NONE",n[n.BASISLZ=1]="BASISLZ",n[n.ZSTD=2]="ZSTD",n[n.ZLIB=3]="ZLIB"}(qN||(qN={})),function(n){n[n.BASICFORMAT=0]="BASICFORMAT"}(vS||(vS={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.ETC1S=163]="ETC1S",n[n.UASTC=166]="UASTC"}(XN||(XN={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.SRGB=1]="SRGB"}(wS||(wS={})),function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.LINEAR=1]="LINEAR",n[n.SRGB=2]="SRGB",n[n.ITU=3]="ITU",n[n.NTSC=4]="NTSC",n[n.SLOG=5]="SLOG",n[n.SLOG2=6]="SLOG2"}(cq||(cq={})),function(n){n[n.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",n[n.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(YN||(YN={})),function(n){n[n.RGB=0]="RGB",n[n.RRR=3]="RRR",n[n.GGG=4]="GGG",n[n.AAA=15]="AAA"}(lq||(lq={})),function(n){n[n.RGB=0]="RGB",n[n.RGBA=3]="RGBA",n[n.RRR=4]="RRR",n[n.RRRG=5]="RRRG"}(dq||(dq={}));const Oc=[171,75,84,88,32,50,48,187,13,10,26,10],HMe={etc1:{basisFormat:0,compressed:!0,format:36196},etc2:{basisFormat:1,compressed:!0},bc1:{basisFormat:2,compressed:!0,format:33776},bc3:{basisFormat:3,compressed:!0,format:33779},bc4:{basisFormat:4,compressed:!0},bc5:{basisFormat:5,compressed:!0},"bc7-m6-opaque-only":{basisFormat:6,compressed:!0},"bc7-m5":{basisFormat:7,compressed:!0},"pvrtc1-4-rgb":{basisFormat:8,compressed:!0,format:35840},"pvrtc1-4-rgba":{basisFormat:9,compressed:!0,format:35842},"astc-4x4":{basisFormat:10,compressed:!0,format:37808},"atc-rgb":{basisFormat:11,compressed:!0},"atc-rgba-interpolated-alpha":{basisFormat:12,compressed:!0},rgba32:{basisFormat:13,compressed:!1},rgb565:{basisFormat:14,compressed:!1},bgr565:{basisFormat:15,compressed:!1},rgba4444:{basisFormat:16,compressed:!1}};function JN(){return JN=R(function*(n,e){if("auto"===e.basis.containerFormat){if(function zMe(n){const e=new Uint8Array(n);return!(e.byteLength<Oc.length||e[0]!==Oc[0]||e[1]!==Oc[1]||e[2]!==Oc[2]||e[3]!==Oc[3]||e[4]!==Oc[4]||e[5]!==Oc[5]||e[6]!==Oc[6]||e[7]!==Oc[7]||e[8]!==Oc[8]||e[9]!==Oc[9]||e[10]!==Oc[10]||e[11]!==Oc[11])}(n))return fq((yield oq(e)).KTX2File,n,e);const{BasisFile:t}=yield rq(e);return QN(t,n,e)}if("encoder"===e.basis.module){const t=yield oq(e);return"ktx2"===e.basis.containerFormat?fq(t.KTX2File,n,e):QN(t.BasisFile,n,e)}{const{BasisFile:i}=yield rq(e);return QN(i,n,e)}}),JN.apply(this,arguments)}function QN(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("Failed to start basis transcoding");const r=i.getNumImages(),o=[];for(let s=0;s<r;s++){const a=i.getNumLevels(s),c=[];for(let l=0;l<a;l++)c.push(WMe(i,s,l,t));o.push(c)}return o}finally{i.close(),i.delete()}}function WMe(n,e,t,i){const r=n.getImageWidth(e,t),o=n.getImageHeight(e,t),s=n.getHasAlpha(),{compressed:a,format:c,basisFormat:l}=pq(i,s),d=n.getImageTranscodedSizeInBytes(e,t,l),h=new Uint8Array(d);if(!n.transcodeImage(h,e,t,l,0,0))throw new Error("failed to start Basis transcoding");return{width:r,height:o,data:h,compressed:a,format:c,hasAlpha:s}}function fq(n,e,t){const i=new n(new Uint8Array(e));try{if(!i.startTranscoding())throw new Error("failed to start KTX2 transcoding");const r=i.getLevels(),o=[];for(let s=0;s<r;s++){o.push($Me(i,s,t));break}return[o]}finally{i.close(),i.delete()}}function $Me(n,e,t){const{alphaFlag:i,height:r,width:o}=n.getImageLevelInfo(e,0,0),{compressed:s,format:a,basisFormat:c}=pq(t,i),l=n.getImageTranscodedSizeInBytes(e,0,0,c),d=new Uint8Array(l);if(!n.transcodeImage(d,e,0,0,c,0,-1,-1))throw new Error("Failed to transcode KTX2 image");return{width:o,height:r,data:d,compressed:s,hasAlpha:i,format:a}}function pq(n,e){let t=n&&n.basis&&n.basis.format;return"auto"===t&&(t=mq()),"object"==typeof t&&(t=e?t.alpha:t.noAlpha),t=t.toLowerCase(),HMe[t]}function mq(){const n=function BMe(n){if(!yS){n=n||function jMe(){try{return document.createElement("canvas").getContext("webgl")}catch{return null}}()||void 0,yS=new Set;for(const e of LMe)for(const t in sq)n&&n.getExtension("".concat(e).concat(t))&&yS.add(sq[t])}return yS}();return n.has("astc")?"astc-4x4":n.has("dxt")?{alpha:"bc3",noAlpha:"bc1"}:n.has("pvrtc")?{alpha:"pvrtc1-4-rgba",noAlpha:"pvrtc1-4-rgb"}:n.has("etc1")?"etc1":n.has("etc2")?"etc2":"rgb565"}const qMe={name:"Basis",id:"basis",module:"textures",version:"3.2.13",worker:!0,extensions:["basis","ktx2"],mimeTypes:["application/octet-stream","image/ktx2"],tests:["sB"],binary:!0,options:{basis:{format:"auto",libraryPath:"libs/",containerFormat:"auto",module:"transcoder"}},parse:function GMe(n,e){return JN.apply(this,arguments)}};function Jp(n,e){if(!n)throw new Error(e||"loader assertion failed.")}typeof self<"u"&&self,typeof window<"u"&&window,typeof global<"u"&&global,typeof document<"u"&&document;const ES=!("object"==typeof process&&"[object process]"===String(process)&&!process.browser),gq=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version),{_parseImageNode:YMe}=(gq&&parseFloat(gq[1]),globalThis),ZN=typeof Image<"u",eF=typeof ImageBitmap<"u",tF=!!ES||!!YMe;function _q(n){const e=function yq(n){return typeof ImageBitmap<"u"&&n instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&n instanceof Image?"image":n&&"object"==typeof n&&n.data&&n.width&&n.height?"data":null}(n);if(!e)throw new Error("Not an image");return e}const QMe=/^data:image\/svg\+xml/,ZMe=/\.svg((\?|#).*)?$/;function nF(n){return n&&(QMe.test(n)||ZMe.test(n))}function vq(n,e){if(nF(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(n)])}function wq(n,e,t){return iF.apply(this,arguments)}function iF(){return iF=R(function*(n,e,t){const i=function eIe(n,e){if(nF(e)){let i=(new TextDecoder).decode(n);try{"function"==typeof unescape&&"function"==typeof encodeURIComponent&&(i=unescape(encodeURIComponent(i)))}catch(o){throw new Error(o.message)}return"data:image/svg+xml;base64,".concat(btoa(i))}return vq(n,e)}(n,t),r=self.URL||self.webkitURL,o="string"!=typeof i&&r.createObjectURL(i);try{return yield function tIe(n,e){return rF.apply(this,arguments)}(o||i,e)}finally{o&&r.revokeObjectURL(o)}}),iF.apply(this,arguments)}function rF(){return rF=R(function*(n,e){const t=new Image;return t.src=n,e.image&&e.image.decode&&t.decode?(yield t.decode(),t):yield new Promise((i,r)=>{try{t.onload=()=>i(t),t.onerror=o=>r(new Error("Could not load image ".concat(n,": ").concat(o)))}catch(o){r(o)}})}),rF.apply(this,arguments)}const nIe={};let xq=!0;function oF(){return oF=R(function*(n,e,t){let i;i=nF(t)?yield wq(n,e,t):vq(n,t);const r=e&&e.imagebitmap;return yield function rIe(n){return sF.apply(this,arguments)}(i,r)}),oF.apply(this,arguments)}function sF(){return sF=R(function*(n,e=null){if((function oIe(n){for(const e in n||nIe)return!1;return!0}(e)||!xq)&&(e=null),e)try{return yield createImageBitmap(n,e)}catch(t){console.warn(t),xq=!1}return yield createImageBitmap(n)}),sF.apply(this,arguments)}const Od=!1,tw=!0;function aF(n){const e=nw(n);return function sIe(n){const e=nw(n);return e.byteLength>=24&&2303741511===e.getUint32(0,Od)?{mimeType:"image/png",width:e.getUint32(16,Od),height:e.getUint32(20,Od)}:null}(e)||function lIe(n){const e=nw(n);if(!(e.byteLength>=3&&65496===e.getUint16(0,Od)&&255===e.getUint8(2)))return null;const{tableMarkers:i,sofMarkers:r}=function dIe(){const n=new Set([65499,65476,65484,65501,65534]);for(let t=65504;t<65520;++t)n.add(t);return{tableMarkers:n,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,Od);if(r.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,Od),width:e.getUint16(o+7,Od)};if(!i.has(s))return null;o+=2,o+=e.getUint16(o,Od)}return null}(e)||function aIe(n){const e=nw(n);return e.byteLength>=10&&1195984440===e.getUint32(0,Od)?{mimeType:"image/gif",width:e.getUint16(6,tw),height:e.getUint16(8,tw)}:null}(e)||function cIe(n){const e=nw(n);return e.byteLength>=14&&16973===e.getUint16(0,Od)&&e.getUint32(2,tw)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,tw),height:e.getUint32(22,tw)}:null}(e)}function nw(n){if(n instanceof DataView)return n;if(ArrayBuffer.isView(n))return new DataView(n.buffer);if(n instanceof ArrayBuffer)return new DataView(n);throw new Error("toDataView")}function cF(){return cF=R(function*(n,e){const{mimeType:t}=aF(n)||{},i=globalThis._parseImageNode;return Jp(i),yield i(n,t)}),cF.apply(this,arguments)}function lF(){return lF=R(function*(n,e,t){const r=((e=e||{}).image||{}).type||"auto",{url:o}=t||{},s=function fIe(n){switch(n){case"auto":case"data":return function JMe(){if(eF)return"imagebitmap";if(ZN)return"image";if(tF)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function KMe(n){switch(n){case"auto":return eF||ZN||tF;case"imagebitmap":return eF;case"image":return ZN;case"data":return tF;default:throw new Error("@loaders.gl/images: image ".concat(n," not supported in this environment"))}}(n),n}}(r);let a;switch(s){case"imagebitmap":a=yield function iIe(n,e,t){return oF.apply(this,arguments)}(n,e,o);break;case"image":a=yield wq(n,e,o);break;case"data":a=yield function uIe(n,e){return cF.apply(this,arguments)}(n,e);break;default:Jp(!1)}return"data"===r&&(a=function bq(n){switch(_q(n)){case"data":return n;case"image":case"imagebitmap":const e=document.createElement("canvas"),t=e.getContext("2d");if(!t)throw new Error("getImageData");return e.width=n.width,e.height=n.height,t.drawImage(n,0,0),t.getImageData(0,0,n.width,n.height);default:throw new Error("getImageData")}}(a)),a}),lF.apply(this,arguments)}const pIe={id:"image",module:"images",name:"Images",version:"3.2.13",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:function hIe(n,e,t){return lF.apply(this,arguments)},tests:[n=>!!aF(new DataView(n))],options:{image:{type:"auto",decode:!0}}};function Eq(n,e,t){if(n.byteLength<=e+t)return"";const i=new DataView(n);let r="";for(let o=0;o<t;o++)r+=String.fromCharCode(i.getUint8(e+o));return r}function Cq(n,e,t){const i=void 0!==t?new Uint8Array(n).subarray(e,e+t):new Uint8Array(n).subarray(e);return new Uint8Array(i).buffer}function Rc(n,e){if(!n)throw new Error(e||"assert failed: gltf")}function Aq(n,e){if(n.startsWith("data:")||n.startsWith("http:")||n.startsWith("https:"))return n;const i=e.baseUri||e.uri;if(!i)throw new Error("'baseUri' must be provided to resolve relative url ".concat(n));return i.substr(0,i.lastIndexOf("/")+1)+n}function iw(n,e){return Jp(n>=0),Jp(e>0),n+(e-1)&~(e-1)}function _Ie(n,e,t){let i;return i=n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer||n.arrayBuffer,n.byteOffset,n.byteLength),e.set(i,t),t+iw(i.byteLength,4)}const Tq=["SCALAR","VEC2","VEC3","VEC4"],bIe=[[Int8Array,5120],[Uint8Array,5121],[Int16Array,5122],[Uint16Array,5123],[Uint32Array,5125],[Float32Array,5126],[Float64Array,5130]],yIe=new Map(bIe),vIe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},wIe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},xIe={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array};function Mq(n){return Tq[n-1]||Tq[0]}function Iq(n){const e=yIe.get(n.constructor);if(!e)throw new Error("Illegal typed array");return e}function Dq(n,e){const t=xIe[n.componentType],i=vIe[n.type],o=n.count*i,s=n.count*i*wIe[n.componentType];return Rc(s>=0&&s<=e.byteLength),{ArrayType:t,length:o,byteLength:s}}const EIe={asset:{version:"2.0",generator:"loaders.gl"},buffers:[]};class sl{constructor(e){pe(this,"gltf",void 0),pe(this,"sourceBuffers",void 0),pe(this,"byteLength",void 0),this.gltf=e||{json:{...EIe},buffers:[]},this.sourceBuffers=[],this.byteLength=0,this.gltf.buffers&&this.gltf.buffers[0]&&(this.byteLength=this.gltf.buffers[0].byteLength,this.sourceBuffers=[this.gltf.buffers[0]])}get json(){return this.gltf.json}getApplicationData(e){return this.json[e]}getExtraData(e){return(this.json.extras||{})[e]}getExtension(e){return this.getUsedExtensions().find(r=>r===e)?(this.json.extensions||{})[e]||!0:null}getRequiredExtension(e){return this.getRequiredExtensions().find(i=>i===e)?this.getExtension(e):null}getRequiredExtensions(){return this.json.extensionsRequired||[]}getUsedExtensions(){return this.json.extensionsUsed||[]}getObjectExtension(e,t){return(e.extensions||{})[t]}getScene(e){return this.getObject("scenes",e)}getNode(e){return this.getObject("nodes",e)}getSkin(e){return this.getObject("skins",e)}getMesh(e){return this.getObject("meshes",e)}getMaterial(e){return this.getObject("materials",e)}getAccessor(e){return this.getObject("accessors",e)}getTexture(e){return this.getObject("textures",e)}getSampler(e){return this.getObject("samplers",e)}getImage(e){return this.getObject("images",e)}getBufferView(e){return this.getObject("bufferViews",e)}getBuffer(e){return this.getObject("buffers",e)}getObject(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];if(!i)throw new Error("glTF file error: Could not find ".concat(e,"[").concat(t,"]"));return i}getTypedArrayForBufferView(e){e=this.getBufferView(e);const i=this.gltf.buffers[e.buffer];return Rc(i),new Uint8Array(i.arrayBuffer,(e.byteOffset||0)+i.byteOffset,e.byteLength)}getTypedArrayForAccessor(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data,{ArrayType:o,length:s}=Dq(e,t);return new o(r,t.byteOffset+e.byteOffset,s)}getTypedArrayForImageData(e){e=this.getAccessor(e);const t=this.getBufferView(e.bufferView),r=this.getBuffer(t.buffer).data;return new Uint8Array(r,t.byteOffset||0,t.byteLength)}addApplicationData(e,t){return this.json[e]=t,this}addExtraData(e,t){return this.json.extras=this.json.extras||{},this.json.extras[e]=t,this}addObjectExtension(e,t,i){return e.extensions=e.extensions||{},e.extensions[t]=i,this.registerUsedExtension(t),this}setObjectExtension(e,t,i){(e.extensions||{})[t]=i}removeObjectExtension(e,t){const i=e.extensions||{},r=i[t];return delete i[t],r}addExtension(e,t={}){return Rc(t),this.json.extensions=this.json.extensions||{},this.json.extensions[e]=t,this.registerUsedExtension(e),t}addRequiredExtension(e,t={}){return Rc(t),this.addExtension(e,t),this.registerRequiredExtension(e),t}registerUsedExtension(e){this.json.extensionsUsed=this.json.extensionsUsed||[],this.json.extensionsUsed.find(t=>t===e)||this.json.extensionsUsed.push(e)}registerRequiredExtension(e){this.registerUsedExtension(e),this.json.extensionsRequired=this.json.extensionsRequired||[],this.json.extensionsRequired.find(t=>t===e)||this.json.extensionsRequired.push(e)}removeExtension(e){this.json.extensionsRequired&&this._removeStringFromArray(this.json.extensionsRequired,e),this.json.extensionsUsed&&this._removeStringFromArray(this.json.extensionsUsed,e),this.json.extensions&&delete this.json.extensions[e]}setDefaultScene(e){this.json.scene=e}addScene(e){const{nodeIndices:t}=e;return this.json.scenes=this.json.scenes||[],this.json.scenes.push({nodes:t}),this.json.scenes.length-1}addNode(e){const{meshIndex:t,matrix:i}=e;this.json.nodes=this.json.nodes||[];const r={mesh:t};return i&&(r.matrix=i),this.json.nodes.push(r),this.json.nodes.length-1}addMesh(e){const{attributes:t,indices:i,material:r,mode:o=4}=e,a={primitives:[{attributes:this._addAttributes(t),mode:o}]};if(i){const c=this._addIndices(i);a.primitives[0].indices=c}return Number.isFinite(r)&&(a.primitives[0].material=r),this.json.meshes=this.json.meshes||[],this.json.meshes.push(a),this.json.meshes.length-1}addPointCloud(e){const i={primitives:[{attributes:this._addAttributes(e),mode:0}]};return this.json.meshes=this.json.meshes||[],this.json.meshes.push(i),this.json.meshes.length-1}addImage(e,t){const i=aF(e),r=t||i?.mimeType,s={bufferView:this.addBufferView(e),mimeType:r};return this.json.images=this.json.images||[],this.json.images.push(s),this.json.images.length-1}addBufferView(e){const t=e.byteLength;Rc(Number.isFinite(t)),this.sourceBuffers=this.sourceBuffers||[],this.sourceBuffers.push(e);const i={buffer:0,byteOffset:this.byteLength,byteLength:t};return this.byteLength+=iw(t,4),this.json.bufferViews=this.json.bufferViews||[],this.json.bufferViews.push(i),this.json.bufferViews.length-1}addAccessor(e,t){const i={bufferView:e,type:Mq(t.size),componentType:t.componentType,count:t.count,max:t.max,min:t.min};return this.json.accessors=this.json.accessors||[],this.json.accessors.push(i),this.json.accessors.length-1}addBinaryBuffer(e,t={size:3}){const i=this.addBufferView(e);let r={min:t.min,max:t.max};(!r.min||!r.max)&&(r=this._getAccessorMinMax(e,t.size));const o={size:t.size,componentType:Iq(e),count:Math.round(e.length/t.size),min:r.min,max:r.max};return this.addAccessor(i,Object.assign(o,t))}addTexture(e){const{imageIndex:t}=e,i={source:t};return this.json.textures=this.json.textures||[],this.json.textures.push(i),this.json.textures.length-1}addMaterial(e){return this.json.materials=this.json.materials||[],this.json.materials.push(e),this.json.materials.length-1}createBinaryChunk(){var e,t;this.gltf.buffers=[];const i=this.byteLength,r=new ArrayBuffer(i),o=new Uint8Array(r);let s=0;for(const a of this.sourceBuffers||[])s=_Ie(a,o,s);null!==(e=this.json)&&void 0!==e&&null!==(t=e.buffers)&&void 0!==t&&t[0]?this.json.buffers[0].byteLength=i:this.json.buffers=[{byteLength:i}],this.gltf.binary=r,this.sourceBuffers=[r]}_removeStringFromArray(e,t){let i=!0;for(;i;){const r=e.indexOf(t);r>-1?e.splice(r,1):i=!1}}_addAttributes(e={}){const t={};for(const i in e){const r=e[i],o=this._getGltfAttributeName(i),s=this.addBinaryBuffer(r.value,r);t[o]=s}return t}_addIndices(e){return this.addBinaryBuffer(e,{size:1})}_getGltfAttributeName(e){switch(e.toLowerCase()){case"position":case"positions":case"vertices":return"POSITION";case"normal":case"normals":return"NORMAL";case"color":case"colors":return"COLOR_0";case"texcoord":case"texcoords":return"TEXCOORD_0";default:return e}}_getAccessorMinMax(e,t){const i={min:null,max:null};if(e.length<t)return i;i.min=[],i.max=[];const r=e.subarray(0,t);for(const o of r)i.min.push(o),i.max.push(o);for(let o=t;o<e.length;o+=t)for(let s=0;s<t;s++)i.min[0+s]=Math.min(i.min[0+s],e[o+s]),i.max[0+s]=Math.max(i.max[0+s],e[o+s]);return i}}const AIe="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",SIe="B9h9z9tFBBBF8dL9gBB9gLaaaaaFa9gEaaaB9gGaaB9gFaFaEQSBBFBFFGEGEGIILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBNn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBcI9z9iqlBMc/j9JSIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMkRIbaG97FaK978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAnDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAnDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAnDeBJAeCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPD8dBhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBAeCx+YUUBJDBBBHnAnDQBBBBBBBBBBBBBBBBAPD8dFhUg/8/4/w/goB9+h84k7HeCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAnDeBJAeCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBRnCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBHiCFD9tAiAPD9OD9hD9RHiDQBTFtGmEYIPLdKeOnH8ZAIAQJDBIBHpCFD9tApAPD9OD9hD9RHpAIASJDBIBHyCFD9tAyAPD9OD9hD9RHyDQBTFtGmEYIPLdKeOnH8cDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAnD9uHnDyBjGBAEAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnA8ZA8cDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNiV8ZcpMyS8cQ8df8eb8fHdApAyDQNiV8ZcpMyS8cQ8df8eb8fHiDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJHIAnAdAiDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHnDyBjGBAIAGJHIAnAPAPDQILKOILKOILKOILKOD9uHnDyBjGBAIAGJHIAnAPAPDQNVcMNVcMNVcMNVcMD9uHnDyBjGBAIAGJHIAnAPAPDQSQfbSQfbSQfbSQfbD9uHnDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/xLGEaK978jUUUUBCAlHE8kUUUUBGXGXAGCI9HQBGXAFC98ZHI9FQBABRGCBRLEXAGAGDBBBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMBBAGCTJRGALCIJHLAI9JQBMMAIAF9PQFAEAFCEZHLCGWHGqCBCTAGl/8MBAEABAICGWJHIAG/8cBBGXAL9FQBAEAEDBIBHKCiD+rFCiD+sFD/6FHOAKCND+rFCiD+sFD/6FAOD/gFAKCTD+rFCiD+sFD/6FHND/gFD/kFD/lFHVCBDtD+2FHcAOCUUUU94DtHMD9OD9RD/kFHO9DBB/+hDYAOAOD/mFAVAVD/mFANAcANAMD9OD9RD/kFHOAOD/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHcD/kFCgFDtD9OAKCUUU94DtD9OD9QAOAND/mFAcD/kFCND+rFCU/+EDtD9OD9QAVAND/mFAcD/kFCTD+rFCUU/8ODtD9OD9QDMIBMAIAEAG/8cBBSFMABAFC98ZHGT+HUUUBAGAF9PQBAEAFCEZHICEWHLJCBCAALl/8MBAEABAGCEWJHGAL/8cBBAEAIT+HUUUBAGAEAL/8cBBMAECAJ8kUUUUBM+yEGGaO97GXAF9FQBCBRGEXABCTJHEAEDBBBHICBDtHLCUU98D8cFCUU98D8cEHKD9OABDBBBHOAIDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAOAIDQBFGENVcMTtmYi8ZpyHICTD+sFD/6FHND/gFAICTD+rFCTD+sFD/6FHVD/gFD/kFD/lFHI9DB/+g6DYAVAIALD+2FHLAVCUUUU94DtHcD9OD9RD/kFHVAVD/mFAIAID/mFANALANAcD9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHND/mF9DBBX9LDYHLD/kFCTD+rFAVAND/mFALD/kFCggEDtD9OD9QHVAIAND/mFALD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHIDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAOAKD9OAVAIDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM94FEa8jUUUUBCAlHE8kUUUUBABAFC98ZHIT+JUUUBGXAIAF9PQBAEAFCEZHLCEWHFJCBCAAFl/8MBAEABAICEWJHBAF/8cBBAEALT+JUUUBABAEAF/8cBBMAECAJ8kUUUUBM/hEIGaF97FaL978jUUUUBCTlRGGXAF9FQBCBREEXAGABDBBBHIABCTJHLDBBBHKDQILKOSQfbPden8c8d8e8fHOCTD+sFHNCID+rFDMIBAB9DBBU8/DY9D/zI818/DYANCEDtD9QD/6FD/nFHNAIAKDQBFGENVcMTtmYi8ZpyHICTD+rFCTD+sFD/6FD/mFHKAKD/mFANAICTD+sFD/6FD/mFHVAVD/mFANAOCTD+rFCTD+sFD/6FD/mFHOAOD/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHND/mF9DBBX9LDYHID/kFCggEDtHcD9OAVAND/mFAID/kFCTD+rFD9QHVAOAND/mFAID/kFCTD+rFAKAND/mFAID/kFAcD9OD9QHNDQBFTtGEmYILPdKOenHID8dBAGDBIBDyB+t+J83EBABCNJAID8dFAGDBIBDyF+t+J83EBALAVANDQNVi8ZcMpySQ8c8dfb8e8fHND8dBAGDBIBDyG+t+J83EBABCiJAND8dFAGDBIBDyE+t+J83EBABCAJRBAECIJHEAF9JQBMMM/3FGEaF978jUUUUBCoBlREGXAGCGrAF9sHIC98ZHL9FQBCBRGABRFEXAFAFDBBBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBAFCTJRFAGCIJHGAL9JQBMMGXALAI9PQBAEAICEZHGCGWHFqCBCoBAFl/8MBAEABALCGWJHLAF/8cBBGXAG9FQBAEAEDBIBHKCND+rFCND+sFD/6FAKCiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMIBMALAEAF/8cBBMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",TIe=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),MIe=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]),Oq={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},IIe={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};function fF(){return fF=R(function*(n,e,t,i,r,o="NONE"){const s=yield function CS(){return mF.apply(this,arguments)}();!function AS(n,e,t,i,r,o,s){const a=n.exports.sbrk,c=i+3&-4,l=a(c*r),d=a(o.length),h=new Uint8Array(n.exports.memory.buffer);h.set(o,d);const f=e(l,i,r,d,o.length);if(0===f&&s&&s(l,c,r),t.set(h.subarray(l,l+i*r)),a(l-a(0)),0!==f)throw new Error("Malformed buffer data: ".concat(f))}(s,s.exports[IIe[r]],n,e,t,i,s.exports[Oq[o||"NONE"]])}),fF.apply(this,arguments)}let pF;function mF(){return mF=R(function*(){return pF||(pF=function OIe(){return gF.apply(this,arguments)}()),pF}),mF.apply(this,arguments)}function gF(){return gF=R(function*(){let n=AIe;WebAssembly.validate(TIe)&&(n=SIe,console.log("Warning: meshopt_decoder is using experimental SIMD support"));const e=yield WebAssembly.instantiate(function RIe(n){const e=new Uint8Array(n.length);for(let i=0;i<n.length;++i){const r=n.charCodeAt(i);e[i]=r>96?r-71:r>64?r-65:r>47?r+4:r>46?63:62}let t=0;for(let i=0;i<n.length;++i)e[t++]=e[i]<60?MIe[e[i]]:64*(e[i]-60)+e[++i];return e.buffer.slice(0,t)}(n),{});return yield e.instance.exports.__wasm_call_ctors(),e.instance}),gF.apply(this,arguments)}const _F="EXT_meshopt_compression",kIe=_F;function PIe(n,e){return bF.apply(this,arguments)}function bF(){return bF=R(function*(n,e){var t;const i=new sl(n);if(null==e||null===(t=e.gltf)||void 0===t||!t.decompressMeshes)return;const r=[];for(const o of n.json.bufferViews||[])r.push(NIe(i,o));yield Promise.all(r),i.removeExtension(_F)}),bF.apply(this,arguments)}function NIe(n,e){return yF.apply(this,arguments)}function yF(){return yF=R(function*(n,e){const t=n.getObjectExtension(e,_F);if(t){const{byteOffset:i=0,byteLength:r=0,byteStride:o,count:s,mode:a,filter:c="NONE",buffer:l}=t,d=n.gltf.buffers[l],h=new Uint8Array(d.arrayBuffer,d.byteOffset+i,r),f=new Uint8Array(n.gltf.buffers[e.buffer].arrayBuffer,e.byteOffset,e.byteLength);return yield function DIe(n,e,t,i,r){return fF.apply(this,arguments)}(f,s,o,h,a,c),f}return null}),yF.apply(this,arguments)}const FIe=["image/png","image/jpeg","image/gif"],vF={};const K_="EXT_texture_webp",UIe=K_;function VIe(n,e){const t=new sl(n);if(!function LIe(n){return void 0===vF[n]&&(vF[n]=function BIe(n){switch(n){case"image/webp":return function jIe(){if(!ES)return!1;try{return 0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch{return!1}}();case"image/svg":return ES;default:if(!ES){const{_parseImageNode:e}=globalThis;return!!e&&FIe.includes(n)}return!0}}(n)),vF[n]}("image/webp")){if(t.getRequiredExtensions().includes(K_))throw new Error("gltf: Required extension ".concat(K_," not supported by browser"));return}const{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,K_);o&&(r.source=o.source),t.removeObjectExtension(r,K_)}t.removeExtension(K_)}const SS="KHR_texture_basisu",zIe=SS;function HIe(n,e){const t=new sl(n),{json:i}=t;for(const r of i.textures||[]){const o=t.getObjectExtension(r,SS);o&&(r.source=o.source),t.removeObjectExtension(r,SS)}t.removeExtension(SS)}const kq={name:"Draco",id:"draco",module:"draco",shapes:["mesh"],version:"3.2.13",worker:!0,extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"==typeof WebAssembly?"wasm":"js",libraryPath:"libs/",extraAttributes:{},attributeNameEntry:void 0}}};class TS{constructor(e,t,i=!1,r=new Map){pe(this,"name",void 0),pe(this,"type",void 0),pe(this,"nullable",void 0),pe(this,"metadata",void 0),this.name=e,this.type=t,this.nullable=i,this.metadata=r}get typeId(){return this.type&&this.type.typeId}clone(){return new TS(this.name,this.type,this.nullable,this.metadata)}compareTo(e){return this.name===e.name&&this.type===e.type&&this.nullable===e.nullable&&this.metadata===e.metadata}toString(){return"".concat(this.type).concat(this.nullable?", nullable":"").concat(this.metadata?", metadata: ".concat(this.metadata):"")}}let Zi,Pq,Nq,Fq,Lq,Bq,jq,Uq,Vq;!function(n){n[n.NONE=0]="NONE",n[n.Null=1]="Null",n[n.Int=2]="Int",n[n.Float=3]="Float",n[n.Binary=4]="Binary",n[n.Utf8=5]="Utf8",n[n.Bool=6]="Bool",n[n.Decimal=7]="Decimal",n[n.Date=8]="Date",n[n.Time=9]="Time",n[n.Timestamp=10]="Timestamp",n[n.Interval=11]="Interval",n[n.List=12]="List",n[n.Struct=13]="Struct",n[n.Union=14]="Union",n[n.FixedSizeBinary=15]="FixedSizeBinary",n[n.FixedSizeList=16]="FixedSizeList",n[n.Map=17]="Map",n[n.Dictionary=-1]="Dictionary",n[n.Int8=-2]="Int8",n[n.Int16=-3]="Int16",n[n.Int32=-4]="Int32",n[n.Int64=-5]="Int64",n[n.Uint8=-6]="Uint8",n[n.Uint16=-7]="Uint16",n[n.Uint32=-8]="Uint32",n[n.Uint64=-9]="Uint64",n[n.Float16=-10]="Float16",n[n.Float32=-11]="Float32",n[n.Float64=-12]="Float64",n[n.DateDay=-13]="DateDay",n[n.DateMillisecond=-14]="DateMillisecond",n[n.TimestampSecond=-15]="TimestampSecond",n[n.TimestampMillisecond=-16]="TimestampMillisecond",n[n.TimestampMicrosecond=-17]="TimestampMicrosecond",n[n.TimestampNanosecond=-18]="TimestampNanosecond",n[n.TimeSecond=-19]="TimeSecond",n[n.TimeMillisecond=-20]="TimeMillisecond",n[n.TimeMicrosecond=-21]="TimeMicrosecond",n[n.TimeNanosecond=-22]="TimeNanosecond",n[n.DenseUnion=-23]="DenseUnion",n[n.SparseUnion=-24]="SparseUnion",n[n.IntervalDayTime=-25]="IntervalDayTime",n[n.IntervalYearMonth=-26]="IntervalYearMonth"}(Zi||(Zi={}));class al{static isNull(e){return e&&e.typeId===Zi.Null}static isInt(e){return e&&e.typeId===Zi.Int}static isFloat(e){return e&&e.typeId===Zi.Float}static isBinary(e){return e&&e.typeId===Zi.Binary}static isUtf8(e){return e&&e.typeId===Zi.Utf8}static isBool(e){return e&&e.typeId===Zi.Bool}static isDecimal(e){return e&&e.typeId===Zi.Decimal}static isDate(e){return e&&e.typeId===Zi.Date}static isTime(e){return e&&e.typeId===Zi.Time}static isTimestamp(e){return e&&e.typeId===Zi.Timestamp}static isInterval(e){return e&&e.typeId===Zi.Interval}static isList(e){return e&&e.typeId===Zi.List}static isStruct(e){return e&&e.typeId===Zi.Struct}static isUnion(e){return e&&e.typeId===Zi.Union}static isFixedSizeBinary(e){return e&&e.typeId===Zi.FixedSizeBinary}static isFixedSizeList(e){return e&&e.typeId===Zi.FixedSizeList}static isMap(e){return e&&e.typeId===Zi.Map}static isDictionary(e){return e&&e.typeId===Zi.Dictionary}get typeId(){return Zi.NONE}compareTo(e){return this===e}}Symbol,Symbol,Pq=Symbol.toStringTag;class rf extends al{constructor(e,t){super(),pe(this,"isSigned",void 0),pe(this,"bitWidth",void 0),this.isSigned=e,this.bitWidth=t}get typeId(){return Zi.Int}get[Pq](){return"Int"}toString(){return"".concat(this.isSigned?"I":"Ui","nt").concat(this.bitWidth)}}class WIe extends rf{constructor(){super(!0,8)}}class $Ie extends rf{constructor(){super(!0,16)}}class qIe extends rf{constructor(){super(!0,32)}}class XIe extends rf{constructor(){super(!1,8)}}class YIe extends rf{constructor(){super(!1,16)}}class KIe extends rf{constructor(){super(!1,32)}}Nq=Symbol.toStringTag;class xF extends al{constructor(e){super(),pe(this,"precision",void 0),this.precision=e}get typeId(){return Zi.Float}get[Nq](){return"Float"}toString(){return"Float".concat(this.precision)}}class JIe extends xF{constructor(){super(32)}}class QIe extends xF{constructor(){super(64)}}Symbol,Symbol,Fq=Symbol.toStringTag,Lq=Symbol.toStringTag,Bq=Symbol.toStringTag,jq=Symbol.toStringTag,Uq=Symbol.toStringTag;class ZIe extends al{constructor(e,t){super(),pe(this,"listSize",void 0),pe(this,"children",void 0),this.listSize=e,this.children=[t]}get typeId(){return Zi.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get[Uq](){return"FixedSizeList"}toString(){return"FixedSizeList[".concat(this.listSize,"]<").concat(this.valueType,">")}}Vq=Symbol.toStringTag;class J_{constructor(e,t){pe(this,"fields",void 0),pe(this,"metadata",void 0),function iDe(n,e){if(!n)throw new Error(e||"loader assertion failed.")}(Array.isArray(e)),function rDe(n){const e={};for(const t of n)e[t.name]&&console.warn("Schema: duplicated field name",t.name,t),e[t.name]=!0}(e),this.fields=e,this.metadata=t||new Map}compareTo(e){if(this.metadata!==e.metadata||this.fields.length!==e.fields.length)return!1;for(let t=0;t<this.fields.length;++t)if(!this.fields[t].compareTo(e.fields[t]))return!1;return!0}select(...e){const t=Object.create(null);for(const r of e)t[r]=!0;const i=this.fields.filter(r=>t[r.name]);return new J_(i,this.metadata)}selectAt(...e){const t=e.map(i=>this.fields[i]).filter(Boolean);return new J_(t,this.metadata)}assign(e){let t,i=this.metadata;if(e instanceof J_){const s=e;t=s.fields,i=$q($q(new Map,this.metadata),s.metadata)}else t=e;const r=Object.create(null);for(const s of this.fields)r[s.name]=s;for(const s of t)r[s.name]=s;const o=Object.values(r);return new J_(o,i)}}function $q(n,e){return new Map([...n||new Map,...e||new Map])}function qq(n,e,t){return function Wq(n,e,t){const i=function eDe(n){switch(n.constructor){case Int8Array:return new WIe;case Uint8Array:return new XIe;case Int16Array:return new $Ie;case Uint16Array:return new YIe;case Int32Array:return new qIe;case Uint32Array:return new KIe;case Float32Array:return new JIe;case Float64Array:return new QIe;default:throw new Error("array type not supported")}}(e.value),r=t||function nDe(n){const e=new Map;return"byteOffset"in n&&e.set("byteOffset",n.byteOffset.toString(10)),"byteStride"in n&&e.set("byteStride",n.byteStride.toString(10)),"normalized"in n&&e.set("normalized",n.normalized.toString()),e}(e);return new TS(n,new ZIe(e.size,new TS("value",i)),!1,r)}(n,e,t?Xq(t.metadata):void 0)}function Xq(n){const e=new Map;for(const t in n)e.set("".concat(t,".string"),JSON.stringify(n[t]));return e}const Yq={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},aDe={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array};class lDe{constructor(e){pe(this,"draco",void 0),pe(this,"decoder",void 0),pe(this,"metadataQuerier",void 0),this.draco=e,this.decoder=new this.draco.Decoder,this.metadataQuerier=new this.draco.MetadataQuerier}destroy(){this.draco.destroy(this.decoder),this.draco.destroy(this.metadataQuerier)}parseSync(e,t={}){const i=new this.draco.DecoderBuffer;i.Init(new Int8Array(e),e.byteLength),this._disableAttributeTransforms(t);const r=this.decoder.GetEncodedGeometryType(i),o=r===this.draco.TRIANGULAR_MESH?new this.draco.Mesh:new this.draco.PointCloud;try{let s;switch(r){case this.draco.TRIANGULAR_MESH:s=this.decoder.DecodeBufferToMesh(i,o);break;case this.draco.POINT_CLOUD:s=this.decoder.DecodeBufferToPointCloud(i,o);break;default:throw new Error("DRACO: Unknown geometry type.")}if(!s.ok()||!o.ptr){const f="DRACO decompression failed: ".concat(s.error_msg());throw new Error(f)}const a=this._getDracoLoaderData(o,r,t),c=this._getMeshData(o,a,t),l=function GIe(n){let e=1/0,t=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;const a=n.POSITION?n.POSITION.value:[],c=a&&a.length;for(let l=0;l<c;l+=3){const d=a[l],h=a[l+1],f=a[l+2];e=d<e?d:e,t=h<t?h:t,i=f<i?f:i,r=d>r?d:r,o=h>o?h:o,s=f>s?f:s}return[[e,t,i],[r,o,s]]}(c.attributes),d=function oDe(n,e,t){const i=Xq(e.metadata),r=[],o=function sDe(n){const e={};for(const t in n){const i=n[t];e[i.name||"undefined"]=i}return e}(e.attributes);for(const s in n){const c=qq(s,n[s],o[s]);r.push(c)}if(t){const s=qq("indices",t);r.push(s)}return new J_(r,i)}(c.attributes,a,c.indices);return{loader:"draco",loaderData:a,header:{vertexCount:o.num_points(),boundingBox:l},...c,schema:d}}finally{this.draco.destroy(i),o&&this.draco.destroy(o)}}_getDracoLoaderData(e,t,i){const r=this._getTopLevelMetadata(e),o=this._getDracoAttributes(e,i);return{geometry_type:t,num_attributes:e.num_attributes(),num_points:e.num_points(),num_faces:e instanceof this.draco.Mesh?e.num_faces():0,metadata:r,attributes:o}}_getDracoAttributes(e,t){const i={};for(let r=0;r<e.num_attributes();r++){const o=this.decoder.GetAttribute(e,r),s=this._getAttributeMetadata(e,r);i[o.unique_id()]={unique_id:o.unique_id(),attribute_type:o.attribute_type(),data_type:o.data_type(),num_components:o.num_components(),byte_offset:o.byte_offset(),byte_stride:o.byte_stride(),normalized:o.normalized(),attribute_index:r,metadata:s};const a=this._getQuantizationTransform(o,t);a&&(i[o.unique_id()].quantization_transform=a);const c=this._getOctahedronTransform(o,t);c&&(i[o.unique_id()].octahedron_transform=c)}return i}_getMeshData(e,t,i){const r=this._getMeshAttributes(t,e,i);if(!r.POSITION)throw new Error("DRACO: No position attribute found.");return e instanceof this.draco.Mesh?"triangle-strip"===i.topology?{topology:"triangle-strip",mode:4,attributes:r,indices:{value:this._getTriangleStripIndices(e),size:1}}:{topology:"triangle-list",mode:5,attributes:r,indices:{value:this._getTriangleListIndices(e),size:1}}:{topology:"point-list",mode:0,attributes:r}}_getMeshAttributes(e,t,i){const r={};for(const o of Object.values(e.attributes)){const s=this._deduceAttributeName(o,i);o.name=s;const{value:a,size:c}=this._getAttributeValues(t,o);r[s]={value:a,size:c,byteOffset:o.byte_offset,byteStride:o.byte_stride,normalized:o.normalized}}return r}_getTriangleListIndices(e){const i=3*e.num_faces(),r=4*i,o=this.draco._malloc(r);try{return this.decoder.GetTrianglesUInt32Array(e,r,o),new Uint32Array(this.draco.HEAPF32.buffer,o,i).slice()}finally{this.draco._free(o)}}_getTriangleStripIndices(e){const t=new this.draco.DracoInt32Array;try{return this.decoder.GetTriangleStripsFromMesh(e,t),function hDe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(t)}finally{this.draco.destroy(t)}}_getAttributeValues(e,t){const i=aDe[t.data_type],r=t.num_components,s=e.num_points()*r,a=s*i.BYTES_PER_ELEMENT,c=function dDe(n,e){switch(e){case Float32Array:return n.DT_FLOAT32;case Int8Array:return n.DT_INT8;case Int16Array:return n.DT_INT16;case Int32Array:return n.DT_INT32;case Uint8Array:return n.DT_UINT8;case Uint16Array:return n.DT_UINT16;case Uint32Array:return n.DT_UINT32;default:return n.DT_INVALID}}(this.draco,i);let l;const d=this.draco._malloc(a);try{const h=this.decoder.GetAttribute(e,t.attribute_index);this.decoder.GetAttributeDataArrayForAllPoints(e,h,c,a,d),l=new i(this.draco.HEAPF32.buffer,d,s).slice()}finally{this.draco._free(d)}return{value:l,size:r}}_deduceAttributeName(e,t){const i=e.unique_id;for(const[s,a]of Object.entries(t.extraAttributes||{}))if(a===i)return s;const r=e.attribute_type;for(const s in Yq)if(this.draco[s]===r)return Yq[s];const o=t.attributeNameEntry||"name";return e.metadata[o]?e.metadata[o].string:"CUSTOM_ATTRIBUTE_".concat(i)}_getTopLevelMetadata(e){const t=this.decoder.GetMetadata(e);return this._getDracoMetadata(t)}_getAttributeMetadata(e,t){const i=this.decoder.GetAttributeMetadata(e,t);return this._getDracoMetadata(i)}_getDracoMetadata(e){if(!e||!e.ptr)return{};const t={},i=this.metadataQuerier.NumEntries(e);for(let r=0;r<i;r++){const o=this.metadataQuerier.GetEntryName(e,r);t[o]=this._getDracoMetadataField(e,o)}return t}_getDracoMetadataField(e,t){const i=new this.draco.DracoInt32Array;try{this.metadataQuerier.GetIntEntryArray(e,t,i);const r=function uDe(n){const e=n.size(),t=new Int32Array(e);for(let i=0;i<e;i++)t[i]=n.GetValue(i);return t}(i);return{int:this.metadataQuerier.GetIntEntry(e,t),string:this.metadataQuerier.GetStringEntry(e,t),double:this.metadataQuerier.GetDoubleEntry(e,t),intArray:r}}finally{this.draco.destroy(i)}}_disableAttributeTransforms(e){const{quantizedAttributes:t=[],octahedronAttributes:i=[]}=e,r=[...t,...i];for(const o of r)this.decoder.SkipAttributeTransform(this.draco[o])}_getQuantizationTransform(e,t){const{quantizedAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits(),range:s.range(),min_values:new Float32Array([1,2,3]).map(a=>s.min_value(a))}}finally{this.draco.destroy(s)}}return null}_getOctahedronTransform(e,t){const{octahedronAttributes:i=[]}=t,r=e.attribute_type();if(i.map(s=>this.decoder[s]).includes(r)){const s=new this.draco.AttributeQuantizationTransform;try{if(s.InitFromAttribute(e))return{quantization_bits:s.quantization_bits()}}finally{this.draco.destroy(s)}}return null}}const IS="1.4.1",fDe="https://www.gstatic.com/draco/versioned/decoders/".concat(IS,"/draco_decoder.js"),pDe="https://www.gstatic.com/draco/versioned/decoders/".concat(IS,"/draco_wasm_wrapper.js"),mDe="https://www.gstatic.com/draco/versioned/decoders/".concat(IS,"/draco_decoder.wasm");let rw;function AF(){return AF=R(function*(n){const e=n.modules||{};return rw=e.draco3d?rw||e.draco3d.createDecoderModule({}).then(t=>({draco:t})):rw||function bDe(n){return TF.apply(this,arguments)}(n),yield rw}),AF.apply(this,arguments)}function TF(){return TF=R(function*(n){let e,t;return"js"===(n.draco&&n.draco.decoderType)?e=yield Kp(fDe,"draco",n):[e,t]=yield Promise.all([yield Kp(pDe,"draco",n),yield Kp(mDe,"draco",n)]),e=e||globalThis.DracoDecoderModule,yield function yDe(n,e){const t={};return e&&(t.wasmBinary=e),new Promise(i=>{n({...t,onModuleLoaded:r=>i({draco:r})})})}(e,t)}),TF.apply(this,arguments)}"https://raw.githubusercontent.com/google/draco/".concat(IS,"/javascript/draco_encoder.js");const IF={...kq,parse:function wDe(n,e){return DF.apply(this,arguments)}};function DF(){return DF=R(function*(n,e){const{draco:t}=yield function _De(n){return AF.apply(this,arguments)}(e),i=new lDe(t);try{return i.parseSync(n,e?.draco)}finally{i.destroy()}}),DF.apply(this,arguments)}function Kq(n){const{buffer:e,size:t,count:i}=function EDe(n){let e=n,t=1,i=0;return n&&n.value&&(e=n.value,t=n.size||1),e&&(ArrayBuffer.isView(e)||(e=function CDe(n,e,t=!1){return n?Array.isArray(n)?new e(n):!t||n instanceof e?n:new e(n):null}(e,Float32Array)),i=e.length/t),{buffer:e,size:t,count:i}}(n);return{value:e,size:t,byteOffset:0,count:i,type:Mq(t),componentType:Iq(e)}}const Qp="KHR_draco_mesh_compression",ADe=Qp;function SDe(n,e,t){const i=new sl(n);for(const r of Jq(i))i.getObjectExtension(r,Qp)}function TDe(n,e,t){return OF.apply(this,arguments)}function OF(){return OF=R(function*(n,e,t){var i;if(null==e||null===(i=e.gltf)||void 0===i||!i.decompressMeshes)return;const r=new sl(n),o=[];for(const s of Jq(r))r.getObjectExtension(s,Qp)&&o.push(IDe(r,s,e,t));yield Promise.all(o),r.removeExtension(Qp)}),OF.apply(this,arguments)}function MDe(n,e={}){const t=new sl(n);for(const i of t.json.meshes||[])DDe(i),t.addRequiredExtension(Qp)}function IDe(n,e,t,i){return RF.apply(this,arguments)}function RF(){return RF=R(function*(n,e,t,i){const r=n.getObjectExtension(e,Qp);if(!r)return;const o=n.getTypedArrayForBufferView(r.bufferView),s=Cq(o.buffer,o.byteOffset),{parse:a}=i,c={...t};delete c["3d-tiles"];const l=yield a(s,IF,c,i),d=function xDe(n){const e={};for(const t in n)if("indices"!==t){const r=Kq(n[t]);e[t]=r}return e}(l.attributes);for(const[h,f]of Object.entries(d))if(h in e.attributes){const g=n.getAccessor(e.attributes[h]);null!=g&&g.min&&null!=g&&g.max&&(f.min=g.min,f.max=g.max)}e.attributes=d,l.indices&&(e.indices=Kq(l.indices)),function ODe(n){if(!n.attributes&&Object.keys(n.attributes).length>0)throw new Error("glTF: Empty primitive detected: Draco decompression failure?")}(e)}),RF.apply(this,arguments)}function DDe(n,e,t=4,i,r){var o;if(!i.DracoWriter)throw new Error("options.gltf.DracoWriter not provided");const s=i.DracoWriter.encodeSync({attributes:n}),a=null==r||null===(o=r.parseSync)||void 0===o?void 0:o.call(r,{attributes:n}),c=i._addFauxAttributes(a.attributes),l=i.addBufferView(s);return{primitives:[{attributes:c,mode:t,extensions:{[Qp]:{bufferView:l,attributes:c}}}]}}function*Jq(n){for(const e of n.json.meshes||[])for(const t of e.primitives)yield t}const Zp="KHR_lights_punctual",RDe=Zp;function kDe(n){return kF.apply(this,arguments)}function kF(){return kF=R(function*(n){const e=new sl(n),{json:t}=e,i=e.getExtension(Zp);i&&(e.json.lights=i.lights,e.removeExtension(Zp));for(const r of t.nodes||[]){const o=e.getObjectExtension(r,Zp);o&&(r.light=o.light),e.removeObjectExtension(r,Zp)}}),kF.apply(this,arguments)}function PDe(n){return PF.apply(this,arguments)}function PF(){return PF=R(function*(n){const e=new sl(n),{json:t}=e;if(t.lights){const i=e.addExtension(Zp);Rc(!i.lights),i.lights=t.lights,delete t.lights}if(e.json.lights){for(const i of e.json.lights)e.addObjectExtension(i.node,Zp,i);delete e.json.lights}}),PF.apply(this,arguments)}const sw="KHR_materials_unlit",NDe=sw;function FDe(n){return NF.apply(this,arguments)}function NF(){return NF=R(function*(n){const e=new sl(n),{json:t}=e;e.removeExtension(sw);for(const i of t.materials||[])i.extensions&&i.extensions.KHR_materials_unlit&&(i.unlit=!0),e.removeObjectExtension(i,sw)}),NF.apply(this,arguments)}function LDe(n){const e=new sl(n),{json:t}=e;if(e.materials)for(const i of t.materials||[])i.unlit&&(delete i.unlit,e.addObjectExtension(i,sw,{}),e.addExtension(sw))}const aw="KHR_techniques_webgl",BDe=aw;function jDe(n){return FF.apply(this,arguments)}function FF(){return FF=R(function*(n){const e=new sl(n),{json:t}=e,i=e.getExtension(aw);if(i){const r=function VDe(n,e){const{programs:t=[],shaders:i=[],techniques:r=[]}=n,o=new TextDecoder;return i.forEach(s=>{if(!Number.isFinite(s.bufferView))throw new Error("KHR_techniques_webgl: no shader code");s.code=o.decode(e.getTypedArrayForBufferView(s.bufferView))}),t.forEach(s=>{s.fragmentShader=i[s.fragmentShader],s.vertexShader=i[s.vertexShader]}),r.forEach(s=>{s.program=t[s.program]}),r}(i,e);for(const o of t.materials||[]){const s=e.getObjectExtension(o,aw);s&&(o.technique=Object.assign({},s,r[s.technique]),o.technique.values=zDe(o.technique,e)),e.removeObjectExtension(o,aw)}e.removeExtension(aw)}}),FF.apply(this,arguments)}function UDe(n,e){return LF.apply(this,arguments)}function LF(){return(LF=R(function*(n,e){})).apply(this,arguments)}function zDe(n,e){const t=Object.assign({},n.values);return Object.keys(n.uniforms||{}).forEach(i=>{n.uniforms[i].value&&!(i in t)&&(t[i]=n.uniforms[i].value)}),Object.keys(t).forEach(i=>{"object"==typeof t[i]&&void 0!==t[i].index&&(t[i].texture=e.getTexture(t[i].index))}),t}const Qq=[J,C,q,Y,ne,w,E];function BF(){return BF=R(function*(n,e={},t){const i=Qq.filter(o=>Zq(o.name,e));for(const o of i){var r;yield null===(r=o.decode)||void 0===r?void 0:r.call(o,n,e,t)}}),BF.apply(this,arguments)}function Zq(n,e){var t;const i=(null==e||null===(t=e.gltf)||void 0===t?void 0:t.excludeExtensions)||{};return!(n in i&&!i[n])}const jF="KHR_binary_glTF",eX={accessors:"accessor",animations:"animation",buffers:"buffer",bufferViews:"bufferView",images:"image",materials:"material",meshes:"mesh",nodes:"node",samplers:"sampler",scenes:"scene",skins:"skin",textures:"texture"},$De={accessor:"accessors",animations:"animation",buffer:"buffers",bufferView:"bufferViews",image:"images",material:"materials",mesh:"meshes",node:"nodes",sampler:"samplers",scene:"scenes",skin:"skins",texture:"textures"};class qDe{constructor(){pe(this,"idToIndexMap",{animations:{},accessors:{},buffers:{},bufferViews:{},images:{},materials:{},meshes:{},nodes:{},samplers:{},scenes:{},skins:{},textures:{}}),pe(this,"json",void 0)}normalize(e,t){this.json=e.json;const i=e.json;switch(i.asset&&i.asset.version){case"2.0":return;case void 0:case"1.0":break;default:return void console.warn("glTF: Unknown version ".concat(i.asset.version))}if(!t.normalize)throw new Error("glTF v1 is not supported.");console.warn("Converting glTF v1 to glTF v2 format. This is experimental and may fail."),this._addAsset(i),this._convertTopLevelObjectsToArrays(i),function WDe(n){const e=new sl(n),{json:t}=e;for(const i of t.images||[]){const r=e.getObjectExtension(i,jF);r&&Object.assign(i,r),e.removeObjectExtension(i,jF)}t.buffers&&t.buffers[0]&&delete t.buffers[0].uri,e.removeExtension(jF)}(e),this._convertObjectIdsToArrayIndices(i),this._updateObjects(i),this._updateMaterial(i)}_addAsset(e){e.asset=e.asset||{},e.asset.version="2.0",e.asset.generator=e.asset.generator||"Normalized to glTF 2.0 by loaders.gl"}_convertTopLevelObjectsToArrays(e){for(const t in eX)this._convertTopLevelObjectToArray(e,t)}_convertTopLevelObjectToArray(e,t){const i=e[t];if(i&&!Array.isArray(i)){e[t]=[];for(const r in i){const o=i[r];o.id=o.id||r;const s=e[t].length;e[t].push(o),this.idToIndexMap[t][r]=s}}}_convertObjectIdsToArrayIndices(e){for(const t in eX)this._convertIdsToIndices(e,t);"scene"in e&&(e.scene=this._convertIdToIndex(e.scene,"scene"));for(const t of e.textures)this._convertTextureIds(t);for(const t of e.meshes)this._convertMeshIds(t);for(const t of e.nodes)this._convertNodeIds(t);for(const t of e.scenes)this._convertSceneIds(t)}_convertTextureIds(e){e.source&&(e.source=this._convertIdToIndex(e.source,"image"))}_convertMeshIds(e){for(const t of e.primitives){const{attributes:i,indices:r,material:o}=t;for(const s in i)i[s]=this._convertIdToIndex(i[s],"accessor");r&&(t.indices=this._convertIdToIndex(r,"accessor")),o&&(t.material=this._convertIdToIndex(o,"material"))}}_convertNodeIds(e){e.children&&(e.children=e.children.map(t=>this._convertIdToIndex(t,"node"))),e.meshes&&(e.meshes=e.meshes.map(t=>this._convertIdToIndex(t,"mesh")))}_convertSceneIds(e){e.nodes&&(e.nodes=e.nodes.map(t=>this._convertIdToIndex(t,"node")))}_convertIdsToIndices(e,t){e[t]||(console.warn("gltf v1: json doesn't contain attribute ".concat(t)),e[t]=[]);for(const i of e[t])for(const r in i){const s=this._convertIdToIndex(i[r],r);i[r]=s}}_convertIdToIndex(e,t){const i=$De[t];if(i in this.idToIndexMap){const r=this.idToIndexMap[i][e];if(!Number.isFinite(r))throw new Error("gltf v1: failed to resolve ".concat(t," with id ").concat(e));return r}return e}_updateObjects(e){for(const t of this.json.buffers)delete t.type}_updateMaterial(e){for(const o of e.materials){var t,i,r;o.pbrMetallicRoughness={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};const s=(null===(t=o.values)||void 0===t?void 0:t.tex)||(null===(i=o.values)||void 0===i?void 0:i.texture2d_0)||(null===(r=o.values)||void 0===r?void 0:r.diffuseTex),a=e.textures.findIndex(c=>c.id===s);-1!==a&&(o.pbrMetallicRoughness.baseColorTexture={index:a})}}}const YDe={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},KDe={5120:1,5121:1,5122:2,5123:2,5125:4,5126:4},JDe={magFilter:10240,minFilter:10241,wrapS:10242,wrapT:10243},QDe={10240:9729,10241:9986,10242:10497,10243:10497};class tOe{constructor(){pe(this,"baseUri",""),pe(this,"json",{}),pe(this,"buffers",[]),pe(this,"images",[])}postProcess(e,t={}){const{json:i,buffers:r=[],images:o=[],baseUri:s=""}=e;return Rc(i),this.baseUri=s,this.json=i,this.buffers=r,this.images=o,this._resolveTree(this.json,t),this.json}_resolveTree(e,t={}){e.bufferViews&&(e.bufferViews=e.bufferViews.map((i,r)=>this._resolveBufferView(i,r))),e.images&&(e.images=e.images.map((i,r)=>this._resolveImage(i,r))),e.samplers&&(e.samplers=e.samplers.map((i,r)=>this._resolveSampler(i,r))),e.textures&&(e.textures=e.textures.map((i,r)=>this._resolveTexture(i,r))),e.accessors&&(e.accessors=e.accessors.map((i,r)=>this._resolveAccessor(i,r))),e.materials&&(e.materials=e.materials.map((i,r)=>this._resolveMaterial(i,r))),e.meshes&&(e.meshes=e.meshes.map((i,r)=>this._resolveMesh(i,r))),e.nodes&&(e.nodes=e.nodes.map((i,r)=>this._resolveNode(i,r))),e.skins&&(e.skins=e.skins.map((i,r)=>this._resolveSkin(i,r))),e.scenes&&(e.scenes=e.scenes.map((i,r)=>this._resolveScene(i,r))),void 0!==e.scene&&(e.scene=e.scenes[this.json.scene])}getScene(e){return this._get("scenes",e)}getNode(e){return this._get("nodes",e)}getSkin(e){return this._get("skins",e)}getMesh(e){return this._get("meshes",e)}getMaterial(e){return this._get("materials",e)}getAccessor(e){return this._get("accessors",e)}getCamera(e){return null}getTexture(e){return this._get("textures",e)}getSampler(e){return this._get("samplers",e)}getImage(e){return this._get("images",e)}getBufferView(e){return this._get("bufferViews",e)}getBuffer(e){return this._get("buffers",e)}_get(e,t){if("object"==typeof t)return t;const i=this.json[e]&&this.json[e][t];return i||console.warn("glTF file error: Could not find ".concat(e,"[").concat(t,"]")),i}_resolveScene(e,t){return e.id=e.id||"scene-".concat(t),e.nodes=(e.nodes||[]).map(i=>this.getNode(i)),e}_resolveNode(e,t){return e.id=e.id||"node-".concat(t),e.children&&(e.children=e.children.map(i=>this.getNode(i))),void 0!==e.mesh?e.mesh=this.getMesh(e.mesh):void 0!==e.meshes&&e.meshes.length&&(e.mesh=e.meshes.reduce((i,r)=>{const o=this.getMesh(r);return i.id=o.id,i.primitives=i.primitives.concat(o.primitives),i},{primitives:[]})),void 0!==e.camera&&(e.camera=this.getCamera(e.camera)),void 0!==e.skin&&(e.skin=this.getSkin(e.skin)),e}_resolveSkin(e,t){return e.id=e.id||"skin-".concat(t),e.inverseBindMatrices=this.getAccessor(e.inverseBindMatrices),e}_resolveMesh(e,t){return e.id=e.id||"mesh-".concat(t),e.primitives&&(e.primitives=e.primitives.map(i=>{const r=(i={...i}).attributes;i.attributes={};for(const o in r)i.attributes[o]=this.getAccessor(r[o]);return void 0!==i.indices&&(i.indices=this.getAccessor(i.indices)),void 0!==i.material&&(i.material=this.getMaterial(i.material)),i})),e}_resolveMaterial(e,t){if(e.id=e.id||"material-".concat(t),e.normalTexture&&(e.normalTexture={...e.normalTexture},e.normalTexture.texture=this.getTexture(e.normalTexture.index)),e.occlusionTexture&&(e.occlustionTexture={...e.occlustionTexture},e.occlusionTexture.texture=this.getTexture(e.occlusionTexture.index)),e.emissiveTexture&&(e.emmisiveTexture={...e.emmisiveTexture},e.emissiveTexture.texture=this.getTexture(e.emissiveTexture.index)),e.emissiveFactor||(e.emissiveFactor=e.emmisiveTexture?[1,1,1]:[0,0,0]),e.pbrMetallicRoughness){e.pbrMetallicRoughness={...e.pbrMetallicRoughness};const i=e.pbrMetallicRoughness;i.baseColorTexture&&(i.baseColorTexture={...i.baseColorTexture},i.baseColorTexture.texture=this.getTexture(i.baseColorTexture.index)),i.metallicRoughnessTexture&&(i.metallicRoughnessTexture={...i.metallicRoughnessTexture},i.metallicRoughnessTexture.texture=this.getTexture(i.metallicRoughnessTexture.index))}return e}_resolveAccessor(e,t){if(e.id=e.id||"accessor-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView)),e.bytesPerComponent=function ZDe(n){return KDe[n]}(e.componentType),e.components=function eOe(n){return YDe[n]}(e.type),e.bytesPerElement=e.bytesPerComponent*e.components,e.bufferView){const i=e.bufferView.buffer,{ArrayType:r,byteLength:o}=Dq(e,e.bufferView),s=(e.bufferView.byteOffset||0)+(e.byteOffset||0)+i.byteOffset;let a=i.arrayBuffer.slice(s,s+o);e.bufferView.byteStride&&(a=this._getValueFromInterleavedBuffer(i,s,e.bufferView.byteStride,e.bytesPerElement,e.count)),e.value=new r(a)}return e}_getValueFromInterleavedBuffer(e,t,i,r,o){const s=new Uint8Array(o*r);for(let a=0;a<o;a++){const c=t+a*i;s.set(new Uint8Array(e.arrayBuffer.slice(c,c+r)),a*r)}return s.buffer}_resolveTexture(e,t){return e.id=e.id||"texture-".concat(t),e.sampler="sampler"in e?this.getSampler(e.sampler):QDe,e.source=this.getImage(e.source),e}_resolveSampler(e,t){e.id=e.id||"sampler-".concat(t),e.parameters={};for(const i in e){const r=this._enumSamplerParameter(i);void 0!==r&&(e.parameters[r]=e[i])}return e}_enumSamplerParameter(e){return JDe[e]}_resolveImage(e,t){e.id=e.id||"image-".concat(t),void 0!==e.bufferView&&(e.bufferView=this.getBufferView(e.bufferView));const i=this.images[t];return i&&(e.image=i),e}_resolveBufferView(e,t){const i=e.buffer,r={id:"bufferView-".concat(t),...e,buffer:this.buffers[i]};let s=this.buffers[i].byteOffset||0;return"byteOffset"in e&&(s+=e.byteOffset),r.data=new Uint8Array(this.buffers[i].arrayBuffer,s,e.byteLength),r}_resolveCamera(e,t){return e.id=e.id||"camera-".concat(t),e}}const tX=1735152710,UF=12,DS=8,iOe=1313821514,rOe=5130562,oOe=0,sOe=1,aOe=0,Q_=!0;function VF(n,e,t,i){const r=new Uint8Array(e.buffer,t,i),s=new TextDecoder("utf8").decode(r);return n.json=JSON.parse(s),iw(i,4)}function zF(n,e,t,i){return n.header.hasBinChunk=!0,n.binChunks.push({byteOffset:t,byteLength:i,arrayBuffer:e.buffer}),iw(i,4)}function HF(){return HF=R(function*(n,e,t=0,i,r){var o,s,a,c;(function mOe(n,e,t,i){if(i.uri&&(n.baseUri=i.uri),e instanceof ArrayBuffer&&!function lOe(n,e=0,t={}){const i=new DataView(n),{magic:r=tX}=t,o=i.getUint32(e,!1);return o===r||o===tX}(e,t,i)&&(e=(new TextDecoder).decode(e)),"string"==typeof e)n.json=function gIe(n){try{return JSON.parse(n)}catch{throw new Error('Failed to parse JSON from data starting with "'.concat(function mIe(n,e=5){return"string"==typeof n?n.slice(0,e):ArrayBuffer.isView(n)?Eq(n.buffer,n.byteOffset,e):n instanceof ArrayBuffer?Eq(n,0,e):""}(n),'"'))}}(e);else if(e instanceof ArrayBuffer){const s={};t=function dOe(n,e,t=0,i={}){const r=new DataView(e),o=function cOe(n,e=0){return"".concat(String.fromCharCode(n.getUint8(e+0))).concat(String.fromCharCode(n.getUint8(e+1))).concat(String.fromCharCode(n.getUint8(e+2))).concat(String.fromCharCode(n.getUint8(e+3)))}(r,t+0),s=r.getUint32(t+4,Q_),a=r.getUint32(t+8,Q_);switch(Object.assign(n,{header:{byteOffset:t,byteLength:a,hasBinChunk:!1},type:o,version:s,json:{},binChunks:[]}),t+=UF,n.version){case 1:return function uOe(n,e,t){Jp(n.header.byteLength>UF+DS);const i=e.getUint32(t+0,Q_),r=e.getUint32(t+4,Q_);return t+=DS,Jp(r===aOe),VF(n,e,t,i),(t+=i)+zF(n,e,t,n.header.byteLength)}(n,r,t);case 2:return function hOe(n,e,t,i){return Jp(n.header.byteLength>UF+DS),function fOe(n,e,t,i){for(;t+8<=n.header.byteLength;){const r=e.getUint32(t+0,Q_),o=e.getUint32(t+4,Q_);switch(t+=DS,o){case iOe:VF(n,e,t,r);break;case rOe:zF(n,e,t,r);break;case oOe:i.strict||VF(n,e,t,r);break;case sOe:i.strict||zF(n,e,t,r)}t+=iw(r,4)}}(n,e,t,i),t+n.header.byteLength}(n,r,t,{});default:throw new Error("Invalid GLB version ".concat(n.version,". Only supports v1 and v2."))}}(s,e,t,i.glb),Rc("glTF"===s.type,"Invalid GLB magic string ".concat(s.type)),n._glb=s,n.json=s.json}else Rc(!1,"GLTF: must be ArrayBuffer or string");if(n.buffers=new Array((n.json.buffers||[]).length).fill(null),n._glb&&n._glb.header.hasBinChunk){const{binChunks:s}=n._glb;n.buffers[0]={arrayBuffer:s[0].arrayBuffer,byteOffset:s[0].byteOffset,byteLength:s[0].byteLength}}n.images=new Array((n.json.images||[]).length).fill({})})(n,e,t,i),function XDe(n,e={}){(new qDe).normalize(n,e)}(n,{normalize:null==i||null===(o=i.gltf)||void 0===o?void 0:o.normalize}),function HDe(n,e={},t){const i=Qq.filter(o=>Zq(o.name,e));for(const o of i){var r;null===(r=o.preprocess)||void 0===r||r.call(o,n,e,t)}}(n,i,r);const l=[];if(null!=i&&null!==(s=i.gltf)&&void 0!==s&&s.loadBuffers&&n.json.buffers&&(yield function gOe(n,e,t){return GF.apply(this,arguments)}(n,i,r)),null!=i&&null!==(a=i.gltf)&&void 0!==a&&a.loadImages){const h=function _Oe(n,e,t){return WF.apply(this,arguments)}(n,i,r);l.push(h)}const d=function GDe(n){return BF.apply(this,arguments)}(n,i,r);return l.push(d),yield Promise.all(l),null!=i&&null!==(c=i.gltf)&&void 0!==c&&c.postProcess?function nOe(n,e){return(new tOe).postProcess(n,e)}(n,i):n}),HF.apply(this,arguments)}function GF(){return GF=R(function*(n,e,t){const i=n.json.buffers||[];for(let s=0;s<i.length;++s){const a=i[s];if(a.uri){var r,o;const{fetch:c}=t;Rc(c);const l=Aq(a.uri,e),d=yield null==t||null===(r=t.fetch)||void 0===r?void 0:r.call(t,l),h=yield null==d||null===(o=d.arrayBuffer)||void 0===o?void 0:o.call(d);n.buffers[s]={arrayBuffer:h,byteOffset:0,byteLength:h.byteLength},delete a.uri}else null===n.buffers[s]&&(n.buffers[s]={arrayBuffer:new ArrayBuffer(a.byteLength),byteOffset:0,byteLength:a.byteLength})}}),GF.apply(this,arguments)}function WF(){return WF=R(function*(n,e,t){const i=function bOe(n){const e=new Set,t=n.json.textures||[];for(const i of t)void 0!==i.source&&e.add(i.source);return Array.from(e).sort()}(n),r=n.json.images||[],o=[];for(const s of i)o.push(yOe(n,r[s],s,e,t));return yield Promise.all(o)}),WF.apply(this,arguments)}function yOe(n,e,t,i,r){return $F.apply(this,arguments)}function $F(){return $F=R(function*(n,e,t,i,r){const{fetch:o,parse:s}=r;let a;if(e.uri&&!e.hasOwnProperty("bufferView")){const l=Aq(e.uri,i);a=yield(yield o(l)).arrayBuffer()}if(Number.isFinite(e.bufferView)){const l=function Sq(n,e,t){const i=n.bufferViews[t];Rc(i);const o=e[i.buffer];return Rc(o),new Uint8Array(o.arrayBuffer,(i.byteOffset||0)+o.byteOffset,i.byteLength)}(n.json,n.buffers,e.bufferView);a=Cq(l.buffer,l.byteOffset,l.byteLength)}Rc(a,"glTF image has no data");let c=yield s(a,[pIe,qMe],{mimeType:e.mimeType,basis:i.basis||{format:mq()}},r);c&&c[0]&&(c={compressed:!0,mipmaps:!1,width:c[0].width,height:c[0].height,data:c[0]}),n.images=n.images||[],n.images[t]=c}),$F.apply(this,arguments)}const Z_={name:"glTF",id:"gltf",module:"gltf",version:"3.2.13",extensions:["gltf","glb"],mimeTypes:["model/gltf+json","model/gltf-binary"],text:!0,binary:!0,tests:["glTF"],parse:function vOe(n){return qF.apply(this,arguments)},options:{gltf:{normalize:!0,loadBuffers:!0,loadImages:!0,decompressMeshes:!0,postProcess:!0},log:console},deprecatedOptions:{fetchImages:"gltf.loadImages",createImages:"gltf.loadImages",decompress:"gltf.decompressMeshes",postProcess:"gltf.postProcess",gltf:{decompress:"gltf.decompressMeshes"}}};function qF(){return qF=R(function*(n,e={},t){(e={...Z_.options,...e}).gltf={...Z_.options.gltf,...e.gltf};const{byteOffset:i=0}=e;return yield function pOe(n,e){return HF.apply(this,arguments)}({},n,i,e,t)}),qF.apply(this,arguments)}function XF(){return XF=R(function*(n){const e=[];return n.scenes.forEach(t=>{t.traverse(i=>{Object.values(i.model.getUniforms()).forEach(r=>{!1===r.loaded&&e.push(r)})})}),yield function xOe(n){return YF.apply(this,arguments)}(()=>e.some(t=>!t.loaded))}),XF.apply(this,arguments)}function YF(){return YF=R(function*(n){for(;n();)yield new Promise(e=>requestAnimationFrame(e))}),YF.apply(this,arguments)}const nX=[255,255,255,255],AOe={scenegraph:{type:"object",value:null,async:!0},getScene:n=>n&&n.scenes?"object"==typeof n.scene?n.scene:n.scenes[n.scene||0]:n,getAnimator:n=>n&&n.animator,_animations:null,sizeScale:{type:"number",value:1,min:0},sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},getPosition:{type:"accessor",value:n=>n.position},getColor:{type:"accessor",value:nX},_lighting:"flat",_imageBasedLightingEnvironment:null,getOrientation:{type:"accessor",value:[0,0,0]},getScale:{type:"accessor",value:[1,1,1]},getTranslation:{type:"accessor",value:[0,0,0]},getTransformMatrix:{type:"accessor",value:[]},loaders:[Z_]};class KF extends Yp{constructor(...e){super(...e),pe(this,"state",void 0)}getShaders(){const e=[fS,pS];return"pbr"===this.props._lighting&&e.push(q7),{vs:"#version 300 es\n\n// Instance attributes\nin vec3 instancePositions;\nin vec3 instancePositions64Low;\nin vec4 instanceColors;\nin vec3 instancePickingColors;\nin mat3 instanceModelMatrix;\nin vec3 instanceTranslation;\n\n// Uniforms\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform mat4 sceneModelMatrix;\nuniform bool composeModelMatrix;\n\n// Attributes\nin vec4 POSITION;\n\n#ifdef HAS_UV\n  in vec2 TEXCOORD_0;\n#endif\n\n#ifdef MODULE_PBR\n  #ifdef HAS_NORMALS\n    in vec4 NORMAL;\n  #endif\n#endif\n\n// Varying\nout vec4 vColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #ifdef HAS_UV\n    out vec2 vTEXCOORD_0;\n  #endif\n#endif\n\n// Main\nvoid main(void) {\n  #if defined(HAS_UV) && !defined(MODULE_PBR)\n    vTEXCOORD_0 = TEXCOORD_0;\n    geometry.uv = vTEXCOORD_0;\n  #endif\n\n  geometry.worldPosition = instancePositions;\n  geometry.pickingColor = instancePickingColors;\n\n  vec3 normal = vec3(0.0, 0.0, 1.0);\n  #ifdef MODULE_PBR\n    #ifdef HAS_NORMALS\n      normal = instanceModelMatrix * (sceneModelMatrix * vec4(NORMAL.xyz, 0.0)).xyz;\n    #endif\n  #endif\n\n  float originalSize = project_size_to_pixel(sizeScale);\n  float clampedSize = clamp(originalSize, sizeMinPixels, sizeMaxPixels);\n\n  vec3 pos = (instanceModelMatrix * (sceneModelMatrix * POSITION).xyz) * sizeScale * (clampedSize / originalSize) + instanceTranslation;\n  if(composeModelMatrix) {\n    DECKGL_FILTER_SIZE(pos, geometry);\n    // using instancePositions as world coordinates\n    // when using globe mode, this branch does not re-orient the model to align with the surface of the earth\n    // call project_normal before setting position to avoid rotation\n    geometry.normal = project_normal(normal);\n    gl_Position = project_position_to_clipspace(pos + instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n  }\n  else {\n    pos = project_size(pos);\n    DECKGL_FILTER_SIZE(pos, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, pos, geometry.position);\n    geometry.normal = project_normal(normal);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  #ifdef MODULE_PBR\n    // set PBR data\n    pbr_vPosition = geometry.position.xyz;\n    #ifdef HAS_NORMALS\n      pbr_vNormal = geometry.normal;\n    #endif\n\n    #ifdef HAS_UV\n      pbr_vUV = TEXCOORD_0;\n    #else\n      pbr_vUV = vec2(0., 0.);\n    #endif\n    geometry.uv = pbr_vUV;\n  #endif\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#version 300 es\n\n// Uniforms\nuniform float opacity;\n\n// Varying\nin vec4 vColor;\n\nout vec4 fragmentColor;\n\n// MODULE_PBR contains all the varying definitions needed\n#ifndef MODULE_PBR\n  #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n    in vec2 vTEXCOORD_0;\n    uniform sampler2D u_BaseColorSampler;\n  #endif\n#endif\n\nvoid main(void) {\n  #ifdef MODULE_PBR\n    fragmentColor = vColor * pbr_filterColor(vec4(0));\n    geometry.uv = pbr_vUV;\n  #else\n    #if defined(HAS_UV) && defined(HAS_BASECOLORMAP)\n      fragmentColor = vColor * texture2D(u_BaseColorSampler, vTEXCOORD_0);\n      geometry.uv = vTEXCOORD_0;\n    #else\n      fragmentColor = vColor;\n    #endif\n  #endif\n\n  fragmentColor.a *= opacity;\n  DECKGL_FILTER_COLOR(fragmentColor, geometry);\n}\n",modules:e}}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),accessor:"getPosition",transition:!0},instanceColors:{type:5121,size:this.props.colorFormat.length,accessor:"getColor",normalized:!0,defaultValue:nX,transition:!0},instanceModelMatrix:G7})}updateState(e){super.updateState(e);const{props:t,oldProps:i}=e;t.scenegraph!==i.scenegraph?this._updateScenegraph():t._animations!==i._animations&&this._applyAnimationsProp(this.state.scenegraph,this.state.animator,t._animations)}finalizeState(e){super.finalizeState(e),this._deleteScenegraph()}_updateScenegraph(){const e=this.props,{gl:t}=this.context;let i=null;if(e.scenegraph instanceof X_)i={scenes:[e.scenegraph]};else if(e.scenegraph&&!e.scenegraph.gltf){const a=e.scenegraph,c=function CMe(n,e,t){const i=new EMe(n,t);return{scenes:i.instantiate(e),animator:i.createAnimator()}}(t,a,this._getModelOptions());i={gltf:a,...c},function wOe(n){return XF.apply(this,arguments)}(c).then(()=>this.setNeedsRedraw())}else e.scenegraph&&(ji.deprecated("ScenegraphLayer.props.scenegraph","Use GLTFLoader instead of GLTFScenegraphLoader")(),i=e.scenegraph);const r={layer:this,gl:t},o=e.getScene(i,r),s=e.getAnimator(i,r);o instanceof X_?(this._deleteScenegraph(),this._applyAllAttributes(o),this._applyAnimationsProp(o,s,e._animations),this.setState({scenegraph:o,animator:s})):null!==o&&ji.warn("invalid scenegraph:",o)()}_applyAllAttributes(e){if(this.state.attributesAvailable){const t=this.getAttributeManager().getAttributes();e.traverse(i=>{this._setModelAttributes(i.model,t)})}}_applyAnimationsProp(e,t,i){if(!e||!t||!i)return;const r=t.getAnimations();Object.keys(i).sort().forEach(o=>{const s=i[o];if("*"===o)r.forEach(a=>{Object.assign(a,s)});else if(Number.isFinite(Number(o))){const a=Number(o);a>=0&&a<r.length?Object.assign(r[a],s):ji.warn("animation ".concat(o," not found"))()}else{const a=r.find(({name:c})=>c===o);a?Object.assign(a,s):ji.warn("animation ".concat(o," not found"))()}})}_deleteScenegraph(){const{scenegraph:e}=this.state;e instanceof X_&&e.delete()}_getModelOptions(){const{_imageBasedLightingEnvironment:e}=this.props;let t=null;return e&&(t="function"==typeof e?e({gl:this.context.gl,layer:this}):e),{gl:this.context.gl,waitForFullLoad:!0,imageBasedLightingEnvironment:t,modelOptions:{isInstanced:!0,transpileToGLSL100:!Oi(this.context.gl),...this.getShaders()},useTangents:!1}}updateAttributes(e){this.setState({attributesAvailable:!0}),this.state.scenegraph&&this.state.scenegraph.traverse(t=>{this._setModelAttributes(t.model,e)})}draw({moduleParameters:e=null,parameters:t={},context:i}){if(!this.state.scenegraph)return;this.props._animations&&this.state.animator&&(this.state.animator.animate(i.timeline.getTime()),this.setNeedsRedraw());const{viewport:r}=this.context,{sizeScale:o,sizeMinPixels:s,sizeMaxPixels:a,opacity:c,coordinateSystem:l}=this.props,d=this.getNumInstances();this.state.scenegraph.traverse((h,{worldMatrix:f})=>{h.model.setInstanceCount(d),h.updateModuleSettings(e),h.draw({parameters:t,uniforms:{sizeScale:o,opacity:c,sizeMinPixels:s,sizeMaxPixels:a,composeModelMatrix:W7(r,l),sceneModelMatrix:f,u_Camera:h.model.getUniforms().project_uCameraPosition}})})}}pe(KF,"defaultProps",AOe),pe(KF,"layerName","ScenegraphLayer");class SOe extends nf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=oc("sphere-geometry")}=e,{indices:i,attributes:r}=function TOe(n){const{nlat:e=10,nlong:t=10}=n;let{radius:i=1}=n;const s=Math.PI-0,l=2*Math.PI-0,d=(e+1)*(t+1);if("number"==typeof i){const D=i;i=(N,Z,G,Oe,ze)=>D}const h=new Float32Array(3*d),f=new Float32Array(3*d),m=new Float32Array(2*d),b=new(d>65535?Uint32Array:Uint16Array)(e*t*6);for(let D=0;D<=e;D++)for(let N=0;N<=t;N++){const Z=N/t,G=D/e,Oe=N+D*(t+1),ze=2*Oe,st=3*Oe,pt=l*Z,Je=s*G,yt=Math.sin(pt),Pt=Math.cos(pt),zt=Math.sin(Je),It=Pt*zt,Jt=Math.cos(Je),wt=yt*zt,Yt=i(It,Jt,wt,Z,G);h[st+0]=Yt*It,h[st+1]=Yt*Jt,h[st+2]=Yt*wt,f[st+0]=It,f[st+1]=Jt,f[st+2]=wt,m[ze+0]=Z,m[ze+1]=1-G}const v=t+1;for(let D=0;D<t;D++)for(let N=0;N<e;N++){const Z=6*(D*e+N);b[Z+0]=N*v+D,b[Z+1]=N*v+D+1,b[Z+2]=(N+1)*v+D,b[Z+3]=(N+1)*v+D,b[Z+4]=N*v+D+1,b[Z+5]=(N+1)*v+D+1}return{indices:{size:1,value:b},attributes:{POSITION:{size:3,value:h},NORMAL:{size:3,value:f},TEXCOORD_0:{size:2,value:m}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}const MOe={x:[2,0,1],y:[0,1,2],z:[1,2,0]};class iX extends nf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=oc("truncated-code-geometry")}=e,{indices:i,attributes:r}=function IOe(n){const{bottomRadius:e=0,topRadius:t=0,height:i=1,nradial:r=10,nvertical:o=10,verticalAxis:s="y",topCap:a=!1,bottomCap:c=!1}=n,l=(a?2:0)+(c?2:0),d=(r+1)*(o+1+l),h=Math.atan2(e-t,i),f=Math.sin,m=Math.cos,g=Math.PI,b=m(h),v=f(h),D=a?-2:0,N=o+(c?2:0),Z=r+1,G=new Uint16Array(r*(o+l)*6),Oe=MOe[s],ze=new Float32Array(3*d),st=new Float32Array(3*d),pt=new Float32Array(2*d);let Je=0,yt=0;for(let Pt=D;Pt<=N;Pt++){let It,zt=Pt/o,xt=i*zt;Pt<0?(xt=0,zt=1,It=e):Pt>o?(xt=i,zt=1,It=t):It=e+Pt/o*(t-e),(-2===Pt||Pt===o+2)&&(It=0,zt=0),xt-=i/2;for(let Jt=0;Jt<Z;Jt++){const wt=f(Jt*g*2/r),Yt=m(Jt*g*2/r);ze[Je+Oe[0]]=wt*It,ze[Je+Oe[1]]=xt,ze[Je+Oe[2]]=Yt*It,st[Je+Oe[0]]=Pt<0||Pt>o?0:wt*b,st[Je+Oe[1]]=Pt<0?-1:Pt>o?1:v,st[Je+Oe[2]]=Pt<0||Pt>o?0:Yt*b,pt[yt+0]=Jt/r,pt[yt+1]=zt,yt+=2,Je+=3}}for(let Pt=0;Pt<o+l;Pt++)for(let zt=0;zt<r;zt++){const xt=6*(Pt*r+zt);G[xt+0]=Z*(Pt+0)+0+zt,G[xt+1]=Z*(Pt+0)+1+zt,G[xt+2]=Z*(Pt+1)+1+zt,G[xt+3]=Z*(Pt+0)+0+zt,G[xt+4]=Z*(Pt+1)+1+zt,G[xt+5]=Z*(Pt+1)+0+zt}return{indices:G,attributes:{POSITION:{size:3,value:ze},NORMAL:{size:3,value:st},TEXCOORD_0:{size:2,value:pt}}}}(e);super({...e,id:t,indices:i,attributes:{...r,...e.attributes}})}}class DOe extends iX{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=oc("cone-geometry"),radius:i=1,cap:r=!0}=e;super({...e,id:t,topRadius:0,topCap:!!r,bottomCap:!!r,bottomRadius:i})}}class OOe extends iX{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=oc("cylinder-geometry"),radius:i=1}=e;super({...e,id:t,bottomRadius:i,topRadius:i})}}const ROe=new Uint16Array([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),kOe=new Float32Array([-1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1]),POe=new Float32Array([0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0]),NOe=new Float32Array([0,0,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0,1,0,0,1,0,1,1,1,1,0,1,0,0,1,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1]),FOe={POSITION:{size:3,value:new Float32Array(kOe)},NORMAL:{size:3,value:new Float32Array(POe)},TEXCOORD_0:{size:2,value:new Float32Array(NOe)}};class LOe extends nf{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=oc("cube-geometry")}=e;super({...e,id:t,indices:{size:1,value:new Uint16Array(ROe)},attributes:{...FOe,...e.attributes}})}}function OS(n,e,t){e||(e=new Bt(Bt.IDENTITY));const i=new Bt(Bt.IDENTITY);if(!n)return!0;if(n.matrix)i.copy(n.matrix);else{if(i.identity(),n.translation&&i.translate(n.translation),n.rotation){const o=new Bt(Bt.IDENTITY).fromQuaternion(n.rotation);i.multiplyRight(o)}n.scale&&i.scale(n.scale)}const r=new Bt(e).multiplyRight(i);if(!1===t(n,r,e))return!1;for(const o of n.nodes||n.children||[])if(!1===OS(o,r,t))return!1;return!0}function rX(){r$([kq,Z_])}function oX(n,e){const t=e.nodes?.find(i=>i.name===n);if(t){let i=!1;for(const r of e.scenes)i||OS(r,new Bt(Bt.IDENTITY),(o,s)=>o!==t||(o.matrix=s,o.translation=void 0,o.rotation=void 0,o.scale=void 0,i=!0,!1));return e.scene={id:n,name:n,nodes:[t]},e.scenes=[e.scene],{scene:e.scene,scenes:e.scenes}}return e}function sX(n,e){return JF.apply(this,arguments)}function JF(){return JF=R(function*(n,e){const t=n.scenegraph;let i;i=e?e[t]||(e[t]=fetch(t).then(o=>o.blob())):fetch(t);const r=yield ZA(i,Z_,{DracoLoader:IF,gltf:{decompressMeshes:!0,postProcess:!0}});return r.nodes||console.log("WARNING: Empty Scene",t,r),oX(n.scenegraphNode,r)}),JF.apply(this,arguments)}function BOe(n,e){return QF.apply(this,arguments)}function QF(){return QF=R(function*(n,e){return oX(n,yield e)}),QF.apply(this,arguments)}class Fl{constructor(e){void 0===e&&(e=[0,0,0,0,0,0,0,0,0]),this.elements=e}identity(){const e=this.elements;e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1}setZero(){const e=this.elements;e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e[8]=0}setTrace(e){const t=this.elements;t[0]=e.x,t[4]=e.y,t[8]=e.z}getTrace(e){void 0===e&&(e=new ue);const t=this.elements;return e.x=t[0],e.y=t[4],e.z=t[8],e}vmult(e,t){void 0===t&&(t=new ue);const i=this.elements,r=e.x,o=e.y,s=e.z;return t.x=i[0]*r+i[1]*o+i[2]*s,t.y=i[3]*r+i[4]*o+i[5]*s,t.z=i[6]*r+i[7]*o+i[8]*s,t}smult(e){for(let t=0;t<this.elements.length;t++)this.elements[t]*=e}mmult(e,t){void 0===t&&(t=new Fl);const i=this.elements,r=e.elements,o=t.elements,s=i[0],a=i[1],c=i[2],l=i[3],d=i[4],h=i[5],f=i[6],m=i[7],g=i[8],b=r[0],v=r[1],D=r[2],N=r[3],Z=r[4],G=r[5],Oe=r[6],ze=r[7],st=r[8];return o[0]=s*b+a*N+c*Oe,o[1]=s*v+a*Z+c*ze,o[2]=s*D+a*G+c*st,o[3]=l*b+d*N+h*Oe,o[4]=l*v+d*Z+h*ze,o[5]=l*D+d*G+h*st,o[6]=f*b+m*N+g*Oe,o[7]=f*v+m*Z+g*ze,o[8]=f*D+m*G+g*st,t}scale(e,t){void 0===t&&(t=new Fl);const i=this.elements,r=t.elements;for(let o=0;3!==o;o++)r[3*o+0]=e.x*i[3*o+0],r[3*o+1]=e.y*i[3*o+1],r[3*o+2]=e.z*i[3*o+2];return t}solve(e,t){void 0===t&&(t=new ue);const o=[];let s,a;for(s=0;s<12;s++)o.push(0);for(s=0;s<3;s++)for(a=0;a<3;a++)o[s+4*a]=this.elements[s+3*a];o[3]=e.x,o[7]=e.y,o[11]=e.z;let c=3;const l=c;let d,f;do{if(s=l-c,0===o[s+4*s])for(a=s+1;a<l;a++)if(0!==o[s+4*a]){d=4;do{f=4-d,o[f+4*s]+=o[f+4*a]}while(--d);break}if(0!==o[s+4*s])for(a=s+1;a<l;a++){const m=o[s+4*a]/o[s+4*s];d=4;do{f=4-d,o[f+4*a]=f<=s?0:o[f+4*a]-o[f+4*s]*m}while(--d)}}while(--c);if(t.z=o[11]/o[10],t.y=(o[7]-o[6]*t.z)/o[5],t.x=(o[3]-o[2]*t.z-o[1]*t.y)/o[0],isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||t.x===1/0||t.y===1/0||t.z===1/0)throw`Could not solve equation! Got x=[${t.toString()}], b=[${e.toString()}], A=[${this.toString()}]`;return t}e(e,t,i){if(void 0===i)return this.elements[t+3*e];this.elements[t+3*e]=i}copy(e){for(let t=0;t<e.elements.length;t++)this.elements[t]=e.elements[t];return this}toString(){let e="";for(let i=0;i<9;i++)e+=this.elements[i]+",";return e}reverse(e){void 0===e&&(e=new Fl);const r=jOe;let o,s;for(o=0;o<3;o++)for(s=0;s<3;s++)r[o+6*s]=this.elements[o+3*s];r[3]=1,r[9]=0,r[15]=0,r[4]=0,r[10]=1,r[16]=0,r[5]=0,r[11]=0,r[17]=1;let a=3;const c=a;let l,h;do{if(o=c-a,0===r[o+6*o])for(s=o+1;s<c;s++)if(0!==r[o+6*s]){l=6;do{h=6-l,r[h+6*o]+=r[h+6*s]}while(--l);break}if(0!==r[o+6*o])for(s=o+1;s<c;s++){const f=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=h<=o?0:r[h+6*s]-r[h+6*o]*f}while(--l)}}while(--a);o=2;do{s=o-1;do{const f=r[o+6*s]/r[o+6*o];l=6;do{h=6-l,r[h+6*s]=r[h+6*s]-r[h+6*o]*f}while(--l)}while(s--)}while(--o);o=2;do{const f=1/r[o+6*o];l=6;do{h=6-l,r[h+6*o]=r[h+6*o]*f}while(--l)}while(o--);o=2;do{s=2;do{if(h=r[3+s+6*o],isNaN(h)||h===1/0)throw`Could not reverse! A=[${this.toString()}]`;e.e(o,s,h)}while(s--)}while(o--);return e}setRotationFromQuaternion(e){const t=e.x,i=e.y,r=e.z,o=e.w,s=t+t,a=i+i,c=r+r,l=t*s,d=t*a,h=t*c,f=i*a,m=i*c,g=r*c,b=o*s,v=o*a,D=o*c,N=this.elements;return N[0]=1-(f+g),N[1]=d-D,N[2]=h+v,N[3]=d+D,N[4]=1-(l+g),N[5]=m-b,N[6]=h-v,N[7]=m+b,N[8]=1-(l+f),this}transpose(e){void 0===e&&(e=new Fl);const t=this.elements,i=e.elements;let r;return i[0]=t[0],i[4]=t[4],i[8]=t[8],r=t[1],i[1]=t[3],i[3]=r,r=t[2],i[2]=t[6],i[6]=r,r=t[5],i[5]=t[7],i[7]=r,e}}const jOe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];class ue{constructor(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=e,this.y=t,this.z=i}cross(e,t){void 0===t&&(t=new ue);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z;return t.x=a*o-c*r,t.y=c*i-s*o,t.z=s*r-a*i,t}set(e,t,i){return this.x=e,this.y=t,this.z=i,this}setZero(){this.x=this.y=this.z=0}vadd(e,t){if(!t)return new ue(this.x+e.x,this.y+e.y,this.z+e.z);t.x=e.x+this.x,t.y=e.y+this.y,t.z=e.z+this.z}vsub(e,t){if(!t)return new ue(this.x-e.x,this.y-e.y,this.z-e.z);t.x=this.x-e.x,t.y=this.y-e.y,t.z=this.z-e.z}crossmat(){return new Fl([0,-this.z,this.y,this.z,0,-this.x,-this.y,this.x,0])}normalize(){const e=this.x,t=this.y,i=this.z,r=Math.sqrt(e*e+t*t+i*i);if(r>0){const o=1/r;this.x*=o,this.y*=o,this.z*=o}else this.x=0,this.y=0,this.z=0;return r}unit(e){void 0===e&&(e=new ue);const t=this.x,i=this.y,r=this.z;let o=Math.sqrt(t*t+i*i+r*r);return o>0?(o=1/o,e.x=t*o,e.y=i*o,e.z=r*o):(e.x=1,e.y=0,e.z=0),e}length(){const e=this.x,t=this.y,i=this.z;return Math.sqrt(e*e+t*t+i*i)}lengthSquared(){return this.dot(this)}distanceTo(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return Math.sqrt((o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r))}distanceSquared(e){const t=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z;return(o-t)*(o-t)+(s-i)*(s-i)+(a-r)*(a-r)}scale(e,t){void 0===t&&(t=new ue);const r=this.y,o=this.z;return t.x=e*this.x,t.y=e*r,t.z=e*o,t}vmul(e,t){return void 0===t&&(t=new ue),t.x=e.x*this.x,t.y=e.y*this.y,t.z=e.z*this.z,t}addScaledVector(e,t,i){return void 0===i&&(i=new ue),i.x=this.x+e*t.x,i.y=this.y+e*t.y,i.z=this.z+e*t.z,i}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}isZero(){return 0===this.x&&0===this.y&&0===this.z}negate(e){return void 0===e&&(e=new ue),e.x=-this.x,e.y=-this.y,e.z=-this.z,e}tangents(e,t){const i=this.length();if(i>0){const r=UOe,o=1/i;r.set(this.x*o,this.y*o,this.z*o);const s=VOe;Math.abs(r.x)<.9?(s.set(1,0,0),r.cross(s,e)):(s.set(0,1,0),r.cross(s,e)),r.cross(e,t)}else e.set(1,0,0),t.set(0,1,0)}toString(){return`${this.x},${this.y},${this.z}`}toArray(){return[this.x,this.y,this.z]}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}lerp(e,t,i){const r=this.x,o=this.y,s=this.z;i.x=r+(e.x-r)*t,i.y=o+(e.y-o)*t,i.z=s+(e.z-s)*t}almostEquals(e,t){return void 0===t&&(t=1e-6),!(Math.abs(this.x-e.x)>t||Math.abs(this.y-e.y)>t||Math.abs(this.z-e.z)>t)}almostZero(e){return void 0===e&&(e=1e-6),!(Math.abs(this.x)>e||Math.abs(this.y)>e||Math.abs(this.z)>e)}isAntiparallelTo(e,t){return this.negate(aX),aX.almostEquals(e,t)}clone(){return new ue(this.x,this.y,this.z)}}ue.ZERO=new ue(0,0,0),ue.UNIT_X=new ue(1,0,0),ue.UNIT_Y=new ue(0,1,0),ue.UNIT_Z=new ue(0,0,1);const UOe=new ue,VOe=new ue,aX=new ue;class Sr{constructor(e){void 0===e&&(e={}),this.lowerBound=new ue,this.upperBound=new ue,e.lowerBound&&this.lowerBound.copy(e.lowerBound),e.upperBound&&this.upperBound.copy(e.upperBound)}setFromPoints(e,t,i,r){const o=this.lowerBound,s=this.upperBound,a=i;o.copy(e[0]),a&&a.vmult(o,o),s.copy(o);for(let c=1;c<e.length;c++){let l=e[c];a&&(a.vmult(l,cX),l=cX),l.x>s.x&&(s.x=l.x),l.x<o.x&&(o.x=l.x),l.y>s.y&&(s.y=l.y),l.y<o.y&&(o.y=l.y),l.z>s.z&&(s.z=l.z),l.z<o.z&&(o.z=l.z)}return t&&(t.vadd(o,o),t.vadd(s,s)),r&&(o.x-=r,o.y-=r,o.z-=r,s.x+=r,s.y+=r,s.z+=r),this}copy(e){return this.lowerBound.copy(e.lowerBound),this.upperBound.copy(e.upperBound),this}clone(){return(new Sr).copy(this)}extend(e){this.lowerBound.x=Math.min(this.lowerBound.x,e.lowerBound.x),this.upperBound.x=Math.max(this.upperBound.x,e.upperBound.x),this.lowerBound.y=Math.min(this.lowerBound.y,e.lowerBound.y),this.upperBound.y=Math.max(this.upperBound.y,e.upperBound.y),this.lowerBound.z=Math.min(this.lowerBound.z,e.lowerBound.z),this.upperBound.z=Math.max(this.upperBound.z,e.upperBound.z)}overlaps(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return(r.x<=i.x&&i.x<=o.x||t.x<=o.x&&o.x<=i.x)&&(r.y<=i.y&&i.y<=o.y||t.y<=o.y&&o.y<=i.y)&&(r.z<=i.z&&i.z<=o.z||t.z<=o.z&&o.z<=i.z)}volume(){const e=this.lowerBound,t=this.upperBound;return(t.x-e.x)*(t.y-e.y)*(t.z-e.z)}contains(e){const t=this.lowerBound,i=this.upperBound,r=e.lowerBound,o=e.upperBound;return t.x<=r.x&&i.x>=o.x&&t.y<=r.y&&i.y>=o.y&&t.z<=r.z&&i.z>=o.z}getCorners(e,t,i,r,o,s,a,c){const l=this.lowerBound,d=this.upperBound;e.copy(l),t.set(d.x,l.y,l.z),i.set(d.x,d.y,l.z),r.set(l.x,d.y,d.z),o.set(d.x,l.y,d.z),s.set(l.x,d.y,l.z),a.set(l.x,l.y,d.z),c.copy(d)}toLocalFrame(e,t){const i=lX;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let f=0;8!==f;f++){const m=i[f];e.pointToLocal(m,m)}return t.setFromPoints(i)}toWorldFrame(e,t){const i=lX;this.getCorners(i[0],i[1],i[2],i[3],i[4],i[5],i[6],i[7]);for(let f=0;8!==f;f++){const m=i[f];e.pointToWorld(m,m)}return t.setFromPoints(i)}overlapsRay(e){const{direction:t,from:i}=e,r=1/t.x,o=1/t.y,s=1/t.z,a=(this.lowerBound.x-i.x)*r,c=(this.upperBound.x-i.x)*r,l=(this.lowerBound.y-i.y)*o,d=(this.upperBound.y-i.y)*o,h=(this.lowerBound.z-i.z)*s,f=(this.upperBound.z-i.z)*s,m=Math.max(Math.max(Math.min(a,c),Math.min(l,d)),Math.min(h,f)),g=Math.min(Math.min(Math.max(a,c),Math.max(l,d)),Math.max(h,f));return!(g<0||m>g)}}const cX=new ue,lX=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue];class uX{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;return void 0===i[e]&&(i[e]=[]),i[e].includes(t)||i[e].push(t),this}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return!(void 0===i[e]||!i[e].includes(t))}hasAnyEventListener(e){return void 0!==this._listeners&&void 0!==this._listeners[e]}removeEventListener(e,t){if(void 0===this._listeners)return this;const i=this._listeners;if(void 0===i[e])return this;const r=i[e].indexOf(t);return-1!==r&&i[e].splice(r,1),this}dispatchEvent(e){if(void 0===this._listeners)return this;const i=this._listeners[e.type];if(void 0!==i){e.target=this;for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}return this}}class Eo{constructor(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),this.x=e,this.y=t,this.z=i,this.w=r}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}toString(){return`${this.x},${this.y},${this.z},${this.w}`}toArray(){return[this.x,this.y,this.z,this.w]}setFromAxisAngle(e,t){const i=Math.sin(.5*t);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(.5*t),this}toAxisAngle(e){void 0===e&&(e=new ue),this.normalize();const t=2*Math.acos(this.w),i=Math.sqrt(1-this.w*this.w);return i<.001?(e.x=this.x,e.y=this.y,e.z=this.z):(e.x=this.x/i,e.y=this.y/i,e.z=this.z/i),[e,t]}setFromVectors(e,t){if(e.isAntiparallelTo(t)){const i=zOe;e.tangents(i,HOe),this.setFromAxisAngle(i,Math.PI)}else{const i=e.cross(t);this.x=i.x,this.y=i.y,this.z=i.z,this.w=Math.sqrt(e.length()**2*t.length()**2)+e.dot(t),this.normalize()}return this}mult(e,t){void 0===t&&(t=new Eo);const i=this.x,r=this.y,o=this.z,s=this.w,a=e.x,c=e.y,l=e.z,d=e.w;return t.x=i*d+s*a+r*l-o*c,t.y=r*d+s*c+o*a-i*l,t.z=o*d+s*l+i*c-r*a,t.w=s*d-i*a-r*c-o*l,t}inverse(e){void 0===e&&(e=new Eo);const t=this.x,i=this.y,r=this.z,o=this.w;this.conjugate(e);const s=1/(t*t+i*i+r*r+o*o);return e.x*=s,e.y*=s,e.z*=s,e.w*=s,e}conjugate(e){return void 0===e&&(e=new Eo),e.x=-this.x,e.y=-this.y,e.z=-this.z,e.w=this.w,e}normalize(){let e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}normalizeFast(){const e=(3-(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w))/2;return 0===e?(this.x=0,this.y=0,this.z=0,this.w=0):(this.x*=e,this.y*=e,this.z*=e,this.w*=e),this}vmult(e,t){void 0===t&&(t=new ue);const i=e.x,r=e.y,o=e.z,s=this.x,a=this.y,c=this.z,l=this.w,d=l*i+a*o-c*r,h=l*r+c*i-s*o,f=l*o+s*r-a*i,m=-s*i-a*r-c*o;return t.x=d*l+m*-s+h*-c-f*-a,t.y=h*l+m*-a+f*-s-d*-c,t.z=f*l+m*-c+d*-a-h*-s,t}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this}toEuler(e,t){let i,r,o;void 0===t&&(t="YZX");const s=this.x,a=this.y,c=this.z,l=this.w;if("YZX"!==t)throw new Error(`Euler order ${t} not supported yet.`);{const d=s*a+c*l;if(d>.499&&(i=2*Math.atan2(s,l),r=Math.PI/2,o=0),d<-.499&&(i=-2*Math.atan2(s,l),r=-Math.PI/2,o=0),void 0===i){const h=s*s,m=c*c;i=Math.atan2(2*a*l-2*s*c,1-a*a*2-2*m),r=Math.asin(2*d),o=Math.atan2(2*s*l-2*a*c,1-2*h-2*m)}}e.y=i,e.z=r,e.x=o}setFromEuler(e,t,i,r){void 0===r&&(r="XYZ");const o=Math.cos(e/2),s=Math.cos(t/2),a=Math.cos(i/2),c=Math.sin(e/2),l=Math.sin(t/2),d=Math.sin(i/2);return"XYZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"YXZ"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"ZXY"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a-c*l*d):"ZYX"===r?(this.x=c*s*a-o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a+c*l*d):"YZX"===r?(this.x=c*s*a+o*l*d,this.y=o*l*a+c*s*d,this.z=o*s*d-c*l*a,this.w=o*s*a-c*l*d):"XZY"===r&&(this.x=c*s*a-o*l*d,this.y=o*l*a-c*s*d,this.z=o*s*d+c*l*a,this.w=o*s*a+c*l*d),this}clone(){return new Eo(this.x,this.y,this.z,this.w)}slerp(e,t,i){void 0===i&&(i=new Eo);const r=this.x,o=this.y,s=this.z,a=this.w;let f,m,g,b,v,c=e.x,l=e.y,d=e.z,h=e.w;return m=r*c+o*l+s*d+a*h,m<0&&(m=-m,c=-c,l=-l,d=-d,h=-h),1-m>1e-6?(f=Math.acos(m),g=Math.sin(f),b=Math.sin((1-t)*f)/g,v=Math.sin(t*f)/g):(b=1-t,v=t),i.x=b*r+v*c,i.y=b*o+v*l,i.z=b*s+v*d,i.w=b*a+v*h,i}integrate(e,t,i,r){void 0===r&&(r=new Eo);const o=e.x*i.x,s=e.y*i.y,a=e.z*i.z,c=this.x,l=this.y,d=this.z,h=this.w,f=.5*t;return r.x+=f*(o*h+s*d-a*l),r.y+=f*(s*h+a*c-o*d),r.z+=f*(a*h+o*l-s*c),r.w+=f*(-o*c-s*l-a*d),r}}const zOe=new ue,HOe=new ue,GOe={SPHERE:1,PLANE:2,BOX:4,COMPOUND:8,CONVEXPOLYHEDRON:16,HEIGHTFIELD:32,PARTICLE:64,CYLINDER:128,TRIMESH:256};let Sn=(()=>{class n{constructor(t){void 0===t&&(t={}),this.id=n.idCounter++,this.type=t.type||0,this.boundingSphereRadius=0,this.collisionResponse=!t.collisionResponse||t.collisionResponse,this.collisionFilterGroup=void 0!==t.collisionFilterGroup?t.collisionFilterGroup:1,this.collisionFilterMask=void 0!==t.collisionFilterMask?t.collisionFilterMask:-1,this.material=t.material?t.material:null,this.body=null}updateBoundingSphereRadius(){throw`computeBoundingSphereRadius() not implemented for shape type ${this.type}`}volume(){throw`volume() not implemented for shape type ${this.type}`}calculateLocalInertia(t,i){throw`calculateLocalInertia() not implemented for shape type ${this.type}`}calculateWorldAABB(t,i,r,o){throw`calculateWorldAABB() not implemented for shape type ${this.type}`}}return n.idCounter=0,n.types=GOe,n})();class er{constructor(e){void 0===e&&(e={}),this.position=new ue,this.quaternion=new Eo,e.position&&this.position.copy(e.position),e.quaternion&&this.quaternion.copy(e.quaternion)}pointToLocal(e,t){return er.pointToLocalFrame(this.position,this.quaternion,e,t)}pointToWorld(e,t){return er.pointToWorldFrame(this.position,this.quaternion,e,t)}vectorToWorldFrame(e,t){return void 0===t&&(t=new ue),this.quaternion.vmult(e,t),t}static pointToLocalFrame(e,t,i,r){return void 0===r&&(r=new ue),i.vsub(e,r),t.conjugate(hX),hX.vmult(r,r),r}static pointToWorldFrame(e,t,i,r){return void 0===r&&(r=new ue),t.vmult(i,r),r.vadd(e,r),r}static vectorToWorldFrame(e,t,i){return void 0===i&&(i=new ue),e.vmult(t,i),i}static vectorToLocalFrame(e,t,i,r){return void 0===r&&(r=new ue),t.w*=-1,t.vmult(i,r),t.w*=-1,r}}const hX=new Eo;class af extends Sn{constructor(e){void 0===e&&(e={});const{vertices:t=[],faces:i=[],normals:r=[],axes:o,boundingSphereRadius:s}=e;super({type:Sn.types.CONVEXPOLYHEDRON}),this.vertices=t,this.faces=i,this.faceNormals=r,0===this.faceNormals.length&&this.computeNormals(),s?this.boundingSphereRadius=s:this.updateBoundingSphereRadius(),this.worldVertices=[],this.worldVerticesNeedsUpdate=!0,this.worldFaceNormals=[],this.worldFaceNormalsNeedsUpdate=!0,this.uniqueAxes=o?o.slice():null,this.uniqueEdges=[],this.computeEdges()}computeEdges(){const e=this.faces,t=this.vertices,i=this.uniqueEdges;i.length=0;const r=new ue;for(let o=0;o!==e.length;o++){const s=e[o],a=s.length;for(let c=0;c!==a;c++){t[s[c]].vsub(t[s[(c+1)%a]],r),r.normalize();let d=!1;for(let h=0;h!==i.length;h++)if(i[h].almostEquals(r)||i[h].almostEquals(r)){d=!0;break}d||i.push(r.clone())}}}computeNormals(){this.faceNormals.length=this.faces.length;for(let e=0;e<this.faces.length;e++){for(let r=0;r<this.faces[e].length;r++)if(!this.vertices[this.faces[e][r]])throw new Error(`Vertex ${this.faces[e][r]} not found!`);const t=this.faceNormals[e]||new ue;if(this.getFaceNormal(e,t),t.negate(t),this.faceNormals[e]=t,t.dot(this.vertices[this.faces[e][0]])<0){console.error(`.faceNormals[${e}] = Vec3(${t.toString()}) looks like it points into the shape? The vertices follow. Make sure they are ordered CCW around the normal, using the right hand rule.`);for(let r=0;r<this.faces[e].length;r++)console.warn(`.vertices[${this.faces[e][r]}] = Vec3(${this.vertices[this.faces[e][r]].toString()})`)}}}getFaceNormal(e,t){const i=this.faces[e];af.computeNormal(this.vertices[i[0]],this.vertices[i[1]],this.vertices[i[2]],t)}static computeNormal(e,t,i,r){const o=new ue,s=new ue;t.vsub(e,s),i.vsub(t,o),o.cross(s,r),r.isZero()||r.normalize()}clipAgainstHull(e,t,i,r,o,s,a,c,l){const d=new ue;let h=-1,f=-Number.MAX_VALUE;for(let g=0;g<i.faces.length;g++){d.copy(i.faceNormals[g]),o.vmult(d,d);const b=d.dot(s);b>f&&(f=b,h=g)}const m=[];for(let g=0;g<i.faces[h].length;g++){const b=i.vertices[i.faces[h][g]],v=new ue;v.copy(b),o.vmult(v,v),r.vadd(v,v),m.push(v)}h>=0&&this.clipFaceAgainstHull(s,e,t,m,a,c,l)}findSeparatingAxis(e,t,i,r,o,s,a,c){const l=new ue,d=new ue,h=new ue,f=new ue,m=new ue,g=new ue;let b=Number.MAX_VALUE;const v=this;if(v.uniqueAxes)for(let D=0;D!==v.uniqueAxes.length;D++){i.vmult(v.uniqueAxes[D],l);const N=v.testSepAxis(l,e,t,i,r,o);if(!1===N)return!1;N<b&&(b=N,s.copy(l))}else{const D=a?a.length:v.faces.length;for(let N=0;N<D;N++){l.copy(v.faceNormals[a?a[N]:N]),i.vmult(l,l);const G=v.testSepAxis(l,e,t,i,r,o);if(!1===G)return!1;G<b&&(b=G,s.copy(l))}}if(e.uniqueAxes)for(let D=0;D!==e.uniqueAxes.length;D++){o.vmult(e.uniqueAxes[D],d);const N=v.testSepAxis(d,e,t,i,r,o);if(!1===N)return!1;N<b&&(b=N,s.copy(d))}else{const D=c?c.length:e.faces.length;for(let N=0;N<D;N++){d.copy(e.faceNormals[c?c[N]:N]),o.vmult(d,d);const G=v.testSepAxis(d,e,t,i,r,o);if(!1===G)return!1;G<b&&(b=G,s.copy(d))}}for(let D=0;D!==v.uniqueEdges.length;D++){i.vmult(v.uniqueEdges[D],f);for(let N=0;N!==e.uniqueEdges.length;N++)if(o.vmult(e.uniqueEdges[N],m),f.cross(m,g),!g.almostZero()){g.normalize();const Z=v.testSepAxis(g,e,t,i,r,o);if(!1===Z)return!1;Z<b&&(b=Z,s.copy(g))}}return r.vsub(t,h),h.dot(s)>0&&s.negate(s),!0}testSepAxis(e,t,i,r,o,s){af.project(this,e,i,r,ZF),af.project(t,e,o,s,eL);const c=ZF[0],l=ZF[1],d=eL[0],h=eL[1];if(c<h||d<l)return!1;const f=c-h,m=d-l;return f<m?f:m}calculateLocalInertia(e,t){const i=new ue,r=new ue;this.computeLocalAABB(r,i);const o=i.x-r.x,s=i.y-r.y,a=i.z-r.z;t.x=1/12*e*(2*s*2*s+2*a*2*a),t.y=1/12*e*(2*o*2*o+2*a*2*a),t.z=1/12*e*(2*s*2*s+2*o*2*o)}getPlaneConstantOfFace(e){return-this.faceNormals[e].dot(this.vertices[this.faces[e][0]])}clipFaceAgainstHull(e,t,i,r,o,s,a){const c=new ue,l=new ue,d=new ue,h=new ue,f=new ue,m=new ue,g=new ue,b=new ue,v=this,N=r,Z=[];let G=-1,Oe=Number.MAX_VALUE;for(let yt=0;yt<v.faces.length;yt++){c.copy(v.faceNormals[yt]),i.vmult(c,c);const Pt=c.dot(e);Pt<Oe&&(Oe=Pt,G=yt)}if(G<0)return;const ze=v.faces[G];ze.connectedFaces=[];for(let yt=0;yt<v.faces.length;yt++)for(let Pt=0;Pt<v.faces[yt].length;Pt++)-1!==ze.indexOf(v.faces[yt][Pt])&&yt!==G&&-1===ze.connectedFaces.indexOf(yt)&&ze.connectedFaces.push(yt);const st=ze.length;for(let yt=0;yt<st;yt++){const Pt=v.vertices[ze[yt]];Pt.vsub(v.vertices[ze[(yt+1)%st]],l),d.copy(l),i.vmult(d,d),t.vadd(d,d),h.copy(this.faceNormals[G]),i.vmult(h,h),t.vadd(h,h),d.cross(h,f),f.negate(f),m.copy(Pt),i.vmult(m,m),t.vadd(m,m);const xt=ze.connectedFaces[yt];g.copy(this.faceNormals[xt]);const It=this.getPlaneConstantOfFace(xt);b.copy(g),i.vmult(b,b);const Jt=It-b.dot(t);for(this.clipFaceAgainstPlane(N,Z,b,Jt);N.length;)N.shift();for(;Z.length;)N.push(Z.shift())}g.copy(this.faceNormals[G]);const pt=this.getPlaneConstantOfFace(G);b.copy(g),i.vmult(b,b);const Je=pt-b.dot(t);for(let yt=0;yt<N.length;yt++){let Pt=b.dot(N[yt])+Je;Pt<=o&&(console.log(`clamped: depth=${Pt} to minDist=${o}`),Pt=o),Pt<=s&&Pt<=1e-6&&a.push({point:N[yt],normal:b,depth:Pt})}}clipFaceAgainstPlane(e,t,i,r){let o,s;const a=e.length;if(a<2)return t;let c=e[e.length-1],l=e[0];o=i.dot(c)+r;for(let d=0;d<a;d++){if(l=e[d],s=i.dot(l)+r,o<0)if(s<0){const h=new ue;h.copy(l),t.push(h)}else{const h=new ue;c.lerp(l,o/(o-s),h),t.push(h)}else if(s<0){const h=new ue;c.lerp(l,o/(o-s),h),t.push(h),t.push(l)}c=l,o=s}return t}computeWorldVertices(e,t){for(;this.worldVertices.length<this.vertices.length;)this.worldVertices.push(new ue);const i=this.vertices,r=this.worldVertices;for(let o=0;o!==this.vertices.length;o++)t.vmult(i[o],r[o]),e.vadd(r[o],r[o]);this.worldVerticesNeedsUpdate=!1}computeLocalAABB(e,t){const i=this.vertices;e.set(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),t.set(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(let r=0;r<this.vertices.length;r++){const o=i[r];o.x<e.x?e.x=o.x:o.x>t.x&&(t.x=o.x),o.y<e.y?e.y=o.y:o.y>t.y&&(t.y=o.y),o.z<e.z?e.z=o.z:o.z>t.z&&(t.z=o.z)}}computeWorldFaceNormals(e){const t=this.faceNormals.length;for(;this.worldFaceNormals.length<t;)this.worldFaceNormals.push(new ue);const i=this.faceNormals,r=this.worldFaceNormals;for(let o=0;o!==t;o++)e.vmult(i[o],r[o]);this.worldFaceNormalsNeedsUpdate=!1}updateBoundingSphereRadius(){let e=0;const t=this.vertices;for(let i=0;i!==t.length;i++){const r=t[i].lengthSquared();r>e&&(e=r)}this.boundingSphereRadius=Math.sqrt(e)}calculateWorldAABB(e,t,i,r){const o=this.vertices;let s,a,c,l,d,h,f=new ue;for(let m=0;m<o.length;m++)f.copy(o[m]),t.vmult(f,f),e.vadd(f,f),(void 0===s||f.x<s)&&(s=f.x),(void 0===l||f.x>l)&&(l=f.x),(void 0===a||f.y<a)&&(a=f.y),(void 0===d||f.y>d)&&(d=f.y),(void 0===c||f.z<c)&&(c=f.z),(void 0===h||f.z>h)&&(h=f.z);i.set(s,a,c),r.set(l,d,h)}volume(){return 4*Math.PI*this.boundingSphereRadius/3}getAveragePointLocal(e){void 0===e&&(e=new ue);const t=this.vertices;for(let i=0;i<t.length;i++)e.vadd(t[i],e);return e.scale(1/t.length,e),e}transformAllPoints(e,t){const i=this.vertices.length,r=this.vertices;if(t){for(let o=0;o<i;o++){const s=r[o];t.vmult(s,s)}for(let o=0;o<this.faceNormals.length;o++){const s=this.faceNormals[o];t.vmult(s,s)}}if(e)for(let o=0;o<i;o++){const s=r[o];s.vadd(e,s)}}pointIsInside(e){const t=this.vertices,i=this.faces,r=this.faceNormals,s=new ue;this.getAveragePointLocal(s);for(let a=0;a<this.faces.length;a++){let c=r[a];const l=t[i[a][0]],d=new ue;e.vsub(l,d);const h=c.dot(d),f=new ue;s.vsub(l,f);const m=c.dot(f);if(h<0&&m>0||h>0&&m<0)return!1}return-1}static project(e,t,i,r,o){const s=e.vertices.length,a=$Oe;let c=0,l=0;const d=qOe,h=e.vertices;d.setZero(),er.vectorToLocalFrame(i,r,t,a),er.pointToLocalFrame(i,r,d,d);const f=d.dot(a);l=c=h[0].dot(a);for(let m=1;m<s;m++){const g=h[m].dot(a);g>c&&(c=g),g<l&&(l=g)}if(l-=f,c-=f,l>c){const m=l;l=c,c=m}o[0]=c,o[1]=l}}const ZF=[],eL=[],$Oe=(new ue,new ue),qOe=new ue;class RS extends Sn{constructor(e){super({type:Sn.types.BOX}),this.halfExtents=e,this.convexPolyhedronRepresentation=null,this.updateConvexPolyhedronRepresentation(),this.updateBoundingSphereRadius()}updateConvexPolyhedronRepresentation(){const e=this.halfExtents.x,t=this.halfExtents.y,i=this.halfExtents.z,r=ue,o=[new r(-e,-t,-i),new r(e,-t,-i),new r(e,t,-i),new r(-e,t,-i),new r(-e,-t,i),new r(e,-t,i),new r(e,t,i),new r(-e,t,i)],a=[new r(0,0,1),new r(0,1,0),new r(1,0,0)],c=new af({vertices:o,faces:[[3,2,1,0],[4,5,6,7],[5,4,0,1],[2,3,7,6],[0,4,7,3],[1,2,6,5]],axes:a});this.convexPolyhedronRepresentation=c,c.material=this.material}calculateLocalInertia(e,t){return void 0===t&&(t=new ue),RS.calculateInertia(this.halfExtents,e,t),t}static calculateInertia(e,t,i){const r=e;i.x=1/12*t*(2*r.y*2*r.y+2*r.z*2*r.z),i.y=1/12*t*(2*r.x*2*r.x+2*r.z*2*r.z),i.z=1/12*t*(2*r.y*2*r.y+2*r.x*2*r.x)}getSideNormals(e,t){const i=e,r=this.halfExtents;if(i[0].set(r.x,0,0),i[1].set(0,r.y,0),i[2].set(0,0,r.z),i[3].set(-r.x,0,0),i[4].set(0,-r.y,0),i[5].set(0,0,-r.z),void 0!==t)for(let o=0;o!==i.length;o++)t.vmult(i[o],i[o]);return i}volume(){return 8*this.halfExtents.x*this.halfExtents.y*this.halfExtents.z}updateBoundingSphereRadius(){this.boundingSphereRadius=this.halfExtents.length()}forEachWorldCorner(e,t,i){const r=this.halfExtents,o=[[r.x,r.y,r.z],[-r.x,r.y,r.z],[-r.x,-r.y,r.z],[-r.x,-r.y,-r.z],[r.x,-r.y,-r.z],[r.x,r.y,-r.z],[-r.x,r.y,-r.z],[r.x,-r.y,r.z]];for(let s=0;s<o.length;s++)cf.set(o[s][0],o[s][1],o[s][2]),t.vmult(cf,cf),e.vadd(cf,cf),i(cf.x,cf.y,cf.z)}calculateWorldAABB(e,t,i,r){const o=this.halfExtents;Rd[0].set(o.x,o.y,o.z),Rd[1].set(-o.x,o.y,o.z),Rd[2].set(-o.x,-o.y,o.z),Rd[3].set(-o.x,-o.y,-o.z),Rd[4].set(o.x,-o.y,-o.z),Rd[5].set(o.x,o.y,-o.z),Rd[6].set(-o.x,o.y,-o.z),Rd[7].set(o.x,-o.y,o.z);const s=Rd[0];t.vmult(s,s),e.vadd(s,s),r.copy(s),i.copy(s);for(let a=1;a<8;a++){const c=Rd[a];t.vmult(c,c),e.vadd(c,c);const l=c.x,d=c.y,h=c.z;l>r.x&&(r.x=l),d>r.y&&(r.y=d),h>r.z&&(r.z=h),l<i.x&&(i.x=l),d<i.y&&(i.y=d),h<i.z&&(i.z=h)}}}const cf=new ue,Rd=[new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue];class kn extends uX{constructor(e){void 0===e&&(e={}),super(),this.id=kn.idCounter++,this.index=-1,this.world=null,this.vlambda=new ue,this.collisionFilterGroup="number"==typeof e.collisionFilterGroup?e.collisionFilterGroup:1,this.collisionFilterMask="number"==typeof e.collisionFilterMask?e.collisionFilterMask:-1,this.collisionResponse="boolean"!=typeof e.collisionResponse||e.collisionResponse,this.position=new ue,this.previousPosition=new ue,this.interpolatedPosition=new ue,this.initPosition=new ue,e.position&&(this.position.copy(e.position),this.previousPosition.copy(e.position),this.interpolatedPosition.copy(e.position),this.initPosition.copy(e.position)),this.velocity=new ue,e.velocity&&this.velocity.copy(e.velocity),this.initVelocity=new ue,this.force=new ue;const t="number"==typeof e.mass?e.mass:0;this.mass=t,this.invMass=t>0?1/t:0,this.material=e.material||null,this.linearDamping="number"==typeof e.linearDamping?e.linearDamping:.01,this.type=t<=0?kn.STATIC:kn.DYNAMIC,typeof e.type==typeof kn.STATIC&&(this.type=e.type),this.allowSleep=!(typeof e.allowSleep<"u")||e.allowSleep,this.sleepState=kn.AWAKE,this.sleepSpeedLimit=typeof e.sleepSpeedLimit<"u"?e.sleepSpeedLimit:.1,this.sleepTimeLimit=typeof e.sleepTimeLimit<"u"?e.sleepTimeLimit:1,this.timeLastSleepy=0,this.wakeUpAfterNarrowphase=!1,this.torque=new ue,this.quaternion=new Eo,this.initQuaternion=new Eo,this.previousQuaternion=new Eo,this.interpolatedQuaternion=new Eo,e.quaternion&&(this.quaternion.copy(e.quaternion),this.initQuaternion.copy(e.quaternion),this.previousQuaternion.copy(e.quaternion),this.interpolatedQuaternion.copy(e.quaternion)),this.angularVelocity=new ue,e.angularVelocity&&this.angularVelocity.copy(e.angularVelocity),this.initAngularVelocity=new ue,this.shapes=[],this.shapeOffsets=[],this.shapeOrientations=[],this.inertia=new ue,this.invInertia=new ue,this.invInertiaWorld=new Fl,this.invMassSolve=0,this.invInertiaSolve=new ue,this.invInertiaWorldSolve=new Fl,this.fixedRotation=typeof e.fixedRotation<"u"&&e.fixedRotation,this.angularDamping=typeof e.angularDamping<"u"?e.angularDamping:.01,this.linearFactor=new ue(1,1,1),e.linearFactor&&this.linearFactor.copy(e.linearFactor),this.angularFactor=new ue(1,1,1),e.angularFactor&&this.angularFactor.copy(e.angularFactor),this.aabb=new Sr,this.aabbNeedsUpdate=!0,this.boundingRadius=0,this.wlambda=new ue,this.isTrigger=!!e.isTrigger,e.shape&&this.addShape(e.shape),this.updateMassProperties()}wakeUp(){const e=this.sleepState;this.sleepState=kn.AWAKE,this.wakeUpAfterNarrowphase=!1,e===kn.SLEEPING&&this.dispatchEvent(kn.wakeupEvent)}sleep(){this.sleepState=kn.SLEEPING,this.velocity.set(0,0,0),this.angularVelocity.set(0,0,0),this.wakeUpAfterNarrowphase=!1}sleepTick(e){if(this.allowSleep){const t=this.sleepState,i=this.velocity.lengthSquared()+this.angularVelocity.lengthSquared(),r=this.sleepSpeedLimit**2;t===kn.AWAKE&&i<r?(this.sleepState=kn.SLEEPY,this.timeLastSleepy=e,this.dispatchEvent(kn.sleepyEvent)):t===kn.SLEEPY&&i>r?this.wakeUp():t===kn.SLEEPY&&e-this.timeLastSleepy>this.sleepTimeLimit&&(this.sleep(),this.dispatchEvent(kn.sleepEvent))}}updateSolveMassProperties(){this.sleepState===kn.SLEEPING||this.type===kn.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve.setZero(),this.invInertiaWorldSolve.setZero()):(this.invMassSolve=this.invMass,this.invInertiaSolve.copy(this.invInertia),this.invInertiaWorldSolve.copy(this.invInertiaWorld))}pointToLocalFrame(e,t){return void 0===t&&(t=new ue),e.vsub(this.position,t),this.quaternion.conjugate().vmult(t,t),t}vectorToLocalFrame(e,t){return void 0===t&&(t=new ue),this.quaternion.conjugate().vmult(e,t),t}pointToWorldFrame(e,t){return void 0===t&&(t=new ue),this.quaternion.vmult(e,t),t.vadd(this.position,t),t}vectorToWorldFrame(e,t){return void 0===t&&(t=new ue),this.quaternion.vmult(e,t),t}addShape(e,t,i){const r=new ue,o=new Eo;return t&&r.copy(t),i&&o.copy(i),this.shapes.push(e),this.shapeOffsets.push(r),this.shapeOrientations.push(o),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=this,this}removeShape(e){const t=this.shapes.indexOf(e);return-1===t?(console.warn("Shape does not belong to the body"),this):(this.shapes.splice(t,1),this.shapeOffsets.splice(t,1),this.shapeOrientations.splice(t,1),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0,e.body=null,this)}updateBoundingRadius(){const e=this.shapes,t=this.shapeOffsets,i=e.length;let r=0;for(let o=0;o!==i;o++){const s=e[o];s.updateBoundingSphereRadius();const a=t[o].length(),c=s.boundingSphereRadius;a+c>r&&(r=a+c)}this.boundingRadius=r}updateAABB(){const e=this.shapes,t=this.shapeOffsets,i=this.shapeOrientations,r=e.length,o=XOe,s=YOe,a=this.quaternion,c=this.aabb,l=KOe;for(let d=0;d!==r;d++){const h=e[d];a.vmult(t[d],o),o.vadd(this.position,o),a.mult(i[d],s),h.calculateWorldAABB(o,s,l.lowerBound,l.upperBound),0===d?c.copy(l):c.extend(l)}this.aabbNeedsUpdate=!1}updateInertiaWorld(e){const t=this.invInertia;if(t.x!==t.y||t.y!==t.z||e){const i=JOe,r=QOe;i.setRotationFromQuaternion(this.quaternion),i.transpose(r),i.scale(t,i),i.mmult(r,this.invInertiaWorld)}}applyForce(e,t){if(void 0===t&&(t=new ue),this.type!==kn.DYNAMIC)return;this.sleepState===kn.SLEEPING&&this.wakeUp();const i=eRe;t.cross(e,i),this.force.vadd(e,this.force),this.torque.vadd(i,this.torque)}applyLocalForce(e,t){if(void 0===t&&(t=new ue),this.type!==kn.DYNAMIC)return;const i=tRe,r=nRe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyForce(i,r)}applyTorque(e){this.type===kn.DYNAMIC&&(this.sleepState===kn.SLEEPING&&this.wakeUp(),this.torque.vadd(e,this.torque))}applyImpulse(e,t){if(void 0===t&&(t=new ue),this.type!==kn.DYNAMIC)return;this.sleepState===kn.SLEEPING&&this.wakeUp();const i=t,r=iRe;r.copy(e),r.scale(this.invMass,r),this.velocity.vadd(r,this.velocity);const o=rRe;i.cross(e,o),this.invInertiaWorld.vmult(o,o),this.angularVelocity.vadd(o,this.angularVelocity)}applyLocalImpulse(e,t){if(void 0===t&&(t=new ue),this.type!==kn.DYNAMIC)return;const i=oRe,r=sRe;this.vectorToWorldFrame(e,i),this.vectorToWorldFrame(t,r),this.applyImpulse(i,r)}updateMassProperties(){const e=aRe;this.invMass=this.mass>0?1/this.mass:0;const t=this.inertia,i=this.fixedRotation;this.updateAABB(),e.set((this.aabb.upperBound.x-this.aabb.lowerBound.x)/2,(this.aabb.upperBound.y-this.aabb.lowerBound.y)/2,(this.aabb.upperBound.z-this.aabb.lowerBound.z)/2),RS.calculateInertia(e,this.mass,t),this.invInertia.set(t.x>0&&!i?1/t.x:0,t.y>0&&!i?1/t.y:0,t.z>0&&!i?1/t.z:0),this.updateInertiaWorld(!0)}getVelocityAtWorldPoint(e,t){const i=new ue;return e.vsub(this.position,i),this.angularVelocity.cross(i,t),this.velocity.vadd(t,t),t}integrate(e,t,i){if(this.previousPosition.copy(this.position),this.previousQuaternion.copy(this.quaternion),this.type!==kn.DYNAMIC&&this.type!==kn.KINEMATIC||this.sleepState===kn.SLEEPING)return;const r=this.velocity,o=this.angularVelocity,s=this.position,a=this.force,c=this.torque,l=this.quaternion,h=this.invInertiaWorld,f=this.linearFactor,m=this.invMass*e;r.x+=a.x*m*f.x,r.y+=a.y*m*f.y,r.z+=a.z*m*f.z;const g=h.elements,b=this.angularFactor,v=c.x*b.x,D=c.y*b.y,N=c.z*b.z;o.x+=e*(g[0]*v+g[1]*D+g[2]*N),o.y+=e*(g[3]*v+g[4]*D+g[5]*N),o.z+=e*(g[6]*v+g[7]*D+g[8]*N),s.x+=r.x*e,s.y+=r.y*e,s.z+=r.z*e,l.integrate(this.angularVelocity,e,this.angularFactor,l),t&&(i?l.normalizeFast():l.normalize()),this.aabbNeedsUpdate=!0,this.updateInertiaWorld()}}kn.idCounter=0,kn.COLLIDE_EVENT_NAME="collide",kn.DYNAMIC=1,kn.STATIC=2,kn.KINEMATIC=4,kn.AWAKE=0,kn.SLEEPY=1,kn.SLEEPING=2,kn.wakeupEvent={type:"wakeup"},kn.sleepyEvent={type:"sleepy"},kn.sleepEvent={type:"sleep"};const XOe=new ue,YOe=new Eo,KOe=new Sr,JOe=new Fl,QOe=new Fl,eRe=(new Fl,new ue),tRe=new ue,nRe=new ue,iRe=new ue,rRe=new ue,oRe=new ue,sRe=new ue,aRe=new ue;new ue,new ue,new Eo,new ue,new ue,new ue,new ue;class cw{constructor(){this.rayFromWorld=new ue,this.rayToWorld=new ue,this.hitNormalWorld=new ue,this.hitPointWorld=new ue,this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}reset(){this.rayFromWorld.setZero(),this.rayToWorld.setZero(),this.hitNormalWorld.setZero(),this.hitPointWorld.setZero(),this.hasHit=!1,this.shape=null,this.body=null,this.hitFaceIndex=-1,this.distance=-1,this.shouldStop=!1}abort(){this.shouldStop=!0}set(e,t,i,r,o,s,a){this.rayFromWorld.copy(e),this.rayToWorld.copy(t),this.hitNormalWorld.copy(i),this.hitPointWorld.copy(r),this.shape=o,this.body=s,this.distance=a}}let fX,pX,mX,gX,_X,bX,yX;fX=Sn.types.SPHERE,pX=Sn.types.PLANE,mX=Sn.types.BOX,gX=Sn.types.CYLINDER,_X=Sn.types.CONVEXPOLYHEDRON,bX=Sn.types.HEIGHTFIELD,yX=Sn.types.TRIMESH;class ss{get[fX](){return this._intersectSphere}get[pX](){return this._intersectPlane}get[mX](){return this._intersectBox}get[gX](){return this._intersectConvex}get[_X](){return this._intersectConvex}get[bX](){return this._intersectHeightfield}get[yX](){return this._intersectTrimesh}constructor(e,t){void 0===e&&(e=new ue),void 0===t&&(t=new ue),this.from=e.clone(),this.to=t.clone(),this.direction=new ue,this.precision=1e-4,this.checkCollisionResponse=!0,this.skipBackfaces=!1,this.collisionFilterMask=-1,this.collisionFilterGroup=-1,this.mode=ss.ANY,this.result=new cw,this.hasHit=!1,this.callback=i=>{}}intersectWorld(e,t){return this.mode=t.mode||ss.ANY,this.result=t.result||new cw,this.skipBackfaces=!!t.skipBackfaces,this.collisionFilterMask=typeof t.collisionFilterMask<"u"?t.collisionFilterMask:-1,this.collisionFilterGroup=typeof t.collisionFilterGroup<"u"?t.collisionFilterGroup:-1,this.checkCollisionResponse=!(typeof t.checkCollisionResponse<"u")||t.checkCollisionResponse,t.from&&this.from.copy(t.from),t.to&&this.to.copy(t.to),this.callback=t.callback||(()=>{}),this.hasHit=!1,this.result.reset(),this.updateDirection(),this.getAABB(vX),oL.length=0,e.broadphase.aabbQuery(e,vX,oL),this.intersectBodies(oL),this.hasHit}intersectBody(e,t){t&&(this.result=t,this.updateDirection());const i=this.checkCollisionResponse;if(i&&!e.collisionResponse||!(this.collisionFilterGroup&e.collisionFilterMask)||!(e.collisionFilterGroup&this.collisionFilterMask))return;const r=pRe,o=mRe;for(let s=0,a=e.shapes.length;s<a;s++){const c=e.shapes[s];if((!i||c.collisionResponse)&&(e.quaternion.mult(e.shapeOrientations[s],o),e.quaternion.vmult(e.shapeOffsets[s],r),r.vadd(e.position,r),this.intersectShape(c,o,r,e),this.result.shouldStop))break}}intersectBodies(e,t){t&&(this.result=t,this.updateDirection());for(let i=0,r=e.length;!this.result.shouldStop&&i<r;i++)this.intersectBody(e[i])}updateDirection(){this.to.vsub(this.from,this.direction),this.direction.normalize()}intersectShape(e,t,i,r){if(function ORe(n,e,t){t.vsub(n,em);const i=em.dot(e);return e.scale(i,PS),PS.vadd(n,PS),t.distanceTo(PS)}(this.from,this.direction,i)>e.boundingSphereRadius)return;const a=this[e.type];a&&a.call(this,e,t,i,r,e)}_intersectBox(e,t,i,r,o){return this._intersectConvex(e.convexPolyhedronRepresentation,t,i,r,o)}_intersectPlane(e,t,i,r,o){const s=this.from,a=this.to,c=this.direction,l=new ue(0,0,1);t.vmult(l,l);const d=new ue;s.vsub(i,d);const h=d.dot(l);if(a.vsub(i,d),h*d.dot(l)>0||s.distanceTo(a)<h)return;const m=l.dot(c);if(Math.abs(m)<this.precision)return;const g=new ue,b=new ue,v=new ue;s.vsub(i,g);const D=-l.dot(g)/m;c.scale(D,b),s.vadd(b,v),this.reportIntersection(l,v,o,r,-1)}getAABB(e){const{lowerBound:t,upperBound:i}=e,r=this.to,o=this.from;t.x=Math.min(r.x,o.x),t.y=Math.min(r.y,o.y),t.z=Math.min(r.z,o.z),i.x=Math.max(r.x,o.x),i.y=Math.max(r.y,o.y),i.z=Math.max(r.z,o.z)}_intersectHeightfield(e,t,i,r,o){const s=gRe;s.from.copy(this.from),s.to.copy(this.to),er.pointToLocalFrame(i,t,s.from,s.from),er.pointToLocalFrame(i,t,s.to,s.to),s.updateDirection();const a=_Re;let c,l,d,h;c=l=0,d=h=e.data.length-1;const f=new Sr;s.getAABB(f),e.getIndexOfPosition(f.lowerBound.x,f.lowerBound.y,a,!0),c=Math.max(c,a[0]),l=Math.max(l,a[1]),e.getIndexOfPosition(f.upperBound.x,f.upperBound.y,a,!0),d=Math.min(d,a[0]+1),h=Math.min(h,a[1]+1);for(let m=c;m<d;m++)for(let g=l;g<h;g++){if(this.result.shouldStop)return;if(e.getAabbAtIndex(m,g,f),f.overlapsRay(s)){if(e.getConvexTrianglePillar(m,g,!1),er.pointToWorldFrame(i,t,e.pillarOffset,kS),this._intersectConvex(e.pillarConvex,t,kS,r,o,wX),this.result.shouldStop)return;e.getConvexTrianglePillar(m,g,!0),er.pointToWorldFrame(i,t,e.pillarOffset,kS),this._intersectConvex(e.pillarConvex,t,kS,r,o,wX)}}}_intersectSphere(e,t,i,r,o){const s=this.from,a=this.to,l=(a.x-s.x)**2+(a.y-s.y)**2+(a.z-s.z)**2,d=2*((a.x-s.x)*(s.x-i.x)+(a.y-s.y)*(s.y-i.y)+(a.z-s.z)*(s.z-i.z)),f=d**2-4*l*((s.x-i.x)**2+(s.y-i.y)**2+(s.z-i.z)**2-e.radius**2),m=bRe,g=yRe;if(!(f<0))if(0===f)s.lerp(a,f,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1);else{const b=(-d-Math.sqrt(f))/(2*l),v=(-d+Math.sqrt(f))/(2*l);if(b>=0&&b<=1&&(s.lerp(a,b,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1)),this.result.shouldStop)return;v>=0&&v<=1&&(s.lerp(a,v,m),m.vsub(i,g),g.normalize(),this.reportIntersection(g,m,o,r,-1))}}_intersectConvex(e,t,i,r,o,s){const a=vRe,c=xX,l=s&&s.faceList||null,d=e.faces,h=e.vertices,f=e.faceNormals,m=this.direction,g=this.from,v=g.distanceTo(this.to),D=l?l.length:d.length,N=this.result;for(let Z=0;!N.shouldStop&&Z<D;Z++){const G=l?l[Z]:Z,Oe=d[G],ze=f[G],st=t,pt=i;c.copy(h[Oe[0]]),st.vmult(c,c),c.vadd(pt,c),c.vsub(g,c),st.vmult(ze,a);const Je=m.dot(a);if(Math.abs(Je)<this.precision)continue;const yt=a.dot(c)/Je;if(!(yt<0)){m.scale(yt,ac),ac.vadd(g,ac),Ll.copy(h[Oe[0]]),st.vmult(Ll,Ll),pt.vadd(Ll,Ll);for(let Pt=1;!N.shouldStop&&Pt<Oe.length-1;Pt++){kd.copy(h[Oe[Pt]]),Pd.copy(h[Oe[Pt+1]]),st.vmult(kd,kd),st.vmult(Pd,Pd),pt.vadd(kd,kd),pt.vadd(Pd,Pd);const zt=ac.distanceTo(g);!ss.pointInTriangle(ac,Ll,kd,Pd)&&!ss.pointInTriangle(ac,kd,Ll,Pd)||zt>v||this.reportIntersection(a,ac,o,r,G)}}}}_intersectTrimesh(e,t,i,r,o,s){const a=ERe,c=IRe,l=DRe,d=xX,h=CRe,f=ARe,m=SRe,g=MRe,b=TRe,v=e.indices,D=this.from,N=this.to,Z=this.direction;l.position.copy(i),l.quaternion.copy(t),er.vectorToLocalFrame(i,t,Z,h),er.pointToLocalFrame(i,t,D,f),er.pointToLocalFrame(i,t,N,m),m.x*=e.scale.x,m.y*=e.scale.y,m.z*=e.scale.z,f.x*=e.scale.x,f.y*=e.scale.y,f.z*=e.scale.z,m.vsub(f,h),h.normalize();const G=f.distanceSquared(m);e.tree.rayQuery(this,l,c);for(let Oe=0,ze=c.length;!this.result.shouldStop&&Oe!==ze;Oe++){const st=c[Oe];e.getNormal(st,a),e.getVertex(v[3*st],Ll),Ll.vsub(f,d);const pt=h.dot(a),Je=a.dot(d)/pt;if(Je<0)continue;h.scale(Je,ac),ac.vadd(f,ac),e.getVertex(v[3*st+1],kd),e.getVertex(v[3*st+2],Pd);const yt=ac.distanceSquared(f);!ss.pointInTriangle(ac,kd,Ll,Pd)&&!ss.pointInTriangle(ac,Ll,kd,Pd)||yt>G||(er.vectorToWorldFrame(t,a,b),er.pointToWorldFrame(i,t,ac,g),this.reportIntersection(b,g,o,r,st))}c.length=0}reportIntersection(e,t,i,r,o){const s=this.from,a=this.to,c=s.distanceTo(t),l=this.result;if(!(this.skipBackfaces&&e.dot(this.direction)>0))switch(l.hitFaceIndex=typeof o<"u"?o:-1,this.mode){case ss.ALL:this.hasHit=!0,l.set(s,a,e,t,i,r,c),l.hasHit=!0,this.callback(l);break;case ss.CLOSEST:(c<l.distance||!l.hasHit)&&(this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c));break;case ss.ANY:this.hasHit=!0,l.hasHit=!0,l.set(s,a,e,t,i,r,c),l.shouldStop=!0}}static pointInTriangle(e,t,i,r){r.vsub(t,em),i.vsub(t,lw),e.vsub(t,sL);const o=em.dot(em),s=em.dot(lw),a=em.dot(sL),c=lw.dot(lw),l=lw.dot(sL);let d,h;return(d=c*a-s*l)>=0&&(h=o*l-s*a)>=0&&d+h<o*c-s*s}}ss.CLOSEST=1,ss.ANY=2,ss.ALL=4;const vX=new Sr,oL=[],lw=new ue,sL=new ue,pRe=new ue,mRe=new Eo,ac=new ue,Ll=new ue,kd=new ue,Pd=new ue;new ue,new cw;const wX={faceList:[0]},kS=new ue,gRe=new ss,_Re=[],bRe=new ue,yRe=new ue,vRe=new ue,xX=(new ue,new ue,new ue),ERe=new ue,CRe=new ue,ARe=new ue,SRe=new ue,TRe=new ue,MRe=new ue;new Sr;const IRe=[],DRe=new er,em=new ue,PS=new ue;new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ss,new ue,new ue,new ue,new ue(1,0,0),new ue(0,1,0),new ue(0,0,1),new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new Sr,new ue,new Sr,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new Sr,new ue,new er,new Sr,new ue,new ue,new ue,new ue,new ue,new Eo,new Eo,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new Sr,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new Eo,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new ue,new Sr,new ss;const bs=globalThis.performance||{};if(!bs.now){let n=Date.now();bs.timing&&bs.timing.navigationStart&&(n=bs.timing.navigationStart),bs.now=()=>Date.now()-n}function uL(){return uL=R(function*(n){console.log("Starting Collisioning");const e=n.filter(s=>!s.scenegraph&&"wireframe"!==s.geometry).map(s=>{const a=new Bt(s.transformMatrix),c=a.transformAsPoint([-1,-1,-1],[]),l=a.transformAsPoint([1,1,1],[]);return{"@id":s["@id"],name:s.tooltip,entityId:s.entityId,bbox:new Sr({lowerBound:new ue(...c.map((d,h)=>Math.min(d,l[h]))),upperBound:new ue(...l.map((d,h)=>Math.max(d,c[h])))})}}),t=[];for(const s of n.filter(a=>!!a.scenegraph)){const a=yield H0(s.scenegraph,Z_,{DracoLoader:IF,decompress:!0,postProcess:!0});for(const c of a.scenes??[])OS(c,new Bt(s.transformMatrix),(l,d)=>{if(l.mesh&&l.mesh.primitives&&l.mesh.primitives.length>0)for(const h of l.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const f=d.transformAsPoint(h.attributes.POSITION.min,[]),m=d.transformAsPoint(h.attributes.POSITION.max,[]);t.push({"@id":s["@id"],name:l.name,entityId:s.entityId,bbox:new Sr({lowerBound:new ue(...f.map((g,b)=>Math.min(g,m[b]))),upperBound:new ue(...m.map((g,b)=>Math.max(g,f[b])))}),gltf:a})}return!0})}const i=[],r=[];for(const s of e){const a=[];for(const c of t)s.bbox.overlaps(c.bbox)&&a.push({"@id":c["@id"],name:c.name});a.length>0?i.push({"@id":s.entityId,name:s.name,hits:a}):r.push(s)}console.log({sourceBoxes:e,targetBoxes:t,report:i,sad:r,maxHits:Math.max(...i.map(s=>s.hits.length))});const o=[];for(const s of i){o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":"","Hit Name":""});for(const a of s.hits)o.push({"Tissue ID":s["@id"],"Tissue Name":s.name,"Hit ID":a["@id"],"Hit Name":a.name})}return console.log(o),i}),uL.apply(this,arguments)}function hL(n,e,t){if(e&&0!==e.length){let i;switch(t.geometry){case"sphere":i=new SOe;break;case"cone":i=new DOe;break;case"cylinder":i=new OOe;break;default:i=new LOe}return new NN({id:n,pickable:!0,autoHighlight:!1,highlightColor:[30,136,229,255],coordinateSystem:Xi.CARTESIAN,data:e,mesh:i,wireframe:!1,getColor:r=>r.color||[255,255,255,229.5],getTransformMatrix:r=>r.transformMatrix,...t})}}function XX(n,e,t){if(e&&0!==e.length)return new ON({id:n,pickable:!0,data:e.map(i=>({...i,position:new Bt(i.transformMatrix).getTranslation()})),getText:i=>i.text,getPosition:i=>i.position,getColor:i=>i.color,...t})}new ue;let F2e=(()=>{class n extends SN{static#e=this.layerName="BodyUILayer";static#t=this.gltfCache={};initializeState(){const{data:t}=this.props;this.setState({data:t??[],zoomOpacity:.8,doCollisions:!1}),rX()}renderLayers(){const t=this.state,i={sphere:[],cone:[],cylinder:[],cube:[],text:[],wireframe:[],scenegraph:[]};for(const s of t.data){const a=s.geometry??"cube";s.scenegraph?i.scenegraph.push(s):void 0!==i[a]&&i[a].push(s)}const r={};for(const s of i.scenegraph)s.scenegraph&&s.scenegraphNode&&!Object.prototype.hasOwnProperty.call(r,s.scenegraph)&&(r[s.scenegraph]=sX({scenegraph:s.scenegraph},n.gltfCache));const o=[];for(const[s,a]of Object.entries(i))if("scenegraph"===s)for(const c of a)o.push(new KF({id:"models-"+c["@id"],opacity:c.zoomBasedOpacity?t.zoomOpacity:c.opacity??1,pickable:!c.unpickable,coordinateSystem:Xi.CARTESIAN,data:[c],scenegraph:c.scenegraphNode?BOe(c.scenegraphNode,r[c.scenegraph]):c.scenegraph,_lighting:c._lighting,getTransformMatrix:c.transformMatrix,getColor:c.color??[0,255,0,127.5],parameters:{depthMask:!c.zoomBasedOpacity&&(void 0===c.opacity||1===c.opacity)}}));else"text"===s?(o.push(XX("text",a.filter(c=>c.unpickable),{pickable:!1})),o.push(XX("textPickable",a.filter(c=>!c.unpickable),{pickable:!0}))):"wireframe"===s?o.push(hL(s,a,{wireframe:!0,pickable:!1,geometry:s})):(o.push(hL(s,a.filter(c=>c.unpickable),{wireframe:!1,pickable:!1,geometry:s})),o.push(hL(`${s}Pickable`,a.filter(c=>!c.unpickable),{wireframe:!1,pickable:!0,geometry:s})));return t.doCollisions&&function N2e(n){uL.apply(this,arguments)}(t.data),o.filter(s=>!!s)}getPickingInfo(t){return t.info}}return n})();function YX(n,e=[]){for(const t of n.nodes||n.children||[])e.push(t.name),YX(t,e);return e}function fL(){return fL=R(function*(n,e,t,i){rX();const r=yield sX({scenegraph:n,scenegraphNode:t},i),o={},s=[];e=new Bt(e??Bt.IDENTITY);for(const a of r.scenes)OS(a,e,(c,l)=>{const d={"@id":c.name||c.id,"@type":"ProcessedNode",transformMatrix:new Bt(l),geometry:"wireframe",node:c};if(s.push({"@id":`GLTF:${d["@id"]}`,"@type":"GLTFNode",scenegraph:n,scenegraphNode:d["@id"],transformMatrix:new Bt(e||Bt.IDENTITY),tooltip:c.name||c.id,color:[255,255,255,255],_lighting:"pbr",zoomBasedOpacity:!0,node:c}),c.mesh&&c.mesh.primitives&&c.mesh.primitives.length>0)for(const h of c.mesh.primitives)if(h.attributes.POSITION&&h.attributes.POSITION.min){const f=l.transformAsPoint(h.attributes.POSITION.min,[]),m=l.transformAsPoint(h.attributes.POSITION.max,[]);d.bbox=new Sr({lowerBound:new ue(...f.map((g,b)=>Math.min(g,m[b]))),upperBound:new ue(...m.map((g,b)=>Math.max(g,f[b])))})}return o[d["@id"]]=d,!0});for(const a of Object.values(o).filter(c=>!c.bbox)){for(const c of YX(a.node).map(l=>o[l]).filter(l=>l.bbox))a.bbox?a.bbox.extend(c.bbox):a.bbox=c.bbox.clone();a.bbox||delete o[a["@id"]]}for(const a of Object.values(o)){const c=a.bbox.lowerBound,h=(a.size=a.bbox.upperBound.clone().vsub(c)).clone().vmul(new ue(.5,.5,.5)),f=a.center=c.clone().vadd(h);a.transformMatrix=new Bt(Bt.IDENTITY).translate(f.toArray()).scale(h.toArray())}for(const a of s)o[a["@id"]]=a;return o}),fL.apply(this,arguments)}class rm{constructor(e){this.deckProps=e,this.bodyUILayer=new F2e({}),this.nodeClickSubject=new en,this.nodeHoverStartSubject=new en,this.nodeHoverStopSubject=new en,this.sceneRotationSubject=new _e([0,0]),this.nodeDragStartSubject=new en,this.nodeDragSubject=new en,this.nodeDragEndSubject=new en,this.nodeClick$=this.nodeClickSubject.pipe(fd()),this.nodeHoverStart$=this.nodeHoverStartSubject.pipe(fd()),this.nodeHoverStop$=this.nodeHoverStopSubject.pipe(fd()),this.sceneRotation$=this.sceneRotationSubject.pipe(fd()),this.nodeDragStart$=this.nodeDragStartSubject.pipe(fd()),this.nodeDrag$=this.nodeDragSubject.pipe(fd()),this.nodeDragEnd$=this.nodeDragEndSubject.pipe(fd());const t={...e,views:["orthographic"===e.camera?new DP({flipY:!1,near:-1e3}):new m9({orbitAxis:"Y"})],controller:e.interactive??!0,layers:[this.bodyUILayer],onHover:this._onHover,onClick:this._onClick,onViewStateChange:this._onViewStateChange,onDragStart:this._onDragStart,onDrag:this._onDrag,onDragEnd:this._onDragEnd,getCursor:i=>this.cursor??(i.isDragging?"grabbing":"grab")};e.legacyLighting&&(t.effects=[new u2({ambientLight:new xW({color:[255,255,255],intensity:10})})]),this.deck=new fN(t),this.deck.setProps({viewState:{orbitAxis:"Y",minRotationX:e.minRotationX??-15,maxRotationX:e.maxRotationX??15,target:e.target??[.5,.5,0],rotationX:0,rotationOrbit:e.rotation??0,zoom:e.zoom??9.5,camera:e.camera}}),e.rotation&&this.sceneRotationSubject.next([e.rotation,0])}initialize(){var e=this;return R(function*(){for(;!e.bodyUILayer.state;)yield new Promise(t=>{setTimeout(t,200)})})()}finalize(){this.deck.finalize()}setScene(e){if(e?.length>0){let t=this.bodyUILayer.state.zoomOpacity,i=!1;for(const r of e)r.zoomToOnLoad&&(this.zoomTo(r),i=!0);t=i?.05:t,this.deckProps.debugSceneNodeProcessing?this.debugSceneNodeProcessing(e,t):this.bodyUILayer.setState({data:e,zoomOpacity:t})}}debugSceneNodeProcessing(e,t){const i="https://hubmapconsortium.github.io/ccf-3d-reference-object-library/VH_Female/United/VHF_United_Color.glb",r=new Bt([.076,0,0,0,0,.076,16875389974302382e-33,0,0,-16875389974302382e-33,.076,0,.49,.034,.11,1]);(function L2e(n,e,t,i){return fL.apply(this,arguments)})(i,r,"VHF_Kidney_L_Low1").then(o=>{console.log("results",o),console.log("data",e),(e=e.concat(Object.values(o))).push({"@id":"TEST","@type":"TEST",scenegraph:i,scenegraphNode:"VHF_Kidney_R_Low",transformMatrix:r,color:[255,255,255,200],_lighting:"pbr",zoomBasedOpacity:!1}),this.bodyUILayer.setState({data:e,zoomOpacity:t})})}zoomTo(e){const t=new Bt(e.transformMatrix);this.deck.setProps({viewState:{...this.deck.props.viewState,target:t.getTranslation(),rotationX:0,rotationOrbit:0,zoom:11.5}})}setRotation(e){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationOrbit:e}})}setRotationX(e){this.deck.setProps({viewState:{...this.deck.props.viewState,rotationX:e}})}setZoom(e){this.deck.setProps({viewState:{...this.deck.props.viewState,zoom:e}})}setTarget(e){this.deck.setProps({viewState:{...this.deck.props.viewState,target:e}})}setInteractive(e){this.deck.setProps({controller:e})}_onHover(e){const{lastHovered:t}=this;this.cursor=e.picked?"pointer":void 0,e.picked&&e.object?.["@id"]?t!==e.object&&(t&&this.nodeHoverStopSubject.next(t),this.lastHovered=e.object,this.nodeHoverStartSubject.next(e.object)):t&&(this.nodeHoverStopSubject.next(t),this.lastHovered=void 0)}_onClick(e,t){e.picked&&e.object?.["@id"]&&this.nodeClickSubject.next({node:e.object,ctrlClick:t?.srcEvent?.ctrlKey??void 0})}_onViewStateChange(e){if(e.interactionState?.isZooming){const t=this.bodyUILayer.state,i=Math.min(Math.max(1-(e.viewState.zoom-8.9)/2,.05),1);t.zoomOpacity!==i&&this.bodyUILayer.setState({data:t.data,zoomOpacity:i})}this.deck.setProps({viewState:{...e.viewState}}),this.sceneRotationSubject.next([e.viewState.rotationOrbit,e.viewState.rotationX])}_onDragStart(e,t){this._dragEvent(e,t,this.nodeDragStartSubject)}_onDrag(e,t){this._dragEvent(e,t,this.nodeDragSubject)}_onDragEnd(e,t){this._dragEvent(e,t,this.nodeDragEndSubject)}_dragEvent(e,t,i){e?.object?.["@id"]&&i.next({node:e.object,info:e,e:t})}}Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],rm.prototype,"_onHover",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object,Object]),Ie("design:returntype",void 0)],rm.prototype,"_onClick",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],rm.prototype,"_onViewStateChange",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object,MouseEvent]),Ie("design:returntype",void 0)],rm.prototype,"_onDragStart",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object,MouseEvent]),Ie("design:returntype",void 0)],rm.prototype,"_onDrag",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object,MouseEvent]),Ie("design:returntype",void 0)],rm.prototype,"_onDragEnd",null);const B2e=["bodyCanvas"];let j2e=(()=>{class n{constructor(){this.clsName="ccf-body-ui",this.rotationChange=new Qt,this.nodeDrag=new Qt,this.nodeClick=new Qt,this.nodeHoverStart=new Qt,this.nodeHoverStop=new Qt,this.initialized=new Qt,this._interactive=!0,this._rotation=0,this._rotationX=0,this._zoom=9.5,this._target=[0,0,0],this._scene=[],this.subscriptions=[]}get scene(){return this._scene}set scene(t){this._scene=t,this.bodyUI?.setScene(t)}get rotation(){return this._rotation}set rotation(t){this._rotation=t,this.bodyUI?.setRotation(t)}get rotationX(){return this._rotationX}set rotationX(t){this._rotationX=t,this.bodyUI?.setRotationX(t)}get zoom(){return this._zoom}set zoom(t){this._zoom=t,this.bodyUI?.setZoom(t)}get target(){return this._target}set target(t){this._target=t,this.bodyUI?.setTarget(t)}get bounds(){return this._bounds}set bounds(t){this._bounds=t,this.zoomToBounds(t)}get camera(){return this._camera}set camera(t){this._camera=t}get interactive(){return this._interactive}set interactive(t){this._interactive=t,this.bodyUI&&this.recreateBodyUI()}ngAfterViewInit(){this.setupBodyUI()}zoomToBounds(t,i={x:48,y:48}){if(this.bodyCanvas){const{width:r,height:o}=this.bodyCanvas.nativeElement,s=window.devicePixelRatio,a=Math.min(Math.log2((r-i.x)/s/t.x),Math.log2((o-i.y)/s/t.y));this.zoom=a}}setupBodyUI(){var t=this;return R(function*(){const i=t.bodyCanvas.nativeElement,r=new rm({id:"body-ui",canvas:i,zoom:t.zoom,target:[0,0,0],rotation:0,minRotationX:-75,maxRotationX:75,interactive:t.interactive,camera:t.camera});i.addEventListener("contextmenu",o=>o.preventDefault()),yield r.initialize(),t.bodyUI=r,window.bodyUI=r,t.scene?.length>0&&t.bodyUI.setScene(t.scene),t.bounds&&t.zoomToBounds(t.bounds),t.target&&t.bodyUI.setTarget(t.target),t.subscriptions=[t.bodyUI.sceneRotation$.subscribe(o=>t.rotationChange.next(o)),t.bodyUI.nodeDrag$.subscribe(o=>t.nodeDrag.emit(o)),t.bodyUI.nodeClick$.subscribe(o=>t.nodeClick.emit(o)),t.bodyUI.nodeHoverStart$.subscribe(o=>t.nodeHoverStart.emit(o)),t.bodyUI.nodeHoverStop$.subscribe(o=>t.nodeHoverStop.emit(o))],t.initialized.emit()})()}recreateBodyUI(){this.clearSubscriptions(),this.bodyUI.finalize(),this.setupBodyUI()}clearSubscriptions(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}ngOnDestroy(){this.clearSubscriptions()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-body-ui"]],viewQuery:function(i,r){if(1&i&&Di(B2e,5,On),2&i){let o;In(o=Dn())&&(r.bodyCanvas=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{scene:"scene",rotation:"rotation",rotationX:"rotationX",zoom:"zoom",target:"target",bounds:"bounds",camera:"camera",interactive:"interactive"},outputs:{rotationChange:"rotationChange",nodeDrag:"nodeDrag",nodeClick:"nodeClick",nodeHoverStart:"nodeHoverStart",nodeHoverStop:"nodeHoverStop",initialized:"initialized"},decls:2,vars:0,consts:[["bodyCanvas",""],[1,"body-ui"]],template:function(i,r){1&i&&yn(0,"canvas",1,0)},styles:["[_nghost-%COMP%]{height:100%;display:block}[_nghost-%COMP%]   .body-ui[_ngcontent-%COMP%]{position:relative!important;background-color:#000;border-radius:.5rem}"],changeDetection:0})}return n})(),U2e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi]})}return n})(),KX=(()=>{class n{constructor(){this.bootstrap$=new kh(1)}get appBootstrapped$(){return this.bootstrap$.asObservable()}bootstrap(){this.bootstrap$.next(!0),this.bootstrap$.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function V2e(n,e){return n===e}function pL(n,e=V2e){let t=null,i=null;function r(){return function z2e(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;const i=e.length;for(let r=0;r<i;r++)if(!n(e[r],t[r]))return!1;return!0}(e,t,arguments)||(i=n.apply(null,arguments)),t=arguments,i}return r.reset=function(){t=null,i=null},r}let H2e=(()=>{class n{static set(t){this._value=t}static pop(){const t=this._value;return this._value={},t}}return n._value={},n})();const JX=new vt("INITIAL_STATE_TOKEN",{providedIn:"root",factory:()=>H2e.pop()}),QX=new vt("\u0275NGXS_STATE_FACTORY"),ZX=new vt("\u0275NGXS_STATE_CONTEXT_FACTORY");function lf(n){return!!n&&(n instanceof Ct||Ze(n.lift)&&Ze(n.subscribe))}function eY(n,e){return e?t=>t.pipe(eY((i,r)=>vo(n(i,r)).pipe(le((o,s)=>e(i,o,r,s))))):S((t,i)=>{let r=0,o=null,s=!1;t.subscribe(P(i,a=>{o||(o=P(i,void 0,()=>{o=null,s&&i.complete()}),vo(n(a,r++)).subscribe(o))},()=>{s=!0,!o&&i.complete()}))})}function ib(n){return S((e,t)=>{let i=!1;e.subscribe(P(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function HS(n){return"function"==typeof n}function tY(n){return typeof n>"u"}function $2e(n,e,t){return function(r){let o=!!n;return function mL(n){return"function"==typeof n}(n)&&(o=n(r)),function rY(n,e){return HS(n)?n(e):tY(n)?e:n}(o?e:t,r)}}function q2e(n,e){return function(i){if(function W2e(n){return null===n||tY(n)}(n)&&i)return i;if(!Array.isArray(i))return[n];const r=i.slice();let o=0;return e>0&&(o=e),r.splice(o,0,n),r}}function om(n){return function(t){let i=null;for(const r in n){const o=n[r],s=t?.[r],a=HS(o)?o(s):o;a!==s&&(i||(i=Object.assign({},t)),i[r]=a)}return i||t}}function sm(n){return n.constructor&&n.constructor.type?n.constructor.type:n.type}const gL=(n,e,t)=>{n=Object.assign({},n);const i=e.split("."),r=i.length-1;return i.reduce((o,s,a)=>(o[s]=a===r?t:Array.isArray(o[s])?o[s].slice():Object.assign({},o[s]),o&&o[s]),n),n},gw=(n,e)=>e.split(".").reduce((t,i)=>t&&t[i],n),_L=n=>n&&"object"==typeof n&&!Array.isArray(n),bL=(n,...e)=>{if(!e.length)return n;const t=e.shift();if(_L(n)&&_L(t))for(const i in t)_L(t[i])?(n[i]||Object.assign(n,{[i]:{}}),bL(n[i],t[i])):Object.assign(n,{[i]:t[i]});return bL(n,...e)};let oY=(()=>{class n{constructor(t,i){this._ngZone=t,this._platformId=i}enter(t){return Uv(this._platformId)?this.runInsideAngular(t):this.runOutsideAngular(t)}leave(t){return this.runInsideAngular(t)}runInsideAngular(t){return _n.isInAngularZone()?t():this._ngZone.run(t)}runOutsideAngular(t){return _n.isInAngularZone()?this._ngZone.runOutsideAngular(t):t()}}return n.\u0275fac=function(t){return new(t||n)(Ke(_n),Ke(Ns))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sY=new vt("ROOT_OPTIONS"),aY=new vt("ROOT_STATE_TOKEN"),cY=new vt("FEATURE_STATE_TOKEN"),yL=new vt("NGXS_PLUGINS"),Vu="NGXS_META",lY="NGXS_OPTIONS_META",vL="NGXS_SELECTOR_META";let GS=(()=>{class n{constructor(){this.defaultsState={},this.selectorOptions={injectContainerState:!0,suppressErrors:!0},this.compatibility={strictContentSecurityPolicy:!1},this.executionStrategy=oY}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Rt({token:n,factory:function(t){let i=null;return t?i=new t:(r=Ke(sY),i=bL(new n,r)),i;var r},providedIn:"root"}),n})();class nNe{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}}let iNe=(()=>{class n{enter(t){return t()}leave(t){return t()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dY=new vt("USER_PROVIDED_NGXS_EXECUTION_STRATEGY"),rNe=new vt("NGXS_EXECUTION_STRATEGY",{providedIn:"root",factory:()=>{const n=kt(Vi),e=n.get(dY);return n.get(e||(typeof di.Zone<"u"?oY:iNe))}});function wL(n){if(!n.hasOwnProperty(Vu)){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,Vu,{value:e})}return am(n)}function am(n){return n[Vu]}function xL(n){return n.hasOwnProperty(vL)||Object.defineProperty(n,vL,{value:{makeRootSelector:null,originalFn:null,containerClass:null,selectorName:null,getSelectorOptions:()=>({})}}),WS(n)}function WS(n){return n[vL]}function uY(n,e){return e&&e.compatibility&&e.compatibility.strictContentSecurityPolicy?function oNe(n){const e=n.slice();return t=>e.reduce((i,r)=>i&&i[r],t)}(n):function sNe(n){const e=n;let t="store."+e[0],i=0;const r=e.length;let o=t;for(;++i<r;)o=o+" && "+(t=t+"."+e[i]);return new Function("store","return "+o+";")}(n)}function hNe(...n){return function rb(n,e,t=mNe){const i=function gNe(n){return n.reduce((e,t)=>(e[sm(t)]=!0,e),{})}(n),r=e&&function _Ne(n){return n.reduce((e,t)=>(e[t]=!0,e),{})}(e);return function(o){return o.pipe(function fNe(n,e){return Ei(t=>{const i=sm(t.action);return n[i]&&(!e||e[t.status])})}(i,r),t())}}(n,["DISPATCHED"])}function mNe(){return le(n=>n.action)}function $S(n){return e=>new Ct(t=>e.subscribe({next(i){n.leave(()=>t.next(i))},error(i){n.leave(()=>t.error(i))},complete(){n.leave(()=>t.complete())}}))}let hY=(()=>{class n{constructor(t){this._executionStrategy=t}enter(t){return this._executionStrategy.enter(t)}leave(t){return this._executionStrategy.leave(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(rNe))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fY(n){const e=[];let t=!1;return function(...r){if(t)e.unshift(r);else{for(t=!0,n(...r);e.length>0;){const o=e.pop();o&&n(...o)}t=!1}}}class bNe extends en{constructor(){super(...arguments),this._orderedNext=fY(e=>super.next(e))}next(e){this._orderedNext(e)}}class yNe extends _e{constructor(e){super(e),this._orderedNext=fY(t=>super.next(t)),this._currentValue=e}getValue(){return this._currentValue}next(e){this._currentValue=e,this._orderedNext(e)}}let pY=(()=>{class n extends bNe{ngOnDestroy(){this.complete()}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(n)))(i||n)}})(),n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mY=n=>(...e)=>n.shift()(...e,(...i)=>mY(n)(...i));let gY=(()=>{class n{constructor(t){this._injector=t,this._errorHandler=null}reportErrorSafely(t){null===this._errorHandler&&(this._errorHandler=this._injector.get(ha));try{this._errorHandler.handleError(t)}catch{}}}return n.\u0275fac=function(t){return new(t||n)(Ke(bi))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EL=(()=>{class n extends yNe{constructor(){super({})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CL=(()=>{class n{constructor(t,i){this._parentManager=t,this._pluginHandlers=i,this.plugins=[],this.registerHandlers()}get rootPlugins(){return this._parentManager&&this._parentManager.plugins||this.plugins}registerHandlers(){const t=this.getPluginHandlers();this.rootPlugins.push(...t)}getPluginHandlers(){return(this._pluginHandlers||[]).map(i=>i.handle?i.handle.bind(i):i)}}return n.\u0275fac=function(t){return new(t||n)(Ke(n,12),Ke(yL,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})(),_Y=(()=>{class n extends en{}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(n)))(i||n)}})(),n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wNe=(()=>{class n{constructor(t,i,r,o,s,a){this._actions=t,this._actionResults=i,this._pluginManager=r,this._stateStream=o,this._ngxsExecutionStrategy=s,this._internalErrorReporter=a}dispatch(t){return this._ngxsExecutionStrategy.enter(()=>this.dispatchByEvents(t)).pipe(function vNe(n,e){return t=>{let i=!1;return t.subscribe({error:r=>{e.enter(()=>Promise.resolve().then(()=>{i||e.leave(()=>n.reportErrorSafely(r))}))}}),new Ct(r=>(i=!0,t.pipe($S(e)).subscribe(r)))}}(this._internalErrorReporter,this._ngxsExecutionStrategy))}dispatchByEvents(t){return Array.isArray(t)?0===t.length?Mn(this._stateStream.getValue()):o0(t.map(i=>this.dispatchSingle(i))):this.dispatchSingle(t)}dispatchSingle(t){const i=this._stateStream.getValue();return mY([...this._pluginManager.plugins,(o,s)=>{o!==i&&this._stateStream.next(o);const a=this.getActionResultStream(s);return a.subscribe(c=>this._actions.next(c)),this._actions.next({action:s,status:"DISPATCHED"}),this.createDispatchObservable(a)}])(i,t).pipe(el())}getActionResultStream(t){return this._actionResults.pipe(Ei(i=>i.action===t&&"DISPATCHED"!==i.status),yr(1),el())}createDispatchObservable(t){return t.pipe(eY(i=>{switch(i.status){case"SUCCESSFUL":return Mn(this._stateStream.getValue());case"ERRORED":return jh(i.error);default:return Ls}})).pipe(el())}}return n.\u0275fac=function(t){return new(t||n)(Ke(pY),Ke(_Y),Ke(CL),Ke(EL),Ke(hY),Ke(gY))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_w=(()=>{class n{constructor(t,i,r){this._stateStream=t,this._dispatcher=i,this._config=r}getRootStateOperations(){return{getState:()=>this._stateStream.getValue(),setState:i=>this._stateStream.next(i),dispatch:i=>this._dispatcher.dispatch(i)}}setStateToTheCurrentWithNew(t){const i=this.getRootStateOperations(),r=i.getState();i.setState(Object.assign(Object.assign({},r),t.defaults))}}return n.\u0275fac=function(t){return new(t||n)(Ke(EL),Ke(wNe),Ke(GS))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AL=(()=>{class n{constructor(t){this._internalStateOperations=t}createStateContext(t){const i=this._internalStateOperations.getRootStateOperations();return{getState:()=>wY(i.getState(),t.path),patchState(r){const o=i.getState(),s=function xNe(n){return e=>{const t=Object.assign({},e);for(const i in n)t[i]=n[i];return t}}(r);return vY(i,o,s,t.path)},setState(r){const o=i.getState();return HS(r)?vY(i,o,r,t.path):yY(i,o,r,t.path)},dispatch:r=>i.dispatch(r)}}}return n.\u0275fac=function(t){return new(t||n)(Ke(_w))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yY(n,e,t,i){const r=gL(e,i,t);return n.setState(r),r}function vY(n,e,t,i){return yY(n,e,t(wY(e,i)),i)}function wY(n,e){return gw(n,e)}new RegExp("^[a-zA-Z0-9_]+$");let SL=(()=>{class n{}return n.type="@@INIT",n})(),TL=(()=>{class n{constructor(t){this.addedStates=t}}return n.type="@@UPDATE_STATE",n})();new vt("NGXS_DEVELOPMENT_OPTIONS",{providedIn:"root",factory:()=>({warnOnUnhandledActions:!0})});let ob=(()=>{class n{constructor(t,i,r,o,s,a,c){this._injector=t,this._config=i,this._parentFactory=r,this._actions=o,this._actionResults=s,this._stateContextFactory=a,this._initialState=c,this._actionsSubscription=null,this._states=[],this._statesByName={},this._statePaths={},this.getRuntimeSelectorContext=pL(()=>{const l=this;function d(f){const m=l.statePaths[f];return m?uY(m.split("."),l._config):null}return this._parentFactory?this._parentFactory.getRuntimeSelectorContext():{getStateGetter(f){let m=d(f);return m||((...g)=>(m||(m=d(f)),m?m(...g):void 0))},getSelectorOptions:f=>Object.assign(Object.assign({},l._config.selectorOptions),f||{})}})}get states(){return this._parentFactory?this._parentFactory.states:this._states}get statesByName(){return this._parentFactory?this._parentFactory.statesByName:this._statesByName}get statePaths(){return this._parentFactory?this._parentFactory.statePaths:this._statePaths}static _cloneDefaults(t){let i=t;return Array.isArray(t)?i=t.slice():function uNe(n){return"object"==typeof n&&null!==n||"function"==typeof n}(t)?i=Object.assign({},t):void 0===t&&(i={}),i}ngOnDestroy(){var t;null===(t=this._actionsSubscription)||void 0===t||t.unsubscribe()}add(t){const{newStates:i}=this.addToStatesMap(t);if(!i.length)return[];const r=function aNe(n){const e=t=>n.find(r=>r===t)[Vu].name;return n.reduce((t,i)=>{const{name:r,children:o}=i[Vu];return t[r]=(o||[]).map(e),t},{})}(i),o=function dNe(n){const e=[],t={},i=(r,o=[])=>{Array.isArray(o)||(o=[]),o.push(r),t[r]=!0,n[r].forEach(s=>{t[s]||i(s,o.slice(0))}),e.indexOf(r)<0&&e.push(r)};return Object.keys(n).forEach(r=>i(r)),e.reverse()}(r),s=function lNe(n,e={}){const t=(i,r)=>{for(const o in i)if(i.hasOwnProperty(o)&&i[o].indexOf(r)>=0){const s=t(i,o);return null!==s?`${s}.${o}`:o}return null};for(const i in n)if(n.hasOwnProperty(i)){const r=t(n,i);e[i]=r?`${r}.${i}`:i}return e}(r),a=function cNe(n){return n.reduce((e,t)=>(e[t[Vu].name]=t,e),{})}(i),c=[];for(const l of o){const d=a[l],h=s[l],f=d[Vu];this.addRuntimeInfoToMeta(f,h);const m={name:l,path:h,isInitialised:!1,actions:f.actions,instance:this._injector.get(d),defaults:n._cloneDefaults(f.defaults)};this.hasBeenMountedAndBootstrapped(l,h)||c.push(m),this.states.push(m)}return c}addAndReturnDefaults(t){const r=this.add(t||[]);return{defaults:r.reduce((s,a)=>gL(s,a.path,a.defaults),{}),states:r}}connectActionHandlers(){if(this._parentFactory||null!==this._actionsSubscription)return;const t=new en;this._actionsSubscription=this._actions.pipe(Ei(i=>"DISPATCHED"===i.status),is(i=>{t.next(i);const r=i.action;return this.invokeActions(t,r).pipe(le(()=>({action:r,status:"SUCCESSFUL"})),ib({action:r,status:"CANCELED"}),ic(o=>Mn({action:r,status:"ERRORED",error:o})))})).subscribe(i=>this._actionResults.next(i))}invokeActions(t,i){const r=sm(i),o=[];let s=!1;for(const a of this.states){const c=a.actions[r];if(c)for(const l of c){const d=this._stateContextFactory.createStateContext(a);try{let h=a.instance[l.fn](d,i);h instanceof Promise&&(h=ro(h)),lf(h)?(h=h.pipe(is(f=>f instanceof Promise?ro(f):lf(f)?f:Mn(f)),ib({})),l.options.cancelUncompleted&&(h=h.pipe(Si(t.pipe(hNe(i)))))):h=Mn({}).pipe(el()),o.push(h)}catch(h){o.push(jh(h))}s=!0}}return o.length||o.push(Mn({})),o0(o)}addToStatesMap(t){const i=[],r=this.statesByName;for(const o of t){const s=am(o).name;!r[s]&&(i.push(o),r[s]=o)}return{newStates:i}}addRuntimeInfoToMeta(t,i){this.statePaths[t.name]=i,t.path=i}hasBeenMountedAndBootstrapped(t,i){const r=void 0!==gw(this._initialState,i);return this.statesByName[t]&&r}}return n.\u0275fac=function(t){return new(t||n)(Ke(bi),Ke(GS),Ke(n,12),Ke(pY),Ke(_Y),Ke(AL),Ke(JX,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();function xY(n){const e=WS(n)||am(n);return e&&e.makeRootSelector||(()=>n)}let Fd=(()=>{class n{constructor(t,i,r,o,s,a){this._stateStream=t,this._internalStateOperations=i,this._config=r,this._internalExecutionStrategy=o,this._stateFactory=s,this._selectableStateStream=this._stateStream.pipe($S(this._internalExecutionStrategy),el({bufferSize:1,refCount:!0})),this.initStateStream(a)}dispatch(t){return this._internalStateOperations.getRootStateOperations().dispatch(t)}select(t){const i=this.getStoreBoundSelectorFn(t);return this._selectableStateStream.pipe(le(i),ic(r=>{const{suppressErrors:o}=this._config.selectorOptions;return r instanceof TypeError&&o?Mn(void 0):jh(r)}),hr(),$S(this._internalExecutionStrategy))}selectOnce(t){return this.select(t).pipe(yr(1))}selectSnapshot(t){return this.getStoreBoundSelectorFn(t)(this._stateStream.getValue())}subscribe(t){return this._selectableStateStream.pipe($S(this._internalExecutionStrategy)).subscribe(t)}snapshot(){return this._internalStateOperations.getRootStateOperations().getState()}reset(t){return this._internalStateOperations.getRootStateOperations().setState(t)}getStoreBoundSelectorFn(t){return xY(t)(this._stateFactory.getRuntimeSelectorContext())}initStateStream(t){const i=this._stateStream.value;if(!i||0===Object.keys(i).length){const s=Object.keys(this._config.defaultsState).length>0?Object.assign(Object.assign({},this._config.defaultsState),t):t;this._stateStream.next(s)}}}return n.\u0275fac=function(t){return new(t||n)(Ke(EL),Ke(_w),Ke(GS),Ke(hY),Ke(ob),Ke(JX,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XS=(()=>{class n{constructor(t,i){n.store=t,n.config=i}ngOnDestroy(){n.store=null,n.config=null}}return n.store=null,n.config=null,n.\u0275fac=function(t){return new(t||n)(Ke(Fd),Ke(GS))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EY=(()=>{class n{constructor(t,i,r,o,s){this._store=t,this._internalErrorReporter=i,this._internalStateOperations=r,this._stateContextFactory=o,this._bootstrapper=s,this._destroy$=new en}ngOnDestroy(){this._destroy$.next()}ngxsBootstrap(t,i){this._internalStateOperations.getRootStateOperations().dispatch(t).pipe(Ei(()=>!!i),ur(()=>this._invokeInitOnStates(i.states)),is(()=>this._bootstrapper.appBootstrapped$),Ei(r=>!!r),ic(r=>(this._internalErrorReporter.reportErrorSafely(r),Ls)),Si(this._destroy$)).subscribe(()=>this._invokeBootstrapOnStates(i.states))}_invokeInitOnStates(t){for(const i of t){const r=i.instance;r.ngxsOnChanges&&this._store.select(o=>gw(o,i.path)).pipe(ms(void 0),S((n,e)=>{let t,i=!1;n.subscribe(P(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))}),Si(this._destroy$)).subscribe(([o,s])=>{const a=new nNe(o,s,!i.isInitialised);r.ngxsOnChanges(a)}),r.ngxsOnInit&&r.ngxsOnInit(this._getStateContext(i)),i.isInitialised=!0}}_invokeBootstrapOnStates(t){for(const i of t){const r=i.instance;r.ngxsAfterBootstrap&&r.ngxsAfterBootstrap(this._getStateContext(i))}}_getStateContext(t){return this._stateContextFactory.createStateContext(t)}}return n.\u0275fac=function(t){return new(t||n)(Ke(Fd),Ke(gY),Ke(_w),Ke(AL),Ke(KX))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NNe=(()=>{class n{constructor(t,i,r,o,s=[],a){const c=t.addAndReturnDefaults(s);i.setStateToTheCurrentWithNew(c),t.connectActionHandlers(),a.ngxsBootstrap(new SL,c)}}return n.\u0275fac=function(t){return new(t||n)(Ke(ob),Ke(_w),Ke(Fd),Ke(XS),Ke(aY,8),Ke(EY))},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})(),FNe=(()=>{class n{constructor(t,i,r,o=[],s){const a=n.flattenStates(o),c=r.addAndReturnDefaults(a);c.states.length&&(i.setStateToTheCurrentWithNew(c),s.ngxsBootstrap(new TL(c.defaults),c))}static flattenStates(t=[]){return t.reduce((i,r)=>i.concat(r),[])}}return n.\u0275fac=function(t){return new(t||n)(Ke(Fd),Ke(_w),Ke(ob),Ke(cY,8),Ke(EY))},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})(),LNe=(()=>{class n{static forRoot(t=[],i={}){return{ngModule:NNe,providers:[ob,CL,...t,...n.ngxsTokenProviders(t,i)]}}static forFeature(t=[]){return{ngModule:FNe,providers:[ob,CL,...t,{provide:cY,multi:!0,useValue:t}]}}static ngxsTokenProviders(t,i){return[{provide:dY,useValue:i.executionStrategy},{provide:aY,useValue:t},{provide:sY,useValue:i},{provide:Fv,useFactory:n.appBootstrapListenerFactory,multi:!0,deps:[KX]},{provide:ZX,useExisting:AL},{provide:QX,useExisting:ob}]}static appBootstrapListenerFactory(t){return()=>t.bootstrap()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})();function ML(n,e){return(t,i)=>{const r=wL(t.constructor);Array.isArray(n)||(n=[n]);for(const o of n){const s=o.type;r.actions[s]||(r.actions[s]=[]),r.actions[s].push({fn:i,options:e||{},type:s})}}}function Ld(n){return e=>{const t=e,i=wL(t),r=Object.getPrototypeOf(t),o=function BNe(n,e){return Object.assign(Object.assign({},n[lY]||{}),e)}(r,n);(function jNe(n){const{meta:e,inheritedStateClass:t,optionsWithInheritance:i}=n,{children:r,defaults:o,name:s}=i,a="string"==typeof s?s:s&&s.getName()||null;if(t.hasOwnProperty(Vu)){const c=t[Vu]||{};e.actions=Object.assign(Object.assign({},e.actions),c.actions)}e.children=r,e.defaults=o,e.name=a})({meta:i,inheritedStateClass:r,optionsWithInheritance:o}),t[lY]=o}}const UNe=36;function YS(n,...e){return function(t,i){const r=i.toString(),o=`__${r}__selector`,s=function zNe(n,e,t=[]){return e=e||function HNe(n){const e=n.length-1;return n.charCodeAt(e)===UNe?n.slice(0,e):n}(n),"string"==typeof e?uY(t.length?[e,...t]:e.split("."),XS.config):e}(r,n,e);Object.defineProperties(t,{[o]:{writable:!0,enumerable:!1,configurable:!0},[r]:{enumerable:!0,configurable:!0,get(){return this[o]||(this[o]=function VNe(n){return XS.store||function tNe(){throw new Error("You have forgotten to import the NGXS module!")}(),XS.store.select(n)}(s))}}})}}const CY="NGXS_SELECTOR_OPTIONS_META",KS={getOptions:n=>n&&n[CY]||{},defineOptions:(n,e)=>{n&&(n[CY]=e)}};function bw(n,e,t){const i=function RNe(n,e){const t=e&&e.containerClass,r=pL(function(...s){const a=n.apply(t,s);return a instanceof Function?pL.apply(null,[a]):a});return Object.setPrototypeOf(r,n),r}(e,t),r=function GNe(n,e){const t=xL(n);t.originalFn=n;let i=()=>({});e&&(t.containerClass=e.containerClass,t.selectorName=e.selectorName||null,i=e.getSelectorOptions||i);const r=Object.assign({},t);return t.getSelectorOptions=()=>function WNe(n,e){return Object.assign(Object.assign(Object.assign(Object.assign({},KS.getOptions(n.containerClass)||{}),KS.getOptions(n.originalFn)||{}),n.getSelectorOptions()||{}),e)}(r,i()),t}(e,t);return r.makeRootSelector=function ONe(n,e,t){return i=>{const{argumentSelectorFunctions:r,selectorOptions:o}=function kNe(n,e,t=[]){const i=e.getSelectorOptions(),r=n.getSelectorOptions(i),s=function PNe(n=[],e,t){const i=[];return t&&(0===n.length||e.injectContainerState)&&am(t)&&i.push(t),n&&i.push(...n),i}(t,r,e.containerClass).map(a=>xY(a)(n));return{selectorOptions:r,argumentSelectorFunctions:s}}(i,n,e);return function(a){const c=r.map(l=>l(a));try{return t(...c)}catch(l){if(l instanceof TypeError&&o.suppressErrors)return;throw l}}}}(r,n,i),i}function sb(n){return(e,t,i)=>{i||(i=Object.getOwnPropertyDescriptor(e,t));const r=i?.value,o=bw(n,r,{containerClass:e,selectorName:t.toString(),getSelectorOptions:()=>({})}),s={configurable:!0,get:()=>o};return s.originalFn=r,s}}class $Ne{constructor(e){this.name=e,xL(this).makeRootSelector=i=>i.getStateGetter(this.name)}getName(){return this.name}toString(){return`StateToken[${this.name}]`}}function XNe(n,e){if(1&n&&(Ye(0,"li",4),Xt(1),ei(2,"json"),et()),2&n){const t=e.$implicit;lt(),JC("",t[0],": ",ti(2,2,t[1]),"")}}function YNe(n,e){if(1&n&&(Ye(0,"div",1)(1,"div"),Xt(2),et(),Ye(3,"ul",2),mn(4,XNe,3,4,"li",3),et()()),2&n){const t=e.$implicit;lt(2),jo(t[0]),lt(2),Dt("ngForOf",t[1])}}let KNe=(()=>{class n{get data(){return Object.entries(this.root).map(([r,o])=>[r,Object.entries(o)]).filter(([r,o])=>o.length>0)}constructor(t,i){this.clsName="ccf-store-debug",this.root={},this.subscriptions=new Ht;const r=t.subscribe(o=>{this.root=o,i.markForCheck()});this.subscriptions.add(r)}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(be(Fd),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-store-debug"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},decls:1,vars:1,consts:[["class","state",4,"ngFor","ngForOf"],[1,"state"],[1,"kvlist"],["class","kvpair",4,"ngFor","ngForOf"],[1,"kvpair"]],template:function(i,r){1&i&&mn(0,YNe,5,2,"div",0),2&i&&Dt("ngForOf",r.data)},dependencies:[Zc,s8],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}return n})(),AY=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(be(sd),be(On))};static#t=this.\u0275dir=Zt({type:n})}return n})(),cm=(()=>{class n extends AY{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,features:[ui]})}return n})();const Gs=new vt(""),QNe={provide:Gs,useExisting:mi(()=>ab),multi:!0},eFe=new vt("");let ab=(()=>{class n extends AY{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZNe(){const n=Rh()?Rh().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(be(sd),be(On),be(eFe,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&Lt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Jn([QNe]),ui]})}return n})();function df(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function TY(n){return null!=n&&"number"==typeof n.length}const as=new vt(""),uf=new vt(""),tFe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lm{static min(e){return function MY(n){return e=>{if(df(e.value)||df(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function IY(n){return e=>{if(df(e.value)||df(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function DY(n){return df(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function OY(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function RY(n){return df(n.value)||tFe.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function kY(n){return e=>df(e.value)||!TY(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return PY(e)}static pattern(e){return function NY(n){if(!n)return QS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(df(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return VY(e)}static composeAsync(e){return zY(e)}}function PY(n){return e=>TY(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function QS(n){return null}function FY(n){return null!=n}function LY(n){return a_(n)?ro(n):n}function BY(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function jY(n,e){return e.map(t=>t(n))}function UY(n){return n.map(e=>function nFe(n){return!n.validate}(e)?e:t=>e.validate(t))}function VY(n){if(!n)return null;const e=n.filter(FY);return 0==e.length?null:function(t){return BY(jY(t,e))}}function IL(n){return null!=n?VY(UY(n)):null}function zY(n){if(!n)return null;const e=n.filter(FY);return 0==e.length?null:function(t){return o0(jY(t,e).map(LY)).pipe(le(BY))}}function DL(n){return null!=n?zY(UY(n)):null}function HY(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function GY(n){return n._rawValidators}function WY(n){return n._rawAsyncValidators}function OL(n){return n?Array.isArray(n)?n:[n]:[]}function ZS(n,e){return Array.isArray(n)?n.includes(e):n===e}function $Y(n,e){const t=OL(e);return OL(n).forEach(r=>{ZS(t,r)||t.push(r)}),t}function qY(n,e){return OL(e).filter(t=>!ZS(n,t))}class XY{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=IL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=DL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ba extends XY{get formDirective(){return null}get path(){return null}}class Bl extends XY{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class YY{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eT=(()=>{class n extends YY{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Bl,2))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&bn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ui]})}return n})(),KY=(()=>{class n extends YY{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ba,10))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&bn("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[ui]})}return n})();const yw="VALID",nT="INVALID",cb="PENDING",vw="DISABLED";function PL(n){return(iT(n)?n.validators:n)||null}function NL(n,e){return(iT(e)?e.asyncValidators:n)||null}function iT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class FL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yw}get invalid(){return this.status===nT}get pending(){return this.status==cb}get disabled(){return this.status===vw}get enabled(){return this.status!==vw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($Y(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($Y(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qY(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qY(e,this._rawAsyncValidators))}hasValidator(e){return ZS(this._rawValidators,e)}hasAsyncValidator(e){return ZS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cb,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vw,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yw,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yw||this.status===cb)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vw:yw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cb,this._hasOwnPendingAsyncValidator=!0;const t=LY(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Qt,this.statusChanges=new Qt}_calculateStatus(){return this._allControlsDisabled()?vw:this.errors?nT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cb)?cb:this._anyControlsHaveStatus(nT)?nT:yw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){iT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function sFe(n){return Array.isArray(n)?IL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function aFe(n){return Array.isArray(n)?DL(n):n||null}(this._rawAsyncValidators)}}class LL extends FL{constructor(e,t,i){super(PL(t),NL(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ZY(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new We(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function QY(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new We(1e3,"");if(!i[t])throw new We(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const dm=new vt("CallSetDisabledState",{providedIn:"root",factory:()=>ww}),ww="always";function xw(n,e,t=ww){BL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function dFe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&eK(n,e)})}(n,e),function hFe(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function uFe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&eK(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function lFe(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function oT(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),aT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function sT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BL(n,e){const t=GY(n);null!==e.validator?n.setValidators(HY(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=WY(n);null!==e.asyncValidator?n.setAsyncValidators(HY(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();sT(e._rawValidators,r),sT(e._rawAsyncValidators,r)}function aT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=GY(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=WY(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return sT(e._rawValidators,i),sT(e._rawAsyncValidators,i),t}function eK(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function tK(n,e){BL(n,e)}function UL(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function nK(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function VL(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===ab?t=o:function mFe(n){return Object.getPrototypeOf(n.constructor)===cm}(o)?i=o:r=o}),r||i||t||null}const _Fe={provide:Ba,useExisting:mi(()=>um)},Ew=Promise.resolve();let um=(()=>{class n extends Ba{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Qt,this.form=new LL({},IL(t),DL(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ew.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),xw(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ew.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ew.then(()=>{const i=this._findContainer(t.path),r=new LL({});tK(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ew.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Ew.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,nK(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(be(as,10),be(uf,10),be(dm,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&Lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[gt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([_Fe]),ui]})}return n})();function iK(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function rK(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cT=class extends FL{constructor(e=null,t,i){super(PL(t),NL(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=rK(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iK(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iK(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){rK(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Cw=cT,vFe={provide:Bl,useExisting:mi(()=>zL)},aK=Promise.resolve();let zL=(()=>{class n extends Bl{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new cT,this._registered=!1,this.name="",this.update=new Qt,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=VL(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),UL(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){xw(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){aK.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&vn(i);aK.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function rT(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ba,9),be(as,10),be(uf,10),be(Gs,10),be(Ai,8),be(dm,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[gt.None,"disabled","isDisabled"],model:[gt.None,"ngModel","model"],options:[gt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jn([vFe]),ui,_r]})}return n})(),cK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const HL=new vt(""),AFe={provide:Bl,useExisting:mi(()=>Aw)};let Aw=(()=>{class n extends Bl{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new Qt,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=VL(0,r)}ngOnChanges(t){if(this._isControlChanged(t)){const i=t.form.previousValue;i&&oT(i,this,!1),xw(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}UL(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&oT(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static#t=this.\u0275fac=function(i){return new(i||n)(be(as,10),be(uf,10),be(Gs,10),be(HL,8),be(dm,8))};static#n=this.\u0275dir=Zt({type:n,selectors:[["","formControl",""]],inputs:{form:[gt.None,"formControl","form"],isDisabled:[gt.None,"disabled","isDisabled"],model:[gt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Jn([AFe]),ui,_r]})}return n})();const SFe={provide:Ba,useExisting:mi(()=>lb)};let lb=(()=>{class n extends Ba{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qt,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(aT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return xw(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){oT(t.control||null,t,!1),function gFe(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,nK(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(oT(i||null,t),(n=>n instanceof cT)(r)&&(xw(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);tK(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function fFe(n,e){return aT(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){BL(this.form,this),this._oldForm&&aT(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(be(as,10),be(uf,10),be(dm,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&Lt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[gt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jn([SFe]),ui,_r]})}return n})();let hm=(()=>{class n{constructor(){this._validator=QS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):QS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,features:[_r]})}return n})();const zFe={provide:as,useExisting:mi(()=>YL),multi:!0};let YL=(()=>{class n extends hm{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function gK(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>PY(t)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&ci("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Jn([zFe]),ui]})}return n})(),EK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})(),KL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dm,useValue:t.callSetDisabledState??ww}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[EK]})}return n})(),JL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:HL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:dm,useValue:t.callSetDisabledState??ww}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[EK]})}return n})();const Sw=St(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fm(n){return new Ct(e=>{vo(n()).subscribe(e)})}function QL(n){return le(()=>n)}function CK(n,e){return e?t=>Zv(e.pipe(yr(1),function $Fe(){return S((n,e)=>{n.subscribe(P(e,Tt))})}()),t.pipe(CK(n))):is((t,i)=>vo(n(t,i)).pipe(yr(1),QL(t)))}function ZL(n,e=p_){const t=h0(n,e);return CK(()=>t)}const qFe=["panel"],XFe=["*"];function YFe(n,e){if(1&n){const t=qi();Ye(0,"div",1,0),Lt("@panelAnimation.done",function(r){return fn(t),hn(Tn()._animationDone.next(r))}),Un(2),et()}if(2&n){const t=e.id,i=Tn();Dt("id",i.id)("ngClass",i._classList)("@panelAnimation",i.isOpen?"visible":"hidden"),ci("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(t))}}const KFe=tl("panelAnimation",[Vo("void, hidden",sr({opacity:0,transform:"scaleY(0.8)"})),Is(":enter, hidden => visible",[uk([Ms("0.03s linear",sr({opacity:1})),Ms("0.12s cubic-bezier(0, 0, 0.2, 1)",sr({transform:"scaleY(1)"}))])]),Is(":leave, visible => hidden",[Ms("0.075s linear",sr({opacity:0}))])]);let JFe=0;class QFe{constructor(e,t){this.source=e,this.option=t}}const AK=new vt("mat-autocomplete-default-options",{providedIn:"root",factory:function ZFe(){return{autoActiveFirstOption:!1,autoSelectActiveOption:!1,hideSingleSelectionIndicator:!1,requireSelection:!1}}});let eLe=(()=>{class n{get isOpen(){return this._isOpen&&this.showPanel}_setColor(t){this._color=t,this._setThemeClasses(this._classList)}set classList(t){this._classList=t&&t.length?function rhe(n,e=/\s+/){const t=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(e);for(const r of i){const o=`${r}`.trim();o&&t.push(o)}}return t}(t).reduce((i,r)=>(i[r]=!0,i),{}):{},this._setVisibilityClasses(this._classList),this._setThemeClasses(this._classList),this._elementRef.nativeElement.className=""}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}constructor(t,i,r,o){this._changeDetectorRef=t,this._elementRef=i,this._defaults=r,this._activeOptionChanges=Ht.EMPTY,this._visibleClass="mat-mdc-autocomplete-visible",this._hiddenClass="mat-mdc-autocomplete-hidden",this._animationDone=new Qt,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new Qt,this.opened=new Qt,this.closed=new Qt,this.optionActivated=new Qt,this._classList={},this.id="mat-autocomplete-"+JFe++,this.inertGroups=o?.SAFARI||!1,this.autoActiveFirstOption=!!r.autoActiveFirstOption,this.autoSelectActiveOption=!!r.autoSelectActiveOption,this.requireSelection=!!r.requireSelection,this._hideSingleSelectionIndicator=this._defaults.hideSingleSelectionIndicator??!1}ngAfterContentInit(){this._keyManager=new p5(this.options).withWrap().skipPredicate(this._skipPredicate),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._keyManager?.destroy(),this._activeOptionChanges.unsubscribe(),this._animationDone.complete()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const i=new QFe(this,t);this.optionSelected.emit(i)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}_setThemeClasses(t){t["mat-primary"]="primary"===this._color,t["mat-warn"]="warn"===this._color,t["mat-accent"]="accent"===this._color}_skipPredicate(){return!1}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ai),be(On),be(AK),be(oo))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-autocomplete"]],contentQueries:function(i,r,o){if(1&i&&(pr(o,n0,5),pr(o,Ck,5)),2&i){let s;In(s=Dn())&&(r.options=s),In(s=Dn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(Di(Ja,7),Di(qFe,5)),2&i){let o;In(o=Dn())&&(r.template=o.first),In(o=Dn())&&(r.panel=o.first)}},hostAttrs:[1,"mat-mdc-autocomplete"],inputs:{ariaLabel:[gt.None,"aria-label","ariaLabel"],ariaLabelledby:[gt.None,"aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:[gt.HasDecoratorInputTransform,"autoActiveFirstOption","autoActiveFirstOption",vn],autoSelectActiveOption:[gt.HasDecoratorInputTransform,"autoSelectActiveOption","autoSelectActiveOption",vn],requireSelection:[gt.HasDecoratorInputTransform,"requireSelection","requireSelection",vn],panelWidth:"panelWidth",disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],classList:[gt.None,"class","classList"],hideSingleSelectionIndicator:[gt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",vn]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},exportAs:["matAutocomplete"],standalone:!0,features:[Jn([{provide:Ek,useExisting:n}]),Gr,Li],ngContentSelectors:XFe,decls:1,vars:0,consts:[["panel",""],["role","listbox",1,"mat-mdc-autocomplete-panel","mdc-menu-surface","mdc-menu-surface--open",3,"id","ngClass"]],template:function(i,r){1&i&&(br(),mn(0,YFe,3,5,"ng-template"))},dependencies:[A1],styles:["div.mat-mdc-autocomplete-panel{width:100%;max-height:256px;visibility:hidden;transform-origin:center top;overflow:auto;padding:8px 0;box-sizing:border-box;position:static;border-radius:var(--mat-autocomplete-container-shape);box-shadow:var(--mat-autocomplete-container-elevation-shadow);background-color:var(--mat-autocomplete-background-color)}.cdk-high-contrast-active div.mat-mdc-autocomplete-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0}.mat-mdc-autocomplete-panel-above div.mat-mdc-autocomplete-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:center bottom}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-visible{visibility:visible}div.mat-mdc-autocomplete-panel.mat-mdc-autocomplete-hidden{visibility:hidden;pointer-events:none}mat-autocomplete{display:none}"],encapsulation:2,data:{animation:[KFe]},changeDetection:0})}return n})();const tLe={provide:Gs,useExisting:mi(()=>TK),multi:!0},SK=new vt("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(gs);return()=>n.scrollStrategies.reposition()}});let TK=(()=>{class n{constructor(t,i,r,o,s,a,c,l,d,h,f){this._element=t,this._overlay=i,this._viewContainerRef=r,this._zone=o,this._changeDetectorRef=s,this._dir=c,this._formField=l,this._document=d,this._viewportRuler=h,this._defaults=f,this._componentDestroyed=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Ht.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new en,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._aboveClass="mat-mdc-autocomplete-panel-above",this._overlayAttached=!1,this.optionSelections=fm(()=>{const m=this.autocomplete?this.autocomplete.options:null;return m?m.changes.pipe(ms(m),Br(()=>Bs(...m.map(g=>g.onSelectionChange)))):this._zone.onStable.pipe(yr(1),Br(()=>this.optionSelections))}),this._handlePanelKeydown=m=>{(27===m.keyCode&&!ec(m)||38===m.keyCode&&ec(m,"altKey"))&&(this._pendingAutoselectedOption&&(this._updateNativeInputValue(this._valueBeforeAutoSelection??""),this._pendingAutoselectedOption=null),this._closeKeyEventStream.next(),this._resetActiveItem(),m.stopPropagation(),m.preventDefault())},this._trackedModal=null,this._scrollStrategy=a}ngAfterViewInit(){const t=this._getWindow();typeof t<"u"&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();typeof t<"u"&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete(),this._clearFromModal()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._openPanelInternal()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this._zone.run(()=>{this.autocomplete.closed.emit()}),this.autocomplete._isOpen=this._overlayAttached=!1,this._pendingAutoselectedOption=null,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._updatePanelState(),this._componentDestroyed||this._changeDetectorRef.detectChanges(),this._trackedModal)&&m_(this._trackedModal,"aria-owns",this.autocomplete.id)}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Bs(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Ei(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Ei(()=>this._overlayAttached)):Mn()).pipe(le(t=>t instanceof P5?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Bs(Np(this._document,"click"),Np(this._document,"auxclick"),Np(this._document,"touchend")).pipe(Ei(t=>{const i=Au(t),r=this._formField?this._formField.getConnectedOverlayOrigin().nativeElement:null,o=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&i!==this._element.nativeElement&&this._document.activeElement!==this._element.nativeElement&&(!r||!r.contains(i))&&(!o||!o.contains(i))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(i)}))}writeValue(t){Promise.resolve(null).then(()=>this._assignOptionValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const i=t.keyCode,r=ec(t);if(27===i&&!r&&t.preventDefault(),this._valueOnLastKeydown=this._element.nativeElement.value,this.activeOption&&13===i&&this.panelOpen&&!r)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const o=this.autocomplete._keyManager.activeItem,s=38===i||40===i;9===i||s&&!r&&this.panelOpen?this.autocomplete._keyManager.onKeydown(t):s&&this._canOpen()&&this._openPanelInternal(this._valueOnLastKeydown),(s||this.autocomplete._keyManager.activeItem!==o)&&(this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0),this.autocomplete.autoSelectActiveOption&&this.activeOption&&(this._pendingAutoselectedOption||(this._valueBeforeAutoSelection=this._valueOnLastKeydown),this._pendingAutoselectedOption=this.activeOption,this._assignOptionValue(this.activeOption.value)))}}_handleInput(t){let i=t.target,r=i.value;if("number"===i.type&&(r=""==r?null:parseFloat(r)),this._previousValue!==r){if(this._previousValue=r,this._pendingAutoselectedOption=null,(!this.autocomplete||!this.autocomplete.requireSelection)&&this._onChange(r),r){if(this.panelOpen&&!this.autocomplete.requireSelection){const o=this.autocomplete.options?.find(s=>s.selected);o&&r!==this._getDisplayValue(o.value)&&o.deselect(!1)}}else this._clearPreviousSelectedOption(null,!1);if(this._canOpen()&&this._document.activeElement===t.target){const o=this._valueOnLastKeydown??this._element.nativeElement.value;this._valueOnLastKeydown=null,this._openPanelInternal(o)}}}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(this._previousValue),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_handleClick(){this._canOpen()&&!this.panelOpen&&this._openPanelInternal()}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField&&(this._formField.floatLabel="auto"),this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){return Bs(this._zone.onStable.pipe(yr(1)),this.autocomplete.options.changes.pipe(ur(()=>this._positionStrategy.reapplyLastPosition()),ZL(0))).pipe(Br(()=>(this._zone.run(()=>{const r=this.panelOpen;this._resetActiveItem(),this._updatePanelState(),this._changeDetectorRef.detectChanges(),this.panelOpen&&this._overlayRef.updatePosition(),r!==this.panelOpen&&(this.panelOpen?this._emitOpened():this.autocomplete.closed.emit())}),this.panelClosingActions)),yr(1)).subscribe(r=>this._setValueAndClose(r))}_emitOpened(){this.autocomplete.opened.emit()}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_getDisplayValue(t){const i=this.autocomplete;return i&&i.displayWith?i.displayWith(t):t}_assignOptionValue(t){const i=this._getDisplayValue(t);null==t&&this._clearPreviousSelectedOption(null,!1),this._updateNativeInputValue(i??"")}_updateNativeInputValue(t){this._formField?this._formField._control.value=t:this._element.nativeElement.value=t,this._previousValue=t}_setValueAndClose(t){const i=this.autocomplete,r=t?t.source:this._pendingAutoselectedOption;r?(this._clearPreviousSelectedOption(r),this._assignOptionValue(r.value),this._onChange(r.value),i._emitSelectEvent(r),this._element.nativeElement.focus()):i.requireSelection&&this._element.nativeElement.value!==this._valueOnAttach&&(this._clearPreviousSelectedOption(null),this._assignOptionValue(null),i._animationDone?i._animationDone.pipe(yr(1)).subscribe(()=>this._onChange(null)):this._onChange(null)),this.closePanel()}_clearPreviousSelectedOption(t,i){this.autocomplete?.options?.forEach(r=>{r!==t&&r.selected&&r.deselect(i)})}_openPanelInternal(t=this._element.nativeElement.value){this._attachOverlay(t),this._floatLabel(),this._trackedModal&&L1(this._trackedModal,"aria-owns",this.autocomplete.id)}_attachOverlay(t){let i=this._overlayRef;i?(this._positionStrategy.setOrigin(this._getConnectedElement()),i.updateSize({width:this._getPanelWidth()})):(this._portal=new w_(this.autocomplete.template,this._viewContainerRef,{id:this._formField?.getLabelId()}),i=this._overlay.create(this._getOverlayConfig()),this._overlayRef=i,this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&i&&i.updateSize({width:this._getPanelWidth()})})),i&&!i.hasAttached()&&(i.attach(this._portal),this._valueOnAttach=t,this._valueOnLastKeydown=null,this._closingActionsSubscription=this._subscribeToClosingActions());const r=this.panelOpen;this.autocomplete._isOpen=this._overlayAttached=!0,this.autocomplete._setColor(this._formField?.color),this._updatePanelState(),this._applyModalPanelOwnership(),this.panelOpen&&r!==this.panelOpen&&this._emitOpened()}_updatePanelState(){if(this.autocomplete._setVisibility(),this.panelOpen){const t=this._overlayRef;this._keydownSubscription||(this._keydownSubscription=t.keydownEvents().subscribe(this._handlePanelKeydown)),this._outsideClickSubscription||(this._outsideClickSubscription=t.outsidePointerEvents().subscribe())}else this._keydownSubscription?.unsubscribe(),this._outsideClickSubscription?.unsubscribe(),this._keydownSubscription=this._outsideClickSubscription=null}_getOverlayConfig(){return new f0({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir??void 0,panelClass:this._defaults?.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],r=this._aboveClass,o=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:r},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:r}];let s;s="above"===this.position?o:"below"===this.position?i:[...i,...o],t.withPositions(s)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;if(t.autoActiveFirstOption){let i=-1;for(let r=0;r<t.options.length;r++)if(!t.options.get(r).disabled){i=r;break}t._keyManager.setActiveItem(i)}else t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this.autocompleteDisabled}_getWindow(){return this._document?.defaultView||window}_scrollToOption(t){const i=this.autocomplete,r=N5(t,i.options,i.optionGroups);if(0===t&&1===r)i._setScrollTop(0);else if(i.panel){const o=i.options.toArray()[t];if(o){const s=o._getHostElement(),a=F5(s.offsetTop,s.offsetHeight,i._getScrollTop(),i.panel.nativeElement.offsetHeight);i._setScrollTop(a)}}}_applyModalPanelOwnership(){const t=this._element.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=this.autocomplete.id;this._trackedModal&&m_(this._trackedModal,"aria-owns",i),L1(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(m_(this._trackedModal,"aria-owns",this.autocomplete.id),this._trackedModal=null)}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(gs),be(Ss),be(_n),be(Ai),be(SK),be(Ol,8),be(r0,9),be(ni,8),be(rA),be(AK,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-mdc-autocomplete-trigger"],hostVars:7,hostBindings:function(i,r){1&i&&Lt("focusin",function(){return r._handleFocus()})("blur",function(){return r._onTouched()})("input",function(s){return r._handleInput(s)})("keydown",function(s){return r._handleKeydown(s)})("click",function(){return r._handleClick()}),2&i&&ci("autocomplete",r.autocompleteAttribute)("role",r.autocompleteDisabled?null:"combobox")("aria-autocomplete",r.autocompleteDisabled?null:"list")("aria-activedescendant",r.panelOpen&&r.activeOption?r.activeOption.id:null)("aria-expanded",r.autocompleteDisabled?null:r.panelOpen.toString())("aria-controls",r.autocompleteDisabled||!r.panelOpen||null==r.autocomplete?null:r.autocomplete.id)("aria-haspopup",r.autocompleteDisabled?null:"listbox")},inputs:{autocomplete:[gt.None,"matAutocomplete","autocomplete"],position:[gt.None,"matAutocompletePosition","position"],connectedTo:[gt.None,"matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:[gt.None,"autocomplete","autocompleteAttribute"],autocompleteDisabled:[gt.HasDecoratorInputTransform,"matAutocompleteDisabled","autocompleteDisabled",vn]},exportAs:["matAutocompleteTrigger"],standalone:!0,features:[Jn([tLe]),Gr,_r]})}return n})();const MK=u_({passive:!0});let iLe=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ls;const i=Nh(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new en,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,MK),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,MK)}}),o}stopMonitoring(t){const i=Nh(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(oo),Ke(_n))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();const oLe=new vt("MAT_INPUT_VALUE_ACCESSOR"),sLe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let aLe=0,pm=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=pd(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(lm.required)??!1}set required(t){this._required=pd(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&J8().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=pd(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,r,o,s,a,c,l,d,h){this._elementRef=t,this._platform=i,this.ngControl=r,this._autofillMonitor=l,this._formField=h,this._uid="mat-input-"+aLe++,this.focused=!1,this.stateChanges=new en,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>J8().has(g)),this._iOSKeyupListener=g=>{const b=g.target;!b.value&&0===b.selectionStart&&0===b.selectionEnd&&(b.setSelectionRange(1,1),b.setSelectionRange(0,0))};const f=this._elementRef.nativeElement,m=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new z1(a,r,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===m,this._isTextarea="textarea"===m,this._isInFormField=!!h,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){sLe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(oo),be(Bl,10),be(um,8),be(lb,8),be(H1),be(oLe,10),be(iLe),be(_n),be(r0,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&Lt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(ka("id",r.id)("disabled",r.disabled)("required",r.required),ci("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),bn("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[gt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Jn([{provide:q1,useExisting:n}]),_r]})}return n})(),db=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,Bh,Bh,rLe,ar]})}return n})();function IK(n,e){return n>=0&&n<e?n:n>=e?e:n+e<0?0:n+e}function lLe(n,e){if(1&n&&(Ye(0,"span"),Xt(1),et()),2&n){const t=e.$implicit;(function Sl(n){Ml(rz,hre,n,!1)})(t.styles),vi(t.classes),lt(),yo(" ",t.text,"\n")}}let dLe=(()=>{class n{constructor(){this.clsName="ccf-decorated-text",this.segments=[]}ngOnChanges(t){("text"in t||"decorations"in t)&&(this.segments=this.createSegments())}createSegments(){const{text:t}=this;if(!t)return[this.makeUndecoratedSegment(t)];const i=this.getNormalizedDecorations();if(0===i.length)return[this.makeUndecoratedSegment(t)];const r=this.createStackOps(i),o=[];let s=[],a=0;0===r[0].index&&(s=this.updateStack(s,r.shift()));for(const c of r)o.push(this.makeDecoratedSegment(t.slice(a,c.index),s)),a=c.index,s=this.updateStack(s,c);return a!==t.length&&o.push(this.makeDecoratedSegment(t.slice(a),s)),o}createStackOps(t){const i={},r=o=>i[o]??={index:o,added:[],removed:[]};for(const o of t)r(o.start).added.push(o),r(o.end).removed.push(o);return Object.entries(i).sort((o,s)=>+o[0]-+s[0]).map(o=>o[1])}updateStack(t,i){return t.filter(r=>!i.removed.includes(r)).concat(i.added)}getNormalizedDecorations(){const{decorations:t=[],text:{length:i}}=this;return t.map(r=>function cLe(n,e){return{start:IK(n.start??0,e),end:IK(n.end??e,e),classes:n.classes??[],styles:n.styles??{}}}(r,i)).filter(r=>r.start<i&&r.start<r.end)}makeUndecoratedSegment(t){return{text:t,classes:[],styles:{}}}makeDecoratedSegment(t,i){return{text:t,classes:i.reduce((s,a)=>s.concat(a.classes),[]),styles:i.reduce((s,a)=>({...s,...a.styles}),{})}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-decorated-text"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{text:"text",decorations:"decorations"},features:[_r],decls:1,vars:1,consts:[[3,"class","style",4,"ngFor","ngForOf"]],template:function(i,r){1&i&&mn(0,lLe,2,5,"span",0),2&i&&Dt("ngForOf",r.segments)},dependencies:[Zc],styles:["[_nghost-%COMP%]{display:flex}"],changeDetection:0})}return n})();const uLe=[[["","matPrefix",""]],[["","matSuffix",""]]],hLe=["[matPrefix]","[matSuffix]"];function fLe(n,e){if(1&n&&(Ye(0,"mat-option"),yn(1,"ccf-decorated-text",8),et()),2&n){const t=e.$implicit;lt(),Dt("text",t.label)("decorations",t.decorations)}}const pLe=new vt("Maximum number of autocomplete options displayed",{providedIn:"root",factory:()=>10});class dT{get value(){return this.controller.value}set value(e){this.controller.setValue(e,{emitEvent:!1})}constructor(e){this.defaultMaxOptions=e,this.clsName="ccf-text-search",this.placeholder="Search...",this.optionSelected=new Qt,this.controller=new Cw,this.options=this.controller.valueChanges.pipe(ms(""),hr(),Br(this.getOptions)),this.valueChange=this.controller.valueChanges}getOptions(e){var t=this;return R(function*(){const{autoCompleter:i,maxOptions:r=t.defaultMaxOptions}=t;return!i||r<1?[]:function WFe(n,e){const t="object"==typeof e;return new Promise((i,r)=>{let s,o=!1;n.subscribe({next:a=>{s=a,o=!0},error:r,complete:()=>{o?i(s):t?i(e.defaultValue):r(new Sw)}})})}(ro(i(e,r)).pipe(yr(1),le(s=>s.length<=r?s:s.slice(0,r))))})()}optionDisplay(e){return e?.label??""}optionId(e,t){return t.id}static#e=this.\u0275fac=function(t){return new(t||dT)(be(pLe))};static#t=this.\u0275cmp=un({type:dT,selectors:[["ccf-text-search"]],hostVars:2,hostBindings:function(t,i){2&t&&vi(i.clsName)},inputs:{placeholder:"placeholder",value:"value",maxOptions:"maxOptions",autoCompleter:"autoCompleter"},outputs:{valueChange:"valueChange",optionSelected:"optionSelected"},ngContentSelectors:hLe,decls:11,vars:8,consts:[["auto","matAutocomplete"],[1,"form"],["appearance","outline",1,"form-field"],["matPrefix",""],["matInput","","type","search",1,"input",3,"placeholder","formControl","matAutocomplete"],[1,"autocomplete",3,"optionSelected","displayWith"],[4,"ngFor","ngForOf","ngForTrackBy"],["matSuffix",""],[3,"text","decorations"]],template:function(t,i){if(1&t){const r=qi();br(uLe),Ye(0,"form",1)(1,"mat-form-field",2),xv(2,3),Un(3),Ev(),yn(4,"input",4),Ye(5,"mat-autocomplete",5,0),Lt("optionSelected",function(s){return fn(r),hn(i.optionSelected.emit(s.option.value))}),mn(7,fLe,2,2,"mat-option",6),ei(8,"async"),et(),xv(9,7),Un(10,1),Ev(),et()()}if(2&t){const r=Ts(6);lt(4),Dt("placeholder",i.placeholder)("formControl",i.controller)("matAutocomplete",r),lt(),Dt("displayWith",i.optionDisplay),lt(2),Dt("ngForOf",ti(8,6,i.options))("ngForTrackBy",i.optionId)}},dependencies:[Zc,cK,ab,eT,KY,um,Aw,eLe,n0,TK,Lh,npe,Mk,pm,dLe,ud],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper{margin:0}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex{align-items:center}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{height:3rem;border:none}[_nghost-%COMP%]     .mat-form-field-appearance-outline .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-suffix{top:0;border:none}"],changeDetection:0})}Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",Promise)],dT.prototype,"getOptions",null);var mLe=T(1123);const uT=[{src:"app:skin",organ:"Skin",name:"Skin",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002097"},{src:"app:brain",organ:"Brain",name:"Brain",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000955"},{disabled:!0,src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000029"},{src:"app:lymph-nodes",organ:"Lymph Node",name:"Lymph Node",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002509"},{disabled:!0,src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000970"},{src:"app:eye",organ:"Eye",name:"Eye, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004548"},{src:"app:eye",organ:"Eye",name:"Eye, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004549"},{disabled:!0,src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0003889"},{src:"app:fallopian-tube-left",organ:"Fallopian Tube",name:"Fallopian Tube, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001303"},{src:"app:fallopian-tube-right",organ:"Fallopian Tube",name:"Fallopian Tube, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001302"},{src:"app:heart",organ:"Heart",name:"Heart",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000948"},{disabled:!0,src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002113"},{src:"app:kidney-left",organ:"Kidney",name:"Kidney, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004538"},{src:"app:kidney-right",organ:"Kidney",name:"Kidney, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004539"},{disabled:!0,src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001465"},{src:"app:knee",organ:"Knee",name:"Knee, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24978"},{src:"app:knee",organ:"Knee",name:"Knee, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma24977"},{src:"app:liver",organ:"Liver",name:"Liver",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002107"},{disabled:!0,src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002048"},{src:"app:lung",organ:"Lung",name:"Lungs",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001004"},{disabled:!0,src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001911"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57991"},{src:"app:mammary-gland",organ:"Mammary Gland",name:"Mammary Gland, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma57987"},{disabled:!0,src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000992"},{src:"app:ovary-left",organ:"Ovary",name:"Ovary, L",side:"left",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7214"},{src:"app:ovary-right",organ:"Ovary",name:"Ovary, R",side:"right",hasSex:!1,sex:"female",id:"http://purl.org/sig/ont/fma/fma7213"},{src:"app:larynx",organ:"Larynx",name:"Larynx",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001737"},{src:"app:main-bronchus",organ:"Main Bronchus",name:"Main Bronchus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002182"},{disabled:!0,src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002373"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, L",side:"left",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54974"},{src:"app:palatine-tonsil",organ:"Palatine Tonsil",name:"Palatine Tonsil, R",side:"right",hasSex:!0,id:"http://purl.org/sig/ont/fma/fma54973"},{src:"app:pancreas",organ:"Pancreas",name:"Pancreas",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001264"},{src:"app:pelvis-f",organ:"Pelvis",name:"Pelvis",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001270"},{src:"app:placenta",organ:"Placenta",name:"Placenta",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0001987"},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0002367",disabled:!0},{src:"app:prostate",organ:"Prostate",name:"Prostate",hasSex:!1,sex:"male",id:"http://purl.obolibrary.org/obo/UBERON_0000079"},{src:"app:small-intestine",organ:"Small Intestine",name:"Small Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002108"},{src:"app:large-intestine",organ:"Large Intestine",name:"Large Intestine",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000059"},{src:"app:spinal-cord",organ:"Spinal Cord",name:"Spinal Cord",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002240"},{src:"app:spleen",organ:"Spleen",name:"Spleen",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002106"},{src:"app:thymus",organ:"Thymus",name:"Thymus",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002370"},{src:"app:trachea",organ:"Trachea",name:"Trachea",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0003126"},{disabled:!0,src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0000056"},{src:"app:ureter-left",organ:"Ureter",name:"Ureter, L",side:"left",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001223"},{src:"app:ureter-right",organ:"Ureter",name:"Ureter, R",side:"right",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001222"},{src:"app:bladder",organ:"Urinary Bladder",name:"Urinary Bladder",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0001255"},{src:"app:uterus",organ:"Uterus",name:"Uterus",hasSex:!1,sex:"female",id:"http://purl.obolibrary.org/obo/UBERON_0000995"},{src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0004537"},{disabled:!0,src:"app:vasculature-thick",organ:"Blood Vasculature",name:"Blood Vasculature",hasSex:!0,id:"http://purl.obolibrary.org/obo/UBERON_0002049"}].sort((n,e)=>n.name.localeCompare(e.name)).filter(n=>!0!==n.disabled),_Le=["knob"],bLe=["valueIndicatorContainer"];function yLe(n,e){if(1&n&&(Ye(0,"div",2,1)(2,"div",5)(3,"span",6),Xt(4),et()()()),2&n){const t=Tn();lt(4),jo(t.valueIndicatorText)}}const vLe=["trackActive"],wLe=["*"];function xLe(n,e){if(1&n&&yn(0,"div"),2&n){const t=e.$implicit,i=e.$index,r=Tn(3);vi(0===t?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),Ih("transform",r._calcTickMarkTransform(i))}}function ELe(n,e){1&n&&function fz(n,e,t,i,r,o,s,a,c,l,d,h,f){ad("NgControlFlow");const m=void 0!==c,g=Ft(),b=a?s.bind(g[Ji][Er]):s,v=new Pre(m,b);g[si+n]=v,mn(n+1,e,t,i,r,o),m&&mn(n+2,c,l,d,h,f)}(0,xLe,1,4,"div",8,hz),2&n&&function pz(n){const e=$(null),t=Qo();try{const i=Ft(),r=i[sn],o=i[t];if(void 0===o.liveCollection){const a=t+1,c=XO(i,a),l=YO(r,a);o.liveCollection=new Nre(c,i,l)}else o.liveCollection.reset();const s=o.liveCollection;if(function Ore(n,e,t){let i,r,o=0,s=n.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){const c=n.at(o),l=e[o],d=$O(o,c,o,l,t);if(0!==d){d<0&&n.updateValue(o,l),o++;continue}const h=n.at(s),f=e[a],m=$O(s,h,a,f,t);if(0!==m){m<0&&n.updateValue(s,f),s--,a--;continue}const g=t(o,c),b=t(s,h),v=t(o,l);if(Object.is(v,b)){const D=t(a,f);Object.is(D,g)?(n.swap(o,s),n.updateValue(s,f),a--,s--):n.move(s,o),n.updateValue(o,l),o++}else if(i??=new uz,r??=dz(n,o,s,t),qO(n,i,o,v))n.updateValue(o,l),o++,s++;else if(r.has(v))i.set(g,n.detach(o)),s--;else{const D=n.create(o,e[o]);n.attach(o,D),o++,s++}}for(;o<=a;)lz(n,i,t,o,e[o]),o++}else if(null!=e){const a=e[Symbol.iterator]();let c=a.next();for(;!c.done&&o<=s;){const l=n.at(o),d=c.value,h=$O(o,l,o,d,t);if(0!==h)h<0&&n.updateValue(o,d),o++,c=a.next();else{i??=new uz,r??=dz(n,o,s,t);const f=t(o,d);if(qO(n,i,o,f))n.updateValue(o,d),o++,s++,c=a.next();else if(r.has(f)){const m=t(o,l);i.set(m,n.detach(o)),s--}else n.attach(o,n.create(o,d)),o++,s++,c=a.next()}}for(;!c.done;)lz(n,i,t,n.length,c.value),c=a.next()}for(;o<=s;)n.destroy(n.detach(s--));i?.forEach(a=>{n.destroy(a)})}(s,n,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){const a=Oa(),c=0===s.length;if(Fo(i,a,c)){const l=t+2,d=XO(i,l);if(c){const h=YO(r,l),f=jg(d,h.tView.ssrId);iv(d,nv(i,h,void 0,{dehydratedView:f}),0,Bg(h,f))}else rO(d,0)}}}finally{$(e)}}(Tn(2)._tickMarks)}function CLe(n,e){if(1&n&&(Ye(0,"div",6,1),mn(2,ELe,2,0),et()),2&n){const t=Tn();lt(2),Hi(2,t._cachedWidth?2:-1)}}function ALe(n,e){if(1&n&&yn(0,"mat-slider-visual-thumb",7),2&n){const t=Tn();Dt("discrete",t.discrete)("thumbPosition",1)("valueIndicatorText",t.startValueIndicatorText)}}var ii=function(n){return n[n.START=1]="START",n[n.END=2]="END",n}(ii||{}),ub=function(n){return n[n.ACTIVE=0]="ACTIVE",n[n.INACTIVE=1]="INACTIVE",n}(ub||{});const hT=new vt("_MatSlider"),DK=new vt("_MatSliderThumb"),OK=new vt("_MatSliderRangeThumb"),RK=new vt("_MatSliderVisualThumb");let SLe=(()=>{class n{constructor(t,i,r,o){this._cdr=t,this._ngZone=i,this._slider=o,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=kt(oo),this._onPointerMove=s=>{if(this._sliderInput._isFocused)return;const a=this._hostElement.getBoundingClientRect(),c=this._slider._isCursorOnSliderThumb(s,a);this._isHovered=c,c?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=s=>{0===s.button&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){this._ripple.radius=24,this._sliderInput=this._slider._getInput(this.thumbPosition),this._sliderInputEl=this._sliderInput._hostElement;const t=this._sliderInputEl;this._ngZone.runOutsideAngular(()=>{t.addEventListener("pointermove",this._onPointerMove),t.addEventListener("pointerdown",this._onDragStart),t.addEventListener("pointerup",this._onDragEnd),t.addEventListener("pointerleave",this._onMouseLeave),t.addEventListener("focus",this._onFocus),t.addEventListener("blur",this._onBlur)})}ngOnDestroy(){const t=this._sliderInputEl;t&&(t.removeEventListener("pointermove",this._onPointerMove),t.removeEventListener("pointerdown",this._onDragStart),t.removeEventListener("pointerup",this._onDragEnd),t.removeEventListener("pointerleave",this._onMouseLeave),t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(t){return t?.state===tc.FADING_IN||t?.state===tc.VISIBLE}_showRipple(t,i){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===ii.START?ii.END:ii.START)._showValueIndicator(),!this._slider._globalRippleOptions?.disabled||i))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:t,centered:!0,persistent:!0})}_hideRipple(t){if(t?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();const i=this._getSibling();i._isShowingAnyRipple()||(this._hideValueIndicator(),i._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===ii.START?ii.END:ii.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ai),be(_n),be(On),be(hT))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(i,r){if(1&i&&(Di(nc,5),Di(_Le,5),Di(bLe,5)),2&i){let o;In(o=Dn())&&(r._ripple=o.first),In(o=Dn())&&(r._knob=o.first),In(o=Dn())&&(r._valueIndicatorContainer=o.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[Jn([{provide:RK,useExisting:n}]),Li],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(i,r){1&i&&(mn(0,yLe,5,1,"div",2),yn(1,"div",3,0)(3,"div",4)),2&i&&(Hi(0,r.discrete?0:-1),lt(3),Dt("matRippleDisabled",!0))},dependencies:[nc],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}return n})(),kK=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=t;const i=this._getInput(ii.END),r=this._getInput(ii.START);i&&(i.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(t){this._discrete=t,this._updateValueIndicatorUIs()}get min(){return this._min}set min(t){const i=isNaN(t)?this._min:t;this._min!==i&&this._updateMin(i)}_updateMin(t){const i=this._min;this._min=t,this._isRange?this._updateMinRange({old:i,new:t}):this._updateMinNonRange(t),this._onMinMaxOrStepChange()}_updateMinRange(t){const i=this._getInput(ii.END),r=this._getInput(ii.START),o=i.value,s=r.value;r.min=t.new,i.min=Math.max(t.new,r.value),r.max=Math.min(i.max,i.value),r._updateWidthInactive(),i._updateWidthInactive(),t.new<t.old?this._onTranslateXChangeBySideEffect(i,r):this._onTranslateXChangeBySideEffect(r,i),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMinNonRange(t){const i=this._getInput(ii.END);if(i){const r=i.value;i.min=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get max(){return this._max}set max(t){const i=isNaN(t)?this._max:t;this._max!==i&&this._updateMax(i)}_updateMax(t){const i=this._max;this._max=t,this._isRange?this._updateMaxRange({old:i,new:t}):this._updateMaxNonRange(t),this._onMinMaxOrStepChange()}_updateMaxRange(t){const i=this._getInput(ii.END),r=this._getInput(ii.START),o=i.value,s=r.value;i.max=t.new,r.max=Math.min(t.new,i.value),i.min=r.value,i._updateWidthInactive(),r._updateWidthInactive(),t.new>t.old?this._onTranslateXChangeBySideEffect(r,i):this._onTranslateXChangeBySideEffect(i,r),o!==i.value&&this._onValueChange(i),s!==r.value&&this._onValueChange(r)}_updateMaxNonRange(t){const i=this._getInput(ii.END);if(i){const r=i.value;i.max=t,i._updateThumbUIByValue(),this._updateTrackUI(i),r!==i.value&&this._onValueChange(i)}}get step(){return this._step}set step(t){const i=isNaN(t)?this._step:t;this._step!==i&&this._updateStep(i)}_updateStep(t){this._step=t,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){const t=this._getInput(ii.END),i=this._getInput(ii.START),r=t.value,o=i.value,s=i.value;t.min=this._min,i.max=this._max,t.step=this._step,i.step=this._step,this._platform.SAFARI&&(t.value=t.value,i.value=i.value),t.min=Math.max(this._min,i.value),i.max=Math.min(this._max,t.value),i._updateWidthInactive(),t._updateWidthInactive(),t.value<s?this._onTranslateXChangeBySideEffect(i,t):this._onTranslateXChangeBySideEffect(t,i),r!==t.value&&this._onValueChange(t),o!==i.value&&this._onValueChange(i)}_updateStepNonRange(){const t=this._getInput(ii.END);if(t){const i=t.value;t.step=this._step,this._platform.SAFARI&&(t.value=t.value),t._updateThumbUIByValue(),i!==t.value&&this._onValueChange(t)}}constructor(t,i,r,o,s,a){this._ngZone=t,this._cdr=i,this._elementRef=r,this._dir=o,this._globalRippleOptions=s,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=c=>`${c}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=kt(oo),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations="NoopAnimations"===a,this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl="rtl"===this._dir.value}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();const t=this._getInput(ii.END),i=this._getInput(ii.START);this._isRange=!!t&&!!i,this._cdr.detectChanges();const r=this._getThumb(ii.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(t,i):this._initUINonRange(t),this._updateTrackUI(t),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(t){t.initProps(),t.initUI(),this._updateValueIndicatorUI(t),this._hasViewInitialized=!0,t._updateThumbUIByValue()}_initUIRange(t,i){t.initProps(),t.initUI(),i.initProps(),i.initUI(),t._updateMinMax(),i._updateMinMax(),t._updateStaticStyles(),i._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,t._updateThumbUIByValue(),i._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl="rtl"===this._dir.value,this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){const t=this._getInput(ii.END),i=this._getInput(ii.START);t._setIsLeftThumb(),i._setIsLeftThumb(),t.translateX=t._calcTranslateXByValue(),i.translateX=i._calcTranslateXByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateWidthInactive(),i._updateWidthInactive(),t._updateThumbUIByValue(),i._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(ii.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(ii.START)._isActive||this._getThumb(ii.END)._isActive}_getValue(t=ii.END){const i=this._getInput(t);return i?i.value:this.min}_skipUpdate(){return!(!this._getInput(ii.START)?._skipUIUpdate&&!this._getInput(ii.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(t){const i=this._trackActive.nativeElement.style;i.left=t.left,i.right=t.right,i.transformOrigin=t.transformOrigin,i.transform=t.transform}_calcTickMarkTransform(t){return`translateX(${t*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(t){this._hasViewInitialized&&(this._updateThumbUI(t),this._updateTrackUI(t),this._updateOverlappingThumbUI(t))}_onTranslateXChangeBySideEffect(t,i){this._hasViewInitialized&&(t._updateThumbUIByValue(),i._updateThumbUIByValue())}_onValueChange(t){this._hasViewInitialized&&(this._updateValueIndicatorUI(t),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){const t=this._getInput(ii.END),i=this._getInput(ii.START);t._updateThumbUIByValue(),i._updateThumbUIByValue(),t._updateStaticStyles(),i._updateStaticStyles(),t._updateMinMax(),i._updateMinMax(),t._updateWidthInactive(),i._updateWidthInactive()}else{const t=this._getInput(ii.END);t&&t._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){const t=this._getInput(ii.START),i=this._getInput(ii.END);return!(!t||!i)&&i.translateX-t.translateX<20}_updateOverlappingThumbClassNames(t){const i=t.getSibling(),r=this._getThumb(t.thumbPosition);this._getThumb(i.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(t){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(t))}_updateThumbUI(t){this._skipUpdate()||(this._getThumb(t.thumbPosition===ii.END?ii.END:ii.START)._hostElement.style.transform=`translateX(${t.translateX}px)`)}_updateValueIndicatorUI(t){if(this._skipUpdate())return;const i=this.displayWith(t.value);if(this._hasViewInitialized?t._valuetext=i:t._hostElement.setAttribute("aria-valuetext",i),this.discrete){t.thumbPosition===ii.START?this.startValueIndicatorText=i:this.endValueIndicatorText=i;const r=this._getThumb(t.thumbPosition);i.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){const t=this._getInput(ii.END),i=this._getInput(ii.START);t&&this._updateValueIndicatorUI(t),i&&this._updateValueIndicatorUI(i)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;const t=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/t)*t-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(t){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(t):this._updateTrackUINonRange(t))}_updateTrackUIRange(t){const i=t.getSibling();if(!i||!this._cachedWidth)return;const r=Math.abs(i.translateX-t.translateX)/this._cachedWidth;this._setTrackActiveStyles(t._isLeftThumb&&this._cachedWidth?{left:"auto",right:this._cachedWidth-i.translateX+"px",transformOrigin:"right",transform:`scaleX(${r})`}:{left:`${i.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(t){this._setTrackActiveStyles(this._isRtl?{left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-t.fillPercentage})`}:{left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${t.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||void 0===this.step||void 0===this.min||void 0===this.max)return;const t=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(t):this._updateTickMarkUINonRange(t),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(t){const i=this._getValue();let r=Math.max(Math.floor((i-this.min)/t),0),o=Math.max(Math.floor((this.max-i)/t),0);this._isRtl?r++:o++,this._tickMarks=Array(r).fill(ub.ACTIVE).concat(Array(o).fill(ub.INACTIVE))}_updateTickMarkUIRange(t){const i=this._getValue(),r=this._getValue(ii.START),o=Math.max(Math.floor((r-this.min)/t),0),s=Math.max(Math.floor((i-r)/t)+1,0),a=Math.max(Math.floor((this.max-i)/t),0);this._tickMarks=Array(o).fill(ub.INACTIVE).concat(Array(s).fill(ub.ACTIVE),Array(a).fill(ub.INACTIVE))}_getInput(t){return t===ii.END&&this._input?this._input:this._inputs?.length?t===ii.START?this._inputs.first:this._inputs.last:void 0}_getThumb(t){return t===ii.END?this._thumbs?.last:this._thumbs?.first}_setTransition(t){this._hasAnimation=!this._platform.IOS&&t&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(t,i){const r=i.width/2,c=t.clientY-(i.y+r);return Math.pow(t.clientX-(i.x+r),2)+Math.pow(c,2)<Math.pow(r,2)}static#e=this.\u0275fac=function(i){return new(i||n)(be(_n),be(Ai),be(On),be(Ol,8),be(t0,8),be(lo,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-slider"]],contentQueries:function(i,r,o){if(1&i&&(pr(o,DK,5),pr(o,OK,4)),2&i){let s;In(s=Dn())&&(r._input=s.first),In(s=Dn())&&(r._inputs=s)}},viewQuery:function(i,r){if(1&i&&(Di(vLe,5),Di(RK,5)),2&i){let o;In(o=Dn())&&(r._trackActive=o.first),In(o=Dn())&&(r._thumbs=o)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(i,r){2&i&&(vi("mat-"+(r.color||"primary")),bn("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],discrete:[gt.HasDecoratorInputTransform,"discrete","discrete",vn],showTickMarks:[gt.HasDecoratorInputTransform,"showTickMarks","showTickMarks",vn],min:[gt.HasDecoratorInputTransform,"min","min",Uo],color:"color",disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],max:[gt.HasDecoratorInputTransform,"max","max",Uo],step:[gt.HasDecoratorInputTransform,"step","step",Uo],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[Jn([{provide:hT,useExisting:n}]),Gr,Li],ngContentSelectors:wLe,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(i,r){1&i&&(br(),Un(0),Ye(1,"div",2),yn(2,"div",3),Ye(3,"div",4),yn(4,"div",5,0),et(),mn(6,CLe,3,1,"div",6),et(),mn(7,ALe,1,3,"mat-slider-visual-thumb",7),yn(8,"mat-slider-visual-thumb",7)),2&i&&(lt(6),Hi(6,r.showTickMarks?6:-1),lt(),Hi(7,r._isRange?7:-1),lt(),Dt("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[SLe],styles:['.mdc-slider{cursor:pointer;height:48px;margin:0 24px;position:relative;touch-action:pan-y}.mdc-slider .mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%}.mdc-slider .mdc-slider__track--active,.mdc-slider .mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider .mdc-slider__track--active{overflow:hidden}.mdc-slider .mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;-webkit-transform-origin:left;transform-origin:left}[dir=rtl] .mdc-slider .mdc-slider__track--active_fill,.mdc-slider .mdc-slider__track--active_fill[dir=rtl]{-webkit-transform-origin:right;transform-origin:right}.mdc-slider .mdc-slider__track--inactive{left:0;top:0}.mdc-slider .mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__track--inactive::before{border-color:CanvasText}}.mdc-slider .mdc-slider__value-indicator-container{bottom:44px;left:50%;left:var(--slider-value-indicator-container-left, 50%);pointer-events:none;position:absolute;right:var(--slider-value-indicator-container-right);transform:translateX(-50%);transform:var(--slider-value-indicator-container-transform, translateX(-50%))}.mdc-slider .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0.4, 0, 1, 1);align-items:center;border-radius:4px;display:flex;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom}.mdc-slider .mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;left:var(--slider-value-indicator-caret-left, 50%);position:absolute;right:var(--slider-value-indicator-caret-right);transform:translateX(-50%);transform:var(--slider-value-indicator-caret-transform, translateX(-50%));width:0}.mdc-slider .mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-slider .mdc-slider__value-indicator::after{border-color:CanvasText}}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}@media(prefers-reduced-motion){.mdc-slider .mdc-slider__value-indicator,.mdc-slider .mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:none}}.mdc-slider .mdc-slider__thumb{display:flex;left:-24px;outline:none;position:absolute;user-select:none;height:48px;width:48px}.mdc-slider .mdc-slider__thumb--top{z-index:1}.mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-style:solid;border-width:1px;box-sizing:content-box}.mdc-slider .mdc-slider__thumb-knob{box-sizing:border-box;left:50%;position:absolute;top:50%;transform:translate(-50%, -50%)}.mdc-slider .mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:transform 80ms ease}@media(prefers-reduced-motion){.mdc-slider--discrete .mdc-slider__thumb,.mdc-slider--discrete .mdc-slider__track--active_fill{transition:none}}.mdc-slider--disabled{cursor:auto}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;pointer-events:none;position:absolute;top:2px;width:44px}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;margin-left:8px;margin-right:8px;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider .mdc-slider__thumb-knob{background-color:var(--mdc-slider-handle-color);border-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color);border-color:var(--mdc-slider-disabled-handle-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider.mdc-slider--disabled .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb::before,.mat-mdc-slider .mdc-slider__thumb::after{background-color:var(--mdc-slider-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover::before,.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-surface--hover::before{opacity:var(--mdc-ripple-hover-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded--background-focused::before,.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):focus::before{transition-duration:75ms;opacity:var(--mdc-ripple-focus-opacity)}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded)::after{transition:opacity 150ms linear}.mat-mdc-slider .mdc-slider__thumb:not(.mdc-ripple-upgraded):active::after{transition-duration:75ms;opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__thumb.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-ripple-press-opacity)}.mat-mdc-slider .mdc-slider__track--active_fill{border-color:var(--mdc-slider-active-track-color)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color)}.mat-mdc-slider .mdc-slider__track--inactive{background-color:var(--mdc-slider-inactive-track-color);opacity:.24}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color);opacity:.24}.mat-mdc-slider .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--active{background-color:var(--mdc-slider-with-tick-marks-active-container-color);opacity:var(--mdc-slider-with-tick-marks-active-container-opacity)}.mat-mdc-slider .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-inactive-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider.mdc-slider--disabled .mdc-slider__tick-mark--inactive{background-color:var(--mdc-slider-with-tick-marks-disabled-container-color);opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity)}.mat-mdc-slider .mdc-slider__value-indicator{background-color:var(--mdc-slider-label-container-color);opacity:1}.mat-mdc-slider .mdc-slider__value-indicator::before{border-top-color:var(--mdc-slider-label-container-color)}.mat-mdc-slider .mdc-slider__value-indicator{color:var(--mdc-slider-label-label-text-color)}.mat-mdc-slider .mdc-slider__track{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__track--active{height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height)) / 2)}.mat-mdc-slider .mdc-slider__track--active_fill{border-top-width:var(--mdc-slider-active-track-height)}.mat-mdc-slider .mdc-slider__track--inactive{height:var(--mdc-slider-inactive-track-height)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{height:var(--mdc-slider-with-tick-marks-container-size);width:var(--mdc-slider-with-tick-marks-container-size)}.mat-mdc-slider.mdc-slider--disabled{opacity:0.38}.mat-mdc-slider .mdc-slider__value-indicator-text{letter-spacing:var(--mdc-slider-label-label-text-tracking);font-size:var(--mdc-slider-label-label-text-size);font-family:var(--mdc-slider-label-label-text-font);font-weight:var(--mdc-slider-label-label-text-weight);line-height:var(--mdc-slider-label-label-text-line-height)}.mat-mdc-slider .mdc-slider__track--active{border-radius:var(--mdc-slider-active-track-shape)}.mat-mdc-slider .mdc-slider__track--inactive{border-radius:var(--mdc-slider-inactive-track-shape)}.mat-mdc-slider .mdc-slider__thumb-knob{border-radius:var(--mdc-slider-handle-shape);width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-style:solid;border-width:calc(var(--mdc-slider-handle-height) / 2) calc(var(--mdc-slider-handle-width) / 2)}.mat-mdc-slider .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-mark--inactive{border-radius:var(--mdc-slider-with-tick-marks-container-shape)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color);border-color:var(--mdc-slider-hover-handle-color)}.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:hover .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color);border-color:var(--mdc-slider-focus-handle-color)}.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--focused .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb:not(:disabled):active .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:#fff}.mat-mdc-slider .mdc-slider__thumb--top .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mat-mdc-slider .mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border-color:var(--mdc-slider-with-overlap-handle-outline-color);border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mat-mdc-slider .mdc-slider__thumb-knob{box-shadow:var(--mdc-slider-handle-elevation)}.mat-mdc-slider .mdc-slider__input{box-sizing:content-box;pointer-events:auto}.mat-mdc-slider .mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mat-mdc-slider .mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mdc-slider__track,.mat-mdc-slider .mdc-slider__thumb{pointer-events:none}.mat-mdc-slider .mdc-slider__value-indicator-container{transform:var(--mat-slider-value-indicator-container-transform)}.mat-mdc-slider .mdc-slider__value-indicator{width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mat-mdc-slider .mdc-slider__value-indicator::before{display:var(--mat-slider-value-indicator-caret-display)}.mat-mdc-slider .mdc-slider__value-indicator-text{width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform)}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slider .mdc-slider__value-indicator{word-break:normal}.mat-mdc-slider .mdc-slider__value-indicator-text{text-align:center}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();const MLe={provide:Gs,useExisting:mi(()=>fT),multi:!0};let fT=(()=>{class n{get value(){return Uo(this._hostElement.value,0)}set value(t){const i=(t=isNaN(t)?0:t)+"";this._hasSetInitialValue?this._isActive||this._setValue(i):this._initialValue=i}_setValue(t){this._hostElement.value=t,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(void 0===this._translateX&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(t){this._translateX=t}get min(){return Uo(this._hostElement.min,0)}set min(t){this._hostElement.min=t+"",this._cdr.detectChanges()}get max(){return Uo(this._hostElement.max,0)}set max(t){this._hostElement.max=t+"",this._cdr.detectChanges()}get step(){return Uo(this._hostElement.step,0)}set step(t){this._hostElement.step=t+"",this._cdr.detectChanges()}get disabled(){return vn(this._hostElement.disabled)}set disabled(t){this._hostElement.disabled=t,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?0===this._translateX?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(t){this._isFocused=t}constructor(t,i,r,o){this._ngZone=t,this._elementRef=i,this._cdr=r,this._slider=o,this.valueChange=new Qt,this.dragStart=new Qt,this.dragEnd=new Qt,this.thumbPosition=ii.END,this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new en,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=kt(oo),this._hostElement=i.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,void 0===this._initialValue?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(t){if(!this.disabled&&0===t.button){if(this._platform.IOS){const i=this._slider._isCursorOnSliderThumb(t,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());return this._isActive=i,this._updateWidthActive(),void this._slider._updateDimensions()}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(t,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(t),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(t){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(t)},0)}_fixValue(t){const i=t.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,o=0===this._slider.step?1:this._slider.step,s=Math.floor((this._slider.max-this._slider.min)/o),l=Math.round((this._slider._isRtl?1-i/r:i/r)*s)/s*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(l/o)*o;if(d===this.value)return this._slider._onValueChange(this),void(this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation}));this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(t,{withAnimation:this._slider._hasAnimation})}_onPointerMove(t){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(t)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(t){const i=this._tickMarkOffset;return Math.max(Math.min(t,this._slider._cachedWidth-this._tickMarkOffset),i)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-2*this._tickMarkOffset)+this._tickMarkOffset}_calcTranslateXByPointerEvent(t){return t.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-2*this._tickMarkOffset}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(t){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(t)}_updateThumbUIByPointerEvent(t,i){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(t)),this._updateThumbUI(i)}_updateThumbUI(t){this._slider._setTransition(!!t?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(t){(this._isControlInitialized||null!==t)&&(this.value=t)}registerOnChange(t){this._onChangeFn=t,this._isControlInitialized=!0}registerOnTouched(t){this._onTouchedFn=t}setDisabledState(t){this.disabled=t}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static#e=this.\u0275fac=function(i){return new(i||n)(be(_n),be(On),be(Ai),be(hT))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(i,r){1&i&&Lt("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),2&i&&ci("aria-valuetext",r._valuetext)},inputs:{value:[gt.HasDecoratorInputTransform,"value","value",Uo]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[Jn([MLe,{provide:DK,useExisting:n}]),Gr]})}return n})(),PK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,Rl]})}return n})(),NK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo,PK,Rl]})}return n})();function OLe(n,e){}class pT{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let FK=(()=>{class n extends tA{constructor(t,i,r,o,s,a,c,l){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=kt(oo),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=kt(Ai),this.attachDomPortal=d=>{this._portalOutlet.hasAttached();const h=this._portalOutlet.attachDomPortal(d);return this._contentAttached(),h},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(t){this._ariaLabelledByQueue.push(t),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(t){const i=this._ariaLabelledByQueue.indexOf(t);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=ck(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=ck();return t===i||t.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ck()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(b5),be(ni,8),be(pT),be(wk),be(_n),be(sA),be(Tu))};static#t=this.\u0275cmp=un({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Di(x_,7),2&i){let o;In(o=Dn())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&ci("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[ui,Li],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&mn(0,OLe,0,0,"ng-template",0)},dependencies:[x_],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class eB{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new en,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ec(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{!1!==t.closeOnOverlayDetachments&&this.close()})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const LK=new vt("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=kt(gs);return()=>n.scrollStrategies.block()}}),RLe=new vt("DialogData"),kLe=new vt("DefaultDialogConfig");let NLe=0,BK=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(t,i,r,o,s,a){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new en,this._afterOpenedAtThisLevel=new en,this._ariaHiddenElements=new Map,this.afterAllClosed=fm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ms(void 0))),this._scrollStrategy=a}open(t,i){(i={...this._defaultOptions||new pT,...i}).id=i.id||"cdk-dialog-"+NLe++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new eB(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(t,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){tB(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){tB(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),tB(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new f0({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:pT,useValue:r},{provide:eB,useValue:i},{provide:sA,useValue:t}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=FK;const c=new v_(a,r.viewContainerRef,bi.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,o){if(t instanceof Ja){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new w_(t,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new v_(t,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(t,i,r,o){const s=t.injector||t.viewContainerRef?.injector,a=[{provide:RLe,useValue:t.data},{provide:eB,useValue:i}];return t.providers&&("function"==typeof t.providers?a.push(...t.providers(i,t,r)):a.push(...t.providers)),t.direction&&(!s||!s.get(Ol,null,{optional:!0}))&&a.push({provide:Ol,useValue:{value:t.direction,change:Mn()}}),bi.create({parent:s||o,providers:a})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==t&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(gs),Ke(bi),Ke(kLe,8),Ke(n,12),Ke(p0),Ke(LK))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tB(n,e){let t=n.length;for(;t--;)e(n[t])}let FLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[BK],imports:[m0,E_,S5,E_]})}return n})();function LLe(n,e){}class nB{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const iB="mdc-dialog--open",jK="mdc-dialog--opening",UK="mdc-dialog--closing";let VK=(()=>{class n extends FK{constructor(t,i,r,o,s,a,c,l,d){super(t,i,r,o,s,a,c,d),this._animationMode=l,this._animationStateChanged=new Qt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?HK(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?HK(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(zK,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(jK,iB)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(iB),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(iB),this._animationsEnabled?(this._hostElement.style.setProperty(zK,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(UK)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(t){this._actionSectionCount+=t,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(jK,UK)}_waitForAnimationToComplete(t,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,t)}_requestAnimationFrame(t){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(t):t()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(t){const i=super.attachComponentPortal(t);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(b5),be(ni,8),be(nB),be(wk),be(_n),be(sA),be(lo,8),be(Tu))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(ka("id",r._config.id),ci("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),bn("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[ui,Li],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"div",1),mn(2,LLe,0,0,"ng-template",2),et()())},dependencies:[x_],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2})}return n})();const zK="--mat-dialog-transition-duration";function HK(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?O1(n.substring(0,n.length-2)):n.endsWith("s")?1e3*O1(n.substring(0,n.length-1)):"0"===n?0:null}var mT=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(mT||{});class hb{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new en,this._beforeClosed=new en,this._state=mT.OPEN,this.disableClose=t.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Ei(r=>"opened"===r.state),yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Ei(r=>"closed"===r.state),yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Bs(this.backdropClick(),this.keydownEvents().pipe(Ei(r=>27===r.keyCode&&!this.disableClose&&!ec(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function GK(n,e,t){return n._closeInteractionType=e,n.close(t)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ei(t=>"closing"===t.state),yr(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=mT.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=mT.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const rB=new vt("MatMdcDialogData"),ULe=new vt("mat-mdc-dialog-default-options"),WK=new vt("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(gs);return()=>n.scrollStrategies.block()}});let zLe=0,hf=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(t,i,r,o,s,a,c,l){this._overlay=t,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new en,this._afterOpenedAtThisLevel=new en,this.dialogConfigClass=nB,this.afterAllClosed=fm(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ms(void 0))),this._dialog=i.get(BK),this._dialogRefConstructor=hb,this._dialogContainerType=VK,this._dialogDataToken=rB}open(t,i){let r;(i={...this._defaultOptions||new nB,...i}).id=i.id||"mat-mdc-dialog-"+zLe++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:pT,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(gs),Ke(bi),Ke(Sp,8),Ke(ULe,8),Ke(WK),Ke(n,12),Ke(p0),Ke(lo,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HLe=0,$K=(()=>{class n{constructor(t,i,r){this._dialogRef=t,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=function qK(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-mdc-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(i){return new(i||n)(be(hb,8),be(On),be(hf))};static#t=this.\u0275dir=Zt({type:n,standalone:!0})}return n})(),gT=(()=>{class n extends $K{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+HLe++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&ka("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[ui]})}return n})(),_T=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0})}return n})();let bT=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[hf],imports:[FLe,m0,E_,ar,ar]})}return n})();class qLe{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,t,i=!0,r){this._multiple=e,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new en,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(i=>this._markSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(i=>this._unmarkSelected(i));const t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);const t=this.selected,i=new Set(e);e.forEach(o=>this._markSelected(o)),t.filter(o=>!i.has(this._getConcreteValue(o,i))).forEach(o=>this._unmarkSelected(o));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();const t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let i of t)if(this.compareWith(e,i))return i;return e}return e}}let oB=(()=>{class n{constructor(){this._listeners=[]}notify(t,i){for(let r of this._listeners)r(t,i)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(i=>t!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const YK=new vt("CdkAccordion");let XLe=0,YLe=(()=>{class n{get expanded(){return this._expanded}set expanded(t){this._expanded!==t&&(this._expanded=t,this.expandedChange.emit(t),t?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(t,i,r){this.accordion=t,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=Ht.EMPTY,this.closed=new Qt,this.opened=new Qt,this.destroyed=new Qt,this.expandedChange=new Qt,this.id="cdk-accordion-child-"+XLe++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((o,s)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===s&&this.id!==o&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static#e=this.\u0275fac=function(i){return new(i||n)(be(YK,12),be(Ai),be(oB))};static#t=this.\u0275dir=Zt({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[gt.HasDecoratorInputTransform,"expanded","expanded",vn],disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[Jn([{provide:YK,useValue:void 0}]),Gr]})}return n})(),KLe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();const JLe=["body"],QLe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],ZLe=["mat-expansion-panel-header","*","mat-action-row"];function eBe(n,e){}const tBe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],nBe=["mat-panel-title","mat-panel-description","*"];function iBe(n,e){1&n&&(Ye(0,"span",1),jn(),Ye(1,"svg",2),yn(2,"path",3),et()()),2&n&&Dt("@indicatorRotate",Tn()._getExpandedState())}const KK=new vt("MAT_ACCORDION"),JK="225ms cubic-bezier(0.4,0.0,0.2,1)",QK={indicatorRotate:tl("indicatorRotate",[Vo("collapsed, void",sr({transform:"rotate(0deg)"})),Vo("expanded",sr({transform:"rotate(180deg)"})),Is("expanded <=> collapsed, void => collapsed",Ms(JK))]),bodyExpansion:tl("bodyExpansion",[Vo("collapsed, void",sr({height:"0px",visibility:"hidden"})),Vo("expanded",sr({height:"*",visibility:""})),Is("expanded <=> collapsed, void => collapsed",Ms(JK))])},ZK=new vt("MAT_EXPANSION_PANEL");let rBe=(()=>{class n{constructor(t,i){this._template=t,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ja),be(ZK,8))};static#t=this.\u0275dir=Zt({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return n})(),oBe=0;const eJ=new vt("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let yT=(()=>{class n extends YLe{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}constructor(t,i,r,o,s,a,c){super(t,i,r),this._viewContainerRef=o,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new Qt,this.afterCollapse=new Qt,this._inputChanges=new en,this._headerId="mat-expansion-panel-header-"+oBe++,this.accordion=t,this._document=s,this._animationsDisabled="NoopAnimations"===a,c&&(this.hideToggle=c.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(ms(null),Ei(()=>this.expanded&&!this._portal),yr(1)).subscribe(()=>{this._portal=new w_(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const t=this._document.activeElement,i=this._body.nativeElement;return t===i||i.contains(t)}return!1}_animationStarted(t){!tJ(t)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(t){tJ(t)||("expanded"===t.toState?this.afterExpand.emit():"collapsed"===t.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#e=this.\u0275fac=function(i){return new(i||n)(be(KK,12),be(Ai),be(oB),be(Ss),be(ni),be(lo,8),be(eJ,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,o){if(1&i&&pr(o,rBe,5),2&i){let s;In(s=Dn())&&(r._lazyContent=s.first)}},viewQuery:function(i,r){if(1&i&&Di(JLe,5),2&i){let o;In(o=Dn())&&(r._body=o.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&bn("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[gt.HasDecoratorInputTransform,"hideToggle","hideToggle",vn],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[Jn([{provide:KK,useValue:void 0},{provide:ZK,useExisting:n}]),Gr,ui,_r,Li],ngContentSelectors:ZLe,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(1&i){const o=qi();br(QLe),Un(0),Ye(1,"div",1,0),Lt("@bodyExpansion.start",function(a){return fn(o),hn(r._animationStarted(a))})("@bodyExpansion.done",function(a){return fn(o),hn(r._animationDone(a))}),Ye(3,"div",2),Un(4,1),mn(5,eBe,0,0,"ng-template",3),et(),Un(6,2),et()}2&i&&(lt(),Dt("@bodyExpansion",r._getExpandedState())("id",r.id),ci("aria-labelledby",r._headerId),lt(4),Dt("cdkPortalOutlet",r._portal))},dependencies:[x_],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[QK.bodyExpansion]},changeDetection:0})}return n})();function tJ(n){return"void"===n.fromState}let sB=(()=>{class n{constructor(t,i,r,o,s,a,c){this.panel=t,this._element=i,this._focusMonitor=r,this._changeDetectorRef=o,this._animationMode=a,this._parentChangeSubscription=Ht.EMPTY,this.tabIndex=0;const l=t.accordion?t.accordion._stateChanges.pipe(Ei(d=>!(!d.hideToggle&&!d.togglePosition))):Ls;this.tabIndex=parseInt(c||"")||0,this._parentChangeSubscription=Bs(t.opened,t.closed,l,t._inputChanges.pipe(Ei(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(Ei(()=>t._containsFocus())).subscribe(()=>r.focusVia(i,"program")),s&&(this.expandedHeight=s.expandedHeight,this.collapsedHeight=s.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:ec(t)||(t.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t))}}focus(t,i){t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(be(yT,1),be(On),be(Tu),be(Ai),be(eJ,8),be(lo,8),ua("tabindex"))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&Lt("click",function(){return r._toggle()})("keydown",function(s){return r._keydown(s)}),2&i&&(ci("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),Ih("height",r._getHeaderHeight()),bn("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Uo(t)]},standalone:!0,features:[Gr,Li],ngContentSelectors:nBe,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){1&i&&(br(tBe),Ye(0,"span",0),Un(1),Un(2,1),Un(3,2),et(),mn(4,iBe,3,1,"span",1)),2&i&&(bn("mat-content-hide-toggle",!r._showToggle()),lt(4),Hi(4,r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:inline-block;display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:none;display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[QK.indicatorRotate]},changeDetection:0})}return n})(),nJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return n})(),aB=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,KLe,E_]})}return n})();function iJ(n,e,t){return t?iJ(n,e).pipe(F1(t)):new Ct(i=>{const r=(...s)=>i.next(1===s.length?s[0]:s),o=n(r);return Ze(e)?()=>e(r,o):void 0})}const sBe=["youtubeContainer"];function aBe(n,e){if(1&n){const t=qi();Ye(0,"youtube-player-placeholder",2),Lt("click",function(){return fn(t),hn(Tn()._load(!0))}),et()}if(2&n){const t=Tn();Dt("videoId",t.videoId)("width",t.width)("height",t.height)("isLoading",t._isLoading)("buttonLabel",t.placeholderButtonLabel)("quality",t.placeholderImageQuality)}}let cBe=(()=>{class n{_getBackgroundImage(){let t;return t="low"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:"high"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${t})`}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(i,r){2&i&&(Ih("background-image",r._getBackgroundImage())("width",r.width,"px")("height",r.height,"px"),bn("youtube-player-placeholder-loading",r.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},standalone:!0,features:[Li],decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(i,r){1&i&&(Ye(0,"button",0),jn(),Ye(1,"svg",1),yn(2,"path",2)(3,"path",3),et()()),2&i&&ci("aria-label",r.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}return n})();const lBe=new vt("YOUTUBE_PLAYER_CONFIG");function sJ(n){return null==n?n:Uo(n,0)}let dBe=(()=>{class n{get height(){return this._height}set height(t){this._height=null==t||isNaN(t)?390:t}get width(){return this._width}set width(t){this._width=null==t||isNaN(t)?640:t}constructor(t,i){this._ngZone=t,this._destroyed=new en,this._playerChanges=new _e(void 0),this._nonce=kt(ap,{optional:!0}),this._changeDetectorRef=kt(Ai),this._isLoading=!1,this._hasPlaceholder=!0,this._height=390,this._width=640,this.disableCookies=!1,this.disablePlaceholder=!1,this.showBeforeIframeApiLoads=!1,this.ready=this._getLazyEmitter("onReady"),this.stateChange=this._getLazyEmitter("onStateChange"),this.error=this._getLazyEmitter("onError"),this.apiChange=this._getLazyEmitter("onApiChange"),this.playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange"),this.playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");const r=kt(lBe,{optional:!0});this.loadApi=r?.loadApi??!0,this.disablePlaceholder=!!r?.disablePlaceholder,this.placeholderButtonLabel=r?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=r?.placeholderImageQuality||"standard",this._isBrowser=hd(i)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(t){this._shouldRecreatePlayer(t)?this._conditionallyLoad():this._player&&((t.width||t.height)&&this._setSize(),t.suggestedQuality&&this._setQuality(),(t.startSeconds||t.endSeconds||t.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():this._getPendingState().playbackState=YT.PlayerState.PLAYING}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=YT.PlayerState.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=YT.PlayerState.CUED}seekTo(t,i){this._player?this._player.seekTo(t,i):this._getPendingState().seek={seconds:t,allowSeekAhead:i}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(t){this._player?this._player.setVolume(t):this._getPendingState().volume=t}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(t){if(this._player)return this._player.setPlaybackRate(t);this._getPendingState().playbackRate=t}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:YT.PlayerState.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}_load(t){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer(t):(this.loadApi&&(this._isLoading=!0,function uBe(n){if(cB)return;const t=document.createElement("script"),i=r=>{t.removeEventListener("load",i),t.removeEventListener("error",i),"error"===r.type&&(cB=!1)};t.addEventListener("load",i),t.addEventListener("error",i),t.src="https://www.youtube.com/iframe_api",t.async=!0,n&&t.setAttribute("nonce",n),cB=!0,document.body.appendChild(t)}(this._nonce)),this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(t))}))}_conditionallyLoad(){this._shouldShowPlaceholder()?1===this.playerVars?.autoplay&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return!this.disablePlaceholder&&(!this._isBrowser||this._hasPlaceholder&&!!this.videoId&&!this._player)}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(t){const i=t.videoId||t.playerVars||t.disableCookies||t.disablePlaceholder;return!!i&&!i.isFirstChange()}_createPlayer(t){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const i=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:t?{...this.playerVars||{},autoplay:1}:this.playerVars})),r=()=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=i,this._pendingPlayer=void 0,i.removeEventListener("onReady",r),this._playerChanges.next(i),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(i,this._pendingPlayerState),this._pendingPlayerState=void 0);const o=i.getPlayerState();(o===YT.PlayerState.UNSTARTED||o===YT.PlayerState.CUED||null==o)&&this._cuePlayer(),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=i,i.addEventListener("onReady",r)}_applyPendingPlayerState(t,i){const{playbackState:r,playbackRate:o,volume:s,muted:a,seek:c}=i;switch(r){case YT.PlayerState.PLAYING:t.playVideo();break;case YT.PlayerState.PAUSED:t.pauseVideo();break;case YT.PlayerState.CUED:t.stopVideo()}null!=o&&t.setPlaybackRate(o),null!=s&&t.setVolume(s),null!=a&&(a?t.mute():t.unMute()),null!=c&&t.seekTo(c.seconds,c.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(t){return this._playerChanges.pipe(Br(i=>i?iJ(r=>{i.addEventListener(t,r)},r=>{try{i?.removeEventListener?.(t,r)}catch{}}):Mn()),i=>new Ct(r=>i.subscribe({next:o=>this._ngZone.run(()=>r.next(o)),error:o=>r.error(o),complete:()=>r.complete()})),Si(this._destroyed))}static#e=this.\u0275fac=function(i){return new(i||n)(be(_n),be(Ns))};static#t=this.\u0275cmp=un({type:n,selectors:[["youtube-player"]],viewQuery:function(i,r){if(1&i&&Di(sBe,7),2&i){let o;In(o=Dn())&&(r.youtubeContainer=o.first)}},inputs:{videoId:"videoId",height:[gt.HasDecoratorInputTransform,"height","height",Uo],width:[gt.HasDecoratorInputTransform,"width","width",Uo],startSeconds:[gt.HasDecoratorInputTransform,"startSeconds","startSeconds",sJ],endSeconds:[gt.HasDecoratorInputTransform,"endSeconds","endSeconds",sJ],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[gt.HasDecoratorInputTransform,"disableCookies","disableCookies",vn],loadApi:[gt.HasDecoratorInputTransform,"loadApi","loadApi",vn],disablePlaceholder:[gt.HasDecoratorInputTransform,"disablePlaceholder","disablePlaceholder",vn],showBeforeIframeApiLoads:[gt.HasDecoratorInputTransform,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",vn],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},standalone:!0,features:[Gr,_r,Li],decls:4,vars:3,consts:[["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality"],[3,"click","videoId","width","height","isLoading","buttonLabel","quality"]],template:function(i,r){1&i&&(mn(0,aBe,1,6,"youtube-player-placeholder",1),Ye(1,"div"),yn(2,"div",null,0),et()),2&i&&(Hi(0,r._shouldShowPlaceholder()?0:-1),lt(),Ih("display",r._shouldShowPlaceholder()?"none":""))},dependencies:[cBe],encapsulation:2,changeDetection:0})}return n})(),cB=!1,aJ=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})();function cJ(n=hBe){return S((e,t)=>{let i=!1;e.subscribe(P(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function hBe(){return new Sw}let mm={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function lJ(n){mm=n}const dJ=/[&<>"']/,fBe=new RegExp(dJ.source,"g"),uJ=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,pBe=new RegExp(uJ.source,"g"),mBe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},hJ=n=>mBe[n];function kc(n,e){if(e){if(dJ.test(n))return n.replace(fBe,hJ)}else if(uJ.test(n))return n.replace(pBe,hJ);return n}const gBe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function _Be(n){return n.replace(gBe,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const bBe=/(^|[^\[])\^/g;function Tr(n,e){let t="string"==typeof n?n:n.source;e=e||"";const i={replace:(r,o)=>{let s="string"==typeof o?o:o.source;return s=s.replace(bBe,"$1"),t=t.replace(r,s),i},getRegex:()=>new RegExp(t,e)};return i}function fJ(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Tw={exec:()=>null};function pJ(n,e){const i=n.replace(/\|/g,(o,s,a)=>{let c=!1,l=s;for(;--l>=0&&"\\"===a[l];)c=!c;return c?"|":" |"}).split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),e)if(i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function vT(n,e,t){const i=n.length;if(0===i)return"";let r=0;for(;r<i;){const o=n.charAt(i-r-1);if(o!==e||t){if(o===e||!t)break;r++}else r++}return n.slice(0,i-r)}function mJ(n,e,t,i){const r=e.href,o=e.title?kc(e.title):null,s=n[1].replace(/\\([\[\]])/g,"$1");if("!"!==n[0].charAt(0)){i.state.inLink=!0;const a={type:"link",raw:t,href:r,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:t,href:r,title:o,text:kc(s)}}class wT{options;rules;lexer;constructor(e){this.options=e||mm}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:vT(i,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=function vBe(n,e){const t=n.match(/^(\s+)(?:```)/);if(null===t)return e;const i=t[1];return e.split("\n").map(r=>{const o=r.match(/^\s+/);if(null===o)return r;const[s]=o;return s.length>=i.length?r.slice(i.length):r}).join("\n")}(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const r=vT(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=vT(t[0].replace(/^ *>[ \t]?/gm,""),"\n"),r=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(i);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:o,text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i=t[1].trim();const r=i.length>1,o={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[\t ][^\\n]*)?(?:\\n|$))`);let a="",c="",l=!1;for(;e;){let d=!1;if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;a=t[0],e=e.substring(a.length);let h=t[2].split("\n",1)[0].replace(/^\t+/,D=>" ".repeat(3*D.length)),f=e.split("\n",1)[0],m=0;this.options.pedantic?(m=2,c=h.trimStart()):(m=t[2].search(/[^ ]/),m=m>4?1:m,c=h.slice(m),m+=t[1].length);let g=!1;if(!h&&/^ *$/.test(f)&&(a+=f+"\n",e=e.substring(f.length+1),d=!0),!d){const D=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),N=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Z=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),G=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const Oe=e.split("\n",1)[0];if(f=Oe,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Z.test(f)||G.test(f)||D.test(f)||N.test(e))break;if(f.search(/[^ ]/)>=m||!f.trim())c+="\n"+f.slice(m);else{if(g||h.search(/[^ ]/)>=4||Z.test(h)||G.test(h)||N.test(h))break;c+="\n"+f}!g&&!f.trim()&&(g=!0),a+=Oe+"\n",e=e.substring(Oe.length+1),h=f.slice(m)}}o.loose||(l?o.loose=!0:/\n *\n *$/.test(a)&&(l=!0));let v,b=null;this.options.gfm&&(b=/^\[[ xX]\] /.exec(c),b&&(v="[ ] "!==b[0],c=c.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:a,task:!!b,checked:v,loose:!1,text:c,tokens:[]}),o.raw+=a}o.items[o.items.length-1].raw=a.trimEnd(),o.items[o.items.length-1].text=c.trimEnd(),o.raw=o.raw.trimEnd();for(let d=0;d<o.items.length;d++)if(this.lexer.state.top=!1,o.items[d].tokens=this.lexer.blockTokens(o.items[d].text,[]),!o.loose){const h=o.items[d].tokens.filter(m=>"space"===m.type),f=h.length>0&&h.some(m=>/\n.*\n/.test(m.raw));o.loose=f}if(o.loose)for(let d=0;d<o.items.length;d++)o.items[d].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:"pre"===t[1]||"script"===t[1]||"style"===t[1],text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const i=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:i,raw:t[0],href:r,title:o}}}table(e){const t=this.rules.block.table.exec(e);if(!t||!/[:|]/.test(t[2]))return;const i=pJ(t[1]),r=t[2].replace(/^\||\| *$/g,"").split("|"),o=t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(i.length===r.length){for(const a of r)/^ *-+: *$/.test(a)?s.align.push("right"):/^ *:-+: *$/.test(a)?s.align.push("center"):/^ *:-+ *$/.test(a)?s.align.push("left"):s.align.push(null);for(const a of i)s.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of o)s.rows.push(pJ(a,s.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:i,tokens:this.lexer.inline(i)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:kc(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=vT(i.slice(0,-1),"\\");if((i.length-s.length)%2==0)return}else{const s=function yBe(n,e){if(-1===n.indexOf(e[1]))return-1;let t=0;for(let i=0;i<n.length;i++)if("\\"===n[i])i++;else if(n[i]===e[0])t++;else if(n[i]===e[1]&&(t--,t<0))return i;return-1}(t[2],"()");if(s>-1){const c=(0===t[0].indexOf("!")?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,c).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(r=this.options.pedantic&&!/>$/.test(i)?r.slice(1):r.slice(1,-1)),mJ(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){const o=t[(i[2]||i[1]).replace(/\s+/g," ").toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return mJ(i,o,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))&&(!r[1]&&!r[2]||!i||this.rules.inline.punctuation.exec(i))){const s=[...r[0]].length-1;let a,c,l=s,d=0;const h="*"===r[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,t=t.slice(-1*e.length+s);null!=(r=h.exec(t));){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(c=[...a].length,r[3]||r[4]){l+=c;continue}if((r[5]||r[6])&&s%3&&!((s+c)%3)){d+=c;continue}if(l-=c,l>0)continue;c=Math.min(c,c+l+d);const f=[...r[0]][0].length,m=e.slice(0,s+r.index+f+c);if(Math.min(s,c)%2){const b=m.slice(1,-1);return{type:"em",raw:m,text:b,tokens:this.lexer.inlineTokens(b)}}const g=m.slice(2,-2);return{type:"strong",raw:m,text:g,tokens:this.lexer.inlineTokens(g)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=kc(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let i,r;return"@"===t[2]?(i=kc(t[1]),r="mailto:"+i):(i=kc(t[1]),r=i),{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let i,r;if("@"===t[2])i=kc(t[0]),r="mailto:"+i;else{let o;do{o=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??""}while(o!==t[0]);i=kc(t[0]),r="www."===t[1]?"http://"+t[0]:t[0]}return{type:"link",raw:t[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){let i;return i=this.lexer.state.inRawBlock?t[0]:kc(t[0]),{type:"text",raw:t[0],text:i}}}}const Mw=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gJ=/(?:[*+-]|\d{1,9}[.)])/,_J=Tr(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,gJ).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),dB=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,uB=/(?!\s*\])(?:\\.|[^\[\]\\])+/,SBe=Tr(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",uB).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),TBe=Tr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,gJ).getRegex(),xT="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",hB=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,MBe=Tr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",hB).replace("tag",xT).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),bJ=Tr(dB).replace("hr",Mw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xT).getRegex(),fB={blockquote:Tr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",bJ).getRegex(),code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,def:SBe,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Mw,html:MBe,lheading:_J,list:TBe,newline:/^(?: *(?:\n|$))+/,paragraph:bJ,table:Tw,text:/^[^\n]+/},yJ=Tr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Mw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xT).getRegex(),IBe={...fB,table:yJ,paragraph:Tr(dB).replace("hr",Mw).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",yJ).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xT).getRegex()},DBe={...fB,html:Tr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",hB).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Tw,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Tr(dB).replace("hr",Mw).replace("heading"," *#{1,6} *[^\n]").replace("lheading",_J).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},vJ=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,wJ=/^( {2,}|\\)\n(?!\s*$)/,Iw="\\p{P}\\p{S}",kBe=Tr(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Iw).getRegex(),NBe=Tr(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Iw).getRegex(),FBe=Tr("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Iw).getRegex(),LBe=Tr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Iw).getRegex(),BBe=Tr(/\\([punct])/,"gu").replace(/punct/g,Iw).getRegex(),jBe=Tr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),UBe=Tr(hB).replace("(?:--\x3e|$)","--\x3e").getRegex(),VBe=Tr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",UBe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ET=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zBe=Tr(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ET).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),xJ=Tr(/^!?\[(label)\]\[(ref)\]/).replace("label",ET).replace("ref",uB).getRegex(),EJ=Tr(/^!?\[(ref)\](?:\[\])?/).replace("ref",uB).getRegex(),pB={_backpedal:Tw,anyPunctuation:BBe,autolink:jBe,blockSkip:/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,br:wJ,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Tw,emStrongLDelim:NBe,emStrongRDelimAst:FBe,emStrongRDelimUnd:LBe,escape:vJ,link:zBe,nolink:EJ,punctuation:kBe,reflink:xJ,reflinkSearch:Tr("reflink|nolink(?!\\()","g").replace("reflink",xJ).replace("nolink",EJ).getRegex(),tag:VBe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Tw},GBe={...pB,link:Tr(/^!?\[(label)\]\((.*?)\)/).replace("label",ET).getRegex(),reflink:Tr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ET).getRegex()},mB={...pB,escape:Tr(vJ).replace("])","~|])").getRegex(),url:Tr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},WBe={...mB,br:Tr(wJ).replace("{2,}","*").getRegex(),text:Tr(mB.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},CT={normal:fB,gfm:IBe,pedantic:DBe},Dw={normal:pB,gfm:mB,breaks:WBe,pedantic:GBe};class Bd{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||mm,this.options.tokenizer=this.options.tokenizer||new wT,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:CT.normal,inline:Dw.normal};this.options.pedantic?(t.block=CT.pedantic,t.inline=Dw.pedantic):this.options.gfm&&(t.block=CT.gfm,t.inline=this.options.breaks?Dw.breaks:Dw.gfm),this.tokenizer.rules=t}static get rules(){return{block:CT,inline:Dw}}static lex(e,t){return new Bd(t).lex(e)}static lexInline(e,t){return new Bd(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){const i=this.inlineQueue[t];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,t=[]){let i,r,o,s;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(a,c,l)=>c+"    ".repeat(l.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>!!(i=a.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),1===i.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?t.push(i):(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],!r||"paragraph"!==r.type&&"text"!==r.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(r.raw+="\n"+i.raw,r.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text);continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const c=e.slice(1);let l;this.options.extensions.startBlock.forEach(d=>{l=d.call({lexer:this},c),"number"==typeof l&&l>=0&&(a=Math.min(a,l))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){r=t[t.length-1],s&&"paragraph"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),s=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===r.type?(r.raw+="\n"+i.raw,r.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let i,r,o,a,c,l,s=e;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(l=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>!!(i=d.call({lexer:this},e,t))&&(e=e.substring(i.raw.length),t.push(i),!0)))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&"text"===i.type&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,s,l)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e))){e=e.substring(i.raw.length),t.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},h),"number"==typeof f&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(o=e.substring(0,d+1))}if(i=this.tokenizer.inlineText(o)){e=e.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(l=i.raw.slice(-1)),c=!0,r=t[t.length-1],r&&"text"===r.type?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}throw new Error(d)}}return t}}class gm{options;constructor(e){this.options=e||mm}code(e,t,i){const r=(t||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+"\n",r?'<pre><code class="language-'+kc(r)+'">'+(i?e:kc(e,!0))+"</code></pre>\n":"<pre><code>"+(i?e:kc(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e,t){return e}heading(e,t,i){return`<h${t}>${e}</h${t}>\n`}hr(){return"<hr>\n"}list(e,t,i){const r=t?"ol":"ul";return"<"+r+(t&&1!==i?' start="'+i+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e,t,i){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,t,i){const r=fJ(e);if(null===r)return i;let o='<a href="'+(e=r)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+i+"</a>",o}image(e,t,i){const r=fJ(e);if(null===r)return i;let o=`<img src="${e=r}" alt="${i}"`;return t&&(o+=` title="${t}"`),o+=">",o}text(e){return e}}class gB{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}}class jd{options;renderer;textRenderer;constructor(e){this.options=e||mm,this.options.renderer=this.options.renderer||new gm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new gB}static parse(e,t){return new jd(t).parse(e)}static parseInline(e,t){return new jd(t).parseInline(e)}parse(e,t=!0){let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=o,a=this.options.extensions.renderers[s.type].call({parser:this},s);if(!1!==a||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(s.type)){i+=a||"";continue}}switch(o.type){case"space":continue;case"hr":i+=this.renderer.hr();continue;case"heading":{const s=o;i+=this.renderer.heading(this.parseInline(s.tokens),s.depth,_Be(this.parseInline(s.tokens,this.textRenderer)));continue}case"code":i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue;case"table":{const s=o;let a="",c="";for(let d=0;d<s.header.length;d++)c+=this.renderer.tablecell(this.parseInline(s.header[d].tokens),{header:!0,align:s.align[d]});a+=this.renderer.tablerow(c);let l="";for(let d=0;d<s.rows.length;d++){const h=s.rows[d];c="";for(let f=0;f<h.length;f++)c+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:s.align[f]});l+=this.renderer.tablerow(c)}i+=this.renderer.table(a,l);continue}case"blockquote":{const a=this.parse(o.tokens);i+=this.renderer.blockquote(a);continue}case"list":{const s=o,a=s.ordered,c=s.start,l=s.loose;let d="";for(let h=0;h<s.items.length;h++){const f=s.items[h],m=f.checked,g=f.task;let b="";if(f.task){const v=this.renderer.checkbox(!!m);l?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=v+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=v+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:v+" "}):b+=v+" "}b+=this.parse(f.tokens,l),d+=this.renderer.listitem(b,g,!!m)}i+=this.renderer.list(d,a,c);continue}case"html":i+=this.renderer.html(o.text,o.block);continue;case"paragraph":i+=this.renderer.paragraph(this.parseInline(o.tokens));continue;case"text":{let s=o,a=s.tokens?this.parseInline(s.tokens):s.text;for(;r+1<e.length&&"text"===e[r+1].type;)s=e[++r],a+="\n"+(s.tokens?this.parseInline(s.tokens):s.text);i+=t?this.renderer.paragraph(a):a;continue}default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}parseInline(e,t){t=t||this.renderer;let i="";for(let r=0;r<e.length;r++){const o=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const s=this.options.extensions.renderers[o.type].call({parser:this},o);if(!1!==s||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=s||"";continue}}switch(o.type){case"escape":case"text":i+=t.text(o.text);break;case"html":i+=t.html(o.text);break;case"link":i+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":i+=t.image(o.href,o.title,o.text);break;case"strong":i+=t.strong(this.parseInline(o.tokens,t));break;case"em":i+=t.em(this.parseInline(o.tokens,t));break;case"codespan":i+=t.codespan(o.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(o.tokens,t));break;default:{const s='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(s),"";throw new Error(s)}}}return i}}class AT{options;constructor(e){this.options=e||mm}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}const _m=new class $Be{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.#e(Bd.lex,jd.parse);parseInline=this.#e(Bd.lexInline,jd.parseInline);Parser=jd;Renderer=gm;TextRenderer=gB;Lexer=Bd;Tokenizer=wT;Hooks=AT;constructor(...e){this.use(...e)}walkTokens(e,t){let i=[];for(const r of e)switch(i=i.concat(t.call(this,r)),r.type){case"table":{const o=r;for(const s of o.header)i=i.concat(this.walkTokens(s.tokens,t));for(const s of o.rows)for(const a of s)i=i.concat(this.walkTokens(a.tokens,t));break}case"list":i=i.concat(this.walkTokens(r.items,t));break;default:{const o=r;this.defaults.extensions?.childTokens?.[o.type]?this.defaults.extensions.childTokens[o.type].forEach(s=>{const a=o[s].flat(1/0);i=i.concat(this.walkTokens(a,t))}):o.tokens&&(i=i.concat(this.walkTokens(o.tokens,t)))}}return i}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];t.renderers[o.name]=s?function(...a){let c=o.renderer.apply(this,a);return!1===c&&(c=s.apply(this,a)),c}:o.renderer}if("tokenizer"in o){if(!o.level||"block"!==o.level&&"inline"!==o.level)throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&("block"===o.level?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:"inline"===o.level&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),i.renderer){const o=this.defaults.renderer||new gm(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if("options"===s)continue;const c=i.renderer[s],l=o[s];o[s]=(...d)=>{let h=c.apply(o,d);return!1===h&&(h=l.apply(o,d)),h||""}}r.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new wT(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const c=i.tokenizer[s],l=o[s];o[s]=(...d)=>{let h=c.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new AT;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if("options"===s)continue;const c=i.hooks[s],l=o[s];o[s]=AT.passThroughHooks.has(s)?d=>{if(this.defaults.async)return Promise.resolve(c.call(o,d)).then(f=>l.call(o,f));const h=c.call(o,d);return l.call(o,h)}:(...d)=>{let h=c.apply(o,d);return!1===h&&(h=l.apply(o,d)),h}}r.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;r.walkTokens=function(a){let c=[];return c.push(s.call(this,a)),o&&(c=c.concat(o.call(this,a))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Bd.lex(e,t??this.defaults)}parser(e,t){return jd.parse(e,t??this.defaults)}#e(e,t){return(i,r)=>{const o={...r},s={...this.defaults,...o};!0===this.defaults.async&&!1===o.async&&(s.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),s.async=!0);const a=this.#t(!!s.silent,!!s.async);if(typeof i>"u"||null===i)return a(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof i)return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(s.hooks&&(s.hooks.options=s),s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>e(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>t(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(i=s.hooks.preprocess(i));let c=e(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let l=t(c,s);return s.hooks&&(l=s.hooks.postprocess(l)),l}catch(c){return a(c)}}}#t(e,t){return i=>{if(i.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const r="<p>An error occurred:</p><pre>"+kc(i.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(i);throw i}}};function cr(n,e){return _m.parse(n,e)}cr.options=cr.setOptions=function(n){return _m.setOptions(n),lJ(cr.defaults=_m.defaults),cr},cr.getDefaults=function lB(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},cr.defaults=mm,cr.use=function(...n){return _m.use(...n),lJ(cr.defaults=_m.defaults),cr},cr.walkTokens=function(n,e){return _m.walkTokens(n,e)},cr.parseInline=_m.parseInline,cr.Parser=jd,cr.parser=jd.parse,cr.Renderer=gm,cr.TextRenderer=gB,cr.Lexer=Bd,cr.lexer=Bd.lex,cr.Tokenizer=wT,cr.Hooks=AT,cr.parse=cr;const qBe=["*"];let CJ=(()=>{class n{constructor(){this._buttonClick$=new en,this.copied$=this._buttonClick$.pipe(Br(()=>Bs(Mn(!0),h0(3e3).pipe(QL(!1)))),hr(),el(1)),this.copiedText$=this.copied$.pipe(ms(!1),le(t=>t?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["markdown-clipboard"]],standalone:!0,features:[Li],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(i,r){1&i&&(Ye(0,"button",0),ei(1,"async"),Lt("click",function(){return r.onCopyToClipboardClick()}),Xt(2),ei(3,"async"),et()),2&i&&(bn("copied",ti(1,3,r.copied$)),lt(2),jo(ti(3,5,r.copiedText$)))},dependencies:[ud],encapsulation:2,changeDetection:0})}return n})();const KBe=new vt("CLIPBOARD_OPTIONS");var _B=function(n){return n.CommandLine="command-line",n.LineHighlight="line-highlight",n.LineNumbers="line-numbers",n}(_B||{});const AJ=new vt("MARKED_EXTENSIONS"),QBe=new vt("MARKED_OPTIONS"),SJ=new vt("SECURITY_CONTEXT");let bB=(()=>{class n{get options(){return this._options}set options(t){this._options={...this.DEFAULT_MARKED_OPTIONS,...t}}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,i,r,o,s,a,c){this.clipboardOptions=t,this.extensions=i,this.platform=o,this.securityContext=s,this.http=a,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new gm},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new en,this.reload$=this._reload$.asObservable(),this.options=r}parse(t,i=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:r,inline:o,emoji:s,mermaid:a,disableSanitizer:c}=i,l={...this.options,...i.markedOptions},d=l.renderer||this.renderer||new gm;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),a&&(this.renderer=this.extendsRendererForMermaid(d));const h=this.trimIndentation(t),f=r?this.decodeHtml(h):h,m=s?this.parseEmoji(f):f,g=this.parseMarked(m,l,o);return(c?g:this.sanitizer.sanitize(this.securityContext,g))||""}render(t,i=this.DEFAULT_RENDER_OPTIONS,r){const{clipboard:o,clipboardOptions:s,katex:a,katexOptions:c,mermaid:l,mermaidOptions:d}=i;o&&this.renderClipboard(t,r,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...s}),a&&this.renderKatex(t,{...this.DEFAULT_KATEX_OPTIONS,...c}),l&&this.renderMermaid(t,{...this.DEFAULT_MERMAID_OPTIONS,...d}),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(t,{responseType:"text"}).pipe(le(i=>this.handleExtension(t,i)))}highlight(t){if(!hd(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);const i=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(i,r=>r.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!hd(this.platform))return t;const i=document.createElement("textarea");return i.innerHTML=t,i.value}extendsRendererForExtensions(t){const i=t;return!0===i.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&cr.use(...this.extensions),i.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){const i=t;if(!0===i.\u0275NgxMarkdownRendererExtendedForMermaid)return t;const r=t.code;return t.code=function(o,s,a){return"mermaid"===s?`<div class="mermaid">${o}</div>`:r.call(this,o,s,a)},i.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,i){const r=t.lastIndexOf("://"),o=r>-1?t.substring(r+4):t,s=o.lastIndexOf("/"),a=s>-1?o.substring(s+1).split("?")[0]:"",c=a.lastIndexOf("."),l=c>-1?a.substring(c+1):"";return l&&"md"!==l?"```"+l+"\n"+i+"\n```":i}parseMarked(t,i,r=!1){if(i.renderer){const o={...i.renderer};delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete i.renderer,cr.use({renderer:o})}return r?cr.parseInline(t,i):cr.parse(t,i)}parseEmoji(t){if(!hd(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(t)}renderKatex(t,i){if(hd(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(t,i)}}renderClipboard(t,i,r){if(!hd(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!i)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:o,buttonTemplate:s}=r,a=t.querySelectorAll("pre");for(let c=0;c<a.length;c++){const l=a.item(c),d=document.createElement("div");d.style.position="relative",l.parentNode.insertBefore(d,l),d.appendChild(l);const h=document.createElement("div");let f,m;h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",d.insertAdjacentElement("beforeend",h),l.onmouseover=()=>h.style.opacity="1",l.onmouseout=()=>h.style.opacity="0",f=o?i.createComponent(o).hostView:s?i.createEmbeddedView(s):i.createComponent(CJ).hostView,f.rootNodes.forEach(g=>{g.onmouseover=()=>h.style.opacity="1",h.appendChild(g),m=new ClipboardJS(g,{text:()=>l.innerText})}),f.onDestroy(()=>m.destroy())}}renderMermaid(t,i=this.DEFAULT_MERMAID_OPTIONS){if(!hd(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const r=t.querySelectorAll(".mermaid");0!==r.length&&(mermaid.initialize(i),mermaid.run({nodes:r}))}trimIndentation(t){if(!t)return"";let i;return t.split("\n").map(r=>{let o=i;return r.length>0&&(o=isNaN(o)?r.search(/\S|$/):Math.min(r.search(/\S|$/),o)),isNaN(i)&&(i=o),o?r.substring(o):r}).join("\n")}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(KBe,8),Ke(AJ,8),Ke(QBe,8),Ke(Ns),Ke(SJ),Ke(gd,8),Ke(Tp))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})(),TJ=(()=>{class n{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,i,r){this.element=t,this.markdownService=i,this.viewContainerRef=r,this.error=new Qt,this.load=new Qt,this.ready=new Qt,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new en}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Si(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,i=!1){var r=this;return R(function*(){const o={decodeHtml:i,inline:r.inline,emoji:r.emoji,mermaid:r.mermaid,disableSanitizer:r.disableSanitizer},s={clipboard:r.clipboard,clipboardOptions:{buttonComponent:r.clipboardButtonComponent,buttonTemplate:r.clipboardButtonTemplate},katex:r.katex,katexOptions:r.katexOptions,mermaid:r.mermaid,mermaidOptions:r.mermaidOptions},a=yield r.markdownService.parse(t,o);r.element.nativeElement.innerHTML=a,r.handlePlugins(),r.markdownService.render(r.element.nativeElement,s,r.viewContainerRef),r.ready.emit()})()}coerceBooleanProperty(t){return null!=t&&"false"!=`${String(t)}`}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,_B.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,_B.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++){const s=i instanceof Array?i:[i];r.item(o).classList.add(...s)}}setPluginOptions(t,i){const r=t.querySelectorAll("pre");for(let o=0;o<r.length;o++)Object.keys(i).forEach(s=>{const a=i[s];if(a){const c=this.toLispCase(s);r.item(o).setAttribute(c,a.toString())}})}toLispCase(t){const i=t.match(/([A-Z])/g);if(!i)return t;let r=t.toString();for(let o=0,s=i.length;o<s;o++)r=r.replace(new RegExp(i[o]),"-"+i[o].toLowerCase());return"-"===r.slice(0,1)&&(r=r.slice(1)),r}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(bB),be(Ss))};static#t=this.\u0275cmp=un({type:n,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[_r,Li],ngContentSelectors:qBe,decls:1,vars:0,template:function(i,r){1&i&&(br(),Un(0))},encapsulation:2})}return n})();function s3e(n){return[bB,n?.loader??[],n?.clipboardOptions??[],n?.markedOptions??[],{provide:AJ,useValue:n?.markedExtensions??[]},{provide:SJ,useValue:n?.sanitize??Zo.HTML}]}let a3e=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[s3e(t)]}}static forChild(){return{ngModule:n}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi]})}return n})();var MJ;!function(n){let e;var r;let t,i;(r=e=n.SecurityLevel||(n.SecurityLevel={})).Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox",function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"}(t=n.Theme||(n.Theme={})),function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"}(i=n.LogLevel||(n.LogLevel={}))}(MJ||(MJ={}));let c3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,bT,wo,aB,aJ,a3e.forRoot({})]})}return n})(),l3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,c3e,wo,gG]})}return n})(),d3e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})(),yB=(()=>{class n{get obj(){const t=this.findGlobalObject();return Object.defineProperties(this,{obj:{configurable:!1,writable:!1,value:t}}),t}has(t){const{obj:i}=this;return null!=i&&t in i}get(t,i){const{obj:r}=this;return(r&&r[t])??i}set(t,i){const{obj:r}=this;r&&(r[t]=i)}remove(t){const{obj:i}=this;i&&delete i[t]}findGlobalObject(){if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self;try{return new Function("return this;")()}catch{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fb(n){return!0===n}function Ws(n){return null===n||typeof n>"u"}function xa(n){return!Ws(n)}function vB(n){return!!n}function kJ(n){return Ws(n)?n:JSON.parse(JSON.stringify(n))}function PJ(n){return xa(n)&&"object"==typeof n&&function wB(n){return"[object Object]"===Object.prototype.toString.call(n)}(n)}const F3e="NGXS_COMPUTED_OPTION",LJ="NGXS_DATA_META",xB="NGXS_META",BJ="NGXS_ARGUMENT_REGISTRY_META";let jJ=(()=>{class n{constructor(t){this.subscription=null,this.sequence$=new _e(0),t&&(this.subscription=t.subscribe(()=>this.updateSequence()))}get sequenceValue(){return this.sequence$.getValue()}ngOnDestroy(){this.sequence$.next(0),this.subscription?.unsubscribe()}updateSequence(){this.sequence$.next(this.sequenceValue+1)}}return n.\u0275fac=function(t){return new(t||n)(Ke(Fd,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();function Rw(n){return n[LJ]}let ll=(()=>{class n{constructor(t,i,r){n.store=t.get(Fd),n.ngZone=t.get(_n),n.factory=i,n.context=r,n.computed=t.get(jJ),n.injector=t}}return n.store=null,n.computed=null,n.context=null,n.factory=null,n.ngZone=null,n.injector=null,n.\u0275fac=function(t){return new(t||n)(Ke(bi),Ke(QX),Ke(ZX))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();class Wo{constructor(){Wo.statesCachedMeta.clear()}static createStateContext(e){return ll.context.createStateContext(e)}static ensureMappedState(e){if(Ws(ll.factory)||Ws(e))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return(xa(e.name)?Wo.statesCachedMeta.get(e.name):null)||Wo.ensureMeta(e)}static getRepositoryByInstance(e){const i=Rw(Wo.getStateClassByInstance(e))??null;if(Ws(i))throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return i}static getStateClassByInstance(e){return(e??{}).constructor}static clearMetaByInstance(e){const t=Wo.getRepositoryByInstance(e);t.stateMeta.actions={},t.operations={}}static createPayload(e,t){const i={},r=Array.from(e);for(const[o,s]of r.entries()){const a=t?.getPayloadTypeByIndex(o);xa(a)&&(i[a]=s)}return Object.keys(i).length>0?i:null}static createAction(e,t,i){const r=Wo.createPayload(t,i),o=function U3e(n){return class{constructor(t){if(t)for(const i of Object.keys(t))this[i]=t[i]}static get type(){return n}}}(e.type);return new o(r)}static ensureMeta(e){const t=xa(e.name)?ll.factory.states?.find(i=>i.name===e.name):null;return xa(t)&&xa(e.name)&&Wo.statesCachedMeta.set(e.name,t),t}}Wo.statesCachedMeta=new Map,Wo.\u0275fac=function(e){return new(e||Wo)},Wo.\u0275prov=Rt({token:Wo,factory:Wo.\u0275fac}),new class V3e{constructor(){this.subject=new kh(1)}init(){this.subject.next()}onInit(e){this.subject.pipe(function zu(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ei((r,o)=>n(r,o,i)):He,yr(1),t?ib(e):cJ(()=>new Sw))}()).subscribe(e)}reset(){this.subject.complete(),this.subject=new kh(1)}};class H3e extends Error{constructor(e){super(`Child states can only be added to an object. Cannot convert ${xa(e?.constructor)?e.constructor.name:e} to PlainObject`)}}function UJ(n){return n.NGXS_OPTIONS_META??{name:""}}function VJ(n){const e=UJ(n),t=e.children??[],r=kJ(void 0===e.defaults?{}:e.defaults);if(t.length>0){if(PJ(r))return function G3e(n,e){return e.reduce((t,i)=>{const r=UJ(i);if(function Ow(n){const e="string"==typeof n?n.trim():n;return[void 0,null,NaN,"",1/0].includes(e)}(r.name))throw new Error("State name not provided in class");return t[r.name.toString()]=VJ(i),t},n??{})}(r,t);throw new H3e(r)}return r}function zJ(){return`__${F3e}__`}function HJ(n){return n[zJ()]??null}function GJ(){return ll?.computed?.sequenceValue??0}function q3e(n){let e=!1;return lf(n)&&(e=!0),e}function EB(n){return n[BJ]}class X3e extends Error{constructor(e,t){super(`An argument with the name '${e}' already exists in the method '${t}'`)}}class Y3e{constructor(){this.payloadMap=new Map,this.argumentMap=new Map}getPayloadTypeByIndex(e){return this.payloadMap.get(e)??null}getArgumentNameByIndex(e){return this.argumentMap.get(e)??null}createPayloadType(e,t,i){this.checkDuplicateName(e,t),this.payloadMap.set(i,e),this.payloadMap.set(e,e)}createArgumentName(e,t,i){this.checkDuplicateName(e,t),this.argumentMap.set(i,e),this.argumentMap.set(e,e)}checkDuplicateName(e,t){if(vB(this.argumentMap.has(e))||vB(this.payloadMap.has(e)))throw new X3e(e,t)}}function eje(n){return{enumerable:!0,configurable:!0,get(){const e=Rw(n),t=Wo.ensureMappedState(e.stateMeta);return Wo.createStateContext(t)}}}function AB(n){if(!n)throw new Error("You forgot add decorator @StateRepository or initialize state!\nExample: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])");return{...n,getState:()=>n.getState(),setState(e){n.setState(e)},patchState(e){n.patchState(e)}}}const oje={dataActionSubscribeRequired:!0},sje=new vt("NGXS_DATA_CONFIG",{providedIn:"root",factory:()=>oje});let aje=(()=>{class n{constructor(t,i){this.accessor=t,this.injector=i}static forRoot(t=[]){return{ngModule:n,providers:[Wo,ll,jJ,...t]}}}return n.\u0275fac=function(t){return new(t||n)(Ke(Wo,2),Ke(ll,2))},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})();function Wi(){return(n,e,t)=>{!function j3e(n,e){if(!function T3e(n,e){let t=n,i=!1;if(PJ(t))for(;null!==t;){if(fb(t?.hasOwnProperty(e))){i=!!Object.getOwnPropertyDescriptor(t,e)?.get;break}t=Object.getPrototypeOf(t)}return i}(n,e?.toString()))throw new Error(`The method must be a getter for the computed decorator to work properly.\nExample: \n@Computed() get ${e.toString()}() { \n\t .. \n}`)}(n,e);const i=t.get;return t.get=function(...r){const o=function $3e(n){return Ws(HJ(n))&&Object.defineProperties(n,{[zJ()]:{enumerable:!0,configurable:!0,value:new WeakMap}}),HJ(n)}(this),s=o?.get(i);if(fb(s?.isObservable))return s?.value;if(Ws(s)||s.sequenceId!==GJ()){o.delete(i);const c=i.apply(this,r);return o.set(i,{value:c,sequenceId:GJ(),isObservable:q3e(c)}),c}return s?.value},t}}const cje={cancelUncompleted:!0,insideZone:!1,subscribeRequired:!0};function Qn(n={}){const e=function lje(n){const e=ll?.injector?.get(sje,void 0,Pi.Optional),t={...cje};return xa(e)&&void 0!==e?.dataActionSubscribeRequired&&(t.subscribeRequired=e.dataActionSubscribeRequired),{...t,...n}}(n);return(t,i,r)=>{!function B3e(n,e){if(n.hasOwnProperty("prototype"))throw new Error("Cannot support static methods with @DataAction()");if(void 0===e)throw new Error("@DataAction() can only decorate a method implementation")}(t,r);const o=r.value,s=i.toString();return r.value=function(...a){const c=this;let l=null;const d=Wo.getRepositoryByInstance(c),h=d.operations;let f=h[s];const m=d.stateMeta,g=EB(o);if(Ws(f)){const Z=function rje(n){return String(n).replace(/\/\/.*$/gm,"").replace(/\s+/g,"").replace(/\/\*[^*/]*\*\//g,"").split("){",1)?.[0]?.replace(/^[^(]*\(/,"").replace(/=[^,]+/g,"").split(",").filter(Boolean)??[]}(o),G=function z3e(n){const{statePath:e,argumentsNames:t,methodName:i,argumentRegistry:r}=n;let o="";for(let s=0;s<t.length;s++)xa(r?.getArgumentNameByIndex(s))?o+=r?.getArgumentNameByIndex(s):xa(r?.getPayloadTypeByIndex(s))?o+=r?.getPayloadTypeByIndex(s):o+=`$arg${s}`,s!==t.length-1&&(o+=", ");return`@${e.replace(/\./g,"/")}.${i}(${o})`}({statePath:m.path,methodName:s,argumentsNames:Z,argumentRegistry:g});f=h[s]={type:G,options:{cancelUncompleted:e.cancelUncompleted??!1}},xa(f)&&(m.actions[f.type]=[{type:f.type,options:f.options,fn:f.type}])}Wo.ensureMappedState(m).instance[f.type]=()=>(fb(e.insideZone)?ll.ngZone?.run(()=>{l=o.apply(c,a)}):l=o.apply(c,a),lf(l)&&fb(e.subscribeRequired)?Mn(null).pipe(le(()=>l)):l);const D=Wo.createAction(f,a,g),N=ll.store.dispatch(D);return lf(l)?function W3e(n,e){return o0([n,e]).pipe(le(t=>t.pop()))}(N,l):l},r}}function ys(n){return(e,t,i)=>{const r=n.trim();if(!r)throw new Error("Payload name should be initialized");(function K3e(n,e){const t=n[e];return Ws(EB(t))&&Object.defineProperties(t,{[BJ]:{enumerable:!0,configurable:!0,value:new Y3e}}),EB(t)})(e,t).createPayloadType(r,t,i)}}function Hu(){return n=>{const e=function ije(n){if(function g3e(n){return!vB(n)}(n.hasOwnProperty(xB))){const e={name:null,actions:{},defaults:{},path:null,makeRootSelector:t=>t.getStateGetter(e.name),children:[]};Object.defineProperty(n,xB,{value:e})}return function nje(n){return n?.[xB]}(n)}(n);if(Ws(e.name))throw new Error("@StateRepository should be add before decorator @State");!function Z3e(n,e){(function Q3e(n){const e=Rw(n)??null;return(Ws(e)||e?.stateClass!==n)&&function J3e(n){Object.defineProperty(n,LJ,{writable:!0,configurable:!0,enumerable:!0,value:{stateMeta:null,operations:{},stateClass:n}})}(n),Rw(n)}(n)).stateMeta=e}(n,e),function uje(n,e,t){Object.defineProperties(n.prototype,{name:{enumerable:!0,configurable:!0,value:e.name},initialState:{enumerable:!0,configurable:!0,get:()=>kJ(t)},context:eje(n)})}(n,e,VJ(n)),function tje(n){const t=Rw(n)?.stateMeta?.name??null;if(xa(t)){const i=`__${t}__selector`;Object.defineProperties(n.prototype,{[i]:{writable:!0,enumerable:!1,configurable:!0},state$:{enumerable:!0,configurable:!0,get(){if(xa(this[i]))return this[i];if(Ws(ll.store))throw new Error("Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!");return this[i]=ll.store.select(n).pipe(le(r=>r),el({refCount:!0,bufferSize:1})),this[i]}}})}}(n)}}var WJ=function(n){return n.ID="id",n}(WJ||{}),SB=function(n){return n.ASC="asc",n.DESC="desc",n}(SB||{});let TB=(()=>{class n{constructor(){this._dirty=!0,this.browserStorageEvents$=new en,this.isInitialised=!1,this.isBootstrapped=!1}get dirty(){return this._dirty}set dirty(t){this._dirty=t}ngxsOnChanges(t){this.dirty&&this.isBootstrapped&&(this.dirty=!1,this.ngxsDataDoCheck?.())}ngxsOnInit(){this.isInitialised=!0}ngxsAfterBootstrap(){this.isBootstrapped=!0,this.dirty&&(this.dirty=!1,this.ngxsDataDoCheck?.())}markAsDirtyAfterReset(){this.dirty=!0,this.ngxsDataAfterReset?.()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})(),fje=(()=>{class n extends TB{get snapshot(){return this.getState()}get ctx(){return AB(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(n)))(i||n)}})(),n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),Nt([Wi(),Ie("design:type",Object),Ie("design:paramtypes",[])],n.prototype,"snapshot",null),Nt([Qn(),ns(0,ys("patchValue")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"patchState",null),Nt([Qn(),ns(0,ys("stateValue")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"setState",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],n.prototype,"reset",null),n})(),pje=(()=>{class n extends TB{constructor(){super(...arguments),this.primaryKey=WJ.ID,this.comparator=null}get snapshot(){return this.getState()}get ids(){return this.snapshot.ids}get entities(){return this.snapshot.entities}get entitiesArray(){const t=this.snapshot;return t.ids.map(i=>t.entities[i])}get ids$(){return this.state$.pipe(le(t=>t.ids))}get entities$(){return this.state$.pipe(le(t=>t.entities))}get entitiesArray$(){return this.state$.pipe(le(t=>t.ids.map(i=>t.entities[i])))}get ctx(){return AB(this.context)}reset(){this.setEntitiesState(this.initialState),this.markAsDirtyAfterReset()}addOne(t){this.addEntityOne(t)}addMany(t){this.addEntitiesMany(t)}setOne(t){this.setEntityOne(t)}setMany(t){this.setEntitiesMany(t)}setAll(t){this.setEntitiesAll(t)}updateOne(t){this.updateEntitiesMany([t])}updateMany(t){this.updateEntitiesMany(t)}upsertOne(t){this.upsertEntitiesMany([t])}upsertMany(t){this.upsertEntitiesMany(t)}removeOne(t){this.removeEntitiesMany([t])}removeMany(t){this.removeEntitiesMany(t)}removeByEntity(t){const i=this.selectId(t);this.removeEntitiesMany([i])}removeByEntities(t){const i=[];for(const r of t){const o=this.selectId(r);i.push(o)}this.removeEntitiesMany(i)}removeAll(){this.setAll([])}sort(t){this.comparator=t??this.comparator,Ws(this.comparator)?console.warn("You must set the compare function before sorting."):this.setEntitiesState(this.getState())}patchState(t){this.ctx.patchState(t)}setComparator(t){return this.comparator=t,this}dispatch(t){return this.ctx.dispatch(t)}getState(){return this.ctx.getState()}selectId(t){return t?.[this.primaryKey]}selectOne(t){return this.snapshot.entities[t]??null}selectAll(){const t=this.getState();return t.ids.map(i=>t.entities[i])}addEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);r in i.entities||this.setEntitiesState({...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}addEntitiesMany(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities||a in r||(o.push(a),r[a]=s)}o.length>0&&this.setEntitiesState({...i,ids:[...i.ids,...o],entities:{...i.entities,...r}})}setEntitiesAll(t){const i=this.getState(),r={},o=[];for(const s of t){const a=this.selectIdValue(s);a in r||(o.push(a),r[a]=s)}this.setEntitiesState({...i,ids:o,entities:r})}setEntityOne(t){const i=this.getState(),r=this.selectIdValue(t);this.setEntitiesState(r in i.entities?{...i,entities:{...i.entities,[r]:t}}:{...i,ids:[...i.ids,r],entities:{...i.entities,[r]:t}})}setEntitiesMany(t){for(const i of t)this.setEntityOne(i)}updateEntitiesMany(t){const i=this.getState(),r=t.filter(a=>a.id in i.entities);if(0===r.length)return;const o=this.generateKeyMap(i),s={...i.entities};for(const a of r){const c=this.updateOrigin(s,a),l=this.selectIdValue(c);l!==a.id&&(delete o[a.id],delete s[a.id]),o[a.id]=l,s[l]=c}this.setEntitiesState({...i,ids:i.ids.map(a=>o[a]??a),entities:s})}upsertEntitiesMany(t){const i=this.getState(),r=[],o=[];for(const s of t){const a=this.selectIdValue(s);a in i.entities?r.push({id:a,changes:s}):o.push(s)}this.updateMany(r),this.addMany(o)}removeEntitiesMany(t){const i=this.getState(),r=this.generateKeyMap(i),o={...i.entities};for(const s of t)s in o&&(delete r[s],delete o[s]);this.setEntitiesState({...i,ids:i.ids.filter(s=>s in r),entities:o})}setEntitiesState(t){const i=this.sortKeysByComparator(t.ids,t.entities);this.ctx.patchState({...t,ids:i,entities:t.entities})}sortKeysByComparator(t,i){if(Ws(this.comparator))return t;const r=t.slice(),o=this.comparator;return"function"==typeof o?r.sort((s,a)=>o(i[s],i[a])):this.sortByComparatorOptions(r,o,i)}sortByComparatorOptions(t,i,r){switch(i?.sortByOrder){case SB.ASC:return t.sort((o,s)=>function D3e(n,e,t){return e?.[n]>t?.[n]?1:e?.[n]<t?.[n]?-1:0}(i?.sortBy,r[o],r[s]));case SB.DESC:return t.sort((o,s)=>function O3e(n,e,t){return e?.[n]>t?.[n]?-1:e?.[n]<t?.[n]?1:0}(i?.sortBy,r[o],r[s]));default:return t}}generateKeyMap(t){return t.ids.reduce((i,r)=>(i[r]=r,i),{})}updateOrigin(t,i){return{...t[i.id],...i.changes}}selectIdValue(t){const i=this.selectId(t);return Ws(i),i}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(n)))(i||n)}})(),n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),Nt([Wi(),Ie("design:type",Object),Ie("design:paramtypes",[])],n.prototype,"snapshot",null),Nt([Wi(),Ie("design:type",Array),Ie("design:paramtypes",[])],n.prototype,"ids",null),Nt([Wi(),Ie("design:type",Object),Ie("design:paramtypes",[])],n.prototype,"entities",null),Nt([Wi(),Ie("design:type",Array),Ie("design:paramtypes",[])],n.prototype,"entitiesArray",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],n.prototype,"ids$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],n.prototype,"entities$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],n.prototype,"entitiesArray$",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],n.prototype,"reset",null),Nt([Qn(),ns(0,ys("entity")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"addOne",null),Nt([Qn(),ns(0,ys("entities")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"addMany",null),Nt([Qn(),ns(0,ys("entity")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"setOne",null),Nt([Qn(),ns(0,ys("entities")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"setMany",null),Nt([Qn(),ns(0,ys("entities")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"setAll",null),Nt([Qn(),ns(0,ys("update")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"updateOne",null),Nt([Qn(),ns(0,ys("updates")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"updateMany",null),Nt([Qn(),ns(0,ys("entity")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"upsertOne",null),Nt([Qn(),ns(0,ys("entities")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"upsertMany",null),Nt([Qn(),ns(0,ys("id")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"removeOne",null),Nt([Qn(),ns(0,ys("ids")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"removeMany",null),Nt([Qn(),ns(0,ys("entity")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"removeByEntity",null),Nt([Qn(),ns(0,ys("entities")),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],n.prototype,"removeByEntities",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],n.prototype,"removeAll",null),Nt([Qn(),ns(0,ys("comparator")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"sort",null),Nt([Qn(),ns(0,ys("patchValue")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"patchState",null),n})(),bm=(()=>{class n extends TB{get snapshot(){return this.getState()}get ctx(){return AB(this.context)}patchState(t){this.ctx.patchState(t)}setState(t){this.ctx.setState(t)}reset(){this.ctx.setState(this.initialState),this.markAsDirtyAfterReset()}getState(){return this.ctx.getState()}dispatch(t){return this.ctx.dispatch(t)}}return n.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(n)))(i||n)}})(),n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),Nt([Wi(),Ie("design:type",Object),Ie("design:paramtypes",[])],n.prototype,"snapshot",null),Nt([Qn(),ns(0,ys("patchValue")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"patchState",null),Nt([Qn(),ns(0,ys("stateValue")),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],n.prototype,"setState",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],n.prototype,"reset",null),n})();function MB(){return Ei(n=>null!=n)}function IB(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return le(t=>{let i=t;for(let r=0;r<e;r++){const o=i?.[n[r]];if(!(typeof o<"u"))return;i=o}return i})}const mje={};function DB(...n){const e=n[n.length-1];let t=n,i=mje;return"object"==typeof e&&(i=e,t=t.slice(0,-1)),r=>r.pipe(IB(...t),hr(i.compare),el(1))}let cs=class hx extends bm{constructor(){super(...arguments),this.optionCache=new Map}get config$(){return this.state$.pipe(MB(),el(1))}setConfig(e){this.setState(e)}patchConfig(e){this.patchState(e)}getProperty(e){return this.config$.pipe(IB(...e),hr(),el(1))}getOption(...e){const t=this.getPathKey(e);if(this.optionCache.has(t))return this.optionCache.get(t)??Mn();const i=this.config$.pipe(IB(...e),hr(),el(1));return this.optionCache.set(t,i),i}getPathKey(e){return`${e.length}:${e.join(".")}`}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(hx)))(i||hx)}})();static#t=this.\u0275prov=Rt({token:hx,factory:hx.\u0275fac})};Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],cs.prototype,"config$",null),cs=Nt([Hu(),Ld({name:"globalConfig",defaults:null})],cs);const $J="ALLOW_TELEMETRY",gje=qJ();function qJ(){const n=localStorage.getItem($J);return null===n?void 0:"true"===n.toLowerCase()}let OB=class fx extends bm{setAllowTelemetry(e){const t=qJ();localStorage.setItem($J,e.toString()),this.ctx.patchState({allowTelemetry:e}),(void 0!==t||!1===e)&&location.reload()}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=zi(fx)))(i||fx)}})();static#t=this.\u0275prov=Rt({token:fx,factory:fx.\u0275fac})};Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Boolean]),Ie("design:returntype",void 0)],OB.prototype,"setAllowTelemetry",null),OB=Nt([Hu(),Ld({name:"tracking",defaults:{allowTelemetry:gje}})],OB);const XJ={leading:!0,trailing:!1};function YJ(n,e=XJ){return S((t,i)=>{const{leading:r,trailing:o}=e;let s=!1,a=null,c=null,l=!1;const d=()=>{c?.unsubscribe(),c=null,o&&(m(),l&&i.complete())},h=()=>{c=null,l&&i.complete()},f=g=>c=vo(n(g)).subscribe(P(i,d,h)),m=()=>{if(s){s=!1;const g=a;a=null,i.next(g),!l&&f(g)}};t.subscribe(P(i,g=>{s=!0,a=g,(!c||c.closed)&&(r?m():f(g))},()=>{l=!0,(!(o&&s&&c)||c.closed)&&i.complete()}))})}function DT(n,e=p_,t=XJ){const i=h0(n,e);return YJ(()=>i,t)}function OT(){return S((n,e)=>{let t=null;n._refCount++;const i=P(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class RB extends Ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ae(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ht;const t=this.getSubject();e.add(this.source.subscribe(P(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ht.EMPTY)}return e}refCount(){return OT()(this)}}Error;const WT=new vt("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),c3=new vt("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:n}=kt(ni);if(!n)throw new Error("Window is not available");return n}}),RVe=new vt("ngx-data-layer",{providedIn:"root",factory:()=>function OVe(n){return n?n.dataLayer=n.dataLayer||[]:null}(kt(c3))}),XQ=new vt("ngx-gtag-fn",{providedIn:"root",factory:()=>function kVe(n,e){return n?n.gtag=n.gtag||function(){e.push(arguments)}:null}(kt(c3),kt(RVe))});let Ds=(()=>{class n{constructor(t,i,r){this.settings=t,this._document=i,this._gtag=r}get document(){return this._document}throw(t){this.settings.enableTracing&&console&&console.error&&console.error(t)}toKeyValue(t){return t.size>0?Array.from(t).reduce((i,[r,o])=>Object.defineProperty(i,r,{value:o,enumerable:!0}),{}):void 0}gtag(...t){try{this._gtag(...t.filter(i=>void 0!==i))}catch(i){this.throw(i)}}event(t,i,r,o,s,a){try{const c=new Map;i&&c.set("event_category",i),r&&c.set("event_label",r),o&&c.set("value",o),void 0!==s&&c.set("interaction",s),a&&Object.entries(a).map(([d,h])=>c.set(d,h));const l=this.toKeyValue(c);l?this.gtag("event",t,l):this.gtag("event",t)}catch(c){this.throw(c)}}pageView(t,i,r,o){try{const s=new Map([["page_path",t]]);i&&s.set("page_title",i),(r||this.document)&&s.set("page_location",r||this.document.location.href),o&&Object.entries(o).map(([a,c])=>s.set(a,c)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(s))}catch(s){this.throw(s)}}appView(t,i,r,o,s){try{const a=new Map([["screen_name",t],["app_name",i]]);r&&a.set("app_id",r),o&&a.set("app_version",o),s&&a.set("app_installer_id",s),this.gtag("event","screen_view",this.toKeyValue(a))}catch(a){this.throw(a)}}set(...t){try{this._gtag("set",...t)}catch(i){this.throw(i)}}exception(t,i){try{const r=new Map;t&&r.set("description",t),i&&r.set("fatal",i),this.toKeyValue(r)?this.gtag("event","exception",this.toKeyValue(r)):this.gtag("event","exception")}catch(r){this.throw(r)}}}return n.\u0275fac=function(t){return new(t||n)(Ke(WT),Ke(ni),Ke(XQ))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NVe={provide:mR,multi:!0,useFactory:function FVe(n,e,t){return R(function*(){if(!n.trackingCode)return void console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule.");if(!e)return void console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface.");t||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),n.uri=n.uri||`https://www.googletagmanager.com/gtag/js?id=${n.trackingCode}`,n.initCommands=n?.initCommands??[],n.initCommands.find(o=>"config"===o.command)||n.initCommands.unshift({command:"config",values:[n.trackingCode]}),n.initCommands.find(o=>"js"===o.command)||n.initCommands.unshift({command:"js",values:[new Date]});for(const o of n.initCommands)e(o.command,...o.values);const i=t.createElement("script");i.async=!0,i.src=n.uri,n.nonce&&i.setAttribute("nonce",n.nonce),t.getElementsByTagName("head")[0].appendChild(i)})},deps:[WT,XQ,ni]};new vt("ngx-google-analytics-routing-settings",{factory:()=>({})});let KQ=(()=>{class n{static forRoot(t,i=[],r,o,s){return{ngModule:n,providers:[{provide:WT,useValue:{trackingCode:t,initCommands:i,uri:r,enableTracing:o,nonce:s}},NVe]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})(),UVe=(()=>{class n{constructor(t,i){t&&function jVe(n,e){Np(n,"mousemove").pipe(DT(1e3),le(r=>{const{clientWidth:o,clientHeight:s}=n,{clientX:a,clientY:c}=r;return[a,c,o,s].join("_")})).subscribe(r=>e.event("webpage","mousemove",r))}(t.body,i)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(ni),Ke(Ds))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({})}return n})(),VVe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,zh]})}return n})(),Xw=(()=>{class n{constructor(){this.consent="not-set",this.consentChange=new kh(1),this.consentChange.next(this.consent)}ngOnDestroy(){this.consentChange.complete()}setConsent(t){this.consent!==t&&(this.consent=t,this.consentChange.next(t))}unsetConsent(){this.setConsent("not-set")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})(),zVe=(()=>{class n{constructor(t,i,{trackingCode:r}){this.window=i,this.subscriptions=new Ht,this.token=r,this.subscriptions.add(t.consentChange.subscribe(o=>this.toggleGoogleAnalytics("rescinded"===o)))}ngOnDestroy(){this.subscriptions.unsubscribe()}toggleGoogleAnalytics(t){this.window&&(this.window[`ga-disable-${this.token}`]=t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(Xw),Ke(c3),Ke(WT))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();const HVe=new vt("Key under which consent is stored",{providedIn:"root",factory:()=>"ALLOW_TELEMETRY"}),JQ=[Xw,zVe,(()=>{class n{constructor(t,i){this.key=i,this.subscriptions=new Ht;try{this.storage=localStorage}catch{}t.setConsent(this.loadConsent()),this.subscriptions.add(t.consentChange.subscribe(r=>this.saveConsent(r)))}ngOnDestroy(){this.subscriptions.unsubscribe()}loadConsent(){const t=this.storage?.getItem?.(this.key);if(null==t)return"not-set";const i=t.trim().toLowerCase();switch(i){case"given":case"rescinded":return i;default:return"not-set"}}saveConsent(t){this.storage?.setItem?.(this.key,t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(Xw),Ke(HVe))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})()];function GVe(n){return Object.entries(n).reduce((e,[t,i])=>(null!=i&&(e[t]=`${i}`),e),{})}let $Ve=(()=>{class n{static forRoot(t){const{providers:i=[]}=KQ.forRoot(t.gaToken,function WVe(n){const{appName:e,projectName:t,developmentMode:i}=n;return[{command:"set",values:[GVe({appName:e,projectName:t,developmentMode:i})]}]}(t));return{ngModule:n,providers:i}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[...JQ,{provide:mR,multi:!0,useFactory:()=>()=>{},deps:JQ}],imports:[KQ]})}return n})();function qVe(n,e){if(1&n){const t=qi();Ye(0,"button",1),Lt("click",function(){return fn(t),hn(Tn().submit(!0))}),Xt(1),et()}if(2&n){const t=Tn();lt(),yo(" ","not-set"===t.allowTelemetry?"I understand":"Opt in","\n")}}function XVe(n,e){if(1&n){const t=qi();Ye(0,"button",1),Lt("click",function(){return fn(t),hn(Tn().submit(!1))}),Xt(1,"Opt out"),et()}}let YVe=(()=>{class n{get allowTelemetry(){return this.consentService.consent}constructor(t,i,r){this.consentService=i,this.data=r,this.clsName="ccf-tracking-popup",this.container=t.nativeElement}dismiss(){this.data.preClose()}submit(t){this.consentService.setConsent(t?"given":"rescinded"),this.dismiss()}showButton(t){const{allowTelemetry:i}=this;return"not-set"===i||("opt-in"===t?"rescinded"===i:"given"===i)}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(Xw),be(jk))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-tracking-popup"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},decls:4,vars:2,consts:[["mat-button","","color","basic",3,"click",4,"ngIf"],["mat-button","","color","basic",3,"click"]],template:function(i,r){1&i&&(Ye(0,"p"),Xt(1,"We log usage to improve this service."),et(),mn(2,qVe,2,1,"button",0)(3,XVe,2,0,"button",0)),2&i&&(lt(2),Dt("ngIf",r.showButton("opt-in")),lt(),Dt("ngIf",r.showButton("opt-out")))},dependencies:[Za,y_],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-width:400px;color:#ffffffb3;background:#323232;box-shadow:0 3px 5px -1px #0003,0 6px 10px #00000024,0 1px 18px #0000001f;z-index:9999}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{margin:24px}[_nghost-%COMP%]   button[_ngcontent-%COMP%]{margin:1rem;min-width:6rem;background-color:#007cbe;display:flex;justify-content:center}"],changeDetection:0})}return n})();const JVe={connector:()=>new en};function eze(n,e,t,i){t&&!Ze(t)&&(i=t);const r=Ze(t)?t:void 0;return o=>function ZVe(n,e){const t=Ze(n)?n:()=>n;return Ze(e)?function QVe(n,e=JVe){const{connector:t}=e;return S((i,r)=>{const o=t();vo(n(function KVe(n){return new Ct(e=>n.subscribe(e))}(o))).subscribe(r),r.add(i.subscribe(o))})}(e,{connector:t}):i=>new RB(i,t)}(new kh(n,e,i),r)(o)}class tze{}const ize=(n,e)=>JSON.stringify(n)===JSON.stringify(e),rze=n=>n.map(e=>void 0!==e?JSON.parse(JSON.stringify(e)):e),Ul={storageStrategy:class nze extends tze{constructor(){super(...arguments),this.cachePairs=[]}add(e,t,i){this.cachePairs.push(e)}addMany(e){this.cachePairs=e}updateAtIndex(e,t){Object.assign(this.cachePairs[e],t)}update(e,t){Object.assign(this.cachePairs[e],t)}getAll(){return this.cachePairs}removeAtIndex(e){this.cachePairs.splice(e,1)}remove(e){this.cachePairs.splice(e,1)}removeAll(){this.cachePairs.length=0}},globalCacheKey:"CACHE_STORAGE",promiseImplementation:Promise},oze=new en;function Nc(n={}){return function(e,t,i){const r=n.cacheKey||e.constructor.name+"#"+t,o=i.value;if(i&&i.value){let s=n.storageStrategy?new n.storageStrategy:new Ul.storageStrategy;const a=[];n.cacheModifier&&n.cacheModifier.subscribe(d=>s.addMany(d(s.getAll(r,this)),r,this)),Bs(oze.asObservable(),n.cacheBusterObserver?n.cacheBusterObserver:function Cue(n){return n?function Aue(n){return new Ct(e=>n.schedule(()=>e.complete()))}(n):Ls}()).subscribe(d=>{s.removeAll(r,this),a.length=0}),n.cacheResolver=n.cacheResolver||Ul.cacheResolver||ize,n.cacheHasher=n.cacheHasher||Ul.cacheHasher||rze,i.value=function(...d){const h=s.getAll(r,this);let f=n.cacheHasher(d),m=h.find(b=>n.cacheResolver(b.parameters,f));const g=a.find(b=>n.cacheResolver(b.parameters,f));if((n.maxAge||Ul.maxAge)&&m&&m.created&&((new Date).getTime()-new Date(m.created).getTime()>(n.maxAge||Ul.maxAge)?(s.remove?s.remove(h.indexOf(m),m,r,this):s.removeAtIndex(h.indexOf(m),r,this),m=null):(n.slidingExpiration||Ul.slidingExpiration)&&(m.created=new Date,s.update?s.update(h.indexOf(m),m,r,this):s.updateAtIndex(h.indexOf(m),m,r,this))),m){const b=Mn(m.response);return n.async?b.pipe(ZL(0)):b}if(g)return g.response;{const b=o.call(this,...d).pipe(Op(()=>{const v=a.find(D=>n.cacheResolver(D.parameters,f));a.splice(a.indexOf(v),1)}),ur(v=>{(!n.shouldCacheDecider||n.shouldCacheDecider(v))&&((!(n.maxCacheCount||Ul.maxCacheCount)||1===(n.maxCacheCount||Ul.maxCacheCount)||(n.maxCacheCount||Ul.maxCacheCount)&&(n.maxCacheCount||Ul.maxCacheCount)<h.length+1)&&(s.remove?s.remove(0,h[0],r,this):s.removeAtIndex(0,r,this)),s.add({parameters:f,response:v,created:n.maxAge||Ul.maxAge?new Date:null},r,this))}),eze(1),OT());return a.push({parameters:f,response:b,created:new Date}),b}}}return i}}class sze{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const aze=new vt("basePath");class QQ{constructor(e={}){this.apiKeys=e.apiKeys,this.username=e.username,this.password=e.password,this.accessToken=e.accessToken,this.basePath=e.basePath,this.withCredentials=e.withCredentials,this.encoder=e.encoder,this.encodeParam=e.encodeParam?e.encodeParam:t=>this.defaultEncodeParam(t),this.credentials=e.credentials?e.credentials:{}}selectHeaderContentType(e){if(0===e.length)return;const t=e.find(i=>this.isJsonMime(i));return void 0===t?e[0]:t}selectHeaderAccept(e){if(0===e.length)return;const t=e.find(i=>this.isJsonMime(i));return void 0===t?e[0]:t}isJsonMime(e){const t=new RegExp("^(application/json|[^;/ \t]+/[^;/ \t]+[+]json)[ \t]*(;.*)?$","i");return null!==e&&(t.test(e)||"application/json-patch+json"===e.toLowerCase())}lookupCredential(e){const t=this.credentials[e];return"function"==typeof t?t():t}defaultEncodeParam(e){const t="date-time"===e.dataFormat&&e.value instanceof Date?e.value.toISOString():e.value;return encodeURIComponent(String(t))}}let ZQ=(()=>{class n{constructor(t,i,r){this.httpClient=t,this.basePath="https://apps.humanatlas.io/hra-api/v1",this.defaultHeaders=new Cc,this.configuration=new QQ,r&&(this.configuration=r),"string"!=typeof this.configuration.basePath&&("string"!=typeof i&&(i=this.basePath),this.configuration.basePath=i),this.encoder=this.configuration.encoder||new sze}addToHttpParams(t,i,r){return this.addToHttpParamsRecursive(t,i,r)}addToHttpParamsRecursive(t,i,r){if(null==i)return t;if("object"==typeof i)if(Array.isArray(i))i.forEach(o=>t=this.addToHttpParamsRecursive(t,o,r));else if(i instanceof Date){if(null==r)throw Error("key may not be null if value is Date");t=t.append(r,i.toISOString().substr(0,10))}else Object.keys(i).forEach(o=>t=this.addToHttpParamsRecursive(t,i[o],null!=r?`${r}.${o}`:o));else{if(null==r)throw Error("key may not be null if value is not object or array");t=t.append(r,i)}return t}aggregateResults(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,b=t.providers,v=t.sex,D=t.spatial,N=t.technologies,Z=t.token;let G=new jr({encoder:this.encoder});null!=s&&(G=this.addToHttpParams(G,s,"age")),null!=a&&(G=this.addToHttpParams(G,a,"age-range")),null!=c&&(G=this.addToHttpParams(G,c,"bmi")),null!=l&&(G=this.addToHttpParams(G,l,"bmi-range")),null!=d&&(G=this.addToHttpParams(G,d,"cache")),h&&h.forEach(Je=>{G=this.addToHttpParams(G,Je,"ontology-terms")}),f&&f.forEach(Je=>{G=this.addToHttpParams(G,Je,"cell-type-terms")}),m&&m.forEach(Je=>{G=this.addToHttpParams(G,Je,"biomarker-terms")}),g&&g.forEach(Je=>{G=this.addToHttpParams(G,Je,"consortiums")}),b&&b.forEach(Je=>{G=this.addToHttpParams(G,Je,"providers")}),null!=v&&(G=this.addToHttpParams(G,v,"sex")),D&&D.forEach(Je=>{G=this.addToHttpParams(G,Je,"spatial")}),N&&N.forEach(Je=>{G=this.addToHttpParams(G,Je,"technologies")}),null!=Z&&(G=this.addToHttpParams(G,Z,"token"));let Oe=this.defaultHeaders,ze=o&&o.httpHeaderAccept;void 0===ze&&(ze=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ze&&(Oe=Oe.set("Accept",ze));let st=o&&o.context;void 0===st&&(st=new Ho);let pt="json";return ze&&(pt=ze.startsWith("text")?"text":this.configuration.isJsonMime(ze)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/aggregate-results`,{context:st,params:G,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Oe,observe:i,reportProgress:r})}biomarkerTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,b=t.providers,v=t.sex,D=t.spatial,N=t.technologies,Z=t.token;let G=new jr({encoder:this.encoder});null!=s&&(G=this.addToHttpParams(G,s,"age")),null!=a&&(G=this.addToHttpParams(G,a,"age-range")),null!=c&&(G=this.addToHttpParams(G,c,"bmi")),null!=l&&(G=this.addToHttpParams(G,l,"bmi-range")),null!=d&&(G=this.addToHttpParams(G,d,"cache")),h&&h.forEach(Je=>{G=this.addToHttpParams(G,Je,"ontology-terms")}),f&&f.forEach(Je=>{G=this.addToHttpParams(G,Je,"cell-type-terms")}),m&&m.forEach(Je=>{G=this.addToHttpParams(G,Je,"biomarker-terms")}),g&&g.forEach(Je=>{G=this.addToHttpParams(G,Je,"consortiums")}),b&&b.forEach(Je=>{G=this.addToHttpParams(G,Je,"providers")}),null!=v&&(G=this.addToHttpParams(G,v,"sex")),D&&D.forEach(Je=>{G=this.addToHttpParams(G,Je,"spatial")}),N&&N.forEach(Je=>{G=this.addToHttpParams(G,Je,"technologies")}),null!=Z&&(G=this.addToHttpParams(G,Z,"token"));let Oe=this.defaultHeaders,ze=o&&o.httpHeaderAccept;void 0===ze&&(ze=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ze&&(Oe=Oe.set("Accept",ze));let st=o&&o.context;void 0===st&&(st=new Ho);let pt="json";return ze&&(pt=ze.startsWith("text")?"text":this.configuration.isJsonMime(ze)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/biomarker-term-occurences`,{context:st,params:G,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Oe,observe:i,reportProgress:r})}biomarkerTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/biomarker-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}cellTypeTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,b=t.providers,v=t.sex,D=t.spatial,N=t.technologies,Z=t.token;let G=new jr({encoder:this.encoder});null!=s&&(G=this.addToHttpParams(G,s,"age")),null!=a&&(G=this.addToHttpParams(G,a,"age-range")),null!=c&&(G=this.addToHttpParams(G,c,"bmi")),null!=l&&(G=this.addToHttpParams(G,l,"bmi-range")),null!=d&&(G=this.addToHttpParams(G,d,"cache")),h&&h.forEach(Je=>{G=this.addToHttpParams(G,Je,"ontology-terms")}),f&&f.forEach(Je=>{G=this.addToHttpParams(G,Je,"cell-type-terms")}),m&&m.forEach(Je=>{G=this.addToHttpParams(G,Je,"biomarker-terms")}),g&&g.forEach(Je=>{G=this.addToHttpParams(G,Je,"consortiums")}),b&&b.forEach(Je=>{G=this.addToHttpParams(G,Je,"providers")}),null!=v&&(G=this.addToHttpParams(G,v,"sex")),D&&D.forEach(Je=>{G=this.addToHttpParams(G,Je,"spatial")}),N&&N.forEach(Je=>{G=this.addToHttpParams(G,Je,"technologies")}),null!=Z&&(G=this.addToHttpParams(G,Z,"token"));let Oe=this.defaultHeaders,ze=o&&o.httpHeaderAccept;void 0===ze&&(ze=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ze&&(Oe=Oe.set("Accept",ze));let st=o&&o.context;void 0===st&&(st=new Ho);let pt="json";return ze&&(pt=ze.startsWith("text")?"text":this.configuration.isJsonMime(ze)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/cell-type-term-occurences`,{context:st,params:G,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Oe,observe:i,reportProgress:r})}cellTypeTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/cell-type-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}dbStatus(t,i="body",r=!1,o){const s=t.token;let a=new jr({encoder:this.encoder});null!=s&&(a=this.addToHttpParams(a,s,"token"));let c=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(c=c.set("Accept",l));let d=o&&o.context;void 0===d&&(d=new Ho);let h="json";return l&&(h=l.startsWith("text")?"text":this.configuration.isJsonMime(l)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/db-status`,{context:d,params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:i,reportProgress:r})}getSpatialPlacement(t,i="body",r=!1,o){const s=t.getSpatialPlacementRequest;if(null==s)throw new Error("Required parameter getSpatialPlacementRequest was null or undefined when calling getSpatialPlacement.");let a=this.defaultHeaders,c=o&&o.httpHeaderAccept;void 0===c&&(c=this.configuration.selectHeaderAccept(["application/json"])),void 0!==c&&(a=a.set("Accept",c));let l=o&&o.context;void 0===l&&(l=new Ho);const h=this.configuration.selectHeaderContentType(["application/json"]);void 0!==h&&(a=a.set("Content-Type",h));let f="json";return c&&(f=c.startsWith("text")?"text":this.configuration.isJsonMime(c)?"json":"blob"),this.httpClient.post(`${this.configuration.basePath}/get-spatial-placement`,s,{context:l,responseType:f,withCredentials:this.configuration.withCredentials,headers:a,observe:i,reportProgress:r})}gtexRuiLocations(t,i="body",r=!1,o){const s=t.cache;let a=new jr({encoder:this.encoder});null!=s&&(a=this.addToHttpParams(a,s,"cache"));let c=this.defaultHeaders,l=o&&o.httpHeaderAccept;void 0===l&&(l=this.configuration.selectHeaderAccept(["application/json"])),void 0!==l&&(c=c.set("Accept",l));let d=o&&o.context;void 0===d&&(d=new Ho);let h="json";return l&&(h=l.startsWith("text")?"text":this.configuration.isJsonMime(l)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/gtex/rui_locations.jsonld`,{context:d,params:a,responseType:h,withCredentials:this.configuration.withCredentials,headers:c,observe:i,reportProgress:r})}hubmapRuiLocations(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/hubmap/rui_locations.jsonld`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}ontologyTermOccurences(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,b=t.providers,v=t.sex,D=t.spatial,N=t.technologies,Z=t.token;let G=new jr({encoder:this.encoder});null!=s&&(G=this.addToHttpParams(G,s,"age")),null!=a&&(G=this.addToHttpParams(G,a,"age-range")),null!=c&&(G=this.addToHttpParams(G,c,"bmi")),null!=l&&(G=this.addToHttpParams(G,l,"bmi-range")),null!=d&&(G=this.addToHttpParams(G,d,"cache")),h&&h.forEach(Je=>{G=this.addToHttpParams(G,Je,"ontology-terms")}),f&&f.forEach(Je=>{G=this.addToHttpParams(G,Je,"cell-type-terms")}),m&&m.forEach(Je=>{G=this.addToHttpParams(G,Je,"biomarker-terms")}),g&&g.forEach(Je=>{G=this.addToHttpParams(G,Je,"consortiums")}),b&&b.forEach(Je=>{G=this.addToHttpParams(G,Je,"providers")}),null!=v&&(G=this.addToHttpParams(G,v,"sex")),D&&D.forEach(Je=>{G=this.addToHttpParams(G,Je,"spatial")}),N&&N.forEach(Je=>{G=this.addToHttpParams(G,Je,"technologies")}),null!=Z&&(G=this.addToHttpParams(G,Z,"token"));let Oe=this.defaultHeaders,ze=o&&o.httpHeaderAccept;void 0===ze&&(ze=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ze&&(Oe=Oe.set("Accept",ze));let st=o&&o.context;void 0===st&&(st=new Ho);let pt="json";return ze&&(pt=ze.startsWith("text")?"text":this.configuration.isJsonMime(ze)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/ontology-term-occurences`,{context:st,params:G,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Oe,observe:i,reportProgress:r})}ontologyTreeModel(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/ontology-tree-model`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}providerNames(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/provider-names`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}referenceOrganScene(t,i="body",r=!1,o){const s=t.organIri;if(null==s)throw new Error("Required parameter organIri was null or undefined when calling referenceOrganScene.");const a=t.age,c=t.ageRange,l=t.bmi,d=t.bmiRange,h=t.cache,f=t.ontologyTerms,m=t.cellTypeTerms,g=t.biomarkerTerms,b=t.consortiums,v=t.providers,D=t.sex,N=t.spatial,Z=t.technologies,G=t.token;let Oe=new jr({encoder:this.encoder});null!=a&&(Oe=this.addToHttpParams(Oe,a,"age")),null!=c&&(Oe=this.addToHttpParams(Oe,c,"age-range")),null!=l&&(Oe=this.addToHttpParams(Oe,l,"bmi")),null!=d&&(Oe=this.addToHttpParams(Oe,d,"bmi-range")),null!=h&&(Oe=this.addToHttpParams(Oe,h,"cache")),f&&f.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"ontology-terms")}),m&&m.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"cell-type-terms")}),g&&g.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"biomarker-terms")}),null!=s&&(Oe=this.addToHttpParams(Oe,s,"organ-iri")),b&&b.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"consortiums")}),v&&v.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"providers")}),null!=D&&(Oe=this.addToHttpParams(Oe,D,"sex")),N&&N.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"spatial")}),Z&&Z.forEach(yt=>{Oe=this.addToHttpParams(Oe,yt,"technologies")}),null!=G&&(Oe=this.addToHttpParams(Oe,G,"token"));let ze=this.defaultHeaders,st=o&&o.httpHeaderAccept;void 0===st&&(st=this.configuration.selectHeaderAccept(["application/json"])),void 0!==st&&(ze=ze.set("Accept",st));let pt=o&&o.context;void 0===pt&&(pt=new Ho);let Je="json";return st&&(Je=st.startsWith("text")?"text":this.configuration.isJsonMime(st)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/reference-organ-scene`,{context:pt,params:Oe,responseType:Je,withCredentials:this.configuration.withCredentials,headers:ze,observe:i,reportProgress:r})}referenceOrgans(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/reference-organs`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}scene(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,b=t.providers,v=t.sex,D=t.spatial,N=t.technologies,Z=t.token;let G=new jr({encoder:this.encoder});null!=s&&(G=this.addToHttpParams(G,s,"age")),null!=a&&(G=this.addToHttpParams(G,a,"age-range")),null!=c&&(G=this.addToHttpParams(G,c,"bmi")),null!=l&&(G=this.addToHttpParams(G,l,"bmi-range")),null!=d&&(G=this.addToHttpParams(G,d,"cache")),h&&h.forEach(Je=>{G=this.addToHttpParams(G,Je,"ontology-terms")}),f&&f.forEach(Je=>{G=this.addToHttpParams(G,Je,"cell-type-terms")}),m&&m.forEach(Je=>{G=this.addToHttpParams(G,Je,"biomarker-terms")}),g&&g.forEach(Je=>{G=this.addToHttpParams(G,Je,"consortiums")}),b&&b.forEach(Je=>{G=this.addToHttpParams(G,Je,"providers")}),null!=v&&(G=this.addToHttpParams(G,v,"sex")),D&&D.forEach(Je=>{G=this.addToHttpParams(G,Je,"spatial")}),N&&N.forEach(Je=>{G=this.addToHttpParams(G,Je,"technologies")}),null!=Z&&(G=this.addToHttpParams(G,Z,"token"));let Oe=this.defaultHeaders,ze=o&&o.httpHeaderAccept;void 0===ze&&(ze=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ze&&(Oe=Oe.set("Accept",ze));let st=o&&o.context;void 0===st&&(st=new Ho);let pt="json";return ze&&(pt=ze.startsWith("text")?"text":this.configuration.isJsonMime(ze)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/scene`,{context:st,params:G,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Oe,observe:i,reportProgress:r})}sennetRuiLocations(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/sennet/rui_locations.jsonld`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}sparql(t,i="body",r=!1,o){const s=t.query;if(null==s)throw new Error("Required parameter query was null or undefined when calling sparql.");const a=t.token,c=t.format;let l=new jr({encoder:this.encoder});null!=s&&(l=this.addToHttpParams(l,s,"query")),null!=a&&(l=this.addToHttpParams(l,a,"token")),null!=c&&(l=this.addToHttpParams(l,c,"format"));let d=this.defaultHeaders,h=o&&o.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","text/csv"])),void 0!==h&&(d=d.set("Accept",h));let f=o&&o.context;void 0===f&&(f=new Ho);let m="json";return h&&(m=h.startsWith("text")?"text":this.configuration.isJsonMime(h)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/sparql`,{context:f,params:l,responseType:m,withCredentials:this.configuration.withCredentials,headers:d,observe:i,reportProgress:r})}sparqlPost(t,i="body",r=!1,o){const s=t.sparqlQueryRequest;if(null==s)throw new Error("Required parameter sparqlQueryRequest was null or undefined when calling sparqlPost.");const a=t.token,c=t.format;let l=new jr({encoder:this.encoder});null!=a&&(l=this.addToHttpParams(l,a,"token")),null!=c&&(l=this.addToHttpParams(l,c,"format"));let d=this.defaultHeaders,h=o&&o.httpHeaderAccept;void 0===h&&(h=this.configuration.selectHeaderAccept(["application/json","text/csv"])),void 0!==h&&(d=d.set("Accept",h));let f=o&&o.context;void 0===f&&(f=new Ho);const g=this.configuration.selectHeaderContentType(["application/json","application/x-www-form-urlencoded"]);void 0!==g&&(d=d.set("Content-Type",g));let b="json";return h&&(b=h.startsWith("text")?"text":this.configuration.isJsonMime(h)?"json":"blob"),this.httpClient.post(`${this.configuration.basePath}/sparql`,s,{context:f,params:l,responseType:b,withCredentials:this.configuration.withCredentials,headers:d,observe:i,reportProgress:r})}technologyNames(t,i="body",r=!1,o){const s=t.cache,a=t.token;let c=new jr({encoder:this.encoder});null!=s&&(c=this.addToHttpParams(c,s,"cache")),null!=a&&(c=this.addToHttpParams(c,a,"token"));let l=this.defaultHeaders,d=o&&o.httpHeaderAccept;void 0===d&&(d=this.configuration.selectHeaderAccept(["application/json"])),void 0!==d&&(l=l.set("Accept",d));let h=o&&o.context;void 0===h&&(h=new Ho);let f="json";return d&&(f=d.startsWith("text")?"text":this.configuration.isJsonMime(d)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/technology-names`,{context:h,params:c,responseType:f,withCredentials:this.configuration.withCredentials,headers:l,observe:i,reportProgress:r})}tissueBlocks(t,i="body",r=!1,o){const s=t.age,a=t.ageRange,c=t.bmi,l=t.bmiRange,d=t.cache,h=t.ontologyTerms,f=t.cellTypeTerms,m=t.biomarkerTerms,g=t.consortiums,b=t.providers,v=t.sex,D=t.spatial,N=t.technologies,Z=t.token;let G=new jr({encoder:this.encoder});null!=s&&(G=this.addToHttpParams(G,s,"age")),null!=a&&(G=this.addToHttpParams(G,a,"age-range")),null!=c&&(G=this.addToHttpParams(G,c,"bmi")),null!=l&&(G=this.addToHttpParams(G,l,"bmi-range")),null!=d&&(G=this.addToHttpParams(G,d,"cache")),h&&h.forEach(Je=>{G=this.addToHttpParams(G,Je,"ontology-terms")}),f&&f.forEach(Je=>{G=this.addToHttpParams(G,Je,"cell-type-terms")}),m&&m.forEach(Je=>{G=this.addToHttpParams(G,Je,"biomarker-terms")}),g&&g.forEach(Je=>{G=this.addToHttpParams(G,Je,"consortiums")}),b&&b.forEach(Je=>{G=this.addToHttpParams(G,Je,"providers")}),null!=v&&(G=this.addToHttpParams(G,v,"sex")),D&&D.forEach(Je=>{G=this.addToHttpParams(G,Je,"spatial")}),N&&N.forEach(Je=>{G=this.addToHttpParams(G,Je,"technologies")}),null!=Z&&(G=this.addToHttpParams(G,Z,"token"));let Oe=this.defaultHeaders,ze=o&&o.httpHeaderAccept;void 0===ze&&(ze=this.configuration.selectHeaderAccept(["application/json"])),void 0!==ze&&(Oe=Oe.set("Accept",ze));let st=o&&o.context;void 0===st&&(st=new Ho);let pt="json";return ze&&(pt=ze.startsWith("text")?"text":this.configuration.isJsonMime(ze)?"json":"blob"),this.httpClient.get(`${this.configuration.basePath}/tissue-blocks`,{context:st,params:G,responseType:pt,withCredentials:this.configuration.withCredentials,headers:Oe,observe:i,reportProgress:r})}}return n.\u0275fac=function(t){return new(t||n)(Ke(gd),Ke(aze,8),Ke(QQ,8))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l3=new en,Cb={cacheBusterObserver:l3},vm={cacheBusterObserver:l3,maxCacheCount:4};function eZ(n,e,t){return n?{min:n[0]>e?n[0]:void 0,max:n[1]<t?n[1]:void 0}:void 0}function cze(n){return{age:eZ(n?.ageRange,1,110),bmi:eZ(n?.bmiRange,13,83),sex:n?.sex?.toLowerCase?.(),ontologyTerms:n?.ontologyTerms,cellTypeTerms:n?.cellTypeTerms,biomarkerTerms:n?.biomarkerTerms,consortiums:n?.consortiums,providers:n?.tmc,technologies:n?.technologies,spatial:n?.spatialSearches}}function tZ(n){return n.map(e=>({...e,transformMatrix:new Bt(e.transformMatrix??[])}))}class $s{constructor(e,t){this.api=e,this.globalConfig=t,t.getOption("hubmapToken").subscribe(l3)}getDatabaseStatus(){return this.doRequest(e=>this.api.dbStatus(e))}getProviderNames(){return this.doRequest(e=>this.api.providerNames(e))}getDatasetTechnologyNames(){return this.doRequest(e=>this.api.technologyNames(e))}getOntologyTreeModel(){return this.doRequest(e=>this.api.ontologyTreeModel(e),void 0,{},n=>n)}getCellTypeTreeModel(){return this.doRequest(e=>this.api.cellTypeTreeModel(e),void 0,{},n=>n)}getBiomarkerTreeModel(){return this.doRequest(e=>this.api.biomarkerTreeModel(e),void 0,{},n=>n)}getReferenceOrgans(){return this.doRequest(e=>this.api.referenceOrgans(e),void 0,{},n=>n)}getTissueBlockResults(e){return this.doRequest(t=>this.api.tissueBlocks(t),e,{},n=>n)}getAggregateResults(e){return this.doRequest(t=>this.api.aggregateResults(t),e)}getOntologyTermOccurences(e){return this.doRequest(t=>this.api.ontologyTermOccurences(t),e)}getCellTypeTermOccurences(e){return this.doRequest(t=>this.api.cellTypeTermOccurences(t),e)}getBiomarkerTermOccurences(e){return this.doRequest(t=>this.api.biomarkerTermOccurences(t),e)}getScene(e){return this.doRequest(t=>this.api.scene(t),e,{},tZ)}getReferenceOrganScene(e,t){return this.doRequest(i=>this.api.referenceOrganScene(i),t,{organIri:e},tZ)}doRequest(e,t,i,r){const{api:o,globalConfig:s}=this,a={...cze(t),...i};return zo([s.getOption("remoteApiEndpoint"),s.getOption("hubmapToken")]).pipe(yr(1),ur(([c,l])=>{o.configuration.basePath=c,l&&(a.token=l)}),Br(()=>e(a)),le(c=>r?r(c):c))}static#e=this.\u0275fac=function(t){return new(t||$s)(Ke(ZQ),Ke(cs))};static#t=this.\u0275prov=Rt({token:$s,factory:$s.\u0275fac,providedIn:"root"})}function cc(n){return new Promise((e,t)=>{n.oncomplete=n.onsuccess=()=>e(n.result),n.onabort=n.onerror=()=>t(n.error)})}let d3;function Vl(){return d3||(d3=function lze(n,e){const t=indexedDB.open(n);t.onupgradeneeded=()=>t.result.createObjectStore(e);const i=cc(t);return(r,o)=>i.then(s=>o(s.transaction(e,r).objectStore(e)))}("keyval-store","keyval")),d3}function dze(n,e=Vl()){return e("readonly",t=>cc(t.get(n)))}function uze(n,e=Vl()){return e("readwrite",t=>(n.forEach(i=>t.put(i[1],i[0])),cc(t.transaction)))}function hze(n,e=Vl()){return e("readwrite",t=>(n.forEach(i=>t.delete(i)),cc(t.transaction)))}Nt([Nc(Cb),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Ct)],$s.prototype,"getProviderNames",null),Nt([Nc(Cb),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Ct)],$s.prototype,"getDatasetTechnologyNames",null),Nt([Nc(Cb),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Ct)],$s.prototype,"getOntologyTreeModel",null),Nt([Nc(Cb),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Ct)],$s.prototype,"getCellTypeTreeModel",null),Nt([Nc(Cb),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Ct)],$s.prototype,"getBiomarkerTreeModel",null),Nt([Nc(Cb),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",Ct)],$s.prototype,"getReferenceOrgans",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],$s.prototype,"getTissueBlockResults",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],$s.prototype,"getAggregateResults",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],$s.prototype,"getOntologyTermOccurences",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],$s.prototype,"getCellTypeTermOccurences",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],$s.prototype,"getBiomarkerTermOccurences",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],$s.prototype,"getScene",null),Nt([Nc(vm),Ie("design:type",Function),Ie("design:paramtypes",[String,Object]),Ie("design:returntype",Ct)],$s.prototype,"getReferenceOrganScene",null),T(7783);var fze=T(4515),pze=T.n(fze);const Kw="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Jw="http://www.w3.org/2001/XMLSchema#",h3="http://www.w3.org/2000/10/swap/",Ea={xsd:{decimal:`${Jw}decimal`,boolean:`${Jw}boolean`,double:`${Jw}double`,integer:`${Jw}integer`,string:`${Jw}string`},rdf:{type:`${Kw}type`,nil:`${Kw}nil`,first:`${Kw}first`,rest:`${Kw}rest`,langString:`${Kw}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${h3}reify#forSome`,forAll:`${h3}reify#forAll`},log:{implies:`${h3}log#implies`}},{xsd:$T}=Ea,mze=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,nZ={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},gze=/[\x00-\x20<>\\"\{\}\|\^\`]/,_ze={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},bze=/$0^/;class iZ{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,this._lineMode=!!(e=e||{}).lineMode){this._n3Mode=!1;for(const t in this)!(t in _ze)&&this[t]instanceof RegExp&&(this[t]=bze)}else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let i=this._input,r=i.length;for(;;){let a,c;for(;a=this._newline.exec(i);)this._comments&&(c=this._comment.exec(a[0]))&&o("comment",c[1],"",this._line,a[0].length),i=i.substr(a[0].length,i.length),r=i.length,this._line++;if(!a&&(a=this._whitespace.exec(i))&&(i=i.substr(a[0].length,i.length)),this._endOfFile.test(i))return t&&(this._comments&&(c=this._comment.exec(i))&&o("comment",c[1],"",this._line,i.length),i=null,o("eof","","",this._line,0)),this._input=i;const l=this._line,d=i[0];let h="",f="",m="",g=null,b=0,v=!1;switch(d){case"^":if(i.length<3)break;if("^"!==i[1]){this._n3Mode&&(b=1,h="^");break}if(this._previousMarker="^^",i=i.substr(2),"<"!==i[0]){v=!0;break}case"<":if(g=this._unescapedIri.exec(i))h="IRI",f=g[1];else if(g=this._iri.exec(i)){if(f=this._unescape(g[1]),null===f||gze.test(f))return s(this);h="IRI"}else i.length>1&&"<"===i[1]?(h="<<",b=2):this._n3Mode&&i.length>1&&"="===i[1]&&(h="inverse",b=2,f=">");break;case">":i.length>1&&">"===i[1]&&(h=">>",b=2);break;case"_":((g=this._blank.exec(i))||t&&(g=this._blank.exec(`${i} `)))&&(h="blank",m="_",f=g[1]);break;case'"':if(g=this._simpleQuotedString.exec(i))f=g[1];else if(({value:f,matchLength:b}=this._parseLiteral(i)),null===f)return s(this);(null!==g||0!==b)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(g=this._simpleApostropheString.exec(i))f=g[1];else if(({value:f,matchLength:b}=this._parseLiteral(i)),null===f)return s(this);(null!==g||0!==b)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(g=this._variable.exec(i))&&(h="var",f=g[0]);break;case"@":"literal"===this._previousMarker&&(g=this._langcode.exec(i))?(h="langcode",f=g[1]):(g=this._keyword.exec(i))&&(h=g[0]);break;case".":if(1===i.length?t:i[1]<"0"||i[1]>"9"){h=".",b=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(g=this._number.exec(i)||t&&(g=this._number.exec(`${i} `)))&&(h="literal",f=g[0],m="string"==typeof g[1]?$T.double:"string"==typeof g[2]?$T.decimal:$T.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(g=this._sparqlKeyword.exec(i))?h=g[0].toUpperCase():v=!0;break;case"f":case"t":(g=this._boolean.exec(i))?(h="literal",f=g[0],m=$T.boolean):v=!0;break;case"a":(g=this._shortPredicates.exec(i))?(h="abbreviation",f="a"):v=!0;break;case"=":this._n3Mode&&i.length>1&&(h="abbreviation",">"!==i[1]?(b=1,f="="):(b=2,f=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(b=1,h=d);break;case"{":!this._lineMode&&i.length>=2&&("|"===i[1]?(h="{|",b=2):(h=d,b=1));break;case"|":i.length>=2&&"}"===i[1]&&(h="|}",b=2);break;default:v=!0}if(v&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(g=this._prefix.exec(i))?((g=this._prefixed.exec(i))||t&&(g=this._prefixed.exec(`${i} `)))&&(h="prefixed",m=g[1]||"",f=this._unescape(g[2])):(h="prefix",f=g[1]||"")),"^^"===this._previousMarker)switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return t||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?s(this):this._input=i;const D=b||g[0].length,N=o(h,f,m,l,D);this.previousToken=N,this._previousMarker=h,i=i.substr(D,i.length)}function o(a,c,l,d,h){const f=i?r-i.length:r,g={type:a,value:c,prefix:l,line:d,start:f,end:f+h};return e(null,g),g}function s(a){e(a._syntaxError(/^\S*/.exec(i)[0]))}}_unescape(e){let t=!1;const i=e.replace(mze,(r,o,s,a)=>{if("string"==typeof o)return String.fromCharCode(Number.parseInt(o,16));if("string"==typeof s){let c=Number.parseInt(s,16);return c<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((c-=65536)>>10),56320+(1023&c))}return a in nZ?nZ[a]:(t=!0,"")});return t?null:i}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],i=t.length;let r=Math.max(this._literalClosingPos,i);for(;(r=e.indexOf(t,r))>0;){let o=0;for(;"\\"===e[r-o-1];)o++;if(o%2==0){const s=e.substring(i,r),a=s.split(/\r\n|\r|\n/).length-1,c=r+i;if(1===i&&0!==a||3===i&&this._lineMode)break;return this._line+=a,{value:this._unescape(s),matchLength:c}}r++}this._literalClosingPos=e.length-i+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"==typeof e){if(this._input=this._readStartingBom(e),"function"!=typeof t){const i=[];let r;if(this._tokenizeToEnd((o,s)=>o?r=o:i.push(s),!0),r)throw r;return i}pze()(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",i=>{null!==this._input&&0!==i.length&&(this._pendingBuffer&&(i=Buffer.concat([this._pendingBuffer,i]),this._pendingBuffer=null),128&i[i.length-1]?this._pendingBuffer=i:(typeof this._input>"u"?this._input=this._readStartingBom("string"==typeof i?i:i.toString()):this._input+=i,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"==typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:yze,xsd:wm}=Ea;let Qw,vze=0;const f3={namedNode:function wze(n){return new p3(n)},blankNode:function xze(n){return new oZ(n||"n3-"+vze++)},variable:function Cze(n){return new sZ(n)},literal:function Eze(n,e){if("string"==typeof e)return new xm(`"${n}"@${e.toLowerCase()}`);let t=e?e.value:"";return""===t&&("boolean"==typeof n?t=wm.boolean:"number"==typeof n&&(Number.isFinite(n)?t=Number.isInteger(n)?wm.integer:wm.double:(t=wm.double,Number.isNaN(n)||(n=n>0?"INF":"-INF")))),new xm(""===t||t===wm.string?`"${n}"`:`"${n}"^^${t}`)},defaultGraph:function Aze(){return Qw},quad:cZ,triple:cZ},dl=f3;class zl{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof zl?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class p3 extends zl{get termType(){return"NamedNode"}}class xm extends zl{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new p3(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,i=t<e.length?e[t]:"";return"^"===i?e.substr(t+2):"@"!==i?wm.string:yze.langString}equals(e){return e instanceof xm?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class oZ extends zl{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class sZ extends zl{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}Qw=new class aZ extends zl{constructor(){return super(""),Qw||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};class m3 extends zl{constructor(e,t,i,r){super(""),this._subject=e,this._predicate=t,this._object=i,this._graph=r||Qw}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function cZ(n,e,t,i){return new m3(n,e,t,i)}let lZ=0;function _3(){}function dZ(n,e){const t=e.namedNode;n._namedNode=t,n._blankNode=e.blankNode,n._literal=e.literal,n._variable=e.variable,n._quad=e.quad,n.DEFAULTGRAPH=e.defaultGraph(),n.RDF_FIRST=t(Ea.rdf.first),n.RDF_REST=t(Ea.rdf.rest),n.RDF_NIL=t(Ea.rdf.nil),n.N3_FORALL=t(Ea.r.forAll),n.N3_FORSOME=t(Ea.r.forSome),n.ABBREVIATIONS={a:t(Ea.rdf.type),"=":t(Ea.owl.sameAs),">":t(Ea.log.implies)},n.QUANTIFIERS_GRAPH=t("urn:n3:quantifiers")}function Sze(n){return!!n&&"NamedNode"===n.termType}function Tze(n){return!!n&&"BlankNode"===n.termType}function Mze(n){return!!n&&"Literal"===n.termType}function Ize(n){return!!n&&"Variable"===n.termType}function Zw(n){return!!n&&"DefaultGraph"===n.termType}function Dze(n){return Zw(n.graph)}function Oze(n,e){return b3({"":n.value||n},e)("")}function b3(n,e){const t=Object.create(null);for(const r in n)i(r,n[r]);function i(r,o){if("string"==typeof o){const s=Object.create(null);t[r]=a=>s[a]||(s[a]=e.namedNode(o+a))}else if(!(r in t))throw new Error(`Unknown prefix: ${r}`);return t[r]}return e=e||dl,i}dZ(class g3{constructor(e){this._contextStack=[],this._graph=null,this._setBase((e=e||{}).baseIRI),e.factory&&dZ(this,e.factory);const t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(t),r=/trig/.test(t),o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),c=o||s;(this._supportsNamedGraphs=!(i||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||r||o||a),this._supportsRDFStar=""===t||/star|\*$/.test(t),c&&(this._resolveRelativeIRI=l=>null),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new iZ({lineMode:c,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){lZ=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,i,r,o){const s=this._n3Mode;this._contextStack.push({type:e,subject:i,predicate:r,object:o,graph:t,inverse:!!s&&this._inversePredicate,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const i=this._contextStack.pop();if(!i||i.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=i.subject,this._predicate=i.predicate,this._object=i.object,this._graph=i.graph,this._n3Mode&&(this._inversePredicate=i.inverse,this._prefixes._=i.blankPrefix,this._quantified=i.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let i;switch(e.type){case"IRI":case"typeIRI":const r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);i=this._namedNode(r);break;case"type":case"prefixed":const o=this._prefixes[e.prefix];if(void 0===o)return this._error(`Undefined prefix "${e.prefix}:"`,e);i=this._namedNode(o+e.value);break;case"blank":i=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":i=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error(`Unexpected ${t}`,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,i=null,r=this._readListItem;const o=this._subject,s=this._contextStack,a=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,i=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==s.length&&"list"===s[s.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;i=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===i&&(this._subject=i=this._blankNode()),null===o?null===a.predicate?a.subject=i:a.object=i:this._emit(o,this.RDF_REST,i,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,i,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,t,this._graph)}return r}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const i=this._readEntity(e);if(void 0===i)return;t=this._literal(this._literalValue,i),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const i=this._completeLiteral(e);if(i)return this._object=i.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===i.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,i=this._graph;const r=this._subject,o=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,o&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);this._subject=this._quad(r,this._predicate,this._object,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(i=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(null!==r){const s=this._predicate,a=this._object;o?this._emit(a,s,r,i):this._emit(r,s,a,i)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,i=t.length&&t[t.length-1];if(i&&"item"===i.type){const r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,i;const r=this._blankNode();if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,i,r,this._graph),this._readPath}_readBackwardPath(e){const t=this._blankNode();let i,r;if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=t):(r=this._object,this._object=t),this._emit(t,i,r,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error(`Expected >> but got ${e.type}`,e);const t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,i,r){this._callback(null,this._quad(e,t,i,r||this.DEFAULTGRAPH))}_error(e,t){const i=new Error(`${e} on line ${t.line}.`);i.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=_3}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let i="",r=-1,o=-1,s=0,a="/";for(;r<t;){switch(a){case":":if(o<0&&"/"===e[++r]&&"/"===e[++r])for(;(o=r+1)<t&&"/"!==e[o];)r=o;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(a=e[1+ ++r],a){case"/":i+=e.substring(s,r-1),s=r+1;break;case void 0:case"?":case"#":return i+e.substring(s,r)+e.substr(r+1);case".":if(a=e[1+ ++r],void 0===a||"/"===a||"?"===a||"#"===a){if(i+=e.substring(s,r-2),(s=i.lastIndexOf("/"))>=o&&(i=i.substr(0,s)),"/"!==a)return`${i}/${e.substr(r+1)}`;s=r+1}}}a=e[++r]}return i+e.substring(s)}parse(e,t,i){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${lZ++}_`,this._prefixCallback=i||_3,this._inversePredicate=!1,this._quantified=Object.create(null),!t){const r=[];let o;if(this._callback=(s,a)=>{s?o=s:a&&r.push(a)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),o)throw o;return r}this._callback=t,this._lexer.tokenize(e,(r,o)=>{null!==r?(this._callback(r),this._callback=_3):this._readCallback&&(this._readCallback=this._readCallback(o))})}}.prototype,dl),dl.defaultGraph();T(6947);function _Z(n,e,t,i,r){return n.readQuads(e,t,i,r)}Symbol,Symbol,T(2130),T(2475),T(689);var nx=T(7376),Lze=T(1994);const vr=b3({base:"http://purl.org/ccf/latest/ccf.owl#",ccf:"http://purl.org/ccf/",fma:"http://purl.org/sig/ont/fma/fma",obo:"http://purl.obolibrary.org/obo/",uberon:"http://purl.obolibrary.org/obo/UBERON_",cl:"http://purl.obolibrary.org/obo/CL_",lmha:"http://purl.obolibrary.org/obo/LMHA_",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/"},dl),wn=(vr("rdf"),vr("rdf")("type"),vr("rdfs"),vr("rdfs")("label"),vr("rdfs")("comment"),vr("rdfs")("isDefinedBy"),vr("rdfs")("seeAlso"),vr("ccf")),Gu=(vr("ccf")("has_registration_location"),vr("rdfs")("label"),vr("rdfs")("comment"),wn("url"),wn("sex"),wn("age"),wn("bmi"),dl.literal("Male"),dl.literal("Female"),wn("consortium_name"),wn("tissue_provider_name"),wn("tissue_provider_uuid"),wn("comes_from"),wn("subdivided_into_sections"),wn("generates_dataset"),wn("sample_type"),dl.literal("Tissue Block"),dl.literal("Tissue Section"),dl.literal("Non-standard"),wn("section_count"),wn("section_size"),wn("section_size_unit"),wn("section_number"),wn("has_registration_location"),wn("has_ontology_term"),wn("has_cell_type_term"),wn("has_biomarker_term"),wn("technology"),wn("thumbnail"),{x:wn,base:vr("base"),ontologyNode:{label:wn("ccf_pref_label"),parent:wn("ccf_part_of"),children:wn("ccf_part_of"),rui_rank:wn("rui_rank"),synonymLabels:dl.namedNode("http://www.geneontology.org/formats/oboInOwl#hasExactSynonym")},asctb:{part_of:wn("ccf_part_of"),ct_is_a:wn("ccf_ct_isa"),located_in:wn("ccf_located_in"),characterizes:wn("ccf_characterizes"),bm_located_in:wn("ccf_bm_located_in")},spatial:{Female:vr("base")("VHFemale"),Male:vr("base")("VHMale"),BothSexes:vr("base")("VHBothSexes"),FemaleOrgans:vr("base")("VHFemaleOrgans"),MaleOrgans:vr("base")("VHMaleOrgans")},SpatialObjectReference:wn("spatial_object_reference"),SpatialEntity:wn("spatial_entity"),SpatialPlacement:wn("spatial_placement"),spatialObjectReference:{file:wn("file_url"),file_format:wn("file_format"),file_subpath:wn("file_subpath")},extractionSet:{label:vr("rdfs")("label"),rui_rank:wn("rui_rank")},spatialEntity:{label:vr("rdfs")("label"),description:vr("rdfs")("comment"),creator:vr("dcterms")("creator"),creator_first_name:wn("creator_first_name"),creator_last_name:wn("creator_last_name"),creator_middle_name:wn("creator_middle_name"),creator_orcid:wn("creator_orcid"),creation_date:vr("dcterms")("created"),updated_date:wn("updated_date"),ccf_annotations:wn("collides_with"),representation_of:wn("representation_of"),reference_organ:wn("has_reference_organ"),extraction_set_for:wn("extraction_set_for"),extraction_set:wn("has_extraction_set"),sex:wn("organ_owner_sex"),side:wn("organ_side"),rui_rank:wn("rui_rank"),slice_thickness:wn("slice_thickness"),slice_count:wn("slice_count"),x_dimension:wn("x_dimension"),y_dimension:wn("y_dimension"),z_dimension:wn("z_dimension"),dimension_units:wn("dimension_unit"),object:wn("has_object_reference")},spatialPlacement:{source:wn("placement_for"),target:wn("placement_relative_to"),placement_date:vr("dcterms")("created"),x_scaling:wn("x_scaling"),y_scaling:wn("y_scaling"),z_scaling:wn("z_scaling"),scaling_units:wn("scaling_unit"),x_rotation:wn("x_rotation"),y_rotation:wn("y_rotation"),z_rotation:wn("z_rotation"),w_rotation:wn("theta_rotation"),rotation_order:wn("rotation_order"),rotation_units:wn("rotation_unit"),x_translation:wn("x_translation"),y_translation:wn("y_translation"),z_translation:wn("z_translation"),translation_units:wn("translation_unit")}}),wi={x:vr("uberon"),body:vr("uberon")("0013702")},jze={x:vr("cl"),cell:vr("cl")("0000000")},ix={x:vr("fma")},yZ=(vr("lmha"),{body:wi.body,cell:jze.cell,respiratory_system:wi.x("0001004"),colon:wi.x("0001155"),left_lung:wi.x("0002168"),right_lung:wi.x("0002167"),left_bronchus:wi.x("0002178"),right_bronchus:wi.x("0002177"),kidney:wi.x("0002113"),ureter:wi.x("0000056"),eye:wi.x("0000970"),fallopian_tube:wi.x("0003889"),knee:wi.x("0001465"),ovary:wi.x("0000992"),trachea:wi.x("0003126"),aorta:wi.x("0000947"),blood:wi.x("0000178"),bone_marrow:wi.x("0002371"),male_reproductive_system:wi.x("0000079"),lymph_node:wi.x("0000029"),blood_vasculature:wi.x("0004537"),brain:wi.x("0000955"),eye_left:wi.x("0004548"),eye_right:ix.x("54449"),fallopian_tube_left:wi.x("0001303"),fallopian_tube_right:wi.x("0001302"),heart:wi.x("0000948"),kidney_left:wi.x("0004538"),kidney_right:wi.x("0004539"),knee_left:ix.x("24978"),knee_right:ix.x("24977"),large_intestine:wi.x("0000059"),liver:wi.x("0002107"),lungs:wi.x("0002048"),mesenteric_lymph_node:wi.x("0002509"),ovary_left:ix.x("7214"),ovary_right:ix.x("7213"),pancreas:wi.x("0001264"),pelvis:wi.x("0001270"),prostate_gland:wi.x("0002367"),skin:wi.x("0002097"),small_intestine:wi.x("0002108"),spleen:wi.x("0002106"),thymus:wi.x("0002370"),ureter_left:wi.x("0001223"),ureter_right:wi.x("0001222"),urinary_bladder:wi.x("0001255"),uterus:wi.x("0000995")});function E3(n){const e={};return Object.entries(n).forEach(([t,i])=>{e[i.id]=t}),e}E3(Gu.spatialObjectReference),E3(Gu.spatialEntity),E3(Gu.spatialPlacement),Object.freeze({OUTSIDE:-1,INTERSECTING:0,INSIDE:1}),Math,Math;const Zr={};function Wze(n,{precision:e=Zr.precision||4}={}){return n=function Gze(n){return Math.round(n/Zr.EPSILON)*Zr.EPSILON}(n),"".concat(parseFloat(n.toPrecision(e)))}function gf(n){return Array.isArray(n)||ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ox(n,e,t){const i=Zr.EPSILON;t&&(Zr.EPSILON=t);try{if(n===e)return!0;if(gf(n)&&gf(e)){if(n.length!==e.length)return!1;for(let r=0;r<n.length;++r)if(!ox(n[r],e[r]))return!1;return!0}return n&&n.equals?n.equals(e):e&&e.equals?e.equals(n):!(!Number.isFinite(n)||!Number.isFinite(e))&&Math.abs(n-e)<=Zr.EPSILON*Math.max(1,Math.abs(n),Math.abs(e))}finally{Zr.EPSILON=i}}function $u(n,e){if(!n)throw new Error("math.gl assertion ".concat(e))}Zr.EPSILON=1e-12,Zr.debug=!1,Zr.precision=4,Zr.printTypes=!1,Zr.printDegrees=!1,Zr.printRowMajor=!0;class wZ extends(function Jze(n){function e(){var t=Reflect.construct(n,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return e.prototype=Object.create(n.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n,e}(Array)){get ELEMENTS(){return $u(!1),0}clone(){return(new this.constructor).copy(this)}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}fromArray(e,t=0){for(let i=0;i<this.ELEMENTS;++i)this[i]=e[i+t];return this.check()}to(e){return e===this?this:gf(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toArray(e=[],t=0){for(let i=0;i<this.ELEMENTS;++i)e[t+i]=this[i];return e}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Zr)}formatString(e){let t="";for(let i=0;i<this.ELEMENTS;++i)t+=(i>0?", ":"")+Wze(this[i],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!ox(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,i){void 0===i&&(i=t,t=e,e=this);for(let r=0;r<this.ELEMENTS;++r){const o=e[r];this[r]=o+i*(t[r]-o)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e[i]),t[i]);return this.check()}add(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]+=t[i];return this.check()}subtract(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]-=t[i];return this.check()}scale(e){if(Array.isArray(e))return this.multiply(e);for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.scale(1/e)}clampScalar(e,t){for(let i=0;i<this.ELEMENTS;++i)this[i]=Math.min(Math.max(this[i],e),t);return this.check()}multiplyByScalar(e){return this.scale(e)}get elements(){return this}check(){if(Zr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}}function Fc(n){if(!Number.isFinite(n))throw new Error("Invalid number ".concat(n));return n}const xZ={};function C3(n,e){xZ[n]||(xZ[n]=!0,console.warn("".concat(n," has been removed in version ").concat(e,", see upgrade guide for more information")))}class e4e extends wZ{get ELEMENTS(){return $u(!1),0}copy(e){return $u(!1),this}get x(){return this[0]}set x(e){this[0]=Fc(e)}get y(){return this[1]}set y(e){this[1]=Fc(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let i=0;i<this.ELEMENTS;++i){const r=this[i]-e[i];t+=r*r}return Fc(t)}dot(e){let t=0;for(let i=0;i<this.ELEMENTS;++i)t+=this[i]*e[i];return Fc(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]*=t[i];return this.check()}divide(...e){for(const t of e)for(let i=0;i<this.ELEMENTS;++i)this[i]/=t[i];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return $u(e>=0&&e<this.ELEMENTS,"index is out of range"),Fc(this[e])}setComponent(e,t){return $u(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var sx=typeof Float32Array<"u"?Float32Array:Array;function EZ(n,e,t){var i=e[0],r=e[1],o=e[2];return n[0]=i*t[0]+r*t[3]+o*t[6],n[1]=i*t[1]+r*t[4]+o*t[7],n[2]=i*t[2]+r*t[5]+o*t[8],n}Math,Math,Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)}),function i4e(){var n=new sx(3);sx!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0)}();const A3=[0,0,0],CZ={};class pi extends e4e{static get ZERO(){return CZ.ZERO=CZ.ZERO||Object.freeze(new pi(0,0,0,0))}constructor(e=0,t=0,i=0){super(-0,-0,-0),1===arguments.length&&gf(e)?this.copy(e):(Zr.debug&&(Fc(e),Fc(t),Fc(i)),this[0]=e,this[1]=t,this[2]=i)}set(e,t,i){return this[0]=e,this[1]=t,this[2]=i,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Zr.debug&&(Fc(e.x),Fc(e.y),Fc(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Fc(e)}angle(e){return function u4e(n,e){var t=n[0],i=n[1],r=n[2],o=e[0],s=e[1],a=e[2],d=Math.sqrt(t*t+i*i+r*r)*Math.sqrt(o*o+s*s+a*a),h=d&&function r4e(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}(n,e)/d;return Math.acos(Math.min(Math.max(h,-1),1))}(this,e)}cross(e){return function o4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1],c=t[2];n[0]=r*c-o*a,n[1]=o*s-i*c,n[2]=i*a-r*s}(this,this,e),this.check()}rotateX({radians:e,origin:t=A3}){return function c4e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0],o[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),o[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateY({radians:e,origin:t=A3}){return function l4e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),o[1]=r[1],o[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}rotateZ({radians:e,origin:t=A3}){return function d4e(n,e,t,i){var r=[],o=[];r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],o[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),o[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),o[2]=r[2],n[0]=o[0]+t[0],n[1]=o[1]+t[1],n[2]=o[2]+t[2]}(this,this,t,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return function s4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o+t[15];n[0]=(t[0]*i+t[4]*r+t[8]*o+t[12])/(s=s||1),n[1]=(t[1]*i+t[5]*r+t[9]*o+t[13])/s,n[2]=(t[2]*i+t[6]*r+t[10]*o+t[14])/s}(this,this,e),this.check()}transformAsVector(e){return function h4e(n,e,t){const i=e[0],r=e[1],o=e[2],s=t[3]*i+t[7]*r+t[11]*o||1;n[0]=(t[0]*i+t[4]*r+t[8]*o)/s,n[1]=(t[1]*i+t[5]*r+t[9]*o)/s,n[2]=(t[2]*i+t[6]*r+t[10]*o)/s}(this,this,e),this.check()}transformByMatrix3(e){return EZ(this,this,e),this.check()}transformByMatrix2(e){return function f4e(n,e,t){const i=e[0],r=e[1];n[0]=t[0]*i+t[2]*r,n[1]=t[1]*i+t[3]*r,n[2]=e[2]}(this,this,e),this.check()}transformByQuaternion(e){return function a4e(n,e,t){var i=t[0],r=t[1],o=t[2],a=e[0],c=e[1],l=e[2],d=r*l-o*c,h=o*a-i*l,f=i*c-r*a,m=r*f-o*h,g=o*d-i*f,b=i*h-r*d,v=2*t[3];h*=v,f*=v,g*=2,b*=2,n[0]=a+(d*=v)+(m*=2),n[1]=c+h+g,n[2]=l+f+b}(this,this,e),this.check()}}new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi;const DZ=new pi,OZ=new pi;class S3{constructor(e=[0,0,1],t=0){this.normal=new pi,this.distance=-0,this.fromNormalDistance(e,t)}fromNormalDistance(e,t){return $u(Number.isFinite(t)),this.normal.from(e).normalize(),this.distance=t,this}fromPointNormal(e,t){e=DZ.from(e),this.normal.from(t).normalize();const i=-this.normal.dot(e);return this.distance=i,this}fromCoefficients(e,t,i,r){return this.normal.set(e,t,i),$u(ox(this.normal.len(),1)),this.distance=r,this}clone(e){return new S3(this.normal,this.distance)}equals(e){return ox(this.distance,e.distance)&&ox(this.normal,e.normal)}getPointDistance(e){return this.normal.dot(e)+this.distance}transform(e){const t=OZ.copy(this.normal).transformAsVector(e).normalize(),i=this.normal.scale(-this.distance).transform(e);return this.fromPointNormal(i,t)}projectPointOntoPlane(e,t=[0,0,0]){e=DZ.from(e);const i=this.getPointDistance(e),r=OZ.copy(this.normal).scale(i);return e.subtract(r).to(t)}}new pi([1,0,0]),new pi([0,1,0]),new pi([0,0,1]),new pi,new pi,new S3(new pi(1,0,0),0),new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,new pi,Math;class B4e extends wZ{get ELEMENTS(){return $u(!1),0}get RANK(){return $u(!1),0}toString(){let e="[";if(Zr.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let i=0;i<this.RANK;++i)e+=" ".concat(this[i*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,i){return this[t*this.RANK+e]=Fc(i),this}getColumn(e,t=new Array(this.RANK).fill(-0)){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[i+r];return t}setColumn(e,t){const i=e*this.RANK;for(let r=0;r<this.RANK;++r)this[i+r]=t[r];return this}}function PZ(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=t[0],m=t[1],g=t[2],b=t[3],v=t[4],D=t[5],N=t[6],Z=t[7],G=t[8];return n[0]=f*i+m*s+g*l,n[1]=f*r+m*a+g*d,n[2]=f*o+m*c+g*h,n[3]=b*i+v*s+D*l,n[4]=b*r+v*a+D*d,n[5]=b*o+v*c+D*h,n[6]=N*i+Z*s+G*l,n[7]=N*r+Z*a+G*d,n[8]=N*o+Z*c+G*h,n}function NZ(n,e,t){var i=t[0],r=t[1];return n[0]=i*e[0],n[1]=i*e[1],n[2]=i*e[2],n[3]=r*e[3],n[4]=r*e[4],n[5]=r*e[5],n[6]=e[6],n[7]=e[7],n[8]=e[8],n}!function W4e(){var n=new sx(2);sx!=Float32Array&&(n[0]=0,n[1]=0)}();const FZ=Object.freeze([1,0,0,0,1,0,0,0,1]),q4e=Object.freeze([0,0,0,0,0,0,0,0,0]),X4e=Object.freeze({COL0ROW0:0,COL0ROW1:1,COL0ROW2:2,COL1ROW0:3,COL1ROW1:4,COL1ROW2:5,COL2ROW0:6,COL2ROW1:7,COL2ROW2:8}),Ib={};class Hl extends B4e{static get IDENTITY(){return Ib.IDENTITY=Ib.IDENTITY||Object.freeze(new Hl(FZ)),Ib.IDENTITY}static get ZERO(){return Ib.ZERO=Ib.ZERO||Object.freeze(new Hl(q4e)),Ib.ZERO}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return X4e}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this.check()}set(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=t,this[2]=i,this[3]=r,this[4]=o,this[5]=s,this[6]=a,this[7]=c,this[8]=l,this.check()}setRowMajor(e,t,i,r,o,s,a,c,l){return this[0]=e,this[1]=r,this[2]=a,this[3]=t,this[4]=o,this[5]=c,this[6]=i,this[7]=s,this[8]=l,this.check()}determinant(){return function V4e(n){var r=n[3],o=n[4],s=n[5],a=n[6],c=n[7],l=n[8];return n[0]*(l*o-s*c)+n[1]*(-l*r+s*a)+n[2]*(c*r-o*a)}(this)}identity(){return this.copy(FZ)}fromQuaternion(e){return function G4e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=t+t,a=i+i,c=r+r,l=t*s,d=i*s,h=i*a,f=r*s,m=r*a,g=r*c,b=o*s,v=o*a,D=o*c;n[0]=1-h-g,n[3]=d-D,n[6]=f+v,n[1]=d+D,n[4]=1-l-g,n[7]=m-b,n[2]=f-v,n[5]=m+b,n[8]=1-l-h}(this,e),this.check()}transpose(){return function j4e(n,e){if(n===e){var t=e[1],i=e[2],r=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=i,n[7]=r}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8]}(this,this),this.check()}invert(){return function U4e(n,e){var t=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],c=e[6],l=e[7],d=e[8],h=d*s-a*l,f=-d*o+a*c,m=l*o-s*c,g=t*h+i*f+r*m;g&&(n[0]=h*(g=1/g),n[1]=(-d*i+r*l)*g,n[2]=(a*i-r*s)*g,n[3]=f*g,n[4]=(d*t-r*c)*g,n[5]=(-a*t+r*o)*g,n[6]=m*g,n[7]=(-l*t+i*c)*g,n[8]=(s*t-i*o)*g)}(this,this),this.check()}multiplyLeft(e){return PZ(this,e,this),this.check()}multiplyRight(e){return PZ(this,this,e),this.check()}rotate(e){return function H4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=Math.sin(t),m=Math.cos(t);n[0]=m*i+f*s,n[1]=m*r+f*a,n[2]=m*o+f*c,n[3]=m*s-f*i,n[4]=m*a-f*r,n[5]=m*c-f*o,n[6]=l,n[7]=d,n[8]=h}(this,this,e),this.check()}scale(e){return Array.isArray(e)?NZ(this,this,e):NZ(this,this,[e,e,e]),this.check()}translate(e){return function z4e(n,e,t){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],c=e[5],l=e[6],d=e[7],h=e[8],f=t[0],m=t[1];n[0]=i,n[1]=r,n[2]=o,n[3]=s,n[4]=a,n[5]=c,n[6]=f*i+m*s+l,n[7]=f*r+m*a+d,n[8]=f*o+m*c+h}(this,this,e),this.check()}transform(e,t){switch(e.length){case 2:t=function $4e(n,e,t){var i=e[0],r=e[1];return n[0]=t[0]*i+t[3]*r+t[6],n[1]=t[1]*i+t[4]*r+t[7],n}(t||[-0,-0],e,this);break;case 3:t=EZ(t||[-0,-0,-0],e,this);break;case 4:t=function p4e(n,e,t){const i=e[0],r=e[1],o=e[2];return n[0]=t[0]*i+t[3]*r+t[6]*o,n[1]=t[1]*i+t[4]*r+t[7]*o,n[2]=t[2]*i+t[5]*r+t[8]*o,n[3]=e[3],n}(t||[-0,-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return function Zze(n,e,t=""){if(Zr.debug&&!function Qze(n,e){if(n.length!==e)return!1;for(let t=0;t<n.length;++t)if(!Number.isFinite(n[t]))return!1;return!0}(n,e))throw new Error("math.gl: ".concat(t," some fields set to invalid numbers'"));return n}(t,e.length),t}transformVector(e,t){return C3("Matrix3.transformVector"),this.transform(e,t)}transformVector2(e,t){return C3("Matrix3.transformVector"),this.transform(e,t)}transformVector3(e,t){return C3("Matrix3.transformVector"),this.transform(e,t)}}function xHe(n,e,t){const i={"@id":e,"@type":"OntologyTreeNode",id:e,parent:"",children:[],synonymLabels:[],label:""},r={[Gu.ontologyNode.label.id]:"label",[t]:"parent",[Gu.ontologyNode.synonymLabels.id]:"synonymLabels"};for(const[o,s]of function*Bze(n,e,t){for(const[i,r]of Object.entries(t))for(const o of _Z(n,e,i,null,null)){const s="Literal"===o.object.termType?(0,Lze.fromRdf)(o.object):o.object.id;yield[r,s]}}(n,e,r))"synonymLabels"===o?i.synonymLabels.push(s):i[o]=s;return i.children=n.getSubjects(t,e,null).map(o=>o.id),i}function BZ(n,e,t,i){const r={root:e,nodes:{}},o=new Set;for(const a of _Z(n,null,i,null,null))o.add(a.subject.id),o.add(a.object.id);for(const a of o)r.nodes[a]=xHe(n,a,i);r.nodes[e]||(r.nodes[e]={"@id":e,"@type":"OntologyTreeNode",id:e,label:t,children:[],synonymLabels:[]});const s=n.getSubjects(i,e,null).map(a=>a.id).sort((a,c)=>r.nodes[a].label.localeCompare(r.nodes[c].label));return r.nodes[e].children=s,jZ(r),r}function jZ(n,e=void 0,t=new Set){const i=n.nodes[e??n.root];if(i){i.children=i.children.filter(r=>!t.has(r)),i.children.forEach(r=>t.add(r));for(const r of i.children)jZ(n,r,t),n.nodes[r]&&(n.nodes[r].parent=i["@id"])}}new Hl,new Hl,new Hl,new Hl,new Hl,new pi,new pi,new pi,new pi,new pi,new Hl,new Hl,new Hl,(0,nx.memoize)(function EHe(n){const e=BZ(n,yZ.body.id,"body",Gu.asctb.part_of.id);return e.nodes[yZ.body.id].children=["http://purl.obolibrary.org/obo/UBERON_0000955","http://purl.obolibrary.org/obo/UBERON_0000029","http://purl.obolibrary.org/obo/UBERON_0000970","http://purl.obolibrary.org/obo/UBERON_0003889","http://purl.obolibrary.org/obo/UBERON_0000948","http://purl.obolibrary.org/obo/UBERON_0002113","http://purl.obolibrary.org/obo/UBERON_0001465","http://purl.obolibrary.org/obo/UBERON_0001737","http://purl.obolibrary.org/obo/UBERON_0002107","http://purl.obolibrary.org/obo/UBERON_0002048","http://purl.obolibrary.org/obo/UBERON_0002182","http://purl.obolibrary.org/obo/UBERON_0001911","http://purl.obolibrary.org/obo/UBERON_0000992","http://purl.obolibrary.org/obo/UBERON_0002373","http://purl.obolibrary.org/obo/UBERON_0001264","http://purl.obolibrary.org/obo/UBERON_0001270","http://purl.obolibrary.org/obo/UBERON_0001987","http://purl.obolibrary.org/obo/UBERON_0002367","http://purl.obolibrary.org/obo/UBERON_0002097","http://purl.obolibrary.org/obo/UBERON_0002108","http://purl.obolibrary.org/obo/UBERON_0002240","http://purl.obolibrary.org/obo/UBERON_0000059","http://purl.obolibrary.org/obo/UBERON_0002106","http://purl.obolibrary.org/obo/UBERON_0002370","http://purl.obolibrary.org/obo/UBERON_0003126","http://purl.obolibrary.org/obo/UBERON_0000056","http://purl.obolibrary.org/obo/UBERON_0001255","http://purl.obolibrary.org/obo/UBERON_0000995","http://purl.obolibrary.org/obo/UBERON_0004537"].filter(t=>t in e.nodes),e},()=>"");const HHe=[204,204,204,255],Em=[213,0,0,255],Cm=[29,204,101,255],Am=[41,121,255,255],WHe=[204,204,204,255],nM=[213,0,0,255],iM=[29,204,101,255],rM=[41,121,255,255];class WZ extends Error{constructor(){super(...arguments),this.message="NgxsDispatchPluginModule is not imported"}}class QHe{constructor(){this.cancelUncompleted$=new en}cancelPreviousAction(){this.cancelUncompleted$.next()}}const V3="\u0275fac",$Z=Symbol("InjectorInstance"),qZ=Symbol("FactoryHasBeenDecorated");function XZ(n,e){const t=n[$Z];return t?t.get(e):null}const t8e={cancelUncompleted:!1};function YZ(n=t8e){return(e,t,i)=>{let r;const o=function ZHe(n){return n?new QHe:null}(n.cancelUncompleted);function s(){null!==o&&o.cancelPreviousAction();const a=XZ(this,Fd)||function KHe(){throw new WZ}(),c=XZ(this,_n)||function JHe(){throw new WZ}(),l=r.apply(this,arguments);return c.runOutsideAngular(()=>function YHe(n,e,t){return a_(e)?function XHe(n,e){return e.then(t=>(n.dispatch(t),t))}(n,e):lf(e)?function qHe(n,e,t){return null!==t&&(e=e.pipe(Si(t.cancelUncompleted$))),e.subscribe({next:i=>n.dispatch(i)}),e}(n,e,t):(n.dispatch(e),e)}(a,l,o))}"function"==typeof i?.value?(r=i.value,i.value=s):Object.defineProperty(e,t,{set:a=>r=a,get:()=>s}),function e8e(n){if(qZ in n.constructor.prototype)return;const e=n.constructor;"function"==typeof e[V3]&&function z3(n){const e=n[V3];if("function"!=typeof e)return;const t=n.\u0275prov||n.\u0275pipe||n.\u0275cmp||n.\u0275dir,i=()=>{const r=e();return r[$Z]=be(Vi),r};t&&(t.factory=i),Object.defineProperty(n,V3,{get:()=>i})}(e),n.constructor.prototype[qZ]=!0}(e)}}let KZ=(()=>{class n{static#e=this.type="[CallToAction] Learn More"}return n})(),JZ=(()=>{class n{static#e=this.type="[CallToAction] Open Dialog"}return n})(),QZ=(()=>{class n{static#e=this.type="[CallToAction] Close Dialog"}return n})(),H3=(()=>{class n{constructor(t){this.http=t,this.panelContent=new _e({content:[],infoTitle:"",videoID:""})}updateData(t,i,r){this.http.get(t,{responseType:"text"}).subscribe(o=>{const s={content:this.parseMarkdown(o),infoTitle:r,videoID:i};this.panelContent.next(s)})}parseMarkdown(t){const i=[],r=t.split("# ");for(const o of r)if(o.length){const s=o.includes("\n\n")?"\n\n":"\r\n\r\n",a=o.split(s);i.push({title:a[0],content:a.splice(1).join(s)})}return i}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(gd))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n8e(n,e){if(1&n&&(Ye(0,"div",16),yn(1,"youtube-player",17),et()),2&n){const t=Tn(3);lt(),KC("videoId",t.videoID)}}function i8e(n,e){if(1&n&&(Ye(0,"mat-expansion-panel",11)(1,"mat-expansion-panel-header")(2,"h2",12),Xt(3),et()(),Ye(4,"div",13),yn(5,"markdown",14),mn(6,n8e,2,1,"div",15),et()()),2&n){const t=Tn(),i=t.$implicit,r=t.index;Dt("expanded",0===r),lt(3),jo(i.title),lt(2),bn("first",0===r),Dt("data",i.content),lt(),Dt("ngIf",0===r)}}function r8e(n,e){if(1&n&&(Ye(0,"div",9),mn(1,i8e,7,6,"mat-expansion-panel",10),et()),2&n){const t=e.$implicit;lt(),Dt("ngIf",t)}}let ZZ=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.documentationContents=i.content||[],this.infoTitle=i.title||"",this.videoID=i.videoID}ngOnInit(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.body.appendChild(t)}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(be(hb),be(rB))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-info-dialog"]],decls:11,vars:2,consts:[[1,"about","wrapper"],[1,"container"],[1,"content"],[1,"header"],["mat-dialog-title","",1,"title"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"mat-typography","dialog-content"],["class","panel",4,"ngFor","ngForOf"],[1,"panel"],[3,"expanded",4,"ngIf"],[3,"expanded"],[1,"no-header-margin"],[1,"top-padding"],[1,"variable-binding",3,"data"],["class","video-player",4,"ngIf"],[1,"video-player"],[3,"videoId"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),Xt(5),et(),Ye(6,"div",5)(7,"mat-icon",6),Lt("click",function(){return r.close()}),Xt(8,"clear"),et()()(),Ye(9,"mat-dialog-content",7),mn(10,r8e,2,1,"div",8),et()()()()),2&i&&(lt(5),jo(r.infoTitle),lt(5),Dt("ngForOf",r.documentationContents))},dependencies:[Zc,Za,gT,_T,_a,yT,sB,dBe,TJ],styles:[".mat-dialog-container{padding:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:1.5rem;text-align:left}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:3rem;margin-bottom:2.25rem;position:relative}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.5rem;margin-bottom:1rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{cursor:pointer;height:3rem;width:3rem;line-height:3rem;text-align:center;transition:.6s}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem;margin:0 auto;line-height:3rem;height:3rem;justify-self:center;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-bottom:.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]{margin-bottom:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .no-header-margin[_ngcontent-%COMP%]{font-weight:300;margin-bottom:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]{display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .top-padding[_ngcontent-%COMP%]   markdown[_ngcontent-%COMP%]     ul{margin-top:0;padding-left:1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]{height:50rem;min-height:10rem;padding:0 1.5rem}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]{font-weight:300;display:flex}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding.first[_ngcontent-%COMP%]{padding-right:1rem;width:73%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     ul{margin:0}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .variable-binding[_ngcontent-%COMP%]     img{margin-left:1rem;float:right}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{position:relative;width:50%}.about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .dialog-content[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]     iframe{width:100%;height:100%}"],changeDetection:0})}return n})();class ul{static#e=this.storage=(()=>{let e;try{e=window.localStorage;const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length?e:void 0}})();get length(){return ul.storage?.length??0}key(e){return ul.storage?.key(e)??null}getItem(e,t){return ul.storage?.getItem(e)??t??null}setItem(e,t){try{return ul.storage?.setItem(e,t),!0}catch{return!1}}removeItem(e){ul.storage?.removeItem(e)}clear(){ul.storage?.clear()}static#t=this.\u0275fac=function(t){return new(t||ul)};static#n=this.\u0275prov=Rt({token:ul,factory:ul.\u0275fac,providedIn:"root"})}var G3;const eee="callToActionPopupShown";let Gl=class pM{static#e=G3=this;static ctaDatePassed(e,t=Date.now){return+t()>+new Date(e)}constructor(e,t,i,r,o){this.dialog=e,this.ga=t,this.storage=i,this.infoService=r,this.http=o}ngxsOnInit(e){const{expirationDate:t,popupShown:i}=e.getState(),r=this.storage.getItem(eee,`${i}`),o=G3.ctaDatePassed(t);"true"!==r&&!o&&e.dispatch(new JZ)}getDialogData(){return this.http.get("assets/docs/SPATIAL_SEARCH_README.md",{responseType:"text"}).pipe(le(e=>this.infoService.parseMarkdown(e)))}launchLearnMore(e){this.dialog.open(ZZ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:"Spatial Search",content:e,videoID:"UfxMpzatowE"}})}learnMore(e){return this.dialog.closeAll(),this.ga.event("open_learn_more","call_to_action"),this.getDialogData().pipe(ur(t=>this.launchLearnMore(t)))}open(e){this.dialog.open(qd,{autoFocus:!1,panelClass:"modal-animated",width:"30.75rem",height:"36.688rem"}),this.ga.event("open","call_to_action"),this.storage.setItem(eee,"true"),e.patchState({popupShown:!0})}close(e){this.dialog.closeAll(),this.ga.event("close","call_to_action")}static#t=this.\u0275fac=function(t){return new(t||pM)(Ke(hf),Ke(Ds),Ke(ul),Ke(H3),Ke(gd))};static#n=this.\u0275prov=Rt({token:pM,factory:pM.\u0275fac})};Nt([ML(KZ),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Ct)],Gl.prototype,"learnMore",null),Nt([ML(JZ),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],Gl.prototype,"open",null),Nt([ML(QZ),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],Gl.prototype,"close",null),Gl=G3=Nt([Ld({name:"callToAction",defaults:{title:"New to the Exploration User Interface",message:"Spatial Search has arrived!",callToAction:"Learn More",imageUrl:"assets/images/spatial_search.gif",expirationDate:"Dec 1, 2022",popupShown:!1}}),Ie("design:paramtypes",[hf,Ds,ul,H3,gd])],Gl);class $d{static title(e){return e.title}static message(e){return e.message}static callToAction(e){return e.callToAction}static imageUrl(e){return e.imageUrl}static expirationDate(e){return e.expirationDate}static popupShown(e){return e.popupShown}}Nt([sb([Gl]),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",String)],$d,"title",null),Nt([sb([Gl]),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",String)],$d,"message",null),Nt([sb([Gl]),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",String)],$d,"callToAction",null),Nt([sb([Gl]),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",String)],$d,"imageUrl",null),Nt([sb([Gl]),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",String)],$d,"expirationDate",null),Nt([sb([Gl]),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Boolean)],$d,"popupShown",null);let tee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=Zt({type:n,selectors:[["","mat-card-sm-image",""],["","matCardImageSmall",""]],hostAttrs:[1,"mat-mdc-card-sm-image","mdc-card__media"],standalone:!0})}return n})(),w8e=(()=>{class n{constructor(){this.clsName="ccf-call-to-action",this.callToActionClicked=new Qt,this.closeClicked=new Qt}close(){this.closeClicked.emit()}onDialogButtonClick(){this.callToActionClicked.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-call-to-action"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{infoTitle:"infoTitle",imageUrl:"imageUrl",message:"message",callToAction:"callToAction"},outputs:{callToActionClicked:"callToActionClicked",closeClicked:"closeClicked"},decls:13,vars:4,consts:[[1,"rui-about","wrapper"],[1,"container"],[1,"content"],[1,"first-row"],["mat-dialog-title","",1,"title"],[1,"cta-mat-icon","material-icons","close-icon",3,"click"],["mat-card-sm-image","","alt","preview","layout-fill","",1,"cta-image",3,"src"],[1,"mat-typography","dialog-content"],[1,"message"],["mat-button","",1,"mat-button",3,"click","text"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),Xt(5),et(),Ye(6,"mat-icon",5),Lt("click",function(){return r.close()}),Xt(7,"clear"),et()(),yn(8,"img",6),Ye(9,"mat-dialog-content",7)(10,"div",8),Xt(11),et(),Ye(12,"a",9),Lt("click",function(){return r.onDialogButtonClick()}),et()()()()()),2&i&&(lt(5),jo(r.infoTitle),lt(3),Dt("src",r.imageUrl,kg),lt(3),jo(r.message),lt(),Dt("text",r.callToAction))},dependencies:[_a,gT,_T,tee],styles:["[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{display:block;align-content:center;padding-left:1.6rem;padding-right:1.6rem;border-radius:.25rem}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.6rem;transition:.6s}[_nghost-%COMP%]   .info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.2rem;vertical-align:sub}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]{display:flex;width:100%;line-height:.9rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-right:7rem;padding-left:.2rem;font-size:.875rem;padding-top:.75rem}[_nghost-%COMP%]   .first-row[_ngcontent-%COMP%]   .cta-mat-icon[_ngcontent-%COMP%]{height:30%;line-height:3.4rem}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .cta-image[_ngcontent-%COMP%]{align-self:center;object-fit:cover;width:100%;border-radius:.25rem}[_nghost-%COMP%]   .mat-button[_ngcontent-%COMP%]{background-color:#444a65;font-size:.75rem;position:relative;margin-bottom:1rem;width:100%;height:2rem;color:#fff}"],changeDetection:0})}return n})();class qd{constructor(){this.close=()=>new QZ,this.learnMore=()=>new KZ}static#e=this.\u0275fac=function(t){return new(t||qd)};static#t=this.\u0275cmp=un({type:qd,selectors:[["ccf-call-to-action-behavior"]],decls:5,vars:12,consts:[[3,"callToActionClicked","closeClicked","infoTitle","message","callToAction","imageUrl"]],template:function(t,i){if(1&t&&(Ye(0,"ccf-call-to-action",0),ei(1,"async"),ei(2,"async"),ei(3,"async"),ei(4,"async"),Lt("callToActionClicked",function(){return i.learnMore()})("closeClicked",function(){return i.close()}),et()),2&t){let r,o,s,a;Dt("infoTitle",null!==(r=ti(1,4,i.title$))&&void 0!==r?r:"")("message",null!==(o=ti(2,6,i.message$))&&void 0!==o?o:"")("callToAction",null!==(s=ti(3,8,i.callToAction$))&&void 0!==s?s:"")("imageUrl",null!==(a=ti(4,10,i.imageUrl$))&&void 0!==a?a:"")}},dependencies:[w8e,ud],changeDetection:0})}Nt([YS($d.title),Ie("design:type",Ct)],qd.prototype,"title$",void 0),Nt([YS($d.message),Ie("design:type",Ct)],qd.prototype,"message$",void 0),Nt([YS($d.callToAction),Ie("design:type",Ct)],qd.prototype,"callToAction$",void 0),Nt([YS($d.imageUrl),Ie("design:type",Ct)],qd.prototype,"imageUrl$",void 0),Nt([YZ(),Ie("design:type",Object)],qd.prototype,"close",void 0),Nt([YZ(),Ie("design:type",Object)],qd.prototype,"learnMore",void 0);let x8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo]})}return n})(),E8e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,x8e]})}return n})();const C8e={initialConfig:{},parse:{},rename:{}};class A8e{constructor(e,t){this.configState=e,this.storedChanges={},this.options={...C8e,...t}}addChanges(e){this.storedChanges={...this.storedChanges,...e}}applyChanges(e,t={}){void 0===e&&(e=this.storedChanges,this.storedChanges={});const{configState:i,options:{initialConfig:r}}=this,s={...r,...i.snapshot,...t};for(const[a,c]of Object.entries(e))this.processChange(a,c,s);i.setConfig(s)}processChange(e,t,i){const{options:{parse:r,rename:o}}=this,s=o[e]??e,a=t.currentValue,c=r[e]??r[s];if(null==a)delete i[s];else if(c)try{i[s]=c(a)}catch(l){console.warn(`Failed to parse ${e} = ${a} (${typeof a})`,l.message)}else i[s]=a}}let S8e=(()=>{class n{constructor(t,i,r={}){this.configState=t,this.cdr=i,this.options=r,this.initialized=!1,this.configManager=new A8e(this.configState,this.options)}ngOnInit(){this._init=setTimeout(()=>this.initialize(),this.options.initialDelay??0)}ngOnDestroy(){this._init&&clearTimeout(this._init)}ngOnChanges(t){this.configManager.addChanges(t),this.initialized&&this.configManager.applyChanges()}initialize(){this._init=void 0,!this.initialized&&(this.configManager.applyChanges(),this.initialized=!0,this.cdr.markForCheck())}static#e=this.\u0275fac=function(i){wc()};static#t=this.\u0275dir=Zt({type:n,features:[_r]})}return n})();const nee={boolean:n=>"false"!=`${n}`,json:n=>"string"==typeof n?JSON.parse(n):n,stringArray:n=>"string"==typeof n?Array.from(n).filter(e=>!"[], ".includes(e)):n,function:n=>{if("function"!=typeof n)throw new Error("Expected a javascript function");return n}},Xd={production:!0,disableDbWorker:!0,dbOptions:{ccfOwlUrl:"https://ccf-ontology.hubmapconsortium.org/v2.1.0/ccf.owl",ccfContextUrl:"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld",hubmapDataService:"search-api",hubmapPortalUrl:"https://portal.hubmapconsortium.org/",hubmapDataUrl:"",hubmapAssetsUrl:"https://assets.hubmapconsortium.org",hubmapToken:localStorage.getItem("HUBMAP_TOKEN")??""},customization:{theme:"hubmap",header:!0,homeUrl:"https://portal.hubmapconsortium.org/",logoTooltip:"Human BioMolecular Atlas Project",collisionsEndpoint:"https://apps.humanatlas.io/api/v1/collisions",referenceData:"https://apps.humanatlas.io/api/v1/rui-reference-data"},skipUnsavedChangesConfirmation:!1,googleAnalyticsToken:"portal.hubmapconsortium.org"===window.location.hostname?"G-1WRJHN9FM6":"G-J9HWV9QPJ4"},iee=new vt("Default theme class");let W3=(()=>{class n{static initialize(t){const{injector:i,location:r}=t;i.get(n).initialize(r,i)}constructor(t){this.defaultTheme=this.theme=t??""}getTheme(){return this.theme}setTheme(t){t!==this.theme&&(this.applyThemeClass(this.theme,"remove"),this.applyThemeClass(t),this.theme=t)}resetTheme(){this.setTheme(this.defaultTheme)}initialize(t,i){this.element=t,this.injector=i,this.applyThemeClass(this.getTheme())}applyThemeClass(t,i="add"){const{element:r,injector:o}=this;if(!t||!r||!o)return;const s=o.get(sd,null);if(!s)return;const a=r.nativeElement,c=o.get(p0,null)?.getContainerElement(),l="add"===i?"addClass":"removeClass";s[l](a,t),c&&s[l](c,t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(iee,8))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac})}return n})();var I8e=T(2578);const ree={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let oM;const D8e=new Uint8Array(16);function O8e(){if(!oM&&(oM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!oM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return oM(D8e)}const Xs=[];for(let n=0;n<256;++n)Xs.push((n+256).toString(16).slice(1));const k8e=function R8e(n,e,t){if(ree.randomUUID&&!e&&!n)return ree.randomUUID();const i=(n=n||{}).random||(n.rng||O8e)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return function oee(n,e=0){return Xs[n[e+0]]+Xs[n[e+1]]+Xs[n[e+2]]+Xs[n[e+3]]+"-"+Xs[n[e+4]]+Xs[n[e+5]]+"-"+Xs[n[e+6]]+Xs[n[e+7]]+"-"+Xs[n[e+8]]+Xs[n[e+9]]+"-"+Xs[n[e+10]]+Xs[n[e+11]]+Xs[n[e+12]]+Xs[n[e+13]]+Xs[n[e+14]]+Xs[n[e+15]]}(i)};let Sm=class mM extends bm{constructor(e,t){super(),this.globals=e,this.globalConfig=t}ngxsOnInit(){super.ngxsOnInit(),this.getSourceDB().subscribe(e=>{this.setState(e),Xd.production||this.globals.set("db",e)})}getSourceDB(){return this.globalConfig.getOption("referenceData").pipe(Br(e=>ro(fetch(e)).pipe(Br(t=>t.json()),ic(()=>Ls))))}normalizePlacement(e){const i=this.snapshot.placementPatches[e?.target];if(i){const r=function N8e(n,e){const t=e;let i;switch(t.translation_units){case"centimeter":i=.01;break;case"millimeter":i=.001;break;default:i=1}const r=[t.x_translation,t.y_translation,t.z_translation].map(a=>a*i),o=[t.x_rotation,t.y_rotation,t.z_rotation].map(ho),s=[t.x_scaling,t.y_scaling,t.z_scaling];return n.translate(r).rotateXYZ(o).scale(s)}(new Bt(Bt.IDENTITY),i),o={x:e.x_translation,y:e.y_translation,z:e.z_translation},[s,a,c]=r.transformAsPoint([o.x,o.y,o.z],[]),l={...e,target:i.target};return l.x_translation=s,l.y_translation=a,l.z_translation=c,l}return e}getReferenceOrganIri(e,t,i,r){const o=this.snapshot;"KIDNEY"!==e.toUpperCase()&&(i=""),r?.sex&&(t=r.sex);const s=[e,t,i||r?.side].join("|").toUpperCase(),a=Object.keys(o.organIRILookup).find(c=>c.toUpperCase().endsWith(s));return this.getLatestIri(a?o.organIRILookup[a]:void 0)}getOrganData(e){const t=this.getLatestIri(e),r=this.snapshot.organSpatialEntities[t];if(!r)return;const o=r.label??"",s=uT.find(a=>o.endsWith(a.organ)&&(!r.side||r.side.toLowerCase()===a.side));return s?{organ:s,sex:r.sex?.toLowerCase(),side:r.side?.toLowerCase()}:void 0}getLatestIri(e){if(!e)return"";const t=this.snapshot.placementPatches[e];return t?this.getLatestIri(t.target):e}static#e=this.\u0275fac=function(t){return new(t||mM)(Ke(yB),Ke(cs))};static#t=this.\u0275prov=Rt({token:mM,factory:mM.\u0275fac})};function see(n){const e=new Bt(n.transformMatrix),t=e.transformAsPoint([-1,-1,-1],[]),i=e.transformAsPoint([1,1,1],[]);return new Sr({lowerBound:new ue(...t.map((r,o)=>Math.min(r,i[o]))),upperBound:new ue(...i.map((r,o)=>Math.max(r,t[o])))})}Sm=Nt([Hu(),Ld({name:"reference",defaults:{organIRILookup:{},organSpatialEntities:{},anatomicalStructures:{},extractionSets:{},sceneNodeLookup:{},simpleSceneNodeLookup:{},placementPatches:{}}}),Ie("design:paramtypes",[yB,cs])],Sm);let Ca=class gM extends bm{get nodes$(){return zo([this.placementCube$,this.referenceOrganNodes$,this.previousRegistrationNodes$,this.nodeCollisions$,this.spatialKeyBoardAxis$]).pipe(le(([e,t,i,r,o])=>[...e,...i,...t,...o,...this.snapshot.showCollisions?r:[]]))}get rotatedNodes$(){return zo([this.rotation$,this.nodes$]).pipe(le(([e,t])=>0===e?t:t.map(i=>({...i,transformMatrix:new Bt(Bt.IDENTITY).rotateY(ho(e)).multiplyRight(i.transformMatrix)}))))}get referenceOrganNodes$(){return zo([this.model.anatomicalStructures$,this.model.extractionSites$,this.model.organIri$]).pipe(le(([e,t,i])=>{const r=this.getOrganSpatialEntity(i),o=i?function $He(n,e=!1,t=!1){const i=n.x_dimension/1e3,r=n.y_dimension/1e3,o=n.z_dimension/1e3,s=.05*Math.max(i,r,o),a=.1*s,c=t?[i,r,o].map(l=>-.5*l):[0,0,0];return[{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Bt(Bt.IDENTITY).translate(c).scale(s),color:WHe},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([i/2,0,0]).rotateZ(ho(-90)).scale([a,i,a]),color:nM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([i,0,0]).rotateZ(ho(-90)).scale([s,3*s,s]),color:nM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([2*-s,0,0]).scale(s),color:nM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([i+2*s,0,0]).scale(s),color:nM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([0,r/2,0]).scale([a,r,a]),color:iM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([0,r,0]).scale([s,3*s,s]),color:iM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([1.5*s,1.5*s,0]).scale(s),color:iM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([0,r+2*s,0]).scale(s),color:iM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([0,0,o/2]).rotateX(ho(90)).scale([a,o,a]),color:rM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([0,0,o]).rotateX(ho(90)).scale([s,3*s,s]),color:rM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([1.5*s,1.5*-s,0]).scale(s),color:rM},{"@id":"http://purl.org/ccf/latest/ccf.owl#OriginZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Bt(Bt.IDENTITY).translate(c).translate([0,0,o+2*s]).scale(s),color:rM}].filter(l=>e&&"text"===l.geometry&&l.text||!l.text)}(r,!1,!0):[];return[...o,...this.createSceneNodes(i,[...e,...t])]}))}get referenceOrganSimpleNodes$(){return zo([this.model.anatomicalStructures$,this.model.organIri$,this.referenceData.state$]).pipe(le(([e,t,i])=>e.map(r=>i.sceneNodeLookup[r.id]?[{...i.simpleSceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[t]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.simpleSceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])),hr(nx.isEqual))}get nodeCollisions$(){return zo([this.referenceOrganSimpleNodes$,this.collisions$,this.placementCube$]).pipe(DT(10,void 0,{leading:!0,trailing:!0}),le(([e,t,i])=>void 0!==t?this.filterNodeCollisions(e,t):i.length>0?this.filterNodeBBox(e,i[0]):[]),fd())}get previousRegistrationNodes$(){return zo([this.model.organIri$,this.model.showPrevious$,this.registration.previousRegistrations$]).pipe(le(([e="",t,i])=>t?this.getPreviousRegistrationNodes(e,i):[]))}get spatialKeyBoardAxis$(){return zo([this.model.organIri$.pipe(Ei(t=>void 0!==t&&""!==t)),this.model.position$]).pipe(le(([t,i])=>{const r=this.getOrganSpatialEntity(t),o=this.model.snapshot.blockSize,s=this.model.snapshot.rotation;return r?function GHe(n,e){const t=n.x_dimension/1e3,i=n.y_dimension/1e3,r=n.z_dimension/1e3,o=.1*Math.max(t,i,r),s=Math.max(t,i,r),a=.05*s,c=2*s,l=4*a,d={radius:s/1e3/2,x:e.x_translation/1e3,y:e.y_translation/1e3,z:e.z_translation/1e3,rx:ho(e.x_rotation),ry:ho(e.y_rotation),rz:ho(e.z_rotation),sx:n.x_dimension/1e3,sy:n.y_dimension/1e3,sz:n.z_dimension/1e3};return[{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginSphere","@type":"SpatialSceneNode",unpickable:!0,geometry:"sphere",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Bt(Bt.IDENTITY).translate([-d.sx/2,-d.sy/2,-d.sz/2]).scale(o)),color:HHe},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginX","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Bt(Bt.IDENTITY).translate([0,-d.sy/2,-d.sz/2]).rotateZ(ho(-90)).scale([a,d.sx,a])),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginY","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Bt(Bt.IDENTITY).translate([-d.sx/2,0,-d.sz/2]).scale([a,d.sy,a])),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeOriginZ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z]).rotateXYZ([d.rx,d.ry,d.rz]).multiplyRight(new Bt(Bt.IDENTITY).translate([-d.sx/2,-d.sy/2,0]).rotateX(ho(90)).scale([a,d.sz,a])),color:Am},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXD","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x+d.radius+c/2,d.y,d.z]).rotateZ(ho(-90)).scale([a,c,a]),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x+d.radius+c,d.y,d.z]).rotateZ(ho(-90)).scale([l,3*l,l]),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXDLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"D",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x+d.radius+c+3*l,d.y,d.z]).scale(l),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXA","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x-d.radius-c/2,d.y,d.z]).rotateZ(ho(-90)).scale([a,c,a]),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXACone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x-d.radius-c,d.y,d.z]).rotateZ(ho(90)).scale([l,3*l,l]),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeXALabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"A",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x-d.radius-c-3.5*l,d.y,d.z]).scale(l),color:Em},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYW","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y+d.radius+c/2,d.z]).scale([a,c,a]),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y+d.radius+c,d.z]).scale([l,3*l,l]),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYWLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"W",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y+d.radius+c+3*l,d.z]).scale(l),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYS","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y-d.radius-c/2,d.z]).scale([a,c,a]),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y-d.radius-c,d.z]).rotateZ(ho(180)).scale([l,3*l,l]),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeYSLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"S",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y-d.radius-c-3.5*l,d.z]).scale(l),color:Cm},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQ","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c/2]).rotateX(ho(90)).scale([a,c,a]),color:Am},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQCone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c]).rotateX(ho(90)).scale([l,3*l,l]),color:Am},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZQLabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"Q",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z+d.radius+c+3*l]).scale(l),color:Am},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZE","@type":"SpatialSceneNode",unpickable:!0,geometry:"cylinder",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c/2]).rotateX(ho(-90)).scale([a,c,a]),color:Am},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZECone","@type":"SpatialSceneNode",unpickable:!0,geometry:"cone",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c]).rotateX(ho(-90)).scale([l,3*l,l]),color:Am},{"@id":"http://purl.org/ccf/latest/ccf.owl#CubeZELabel","@type":"SpatialSceneNode",unpickable:!0,geometry:"text",text:"E",transformMatrix:new Bt(Bt.IDENTITY).translate([d.x,d.y,d.z-d.radius-c-3.5*l]).scale(l),color:Am}]}({x_dimension:o.x,y_dimension:o.y,z_dimension:o.z},{x_translation:i.x-r.x_dimension/2,y_translation:i.y-r.y_dimension/2,z_translation:i.z-r.z_dimension/2,x_rotation:s.x,y_rotation:s.y,z_rotation:s.z,x_scaling:1,y_scaling:1,z_scaling:1}):[]}))}get placementCube$(){return zo([this.model.viewType$,this.model.blockSize$,this.model.rotation$,this.model.position$,this.model.organ$]).pipe(le(([e,t,i,r,o])=>""===o.src?[]:[this.placementCube]),hr(nx.isEqual))}get placementCube(){const{viewType:e,blockSize:t,rotation:i,position:r,organDimensions:o}=this.model.snapshot,s=[o.x,o.y,o.z].map(a=>-a/1e3/2);return{"@id":"#DraftPlacement","@type":"SpatialSceneNode",transformMatrix:new Bt(Bt.IDENTITY).translate([r.x,r.y,r.z].map((a,c)=>a/1e3+s[c])).rotateXYZ([i.x,i.y,i.z].map(ho)).scale([t.x,t.y,t.z].map(a=>a/1e3/2)),color:[255,255,0,200],tooltip:"Draft Placement",unpickable:"3d"===e}}get rotation$(){return this.model.viewSide$.pipe(le(e=>{let t=0;switch(e){case"left":t=-90;break;case"right":t=90;break;case"posterior":t=180}return t}))}get collisions$(){return fm(()=>this.registration.throttledJsonld$).pipe(__(e=>this.getCollisions(e)),ms([]))}constructor(e,t,i){super(),this.injector=e,this.http=t,this.globalConfig=i,this.gizmo$=Mn([{"@id":"http://purl.org/ccf/latest/ccf.owl#VHMaleOrgans_VHM_Spleen_Colic_Surface","@type":"SpatialSceneNode",scenegraph:"https://hubmapconsortium.github.io/ccf-3d-reference-object-library/Assets/body4Mesh_1338.glb",transformMatrix:new Bt(Bt.IDENTITY).scale([2,2,2]).rotateY(ho(0)),tooltip:"Gizmo",unpickable:!0,_lighting:"pbr",zoomBasedOpacity:!1,color:[255,255,255,255],opacity:1}])}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(wr),this.registration=this.injector.get(Co),this.referenceData=this.injector.get(Sm)}createSceneNodes(e,t){const i=this.referenceData.snapshot;return t.filter(r=>r.visible&&r.opacity&&r.opacity>0).map(r=>i.sceneNodeLookup[r.id]?[{...i.sceneNodeLookup[r.id],opacity:(r.opacity??100)/100,color:[255,255,255,255]}]:(i.anatomicalStructures[e]||[]).filter(o=>o.representation_of===r.id).map(o=>({...i.sceneNodeLookup[o["@id"]],opacity:(r.opacity??100)/100,color:[255,255,255,255]}))).reduce((r,o)=>r.concat(o),[])}getOrganSpatialEntity(e){return this.referenceData.snapshot.organSpatialEntities[e]}getCollisions(e){return this.globalConfig.getOption("collisionsEndpoint").pipe(Br(t=>t?this.http.post(t,JSON.stringify(e),{headers:{"Content-Type":"application/json"}}):Mn(void 0)),ic(()=>Mn(void 0)),yr(1))}filterNodeCollisions(e,t){const i=new Set(t.map(r=>r.id));return e.filter(r=>i.has(r["@id"]))}filterNodeBBox(e,t){const i=see(t);return e.filter(r=>i.overlaps(see(r)))}getPreviousRegistrationNodes(e,t){return t.map(r=>{const o=Array.isArray(r.placement)?r.placement[0]:r.placement;if(o.target===e){const s=this.model.snapshot.organDimensions,a=[s.x,s.y,s.z].map(c=>-c/1e3/2);return{"@id":r["@id"],"@type":"SpatialSceneNode",transformMatrix:new Bt(Bt.IDENTITY).translate([o.x_translation,o.y_translation,o.z_translation].map((c,l)=>c/1e3+a[l])).rotateXYZ([o.x_rotation,o.y_rotation,o.z_rotation].map(ho)).scale([r.x_dimension,r.y_dimension,r.z_dimension].map(c=>c/1e3/2)),color:[25,118,210,200],tooltip:r.label,unpickable:!0}}}).filter(r=>void 0!==r)}static#e=this.\u0275fac=function(t){return new(t||gM)(Ke(bi),Ke(gd),Ke(cs))};static#t=this.\u0275prov=Rt({token:gM,factory:gM.\u0275fac})};Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"nodes$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"rotatedNodes$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"referenceOrganNodes$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"referenceOrganSimpleNodes$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"nodeCollisions$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"previousRegistrationNodes$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"spatialKeyBoardAxis$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"placementCube$",null),Nt([Wi(),Ie("design:type",Object),Ie("design:paramtypes",[])],Ca.prototype,"placementCube",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"rotation$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Ca.prototype,"collisions$",null),Ca=Nt([Hu(),Ld({name:"scene",defaults:{showCollisions:!Xd.production}}),Ie("design:paramtypes",[bi,gd,cs])],Ca);let Yd=class _M extends pje{get tags$(){return zo([this.entities$,this.scene.nodeCollisions$]).pipe(le(([e,t])=>{const i=[],r=new Set,o=new Set;Object.entries(e).forEach(([s,a])=>{"removed"===a.type?o.add(s):(r.add(s),i.push(a))});for(const s of t){const a=s.representation_of;a&&!o.has(a)&&!r.has(a)&&(r.add(a),i.push({id:a,label:s.tooltip,type:"assigned"}))}return i}))}get latestTags(){return this._latestTags}constructor(e){super(),this.injector=e,this._latestTags=[]}ngxsOnInit(){super.ngxsOnInit(),this.model=this.injector.get(wr),this.scene=this.injector.get(Ca),this.page=this.injector.get(so),this.tags$.subscribe(e=>{this._latestTags=e}),this.entities$.subscribe(()=>this.page.setHasChanges())}addTags(e){for(const t of e)this.addTagRaw(t)}addTag(e){this.addTagRaw(e)}removeTag(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"removed"}}]):this.addEntityOne({...e,type:"removed"})}searchExternal(e,t){const i=this.model.snapshot.anatomicalStructures.filter(r=>-1!==r.name.toLowerCase().indexOf(e.toLowerCase()));return[{totalCount:i.length,results:i.map(r=>({id:r.id,label:r.name,type:"added"})).slice(0,t)}]}addTagRaw(e){this.snapshot.entities[e.id]?this.updateEntitiesMany([{id:e.id,changes:{type:"added"}}]):this.addEntityOne({...e,type:"added"})}static#e=this.\u0275fac=function(t){return new(t||_M)(Ke(bi))};static#t=this.\u0275prov=Rt({token:_M,factory:_M.\u0275fac})};Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Yd.prototype,"tags$",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],Yd.prototype,"addTags",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],Yd.prototype,"addTag",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],Yd.prototype,"removeTag",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[String,Number]),Ie("design:returntype",Object)],Yd.prototype,"searchExternal",null),Yd=Nt([Hu(),Ld({name:"tags",defaults:{...function P8e(n){return n??{ids:[],entities:{}}}()}}),Ie("design:paramtypes",[bi])],Yd);let Co=class bM extends bm{get metadata$(){return zo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(le(([e,t,i])=>this.buildMetadata(e,t,i)))}get jsonld$(){return zo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(le(([e,t,i])=>this.buildJsonLd(e,t,i)))}get throttledJsonld$(){return zo([this.page.state$,this.model.state$,this.tags.tags$]).pipe(DT(100,void 0,{leading:!0,trailing:!0}),hr(nx.isEqual),le(([e,t,i])=>this.buildJsonLd(e,t,i)))}get valid$(){return zo([this.page.state$,this.model.state$]).pipe(le(()=>this.isValid))}get previousRegistrations$(){const{globalConfig:e,state$:t}=this;return zo([t.pipe(le(o=>o?.registrations)),e.getOption("fetchPreviousRegistrations").pipe(Br(o=>o?.()??[[]]),ms([]))]).pipe(le(([o,s])=>[...o,...s]))}get currentIdentifier(){return k8e()}get currentDate(){return(new Date).toISOString().split("T")[0]}constructor(e,t){super(),this.injector=e,this.globalConfig=t,this.displayErrors$=this.state$.pipe(le(i=>i?.displayErrors))}ngxsOnInit(){super.ngxsOnInit(),this.page=this.injector.get(so),this.model=this.injector.get(wr),this.tags=this.injector.get(Yd),this.refData=this.injector.get(Sm),this.refData.state$.subscribe(()=>{this.globalConfig.config$.pipe(yr(1),ur(({useDownload:e,register:t,organOptions:i})=>{this.ctx.patchState({useRegistrationCallback:!(e||!t)}),this.page.setOrcidId(),this.model.setOrganDefaults(),this.setOrganSelection(i)})).subscribe(),this.globalConfig.getOption("editRegistration").pipe(MB(),ur(e=>{this.editRegistration(e)})).subscribe()})}editRegistration(e){var t=this;return R(function*(){t.ctx.patchState({initialRegistration:e});const i=t.refData.normalizePlacement(Array.isArray(e.placement)?e.placement[0]:e.placement),r=t.refData.getOrganData(i.target);t.page.setUserName({firstName:e.creator_first_name,middleName:e.creator_middle_name,lastName:e.creator_last_name});const o=t.page.uriToOrcid(e.creator_orcid);t.page.setOrcidId(o),r&&(t.model.setOrgan(r.organ),r.sex&&t.model.setSex(r.sex),r.side&&t.model.setSide(r.side)),t.model.setBlockSize({x:e.x_dimension,y:e.y_dimension,z:e.z_dimension}),t.model.setRotation({x:i.x_rotation,y:i.y_rotation,z:i.z_rotation}),t.model.setSlicesConfig({thickness:e.slice_thickness||NaN,numSlices:e.slice_count||NaN}),t.model.setPosition({x:i.x_translation,y:i.y_translation,z:i.z_translation});const s=new Set(e.ccf_annotations);t.tags.addTags(t.model.snapshot.anatomicalStructures.filter(a=>s.has(a.id)).map(a=>({id:a.id,label:a.name,type:"added"}))),t.page.registrationStarted()})()}setUseRegistrationCallback(e){this.ctx.patchState({useRegistrationCallback:e})}setDisplayErrors(e){this.ctx.patchState({displayErrors:e})}addRegistration(e){this.ctx.setState(om({registrations:q2e(e)})),this.page.registrationStarted()}setOrganSelection(e=[]){this.page.patchState({organOptions:this.organListOptions(e)})}isDataValid(e,t){return[e.user.firstName,e.user.lastName,e.orcidValid,t.organ.src,t.organ.name,t.organ.organ].every(r=>!!r)}get isValid(){return this.isDataValid(this.page.snapshot,this.model.snapshot)}register(e){if(this.page.registrationStarted(),!this.isValid)return;const{globalConfig:{snapshot:{register:t}},page:i,model:r,snapshot:o}=this,s=this.buildJsonLd(i.snapshot,r.snapshot,this.tags.latestTags),a=JSON.stringify(s,void 0,2);if(e??(void 0===e&&o.useRegistrationCallback))t?.(a);else{const c=new Blob([a],{type:"application/json",endings:"native"});(0,I8e.saveAs)(c,"registration-data.json")}this.setDisplayErrors(!1),this.page.clearHasChanges(),this.addRegistration(s)}setToInitialRegistration(){const{page:e}=this,t={...this.snapshot.initialRegistration,creator_first_name:e.snapshot.user.firstName,creator_last_name:e.snapshot.user.lastName,creator_middle_name:e.snapshot.user.middleName,creator_orcid:e.snapshot.user.orcidId};this.editRegistration(t)}buildMetadata(e,t,i){const r=[];return e.registrationCallbackSet||r.push({label:"First Name",value:e.user.firstName},{label:"Last Name",value:e.user.lastName}),r.push({label:"Reference Organ Name",value:t.organ.name},{label:"Tissue Block Dimensions (mm)",value:this.xyzTripletToString(t.blockSize)},{label:"Tissue Block Position (mm)",value:this.xyzTripletToString(t.position)},{label:"Tissue Block Rotation",value:this.xyzTripletToString(t.rotation)},{label:"Anatomical Structure Tags",value:i.map(o=>o.label).join(", ")},{label:"Time Stamp",value:this.currentDate},{label:"Alignment ID",value:this.currentIdentifier}),r}buildJsonLd(e,t,i){return{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}`,"@type":"SpatialEntity",label:t.label||void 0,creator:`${e.user.firstName} ${e.user.middleName?e.user.middleName+" ":""}${e.user.lastName}`,creator_first_name:e.user.firstName,creator_last_name:e.user.lastName,creator_middle_name:e.user.middleName,creator_orcid:e.user.orcidId,creation_date:this.currentDate,ccf_annotations:i.map(r=>r.id),slice_thickness:t.slicesConfig?.thickness||void 0,slice_count:t.slicesConfig?.numSlices||void 0,x_dimension:+t.blockSize.x.toFixed(3),y_dimension:+t.blockSize.y.toFixed(3),z_dimension:+t.blockSize.z.toFixed(3),dimension_units:"millimeter",placement:{"@context":"https://hubmapconsortium.github.io/ccf-ontology/ccf-context.jsonld","@id":`http://purl.org/ccf/1.5/${this.currentIdentifier}_placement`,"@type":"SpatialPlacement",target:t.organIri,placement_date:this.currentDate,x_scaling:1,y_scaling:1,z_scaling:1,scaling_units:"ratio",x_rotation:+t.rotation.x.toFixed(3),y_rotation:+t.rotation.y.toFixed(3),z_rotation:+t.rotation.z.toFixed(3),rotation_order:"XYZ",rotation_units:"degree",x_translation:+t.position.x.toFixed(3),y_translation:+t.position.y.toFixed(3),z_translation:+t.position.z.toFixed(3),translation_units:"millimeter"}}}xyzTripletToString(e){return`${Math.round(e.x)}, ${Math.round(e.y)}, ${Math.round(e.z)}`}organListOptions(e){return e&&e.length>0?$3.filter(t=>!!t.id&&e.includes(t.id)):$3}static#e=this.\u0275fac=function(t){return new(t||bM)(Ke(bi),Ke(cs))};static#t=this.\u0275prov=Rt({token:bM,factory:bM.\u0275fac})};Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Co.prototype,"metadata$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Co.prototype,"jsonld$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Co.prototype,"throttledJsonld$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Co.prototype,"valid$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],Co.prototype,"previousRegistrations$",null),Nt([Wi(),Ie("design:type",String),Ie("design:paramtypes",[])],Co.prototype,"currentIdentifier",null),Nt([Wi(),Ie("design:type",String),Ie("design:paramtypes",[])],Co.prototype,"currentDate",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Boolean]),Ie("design:returntype",void 0)],Co.prototype,"setUseRegistrationCallback",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Boolean]),Ie("design:returntype",void 0)],Co.prototype,"setDisplayErrors",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],Co.prototype,"addRegistration",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],Co.prototype,"setOrganSelection",null),Nt([Wi(),Ie("design:type",Boolean),Ie("design:paramtypes",[])],Co.prototype,"isValid",null),Co=Nt([Hu(),Ld({name:"registration",defaults:{useRegistrationCallback:!1,displayErrors:!1,registrations:[]}}),Ie("design:paramtypes",[bi,cs])],Co);let so=class yM extends bm{get skipConfirmation$(){return this.state$.pipe(DB("skipConfirmation"))}get globalSkipConfirmation$(){return this.globalConfig.getOption("skipUnsavedChangesConfirmation").pipe(le(e=>e??Xd.skipUnsavedChangesConfirmation),hr())}get hasChanges$(){return this.state$.pipe(DB("hasChanges"))}constructor(e,t){super(),this.globalConfig=e,this.reg=t,this.user$=this.state$.pipe(le(i=>i?.user)),this.registrationStarted$=this.state$.pipe(DB("registrationStarted")),this.useCancelRegistrationCallback$=this.state$.pipe(le(i=>i?.useCancelRegistrationCallback)),this.registrationCallbackSet$=this.state$.pipe(le(i=>i?.registrationCallbackSet)),this.organOptions$=this.state$.pipe(le(i=>i?.organOptions)),this.orcidValid$=this.state$.pipe(le(i=>i?.orcidValid))}ngxsOnInit(){super.ngxsOnInit(),zo([this.reg.state$,this.globalConfig.config$]).pipe(ur(([e,t])=>{this.setState(om({registrationCallbackSet:!!e.useRegistrationCallback&&!!t.register,useCancelRegistrationCallback:!!t.cancelRegistration,user:$2e(!!t.user,t.user??{firstName:"",lastName:""}),registrationStarted:!!(t.user??e.initialRegistration)||void 0}))})).subscribe(),this.initSkipConfirmationListeners()}cancelRegistration(){const{globalConfig:{snapshot:{cancelRegistration:e}},snapshot:{useCancelRegistrationCallback:t,skipConfirmation:i}}=this;t&&(i||confirm("Changes you made may not be saved."))&&e?.()}setUseCancelRegistrationCallback(e){this.ctx.patchState({useCancelRegistrationCallback:e})}setUserName(e){this.ctx.setState(om({user:om({firstName:e.firstName,lastName:e.lastName,middleName:""!==e.middleName?e.middleName:void 0})}))}setOrcidId(e){this.ctx.setState(om({user:om({orcidId:e?this.orcidToUri(e):void 0})})),this.ctx.patchState({orcidValid:!e||this.isOrcidValid()})}registrationStarted(){this.ctx.setState(om({registrationStarted:!0}))}setHasChanges(){const{snapshot:{registrationStarted:e,hasChanges:t}}=this;e&&!t&&this.ctx.patchState({hasChanges:!0})}clearHasChanges(){this.ctx.patchState({hasChanges:!1})}initSkipConfirmationListeners(){const e=i=>this.patchState({skipConfirmation:i});this.globalSkipConfirmation$.pipe(Ei(i=>i)).subscribe(e),this.hasChanges$.pipe(function M8e(...n){const e=rk(n);return S((t,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)vo(n[c]).subscribe(P(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(He))&&(s=null))},Tt));t.subscribe(P(i,c=>{if(a){const l=[c,...o];i.next(e?e(...l):l)}}))})}(this.globalSkipConfirmation$),le(([i,r])=>r||!i),hr()).subscribe(e);const t=i=>(i.preventDefault(),i.returnValue="Changes you made may not be saved.",i.returnValue);this.skipConfirmation$.subscribe(i=>{i?removeEventListener("beforeunload",t):addEventListener("beforeunload",t)})}isOrcidValid(){const e=this.uriToOrcid(this.snapshot.user.orcidId);return!(e&&!e.match("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$"))}uriToOrcid(e){return e?e.split("/").slice(-1)[0]:""}orcidToUri(e){return"https://orcid.org/"+e.replace(/-/g,"").replace(/(.{1,4})/g,"$1-").slice(0,-1)}static#e=this.\u0275fac=function(t){return new(t||yM)(Ke(cs),Ke(Co))};static#t=this.\u0275prov=Rt({token:yM,factory:yM.\u0275fac})};Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],so.prototype,"skipConfirmation$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],so.prototype,"globalSkipConfirmation$",null),Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],so.prototype,"hasChanges$",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Boolean]),Ie("design:returntype",void 0)],so.prototype,"setUseCancelRegistrationCallback",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],so.prototype,"setUserName",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",void 0)],so.prototype,"setOrcidId",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],so.prototype,"registrationStarted",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],so.prototype,"setHasChanges",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],so.prototype,"clearHasChanges",null),so=Nt([Hu(),Ld({name:"page",defaults:{user:{firstName:"",lastName:""},registrationStarted:!1,useCancelRegistrationCallback:!1,registrationCallbackSet:!1,skipConfirmation:!0,hasChanges:!1,organOptions:[],orcidValid:!1}}),Ie("design:paramtypes",[cs,Co])],so);const $3=uT;let wr=class vM extends bm{get modelChanged$(){const e=["viewType","viewSide","showPrevious"],t=Object.keys(this.initialState).filter(i=>!e.includes(i));return this.state$.pipe(DT(0,void 0,{leading:!1,trailing:!0}),hr((i,r)=>{for(const o of t)if(i[o]!==r[o])return!1;return!0}),le(()=>{}))}constructor(e,t,i){super(),this.ga=e,this.injector=t,this.globalConfig=i,this.id$=this.state$.pipe(le(r=>r?.id),hr()),this.blockSize$=this.state$.pipe(le(r=>r?.blockSize),hr()),this.rotation$=this.state$.pipe(le(r=>r?.rotation),hr()),this.position$=this.state$.pipe(le(r=>r?.position),hr()),this.slicesConfig$=this.state$.pipe(le(r=>r?.slicesConfig),hr()),this.viewType$=this.state$.pipe(le(r=>r?.viewType),hr()),this.viewSide$=this.state$.pipe(le(r=>r?.viewSide),hr()),this.organ$=this.state$.pipe(le(r=>r?.organ),hr()),this.organIri$=this.state$.pipe(le(r=>r?.organIri),hr()),this.organDimensions$=this.state$.pipe(le(r=>r?.organDimensions),hr()),this.sex$=this.state$.pipe(le(r=>r?.sex),hr()),this.side$=this.state$.pipe(le(r=>r?.side),hr()),this.showPrevious$=this.state$.pipe(le(r=>r?.showPrevious),hr()),this.extractionSites$=this.state$.pipe(le(r=>r?.extractionSites),hr()),this.anatomicalStructures$=this.state$.pipe(le(r=>r?.anatomicalStructures),hr()),this.extractionSets$=this.state$.pipe(le(r=>r?.extractionSets),hr())}ngxsOnInit(){super.ngxsOnInit(),this.referenceData=this.injector.get(Sm),this.page=this.injector.get(so),this.referenceData.state$.subscribe(()=>this.onReferenceDataChange())}idMatches(e,t){return uT.find(i=>!(!e||i.id!==e||i.side&&i.side!==t))}nameMatches(e,t){return uT.find(i=>i.side?i.organ.toLowerCase()===e&&i.side===t:i.organ.toLowerCase()===e)}setBlockSize(e){this.ctx.patchState({blockSize:e})}setRotation(e){this.ctx.patchState({rotation:e})}setPosition(e){this.ga.event("placement",`${this.snapshot.organ?.name}_placement`,`${e.x.toFixed(1)}_${e.y.toFixed(1)}_${e.z.toFixed(1)}`),this.ctx.patchState({position:e})}setSlicesConfig(e){this.ctx.patchState({slicesConfig:e})}setViewType(e){this.ctx.patchState({viewType:e})}setViewSide(e){this.ctx.patchState({viewSide:e})}get defaultPosition(){const e=this.snapshot.organDimensions;return{x:e.x+2*this.snapshot.blockSize.x,y:e.y/2,z:e.z/2}}setOrgan(e){e&&(this.ga.event("organ_select","organ",e.name),this.ctx.patchState({organ:e}),this.ctx.patchState(e.side?{side:e.side}:{side:void 0}),this.onOrganIriChange())}setOrganDefaults(){this.ctx.patchState({position:this.defaultPosition,rotation:{x:0,y:0,z:0}})}setSex(e){this.ctx.patchState({sex:e}),this.onOrganIriChange()}setSide(e){this.ctx.patchState({side:e}),this.onOrganIriChange()}setShowPrevious(e){this.ctx.patchState({showPrevious:e})}setExtractionSites(e){this.ctx.patchState({extractionSites:e})}setAnatomicalStructures(e){this.ctx.patchState({anatomicalStructures:e})}setExtractionSets(e){this.ctx.patchState({extractionSets:e})}toggleRegistrationBlocksVisibility(e,t){if(this.setShowPrevious(e),e){const i=t.map(r=>({...r,opacity:Math.min(20,r.opacity??20)}));this.setAnatomicalStructures(i)}else this.setAnatomicalStructures(t)}onOrganIriChange(){const e=this.referenceData.getReferenceOrganIri(this.snapshot.organ?.organ||"",this.snapshot.sex,this.snapshot.side,this.snapshot.organ),t={x:100,y:100,z:100};if(this.snapshot.organ?.sex&&this.ctx.patchState({sex:this.snapshot.organ?.sex}),e){const i=this.referenceData.snapshot,r={};for(const a of i.anatomicalStructures[e]||[]){const c=a.representation_of??a["@id"];r[c]||(r[c]={id:a.representation_of??a["@id"],name:a.label??"",visible:!0,opacity:20,tooltip:a.comment})}this.ctx.patchState({anatomicalStructures:[{id:"all",name:"all anatomical structures",opacity:20,visible:!0},...Object.values(r)]});const o=(i.extractionSets[e]||[]).map(a=>({name:a.label,sites:[{id:"all",name:"all landmarks",visible:!0,opacity:0}].concat((0,nx.sortBy)(a.extractionSites.map(c=>({id:c["@id"],name:c.label??"",visible:!0,opacity:0,tooltip:c.comment})),"name"))}));this.ctx.patchState({extractionSets:o}),this.ctx.patchState({extractionSites:o.length>0?o[0].sites:[]});const s=i.organSpatialEntities[e];t.x=s.x_dimension,t.y=s.y_dimension,t.z=s.z_dimension}this.ctx.patchState({organIri:e,organDimensions:t})}onReferenceDataChange(){this.globalConfig.getOption("organ").pipe(MB(),ZL(0),Br(e=>this.onOrganChange(e))).subscribe(),this.modelChanged$.pipe(function T8e(n){return S((e,t)=>{let i=!1;const r=P(t,()=>{r?.unsubscribe(),i=!0},Tt);vo(n).subscribe(r),e.subscribe(P(t,o=>i&&t.next(o)))})}(this.page.registrationStarted$.pipe(Ei(e=>e)))).subscribe(()=>this.page.setHasChanges())}onOrganChange(e){let t,i;if("string"==typeof e){const r=this.referenceData.getOrganData(e);i=r?.sex?.toLowerCase(),t=r?.organ}else{const r=e.name.toLowerCase(),o=e.side,s=e.ontologyId;i=e.sex?.toLowerCase(),t=this.idMatches(s,o),t||(t=this.nameMatches(r,o))}return t?(this.ctx.patchState({organ:t,sex:i,side:t?.side?.toLowerCase()}),this.referenceData.state$.pipe(ur(()=>this.onOrganIriChange()))):Ls}static#e=this.\u0275fac=function(t){return new(t||vM)(Ke(Ds),Ke(bi),Ke(cs))};static#t=this.\u0275prov=Rt({token:vM,factory:vM.\u0275fac})};Nt([Wi(),Ie("design:type",Ct),Ie("design:paramtypes",[])],wr.prototype,"modelChanged$",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],wr.prototype,"setBlockSize",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],wr.prototype,"setRotation",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],wr.prototype,"setPosition",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],wr.prototype,"setSlicesConfig",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",void 0)],wr.prototype,"setViewType",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",void 0)],wr.prototype,"setViewSide",null),Nt([Wi(),Ie("design:type",Object),Ie("design:paramtypes",[])],wr.prototype,"defaultPosition",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",void 0)],wr.prototype,"setOrgan",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[]),Ie("design:returntype",void 0)],wr.prototype,"setOrganDefaults",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",void 0)],wr.prototype,"setSex",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",void 0)],wr.prototype,"setSide",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Boolean]),Ie("design:returntype",void 0)],wr.prototype,"setShowPrevious",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],wr.prototype,"setExtractionSites",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],wr.prototype,"setAnatomicalStructures",null),Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Array]),Ie("design:returntype",void 0)],wr.prototype,"setExtractionSets",null),wr=Nt([Hu(),Ld({name:"model",defaults:{id:"",label:"",organ:{src:"",name:""},organIri:"",organDimensions:{x:90,y:90,z:90},sex:"male",blockSize:{x:10,y:10,z:10},rotation:{x:0,y:0,z:0},position:{x:0,y:0,z:0},slicesConfig:{thickness:NaN,numSlices:NaN},viewType:"register",viewSide:"anterior",showPrevious:!1,extractionSites:[],anatomicalStructures:[],extractionSets:[]}}),Ie("design:paramtypes",[Ds,bi,cs])],wr);const aee={isolated:!0},cee=new vt("Message service configuration",{providedIn:"root",factory:()=>aee});let B8e=(()=>{class n{static#e=this.counter=0;constructor(t,i,r){this.source=t,this.channel=i,this.messages=r}sendMessage(t){this.channel.next({id:this.nextMessageId(),source:this.source,payload:t})}getMessages(){return this.messages.pipe(Ei(t=>t.source!==this.source))}getMessagesFromSource(t){return this.getMessages().pipe(Ei(i=>i.source===t))}getMessagesFromSources(t){return this.getMessages().pipe(Ei(i=>t.includes(i.source)))}nextMessageId(){const t=n.counter;return n.counter++,t}}return n})();const ux=(()=>{class n{constructor(t,i){this.config=t,this.parent=i,this.channel=new en,this.messages=t.isolated||!i?this.channel.asObservable():ro([this.channel,i.messages.pipe(PG(()=>!this.channel.closed))]).pipe(Wv())}ngOnDestroy(){this.channel.complete()}connect(t){return new B8e(t,this.channel,this.messages)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(cee),Ke(n,12))};static#t=this.\u0275prov=Rt({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j8e=["*"];let sM=(()=>{class n{constructor(t,i){this.className="ccf-drawer-content",this.animationsEnabled=!1,this.leftMargin=0,this.rightMargin=0,this.faded=!1,this.drawers=[],this.subscriptions=new Ht;const r=t.connect(this).getMessages();this.subscriptions.add(r.subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){switch(t.payload.type){case"drawer-containers-changed":return this.drawers=t.payload.drawers,this.updateFaded(),!0;case"drawer-initialized":return this.animationsEnabled=!0,!0;case"drawer-toggled":{const i=t.source.position,{opened:r,width:o,margin:s}=t.payload;return this.updateMargin(i,r,o,s),this.updateFaded(),!0}default:return!1}}updateMargin(t,i,r,o){const s=i?r+o:o;"start"===t?this.leftMargin=s:this.rightMargin=s}updateFaded(){const[t,i]=this.drawers;this.faded=!!(t?.opened&&t?.expanded||i?.opened&&i?.expanded)}static#e=this.\u0275fac=function(i){return new(i||n)(be(ux),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer-content"]],hostVars:9,hostBindings:function(i,r){2&i&&(Cv("@fadeInOut",r.faded),vi(r.className),Ih("margin-left",r.leftMargin,"px")("margin-right",r.rightMargin,"px"),bn("cff-drawer-content-animations",r.animationsEnabled))},ngContentSelectors:j8e,decls:1,vars:0,template:function(i,r){1&i&&(br(),Un(0))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;z-index:2;overflow:auto}.cff-drawer-content-animations[_nghost-%COMP%]{transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:margin-left,margin-right}"],data:{animation:[tl("fadeInOut",[Vo("false",sr({opacity:1})),Vo("true",sr({opacity:0})),Is("false <=> true",Ms("1s"))])]},changeDetection:0})}return n})();const U8e=["*"],q3={params:{width:0,margin:0,margin2:0}};class V8e{constructor(){this.initialized=!1,this.deferred=new Promise(e=>{this.resolve=e})}set(){this.initialized=!0,this.resolve()}wait(){var e=this;return R(function*(){return e.deferred})()}valueOf(){return this.initialized}}let X3=(()=>{class n{get classEnd(){return"end"===this.position}get position(){return this._position}set position(t){this._position=t||"start"}get opened(){return this._opened}set opened(t){this.toggle(pd(t))}get expanded(){return this._expanded}set expanded(t){this.toggleExpanded(pd(t))}get expandedStateObj(){return{value:this.expandedState2,params:{width:this.width,margin:this.measuredMargin,margin2:this.margin2}}}get measuredWidth(){if(this._measuredWidth>0)return this._measuredWidth;const t=this.element.nativeElement;if(!t)return 0;const i=t.getBoundingClientRect(),r=i.right-i.left;return 0===r?0:(this._measuredWidth=r,r)}get measuredMargin(){if(this._measuredMargin>0)return this._measuredMargin;const t=this.element.nativeElement;if(!t)return 0;const o=globalThis.getComputedStyle(t).getPropertyValue("start"===this.position?"margin-right":"margin-left"),s=Number(o.slice(0,-2));return this._measuredMargin=s,s}constructor(t,i,r){this.element=r,this.className="ccf-drawer",this._position="start",this._opened=!1,this._expanded=!1,this.openedChange=new Qt(!0),this.expandedChange=new Qt(!0),this.stateChange=new Qt(!0),this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._measuredWidth=0,this.width=0,this._measuredMargin=0,this.margin2=0,this.initialized=new V8e,this.subscriptions=new Ht,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(o=>{this.handleMessage(o)&&i.markForCheck()}))}ngAfterViewInit(){this.initialized.set(),setTimeout(()=>this.channel.sendMessage({type:"drawer-initialized"}))}ngOnDestroy(){this.subscriptions.unsubscribe()}open(){this.toggle(!0)}close(){this.toggle(!1)}toggle(t=!this.opened){this.opened!==t&&(t?this.openedState=this.initialized.valueOf()?"open":"open-instant":(this.openedState="closed",this.expandedState="closed",this.expandedState2="collapsed",this._expanded=!1),this._opened=t,this.sendToggle())}openExpanded(){this.toggleExpanded(!0)}closeExpanded(){this.toggleExpanded(!1)}toggleExpanded(t=!this.expanded){this.expanded!==t&&(t?this.expandedState=this.initialized.valueOf()?"open":"open-instant":(this.expandedState="closed",this.expandedState2="collapsed"),this._expanded=t,this.sendToggle())}closeOpenDone(){this.openedChange.emit(this.opened)}expandCollapseDone(){this.expandedChange.emit(this.expanded)}sendToggle(){var t=this;return R(function*(){yield t.initialized.wait(),t.channel.sendMessage({type:"drawer-toggled",opened:t.opened,expanded:t.expanded,width:t.measuredWidth,margin:t.measuredMargin}),t.stateChange.emit()})()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.syncExpanded(t.source),!0)}syncExpanded(t){(this.expanded||t.expanded)&&(this.expanded&&t.expanded?this.expandedState2=t.expandedState2="half":this.expanded?t.opened?(this.expandedState2="extended",this.width=t.measuredWidth+t.measuredMargin):(this.expandedState2="full",this.margin2=t.measuredMargin):this.opened?(t.expandedState2="extended",t.width=this.measuredWidth+this.measuredMargin):(t.expandedState2="full",t.margin2=this.measuredMargin))}static#e=this.\u0275fac=function(i){return new(i||n)(be(ux),be(Ai),be(On))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer"]],hostVars:10,hostBindings:function(i,r){1&i&&YC("@openClose.done",function(){return r.closeOpenDone()})("@expandCollapse.done",function(){return r.expandCollapseDone()}),2&i&&(Cv("@openClose",r.openedState)("@expandCollapse",r.expandedStateObj),vi(r.className),bn("ccf-drawer-end",r.classEnd)("ccf-drawer-opened",r.opened)("ccf-drawer-expanded",r.expanded))},inputs:{position:"position",opened:"opened",expanded:"expanded"},outputs:{openedChange:"openedChange",expandedChange:"expandedChange",stateChange:"stateChange"},exportAs:["ccfDrawer"],ngContentSelectors:U8e,decls:2,vars:0,consts:[[1,"cff-drawer-inner-container"]],template:function(i,r){1&i&&(br(),Ye(0,"div",0),Un(1),et())},styles:["[_nghost-%COMP%]{display:block;position:absolute;top:0;bottom:0;z-index:2;outline:0;transform:translate3d(-100%,0,0)}.ccf-drawer-end[_nghost-%COMP%]{right:0;transform:translate3d(100%,0,0)}[_nghost-%COMP%]   .cff-drawer-inner-container[_ngcontent-%COMP%]{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch;scrollbar-width:thin}"],data:{animation:[tl("openClose",[Vo("open, open-instant",sr({transform:"none"})),Vo("closed",sr({})),Is("closed => open-instant",Ms(0)),Is("closed <=> open, open-instant => closed",Ms(".5s ease-in-out"))]),tl("expandCollapse",[Vo("collapsed",sr({})),Vo("half",sr({width:"calc(50% - {{ margin }}px)"}),q3),Vo("extended",sr({width:"calc(100% - {{ width }}px - {{ margin }}px)"}),q3),Vo("full",sr({width:"calc(100% - {{ margin }}px - {{ margin2 }}px)"}),q3),Is("* <=> *",Ms(".5s ease-in-out"))])]},changeDetection:0})}return n})();const z8e=[[["ccf-drawer"]],[["ccf-drawer-content"]],"*"],H8e=["ccf-drawer","ccf-drawer-content","*"];function G8e(n,e){1&n&&(Ye(0,"ccf-drawer-content"),Un(1,2),et())}function lee(n){throw new Error(`Multiple drawers in position ${n}`)}let W8e=(()=>{class n{get content(){return this.content1.first??this.content2.first}get hasWrappedContent(){return 0!==this.content1.length}constructor(t,i){this.cdr=i,this.className="ccf-drawer-container",this.subscriptions=new Ht,this.channel=t.connect(this),this.subscriptions.add(this.channel.getMessages().subscribe(r=>{this.handleMessage(r)&&i.markForCheck()}))}ngAfterViewInit(){this.drawers.changes.pipe(ms(null)).subscribe(()=>{const t=this.validateDrawers();this.channel.sendMessage({type:"drawer-containers-changed",drawers:t}),this.cdr.markForCheck()}),this.content1.changes.pipe(ms(null)).subscribe(()=>{this.channel.sendMessage({type:"content-container-changed",content:this.content}),this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return!0}validateDrawers(){const t=this.drawers.toArray(),i=t.filter(o=>"start"===o.position),r=t.filter(o=>"end"===o.position);return i.length>1&&lee("start"),r.length>1&&lee("end"),[i[0],r[0]]}static#e=this.\u0275fac=function(i){return new(i||n)(be(ux),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer-container"]],contentQueries:function(i,r,o){if(1&i&&(pr(o,X3,5),pr(o,sM,5)),2&i){let s;In(s=Dn())&&(r.drawers=s),In(s=Dn())&&(r.content1=s)}},viewQuery:function(i,r){if(1&i&&Di(sM,5),2&i){let o;In(o=Dn())&&(r.content2=o)}},hostVars:2,hostBindings:function(i,r){2&i&&vi(r.className)},exportAs:["ccfDrawerContainer"],features:[Jn([ux])],ngContentSelectors:H8e,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&(br(z8e),Un(0),Un(1,1),mn(2,G8e,2,0,"ccf-drawer-content",0)),2&i&&(lt(2),Dt("ngIf",!r.hasWrappedContent))},dependencies:[Za,sM],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:1;overflow:hidden;-webkit-overflow-scrolling:touch}"],changeDetection:0})}return n})(),$8e=(()=>{class n{get classEnd(){return"end"===this.position}get icon(){let t="arrow_right",i="arrow_left";return"end"===this.position&&([t,i]=[i,t]),this.opened?i:t}constructor(t,i,r){this.drawer=t,this.cdr=r,this.className="ccf-drawer-toggle-button",this.position="start",this.opened=!1,this.subscriptions=new Ht;const o=i.connect(this);this.subscriptions.add(o.getMessagesFromSource(t).subscribe(s=>{this.handleMessage(s)&&r.markForCheck()}))}ngAfterViewInit(){setTimeout(()=>{this.position=this.drawer.position,this.cdr.markForCheck()})}ngOnDestroy(){this.subscriptions.unsubscribe()}handleMessage(t){return"drawer-toggled"===t.payload.type&&(this.opened=t.payload.opened,!0)}toggle(){const t=this.drawer,{opened:i,expanded:r}=t;i?r?t.closeExpanded():t.close():t.open()}static#e=this.\u0275fac=function(i){return new(i||n)(be(X3),be(ux),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-drawer-toggle-button"]],hostVars:4,hostBindings:function(i,r){2&i&&(vi(r.className),bn("ccf-drawer-toggle-button-end",r.classEnd))},decls:4,vars:4,consts:[["aria-hidden","false","aria-label","Close side drawer",1,"expand-collapse-icon",3,"click"]],template:function(i,r){1&i&&(Ye(0,"mat-icon",0),Lt("click",function(){return r.toggle()}),Xt(1," arrow_right\n"),et(),Ye(2,"mat-icon",0),Lt("click",function(){return r.toggle()}),Xt(3," arrow_left\n"),et()),2&i&&(bn("hidden","arrow_left"===r.icon),lt(2),bn("hidden","arrow_right"===r.icon))},dependencies:[_a],styles:["[_nghost-%COMP%]{position:absolute;top:calc(50% - 2.0625rem);right:-1.0625rem;width:1.0625rem;height:3rem;border-radius:0rem .25rem .25rem 0rem;cursor:pointer;transition:.25s}.ccf-drawer-toggle-button-end[_nghost-%COMP%]{right:unset;left:calc(-1rem - 1px);border-radius:.25rem 0rem 0rem .25rem}[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{position:absolute;right:0rem;transition:.6s;padding-left:.15rem}[_nghost-%COMP%]   .expand-collapse-icon.hidden[_ngcontent-%COMP%]{opacity:0}.ccf-drawer-toggle-button-end[_nghost-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{right:unset;left:-.25rem}.mat-icon[_ngcontent-%COMP%]{right:.3rem;top:.675rem;padding-top:.05rem}"],changeDetection:0})}return n})();const q8e=["tooltip"],uee=new vt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(gs);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),Y8e={provide:uee,deps:[gs],useFactory:function X8e(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},J8e=new vt("mat-tooltip-default-options",{providedIn:"root",factory:function K8e(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),hee="tooltip-panel",fee=u_({passive:!0});let Wl=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=pd(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=pd(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=O1(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=O1(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,c,l,d,h,f,m){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=c,this._focusMonitor=l,this._dir=h,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=n5e,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new en,this._scrollStrategy=d,this._document=m,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures)),h.change.pipe(Si(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Si(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,fee)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new v_(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Si(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof On)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Si(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${hee}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Si(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Si(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Si(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!ec(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(yr(1),Si(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const c=`${this._cssClassPrefix}-${hee}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,fee)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){return new(i||n)(be(gs),be(On),be(RG),be(Ss),be(_n),be(oo),be(Uhe),be(Tu),be(uee),be(Ol),be(J8e,8),be(ni))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&bn("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[gt.None,"matTooltipPosition","position"],positionAtOrigin:[gt.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[gt.None,"matTooltipDisabled","disabled"],showDelay:[gt.None,"matTooltipShowDelay","showDelay"],hideDelay:[gt.None,"matTooltipHideDelay","hideDelay"],touchGestures:[gt.None,"matTooltipTouchGestures","touchGestures"],message:[gt.None,"matTooltip","message"],tooltipClass:[gt.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}return n})(),n5e=(()=>{class n{constructor(t,i,r){this._changeDetectorRef=t,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new en,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ai),be(On),be(lo,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Di(q8e,7),2&i){let o;In(o=Dn())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&Lt("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&Ih("zoom",r.isVisible()?1:null)},standalone:!0,features:[Li],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"div",1,0),Lt("animationend",function(a){return fn(o),hn(r._handleAnimationEnd(a))}),Ye(2,"div",2),Xt(3),et()()}2&i&&(bn("mdc-tooltip--multiline",r._isMultiline),Dt("ngClass",r.tooltipClass),lt(3),jo(r.message))},dependencies:[A1],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),hl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[Y8e],imports:[S5,Bi,m0,ar,ar,oA]})}return n})();function i5e(n,e){1&n&&KO(0)}function r5e(n,e){if(1&n){const t=qi();Ye(0,"div",4),Lt("click",function(){return fn(t),hn(Tn().page.cancelRegistration())}),Ye(1,"mat-icon",5),Xt(2,"chevron_left"),et(),Ye(3,"span",6),Xt(4,"BACK"),et()()}}function o5e(n,e){if(1&n&&(Ye(0,"a",7),yn(1,"div",8),et()),2&n){const t=Tn();Dt("href",t.homeUrl,kg)("matTooltip",t.logoTooltip)}}let s5e=(()=>{class n{constructor(t){this.page=t,this.clsName="ccf-header"}static#e=this.\u0275fac=function(i){return new(i||n)(be(so))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-header"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{homeUrl:"homeUrl",logoTooltip:"logoTooltip"},decls:7,vars:5,consts:[["backButton",""],["logo",""],[4,"ngIf","ngIfThen","ngIfElse"],[1,"filler"],["rel","noreferrer noopener",1,"link","home",3,"click"],[1,"icon","backbutton"],[1,"text"],["rel","noreferrer noopener","matTooltipPosition","right",1,"link","portal",3,"href","matTooltip"],["aria-hidden","false","aria-label","Reset tool",1,"logo"]],template:function(i,r){if(1&i&&(mn(0,i5e,1,0,"ng-container",2),ei(1,"async"),mn(2,r5e,5,0,"ng-template",null,0,kv)(4,o5e,2,2,"ng-template",null,1,kv),yn(6,"div",3)),2&i){const o=Ts(3),s=Ts(5);Dt("ngIf",ti(1,3,r.page.useCancelRegistrationCallback$))("ngIfThen",o)("ngIfElse",s)}},dependencies:[Za,_a,Wl,ud],styles:["[_nghost-%COMP%]{display:flex;align-items:center;min-height:4rem;padding:0 1.5rem;border-bottom-width:1px;border-bottom-style:solid}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{padding:.25rem 0;height:2rem;display:flex;align-items:center;font-weight:lighter;font-size:1.5rem}[_nghost-%COMP%]   .link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;text-decoration:none;padding:.25rem 0}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{transition:color .6s}[_nghost-%COMP%]   .home[_ngcontent-%COMP%]   .backbutton[_ngcontent-%COMP%]{font-size:2.25rem;width:2.25rem;height:2.25rem}[_nghost-%COMP%]   .portal[_ngcontent-%COMP%]{height:100%;width:25rem;align-items:center;display:flex}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{width:100%;height:50%;background-repeat:no-repeat;background-size:contain}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1;margin:0}"],changeDetection:0})}return n})();function pee(n,e){return hr((t,i)=>e?e(t[n],i[n]):t[n]===i[n])}const a5e=["input"],c5e=["formField"],l5e=["*"];let mee=0;class gee{constructor(e,t){this.source=e,this.value=t}}const d5e={provide:Gs,useExisting:mi(()=>Y3),multi:!0},_ee=new vt("MatRadioGroup"),u5e=new vt("mat-radio-default-options",{providedIn:"root",factory:function h5e(){return{color:"accent"}}});let Y3=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=t,this._markRadiosForCheck()}constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+mee++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new Qt}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(t=>t===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(i=>{i.checked=this.value===i.value,i.checked&&(this._selected=i)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new gee(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ai))};static#t=this.\u0275dir=Zt({type:n,selectors:[["mat-radio-group"]],contentQueries:function(i,r,o){if(1&i&&pr(o,aM,5),2&i){let s;In(s=Dn())&&(r._radios=s)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],required:[gt.HasDecoratorInputTransform,"required","required",vn]},outputs:{change:"change"},exportAs:["matRadioGroup"],standalone:!0,features:[Jn([d5e,{provide:_ee,useExisting:n}]),Gr]})}return n})(),aM=(()=>{class n{get checked(){return this._checked}set checked(t){this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(t)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=t}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a,c,l){this._elementRef=i,this._changeDetector=r,this._focusMonitor=o,this._radioDispatcher=s,this._providerOverride=c,this._uniqueId="mat-radio-"+ ++mee,this.id=this._uniqueId,this.disableRipple=!1,this.tabIndex=0,this.change=new Qt,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===a,l&&(this.tabIndex=Uo(l,0))}focus(t,i){i?this._focusMonitor.focusVia(this._inputElement,i,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((t,i)=>{t!==this.id&&i===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new gee(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const i=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),i&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(t){this._onInputInteraction(t),this.disabled||this._inputElement.nativeElement.focus()}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}_updateTabIndex(){const t=this.radioGroup;let i;if(i=t&&t.selected&&!this.disabled?t.selected===this?this.tabIndex:-1:this.tabIndex,i!==this._previousTabIndex){const r=this._inputElement?.nativeElement;r&&(r.setAttribute("tabindex",i+""),this._previousTabIndex=i)}}static#e=this.\u0275fac=function(i){return new(i||n)(be(_ee,8),be(On),be(Ai),be(Tu),be(oB),be(lo,8),be(u5e,8),ua("tabindex"))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-radio-button"]],viewQuery:function(i,r){if(1&i&&(Di(a5e,5),Di(c5e,7,On)),2&i){let o;In(o=Dn())&&(r._inputElement=o.first),In(o=Dn())&&(r._rippleTrigger=o.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:15,hostBindings:function(i,r){1&i&&Lt("focus",function(){return r._inputElement.nativeElement.focus()}),2&i&&(ci("id",r.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),bn("mat-primary","primary"===r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("mat-mdc-radio-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[gt.None,"aria-label","ariaLabel"],ariaLabelledby:[gt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[gt.None,"aria-describedby","ariaDescribedby"],disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Uo(t)],checked:[gt.HasDecoratorInputTransform,"checked","checked",vn],value:"value",labelPosition:"labelPosition",disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],required:[gt.HasDecoratorInputTransform,"required","required",vn],color:"color"},outputs:{change:"change"},exportAs:["matRadioButton"],standalone:!0,features:[Gr,Li],ngContentSelectors:l5e,decls:13,vars:16,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=qi();br(),Ye(0,"div",2,0)(2,"div",3)(3,"div",4),Lt("click",function(a){return fn(o),hn(r._onTouchTargetClick(a))}),et(),Ye(4,"input",5,1),Lt("change",function(a){return fn(o),hn(r._onInputInteraction(a))}),et(),Ye(6,"div",6),yn(7,"div",7)(8,"div",8),et(),Ye(9,"div",9),yn(10,"div",10),et()(),Ye(11,"label",11),Un(12),et()()}2&i&&(Dt("labelPosition",r.labelPosition),lt(2),bn("mdc-radio--disabled",r.disabled),lt(2),Dt("id",r.inputId)("checked",r.checked)("disabled",r.disabled)("required",r.required),ci("name",r.name)("value",r.value)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),lt(5),Dt("matRippleTrigger",r._rippleTrigger.nativeElement)("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",!0),lt(2),Dt("for",r.inputId))},dependencies:[nc,Tk],styles:['.mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color}.mdc-radio[hidden]{display:none}.mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 120ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;z-index:1}.mdc-radio--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-radio--touch .mdc-radio__native-control{top:calc((40px - 48px) / 2);right:calc((40px - 48px) / 2);left:calc((40px - 48px) / 2);width:48px;height:48px}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring{border-color:CanvasText}}.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__focus-ring::after,.mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__focus-ring::after{border-color:CanvasText}}.mdc-radio__native-control:checked+.mdc-radio__background,.mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__outer-circle{transition:border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle,.mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio--disabled{cursor:default;pointer-events:none}.mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__inner-circle{transform:scale(0.5);transition:transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1),border-color 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-radio__native-control:disabled+.mdc-radio__background,[aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background{cursor:default}.mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 120ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 120ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{padding:calc((var(--mdc-radio-state-layer-size) - 20px) / 2)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-disabled-selected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:checked+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled+.mdc-radio__background .mdc-radio__inner-circle{opacity:var(--mdc-radio-disabled-selected-icon-opacity)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio [aria-disabled=true] .mdc-radio__native-control:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{opacity:var(--mdc-radio-disabled-unselected-icon-opacity)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio.mdc-ripple-upgraded--background-focused .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio:not(.mdc-ripple-upgraded):focus .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-focus-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:checked+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled+.mdc-radio__background .mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color)}.mat-mdc-radio-button .mdc-radio:not(:disabled):active .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{top:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);left:calc(-1 * (var(--mdc-radio-state-layer-size) - 20px) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control{top:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);right:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);left:calc((var(--mdc-radio-state-layer-size) - var(--mdc-radio-state-layer-size)) / 2);width:var(--mdc-radio-state-layer-size);height:var(--mdc-radio-state-layer-size)}.mat-mdc-radio-button .mdc-radio .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color)}.mat-mdc-radio-button .mdc-radio:hover .mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element{background-color:var(--mat-radio-checked-ripple-color)}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color)}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple .mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio .mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background .mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, black)}.mat-mdc-radio-button.cdk-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-radio-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display)}[dir=rtl] .mat-mdc-radio-touch-target{left:0;right:50%;transform:translate(50%, -50%)}'],encapsulation:2,changeDetection:0})}return n})(),bee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,Bi,Rl,aM,ar]})}return n})();const f5e=["switch"],p5e=["*"];function m5e(n,e){1&n&&(Ye(0,"div",10),jn(),Ye(1,"svg",12),yn(2,"path",13),et(),Ye(3,"svg",14),yn(4,"path",15),et()())}const g5e=new vt("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),_5e={provide:Gs,useExisting:mi(()=>K3),multi:!0};class yee{constructor(e,t){this.source=e,this.checked=t}}let b5e=0,K3=(()=>{class n{_createChangeEvent(t){return new yee(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=s,this._onChange=c=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new Qt,this.toggleChange=new Qt,this.tabIndex=parseInt(o)||0,this.color=s.color||"accent",this._noopAnimations="NoopAnimations"===a,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++b5e,this.hideIcon=s.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(t){t.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorOnChange=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new yee(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(Tu),be(Ai),ua("tabindex"),be(g5e),be(lo,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&Di(f5e,5),2&i){let o;In(o=Dn())&&(r._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(ka("id",r.id),ci("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),vi(r.color?"mat-"+r.color:""),bn("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[gt.None,"aria-label","ariaLabel"],ariaLabelledby:[gt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[gt.None,"aria-describedby","ariaDescribedby"],required:[gt.HasDecoratorInputTransform,"required","required",vn],color:"color",disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Uo(t)],checked:[gt.HasDecoratorInputTransform,"checked","checked",vn],hideIcon:[gt.HasDecoratorInputTransform,"hideIcon","hideIcon",vn]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[Jn([_5e,{provide:as,useExisting:n,multi:!0}]),Gr,_r,Li],ngContentSelectors:p5e,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const o=qi();br(),Ye(0,"div",1)(1,"button",2,0),Lt("click",function(){return fn(o),hn(r._handleClick())}),yn(3,"div",3),Ye(4,"div",4)(5,"div",5)(6,"div",6),yn(7,"div",7),et(),Ye(8,"div",8),yn(9,"div",9),et(),mn(10,m5e,5,0,"div",10),et()()(),Ye(11,"label",11),Lt("click",function(a){return fn(o),hn(a.stopPropagation())}),Un(12),et()()}if(2&i){const o=Ts(2);Dt("labelPosition",r.labelPosition),lt(),bn("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),Dt("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),ci("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),lt(8),Dt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),lt(),Hi(10,r.hideIcon?-1:10),lt(),Dt("for",r.buttonId),ci("id",r._labelId)}},dependencies:[nc,Tk],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mdc-switch__handle{transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch__track::after,.mdc-switch__track::before{border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.mdc-switch--selected .mdc-switch__track::after,.mdc-switch--selected .mdc-switch__track::before{border-width:var(--mat-switch-selected-track-outline-width)}.mdc-switch--disabled .mdc-switch__track::after,.mdc-switch--disabled .mdc-switch__track::before{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}'],encapsulation:2,changeDetection:0})}return n})(),w5e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[K3,ar,ar]})}return n})(),x5e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-labeled-slide-toggle",this.labels=["Left","Right"],this.value="Left",this.disabled=!1,this.valueChange=new Qt}get left(){const{value:t,labels:i}=this;return t!==i[1]}updateToggle(t){this.value=t?this.labels[0]:this.labels[1],this.ga.event("slide_toggle_toggled","slide_toggle",this.value),this.valueChange.emit(this.value)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-labeled-slide-toggle"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{labels:"labels",value:"value",disabled:"disabled"},outputs:{valueChange:"valueChange"},decls:6,vars:12,consts:[["toggle",""],[1,"slide-label",3,"click"],["hideIcon","",1,"slider",3,"change","disabled","checked"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"span",1),Lt("click",function(){fn(o);const a=Ts(3);return r.left||a.toggle(),hn(r.updateToggle(!0))}),Xt(1),et(),Ye(2,"mat-slide-toggle",2,0),Lt("change",function(a){return fn(o),hn(r.updateToggle(!a.checked))}),et(),Ye(4,"span",1),Lt("click",function(){fn(o);const a=Ts(3);return r.left&&a.toggle(),hn(r.updateToggle(!1))}),Xt(5),et()}2&i&&(bn("disabled",r.disabled)("highlighted",r.left),lt(),yo(" ",r.labels[0],"\n"),lt(),Dt("disabled",r.disabled)("checked",!r.left),lt(2),bn("disabled",r.disabled)("highlighted",!r.left),lt(),yo(" ",r.labels[1],"\n"))},dependencies:[K3],styles:["[_nghost-%COMP%]   .slide-label[_ngcontent-%COMP%]{margin:0 1rem;transition:color .6s;cursor:pointer}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:30%;cursor:not-allowed}"],changeDetection:0})}return n})();const E5e=["label"],C5e=["options"],A5e=()=>["Register","3D\xa0Preview"];let S5e=(()=>{class n{set useDropdownMenu(t){this.isDropdownActive=t,this.isDropdownHidden=!0}get labelEl(){return this.labelRef.nativeElement}get optionsEl(){return this.optionsRef.nativeElement}constructor(t){this.ga=t,this.clsName="ccf-stage-nav",this.side="anterior",this.view3D=!1,this.sideChange=new Qt,this.view3DChange=new Qt,this.isDropdownActive=!1,this.isDropdownHidden=!0}handleClick(t){const{isDropdownHidden:i,labelEl:r,optionsEl:o}=this;r.contains(t)?this.isDropdownHidden=!i:o.contains(t)||(this.isDropdownHidden=!0)}updateSide(t){this.ga.event("side_update","stage_nav",t),"3D"===t?this.updateView(!0):(this.updateView(!1),this.side=t,this.sideChange.emit(this.side))}updateView(t){this.view3D=t,this.ga.event("view_update","stage_nav",t?"3D":"Register"),this.view3DChange.emit(this.view3D)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-stage-nav"]],viewQuery:function(i,r){if(1&i&&(Di(E5e,7),Di(C5e,7)),2&i){let o;In(o=Dn())&&(r.labelRef=o.first),In(o=Dn())&&(r.optionsRef=o.first)}},hostVars:2,hostBindings:function(i,r){1&i&&Lt("click",function(s){return r.handleClick(s.target)},0,yh),2&i&&vi(r.clsName)},inputs:{useDropdownMenu:"useDropdownMenu",side:"side",view3D:"view3D"},outputs:{sideChange:"sideChange",view3DChange:"view3DChange"},decls:18,vars:10,consts:[["label",""],["options",""],[1,"dropdown-label"],[1,"stage-options"],[1,"input-group",3,"change","value"],["value","left",1,"nav-input"],["value","right",1,"nav-input"],["value","anterior","checked","",1,"nav-input"],["value","posterior",1,"nav-input"],["matTooltip","Change view.",1,"view-slider",3,"valueChange","labels","value"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"div",2,0)(2,"mat-label"),Xt(3,"Options"),et(),Ye(4,"mat-icon"),Xt(5,"arrow_drop_down"),et()(),Ye(6,"div",3,1)(8,"mat-radio-group",4),Lt("change",function(a){return fn(o),hn(r.updateSide(a.value))}),Ye(9,"mat-radio-button",5),Xt(10,"Left"),et(),Ye(11,"mat-radio-button",6),Xt(12,"Right"),et(),Ye(13,"mat-radio-button",7),Xt(14,"Anterior"),et(),Ye(15,"mat-radio-button",8),Xt(16,"Posterior"),et()(),Ye(17,"ccf-labeled-slide-toggle",9),Lt("valueChange",function(a){return fn(o),hn(r.updateView("Register"!==a))}),et()()}2&i&&(bn("dropdown",r.isDropdownActive),lt(6),bn("dropdowncontainer",r.isDropdownActive)("hidden",r.isDropdownActive&&r.isDropdownHidden),lt(2),Dt("value",r.side),lt(9),Dt("labels",Ep(9,A5e))("value",r.view3D?"3D\xa0Preview":"Register"))},dependencies:[Y3,aM,Fh,_a,x5e,Wl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]{display:none;align-items:center}[_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .dropdown-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{line-height:1.5rem}[_nghost-%COMP%]   .dropdown-label.dropdown[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:start}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{margin-right:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%]     .mdc-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{white-space:nowrap;display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slider{display:flex}[_nghost-%COMP%]   .stage-options[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]     .slide-label{font-size:1.25rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:.25rem;position:absolute;top:3.5rem;z-index:11;transition:opacity .25s}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:first-child{margin-top:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin-bottom:.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-left:.875rem;margin-right:0;display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]{display:flex;margin:0;margin-right:.875rem;height:2.5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .nav-input[_ngcontent-%COMP%]     .mdc-label{padding-left:0}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   .view-slider[_ngcontent-%COMP%]{display:flex;align-items:center;height:3rem;margin:0 .5rem}[_nghost-%COMP%]   .stage-options.dropdowncontainer[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:visible;border-top:2px solid}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transition:visibility .25s,opacity .25s}[_nghost-%COMP%]   .stage-options.hidden[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{visibility:hidden}"],changeDetection:0})}return n})();function T5e(n,e){if(1&n&&(Ye(0,"mat-icon",8),Xt(1),et()),2&n){const t=e.$implicit;bn("active",Tn().currentKey===t.key),lt(),yo("",t.direction," ")}}function M5e(n,e){1&n&&(Ye(0,"div",9),Xt(1,"SHIFT"),et())}let I5e=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui",this.keyClicked=new Qt,this.keyHovered=new Qt,this.keyMap=[{key:"w",direction:"north"},{key:"s",direction:"south"},{key:"a",direction:"west"},{key:"d",direction:"east"},{key:"e",direction:"north_east"},{key:"q",direction:"south_west"}]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-spatial-search-keyboard-ui"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.className)},inputs:{currentKey:"currentKey",shiftPressed:"shiftPressed"},outputs:{keyClicked:"keyClicked",keyHovered:"keyHovered"},decls:18,vars:14,consts:[[1,"direction-arrow"],["class","arrow",3,"active",4,"ngFor","ngForOf"],[1,"keys"],[1,"keyrow"],[1,"key","blue",3,"mousedown","mouseover","mouseout"],[1,"key","green",3,"mousedown","mouseover","mouseout"],[1,"key","red",3,"mousedown","mouseover","mouseout"],["class","shift",4,"ngIf"],[1,"arrow"],[1,"shift"]],template:function(i,r){1&i&&(Ye(0,"div",0),mn(1,T5e,2,3,"mat-icon",1),et(),Ye(2,"div",2)(3,"div",3)(4,"div",4),Lt("mousedown",function(){return r.keyClicked.emit("q")})("mouseover",function(){return r.keyHovered.emit("q")})("mouseout",function(){return r.keyHovered.emit()}),Xt(5," Q "),et(),Ye(6,"div",5),Lt("mousedown",function(){return r.keyClicked.emit("w")})("mouseover",function(){return r.keyHovered.emit("w")})("mouseout",function(){return r.keyHovered.emit()}),Xt(7," W "),et(),Ye(8,"div",4),Lt("mousedown",function(){return r.keyClicked.emit("e")})("mouseover",function(){return r.keyHovered.emit("e")})("mouseout",function(){return r.keyHovered.emit()}),Xt(9," E "),et()(),Ye(10,"div",3)(11,"div",6),Lt("mousedown",function(){return r.keyClicked.emit("a")})("mouseover",function(){return r.keyHovered.emit("a")})("mouseout",function(){return r.keyHovered.emit()}),Xt(12," A "),et(),Ye(13,"div",5),Lt("mousedown",function(){return r.keyClicked.emit("s")})("mouseover",function(){return r.keyHovered.emit("s")})("mouseout",function(){return r.keyHovered.emit()}),Xt(14," S "),et(),Ye(15,"div",6),Lt("mousedown",function(){return r.keyClicked.emit("d")})("mouseover",function(){return r.keyHovered.emit("d")})("mouseout",function(){return r.keyHovered.emit()}),Xt(16," D "),et()(),mn(17,M5e,2,0,"div",7),et()),2&i&&(lt(),Dt("ngForOf",r.keyMap),lt(3),bn("highlighted","q"===r.currentKey),lt(2),bn("highlighted","w"===r.currentKey),lt(2),bn("highlighted","e"===r.currentKey),lt(3),bn("highlighted","a"===r.currentKey),lt(2),bn("highlighted","s"===r.currentKey),lt(2),bn("highlighted","d"===r.currentKey),lt(2),Dt("ngIf",r.shiftPressed))},dependencies:[Zc,Za,_a],styles:["[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,.5fr);grid-template-rows:1fr;grid-column-gap:0px;grid-row-gap:0px;margin-bottom:1rem;width:7rem}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{grid-area:1/3/2/4;opacity:0;transition:.5s}[_nghost-%COMP%]   .direction-arrow[_ngcontent-%COMP%]   .arrow.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:0;gap:.5rem;width:7rem;height:7rem;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;padding:0;gap:.5rem}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .keyrow[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:2rem;height:2rem;border:2px solid;border-radius:.5rem;cursor:pointer}[_nghost-%COMP%]   .keys[_ngcontent-%COMP%]   .shift[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:.25rem;width:7rem;height:2rem;border:2px solid;border-radius:.5rem}"],changeDetection:0})}return n})(),D5e=(()=>{class n{constructor(){this.className="ccf-spatial-search-keyboard-ui-behavior",this.delta=1,this.shiftDelta=2,this.disablePositionChange=!1,this.changePosition=new Qt,this.shiftPressed=!1}updatePosition(t){if(this.currentDelta=this.shiftPressed?this.shiftDelta:this.delta,"Shift"===t)this.shiftPressed=!0;else{switch(this.currentKey=t.toLowerCase(),this.currentKey){case"q":this.position={...this.position,z:this.position.z+this.currentDelta};break;case"e":this.position={...this.position,z:this.position.z-this.currentDelta};break;case"w":this.position={...this.position,y:this.position.y+this.currentDelta};break;case"s":this.position={...this.position,y:this.position.y-this.currentDelta};break;case"a":this.position={...this.position,x:this.position.x-this.currentDelta};break;case"d":this.position={...this.position,x:this.position.x+this.currentDelta}}this.changePosition.emit(this.position)}}handleKey(t){this.disablePositionChange||(t.preventDefault(),this.updatePosition(t.key))}keyUp(t){"Shift"===t.key?this.shiftPressed=!1:this.currentKey=void 0}keyClick(t){this.updatePosition(t)}keyHover(t){this.currentKey=t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-spatial-search-keyboard-ui-behavior"]],hostVars:2,hostBindings:function(i,r){1&i&&Lt("keydown",function(s){return r.handleKey(s)},0,yh)("keyup",function(s){return r.keyUp(s)},!1,yh),2&i&&vi(r.className)},inputs:{delta:"delta",shiftDelta:"shiftDelta",position:"position",disablePositionChange:"disablePositionChange"},outputs:{changePosition:"changePosition"},decls:1,vars:2,consts:[[3,"keyClicked","keyHovered","currentKey","shiftPressed"]],template:function(i,r){1&i&&(Ye(0,"ccf-spatial-search-keyboard-ui",0),Lt("keyClicked",function(s){return r.keyClick(s)})("keyHovered",function(s){return r.keyHover(s)}),et()),2&i&&Dt("currentKey",r.currentKey)("shiftPressed",r.shiftPressed)},dependencies:[I5e],encapsulation:2,changeDetection:0})}return n})();const vee=()=>[];function O5e(n,e){if(1&n){const t=qi();Ye(0,"ccf-body-ui",17),ei(1,"async"),ei(2,"async"),ei(3,"async"),Lt("rotationChange",function(r){fn(t),Tn();const o=Ts(13);return o.rotation=r[0],hn(o.rotationX=r[1])}),et()}if(2&n){let t,i;const r=Tn();Dt("scene",null!==(t=ti(1,5,r.scene.nodes$))&&void 0!==t?t:Ep(11,vee))("rotation",null!==(i=ti(2,7,r.scene.rotation$))&&void 0!==i?i:0)("bounds",ti(3,9,r.bounds$))("zoom",11.5)("interactive",!0)}}function R5e(n,e){if(1&n){const t=qi();Ye(0,"ccf-body-ui",18),ei(1,"async"),ei(2,"async"),Lt("nodeDrag",function(r){return fn(t),hn(Tn().handleNodeDrag(r))}),et()}if(2&n){let t;const i=Tn();Dt("scene",null!==(t=ti(1,4,i.scene.rotatedNodes$))&&void 0!==t?t:Ep(8,vee))("interactive",!1)("bounds",ti(2,6,i.bounds$))("zoom",11.5)}}function k5e(n,e){if(1&n&&(yn(0,"ccf-spatial-search-keyboard-ui-behavior",19),ei(1,"async")),2&n){const t=Tn();Dt("delta",1)("shiftDelta",2)("position",ti(1,4,t.position$))("disablePositionChange",t.disablePositionChange)}}function P5e(n,e){1&n&&yn(0,"ccf-store-debug",20)}function N5e(n,e){if(1&n){const t=qi();Ye(0,"div",21)(1,"button",22),Lt("click",function(){fn(t);const r=Tn();return hn(r.debugMode=!r.debugMode)}),Xt(2,"State"),et(),Ye(3,"button",23),Lt("click",function(){return fn(t),hn(Tn().registration.setUseRegistrationCallback(!0))}),Xt(4,"Use callback"),et(),Ye(5,"button",23),Lt("click",function(){return fn(t),hn(Tn().registration.setUseRegistrationCallback(!1))}),Xt(6,"Use download"),et()()}}let F5e=(()=>{class n{constructor(t,i,r,o,s,a){this.model=t,this.page=i,this.registration=r,this.scene=o,this.rootRef=s,this.cdr=a,this.clsName="ccf-content",this.disablePositionChange=!1,this.position$=this.model.position$.pipe(le(c=>({x:Math.floor(c.x),y:Math.floor(c.y),z:Math.floor(c.z)}))),this.is3DView$=this.model.viewType$.pipe(le(c=>"3d"===c)),this.bounds$=this.model.organDimensions$.pipe(le(c=>({x:Math.max(c.x,this.model.defaultPosition.x+40)/1e3,y:Math.max(c.y,this.model.defaultPosition.y+40)/1e3,z:Math.max(c.z,this.model.defaultPosition.z+40)/1e3})),pee("x"),pee("y")),this.isNarrowView=!1,this.debugMode=!1,this.showDebugButtons=!Xd.production}ngOnInit(){this.sensor=new mLe.ResizeSensor(this.rootRef.nativeElement,({width:t})=>{const i=t<440;this.isNarrowView!==i&&(this.isNarrowView=i,this.cdr.markForCheck())})}ngOnDestroy(){this.sensor.detach()}setViewType(t){this.model.setViewType(t?"3d":"register")}resetStage(){this.registration.snapshot.initialRegistration?this.registration.setToInitialRegistration():this.model.setOrganDefaults(),this.model.setViewSide("anterior"),this.model.setViewType("register")}handleNodeDrag(t){if("#DraftPlacement"===t.node["@id"]&&t.info.coordinate){const[i,r]=t.info.coordinate.map(d=>1e3*d),{position:o,viewSide:s,organDimensions:a}=this.model.snapshot,c=[a.x,a.y,a.z].map(d=>d/2);let l=o;switch(s){case"anterior":l={x:i+c[0],y:r+c[1],z:o.z};break;case"posterior":l={x:-i+c[0],y:r+c[1],z:o.z};break;case"left":l={x:o.x,y:r+c[1],z:-i+c[2]};break;case"right":l={x:o.x,y:r+c[1],z:i+c[2]}}this.model.setPosition(l)}}static#e=this.\u0275fac=function(i){return new(i||n)(be(wr),be(so),be(Co),be(Ca),be(On),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-content"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{disablePositionChange:"disablePositionChange"},decls:31,vars:37,consts:[["gizmo",""],[1,"top-bar"],[3,"view3DChange","sideChange","useDropdownMenu","view3D","side"],["matRipple","","matRippleColor","rgba(204, 204, 204, 0.25)",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"],[1,"main-content"],["class","body-ui","camera","perspective",3,"scene","rotation","bounds","zoom","interactive","rotationChange",4,"ngIf"],["class","body-ui","camera","orthographic",3,"scene","interactive","bounds","zoom","nodeDrag",4,"ngIf"],[1,"gizmo-area"],[1,"gizmo",3,"scene","rotation","interactive","zoom"],[3,"delta","shiftDelta","position","disablePositionChange",4,"ngIf"],[1,"position-display"],[1,"position"],[1,"x"],[1,"y"],[1,"z"],["class","debug",4,"ngIf"],["style","\n    position: absolute;\n    bottom: 1rem;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    width: 7rem;\n  ",4,"ngIf"],["camera","perspective",1,"body-ui",3,"rotationChange","scene","rotation","bounds","zoom","interactive"],["camera","orthographic",1,"body-ui",3,"nodeDrag","scene","interactive","bounds","zoom"],[3,"delta","shiftDelta","position","disablePositionChange"],[1,"debug"],[2,"position","absolute","bottom","1rem","display","flex","flex-direction","row","justify-content","space-between","width","7rem"],[2,"width","3rem","font-size","0.7rem",3,"click"],[3,"click"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"div",1)(1,"ccf-stage-nav",2),ei(2,"async"),ei(3,"async"),Lt("view3DChange",function(a){return fn(o),hn(r.setViewType(a))})("sideChange",function(a){return fn(o),hn(r.model.setViewSide(a))}),et(),Ye(4,"mat-icon",3),Lt("click",function(){return fn(o),hn(r.resetStage())}),Xt(5,"refresh"),et()(),Ye(6,"div",4),mn(7,O5e,4,12,"ccf-body-ui",5),ei(8,"async"),mn(9,R5e,3,9,"ccf-body-ui",6),ei(10,"async"),Ye(11,"div",7),yn(12,"ccf-body-ui",8,0),ei(14,"async"),ei(15,"async"),mn(16,k5e,2,6,"ccf-spatial-search-keyboard-ui-behavior",9),ei(17,"async"),Ye(18,"div",10)(19,"div",11)(20,"div",12),Xt(21),ei(22,"async"),et(),Ye(23,"div",13),Xt(24),ei(25,"async"),et(),Ye(26,"div",14),Xt(27),ei(28,"async"),et()()()()(),mn(29,P5e,1,0,"ccf-store-debug",15)(30,N5e,7,0,"div",16)}if(2&i){let o,s,a,c,l;lt(),Dt("useDropdownMenu",r.isNarrowView)("view3D",null!==(o=ti(2,17,r.is3DView$))&&void 0!==o&&o)("side",ti(3,19,r.model.viewSide$)),lt(3),Dt("matRippleCentered",!0)("matRippleUnbounded",!0),lt(3),Dt("ngIf","3d"===ti(8,21,r.model.viewType$)),lt(2),Dt("ngIf","register"===ti(10,23,r.model.viewType$)),lt(3),Dt("scene",ti(14,25,r.scene.gizmo$))("rotation",null!==(s=ti(15,27,r.scene.rotation$))&&void 0!==s?s:0)("interactive",!1)("zoom",9.5),lt(4),Dt("ngIf",ti(17,29,r.page.registrationStarted$)),lt(5),yo("X: ",null==(a=ti(22,31,r.position$))?null:a.x,""),lt(3),yo("Y: ",null==(c=ti(25,33,r.position$))?null:c.y,""),lt(3),yo("Z: ",null==(l=ti(28,35,r.position$))?null:l.z,""),lt(2),Dt("ngIf",r.showDebugButtons&&r.debugMode),lt(),Dt("ngIf",r.showDebugButtons)}},dependencies:[Za,S5e,_a,KNe,nc,D5e,j2e,ud],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;padding:.5rem;overflow:hidden}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .top-bar[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;font-size:2rem;height:2rem;width:2rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]{margin:1.5rem;width:12.75rem;height:11rem}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   .minimap-scene[_ngcontent-%COMP%]     .body-ui{background-color:#232f3a}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-spatial-search-keyboard-ui-behavior[_ngcontent-%COMP%]{margin:1.5rem;display:flex;justify-content:center}[_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]   ccf-xyz-position[_ngcontent-%COMP%]{margin:1.5rem;padding-left:5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]{display:flex;height:calc(100% - 1rem)}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .body-ui[_ngcontent-%COMP%]{flex:auto;transition:opacity 1s}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]{width:7rem;margin-top:1.5rem;margin-left:1.5rem;z-index:10;right:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .position-display[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]{height:5.5rem}[_nghost-%COMP%]   .main-content[_ngcontent-%COMP%]   .gizmo-area[_ngcontent-%COMP%]   .gizmo[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{opacity:0;z-index:0}[_nghost-%COMP%]   .ccf-store-debug[_ngcontent-%COMP%]{color:#fff;position:absolute;top:.5rem;max-width:55rem}"],changeDetection:0})}return n})(),wee=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=pd(t)}get inset(){return this._inset}set inset(t){this._inset=pd(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,r){2&i&&(ci("aria-orientation",r.vertical?"vertical":"horizontal"),bn("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[Li],decls:0,vars:0,template:function(i,r){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return n})(),J3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[ar,ar]})}return n})();const L5e=["trigger"],B5e=["panel"],j5e=[[["mat-select-trigger"]],"*"],U5e=["mat-select-trigger","*"];function V5e(n,e){if(1&n&&(Ye(0,"span",4),Xt(1),et()),2&n){const t=Tn();lt(),jo(t.placeholder)}}function z5e(n,e){1&n&&Un(0)}function H5e(n,e){if(1&n&&(Ye(0,"span",11),Xt(1),et()),2&n){const t=Tn(2);lt(),jo(t.triggerValue)}}function G5e(n,e){if(1&n&&(Ye(0,"span",10),mn(1,z5e,1,0)(2,H5e,2,1),et()),2&n){const t=Tn();lt(),Hi(1,t.customTrigger?1:2)}}function W5e(n,e){if(1&n){const t=qi();Ye(0,"div",12,1),Lt("@transformPanel.done",function(r){return fn(t),hn(Tn()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return fn(t),hn(Tn()._handleKeydown(r))}),Un(2,1),et()}if(2&n){const t=Tn();(function cz(n,e,t){Ml(Ma,ld,Xg(Ft(),n,e,t),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme(),""),Dt("ngClass",t.panelClass)("@transformPanel","showing"),ci("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const $5e={transformPanelWrap:tl("transformPanelWrap",[Is("* => void",fk("@transformPanel",[hk()],{optional:!0}))]),transformPanel:tl("transformPanel",[Vo("void",sr({opacity:0,transform:"scale(1, 0.8)"})),Is("void => showing",Ms("120ms cubic-bezier(0, 0, 0.2, 1)",sr({opacity:1,transform:"scale(1, 1)"}))),Is("* => void",Ms("100ms linear",sr({opacity:0})))])};let xee=0;const Eee=new vt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=kt(gs);return()=>n.scrollStrategies.reposition()}}),X5e=new vt("MAT_SELECT_CONFIG"),Y5e={provide:Eee,deps:[gs],useFactory:function q5e(n){return()=>n.scrollStrategies.reposition()}},K5e=new vt("MatSelectTrigger");class J5e{constructor(e,t){this.source=e,this.value=t}}let Cee=(()=>{class n{_scrollOptionIntoView(t){const i=this.options.toArray()[t];if(i){const r=this.panel.nativeElement,o=N5(t,this.options,this.optionGroups),s=i._getHostElement();r.scrollTop=0===t&&1===o?0:F5(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new J5e(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(lm.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,i,r,o,s,a,c,l,d,h,f,m,g,b){this._viewportRuler=t,this._changeDetectorRef=i,this._elementRef=s,this._dir=a,this._parentFormField=d,this.ngControl=h,this._liveAnnouncer=g,this._defaultOptions=b,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(v,D)=>v===D,this._uid="mat-select-"+xee++,this._triggerAriaLabelledBy=null,this._destroy=new en,this.stateChanges=new en,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+xee++,this._panelDoneAnimatingStream=new en,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new en,this.optionSelectionChanges=fm(()=>{const v=this.options;return v?v.changes.pipe(ms(v),Br(()=>Bs(...v.map(D=>D.onSelectionChange)))):this._initialized.pipe(Br(()=>this.optionSelectionChanges))}),this.openedChange=new Qt,this._openedStream=this.openedChange.pipe(Ei(v=>v),le(()=>{})),this._closedStream=this.openedChange.pipe(Ei(v=>!v),le(()=>{})),this.selectionChange=new Qt,this.valueChange=new Qt,this._trackedModal=null,this._skipPredicate=v=>!this.panelOpen&&v.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=b?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=b.typeaheadDebounceInterval),this._errorStateTracker=new z1(o,h,l,c,this.stateChanges),this._scrollStrategyFactory=m,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}ngOnInit(){this._selectionModel=new qLe(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(hr(),Si(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Si(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Si(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(ms(null),Si(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;const i=`${this.id}-panel`;this._trackedModal&&m_(this._trackedModal,"aria-owns",i),L1(t,"aria-owns",i),this._trackedModal=t}_clearFromModal(){this._trackedModal&&(m_(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,o=13===i||32===i,s=this._keyManager;if(!s.isTyping()&&o&&!ec(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;s.onKeydown(t);const c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,o=40===r||38===r,s=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(s||13!==r&&32!==r||!i.activeItem||ec(t))if(!s&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(yr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_getOverlayWidth(t){return"auto"===this.panelWidth?(t instanceof Lk?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new p5(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Bs(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Si(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Bs(...this.options.map(i=>i._stateChanges)).pipe(Si(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){t=i;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(be(rA),be(Ai),be(_n),be(H1),be(On),be(Ol,8),be(um,8),be(lb,8),be(r0,8),be(Bl,10),ua("tabindex"),be(Eee),be(x5),be(X5e,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,o){if(1&i&&(pr(o,K5e,5),pr(o,n0,5),pr(o,Ck,5)),2&i){let s;In(s=Dn())&&(r.customTrigger=s.first),In(s=Dn())&&(r.options=s),In(s=Dn())&&(r.optionGroups=s)}},viewQuery:function(i,r){if(1&i&&(Di(L5e,5),Di(B5e,5),Di(GG,5)),2&i){let o;In(o=Dn())&&(r.trigger=o.first),In(o=Dn())&&(r.panel=o.first),In(o=Dn())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&Lt("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(ci("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),bn("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[gt.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Uo(t)],hideSingleSelectionIndicator:[gt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",vn],placeholder:"placeholder",required:[gt.HasDecoratorInputTransform,"required","required",vn],multiple:[gt.HasDecoratorInputTransform,"multiple","multiple",vn],disableOptionCentering:[gt.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",vn],compareWith:"compareWith",value:"value",ariaLabel:[gt.None,"aria-label","ariaLabel"],ariaLabelledby:[gt.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[gt.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",Uo],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Jn([{provide:q1,useExisting:n},{provide:Ek,useExisting:n}]),Gr,_r,Li],ngContentSelectors:U5e,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const o=qi();br(j5e),Ye(0,"div",2,0),Lt("click",function(){return fn(o),hn(r.open())}),Ye(3,"div",3),mn(4,V5e,2,1,"span",4)(5,G5e,3,1),et(),Ye(6,"div",5)(7,"div",6),jn(),Ye(8,"svg",7),yn(9,"path",8),et()()()(),mn(10,W5e,3,9,"ng-template",9),Lt("backdropClick",function(){return fn(o),hn(r.close())})("attach",function(){return fn(o),hn(r._onAttached())})("detach",function(){return fn(o),hn(r.close())})}if(2&i){const o=Ts(1);lt(3),ci("id",r._valueId),lt(),Hi(4,r.empty?4:5),lt(6),Dt("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Lk,GG,A1],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[$5e.transformPanel]},changeDetection:0})}return n})(),Q3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[Y5e],imports:[Bi,m0,L5,ar,oA,Bh,L5,ar]})}return n})();function Q5e(n,e){if(1&n&&(Ye(0,"mat-option",5),Xt(1),et()),2&n){const t=e.$implicit;Dt("value",t),lt(),JC(" ",t.name," (",t.sites.length,") ")}}function Z5e(n,e){if(1&n){const t=qi();Ye(0,"mat-form-field",1)(1,"mat-label",2),Xt(2,"Landmark Set"),et(),Ye(3,"mat-select",3),Lt("selectionChange",function(r){return fn(t),hn(Tn().extractionSetChanged(r.value))}),mn(4,Q5e,2,3,"mat-option",4),et()()}if(2&n){const t=Tn();lt(3),Dt("value",t.sets[0]),lt(),Dt("ngForOf",t.sets)}}let eGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-extraction-set-dropdown",this.setChange=new Qt}extractionSetChanged(t){this.selected=t,this.ga.event("selected_extraction_set_change","extraction_set_dropdown",t.name),this.setChange.emit(t)}isMultiple(){return this.sets.length>1}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-extraction-set-dropdown"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{sets:"sets"},outputs:{setChange:"setChange"},decls:1,vars:1,consts:[["class","dropdown-form-field","appearance","fill",4,"ngIf"],["appearance","fill",1,"dropdown-form-field"],[1,"extraction-dropdown-label"],["disableOptionCentering","true","panelClass","extraction-set-panel",3,"selectionChange","value"],["class","extraction-set-options",3,"value",4,"ngFor","ngForOf"],[1,"extraction-set-options",3,"value"]],template:function(i,r){1&i&&mn(0,Z5e,5,2,"mat-form-field",0),2&i&&Dt("ngIf",r.isMultiple())},dependencies:[Zc,Za,Lh,Fh,Cee,n0],styles:[".extraction-set-panel{position:absolute!important;box-shadow:0 0 .3rem .1rem #9e9e9e!important;top:-3.5rem}  .extraction-set-panel .extraction-set-options{height:2.5rem;min-height:inherit}[_nghost-%COMP%]     .mat-mdc-form-field{width:10.5rem}[_nghost-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{padding:0}  .cdk-overlay-pane{min-width:0rem!important}"],changeDetection:0})}return n})(),tGe=(()=>{class n{constructor(){this.clsName="ccf-opacity-slider",this.opacity=20,this.visible=!0,this.opacityChange=new Qt,this.visibilityToggle=new Qt,this.opacityReset=new Qt,this.sliderChanged=new Qt}ngOnInit(){this.prevOpacity=this.visible?0:20}reset(){this.prevOpacity=20}toggleVisibility(){const t=this.opacity;this.opacity=this.prevOpacity,this.prevOpacity=t,this.visibilityToggle.emit(),this.opacityChange.emit(this.opacity)}resetOpacity(){this.prevOpacity=0,this.opacityReset.emit()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-opacity-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{opacity:"opacity",visible:"visible"},outputs:{opacityChange:"opacityChange",visibilityToggle:"visibilityToggle",opacityReset:"opacityReset",sliderChanged:"sliderChanged"},decls:12,vars:18,consts:[["slider",""],[1,"slider-box"],[1,"slider-and-label"],[1,"slider",3,"step","min","max","disableRipple"],["matSliderThumb","",1,"opacity-slider",3,"input","value"],[1,"opacity-value"],[1,"icons"],["matRipple","","svgIcon","app:visibility_off",1,"visibility","icon","invisible",3,"click","matRippleCentered","matRippleUnbounded"],["matRipple","","svgIcon","app:visibility_on",1,"visibility","icon","visible",3,"click","matRippleCentered","matRippleUnbounded"],["matRipple","",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"div",1)(1,"div",2)(2,"mat-slider",3)(3,"input",4,0),Lt("input",function(){fn(o);const a=Ts(4);return hn(r.opacityChange.emit(+a.value))}),et()(),Ye(5,"span",5),Xt(6),et()(),Ye(7,"div",6)(8,"mat-icon",7),Lt("click",function(){return fn(o),hn(r.toggleVisibility())}),et(),Ye(9,"mat-icon",8),Lt("click",function(){return fn(o),hn(r.toggleVisibility())}),et(),Ye(10,"mat-icon",9),Lt("click",function(){return fn(o),hn(r.resetOpacity())}),Xt(11,"refresh"),et()()()}2&i&&(lt(2),bn("disabled",!r.visible),Dt("step",1)("min",0)("max",100)("disableRipple",!0),lt(),Dt("value",r.opacity),lt(3),yo("",r.opacity,"%"),lt(2),bn("hidden",r.opacity>0),Dt("matRippleCentered",!0)("matRippleUnbounded",!0),lt(),bn("hidden",0===r.opacity),Dt("matRippleCentered",!0)("matRippleUnbounded",!0),lt(),Dt("matRippleCentered",!0)("matRippleUnbounded",!0))},dependencies:[_a,kK,fT,nc],styles:["[_nghost-%COMP%]{height:2.25rem;display:flex;align-items:center;justify-content:space-between;border-radius:.1875rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:space-between;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]{width:60%;display:flex;align-items:center;height:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider.disabled[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]     .mat-ripple{display:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-and-label[_ngcontent-%COMP%]   .opacity-value[_ngcontent-%COMP%]{width:1.5rem;margin-left:.5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;cursor:pointer!important}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{margin-right:1rem;padding:.25rem;cursor:pointer;transition:.6s;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility[_ngcontent-%COMP%]{transition:.6s;cursor:pointer;padding:.25rem;border-radius:.25rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .visibility.hidden[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}return n})();function nGe(n,e){if(1&n){const t=qi();Ye(0,"mat-icon",2),Lt("click",function(){return fn(t),hn(Tn().setAllOpacity(20))}),Xt(1,"refresh"),et()}2&n&&Dt("matRippleCentered",!0)("matRippleUnbounded",!0)}function iGe(n,e){if(1&n){const t=qi();Ye(0,"div",3),Lt("mouseenter",function(){const r=fn(t).$implicit;return hn(Tn().mouseOver(r))})("mouseleave",function(){return fn(t),hn(Tn().mouseOut())}),yn(1,"mat-icon",4),Ye(2,"div",5),Xt(3),et(),Ye(4,"div",6)(5,"ccf-opacity-slider",7),Lt("opacityChange",function(r){return fn(t),hn(Tn().updateOpacity(r))})("opacityReset",function(){return fn(t),hn(Tn().resetItem())})("visibilityToggle",function(){const r=fn(t).$implicit;return hn(Tn().toggleVisibility(r))}),et()()()}if(2&n){let t;const i=e.$implicit,r=Tn();bn("selected",!!r.selection&&r.getId(0,r.selection)===r.getId(0,i)),lt(),bn("fade",!i.visible),lt(),bn("hidden",i.id===(null==r.selection?null:r.selection.id)),KC("title",i.name),lt(),jo(i.name),lt(),bn("visible",i.id===(null==r.selection?null:r.selection.id))("hidden",i.id!==(null==r.selection?null:r.selection.id)),lt(),Dt("opacity",null!==(t=null==r.selection?null:r.selection.opacity)&&void 0!==t?t:20)}}let rGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-visibility-menu",this.hover=new Qt,this.itemsChange=new Qt}toggleVisibility(t){t={...t,visible:!t.visible},this.selection&&t.id===this.selection.id&&(this.selection={...this.selection,visible:t.visible}),this.ga.event("visibility_toggled","visibility_menu",""+t.id,+t.visible),this.updateOpacity(t.opacity)}mouseOver(t){this.selection=t===this.selection?void 0:t,this.hover.emit(t)}mouseOut(){this.selection=void 0,this.hover.emit(void 0)}updateOpacity(t){if(!this.selection)return;const i={...this.selection,opacity:t};this.selection=i,"all"===i.id?this.setAllOpacity(i.opacity):(this.items=this.items.map(r=>r.id===i.id?i:r),this.ga.event("opacity_update","visibility_menu",""+i.id,i.opacity)),this.itemsChange.emit(this.items)}resetItem(){if(this.selection){const t={...this.selection,opacity:20,visible:!0};this.selection=t,"all"===this.selection.id?this.setAllOpacity(t.opacity):(this.items=this.items.map(i=>i.id===t.id?t:i),this.ga.event("item_reset","visibility_menu",""+t.id)),this.itemsChange.emit(this.items)}}setAllOpacity(t){this.items=this.items.map(i=>({...i,opacity:t,visible:!0})),this.ga.event("all_items_opacity_update","visibility_menu",void 0,t),this.itemsChange.emit(this.items)}getId(t,i){return i.id}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-visibility-menu"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{items:"items",selection:"selection"},outputs:{hover:"hover",itemsChange:"itemsChange"},decls:2,vars:3,consts:[["class","icon reset","matRipple","",3,"matRippleCentered","matRippleUnbounded","click",4,"ngIf"],["class","item-entry",3,"selected","mouseenter","mouseleave",4,"ngFor","ngForOf","ngForTrackBy"],["matRipple","",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"],[1,"item-entry",3,"mouseenter","mouseleave"],["svgIcon","app:opacity",1,"opacity-icon"],[1,"item-name",3,"title"],[1,"slider"],[3,"opacityChange","opacityReset","visibilityToggle","opacity"]],template:function(i,r){1&i&&mn(0,nGe,2,2,"mat-icon",0)(1,iGe,6,13,"div",1),2&i&&(Dt("ngIf",r.items.length),lt(),Dt("ngForOf",r.items)("ngForTrackBy",r.getId))},dependencies:[Zc,Za,_a,nc,tGe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;margin-right:0;margin-left:0;max-height:40vh;overflow-y:auto;scrollbar-width:thin}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{border-radius:.25rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s;position:absolute;top:3rem}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]{display:flex;height:2.25rem;align-items:center;flex-shrink:0;position:relative}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]{z-index:1;transition:.6s}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .opacity-icon[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:.5rem;opacity:1;transition-duration:.4s;transition-timing-function:ease-in-out;transition-property:opacity;max-width:calc(100% - 2.5rem)}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .item-name.hidden[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:calc(100% - 2rem);transition-duration:.3s;transition-timing-function:ease-in-out;transition-property:opacity;left:2rem;position:absolute;opacity:1}[_nghost-%COMP%]   .item-entry[_ngcontent-%COMP%]   .slider.hidden[_ngcontent-%COMP%]{opacity:0;transition-duration:.1s;transition-timing-function:ease-in-out;transition-property:opacity}"],changeDetection:0})}return n})();const oGe=()=>[];function sGe(n,e){if(1&n){const t=qi();Ye(0,"div",6)(1,"ccf-extraction-set-dropdown",12,0),ei(3,"async"),Lt("setChange",function(r){return fn(t),hn(Tn().model.setExtractionSites(r.sites))}),et(),Ye(4,"ccf-visibility-menu",13),ei(5,"async"),Lt("itemsChange",function(r){return fn(t),hn(Tn().model.setExtractionSites(r))})("hover",function(r){return fn(t),hn(Tn().updateExtractionSiteTooltip(r))}),et()()}if(2&n){const t=Tn();lt(),Dt("sets",ti(3,2,t.model.extractionSets$)),lt(3),Dt("items",ti(5,4,t.model.extractionSites$))}}function aGe(n,e){if(1&n&&(Ye(0,"div",14),Xt(1),et()),2&n){const t=Tn();lt(),yo(" ",t.extractionSiteTooltip," ")}}let cGe=(()=>{class n{constructor(t,i,r){this.page=t,this.model=i,this.registration=r,this.clsName="ccf-left-sidebar",this.modalClosed=!1,this.organSelected$=this.model.organ$.pipe(le(o=>void 0!==o)),this.extractionSiteTooltip=""}updateExtractionSiteTooltip(t){this.extractionSiteTooltip=t?.tooltip?t.tooltip:""}static#e=this.\u0275fac=function(i){return new(i||n)(be(so),be(wr),be(Co))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-left-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{modalClosed:"modalClosed"},decls:19,vars:14,consts:[["dropdown",""],[1,"scroll-wrapper"],[1,"container"],[1,"anatomical-structures-menu",3,"expanded"],[1,"expansion-header"],["matTooltip","Use opacity icons to change visibility of anatomical structures",1,"expansion-title"],[1,"expansion-content"],[3,"itemsChange","items"],[1,"extraction-menu",3,"expanded"],["matTooltip","Some organs have predefined landmarks to guide manual tissue registration--you can turn these on/off.",1,"expansion-title"],["class","expansion-content",4,"ngIf"],["class","extraction-site-tooltip mat-elevation-z8",4,"ngIf"],[3,"setChange","sets"],[3,"itemsChange","hover","items"],[1,"extraction-site-tooltip","mat-elevation-z8"]],template:function(i,r){if(1&i&&(Ye(0,"div",1)(1,"div",2)(2,"mat-expansion-panel",3),ei(3,"async"),Ye(4,"mat-expansion-panel-header",4)(5,"mat-panel-title",5),Xt(6,"Anatomical Structures"),et()(),Ye(7,"div",6)(8,"ccf-visibility-menu",7),ei(9,"async"),Lt("itemsChange",function(s){return r.model.setAnatomicalStructures(s)}),et()()(),yn(10,"mat-divider"),Ye(11,"mat-expansion-panel",8),ei(12,"async"),Ye(13,"mat-expansion-panel-header",4)(14,"mat-panel-title",9),Xt(15,"Landmarks"),et()(),mn(16,sGe,6,6,"div",10),ei(17,"async"),et(),mn(18,aGe,2,1,"div",11),et()()),2&i){let o;lt(2),Dt("expanded",ti(3,5,r.organSelected$)),lt(6),Dt("items",null!==(o=ti(9,7,r.model.anatomicalStructures$))&&void 0!==o?o:Ep(13,oGe)),lt(3),Dt("expanded",ti(12,9,r.organSelected$)),lt(5),Dt("ngIf",ti(17,11,r.organSelected$)),lt(2),Dt("ngIf",r.extractionSiteTooltip.length>0)}},dependencies:[Za,yT,sB,nJ,Wl,wee,eGe,rGe,ud],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:100%;margin-right:.375rem;scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-left:1.5rem;margin-right:.375rem;min-height:100%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .ccf-organ-selector[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   .expansion-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header{-webkit-user-select:none;-moz-user-select:none;padding:0;font-weight:700;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator, [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]     .expansion-header .mat-expansion-indicator{display:flex;align-items:center;justify-content:center;height:24px;width:24px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]{margin-bottom:.75rem;text-align:center;margin-top:1.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%], [_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .anatomical-structures-menu[_ngcontent-%COMP%]   .expansion-content[_ngcontent-%COMP%]   .expansion-placeholder[_ngcontent-%COMP%]{width:100%;font-size:.9rem;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .extraction-site-tooltip[_ngcontent-%COMP%]{position:absolute;top:4rem;left:27rem;width:21rem;padding:1rem;border-radius:.5rem;border:1px solid;z-index:2}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const Aee={x:10,y:10,z:10};let lGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-block-size-input",this.blockSize=Aee,this.blockSizeChange=new Qt}updateBlockSizes(t,i){this.blockSize={...this.blockSize,[i]:+t.target.value},this.ga.event("block_size_change","block_size_input",i,this.blockSize[i]),this.blockSizeChange.emit(this.blockSize)}refreshBlockSize(){this.blockSize=Aee,this.ga.event("block_size_reset","block_size_input"),this.blockSizeChange.emit(this.blockSize)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-block-size-input"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{blockSize:"blockSize"},outputs:{blockSizeChange:"blockSizeChange"},decls:19,vars:5,consts:[["matTooltip","Set the tissue block width, height and depth (dimensions)",1,"header"],[1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"click","matRippleCentered","matRippleUnbounded"],[1,"size-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block width.",1,"input",3,"keyup","value"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block height.",1,"input",3,"keyup","value"],["matInput","","type","number","placeholder","","matTooltip","Enter tissue block depth.",1,"input",3,"keyup","value"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"span",1),Xt(2,"Tissue Block Dimensions (mm)"),et(),yn(3,"div",2),Ye(4,"mat-icon",3),Lt("click",function(){return r.refreshBlockSize()}),Xt(5,"refresh"),et()(),Ye(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Xt(9,"Width (X)"),et(),Ye(10,"input",7),Lt("keyup",function(s){return r.updateBlockSizes(s,"x")}),et()(),Ye(11,"mat-form-field",5)(12,"mat-label",6),Xt(13,"Height (Y)"),et(),Ye(14,"input",8),Lt("keyup",function(s){return r.updateBlockSizes(s,"y")}),et()(),Ye(15,"mat-form-field",5)(16,"mat-label",6),Xt(17,"Depth (Z)"),et(),Ye(18,"input",9),Lt("keyup",function(s){return r.updateBlockSizes(s,"z")}),et()()()),2&i&&(lt(4),Dt("matRippleCentered",!0)("matRippleUnbounded",!0),lt(6),Dt("value",r.blockSize.x),lt(4),Dt("value",r.blockSize.y),lt(4),Dt("value",r.blockSize.z))},dependencies:[pm,Lh,Fh,_a,nc,Wl],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:4.5rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .size-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1rem 0 0px .25rem}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();function dGe(n,e){if(1&n&&(Ye(0,"div",11)(1,"div",12),Xt(2),et(),Ye(3,"div",13),Xt(4),et()()),2&n){const t=e.$implicit;lt(2),jo(t.label),lt(2),jo(t.value)}}let uGe=(()=>{class n{constructor(t,i){this.dialogRef=t,this.data=i,this.clsName="ccf-review-modal",this.metaData=i.metaData,this.registrationCallbackSet=i.registrationCallbackSet}close(){document.getElementsByClassName("modal-animated")[0]?.classList.add("modal-animate-fade-out"),setTimeout(()=>{this.dialogRef.close()},250)}static#e=this.\u0275fac=function(i){return new(i||n)(be(hb),be(rB))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-review-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},decls:14,vars:2,consts:[[1,"ccf-about","wrapper"],[1,"container"],[1,"close"],[1,"material-icons","close-icon",3,"click"],[1,"content"],["mat-dialog-title","",1,"title"],[1,"mat-typography"],[1,"display-fields"],["class","field",4,"ngFor","ngForOf"],[1,"footer"],["mat-button","",1,"download-button",3,"click"],[1,"field"],[1,"label"],[1,"data"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),Lt("click",function(){return r.close()}),Xt(4,"clear"),et()(),Ye(5,"div",4)(6,"h2",5),Xt(7,"Registration Review"),et(),Ye(8,"mat-dialog-content",6)(9,"div",7),mn(10,dGe,5,2,"div",8),et()(),Ye(11,"div",9)(12,"button",10),Lt("click",function(){return r.dialogRef.close(!0)}),Xt(13),et()()()()()),2&i&&(lt(10),Dt("ngForOf",r.metaData),lt(3),yo(" ",r.registrationCallbackSet?"REGISTER":"DOWNLOAD REGISTRATION DATA"," "))},dependencies:[Zc,gT,_T,_a,y_],styles:["[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   .close-icon[_ngcontent-%COMP%]{float:right;margin-top:1rem;margin-right:1rem;cursor:pointer}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:2rem;background-color:#fff}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;margin-bottom:0;font-weight:500}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]{justify-content:space-around;display:flex;font-weight:500;font-size:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]{margin-top:2rem;margin-bottom:2rem;width:100%}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:50%;text-align:right;padding-right:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .mat-typography[_ngcontent-%COMP%]   .display-fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:1rem}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{padding-top:1.5rem;display:flex;justify-content:space-around}[_nghost-%COMP%]   .ccf-about.wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{padding:0 1rem;transition:.6s}"],changeDetection:0})}return n})(),hGe=(()=>{class n{constructor(t,i,r){this.dialog=t,this.ga=i,this.page=r,this.clsName="ccf-review-button",this.registrationCallbackSet=!0,this.metaData=[],this.displayErrors=!0,this.userValid=!1,this.registerData=new Qt,this.enterErrorMode=new Qt,this.registrationIsValid=!1}ngOnChanges(){const t=this.metaDataLookup("Reference Organ Name"),i=this.metaDataLookup("Tissue Block Dimensions (mm)"),r=this.metaDataLookup("Tissue Block Position (mm)"),o=this.metaDataLookup("Anatomical Structure Tags");this.registrationIsValid=this.userValid&&[t,i,r,o].every(s=>""!==s)}get disabled(){return!this.registrationIsValid}metaDataLookup(t){return this.metaData.find(i=>i.label===t)?.value}registerButtonClick(t){return t&&t.preventDefault(),this.enterErrorMode.emit(),this.registrationIsValid&&(this.ga.event("review_start","review_button"),this.launchReviewModal()),!1}launchReviewModal(){this.page.patchState({registrationStarted:!1}),this.dialog.open(uGe,{panelClass:"modal-animated",width:"60rem",data:{registrationCallbackSet:this.registrationCallbackSet,metaData:this.metaData}}).afterClosed().subscribe(i=>{this.page.registrationStarted(),i&&(this.ga.event("register","review_button"),this.registerData.emit())})}static#e=this.\u0275fac=function(i){return new(i||n)(be(hf),be(Ds),be(so))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-review-button"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{registrationCallbackSet:"registrationCallbackSet",metaData:"metaData",displayErrors:"displayErrors",userValid:"userValid"},outputs:{registerData:"registerData",enterErrorMode:"enterErrorMode"},features:[_r],decls:2,vars:4,consts:[["mat-button","",1,"review-button",3,"click","matTooltip"]],template:function(i,r){1&i&&(Ye(0,"button",0),Lt("click",function(s){return r.registerButtonClick(s)}),Xt(1),et()),2&i&&(bn("disabled",r.disabled),Dt("matTooltip",r.disabled?"Required: Enter valid user info, select an organ and position tissue block inside organ.":"Review registration and submit/download."),lt(),yo(" ",r.registrationCallbackSet?"Review and Register":"Review and Download","\n"))},dependencies:[y_,Wl],styles:[".review-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;font-weight:500}.review-button.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"],changeDetection:0})}return n})();const fGe={x:0,y:0,z:0};let pGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-rotation-slider",this.rotation=fGe,this.rotationChange=new Qt}changeRotation(t,i){const r=+t>180?180:+t<-180?-180:+t;this.rotation={...this.rotation,[i]:+r},this.ga.event("rotation_update","rotation_slider",i,+r),this.rotationChange.emit(this.rotation)}resetRotation(t){this.rotation={...this.rotation,[t]:0},this.ga.event("rotation_reset","rotation_slider"),this.rotationChange.emit(this.rotation)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-rotation-slider"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{rotation:"rotation"},outputs:{rotationChange:"rotationChange"},decls:34,vars:20,consts:[["sliderX",""],["sliderY",""],["sliderZ",""],[1,"header"],["matTooltip","Use sliders below to rotate tissue block for registration",1,"text","title"],[1,"filler"],[1,"refresh-button-container"],["matRipple","",1,"icon","reset",3,"click","matRippleCentered","matRippleUnbounded"],[1,"slider-box","red"],[1,"text","label"],[1,"slider-container"],["disableRipple","","discrete","",1,"slider",3,"max","min"],["matSliderThumb","",1,"slider-x",3,"input","value"],["matInput","","type","number",1,"input",3,"change","value","min","max"],[1,"slider-box","green"],["matSliderThumb","",1,"slider-y",3,"input","value"],[1,"slider-box","blue"],["matSliderThumb","",1,"slider-z",3,"input","value"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"div",3)(1,"span",4),Xt(2,"Tissue Block Rotation"),et(),yn(3,"div",5),Ye(4,"div",6)(5,"mat-icon",7),Lt("click",function(){return fn(o),r.resetRotation("x"),r.resetRotation("y"),hn(r.resetRotation("z"))}),Xt(6,"refresh"),et()()(),Ye(7,"div",8)(8,"span",9),Xt(9,"X"),et(),Ye(10,"div",10)(11,"mat-slider",11)(12,"input",12,0),Lt("input",function(){fn(o);const a=Ts(13);return hn(r.changeRotation(a.value,"x"))}),et()()(),Ye(14,"mat-form-field")(15,"input",13),Lt("change",function(a){return fn(o),hn(r.changeRotation(a.target.value,"x"))}),et()()(),Ye(16,"div",14)(17,"span",9),Xt(18,"Y"),et(),Ye(19,"div",10)(20,"mat-slider",11)(21,"input",15,1),Lt("input",function(){fn(o);const a=Ts(22);return hn(r.changeRotation(a.value,"y"))}),et()()(),Ye(23,"mat-form-field")(24,"input",13),Lt("change",function(a){return fn(o),hn(r.changeRotation(a.target.value,"y"))}),et()()(),Ye(25,"div",16)(26,"span",9),Xt(27,"Z"),et(),Ye(28,"div",10)(29,"mat-slider",11)(30,"input",17,2),Lt("input",function(){fn(o);const a=Ts(31);return hn(r.changeRotation(a.value,"z"))}),et()()(),Ye(32,"mat-form-field")(33,"input",13),Lt("change",function(a){return fn(o),hn(r.changeRotation(a.target.value,"z"))}),et()()()}2&i&&(lt(5),Dt("matRippleCentered",!0)("matRippleUnbounded",!0),lt(6),Dt("max",180)("min",-180),lt(),Dt("value",r.rotation.x),lt(3),Dt("value",r.rotation.x)("min",-180)("max",180),lt(5),Dt("max",180)("min",-180),lt(),Dt("value",r.rotation.y),lt(3),Dt("value",r.rotation.y)("min",-180)("max",180),lt(5),Dt("max",180)("min",-180),lt(),Dt("value",r.rotation.z),lt(3),Dt("value",r.rotation.z)("min",-180)("max",180))},dependencies:[_a,kK,fT,nc,Wl,pm,Lh],styles:["[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400;padding:.5rem 0}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .reset[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .refresh-button-container[_ngcontent-%COMP%]{display:flex;height:1rem;justify-content:flex-end}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;height:4rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{height:100%;width:5rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]{width:100%;padding-left:.5rem;padding-right:2rem}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .slider-container[_ngcontent-%COMP%]     mat-slider-visual-thumb{transition:none}[_nghost-%COMP%]   .slider-box[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),mGe=(()=>{class n{constructor(t){this.el=t}onInputChange(t){const i=this.el.nativeElement.value;this.el.nativeElement.value=i.replace(/[^0-9]*/g,""),i!==this.el.nativeElement.value&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(be(On))};static#t=this.\u0275dir=Zt({type:n,selectors:[["input","ccfNumbersOnly",""]],hostBindings:function(i,r){1&i&&Lt("input",function(s){return r.onInputChange(s)})}})}return n})();const See={thickness:NaN,numSlices:NaN};let gGe=(()=>{class n{get hasThicknessValue(){return!isNaN(this.slicesConfig.thickness)}constructor(t){this.ga=t,this.clsName="ccf-slices-input",this.slicesConfig=See,this.slicesConfigChange=new Qt}updateSlicesData(t,i){const{value:r}=t.target;this.slicesConfig={...this.slicesConfig,[i]:""!==r?+r:NaN},this.ga.event("slice_config_update","slice_input",i,this.slicesConfig[i]),this.slicesConfigChange.emit(this.slicesConfig)}refreshSlices(){this.slicesConfig=See,this.ga.event("slice_config_reset","slice_input"),this.slicesConfigChange.emit(this.slicesConfig)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-slices-input"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{slicesConfig:"slicesConfig"},outputs:{slicesConfigChange:"slicesConfigChange"},decls:17,vars:6,consts:[[1,"header"],["matTooltip","Add thickness of tissue sections and the total number of sections",1,"text","title"],[1,"filler"],["matRipple","",1,"icon","refresh",3,"click","matRippleCentered","matRippleUnbounded"],[1,"slices-inputs"],[1,"field"],[1,"text","form-input-label"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter thickness of tissue sections",1,"input",3,"keyup","value"],["matSuffix","",1,"suffix"],["matInput","","ccfNumbersOnly","","type","number","matTooltip","Enter total number of sections",1,"input",3,"keyup","value"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"span",1),Xt(2,"Tissue Sections"),et(),yn(3,"div",2),Ye(4,"mat-icon",3),Lt("click",function(){return r.refreshSlices()}),Xt(5," refresh "),et()(),Ye(6,"div",4)(7,"mat-form-field",5)(8,"mat-label",6),Xt(9,"Thickness"),et(),Ye(10,"input",7),Lt("keyup",function(s){return r.updateSlicesData(s,"thickness")}),et(),Ye(11,"div",8),Xt(12,"\u03bcm"),et()(),Ye(13,"mat-form-field",5)(14,"mat-label",6),Xt(15,"# Sections"),et(),Ye(16,"input",9),Lt("keyup",function(s){return r.updateSlicesData(s,"numSlices")}),et()()()),2&i&&(lt(4),Dt("matRippleCentered",!0)("matRippleUnbounded",!0),lt(6),Dt("value",r.slicesConfig.thickness),lt(),bn("show",r.hasThicknessValue),lt(5),Dt("value",r.slicesConfig.numSlices))},dependencies:[pm,Lh,Fh,Mk,_a,nc,Wl,mGe],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:.5rem}[_nghost-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;height:1.5rem;padding:.5rem 0}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:400}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]{transform:scaleX(-1);cursor:pointer;transition:.6s}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]   .refresh[_ngcontent-%COMP%]:hover{border-radius:2px}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:20rem;margin:0 auto}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{width:9rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field.mat-focused[_ngcontent-%COMP%]   .suffix[_ngcontent-%COMP%], [_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   .suffix.show[_ngcontent-%COMP%]{display:initial}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-infix{padding-bottom:0;min-height:inherit}[_nghost-%COMP%]   .slices-inputs[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field .mat-mdc-form-field-icon-suffix{padding:1.5rem 0 0}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})();const Tee=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Mee=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function _Ge(n,e){1&n&&(Ye(0,"span",3),Un(1,1),et())}function bGe(n,e){1&n&&(Ye(0,"span",6),Un(1,2),et())}function yGe(n,e){1&n&&(Ye(0,"span",3),Un(1,1),Ye(2,"span",8),jn(),Ye(3,"svg",9),yn(4,"path",10),et()()())}function vGe(n,e){1&n&&(Ye(0,"span",6),Un(1,2),et())}const Z3=["*"],cM=new vt("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),ej=new vt("MatChipAvatar"),tj=new vt("MatChipTrailingIcon"),nj=new vt("MatChipRemove"),lM=new vt("MatChip");let Rb=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=t}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(lM))};static#t=this.\u0275dir=Zt({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&Lt("click",function(s){return r._handleClick(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&(ci("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),bn("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?-1:Uo(t)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[Gr]})}return n})(),Oee=(()=>{class n extends Rb{constructor(){super(...arguments),this._isPrimary=!1}_handleClick(t){this.disabled||(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&(t.stopPropagation(),t.preventDefault(),this._parentChip.remove())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})();static#t=this.\u0275dir=Zt({type:n,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-mdc-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(i,r){2&i&&ci("aria-hidden",null)},standalone:!0,features:[Jn([{provide:nj,useExisting:n}]),ui]})}return n})(),RGe=0,Tm=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}constructor(t,i,r,o,s,a,c,l){this._changeDetectorRef=t,this._elementRef=i,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=c,this._onFocus=new en,this._onBlur=new en,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+RGe++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new Qt,this.destroyed=new Qt,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=kt(V5),this._document=s,this._animationsDisabled="NoopAnimations"===a,null!=l&&(this.tabIndex=parseInt(l)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const t=this._elementRef.nativeElement;this._isBasicChip=t.hasAttribute(this.basicChipAttrName)||t.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=Bs(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(yr(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ai),be(On),be(_n),be(Tu),be(ni),be(lo,8),be(t0,8),ua("tabindex"))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,o){if(1&i&&(pr(o,ej,5),pr(o,tj,5),pr(o,nj,5),pr(o,ej,5),pr(o,tj,5),pr(o,nj,5)),2&i){let s;In(s=Dn())&&(r.leadingIcon=s.first),In(s=Dn())&&(r.trailingIcon=s.first),In(s=Dn())&&(r.removeIcon=s.first),In(s=Dn())&&(r._allLeadingIcons=s),In(s=Dn())&&(r._allTrailingIcons=s),In(s=Dn())&&(r._allRemoveIcons=s)}},viewQuery:function(i,r){if(1&i&&Di(Rb,5),2&i){let o;In(o=Dn())&&(r.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(i,r){1&i&&Lt("keydown",function(s){return r._handleKeydown(s)}),2&i&&(ka("id",r.id),ci("role",r.role)("tabindex",r._getTabIndex())("aria-label",r.ariaLabel),vi("mat-"+(r.color||"primary")),bn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[gt.None,"aria-label","ariaLabel"],ariaDescription:[gt.None,"aria-description","ariaDescription"],value:"value",color:"color",removable:[gt.HasDecoratorInputTransform,"removable","removable",vn],highlighted:[gt.HasDecoratorInputTransform,"highlighted","highlighted",vn],disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:Uo(t)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[Jn([{provide:lM,useExisting:n}]),Gr,Li],ngContentSelectors:Mee,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(br(Tee),yn(0,"span",0),Ye(1,"span",1)(2,"span",2),mn(3,_Ge,2,0,"span",3),Ye(4,"span",4),Un(5),yn(6,"span",5),et()()(),mn(7,bGe,2,0,"span",6)),2&i&&(lt(2),Dt("isInteractive",!1),lt(),Hi(3,r.leadingIcon?3:-1),lt(4),Hi(7,r._hasTrailingIcon()?7:-1))},dependencies:[Rb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-selected:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Ree=(()=>{class n extends Tm{constructor(){super(...arguments),this._defaultOptions=kt(cM,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new Qt}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=t,this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(t,!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.disabled||(this.focus(),this.selectable&&this.toggleSelected(!0))}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})();static#t=this.\u0275cmp=un({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(i,r){2&i&&(ka("id",r.id),ci("tabindex",null)("aria-label",null)("aria-description",null)("role",r.role),bn("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--filter",!r._isBasicChip)("mdc-evolution-chip--selectable",!r._isBasicChip)("mat-mdc-chip-selected",r.selected)("mat-mdc-chip-multiple",r._chipListMultiple)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-chip-with-avatar",r.leadingIcon)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--selected",r.selected)("mdc-evolution-chip--selecting",!r._animationsDisabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-primary-graphic",r._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon()))},inputs:{selectable:[gt.HasDecoratorInputTransform,"selectable","selectable",vn],selected:[gt.HasDecoratorInputTransform,"selected","selected",vn]},outputs:{selectionChange:"selectionChange"},standalone:!0,features:[Jn([{provide:Tm,useExisting:n},{provide:lM,useExisting:n}]),Gr,ui,Li],ngContentSelectors:Mee,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false","aria-hidden","true",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"]],template:function(i,r){1&i&&(br(Tee),yn(0,"span",0),Ye(1,"span",1)(2,"button",2),mn(3,yGe,5,0,"span",3),Ye(4,"span",4),Un(5),yn(6,"span",5),et()()(),mn(7,vGe,2,0,"span",6),Ye(8,"span",7),Xt(9),et()),2&i&&(lt(2),Dt("tabIndex",r.tabIndex)("_allowFocusWhenDisabled",!0),ci("aria-selected",r.ariaSelected)("aria-label",r.ariaLabel)("aria-describedby",r._ariaDescriptionId),lt(),Hi(3,r._hasLeadingGraphic()?3:-1),lt(4),Hi(7,r._hasTrailingIcon()?7:-1),lt(),Dt("id",r._ariaDescriptionId),lt(),jo(r.ariaDescription))},dependencies:[Rb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size);width:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational).mdc-ripple-upgraded--background-focused:before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus:before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary:before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size);width:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-hover-state-layer-color)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary .mdc-evolution-chip__ripple::after{background-color:var(--mdc-chip-selected-hover-state-layer-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:hover .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-surface--hover .mdc-evolution-chip__ripple::before{opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary.mdc-ripple-upgraded--background-focused .mdc-evolution-chip__ripple::before,.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:not(.mdc-ripple-upgraded):focus .mdc-evolution-chip__ripple::before{transition-duration:75ms;opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-selected:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{flex-basis:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),ij=(()=>{class n{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get chipRemovedChanges(){return this._getChipStream(t=>t.removed)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new en,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new ph}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const t=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=t)}}_getChipStream(t){return this._chips.changes.pipe(ms(null),Br(()=>Bs(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ms(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Vhe(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(Si(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Si(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ms(null),Si(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Si(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(Ai),be(Ol,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,o){if(1&i&&pr(o,Tm,5),2&i){let s;In(s=Dn())&&(r._chips=s)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&Lt("keydown",function(s){return r._handleKeydown(s)}),2&i&&ci("role",r.role)},inputs:{disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],role:"role",tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?0:Uo(t)]},standalone:!0,features:[Gr,Li],ngContentSelectors:Z3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(br(),Ye(0,"div",0),Un(1),et())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})();class kGe{constructor(e,t){this.source=e,this.value=t}}const PGe={provide:Gs,useExisting:mi(()=>rj),multi:!0};let rj=(()=>{class n extends ij{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=kt(cM,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this.required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new Qt,this._chips=void 0}get multiple(){return this._multiple}set multiple(t){this._multiple=t,this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=t,this._syncListboxProperties()}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(ms(null),Si(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Si(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Si(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new kGe(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=zi(n)))(r||n)}})();static#t=this.\u0275cmp=un({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(i,r,o){if(1&i&&pr(o,Ree,5),2&i){let s;In(s=Dn())&&(r._chips=s)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(i,r){1&i&&Lt("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(s){return r._keydown(s)}),2&i&&(ka("tabIndex",r.disabled||r.empty?-1:r.tabIndex),ci("role",r.role)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-multiselectable",r.multiple)("aria-orientation",r.ariaOrientation),bn("mat-mdc-chip-list-disabled",r.disabled)("mat-mdc-chip-list-required",r.required))},inputs:{multiple:[gt.HasDecoratorInputTransform,"multiple","multiple",vn],ariaOrientation:[gt.None,"aria-orientation","ariaOrientation"],selectable:[gt.HasDecoratorInputTransform,"selectable","selectable",vn],compareWith:"compareWith",required:[gt.HasDecoratorInputTransform,"required","required",vn],hideSingleSelectionIndicator:[gt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",vn],value:"value"},outputs:{change:"change"},standalone:!0,features:[Jn([PGe]),Gr,ui,Li],ngContentSelectors:Z3,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(br(),Ye(0,"div",0),Un(1),et())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),Pee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[H1,{provide:cM,useValue:{separatorKeyCodes:[13]}}],imports:[ar,Rl,ar]})}return n})();function BGe(n,e){if(1&n){const t=qi();Ye(0,"mat-chip",2),Lt("removed",function(){const r=fn(t).$implicit;return hn(Tn().removeTag(r))}),Xt(1),Ye(2,"mat-icon",3),Xt(3,"cancel"),et()()}if(2&n){const t=e.$implicit;vi(Tn().tagClasses(t)),lt(),yo(" ",t.label," ")}}let jGe=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-tag-list",this.tagRemoved=new Qt,this.tagsChange=new Qt}tagId(t,i){return i.id}tagClasses(t){return"added"===t.type?["added"]:["assigned"]}removeTag(t){this.tags=this.tags.filter(i=>i!==t),this.ga.event("tag_removed","tag_list",t.label),this.tagRemoved.emit(t),this.tagsChange.emit(this.tags)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-tag-list"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{tags:"tags"},outputs:{tagRemoved:"tagRemoved",tagsChange:"tagsChange"},decls:2,vars:2,consts:[["selectable","false"],["removable","","disableRipple","",3,"class","removed",4,"ngFor","ngForOf","ngForTrackBy"],["removable","","disableRipple","",3,"removed"],["matChipRemove","",1,"icon","remove"]],template:function(i,r){1&i&&(Ye(0,"mat-chip-listbox",0),mn(1,BGe,4,3,"mat-chip",1),et()),2&i&&(lt(),Dt("ngForOf",r.tags)("ngForTrackBy",r.tagId))},dependencies:[Zc,Tm,rj,Oee,_a],styles:["[_nghost-%COMP%]{display:block;overflow-x:hidden;overflow-y:auto}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips{margin:0!important}[_nghost-%COMP%]     .mdc-evolution-chip-set__chips .mdc-evolution-chip__text-label{font-size:14px}"],changeDetection:0})}return n})();const VGe=["input"],zGe=["label"],HGe=["*"],GGe=new vt("mat-checkbox-default-options",{providedIn:"root",factory:Nee});function Nee(){return{color:"accent",clickAction:"check-indeterminate"}}var Aa=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Aa||{});const WGe={provide:Gs,useExisting:mi(()=>oj),multi:!0};class $Ge{}let qGe=0;const Fee=Nee();let oj=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){const i=new $Ge;return i.source=this,i.checked=t,i}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,r,o,s,a){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._animationMode=s,this._options=a,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Qt,this.indeterminateChange=new Qt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Aa.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||Fee,this.color=this._options.color||Fee.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId="mat-mdc-checkbox-"+ ++qGe}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){const i=t!=this._indeterminate;this._indeterminate=t,i&&(this._transitionCheckState(this._indeterminate?Aa.Indeterminate:this.checked?Aa.Checked:Aa.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&!0!==t.value?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==t&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const t=this._options?.clickAction;this.disabled||"noop"===t?!this.disabled&&"noop"===t&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==t&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Aa.Checked:Aa.Unchecked),this._emitChangeEvent())}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,i){if("NoopAnimations"===this._animationMode)return"";switch(t){case Aa.Init:if(i===Aa.Checked)return this._animationClasses.uncheckedToChecked;if(i==Aa.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Aa.Unchecked:return i===Aa.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Aa.Checked:return i===Aa.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Aa.Indeterminate:return i===Aa.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){const i=this._inputElement;i&&(i.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}static#e=this.\u0275fac=function(i){return new(i||n)(be(On),be(Ai),be(_n),ua("tabindex"),be(lo,8),be(GGe,8))};static#t=this.\u0275cmp=un({type:n,selectors:[["mat-checkbox"]],viewQuery:function(i,r){if(1&i&&(Di(VGe,5),Di(zGe,5),Di(nc,5)),2&i){let o;In(o=Dn())&&(r._inputElement=o.first),In(o=Dn())&&(r._labelElement=o.first),In(o=Dn())&&(r.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(i,r){2&i&&(ka("id",r.id),ci("tabindex",null)("aria-label",null)("aria-labelledby",null),vi(r.color?"mat-"+r.color:"mat-accent"),bn("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mdc-checkbox--disabled",r.disabled)("mat-mdc-checkbox-disabled",r.disabled)("mat-mdc-checkbox-checked",r.checked))},inputs:{ariaLabel:[gt.None,"aria-label","ariaLabel"],ariaLabelledby:[gt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[gt.None,"aria-describedby","ariaDescribedby"],id:"id",required:[gt.HasDecoratorInputTransform,"required","required",vn],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[gt.HasDecoratorInputTransform,"disableRipple","disableRipple",vn],tabIndex:[gt.HasDecoratorInputTransform,"tabIndex","tabIndex",t=>null==t?void 0:Uo(t)],color:"color",checked:[gt.HasDecoratorInputTransform,"checked","checked",vn],disabled:[gt.HasDecoratorInputTransform,"disabled","disabled",vn],indeterminate:[gt.HasDecoratorInputTransform,"indeterminate","indeterminate",vn]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Jn([WGe,{provide:as,useExisting:n,multi:!0}]),Gr,_r,Li],ngContentSelectors:HGe,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(i,r){if(1&i){const o=qi();br(),Ye(0,"div",3),Lt("click",function(a){return fn(o),hn(r._preventBubblingFromLabel(a))}),Ye(1,"div",4,0)(3,"div",5),Lt("click",function(){return fn(o),hn(r._onTouchTargetClick())}),et(),Ye(4,"input",6,1),Lt("blur",function(){return fn(o),hn(r._onBlur())})("click",function(){return fn(o),hn(r._onInputClick())})("change",function(a){return fn(o),hn(r._onInteractionEvent(a))}),et(),yn(6,"div",7),Ye(7,"div",8),jn(),Ye(8,"svg",9),yn(9,"path",10),et(),function og(){!function fu(){Zn.lFrame.currentNamespace=null}()}(),yn(10,"div",11),et(),yn(11,"div",12),et(),Ye(12,"label",13,2),Un(14),et()()}if(2&i){const o=Ts(2);Dt("labelPosition",r.labelPosition),lt(4),bn("mdc-checkbox--selected",r.checked),Dt("checked",r.checked)("indeterminate",r.indeterminate)("disabled",r.disabled)("id",r.inputId)("required",r.required)("tabIndex",r.disabled?-1:r.tabIndex),ci("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby)("aria-checked",r.indeterminate?"mixed":null)("name",r.name)("value",r.value),lt(7),Dt("matRippleTrigger",o)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),lt(),Dt("for",r.inputId)}},dependencies:[nc,Tk],styles:['.mdc-touch-target-wrapper{display:inline}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:mdc-animation-deceleration-curve-timing-function;transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom}.mdc-checkbox[hidden]{display:none}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring{border-color:CanvasText}}.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-checkbox.mdc-ripple-upgraded--background-focused .mdc-checkbox__focus-ring::after,.mdc-checkbox:not(.mdc-ripple-upgraded):focus .mdc-checkbox__focus-ring::after{border-color:CanvasText}}@media all and (-ms-high-contrast: none){.mdc-checkbox .mdc-checkbox__focus-ring{display:none}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-checkbox__mixedmark{margin:0 1px}}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--upgraded .mdc-checkbox__checkmark{opacity:1}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms 0ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear 0s;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear 0s;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear 0s;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background{transition:border-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit}.mdc-checkbox__native-control:disabled{cursor:default;pointer-events:none}.mdc-checkbox--touch{margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox--touch .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 180ms 0ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark,.mdc-checkbox__native-control[data-indeterminate=true]~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__checkmark-path,.mdc-checkbox.mdc-checkbox--upgraded .mdc-checkbox__mixedmark{transition:none}.mdc-checkbox{padding:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);margin:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2)}.mdc-checkbox .mdc-checkbox__native-control[disabled]:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control[disabled]:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[disabled]:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true][disabled]~.mdc-checkbox__background{border-color:transparent;background-color:var(--mdc-checkbox-disabled-selected-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:disabled~.mdc-checkbox__background .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}.mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-icon-color);background-color:transparent}}.mdc-checkbox.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}@keyframes mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}}@keyframes mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:transparent}}.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:hover.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:hover.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-FF212121FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:not(:checked):not(:indeterminate):not([data-indeterminate=true])~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active .mdc-checkbox__native-control[data-indeterminate=true]:enabled~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}@keyframes mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336{0%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}50%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}}@keyframes mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336{0%,80%{border-color:var(--mdc-checkbox-selected-pressed-icon-color);background-color:var(--mdc-checkbox-selected-pressed-icon-color)}100%{border-color:var(--mdc-checkbox-unselected-pressed-icon-color);background-color:transparent}}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-in-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background,.mdc-checkbox:not(:disabled):active.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__native-control:enabled~.mdc-checkbox__background{animation-name:mdc-checkbox-fade-out-background-8A000000FFF4433600000000FFF44336}.mdc-checkbox .mdc-checkbox__background{top:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - 18px) / 2)}.mdc-checkbox .mdc-checkbox__native-control{top:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);right:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);left:calc((var(--mdc-checkbox-state-layer-size) - var(--mdc-checkbox-state-layer-size)) / 2);width:var(--mdc-checkbox-state-layer-size);height:var(--mdc-checkbox-state-layer-size)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:focus:not(:checked):not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:checked~.mdc-checkbox__background,.mdc-checkbox .mdc-checkbox__native-control:enabled:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox._mat-animation-noopable *,.mat-mdc-checkbox._mat-animation-noopable *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),KGe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[oj,ar,ar]})}return n})();const JGe=["closeSearch"];function QGe(n,e){if(1&n){const t=qi();Ye(0,"div",12)(1,"mat-checkbox",13),nR("ngModelChange",function(r){const o=fn(t).$implicit,s=Tn(2);return function b4(n,e){const t=eV(n);return t&&n.set(e),t}(s.checkedResults[o.id],r)||(s.checkedResults[o.id]=r),hn(r)}),Xt(2),et()()}if(2&n){const t=e.$implicit,i=Tn(2);lt(),tR("ngModel",i.checkedResults[t.id]),lt(),yo(" ",t.label," ")}}function ZGe(n,e){if(1&n&&(Ye(0,"div",9),mn(1,QGe,3,2,"div",10),Ye(2,"div",11),Xt(3),ei(4,"i18nPlural"),et()()),2&n){const t=Tn();lt(),Dt("ngForOf",t.searchResults.results)("ngForTrackBy",t.tagId),lt(2),yo(" ",S4(4,3,t.searchResults.totalCount,t.countMapping)," ")}}const Lee=5,uM={totalCount:0,results:[]};class kb{constructor(e,t,i){this.el=e,this.ga=t,this.clsName="ccf-tag-search",this.placeholder="Add Anatomical Structures ...",this.added=new Qt,this.countMapping={"=1":"1 result",other:"# results"},this.searchControl=new Cw,this.searchResults=uM,this.checkedResults={},this.resultsVisible=!1,this.destroy$=new en,this.searchControl.valueChanges.pipe(Si(this.destroy$),YJ(()=>function UGe(n=0,e=p_){return n<0&&(n=0),h0(n,n,e)}(this.searchThrottle??100),{leading:!0,trailing:!0}),Br(this.executeSearch)).subscribe(r=>{this.searchResults=r,this.checkedResults=this.getUpdatedCheckedResults(r),i.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}tagId(e,t){return t.id}hasCheckedTags(){return Object.values(this.checkedResults).some(e=>e)}addTags(){const{searchControl:e,searchResults:t,checkedResults:i}=this,r=t.results.filter(o=>i[o.id]);r.length>0&&(e.reset(),this.searchResults=uM,this.checkedResults={},this.ga.event("tags_added","tag_search",r.map(o=>o.label).join(",")),this.added.emit(r))}openResults(){this.resultsVisible||(this.resultsVisible=!0)}closeResults(e){const{closeSearch:t}=this;this.resultsVisible&&e.target instanceof Node&&(!this.el.nativeElement.contains(e.target)||t.nativeElement.contains(e.target))&&(this.resultsVisible=!1)}executeSearch(e){const{search:t,searchLimit:i=Lee}=this;return e&&t?ro(t(e,i)).pipe(ic(()=>[uM]),le(this.truncateResults)):[uM]}truncateResults(e){const{searchLimit:t=Lee}=this,i=e.results;return i.length>t?{...e,results:i.slice(0,t)}:e}getUpdatedCheckedResults(e){const t=this.checkedResults;return e.results.reduce((i,{id:r})=>(i[r]=t[r]??!1,i),{})}static#e=this.\u0275fac=function(t){return new(t||kb)(be(On),be(Ds),be(Ai))};static#t=this.\u0275cmp=un({type:kb,selectors:[["ccf-tag-search"]],viewQuery:function(t,i){if(1&t&&Di(JGe,5,On),2&t){let r;In(r=Dn())&&(i.closeSearch=r.first)}},hostVars:2,hostBindings:function(t,i){1&t&&Lt("click",function(){return i.openResults()})("focusin",function(){return i.openResults()})("click",function(o){return i.closeResults(o)},!1,pp)("focusin",function(o){return i.closeResults(o)},!1,pp),2&t&&vi(i.clsName)},inputs:{placeholder:"placeholder",search:"search",searchLimit:"searchLimit",searchThrottle:"searchThrottle"},outputs:{added:"added"},decls:10,vars:8,consts:[["search",""],["closeSearch",""],[1,"spacer"],["appearance","outline","subscriptSizing","dynamic",1,"overlay"],[1,"search-box"],["matInput","","type","search",3,"placeholder","formControl"],["matSuffix","",1,"add-button",3,"click","disabled"],[1,"icon"],["class","results",4,"ngIf"],[1,"results"],["class","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"count"],[1,"item"],["labelPosition","after",3,"ngModelChange","ngModel"]],template:function(t,i){if(1&t){const r=qi();yn(0,"div",2),Ye(1,"mat-form-field",3)(2,"div",4),yn(3,"input",5,0),Ye(5,"button",6,1),Lt("click",function(){fn(r);const s=Ts(4);return i.addTags(),hn(s.focus())}),Ye(7,"mat-icon",7),Xt(8,"add"),et()()(),mn(9,ZGe,5,6,"div",8),et()}2&t&&(lt(),bn("expanded",i.resultsVisible),lt(2),Dt("placeholder",i.placeholder)("formControl",i.searchControl),lt(2),bn("active",i.hasCheckedTags()),Dt("disabled",!i.hasCheckedTags()),lt(4),Dt("ngIf",i.resultsVisible))},dependencies:[Zc,Za,ab,eT,zL,Aw,oj,Lh,Mk,_a,pm,o8],styles:["[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .spacer[_ngcontent-%COMP%]{height:3.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;z-index:10}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;height:3rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{border-radius:.25rem;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;height:100%}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{margin-top:.5rem}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.75rem;text-align:end}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]     .mat-mdc-form-field-infix{min-height:inherit;padding:0}"],changeDetection:0})}Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[String]),Ie("design:returntype",Object)],kb.prototype,"executeSearch",null),Nt([Md.oI,Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Object)],kb.prototype,"truncateResults",null);let t6e=(()=>{class n{constructor(t,i){this.dialog=t,this.infoButtonService=i,this.infoTitle="",this.subscriptions=new Ht,this.subscriptions.add(i.panelContent.subscribe(r=>{r.content.length&&this.launchInfoDialog(r)}))}ngOnDestroy(){this.subscriptions.unsubscribe()}launchInfoDialog(t){0===this.dialog.openDialogs.length&&this.dialog.open(ZZ,{autoFocus:!1,panelClass:"modal-animated",width:"72rem",data:{title:t.infoTitle,content:t.content,videoID:t.videoID}})}onDialogButtonClick(){this.infoButtonService.updateData(this.documentationUrl,this.videoID,this.infoTitle)}static#e=this.\u0275fac=function(i){return new(i||n)(be(hf),be(H3))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-info-button"]],inputs:{infoTitle:"infoTitle",videoID:"videoID",documentationUrl:"documentationUrl"},decls:3,vars:0,consts:[[1,"info-button-wrapper"],["aria-hidden","false","aria-label","Page information",1,"ccf-info-button",3,"click"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"mat-icon",1),Lt("click",function(){return r.onDialogButtonClick()}),Xt(2," info "),et()())},dependencies:[_a],styles:[".info-button-wrapper[_ngcontent-%COMP%]{border-radius:.25rem;padding:.65rem;transition:.6s}.info-button-wrapper[_ngcontent-%COMP%]   .ccf-info-button[_ngcontent-%COMP%]{cursor:pointer;transition:color .6s;font-size:1.5rem;vertical-align:sub}"],changeDetection:0})}return n})(),n6e=(()=>{class n{get name(){return this._name}set name(t){this._name=t,this.firstNameValidator.setValue(t?.firstName||""),this.lastNameValidator.setValue(t?.lastName||""),this.middleNameValidator.setValue(t?.middleName||"")}constructor(t){this.ga=t,this.clsName="ccf-name-input",this.firstNameValidator=new Cw("",[lm.required]),this.lastNameValidator=new Cw("",[lm.required]),this.middleNameValidator=new Cw("",[lm.required]),this._name={firstName:"",middleName:"",lastName:""},this.nameChange=new Qt}updateName(t,i){this.name={...this.name,[i]:t.target.value},this.ga.event("name_updated","name_input",i),this.nameChange.emit(this.name)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-name-input"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{name:"name"},outputs:{nameChange:"nameChange"},decls:12,vars:3,consts:[["subscriptSizing","dynamic",1,"field"],[1,"text","form-input-label"],["matInput","","matTooltip","Add your first name.","required","","title","",1,"input",3,"input","value"],["matInput","","matTooltip","Add your middle name.",1,"input",3,"input","value"],["matInput","","matTooltip","Add your last name.","required","","title","",1,"input",3,"input","value"]],template:function(i,r){1&i&&(Ye(0,"mat-form-field",0)(1,"mat-label",1),Xt(2,"First Name "),et(),Ye(3,"input",2),Lt("input",function(s){return r.updateName(s,"firstName")}),et()(),Ye(4,"mat-form-field",0)(5,"mat-label",1),Xt(6,"Middle Name "),et(),Ye(7,"input",3),Lt("input",function(s){return r.updateName(s,"middleName")}),et()(),Ye(8,"mat-form-field",0)(9,"mat-label",1),Xt(10,"Last Name "),et(),Ye(11,"input",4),Lt("input",function(s){return r.updateName(s,"lastName")}),et()()),2&i&&(lt(3),Dt("value",r.firstNameValidator.value),lt(4),Dt("value",r.middleNameValidator.value),lt(4),Dt("value",r.lastNameValidator.value))},dependencies:[pm,Lh,Fh,Wl],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]:not(:last-child){padding-right:.75rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{text-align:left;width:100%;font-size:1rem}[_nghost-%COMP%]   .field[_ngcontent-%COMP%]     .mdc-text-field{padding:0}"],changeDetection:0})}return n})();const i6e=["fileInput"];let r6e=(()=>{class n{constructor(t){this.ga=t,this.clsName="ccf-json-file-reader",this.label="Upload",this.parsedJson=new Qt}triggerFileInput(){this.fileInput.nativeElement.click()}handleFile(t){const i=t.target;if(!i.files)return;const r=i.files[0],o=new FileReader;o.onload=()=>{const s=JSON.parse(o.result);this.ga.event("json_file_load_end","json_file_reader"),this.parsedJson.emit(s)},this.ga.event("json_file_load_start","json_file_reader"),o.readAsText(r)}static#e=this.\u0275fac=function(i){return new(i||n)(be(Ds))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-json-file-reader"]],viewQuery:function(i,r){if(1&i&&Di(i6e,5),2&i){let o;In(o=Dn())&&(r.fileInput=o.first)}},hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{label:"label"},outputs:{parsedJson:"parsedJson"},decls:4,vars:1,consts:[["fileInput",""],["mat-button","",1,"upload-button",3,"click"],["type","file","accept","application/JSON","name","fileInput","id","fileInput",2,"display","none",3,"change"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"button",1),Lt("click",function(){return fn(o),hn(r.triggerFileInput())}),Xt(1),et(),Ye(2,"input",2,0),Lt("change",function(a){return fn(o),hn(r.handleFile(a))}),et()}2&i&&(lt(),jo(r.label))},dependencies:[y_],styles:["[_nghost-%COMP%]   .upload-button[_ngcontent-%COMP%]{width:100%;height:2.25rem;transition:.6s;cursor:pointer;font-weight:500}"],changeDetection:0})}return n})();function o6e(n,e){if(1&n&&(Ye(0,"mat-error"),Xt(1),et()),2&n){const t=Tn();lt(),jo(t.getErrorMessage())}}function s6e(n,e){1&n&&(Ye(0,"div",8),Xt(1,"Organs"),et())}function a6e(n,e){if(1&n&&(Ye(0,"mat-option",19),Xt(1),et()),2&n){const t=e.$implicit;Dt("value",t),lt(),yo(" ",t.name," ")}}let Bee=(()=>{class n{constructor(t,i,r){this.model=t,this.registration=i,this.page=r,this.registrationSelected=new Qt,this.orcidControl=new cT("",[lm.pattern("^[a-zA-Z0-9]{4}(-[a-zA-Z0-9]{4}){3}$")]),r.user$.subscribe(o=>{this.checkNameValid(o),this.orcId=r.uriToOrcid(o.orcidId)}),i.state$.subscribe(o=>{this.uploadText=o.initialRegistration?"File(s) uploaded":"No file(s) uploaded"})}getErrorMessage(){return this.orcidControl.hasError("pattern")?"Not a valid ORCID":""}updateOrcid(t){this.page.setOrcidId(t)}handleRegistrationUpload(t){this.registrationSelected.emit(),this.registration.editRegistration(t)}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}setSexFromLabel(t){this.model.setSex(t.toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)(be(wr),be(Co),be(so))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-registration-metadata"]],outputs:{registrationSelected:"registrationSelected"},decls:38,vars:19,consts:[[1,"author-section"],[1,"section-title"],[3,"nameChange","name"],[1,"orcid-input"],["matInput","","matTooltip","Add ORCID id.","maxlength","19",1,"input",3,"input","value","formControl"],[4,"ngIf"],[1,"donor-section"],[1,"sex-toggle"],[1,"label"],[1,"radio-group",3,"change","value"],["value","male",1,"radio"],["value","female",1,"radio"],[1,"organ-selector"],["appearance","fill","subscriptSizing","dynamic",1,"form-field"],["class","label",4,"ngIf"],["disableOptionCentering","true","panelClass","organ-select","hideSingleSelectionIndicator","true",3,"selectionChange","value"],["class","organ-select-option",3,"value",4,"ngFor","ngForOf"],[1,"upload-registration"],["label","Upload","matTooltip","Upload a preexisting registration",3,"parsedJson"],[1,"organ-select-option",3,"value"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"h2",1),Xt(2,"Author Data"),et(),Ye(3,"ccf-name-input",2),ei(4,"async"),Lt("nameChange",function(s){return r.page.setUserName(s),r.checkNameValid(s)}),et(),Ye(5,"mat-form-field",3)(6,"mat-label"),Xt(7,"ORCID identifier (optional)"),et(),Ye(8,"input",4),Lt("input",function(s){return r.updateOrcid(s.target.value)}),et(),mn(9,o6e,2,1,"mat-error",5),et()(),Ye(10,"div",6)(11,"h2",1),Xt(12,"Donor Data"),et(),Ye(13,"div",7)(14,"div",8),Xt(15,"Donor Sex:"),et(),Ye(16,"mat-radio-group",9),ei(17,"async"),Lt("change",function(s){return r.setSexFromLabel(s.value)}),Ye(18,"mat-radio-button",10),Xt(19,"Male"),et(),Ye(20,"mat-radio-button",11),Xt(21,"Female"),et()()(),Ye(22,"div",12)(23,"div",8),Xt(24,"Select an organ:"),et(),Ye(25,"mat-form-field",13),mn(26,s6e,2,0,"div",14),ei(27,"async"),Ye(28,"mat-select",15),ei(29,"async"),Lt("selectionChange",function(s){return r.model.setOrgan(s.value),r.model.setOrganDefaults()}),mn(30,a6e,2,2,"mat-option",16),ei(31,"async"),et()()(),Ye(32,"div",17)(33,"div",8),Xt(34,"Upload previous registration data (optional):"),et(),Ye(35,"ccf-json-file-reader",18),Lt("parsedJson",function(s){return r.handleRegistrationUpload(s)}),et(),Ye(36,"div"),Xt(37),et()()()),2&i&&(lt(3),Dt("name",ti(4,9,r.page.user$)),lt(5),Dt("value",r.orcId)("formControl",r.orcidControl),lt(),Dt("ngIf",r.orcidControl.invalid),lt(7),Dt("value",ti(17,11,r.model.sex$)),lt(10),Dt("ngIf",void 0===ti(27,13,r.model.organ$)),lt(2),Dt("value",ti(29,15,r.model.organ$)),lt(2),Dt("ngForOf",ti(31,17,r.page.organOptions$)),lt(7),jo(r.uploadText))},dependencies:[Zc,Za,pm,Lh,Fh,epe,ab,eT,YL,Aw,Wl,n6e,Y3,aM,Cee,n0,r6e,ud],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;gap:2rem}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{font-weight:400;line-height:1.5rem;margin:0;padding-bottom:1.5rem}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;line-height:1.5rem}[_nghost-%COMP%]     .mat-mdc-form-field-infix{padding-bottom:0!important;min-height:inherit}[_nghost-%COMP%]     .mdc-text-field{padding:0;padding-bottom:.3rem!important}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .author-section[_ngcontent-%COMP%]   .orcid-input[_ngcontent-%COMP%]{width:100%;font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .sex-toggle[_ngcontent-%COMP%]   mat-radio-group[_ngcontent-%COMP%]{display:flex;gap:3rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]{padding-bottom:1.5rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .organ-selector[_ngcontent-%COMP%]     .mat-mdc-select-value{font-size:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}[_nghost-%COMP%]   .donor-section[_ngcontent-%COMP%]   .upload-registration[_ngcontent-%COMP%]   ccf-json-file-reader[_ngcontent-%COMP%]     button{width:10rem;height:2rem;padding:.25rem 1rem;border-radius:.125rem}[_nghost-%COMP%]     .mdc-line-ripple:before, [_nghost-%COMP%]   .mdc-line-ripple[_ngcontent-%COMP%]:after{border-bottom-width:.125rem!important}"],changeDetection:0})}return n})();const jee=()=>[];function c6e(n,e){if(1&n){const t=qi();Ye(0,"ccf-tag-list",23),ei(1,"async"),Lt("tagRemoved",function(r){return fn(t),hn(Tn().astags.removeTag(r))}),et()}if(2&n){let t;Dt("tags",null!==(t=ti(1,1,Tn().astags.tags$))&&void 0!==t?t:Ep(3,jee))}}function l6e(n,e){}let d6e=(()=>{class n{constructor(t,i,r,o){this.model=t,this.registration=i,this.page=r,this.astags=o,this.clsName="ccf-right-sidebar",this.modalClosed=!1,this.registrationExpanded=new Qt}static#e=this.\u0275fac=function(i){return new(i||n)(be(wr),be(Co),be(so),be(Yd))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-right-sidebar"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},inputs:{modalClosed:"modalClosed"},outputs:{registrationExpanded:"registrationExpanded"},decls:44,vars:29,consts:[["tagListPlaceholder",""],[1,"info-button-container"],["videoID","j4f9_xdBrK0","infoTitle","CCF Registration User Interface","documentationUrl","assets/docs/README.md"],[1,"scroll-wrapper"],[1,"container"],[1,"registration-metadata-panel",3,"opened","closed"],[1,"header"],["matTooltip",""],[1,"tissue-block-controls-panel",3,"expanded"],[3,"blockSizeChange","blockSize"],[3,"slicesConfigChange","slicesConfig"],[3,"rotationChange","rotation"],[1,"tags-container",3,"expanded"],["matTooltip","Review tags generated via collision detection. Add or delete tags as needed."],[3,"added","search"],["class","tag-list",3,"tags","tagRemoved",4,"ngIf","ngIfElse"],[1,"legend"],[1,"dot","assigned"],[1,"text","assigned"],[1,"dot","added"],[1,"text","added"],[1,"filler"],[1,"review-button",3,"registerData","enterErrorMode","registrationCallbackSet","displayErrors","userValid","metaData"],[1,"tag-list",3,"tagRemoved","tags"]],template:function(i,r){if(1&i){const o=qi();Ye(0,"div",1),yn(1,"ccf-info-button",2),et(),Ye(2,"div",3)(3,"div",4)(4,"mat-expansion-panel",5),Lt("opened",function(){return fn(o),hn(r.registrationExpanded.emit(!0))})("closed",function(){return fn(o),hn(r.registrationExpanded.emit(!1))}),Ye(5,"mat-expansion-panel-header",6)(6,"mat-panel-title",7),Xt(7,"Registration Metadata"),et()(),yn(8,"ccf-registration-metadata"),et(),yn(9,"mat-divider"),Ye(10,"mat-expansion-panel",8)(11,"mat-expansion-panel-header",6)(12,"mat-panel-title",7),Xt(13,"Tissue Block Controls"),et()(),Ye(14,"ccf-block-size-input",9),ei(15,"async"),Lt("blockSizeChange",function(a){return fn(o),hn(r.model.setBlockSize(a))}),et(),Ye(16,"ccf-slices-input",10),ei(17,"async"),Lt("slicesConfigChange",function(a){return fn(o),hn(r.model.setSlicesConfig(a))}),et(),Ye(18,"ccf-rotation-slider",11),ei(19,"async"),Lt("rotationChange",function(a){return fn(o),hn(r.model.setRotation(a))}),et()(),yn(20,"mat-divider"),Ye(21,"mat-expansion-panel",12)(22,"mat-expansion-panel-header",6)(23,"mat-panel-title",13),Xt(24,"Anatomical Structure Tags"),et()(),Ye(25,"ccf-tag-search",14),Lt("added",function(a){return fn(o),hn(r.astags.addTags(a))}),et(),mn(26,c6e,2,4,"ccf-tag-list",15),ei(27,"async"),mn(28,l6e,0,0,"ng-template",null,0,kv),Ye(30,"div",16),yn(31,"span",17),Ye(32,"span",18),Xt(33,"Assigned"),et(),yn(34,"span",19),Ye(35,"span",20),Xt(36,"Added"),et()()(),yn(37,"mat-divider")(38,"div",21),Ye(39,"ccf-review-button",22),ei(40,"async"),ei(41,"async"),ei(42,"async"),ei(43,"async"),Lt("registerData",function(){return fn(o),hn(r.registration.register())})("enterErrorMode",function(){return fn(o),hn(r.registration.setDisplayErrors(!r.registration.isValid))}),et()()()}if(2&i){let o,s,a,c,l;const d=Ts(29);lt(10),Dt("expanded",!0),lt(4),Dt("blockSize",ti(15,12,r.model.blockSize$)),lt(2),Dt("slicesConfig",ti(17,14,r.model.slicesConfig$)),lt(2),Dt("rotation",ti(19,16,r.model.rotation$)),lt(3),Dt("expanded",!0),lt(4),Dt("search",r.astags.searchExternal),lt(),Dt("ngIf",null==(o=ti(27,18,r.model.organ$))?null:o.name)("ngIfElse",d),lt(13),Dt("registrationCallbackSet",null!==(s=ti(40,20,r.page.registrationCallbackSet$))&&void 0!==s&&s)("displayErrors",null!==(a=ti(41,22,r.registration.displayErrors$))&&void 0!==a&&a)("userValid",null!==(c=ti(42,24,r.registration.valid$))&&void 0!==c&&c)("metaData",null!==(l=ti(43,26,r.registration.metadata$))&&void 0!==l?l:Ep(28,jee))}},dependencies:[Za,yT,sB,nJ,wee,Wl,lGe,hGe,pGe,gGe,jGe,kb,t6e,Bee,ud],styles:["[_nghost-%COMP%]{display:block;height:calc(100% - 2.5rem);margin-top:1rem;margin-bottom:1.5rem}[_nghost-%COMP%]   .info-button-container[_ngcontent-%COMP%]{height:3.75rem;display:flex;justify-content:flex-end}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:calc(100% - 6rem);scrollbar-width:thin}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:.75rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;margin:0 1.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .review-button[_ngcontent-%COMP%]{position:absolute;bottom:1.5rem;z-index:999;width:calc(100% - 3.5rem)}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-divider[_ngcontent-%COMP%]{border-top-width:3px}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{padding:0 .5rem 0 0;font-weight:700;-webkit-user-select:none;-moz-user-select:none;font-size:1rem;height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]{overflow:visible}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding-left:0;padding-right:0}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:3rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon.add[_ngcontent-%COMP%]{position:absolute;width:3.625rem;height:3.625rem;font-size:3.625rem;top:-1.9375rem;right:-1.1875rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list[_ngcontent-%COMP%]{max-height:32rem;margin-left:-1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .tag-list-placeholder[_ngcontent-%COMP%]{display:flex;height:4rem;align-items:center;justify-content:center;font-weight:400}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;width:100%;margin-top:1.5rem;align-items:center;font-size:.9rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:inline-block;width:1rem;height:1rem;border-radius:50%}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.assigned[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .dot.added[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .tags-container[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   .scroll-wrapper[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}"],changeDetection:0})}return n})(),u6e=(()=>{class n{constructor(t,i,r,o){this.page=t,this.model=i,this.dialogRef=r,this.clsName="ccf-registration-content",this.sexByLabel$=this.model.sex$.pipe(le(s=>"female"===s?"Female":"Male")),this.organList=$3,this.registrationSelected=!1,t.user$.subscribe(s=>{this.checkNameValid(s),this.orcidValid=t.isOrcidValid(),o.markForCheck()}),i.organ$.subscribe(s=>{this.organSelected=""!==s.src,o.markForCheck()}),this.sexByLabel$.subscribe(s=>{this.setSexFromLabel(s),o.markForCheck()}),r.disableClose=!0,this.page.organOptions$.subscribe(s=>{this.organList=s,o.markForCheck()})}setSexFromLabel(t){this.currentSex=t,this.sexSelected=!0}checkNameValid(t){this.nameValid=t.firstName.length>0&&t.lastName.length>0}organSelect(t){this.currentOrgan=t,this.organSelected=!0}registerButtonClick(t){t&&t.preventDefault(),this.organSelected&&this.nameValid&&this.closeDialog()}handleRegistrationSelect(){this.registrationSelected=!0}closeDialog(){this.model.setSex("Female"===this.currentSex?"female":"male"),this.model.setOrgan(this.currentOrgan),this.registrationSelected||this.model.setOrganDefaults(),this.dialogRef.close(!0),this.page.registrationStarted()}static#e=this.\u0275fac=function(i){return new(i||n)(be(so),be(wr),be(hb),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-registration-content"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},decls:6,vars:3,consts:[[1,"modal"],[1,"title"],[3,"registrationSelected"],["mat-button","",1,"registration-button",3,"click","matTooltip"]],template:function(i,r){1&i&&(Ye(0,"div",0)(1,"div",1),Xt(2,"Start Registration"),et(),Ye(3,"ccf-registration-metadata",2),Lt("registrationSelected",function(){return r.handleRegistrationSelect()}),et(),Ye(4,"button",3),Lt("click",function(s){return r.registerButtonClick(s)}),Xt(5," Continue "),et()()),2&i&&(lt(4),bn("disabled",!r.organSelected||!r.nameValid||!r.orcidValid),Dt("matTooltip",r.organSelected&&r.nameValid?"":"Required: Enter first and last name, and select an organ"))},dependencies:[Wl,Bee,y_],styles:[".modal[_ngcontent-%COMP%]{padding:2rem;border-radius:.5rem;max-width:47rem;display:flex;flex-direction:column;gap:2rem}.modal[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]{display:flex;height:3rem;align-items:center}.modal[_ngcontent-%COMP%]   .organ-sliders[_ngcontent-%COMP%]   .slider-label[_ngcontent-%COMP%]{font-weight:600}.modal[_ngcontent-%COMP%]   .selector-label[_ngcontent-%COMP%]{font-weight:600;height:3rem;line-height:3rem}.modal[_ngcontent-%COMP%]   .selector-container[_ngcontent-%COMP%]{margin:0 auto}.modal[_ngcontent-%COMP%]   .registration-button[_ngcontent-%COMP%]{transition:.6s;display:flex;width:10rem;height:2rem;padding:.25rem 1rem;justify-content:center;align-items:center;border-radius:.125rem;box-shadow:0 2px 6px #00000029;cursor:pointer}.modal[_ngcontent-%COMP%]   .registration-button.disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}return n})(),h6e=(()=>{class n{constructor(t,i,r,o,s){this.dialog=t,this.page=i,this.model=r,this.referenceData=o,this.globalConfig=s,this.clsName="ccf-registration-modal",this.dialogOpen=!1}ngOnInit(){zo([this.page.state$,this.model.state$,this.referenceData.state$,this.globalConfig.state$]).pipe(ur(([t,i,r,o])=>{this.dialogOpen||o.editRegistration||0!==Object.keys(r.organIRILookup).length&&(""!==t.user.firstName&&""!==t.user.lastName&&""!==i.organ.src||(this.dialogOpen=!0,this.openDialog()))})).subscribe()}openDialog(){this.dialog.open(u6e,{autoFocus:!1})}static#e=this.\u0275fac=function(i){return new(i||n)(be(hf),be(so),be(wr),be(Sm),be(cs))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-registration-modal"]],hostVars:2,hostBindings:function(i,r){2&i&&vi(r.clsName)},decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})(),f6e=(()=>{class n{get isLightTheme(){return this.theming.getTheme().endsWith("light")}constructor(t,i,r,o,s,a,c,l,d){this.model=t,this.page=i,this.consentService=r,this.snackbar=o,this.theming=s,this.globalConfig=l,this.registrationStarted=!1,this.disablePositionChange=!1,this.registrationExpanded=!1,this.theme$=this.globalConfig.getOption("theme"),this.themeMode$=new kh(1),this.header$=this.globalConfig.getOption("header"),this.homeUrl$=this.globalConfig.getOption("homeUrl"),this.logoTooltip$=this.globalConfig.getOption("logoTooltip"),this.subscriptions=new Ht,s.initialize(a,c),this.subscriptions.add(i.registrationStarted$.subscribe(h=>{this.registrationStarted=h})),this.theme$.subscribe(h=>{this.theme=h??"light"}),this.globalConfig.getOption("homeUrl").subscribe(h=>{this.homeUrl=h??""}),this.globalConfig.getOption("logoTooltip").subscribe(h=>{this.logoTooltip=h??""}),zo([this.theme$,this.themeMode$]).subscribe(([h,f])=>{this.theming.setTheme(`${h}-theme-${f}`),d.markForCheck()})}ngOnInit(){const t=this.snackbar.openFromComponent(YVe,{data:{preClose:()=>{t.dismiss()}},duration:"not-set"===this.consentService.consent?1/0:3e3});this.themeMode$.next("light"),this.theming.setTheme(`${this.theme}-theme-light`)}toggleScheme(){this.themeMode$.next(this.isLightTheme?"dark":"light")}registrationToggle(t){this.registrationExpanded=t,this.registrationExpanded||(this.disablePositionChange=!1)}handleKey(t){const i=this.model.snapshot.position;if(this.disablePositionChange||!this.registrationStarted)return;t.preventDefault();const r=t.repeat?1:.5;let o=i;switch(t.key){case"q":o={...i,z:i.z+r};break;case"e":o={...i,z:i.z-r};break;case"w":o={...i,y:i.y+r};break;case"s":o={...i,y:i.y-r};break;case"a":o={...i,x:i.x-r};break;case"d":o={...i,x:i.x+r}}this.model.setPosition(o)}handleClick(t){const i=["mat-mdc-input-element","form-input-label"];for(const r of i)if("string"==typeof t.className&&t.className.includes(r))return void(this.disablePositionChange=!0);this.disablePositionChange=!1}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(be(wr),be(so),be(Xw),be(KG),be(W3),be(On),be(bi),be(cs),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-root"]],hostBindings:function(i,r){1&i&&Lt("keydown",function(s){return r.handleKey(s)},0,yh)("mousedown",function(s){return r.handleClick(s.target)},!1,yh)},decls:14,vars:13,consts:[[3,"logoTooltip","homeUrl"],["opened",""],[3,"modalClosed"],["position","end","opened",""],[3,"registrationExpanded","modalClosed"],[1,"stage-content",3,"disablePositionChange"]],template:function(i,r){if(1&i&&(yn(0,"ccf-registration-modal")(1,"ccf-header",0),ei(2,"async"),ei(3,"async"),ei(4,"async"),Ye(5,"ccf-drawer-container")(6,"ccf-drawer",1),yn(7,"ccf-left-sidebar",2)(8,"ccf-drawer-toggle-button"),et(),Ye(9,"ccf-drawer",3)(10,"ccf-right-sidebar",4),Lt("registrationExpanded",function(s){return r.registrationToggle(s)}),et(),yn(11,"ccf-drawer-toggle-button"),et(),Ye(12,"ccf-drawer-content"),yn(13,"ccf-content",5),et()()),2&i){let o,s;lt(),bn("header-hidden",!1===ti(2,7,r.header$)),Dt("logoTooltip",null!==(o=ti(3,9,r.logoTooltip$))&&void 0!==o?o:"")("homeUrl",null!==(s=ti(4,11,r.homeUrl$))&&void 0!==s?s:""),lt(6),Dt("modalClosed",r.registrationStarted),lt(3),Dt("modalClosed",r.registrationStarted),lt(3),Dt("disablePositionChange",r.disablePositionChange)}},dependencies:[W8e,sM,X3,$8e,s5e,F5e,cGe,d6e,h6e,ud],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden;font-size:1rem;color:#000}[_nghost-%COMP%]   .header-hidden[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer[_ngcontent-%COMP%]{width:25.5rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]{position:relative;z-index:1}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]{top:0rem;display:flex;flex-direction:column;position:relative;height:5.688rem;transition:all .5s ease-in-out}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.expanded[_ngcontent-%COMP%]{height:15rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector[_ngcontent-%COMP%]{height:100%;padding-top:.5rem;transition:all .5s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   ccf-organ-selector.closed[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;height:0;z-index:2}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{cursor:pointer;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]{width:3rem;height:1.2rem;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:#fff;border-bottom-left-radius:.2rem;border-bottom-right-radius:.2rem;transition:.6s}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer[_ngcontent-%COMP%]   .close-button-wrapper[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]   .expand-collapse-icon[_ngcontent-%COMP%]:hover{background-color:#ececec}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .selector-drawer.closed[_ngcontent-%COMP%]{height:3rem;top:-2.9rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .stage-content[_ngcontent-%COMP%]{border-radius:.5rem;height:calc(100% - 2.5rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .expanded-stage[_ngcontent-%COMP%]{height:calc(100% - 1.5rem);padding-bottom:1rem}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-drawer-content[_ngcontent-%COMP%]   .retracted-stage[_ngcontent-%COMP%]{height:calc(100% - 16.688rem)}[_nghost-%COMP%]   ccf-drawer-container[_ngcontent-%COMP%]   ccf-content[_ngcontent-%COMP%]{position:absolute;transition-duration:.5s;transition-timing-function:ease-in-out;transition-property:all;bottom:1.5rem;z-index:1}  .mdc-snackbar__surface{box-shadow:none!important}"],changeDetection:0})}return n})();function p6e(n,e){1&n&&yn(0,"ccf-root")}function m6e(n){try{return nee.json(n)}catch{return""+n}}let g6e=(()=>{class n extends S8e{constructor(t,i){super(t,i,{initialConfig:{...Xd.dbOptions,...globalThis.ruiConfig,...Xd.customization},parse:{useDownload:nee.boolean,user:nee.json,organ:m6e,editRegistration:nee.json,register:nee.function,cancelRegistration:nee.function,fetchPreviousRegistrations:nee.function,skipUnsavedChangesConfirmation:nee.boolean,header:nee.boolean,organOptions:nee.stringArray}})}static#e=this.\u0275fac=function(i){return new(i||n)(be(cs),be(Ai))};static#t=this.\u0275cmp=un({type:n,selectors:[["ccf-root-wc"]],inputs:{baseHref:"baseHref",useDownload:"useDownload",referenceData:"referenceData",user:"user",organ:"organ",editRegistration:"editRegistration",register:"register",cancelRegistration:"cancelRegistration",fetchPreviousRegistrations:"fetchPreviousRegistrations",skipUnsavedChangesConfirmation:"skipUnsavedChangesConfirmation",theme:"theme",header:"header",homeUrl:"homeUrl",logoTooltip:"logoTooltip",organOptions:"organOptions",collisionsEndpoint:"collisionsEndpoint"},features:[ui],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,r){1&i&&mn(0,p6e,1,0,"ccf-root",0),2&i&&Dt("ngIf",r.initialized)},dependencies:[Za,f6e],encapsulation:2,changeDetection:0})}return n})();const _6e=new vt("Global configuration object");function b6e(n){return n.get("ruiConfig",{user:{firstName:"",lastName:""}})}let y6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[{provide:_6e,useFactory:b6e,deps:[yB]}]})}return n})(),v6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[{provide:Fv,useValue:W3.initialize,multi:!0},W3]})}return n})();const hM=(n,e)=>((n,e)=>new Array(e+1).join("0"))(0,e-n.toString().length)+n;class E6e{constructor(e,t,i){this.action=e,this.store=t,this.logWriter=i}dispatched(e){const t=sm(this.action),i=function x6e(n){return hM(n.getHours(),2)+":"+hM(n.getMinutes(),2)+":"+hM(n.getSeconds(),2)+"."+hM(n.getMilliseconds(),3)}(new Date);this.logWriter.startGroup(`action ${t} @ ${i}`),this._hasPayload(this.action)&&this.logWriter.logGrey("payload",Object.assign({},this.action)),this.logWriter.logGrey("prev state",e)}completed(e){this.logWriter.logGreen("next state",e),this.logWriter.endGroup()}errored(e){this.logWriter.logRedish("next state after error",this.store.snapshot()),this.logWriter.logRedish("error",e),this.logWriter.endGroup()}_hasPayload(e){return this._getNonEmptyProperties(e).length>0}_getNonEmptyProperties(e){return Object.keys(e).map(r=>e[r]).filter(r=>void 0!==r)}}class C6e{constructor(e){this.options=e,this.options=this.options||{},this.logger=e.logger||console}startGroup(e){const t=this.options.collapsed?this.logger.groupCollapsed:this.logger.group;try{t.call(this.logger,e)}catch{console.log(e)}}endGroup(){try{this.logger.groupEnd()}catch{this.logger.log("\u2014\u2014 log end \u2014\u2014")}}logGrey(e,t){this.log(e,"color: #9E9E9E; font-weight: bold",t)}logGreen(e,t){this.log(e,"color: #4CAF50; font-weight: bold",t)}logRedish(e,t){this.log(e,"color: #FD8182; font-weight: bold",t)}log(e,t,i){this.isIE()?this.logger.log(e,i):this.logger.log("%c "+e,t,i)}isIE(){const e=typeof window<"u"&&window.navigator.userAgent?window.navigator.userAgent:"";let t=!1;const i=e.indexOf("MSIE "),r=e.indexOf("Trident/");return(i>-1||r>-1)&&(t=!0),t}}const Uee=new vt("NGXS_LOGGER_PLUGIN_OPTIONS");let A6e=(()=>{class n{constructor(t,i){this._options=t,this._injector=i}handle(t,i,r){if(this._options.disabled||!this._options.filter(i,t))return r(t,i);this._logWriter=this._logWriter||new C6e(this._options),this._store=this._store||this._injector.get(Fd);const o=new E6e(i,this._store,this._logWriter);return o.dispatched(t),r(t,i).pipe(ur(s=>{o.completed(s)}),ic(s=>{throw o.errored(s),s}))}}return n.\u0275fac=function(t){return new(t||n)(Ke(Uee),Ke(bi))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();const Vee=new vt("LOGGER_USER_OPTIONS");function S6e(n){return Object.assign(Object.assign({},{logger:console,collapsed:!1,disabled:!1,filter:()=>!0}),n)}let T6e=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:yL,useClass:A6e,multi:!0},{provide:Vee,useValue:t},{provide:Uee,useFactory:S6e,deps:[Vee]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})();const sj=new vt(""),Hee=new vt(""),aj="@@STATE";function M6e(n){return Object.assign({key:[aj],storage:0,serialize:JSON.stringify,deserialize:JSON.parse,beforeSerialize:e=>e,afterDeserialize:e=>e},n)}function I6e(n,e){return Uv(e)?null:0===n.storage?localStorage:1===n.storage?sessionStorage:null}function Gee(n,e){return e&&e.namespace?`${e.namespace}:${n}`:n}function Wee(n){return null!=n&&!!n.engine}const $ee="NGXS_OPTIONS_META",qee=new vt("");function R6e(n,e){const i=(Array.isArray(e.key)?e.key:[e.key]).map(r=>{const o=function D6e(n){return Wee(n)&&(n=n.key),n.hasOwnProperty($ee)&&(n=n[$ee].name),n instanceof $Ne?n.getName():n}(r);return{key:o,engine:Wee(r)?n.get(r.engine):n.get(Hee)}});return Object.assign(Object.assign({},e),{keysWithEngines:i})}let k6e=(()=>{class n{constructor(t,i){this._options=t,this._platformId=i,this._keysWithEngines=this._options.keysWithEngines,this._usesDefaultStateKey=1===this._keysWithEngines.length&&this._keysWithEngines[0].key===aj}handle(t,i,r){var o;if(Uv(this._platformId))return r(t,i);const s=function X2e(n){const e=sm(n);return function(t){return e===sm(t)}}(i),a=s(SL),c=s(TL),l=a||c;let d=!1;if(l){const h=c&&i.addedStates;for(const{key:f,engine:m}of this._keysWithEngines){if(!this._usesDefaultStateKey&&h){const v=f.indexOf(P6e),D=v>-1?f.slice(0,v):f;if(!h.hasOwnProperty(D))continue}const g=Gee(f,this._options);let b=m.getItem(g);if("undefined"!==b&&null!=b){try{const v=this._options.deserialize(b);b=this._options.afterDeserialize(v,f)}catch{b={}}null===(o=this._options.migrations)||void 0===o||o.forEach(v=>{v.version===gw(b,v.versionKey||"version")&&(!v.key&&this._usesDefaultStateKey||v.key===f)&&(b=v.migrate(b),d=!0)}),this._usesDefaultStateKey?(b&&h&&Object.keys(h).length>0&&(b=Object.keys(h).reduce((v,D)=>(b.hasOwnProperty(D)&&(v[D]=b[D]),v),{})),t=Object.assign(Object.assign({},t),b)):t=gL(t,f,b)}}}return r(t,i).pipe(ur(h=>{if(!l||d)for(const{key:f,engine:m}of this._keysWithEngines){let g=h;const b=Gee(f,this._options);f!==aj&&(g=gw(h,f));try{const v=this._options.beforeSerialize(g,f);m.setItem(b,this._options.serialize(v))}catch(v){}}}))}}return n.\u0275fac=function(t){return new(t||n)(Ke(qee),Ke(Ns))},n.\u0275prov=Rt({token:n,factory:n.\u0275fac}),n})();const P6e=".",Yee=new vt("");let F6e=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:yL,useClass:k6e,multi:!0},{provide:Yee,useValue:t},{provide:sj,useFactory:M6e,deps:[Yee]},{provide:Hee,useFactory:I6e,deps:[sj,Ns]},{provide:qee,useFactory:R6e,deps:[bi,sj]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=dn({type:n}),n.\u0275inj=an({}),n})();new vt("",{providedIn:"root",factory:()=>hd(kt(Ns))?localStorage:null}),new vt("",{providedIn:"root",factory:()=>hd(kt(Ns))?sessionStorage:null});const Jee=[{name:"bladder",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bladder.svg"},{name:"blood",namespace:"app",url:"assets/icons/organ-icons/organ-icon-blood.svg"},{name:"bone-marrow",namespace:"app",url:"assets/icons/organ-icons/organ-icon-bone-marrow.svg"},{name:"brain",namespace:"app",url:"assets/icons/organ-icons/organ-icon-brain.svg"},{name:"mammary-gland",namespace:"app",url:"assets/icons/organ-icons/organ-icon-breast.svg"},{name:"main-bronchus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-extrapulmonary-bronchus.svg"},{name:"eye",namespace:"app",url:"assets/icons/organ-icons/organ-icon-eye.svg"},{name:"fallopian-tube-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-left.svg"},{name:"fallopian-tube-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-fallopian-tube-right.svg"},{name:"heart",namespace:"app",url:"assets/icons/organ-icons/organ-icon-heart.svg"},{name:"kidney-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-left.svg"},{name:"kidney-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidney-right.svg"},{name:"kidneys",namespace:"app",url:"assets/icons/organ-icons/organ-icon-kidneys.svg"},{name:"knee",namespace:"app",url:"assets/icons/organ-icons/organ-icon-knee.svg"},{name:"large-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-large-intestine.svg"},{name:"larynx",namespace:"app",url:"assets/icons/organ-icons/organ-icon-larynx.svg"},{name:"liver",namespace:"app",url:"assets/icons/organ-icons/organ-icon-liver.svg"},{name:"lung-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-left.svg"},{name:"lung-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lung-right.svg"},{name:"lung",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lungs.svg"},{name:"lymph-nodes",namespace:"app",url:"assets/icons/organ-icons/organ-icon-lymph-nodes.svg"},{name:"neurons",namespace:"app",url:"assets/icons/organ-icons/organ-icon-neurons.svg"},{name:"ovaries",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovaries.svg"},{name:"ovary-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-left.svg"},{name:"ovary-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ovary-right.svg"},{name:"palatine-tonsil",namespace:"app",url:"assets/icons/organ-icons/organ-icon-palatine-tonsil.svg"},{name:"pancreas",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pancreas.svg"},{name:"pelvis-f",namespace:"app",url:"assets/icons/organ-icons/organ-icon-pelvis.svg"},{name:"placenta",namespace:"app",url:"assets/icons/organ-icons/organ-icon-placenta.svg"},{name:"prostate",namespace:"app",url:"assets/icons/organ-icons/organ-icon-prostate.svg"},{name:"skin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-skin.svg"},{name:"small-intestine",namespace:"app",url:"assets/icons/organ-icons/organ-icon-small-intestine.svg"},{name:"spinal-cord",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spinal-cord.svg"},{name:"spleen",namespace:"app",url:"assets/icons/organ-icons/organ-icon-spleen.svg"},{name:"stomach",namespace:"app",url:"assets/icons/organ-icons/organ-icon-stomach.svg"},{name:"thymus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-thymus.svg"},{name:"trachea",namespace:"app",url:"assets/icons/organ-icons/organ-icon-trachea.svg"},{name:"ureter-left",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-left.svg"},{name:"ureter-right",namespace:"app",url:"assets/icons/organ-icons/organ-icon-ureter-right.svg"},{name:"uterus",namespace:"app",url:"assets/icons/organ-icons/organ-icon-uterus.svg"},{name:"vasculature-thick",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thick.svg"},{name:"vasculature-thin",namespace:"app",url:"assets/icons/organ-icons/organ-icon-vasculature-thin.svg"},{name:"opacity",namespace:"app",url:"assets/icons/opacity-24px.svg"},{name:"visibility_on",namespace:"app",url:"assets/icons/visibility-on-24px.svg"},{name:"visibility_off",namespace:"app",url:"assets/icons/visibility-off-24px.svg"},{name:"visibility_off_cube",namespace:"app",url:"assets/icons/ico-cube.svg"}];let fM=class wM extends fje{constructor(e,t,i){super(),this.registry=e,this.sanitizer=t,this.globalConfig=i}ngxsOnInit(){Jee.filter(e=>void 0!==e.html).map(e=>({...e,html:this.sanitizer.bypassSecurityTrustHtml(e.html??"")})).forEach(e=>this.registerIconImpl(e)),this.registry?.addSvgIconResolver((e,t)=>{const i=Jee.find(o=>(o.name??"")===e&&(o.namespace??"")===t);return void 0===i?.url?null:this.sanitizer.bypassSecurityTrustResourceUrl((this.globalConfig.snapshot.baseHref??"")+i.url)})}registerIcon(e){return this.registerIconImpl(e)}registerIconImpl(e){if(!this.registry||!e.url&&!e.html)return!1;const t=this.registry,r=t[this.getMethodName(e)],o=this.getArguments(e);if(!r)return!1;try{return r.apply(t,o),!0}catch{return!1}}getMethodName({name:e,namespace:t,url:i}){const r=["addSvgIcon"];return e||r.push("Set"),i||r.push("Literal"),t&&r.push("InNamespace"),r.join("")}getArguments({name:e,namespace:t,url:i,html:r}){return[t,e,i??r].filter(s=>!!s)}static#e=this.\u0275fac=function(t){return new(t||wM)(Ke(d0,8),Ke(Tp),Ke(cs))};static#t=this.\u0275prov=Rt({token:wM,factory:wM.\u0275fac})};Nt([Qn(),Ie("design:type",Function),Ie("design:paramtypes",[Object]),Ie("design:returntype",Boolean)],fM.prototype,"registerIcon",null),fM=Nt([Hu(),Ld({name:"iconRegistry"}),Ie("design:paramtypes",[Object,Tp,cs])],fM);const L6e=[cs,fM,so,wr,Yd,Sm,Co,Ca];let B6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[aje.forRoot(),LNe.forRoot(L6e,{developmentMode:!Xd.production}),F6e.forRoot({key:["registration.registrations"]}),T6e.forRoot({disabled:Xd.production})]})}return n})(),j6e=(()=>{class n{constructor(t){if(t)throw new Error("The core module should only be imported once in the root module")}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(n,12))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[gG,$Ve.forRoot({gaToken:Xd.googleAnalyticsToken,appName:"rui"}),UVe,y6e,B6e,v6e]})}return n})(),U6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,w5e]})}return n})(),V6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,bee,Q3,wo,J3,U6e,hl]})}return n})(),z6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,aJ,wo,bT]})}return n})(),H6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo,z6e]})}return n})(),G6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,V6e,wo,U2e,H6e,Rl,E8e,F_e]})}return n})(),W6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo,hl]})}return n})(),$6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,Q3]})}return n})(),Qee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,db,KL,JL,hl]})}return n})(),q6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo,Rl,NK]})}return n})(),Zee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo,Pee]})}return n})(),X6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,aB,wo,hl,J3,Qee,Zee,$6e,NK,q6e,Zee]})}return n})(),Y6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,zh]})}return n})(),ete=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,db,KL,JL,hl,Qee,bee,Bh,Q3,zh,hl,Y6e]})}return n})(),K6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,hl,ete,zh]})}return n})(),J6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,bT,wo,K6e]})}return n})(),Q6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,db,wo,Rl,hl,Bh]})}return n})(),Z6e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,wo,PK,Rl,hl,db,Bh]})}return n})(),e9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,db,wo,Rl,hl,d3e,Bh]})}return n})(),t9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,Pee,wo]})}return n})(),n9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,KL,JL,zh,KGe,Bh,wo,db]})}return n})(),i9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,bT,wo,zh]})}return n})(),r9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,i9e,zh,hl]})}return n})(),o9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({imports:[Bi,aB,J3,wo,uP,hl,Q6e,r9e,Z6e,e9e,t9e,n9e,l3e,ete]})}return n})(),s9e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[{provide:cee,useValue:aee}],imports:[KR,uP,wo]})}return n})(),a9e=(()=>{class n{constructor(t){this.injector=t}ngDoBootstrap(){const t=function $ue(n,e){const t=function jue(n,e){return e.get(Eh).resolveComponentFactory(n).inputs}(n,e.injector),i=e.strategyFactory||new Hue(n,e.injector),r=function Bue(n){const e={};return n.forEach(({propName:t,templateName:i,transform:r})=>{e[function kue(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}(i)]=[t,r]}),e}(t);class o extends Wue{static#e=this.observedAttributes=Object.keys(r);get ngElementStrategy(){if(!this._ngElementStrategy){const a=this._ngElementStrategy=i.create(this.injector||e.injector);t.forEach(({propName:c,transform:l})=>{if(!this.hasOwnProperty(c))return;const d=this[c];delete this[c],a.setInputValue(c,d,l)})}return this._ngElementStrategy}constructor(a){super(),this.injector=a}attributeChangedCallback(a,c,l,d){const[h,f]=r[a];this.ngElementStrategy.setInputValue(h,l,f)}connectedCallback(){let a=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),a=!0),this.ngElementStrategy.connect(this),a||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(a=>{const c=new CustomEvent(a.name,{detail:a.value});this.dispatchEvent(c)})}}return t.forEach(({propName:s,transform:a})=>{Object.defineProperty(o.prototype,s,{get(){return this.ngElementStrategy.getInputValue(s)},set(c){this.ngElementStrategy.setInputValue(s,c,a)},configurable:!0,enumerable:!0})}),o}(g6e,{injector:this.injector});customElements.define("ccf-rui",t)}static#e=this.\u0275fac=function(i){return new(i||n)(Ke(bi))};static#t=this.\u0275mod=dn({type:n});static#n=this.\u0275inj=an({providers:[{provide:iee,useValue:"hubmap-theme-light"},{provide:J5,useValue:{floatLabel:!0}}],imports:[KR,uP,j6e,wo,s9e,W6e,G6e,X6e,o9e,J6e,VVe,qme]})}return n})();Wde().bootstrapModule(a9e).catch(n=>console.error(n))},2683:Ge=>{Ge.exports=function(T,J){var C=J.length;if(0!==C){var q=T.length;T.length+=C;for(var Y=0;Y<C;Y++)T[q+Y]=J[Y]}}},9465:Ge=>{"use strict";const{AbortController:ye,AbortSignal:T}=typeof self<"u"?self:typeof window<"u"?window:void 0;Ge.exports=ye,Ge.exports.AbortSignal=T,Ge.exports.default=ye},3981:(Ge,ye)=>{"use strict";ye.byteLength=function E(x){var F=w(x),z=F[1];return 3*(F[0]+z)/4-z},ye.toByteArray=function K(x){var F,y,se=w(x),z=se[0],$=se[1],X=new C(function B(x,F,se){return 3*(F+se)/4-se}(0,z,$)),j=0,H=$>0?z-4:z;for(y=0;y<H;y+=4)F=J[x.charCodeAt(y)]<<18|J[x.charCodeAt(y+1)]<<12|J[x.charCodeAt(y+2)]<<6|J[x.charCodeAt(y+3)],X[j++]=F>>16&255,X[j++]=F>>8&255,X[j++]=255&F;return 2===$&&(F=J[x.charCodeAt(y)]<<2|J[x.charCodeAt(y+1)]>>4,X[j++]=255&F),1===$&&(F=J[x.charCodeAt(y)]<<10|J[x.charCodeAt(y+1)]<<4|J[x.charCodeAt(y+2)]>>2,X[j++]=F>>8&255,X[j++]=255&F),X},ye.fromByteArray=function de(x){for(var F,se=x.length,z=se%3,$=[],X=16383,j=0,H=se-z;j<H;j+=X)$.push(R(x,j,j+X>H?H:j+X));return 1===z?$.push(T[(F=x[se-1])>>2]+T[F<<4&63]+"=="):2===z&&$.push(T[(F=(x[se-2]<<8)+x[se-1])>>10]+T[F>>4&63]+T[F<<2&63]+"="),$.join("")};for(var T=[],J=[],C=typeof Uint8Array<"u"?Uint8Array:Array,q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Y=0;Y<64;++Y)T[Y]=q[Y],J[q.charCodeAt(Y)]=Y;function w(x){var F=x.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var se=x.indexOf("=");return-1===se&&(se=F),[se,se===F?0:4-se%4]}function te(x){return T[x>>18&63]+T[x>>12&63]+T[x>>6&63]+T[63&x]}function R(x,F,se){for(var $=[],X=F;X<se;X+=3)$.push(te((x[X]<<16&16711680)+(x[X+1]<<8&65280)+(255&x[X+2])));return $.join("")}J[45]=62,J[95]=63},6887:(Ge,ye)=>{"use strict";var J=function(q){return q.typeOfFunction="function",q.boolTrue=!0,q}(J||{});ye.oI=function C(q,Y,ne){if(!ne||typeof ne.value!==J.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+Y+"> is not a method!");return{configurable:J.boolTrue,get:function(){var w=ne.value.bind(this);return Object.defineProperty(this,Y,{value:w,configurable:J.boolTrue,writable:J.boolTrue}),w}}}},3838:(Ge,ye,T)=>{"use strict";var J=T(3981),C=T(2020);ye.Buffer=w,ye.SlowBuffer=function z(V){return+V!=V&&(V=0),w.alloc(+V)},ye.INSPECT_MAX_BYTES=50;var q=2147483647;function ne(V){if(V>q)throw new RangeError('The value "'+V+'" is invalid for option "size"');var I=new Uint8Array(V);return I.__proto__=w.prototype,I}function w(V,I,O){if("number"==typeof V){if("string"==typeof I)throw new TypeError('The "string" argument must be of type string. Received type number');return te(V)}return E(V,I,O)}function E(V,I,O){if("string"==typeof V)return function R(V,I){if(("string"!=typeof I||""===I)&&(I="utf8"),!w.isEncoding(I))throw new TypeError("Unknown encoding: "+I);var O=0|$(V,I),ge=ne(O),$e=ge.write(V,I);return $e!==O&&(ge=ge.slice(0,$e)),ge}(V,I);if(ArrayBuffer.isView(V))return de(V);if(null==V)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(ft(V,ArrayBuffer)||V&&ft(V.buffer,ArrayBuffer))return function x(V,I,O){if(I<0||V.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<I+(O||0))throw new RangeError('"length" is outside of buffer bounds');var ge;return(ge=void 0===I&&void 0===O?new Uint8Array(V):void 0===O?new Uint8Array(V,I):new Uint8Array(V,I,O)).__proto__=w.prototype,ge}(V,I,O);if("number"==typeof V)throw new TypeError('The "value" argument must not be of type number. Received type number');var ge=V.valueOf&&V.valueOf();if(null!=ge&&ge!==V)return w.from(ge,I,O);var $e=function F(V){if(w.isBuffer(V)){var I=0|se(V.length),O=ne(I);return 0===O.length||V.copy(O,0,0,I),O}return void 0!==V.length?"number"!=typeof V.length||Fe(V.length)?ne(0):de(V):"Buffer"===V.type&&Array.isArray(V.data)?de(V.data):void 0}(V);if($e)return $e;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof V[Symbol.toPrimitive])return w.from(V[Symbol.toPrimitive]("string"),I,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}function B(V){if("number"!=typeof V)throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function te(V){return B(V),ne(V<0?0:0|se(V))}function de(V){for(var I=V.length<0?0:0|se(V.length),O=ne(I),ge=0;ge<I;ge+=1)O[ge]=255&V[ge];return O}function se(V){if(V>=q)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+q.toString(16)+" bytes");return 0|V}function $(V,I){if(w.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||ft(V,ArrayBuffer))return V.byteLength;if("string"!=typeof V)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var O=V.length,ge=arguments.length>2&&!0===arguments[2];if(!ge&&0===O)return 0;for(var $e=!1;;)switch(I){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Ae(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*O;case"hex":return O>>>1;case"base64":return nt(V).length;default:if($e)return ge?-1:Ae(V).length;I=(""+I).toLowerCase(),$e=!0}}function X(V,I,O){var ge=!1;if((void 0===I||I<0)&&(I=0),I>this.length||((void 0===O||O>this.length)&&(O=this.length),O<=0)||(O>>>=0)<=(I>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return je(this,I,O);case"utf8":case"utf-8":return Re(this,I,O);case"ascii":return rt(this,I,O);case"latin1":case"binary":return Ee(this,I,O);case"base64":return xe(this,I,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,I,O);default:if(ge)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),ge=!0}}function j(V,I,O){var ge=V[I];V[I]=V[O],V[O]=ge}function H(V,I,O,ge,$e){if(0===V.length)return-1;if("string"==typeof O?(ge=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),Fe(O=+O)&&(O=$e?0:V.length-1),O<0&&(O=V.length+O),O>=V.length){if($e)return-1;O=V.length-1}else if(O<0){if(!$e)return-1;O=0}if("string"==typeof I&&(I=w.from(I,ge)),w.isBuffer(I))return 0===I.length?-1:y(V,I,O,ge,$e);if("number"==typeof I)return I&=255,"function"==typeof Uint8Array.prototype.indexOf?$e?Uint8Array.prototype.indexOf.call(V,I,O):Uint8Array.prototype.lastIndexOf.call(V,I,O):y(V,[I],O,ge,$e);throw new TypeError("val must be string, number or Buffer")}function y(V,I,O,ge,$e){var Gt,ve=1,Ve=V.length,Ze=I.length;if(void 0!==ge&&("ucs2"===(ge=String(ge).toLowerCase())||"ucs-2"===ge||"utf16le"===ge||"utf-16le"===ge)){if(V.length<2||I.length<2)return-1;ve=2,Ve/=2,Ze/=2,O/=2}function St(k,U){return 1===ve?k[U]:k.readUInt16BE(U*ve)}if($e){var Ot=-1;for(Gt=O;Gt<Ve;Gt++)if(St(V,Gt)===St(I,-1===Ot?0:Gt-Ot)){if(-1===Ot&&(Ot=Gt),Gt-Ot+1===Ze)return Ot*ve}else-1!==Ot&&(Gt-=Gt-Ot),Ot=-1}else for(O+Ze>Ve&&(O=Ve-Ze),Gt=O;Gt>=0;Gt--){for(var Ht=!0,ce=0;ce<Ze;ce++)if(St(V,Gt+ce)!==St(I,ce)){Ht=!1;break}if(Ht)return Gt}return-1}function M(V,I,O,ge){O=Number(O)||0;var $e=V.length-O;ge?(ge=Number(ge))>$e&&(ge=$e):ge=$e;var ve=I.length;ge>ve/2&&(ge=ve/2);for(var Ve=0;Ve<ge;++Ve){var Ze=parseInt(I.substr(2*Ve,2),16);if(Fe(Ze))return Ve;V[O+Ve]=Ze}return Ve}function A(V,I,O,ge){return ut(Ae(I,V.length-O),V,O,ge)}function oe(V,I,O,ge){return ut(function Ne(V){for(var I=[],O=0;O<V.length;++O)I.push(255&V.charCodeAt(O));return I}(I),V,O,ge)}function ee(V,I,O,ge){return oe(V,I,O,ge)}function Te(V,I,O,ge){return ut(nt(I),V,O,ge)}function ie(V,I,O,ge){return ut(function Me(V,I){for(var O,ge,ve=[],Ve=0;Ve<V.length&&!((I-=2)<0);++Ve)ge=(O=V.charCodeAt(Ve))>>8,ve.push(O%256),ve.push(ge);return ve}(I,V.length-O),V,O,ge)}function xe(V,I,O){return J.fromByteArray(0===I&&O===V.length?V:V.slice(I,O))}function Re(V,I,O){O=Math.min(V.length,O);for(var ge=[],$e=I;$e<O;){var St,Gt,Ot,Ht,ve=V[$e],Ve=null,Ze=ve>239?4:ve>223?3:ve>191?2:1;if($e+Ze<=O)switch(Ze){case 1:ve<128&&(Ve=ve);break;case 2:128==(192&(St=V[$e+1]))&&(Ht=(31&ve)<<6|63&St)>127&&(Ve=Ht);break;case 3:Gt=V[$e+2],128==(192&(St=V[$e+1]))&&128==(192&Gt)&&(Ht=(15&ve)<<12|(63&St)<<6|63&Gt)>2047&&(Ht<55296||Ht>57343)&&(Ve=Ht);break;case 4:Gt=V[$e+2],Ot=V[$e+3],128==(192&(St=V[$e+1]))&&128==(192&Gt)&&128==(192&Ot)&&(Ht=(15&ve)<<18|(63&St)<<12|(63&Gt)<<6|63&Ot)>65535&&Ht<1114112&&(Ve=Ht)}null===Ve?(Ve=65533,Ze=1):Ve>65535&&(ge.push((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),ge.push(Ve),$e+=Ze}return function tt(V){var I=V.length;if(I<=Le)return String.fromCharCode.apply(String,V);for(var O="",ge=0;ge<I;)O+=String.fromCharCode.apply(String,V.slice(ge,ge+=Le));return O}(ge)}ye.kMaxLength=q,!(w.TYPED_ARRAY_SUPPORT=function Y(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===V.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&null!=Symbol.species&&w[Symbol.species]===w&&Object.defineProperty(w,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),w.poolSize=8192,w.from=function(V,I,O){return E(V,I,O)},w.prototype.__proto__=Uint8Array.prototype,w.__proto__=Uint8Array,w.alloc=function(V,I,O){return function K(V,I,O){return B(V),V<=0?ne(V):void 0!==I?"string"==typeof O?ne(V).fill(I,O):ne(V).fill(I):ne(V)}(V,I,O)},w.allocUnsafe=function(V){return te(V)},w.allocUnsafeSlow=function(V){return te(V)},w.isBuffer=function(I){return null!=I&&!0===I._isBuffer&&I!==w.prototype},w.compare=function(I,O){if(ft(I,Uint8Array)&&(I=w.from(I,I.offset,I.byteLength)),ft(O,Uint8Array)&&(O=w.from(O,O.offset,O.byteLength)),!w.isBuffer(I)||!w.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===O)return 0;for(var ge=I.length,$e=O.length,ve=0,Ve=Math.min(ge,$e);ve<Ve;++ve)if(I[ve]!==O[ve]){ge=I[ve],$e=O[ve];break}return ge<$e?-1:$e<ge?1:0},w.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(I,O){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(0===I.length)return w.alloc(0);var ge;if(void 0===O)for(O=0,ge=0;ge<I.length;++ge)O+=I[ge].length;var $e=w.allocUnsafe(O),ve=0;for(ge=0;ge<I.length;++ge){var Ve=I[ge];if(ft(Ve,Uint8Array)&&(Ve=w.from(Ve)),!w.isBuffer(Ve))throw new TypeError('"list" argument must be an Array of Buffers');Ve.copy($e,ve),ve+=Ve.length}return $e},w.byteLength=$,w.prototype._isBuffer=!0,w.prototype.swap16=function(){var I=this.length;if(I%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<I;O+=2)j(this,O,O+1);return this},w.prototype.swap32=function(){var I=this.length;if(I%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<I;O+=4)j(this,O,O+3),j(this,O+1,O+2);return this},w.prototype.swap64=function(){var I=this.length;if(I%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<I;O+=8)j(this,O,O+7),j(this,O+1,O+6),j(this,O+2,O+5),j(this,O+3,O+4);return this},w.prototype.toLocaleString=w.prototype.toString=function(){var I=this.length;return 0===I?"":0===arguments.length?Re(this,0,I):X.apply(this,arguments)},w.prototype.equals=function(I){if(!w.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I||0===w.compare(this,I)},w.prototype.inspect=function(){var I="",O=ye.INSPECT_MAX_BYTES;return I=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(I+=" ... "),"<Buffer "+I+">"},w.prototype.compare=function(I,O,ge,$e,ve){if(ft(I,Uint8Array)&&(I=w.from(I,I.offset,I.byteLength)),!w.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(void 0===O&&(O=0),void 0===ge&&(ge=I?I.length:0),void 0===$e&&($e=0),void 0===ve&&(ve=this.length),O<0||ge>I.length||$e<0||ve>this.length)throw new RangeError("out of range index");if($e>=ve&&O>=ge)return 0;if($e>=ve)return-1;if(O>=ge)return 1;if(this===I)return 0;for(var Ve=(ve>>>=0)-($e>>>=0),Ze=(ge>>>=0)-(O>>>=0),St=Math.min(Ve,Ze),Gt=this.slice($e,ve),Ot=I.slice(O,ge),Ht=0;Ht<St;++Ht)if(Gt[Ht]!==Ot[Ht]){Ve=Gt[Ht],Ze=Ot[Ht];break}return Ve<Ze?-1:Ze<Ve?1:0},w.prototype.includes=function(I,O,ge){return-1!==this.indexOf(I,O,ge)},w.prototype.indexOf=function(I,O,ge){return H(this,I,O,ge,!0)},w.prototype.lastIndexOf=function(I,O,ge){return H(this,I,O,ge,!1)},w.prototype.write=function(I,O,ge,$e){if(void 0===O)$e="utf8",ge=this.length,O=0;else if(void 0===ge&&"string"==typeof O)$e=O,ge=this.length,O=0;else{if(!isFinite(O))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");O>>>=0,isFinite(ge)?(ge>>>=0,void 0===$e&&($e="utf8")):($e=ge,ge=void 0)}var ve=this.length-O;if((void 0===ge||ge>ve)&&(ge=ve),I.length>0&&(ge<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");$e||($e="utf8");for(var Ve=!1;;)switch($e){case"hex":return M(this,I,O,ge);case"utf8":case"utf-8":return A(this,I,O,ge);case"ascii":return oe(this,I,O,ge);case"latin1":case"binary":return ee(this,I,O,ge);case"base64":return Te(this,I,O,ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,I,O,ge);default:if(Ve)throw new TypeError("Unknown encoding: "+$e);$e=(""+$e).toLowerCase(),Ve=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Le=4096;function rt(V,I,O){var ge="";O=Math.min(V.length,O);for(var $e=I;$e<O;++$e)ge+=String.fromCharCode(127&V[$e]);return ge}function Ee(V,I,O){var ge="";O=Math.min(V.length,O);for(var $e=I;$e<O;++$e)ge+=String.fromCharCode(V[$e]);return ge}function je(V,I,O){var ge=V.length;(!I||I<0)&&(I=0),(!O||O<0||O>ge)&&(O=ge);for(var $e="",ve=I;ve<O;++ve)$e+=Q(V[ve]);return $e}function De(V,I,O){for(var ge=V.slice(I,O),$e="",ve=0;ve<ge.length;ve+=2)$e+=String.fromCharCode(ge[ve]+256*ge[ve+1]);return $e}function ot(V,I,O){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+I>O)throw new RangeError("Trying to access beyond buffer length")}function fe(V,I,O,ge,$e,ve){if(!w.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>$e||I<ve)throw new RangeError('"value" argument is out of bounds');if(O+ge>V.length)throw new RangeError("Index out of range")}function we(V,I,O,ge,$e,ve){if(O+ge>V.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function ct(V,I,O,ge,$e){return I=+I,O>>>=0,$e||we(V,0,O,4),C.write(V,I,O,ge,23,4),O+4}function Et(V,I,O,ge,$e){return I=+I,O>>>=0,$e||we(V,0,O,8),C.write(V,I,O,ge,52,8),O+8}w.prototype.slice=function(I,O){var ge=this.length;(I=~~I)<0?(I+=ge)<0&&(I=0):I>ge&&(I=ge),(O=void 0===O?ge:~~O)<0?(O+=ge)<0&&(O=0):O>ge&&(O=ge),O<I&&(O=I);var $e=this.subarray(I,O);return $e.__proto__=w.prototype,$e},w.prototype.readUIntLE=function(I,O,ge){I>>>=0,O>>>=0,ge||ot(I,O,this.length);for(var $e=this[I],ve=1,Ve=0;++Ve<O&&(ve*=256);)$e+=this[I+Ve]*ve;return $e},w.prototype.readUIntBE=function(I,O,ge){I>>>=0,O>>>=0,ge||ot(I,O,this.length);for(var $e=this[I+--O],ve=1;O>0&&(ve*=256);)$e+=this[I+--O]*ve;return $e},w.prototype.readUInt8=function(I,O){return I>>>=0,O||ot(I,1,this.length),this[I]},w.prototype.readUInt16LE=function(I,O){return I>>>=0,O||ot(I,2,this.length),this[I]|this[I+1]<<8},w.prototype.readUInt16BE=function(I,O){return I>>>=0,O||ot(I,2,this.length),this[I]<<8|this[I+1]},w.prototype.readUInt32LE=function(I,O){return I>>>=0,O||ot(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+16777216*this[I+3]},w.prototype.readUInt32BE=function(I,O){return I>>>=0,O||ot(I,4,this.length),16777216*this[I]+(this[I+1]<<16|this[I+2]<<8|this[I+3])},w.prototype.readIntLE=function(I,O,ge){I>>>=0,O>>>=0,ge||ot(I,O,this.length);for(var $e=this[I],ve=1,Ve=0;++Ve<O&&(ve*=256);)$e+=this[I+Ve]*ve;return $e>=(ve*=128)&&($e-=Math.pow(2,8*O)),$e},w.prototype.readIntBE=function(I,O,ge){I>>>=0,O>>>=0,ge||ot(I,O,this.length);for(var $e=O,ve=1,Ve=this[I+--$e];$e>0&&(ve*=256);)Ve+=this[I+--$e]*ve;return Ve>=(ve*=128)&&(Ve-=Math.pow(2,8*O)),Ve},w.prototype.readInt8=function(I,O){return I>>>=0,O||ot(I,1,this.length),128&this[I]?-1*(255-this[I]+1):this[I]},w.prototype.readInt16LE=function(I,O){I>>>=0,O||ot(I,2,this.length);var ge=this[I]|this[I+1]<<8;return 32768&ge?4294901760|ge:ge},w.prototype.readInt16BE=function(I,O){I>>>=0,O||ot(I,2,this.length);var ge=this[I+1]|this[I]<<8;return 32768&ge?4294901760|ge:ge},w.prototype.readInt32LE=function(I,O){return I>>>=0,O||ot(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},w.prototype.readInt32BE=function(I,O){return I>>>=0,O||ot(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},w.prototype.readFloatLE=function(I,O){return I>>>=0,O||ot(I,4,this.length),C.read(this,I,!0,23,4)},w.prototype.readFloatBE=function(I,O){return I>>>=0,O||ot(I,4,this.length),C.read(this,I,!1,23,4)},w.prototype.readDoubleLE=function(I,O){return I>>>=0,O||ot(I,8,this.length),C.read(this,I,!0,52,8)},w.prototype.readDoubleBE=function(I,O){return I>>>=0,O||ot(I,8,this.length),C.read(this,I,!1,52,8)},w.prototype.writeUIntLE=function(I,O,ge,$e){I=+I,O>>>=0,ge>>>=0,$e||fe(this,I,O,ge,Math.pow(2,8*ge)-1,0);var Ve=1,Ze=0;for(this[O]=255&I;++Ze<ge&&(Ve*=256);)this[O+Ze]=I/Ve&255;return O+ge},w.prototype.writeUIntBE=function(I,O,ge,$e){I=+I,O>>>=0,ge>>>=0,$e||fe(this,I,O,ge,Math.pow(2,8*ge)-1,0);var Ve=ge-1,Ze=1;for(this[O+Ve]=255&I;--Ve>=0&&(Ze*=256);)this[O+Ve]=I/Ze&255;return O+ge},w.prototype.writeUInt8=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,1,255,0),this[O]=255&I,O+1},w.prototype.writeUInt16LE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,2,65535,0),this[O]=255&I,this[O+1]=I>>>8,O+2},w.prototype.writeUInt16BE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,2,65535,0),this[O]=I>>>8,this[O+1]=255&I,O+2},w.prototype.writeUInt32LE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,4,4294967295,0),this[O+3]=I>>>24,this[O+2]=I>>>16,this[O+1]=I>>>8,this[O]=255&I,O+4},w.prototype.writeUInt32BE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,4,4294967295,0),this[O]=I>>>24,this[O+1]=I>>>16,this[O+2]=I>>>8,this[O+3]=255&I,O+4},w.prototype.writeIntLE=function(I,O,ge,$e){if(I=+I,O>>>=0,!$e){var ve=Math.pow(2,8*ge-1);fe(this,I,O,ge,ve-1,-ve)}var Ve=0,Ze=1,St=0;for(this[O]=255&I;++Ve<ge&&(Ze*=256);)I<0&&0===St&&0!==this[O+Ve-1]&&(St=1),this[O+Ve]=(I/Ze|0)-St&255;return O+ge},w.prototype.writeIntBE=function(I,O,ge,$e){if(I=+I,O>>>=0,!$e){var ve=Math.pow(2,8*ge-1);fe(this,I,O,ge,ve-1,-ve)}var Ve=ge-1,Ze=1,St=0;for(this[O+Ve]=255&I;--Ve>=0&&(Ze*=256);)I<0&&0===St&&0!==this[O+Ve+1]&&(St=1),this[O+Ve]=(I/Ze|0)-St&255;return O+ge},w.prototype.writeInt8=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,1,127,-128),I<0&&(I=255+I+1),this[O]=255&I,O+1},w.prototype.writeInt16LE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,2,32767,-32768),this[O]=255&I,this[O+1]=I>>>8,O+2},w.prototype.writeInt16BE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,2,32767,-32768),this[O]=I>>>8,this[O+1]=255&I,O+2},w.prototype.writeInt32LE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,4,2147483647,-2147483648),this[O]=255&I,this[O+1]=I>>>8,this[O+2]=I>>>16,this[O+3]=I>>>24,O+4},w.prototype.writeInt32BE=function(I,O,ge){return I=+I,O>>>=0,ge||fe(this,I,O,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[O]=I>>>24,this[O+1]=I>>>16,this[O+2]=I>>>8,this[O+3]=255&I,O+4},w.prototype.writeFloatLE=function(I,O,ge){return ct(this,I,O,!0,ge)},w.prototype.writeFloatBE=function(I,O,ge){return ct(this,I,O,!1,ge)},w.prototype.writeDoubleLE=function(I,O,ge){return Et(this,I,O,!0,ge)},w.prototype.writeDoubleBE=function(I,O,ge){return Et(this,I,O,!1,ge)},w.prototype.copy=function(I,O,ge,$e){if(!w.isBuffer(I))throw new TypeError("argument should be a Buffer");if(ge||(ge=0),!$e&&0!==$e&&($e=this.length),O>=I.length&&(O=I.length),O||(O=0),$e>0&&$e<ge&&($e=ge),$e===ge||0===I.length||0===this.length)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(ge<0||ge>=this.length)throw new RangeError("Index out of range");if($e<0)throw new RangeError("sourceEnd out of bounds");$e>this.length&&($e=this.length),I.length-O<$e-ge&&($e=I.length-O+ge);var ve=$e-ge;if(this===I&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(O,ge,$e);else if(this===I&&ge<O&&O<$e)for(var Ve=ve-1;Ve>=0;--Ve)I[Ve+O]=this[Ve+ge];else Uint8Array.prototype.set.call(I,this.subarray(ge,$e),O);return ve},w.prototype.fill=function(I,O,ge,$e){if("string"==typeof I){if("string"==typeof O?($e=O,O=0,ge=this.length):"string"==typeof ge&&($e=ge,ge=this.length),void 0!==$e&&"string"!=typeof $e)throw new TypeError("encoding must be a string");if("string"==typeof $e&&!w.isEncoding($e))throw new TypeError("Unknown encoding: "+$e);if(1===I.length){var ve=I.charCodeAt(0);("utf8"===$e&&ve<128||"latin1"===$e)&&(I=ve)}}else"number"==typeof I&&(I&=255);if(O<0||this.length<O||this.length<ge)throw new RangeError("Out of range index");if(ge<=O)return this;var Ve;if(O>>>=0,ge=void 0===ge?this.length:ge>>>0,I||(I=0),"number"==typeof I)for(Ve=O;Ve<ge;++Ve)this[Ve]=I;else{var Ze=w.isBuffer(I)?I:w.from(I,$e),St=Ze.length;if(0===St)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(Ve=0;Ve<ge-O;++Ve)this[Ve+O]=Ze[Ve%St]}return this};var Be=/[^+/0-9A-Za-z-_]/g;function Q(V){return V<16?"0"+V.toString(16):V.toString(16)}function Ae(V,I){I=I||1/0;for(var O,ge=V.length,$e=null,ve=[],Ve=0;Ve<ge;++Ve){if((O=V.charCodeAt(Ve))>55295&&O<57344){if(!$e){if(O>56319){(I-=3)>-1&&ve.push(239,191,189);continue}if(Ve+1===ge){(I-=3)>-1&&ve.push(239,191,189);continue}$e=O;continue}if(O<56320){(I-=3)>-1&&ve.push(239,191,189),$e=O;continue}O=65536+($e-55296<<10|O-56320)}else $e&&(I-=3)>-1&&ve.push(239,191,189);if($e=null,O<128){if((I-=1)<0)break;ve.push(O)}else if(O<2048){if((I-=2)<0)break;ve.push(O>>6|192,63&O|128)}else if(O<65536){if((I-=3)<0)break;ve.push(O>>12|224,O>>6&63|128,63&O|128)}else{if(!(O<1114112))throw new Error("Invalid code point");if((I-=4)<0)break;ve.push(O>>18|240,O>>12&63|128,O>>6&63|128,63&O|128)}}return ve}function nt(V){return J.toByteArray(function W(V){if((V=(V=V.split("=")[0]).trim().replace(Be,"")).length<2)return"";for(;V.length%4!=0;)V+="=";return V}(V))}function ut(V,I,O,ge){for(var $e=0;$e<ge&&!($e+O>=I.length||$e>=V.length);++$e)I[$e+O]=V[$e];return $e}function ft(V,I){return V instanceof I||null!=V&&null!=V.constructor&&null!=V.constructor.name&&V.constructor.name===I.name}function Fe(V){return V!=V}},8846:Ge=>{"use strict";Ge.exports=function ye(T){return null===T||"object"!=typeof T||null!=T.toJSON?JSON.stringify(T):Array.isArray(T)?"["+T.reduce((J,C,q)=>J+(0===q?"":",")+ye(void 0===C||"symbol"==typeof C?null:C),"")+"]":"{"+Object.keys(T).sort().reduce((J,C,q)=>void 0===T[C]||"symbol"==typeof T[C]?J:J+(0===J.length?"":",")+ye(C)+":"+ye(T[C]),"")+"}"}},1123:(Ge,ye,T)=>{Ge.exports={ResizeSensor:T(4718),ElementQueries:T(7240)}},7240:function(Ge,ye,T){"use strict";var J,C,q;typeof window<"u"&&window,C=[T(4718)],void 0!==(q="function"==typeof(J=function(Y){var ne=function(){var E,B={},K=[];function te(ee){ee||(ee=document.documentElement);var Te=window.getComputedStyle(ee,null).fontSize;return parseFloat(Te)||16}function de(ee,Te){var ie=Te.split(/\d/),xe=ie[ie.length-1];switch(Te=parseFloat(Te),xe){case"px":default:return Te;case"em":return Te*te(ee);case"rem":return Te*te();case"vw":return Te*document.documentElement.clientWidth/100;case"vh":return Te*document.documentElement.clientHeight/100;case"vmin":case"vmax":var Re=document.documentElement.clientWidth/100,Le=document.documentElement.clientHeight/100;return Te*(0,Math["vmin"===xe?"min":"max"])(Re,Le)}}function x(ee,Te){this.element=ee;var ie,xe,Re,Le,tt,rt,Ee,je,De=["min-width","min-height","max-width","max-height"];this.call=function(){for(ie in Re=function R(ee){if(!ee.getBoundingClientRect)return{width:ee.offsetWidth,height:ee.offsetHeight};var Te=ee.getBoundingClientRect();return{width:Math.round(Te.width),height:Math.round(Te.height)}}(this.element),rt={},B[Te])B[Te].hasOwnProperty(ie)&&(Le=de(this.element,(xe=B[Te][ie]).value),tt="width"===xe.property?Re.width:Re.height,Ee="","min"===xe.mode&&tt>=Le&&(Ee+=xe.value),"max"===xe.mode&&tt<=Le&&(Ee+=xe.value),rt[je=xe.mode+"-"+xe.property]||(rt[je]=""),Ee&&-1===(" "+rt[je]+" ").indexOf(" "+Ee+" ")&&(rt[je]+=" "+Ee));for(var ot in De)De.hasOwnProperty(ot)&&(rt[De[ot]]?this.element.setAttribute(De[ot],rt[De[ot]].substr(1)):this.element.removeAttribute(De[ot]))}}function F(ee,Te){ee.elementQueriesSetupInformation||(ee.elementQueriesSetupInformation=new x(ee,Te)),ee.elementQueriesSensor||(ee.elementQueriesSensor=new Y(ee,function(){ee.elementQueriesSetupInformation.call()}))}function se(ee,Te,ie,xe){if(typeof B[ee]>"u"){B[ee]=[];var Re=K.length;E.innerHTML+="\n"+ee+" {animation: 0.1s element-queries;}",E.innerHTML+="\n"+ee+" > .resize-sensor {min-width: "+Re+"px;}",K.push(ee)}B[ee].push({mode:Te,property:ie,value:xe})}function z(ee){var Te;if(document.querySelectorAll&&(Te=ee?ee.querySelectorAll.bind(ee):document.querySelectorAll.bind(document)),!Te&&typeof $$<"u"&&(Te=$$),!Te&&typeof jQuery<"u"&&(Te=jQuery),!Te)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return Te}function X(ee){var Te=[],ie=[],xe=[],Re=0,Le=-1,tt=[];for(var rt in ee.children)if(ee.children.hasOwnProperty(rt)&&ee.children[rt].tagName&&"img"===ee.children[rt].tagName.toLowerCase()){Te.push(ee.children[rt]);var Ee=ee.children[rt].getAttribute("min-width")||ee.children[rt].getAttribute("data-min-width"),je=ee.children[rt].getAttribute("data-src")||ee.children[rt].getAttribute("url");xe.push(je),ie.push({minWidth:Ee}),Ee?ee.children[rt].style.display="none":(Re=Te.length-1,ee.children[rt].style.display="block")}function ot(){var we,fe=!1;for(we in Te)Te.hasOwnProperty(we)&&ie[we].minWidth&&ee.offsetWidth>ie[we].minWidth&&(fe=we);if(fe||(fe=Re),Le!==fe)if(tt[fe])Te[Le].style.display="none",Te[fe].style.display="block",Le=fe;else{var ct=new Image;ct.onload=function(){Te[fe].src=xe[fe],Te[Le].style.display="none",Te[fe].style.display="block",tt[fe]=!0,Le=fe},ct.src=xe[fe]}else Te[fe].src=xe[fe]}Le=Re,ee.resizeSensorInstance=new Y(ee,ot),ot()}var H=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,y=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function M(ee){var Te,ie,xe,Re;for(ee=ee.replace(/'/g,'"');null!==(Te=H.exec(ee));)for(ie=Te[1]+Te[3],xe=Te[2];null!==(Re=y.exec(xe));)se(ie,Re[1],Re[2],Re[3])}function A(ee){var Te="";if(ee)if("string"==typeof ee)(-1!==(ee=ee.toLowerCase()).indexOf("min-width")||-1!==ee.indexOf("max-width"))&&M(ee);else for(var ie=0,xe=ee.length;ie<xe;ie++)1===ee[ie].type?(-1!==(Te=ee[ie].selectorText||ee[ie].cssText).indexOf("min-height")||-1!==Te.indexOf("max-height")||-1!==Te.indexOf("min-width")||-1!==Te.indexOf("max-width"))&&M(Te):4===ee[ie].type?A(ee[ie].cssRules||ee[ie].rules):3===ee[ie].type&&ee[ie].styleSheet.hasOwnProperty("cssRules")&&A(ee[ie].styleSheet.cssRules)}var oe=!1;this.init=function(){var ee="animationstart";typeof document.documentElement.style.webkitAnimationName<"u"?ee="webkitAnimationStart":typeof document.documentElement.style.MozAnimationName<"u"?ee="mozanimationstart":typeof document.documentElement.style.OAnimationName<"u"&&(ee="oanimationstart"),document.body.addEventListener(ee,function(xe){var Re=xe.target,Le=Re&&window.getComputedStyle(Re,null),tt=Le&&Le.getPropertyValue("animation-name");if(tt&&-1!==tt.indexOf("element-queries")){Re.elementQueriesSensor=new Y(Re,function(){Re.elementQueriesSetupInformation&&Re.elementQueriesSetupInformation.call()});var je=window.getComputedStyle(Re.resizeSensor,null).getPropertyValue("min-width");je=parseInt(je.replace("px","")),F(xe.target,K[je])}}),oe||((E=document.createElement("style")).type="text/css",E.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",E.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(E),oe=!0);for(var Te=0,ie=document.styleSheets.length;Te<ie;Te++)try{document.styleSheets[Te].href&&0===document.styleSheets[Te].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[Te].href),A(document.styleSheets[Te].cssRules||document.styleSheets[Te].rules||document.styleSheets[Te].cssText)}catch{}!function j(){for(var Te=z()("[data-responsive-image],[responsive-image]"),ie=0,xe=Te.length;ie<xe;ie++)X(Te[ie])}()},this.findElementQueriesElements=function(ee){!function $(ee){var Te=z(ee);for(var ie in B)if(B.hasOwnProperty(ie))for(var xe=Te(ie,ee),Re=0,Le=xe.length;Re<Le;Re++)F(xe[Re],ie)}(ee)},this.update=function(){this.init()}};ne.update=function(){ne.instance.update()},ne.detach=function(E){E.elementQueriesSetupInformation?(E.elementQueriesSensor.detach(),delete E.elementQueriesSetupInformation,delete E.elementQueriesSensor):E.resizeSensorInstance&&(E.resizeSensorInstance.detach(),delete E.resizeSensorInstance)},ne.init=function(){ne.instance||(ne.instance=new ne),ne.instance.init()};return ne.findElementQueriesElements=function(E){ne.instance.findElementQueriesElements(E)},ne.listen=function(){!function(E){if(document.addEventListener)document.addEventListener("DOMContentLoaded",E,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var B=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(E(),clearInterval(B))},10);else window.onload=E}(ne.init)},ne})?J.apply(ye,C):J)&&(Ge.exports=q)},4718:function(Ge,ye,T){"use strict";var J,C;typeof window<"u"&&window,void 0!==(C="function"==typeof(J=function(){if(typeof window>"u")return null;var q=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")(),Y=q.requestAnimationFrame||q.mozRequestAnimationFrame||q.webkitRequestAnimationFrame||function(R){return q.setTimeout(R,20)},ne=q.cancelAnimationFrame||q.mozCancelAnimationFrame||q.webkitCancelAnimationFrame||function(R){q.clearTimeout(R)};function w(R,de){var x=Object.prototype.toString.call(R),F="[object Array]"===x||"[object NodeList]"===x||"[object HTMLCollection]"===x||"[object Object]"===x||typeof jQuery<"u"&&R instanceof jQuery||typeof Elements<"u"&&R instanceof Elements,se=0,z=R.length;if(F)for(;se<z;se++)de(R[se]);else de(R)}function E(R){if(!R.getBoundingClientRect)return{width:R.offsetWidth,height:R.offsetHeight};var de=R.getBoundingClientRect();return{width:Math.round(de.width),height:Math.round(de.height)}}function B(R,de){Object.keys(de).forEach(function(x){R.style[x]=de[x]})}var K=function(R,de){var x=0;function F(){var $,X,z=[];this.add=function(j){z.push(j)},this.call=function(j){for($=0,X=z.length;$<X;$++)z[$].call(this,j)},this.remove=function(j){var H=[];for($=0,X=z.length;$<X;$++)z[$]!==j&&H.push(z[$]);z=H},this.length=function(){return z.length}}function se(z,$){if(z){if(z.resizedAttached)return void z.resizedAttached.add($);z.resizedAttached=new F,z.resizedAttached.add($),z.resizeSensor=document.createElement("div"),z.resizeSensor.dir="ltr",z.resizeSensor.className="resize-sensor";var X={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},j={position:"absolute",left:"0px",top:"0px",transition:"0s"};B(z.resizeSensor,X);var H=document.createElement("div");H.className="resize-sensor-expand",B(H,X);var y=document.createElement("div");B(y,j),H.appendChild(y);var M=document.createElement("div");M.className="resize-sensor-shrink",B(M,X);var A=document.createElement("div");B(A,j),B(A,{width:"200%",height:"200%"}),M.appendChild(A),z.resizeSensor.appendChild(H),z.resizeSensor.appendChild(M),z.appendChild(z.resizeSensor);var oe=window.getComputedStyle(z),ee=oe?oe.getPropertyValue("position"):null;"absolute"!==ee&&"relative"!==ee&&"fixed"!==ee&&"sticky"!==ee&&(z.style.position="relative");var Te=!1,ie=0,xe=E(z),Re=0,Le=0,tt=!0;x=0;var Ee=function(){if(tt){if(0===z.offsetWidth&&0===z.offsetHeight)return void(x||(x=Y(function(){x=0,Ee()})));tt=!1}var fe,we;we=z.offsetHeight,y.style.width=(fe=z.offsetWidth)+10+"px",y.style.height=we+10+"px",H.scrollLeft=fe+10,H.scrollTop=we+10,M.scrollLeft=fe+10,M.scrollTop=we+10};z.resizeSensor.resetSensor=Ee;var je=function(){ie=0,Te&&(Re=xe.width,Le=xe.height,z.resizedAttached&&z.resizedAttached.call(xe))},De=function(){xe=E(z),(Te=xe.width!==Re||xe.height!==Le)&&!ie&&(ie=Y(je)),Ee()},ot=function(fe,we,ct){fe.attachEvent?fe.attachEvent("on"+we,ct):fe.addEventListener(we,ct)};ot(H,"scroll",De),ot(M,"scroll",De),x=Y(function(){x=0,Ee()})}}w(R,function(z){se(z,de)}),this.detach=function(z){x||(ne(x),x=0),K.detach(R,z)},this.reset=function(){R.resizeSensor.resetSensor()}};if(K.reset=function(R){w(R,function(de){de.resizeSensor.resetSensor()})},K.detach=function(R,de){w(R,function(x){x&&(x.resizedAttached&&"function"==typeof de&&(x.resizedAttached.remove(de),x.resizedAttached.length())||x.resizeSensor&&(x.contains(x.resizeSensor)&&x.removeChild(x.resizeSensor),delete x.resizeSensor,delete x.resizedAttached))})},typeof MutationObserver<"u"){var te=new MutationObserver(function(R){for(var de in R)if(R.hasOwnProperty(de))for(var x=R[de].addedNodes,F=0;F<x.length;F++)x[F].resizeSensor&&K.reset(x[F])});document.addEventListener("DOMContentLoaded",function(R){te.observe(document.body,{childList:!0,subtree:!0})})}return K})?J.call(ye,T,ye,Ge):J)&&(Ge.exports=C)},4356:Ge=>{"use strict";var J,ye="object"==typeof Reflect?Reflect:null,T=ye&&"function"==typeof ye.apply?ye.apply:function(H,y,M){return Function.prototype.apply.call(H,y,M)};J=ye&&"function"==typeof ye.ownKeys?ye.ownKeys:Object.getOwnPropertySymbols?function(H){return Object.getOwnPropertyNames(H).concat(Object.getOwnPropertySymbols(H))}:function(H){return Object.getOwnPropertyNames(H)};var q=Number.isNaN||function(H){return H!=H};function Y(){Y.init.call(this)}Ge.exports=Y,Ge.exports.once=function z(j,H){return new Promise(function(y,M){function A(ee){j.removeListener(H,oe),M(ee)}function oe(){"function"==typeof j.removeListener&&j.removeListener("error",A),y([].slice.call(arguments))}X(j,H,oe,{once:!0}),"error"!==H&&function $(j,H,y){"function"==typeof j.on&&X(j,"error",H,y)}(j,A,{once:!0})})},Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;var ne=10;function w(j){if("function"!=typeof j)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof j)}function E(j){return void 0===j._maxListeners?Y.defaultMaxListeners:j._maxListeners}function B(j,H,y,M){var A,oe,ee;if(w(y),void 0===(oe=j._events)?(oe=j._events=Object.create(null),j._eventsCount=0):(void 0!==oe.newListener&&(j.emit("newListener",H,y.listener?y.listener:y),oe=j._events),ee=oe[H]),void 0===ee)ee=oe[H]=y,++j._eventsCount;else if("function"==typeof ee?ee=oe[H]=M?[y,ee]:[ee,y]:M?ee.unshift(y):ee.push(y),(A=E(j))>0&&ee.length>A&&!ee.warned){ee.warned=!0;var Te=new Error("Possible EventEmitter memory leak detected. "+ee.length+" "+String(H)+" listeners added. Use emitter.setMaxListeners() to increase limit");Te.name="MaxListenersExceededWarning",Te.emitter=j,Te.type=H,Te.count=ee.length,function C(j){console&&console.warn&&console.warn(j)}(Te)}return j}function K(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function te(j,H,y){var M={fired:!1,wrapFn:void 0,target:j,type:H,listener:y},A=K.bind(M);return A.listener=y,M.wrapFn=A,A}function R(j,H,y){var M=j._events;if(void 0===M)return[];var A=M[H];return void 0===A?[]:"function"==typeof A?y?[A.listener||A]:[A]:y?function se(j){for(var H=new Array(j.length),y=0;y<H.length;++y)H[y]=j[y].listener||j[y];return H}(A):x(A,A.length)}function de(j){var H=this._events;if(void 0!==H){var y=H[j];if("function"==typeof y)return 1;if(void 0!==y)return y.length}return 0}function x(j,H){for(var y=new Array(H),M=0;M<H;++M)y[M]=j[M];return y}function X(j,H,y,M){if("function"==typeof j.on)M.once?j.once(H,y):j.on(H,y);else{if("function"!=typeof j.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof j);j.addEventListener(H,function A(oe){M.once&&j.removeEventListener(H,A),y(oe)})}}Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return ne},set:function(j){if("number"!=typeof j||j<0||q(j))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+j+".");ne=j}}),Y.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Y.prototype.setMaxListeners=function(H){if("number"!=typeof H||H<0||q(H))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+H+".");return this._maxListeners=H,this},Y.prototype.getMaxListeners=function(){return E(this)},Y.prototype.emit=function(H){for(var y=[],M=1;M<arguments.length;M++)y.push(arguments[M]);var A="error"===H,oe=this._events;if(void 0!==oe)A=A&&void 0===oe.error;else if(!A)return!1;if(A){var ee;if(y.length>0&&(ee=y[0]),ee instanceof Error)throw ee;var Te=new Error("Unhandled error."+(ee?" ("+ee.message+")":""));throw Te.context=ee,Te}var ie=oe[H];if(void 0===ie)return!1;if("function"==typeof ie)T(ie,this,y);else{var xe=ie.length,Re=x(ie,xe);for(M=0;M<xe;++M)T(Re[M],this,y)}return!0},Y.prototype.on=Y.prototype.addListener=function(H,y){return B(this,H,y,!1)},Y.prototype.prependListener=function(H,y){return B(this,H,y,!0)},Y.prototype.once=function(H,y){return w(y),this.on(H,te(this,H,y)),this},Y.prototype.prependOnceListener=function(H,y){return w(y),this.prependListener(H,te(this,H,y)),this},Y.prototype.off=Y.prototype.removeListener=function(H,y){var M,A,oe,ee,Te;if(w(y),void 0===(A=this._events))return this;if(void 0===(M=A[H]))return this;if(M===y||M.listener===y)0==--this._eventsCount?this._events=Object.create(null):(delete A[H],A.removeListener&&this.emit("removeListener",H,M.listener||y));else if("function"!=typeof M){for(oe=-1,ee=M.length-1;ee>=0;ee--)if(M[ee]===y||M[ee].listener===y){Te=M[ee].listener,oe=ee;break}if(oe<0)return this;0===oe?M.shift():function F(j,H){for(;H+1<j.length;H++)j[H]=j[H+1];j.pop()}(M,oe),1===M.length&&(A[H]=M[0]),void 0!==A.removeListener&&this.emit("removeListener",H,Te||y)}return this},Y.prototype.removeAllListeners=function(H){var y,M,A;if(void 0===(M=this._events))return this;if(void 0===M.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==M[H]&&(0==--this._eventsCount?this._events=Object.create(null):delete M[H]),this;if(0===arguments.length){var ee,oe=Object.keys(M);for(A=0;A<oe.length;++A)"removeListener"!==(ee=oe[A])&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(y=M[H]))this.removeListener(H,y);else if(void 0!==y)for(A=y.length-1;A>=0;A--)this.removeListener(H,y[A]);return this},Y.prototype.listeners=function(H){return R(this,H,!0)},Y.prototype.rawListeners=function(H){return R(this,H,!1)},Y.listenerCount=function(j,H){return"function"==typeof j.listenerCount?j.listenerCount(H):de.call(j,H)},Y.prototype.listenerCount=de,Y.prototype.eventNames=function(){return this._eventsCount>0?J(this._events):[]}},2578:function(Ge,ye){var T,C;void 0!==(C="function"==typeof(T=function(){"use strict";function Y(te,R,de){var x=new XMLHttpRequest;x.open("GET",te),x.responseType="blob",x.onload=function(){K(x.response,R,de)},x.onerror=function(){console.error("could not download file")},x.send()}function ne(te){var R=new XMLHttpRequest;R.open("HEAD",te,!1);try{R.send()}catch{}return 200<=R.status&&299>=R.status}function w(te){try{te.dispatchEvent(new MouseEvent("click"))}catch{var R=document.createEvent("MouseEvents");R.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),te.dispatchEvent(R)}}var E="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,B=E.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),K=E.saveAs||("object"!=typeof window||window!==E?function(){}:"download"in HTMLAnchorElement.prototype&&!B?function(te,R,de){var x=E.URL||E.webkitURL,F=document.createElement("a");F.download=R=R||te.name||"download",F.rel="noopener","string"==typeof te?(F.href=te,F.origin===location.origin?w(F):ne(F.href)?Y(te,R,de):w(F,F.target="_blank")):(F.href=x.createObjectURL(te),setTimeout(function(){x.revokeObjectURL(F.href)},4e4),setTimeout(function(){w(F)},0))}:"msSaveOrOpenBlob"in navigator?function(te,R,de){if(R=R||te.name||"download","string"!=typeof te)navigator.msSaveOrOpenBlob(function q(te,R){return typeof R>"u"?R={autoBom:!1}:"object"!=typeof R&&(console.warn("Deprecated: Expected third argument to be a object"),R={autoBom:!R}),R.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(te.type)?new Blob(["\ufeff",te],{type:te.type}):te}(te,de),R);else if(ne(te))Y(te,R,de);else{var x=document.createElement("a");x.href=te,x.target="_blank",setTimeout(function(){w(x)})}}:function(te,R,de,x){if((x=x||open("","_blank"))&&(x.document.title=x.document.body.innerText="downloading..."),"string"==typeof te)return Y(te,R,de);var F="application/octet-stream"===te.type,se=/constructor/i.test(E.HTMLElement)||E.safari,z=/CriOS\/[\d]+/.test(navigator.userAgent);if((z||F&&se||B)&&typeof FileReader<"u"){var $=new FileReader;$.onloadend=function(){var H=$.result;H=z?H:H.replace(/^data:[^;]*;/,"data:attachment/file;"),x?x.location.href=H:location=H,x=null},$.readAsDataURL(te)}else{var X=E.URL||E.webkitURL,j=X.createObjectURL(te);x?x.location=j:location.href=j,x=null,setTimeout(function(){X.revokeObjectURL(j)},4e4)}});E.saveAs=K.saveAs=K,Ge.exports=K})?T.apply(ye,[]):T)&&(Ge.exports=C)},689:(Ge,ye,T)=>{var C=T(9791),Y=(T(2963),T(2683));function E(R,de,x){if(!C(de))throw new Error("graphology-shortest-path: invalid graphology instance.");if(!de.hasNode(x))throw new Error('graphology-shortest-path: the "'+x+'" source node does not exist in the given graph.');x=""+x;var F=new Set,se={},z=0;se[x]=0;for(var X,j,H,$=[x];0!==$.length;){var y=[];for(X=0,j=$.length;X<j;X++)!F.has(H=$[X])&&(F.add(H),Y(y,de[R](H)),se[H]=z);z++,$=y}return se}E.bind(null,"outboundNeighbors"),E.bind(null,"neighbors")},9791:Ge=>{Ge.exports=function(T){return null!==T&&"object"==typeof T&&"function"==typeof T.addUndirectedEdgeWithKey&&"function"==typeof T.dropNode&&"boolean"==typeof T.multi}},2475:function(Ge){Ge.exports=function(){"use strict";function ye(re){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(_e){return typeof _e}:function(_e){return _e&&"function"==typeof Symbol&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(re)}function T(re,_e){re.prototype=Object.create(_e.prototype),re.prototype.constructor=re,C(re,_e)}function J(re){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_e){return _e.__proto__||Object.getPrototypeOf(_e)})(re)}function C(re,_e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,S){return ae.__proto__=S,ae})(re,_e)}function Y(re,_e,ae){return(Y=function q(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct.bind():function(S,P,he){var le=[null];le.push.apply(le,P);var qe=new(Function.bind.apply(S,le));return he&&C(qe,he.prototype),qe}).apply(null,arguments)}function ne(re){var _e="function"==typeof Map?new Map:void 0;return ne=function(ae){if(null===ae||-1===Function.toString.call(ae).indexOf("[native code]"))return ae;if("function"!=typeof ae)throw new TypeError("Super expression must either be null or a function");if(void 0!==_e){if(_e.has(ae))return _e.get(ae);_e.set(ae,P)}function P(){return Y(ae,arguments,J(this).constructor)}return P.prototype=Object.create(ae.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),C(P,ae)},ne(re)}function w(re){if(void 0===re)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}var E=function(){for(var re=arguments[0],_e=1,ae=arguments.length;_e<ae;_e++)if(arguments[_e])for(var S in arguments[_e])re[S]=arguments[_e][S];return re};function B(re,_e,ae,S){var P=re._nodes.get(_e),he=null;return P?he="mixed"===S?P.out&&P.out[ae]||P.undirected&&P.undirected[ae]:"directed"===S?P.out&&P.out[ae]:P.undirected&&P.undirected[ae]:he}function K(re){return"object"===ye(re)&&null!==re}function te(re){var _e;for(_e in re)return!1;return!0}function R(re,_e,ae){Object.defineProperty(re,_e,{enumerable:!1,configurable:!1,writable:!0,value:ae})}function de(re,_e,ae){var S={enumerable:!0,configurable:!0};"function"==typeof ae?S.get=ae:(S.value=ae,S.writable=!1),Object.defineProperty(re,_e,S)}function x(re){return!(!K(re)||re.attributes&&!Array.isArray(re.attributes))}"function"==typeof Object.assign&&(E=Object.assign);var F,se={exports:{}},z="object"==typeof Reflect?Reflect:null,$=z&&"function"==typeof z.apply?z.apply:function(re,_e,ae){return Function.prototype.apply.call(re,_e,ae)};F=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(re){return Object.getOwnPropertyNames(re).concat(Object.getOwnPropertySymbols(re))}:function(re){return Object.getOwnPropertyNames(re)};var X=Number.isNaN||function(re){return re!=re};function j(){j.init.call(this)}se.exports=j,se.exports.once=function(re,_e){return new Promise(function(ae,S){function P(le){re.removeListener(_e,he),S(le)}function he(){"function"==typeof re.removeListener&&re.removeListener("error",P),ae([].slice.call(arguments))}var le;Re(re,_e,he,{once:!0}),"error"!==_e&&("function"==typeof(le=re).on&&Re(le,"error",P,{once:!0}))})},j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var H=10;function y(re){if("function"!=typeof re)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof re)}function M(re){return void 0===re._maxListeners?j.defaultMaxListeners:re._maxListeners}function A(re,_e,ae,S){var P,he,le;if(y(ae),void 0===(he=re._events)?(he=re._events=Object.create(null),re._eventsCount=0):(void 0!==he.newListener&&(re.emit("newListener",_e,ae.listener?ae.listener:ae),he=re._events),le=he[_e]),void 0===le)le=he[_e]=ae,++re._eventsCount;else if("function"==typeof le?le=he[_e]=S?[ae,le]:[le,ae]:S?le.unshift(ae):le.push(ae),(P=M(re))>0&&le.length>P&&!le.warned){le.warned=!0;var mt=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(_e)+" listeners added. Use emitter.setMaxListeners() to increase limit");mt.name="MaxListenersExceededWarning",mt.emitter=re,mt.type=_e,mt.count=le.length,console&&console.warn&&console.warn(mt)}return re}function oe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ee(re,_e,ae){var S={fired:!1,wrapFn:void 0,target:re,type:_e,listener:ae},P=oe.bind(S);return P.listener=ae,S.wrapFn=P,P}function Te(re,_e,ae){var S=re._events;if(void 0===S)return[];var P=S[_e];return void 0===P?[]:"function"==typeof P?ae?[P.listener||P]:[P]:ae?function(he){for(var le=new Array(he.length),qe=0;qe<le.length;++qe)le[qe]=he[qe].listener||he[qe];return le}(P):xe(P,P.length)}function ie(re){var _e=this._events;if(void 0!==_e){var ae=_e[re];if("function"==typeof ae)return 1;if(void 0!==ae)return ae.length}return 0}function xe(re,_e){for(var ae=new Array(_e),S=0;S<_e;++S)ae[S]=re[S];return ae}function Re(re,_e,ae,S){if("function"==typeof re.on)S.once?re.once(_e,ae):re.on(_e,ae);else{if("function"!=typeof re.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof re);re.addEventListener(_e,function P(he){S.once&&re.removeEventListener(_e,P),ae(he)})}}function Le(re){if("function"!=typeof re)throw new Error("obliterator/iterator: expecting a function!");this.next=re}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return H},set:function(re){if("number"!=typeof re||re<0||X(re))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+re+".");H=re}}),j.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(re){if("number"!=typeof re||re<0||X(re))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+re+".");return this._maxListeners=re,this},j.prototype.getMaxListeners=function(){return M(this)},j.prototype.emit=function(re){for(var _e=[],ae=1;ae<arguments.length;ae++)_e.push(arguments[ae]);var S="error"===re,P=this._events;if(void 0!==P)S=S&&void 0===P.error;else if(!S)return!1;if(S){var he;if(_e.length>0&&(he=_e[0]),he instanceof Error)throw he;var le=new Error("Unhandled error."+(he?" ("+he.message+")":""));throw le.context=he,le}var qe=P[re];if(void 0===qe)return!1;if("function"==typeof qe)$(qe,this,_e);else{var mt=qe.length,We=xe(qe,mt);for(ae=0;ae<mt;++ae)$(We[ae],this,_e)}return!0},j.prototype.addListener=function(re,_e){return A(this,re,_e,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(re,_e){return A(this,re,_e,!0)},j.prototype.once=function(re,_e){return y(_e),this.on(re,ee(this,re,_e)),this},j.prototype.prependOnceListener=function(re,_e){return y(_e),this.prependListener(re,ee(this,re,_e)),this},j.prototype.removeListener=function(re,_e){var ae,S,P,he,le;if(y(_e),void 0===(S=this._events))return this;if(void 0===(ae=S[re]))return this;if(ae===_e||ae.listener===_e)0==--this._eventsCount?this._events=Object.create(null):(delete S[re],S.removeListener&&this.emit("removeListener",re,ae.listener||_e));else if("function"!=typeof ae){for(P=-1,he=ae.length-1;he>=0;he--)if(ae[he]===_e||ae[he].listener===_e){le=ae[he].listener,P=he;break}if(P<0)return this;0===P?ae.shift():function(qe,mt){for(;mt+1<qe.length;mt++)qe[mt]=qe[mt+1];qe.pop()}(ae,P),1===ae.length&&(S[re]=ae[0]),void 0!==S.removeListener&&this.emit("removeListener",re,le||_e)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(re){var _e,ae,S;if(void 0===(ae=this._events))return this;if(void 0===ae.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==ae[re]&&(0==--this._eventsCount?this._events=Object.create(null):delete ae[re]),this;if(0===arguments.length){var P,he=Object.keys(ae);for(S=0;S<he.length;++S)"removeListener"!==(P=he[S])&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(_e=ae[re]))this.removeListener(re,_e);else if(void 0!==_e)for(S=_e.length-1;S>=0;S--)this.removeListener(re,_e[S]);return this},j.prototype.listeners=function(re){return Te(this,re,!0)},j.prototype.rawListeners=function(re){return Te(this,re,!1)},j.listenerCount=function(re,_e){return"function"==typeof re.listenerCount?re.listenerCount(_e):ie.call(re,_e)},j.prototype.listenerCount=ie,j.prototype.eventNames=function(){return this._eventsCount>0?F(this._events):[]},typeof Symbol<"u"&&(Le.prototype[Symbol.iterator]=function(){return this}),Le.of=function(){var re=arguments,_e=re.length,ae=0;return new Le(function(){return ae>=_e?{done:!0}:{done:!1,value:re[ae++]}})},Le.empty=function(){return new Le(function(){return{done:!0}})},Le.fromSequence=function(re){var _e=0,ae=re.length;return new Le(function(){return _e>=ae?{done:!0}:{done:!1,value:re[_e++]}})},Le.is=function(re){return re instanceof Le||"object"==typeof re&&null!==re&&"function"==typeof re.next};var tt=Le,rt={};rt.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",rt.SYMBOL_SUPPORT=typeof Symbol<"u";var Ee=tt,De=rt.ARRAY_BUFFER_SUPPORT,ot=rt.SYMBOL_SUPPORT,fe=function(re){var ae,_e="string"==typeof(ae=re)||Array.isArray(ae)||De&&ArrayBuffer.isView(ae)?Ee.fromSequence(ae):"object"!=typeof ae||null===ae?null:ot&&"function"==typeof ae[Symbol.iterator]?ae[Symbol.iterator]():"function"==typeof ae.next?ae:null;if(!_e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return _e},we=fe,ct=function(re,_e){for(var ae,S=arguments.length>1?_e:1/0,P=S!==1/0?new Array(S):[],he=0,le=we(re);;){if(he===S)return P;if((ae=le.next()).done)return he!==_e&&(P.length=he),P;P[he++]=ae.value}},Et=function(re){function _e(ae){var S;return(S=re.call(this)||this).name="GraphError",S.message=ae,S}return T(_e,re),_e}(ne(Error)),Be=function(re){function _e(ae){var S;return(S=re.call(this,ae)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(w(S),_e.prototype.constructor),S}return T(_e,re),_e}(Et),W=function(re){function _e(ae){var S;return(S=re.call(this,ae)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(w(S),_e.prototype.constructor),S}return T(_e,re),_e}(Et),Q=function(re){function _e(ae){var S;return(S=re.call(this,ae)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(w(S),_e.prototype.constructor),S}return T(_e,re),_e}(Et);function Ae(re,_e){this.key=re,this.attributes=_e,this.clear()}function Ne(re,_e){this.key=re,this.attributes=_e,this.clear()}function Me(re,_e){this.key=re,this.attributes=_e,this.clear()}function nt(re,_e,ae,S,P){this.key=_e,this.attributes=P,this.undirected=re,this.source=ae,this.target=S}function ut(re,_e,ae,S,P,he,le){var qe,mt,We,qt;if(S=""+S,0===ae){if(!(qe=re._nodes.get(S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" node in the graph.'));We=P,qt=he}else if(3===ae){if(!(mt=re._edges.get(P=""+P)))throw new W("Graph.".concat(_e,': could not find the "').concat(P,'" edge in the graph.'));var jt=mt.source.key,ln=mt.target.key;if(S===jt)qe=mt.target;else{if(S!==ln)throw new W("Graph.".concat(_e,': the "').concat(S,'" node is not attached to the "').concat(P,'" edge (').concat(jt,", ").concat(ln,")."));qe=mt.source}We=he,qt=le}else{if(!(mt=re._edges.get(S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'));qe=1===ae?mt.source:mt.target,We=P,qt=he}return[qe,We,qt]}Ae.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},Ne.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},Me.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},nt.prototype.attach=function(){var re="out",_e="in";this.undirected&&(re=_e="undirected");var ae=this.source.key,S=this.target.key;this.source[re][S]=this,this.undirected&&ae===S||(this.target[_e][ae]=this)},nt.prototype.attachMulti=function(){var re="out",_e="in",ae=this.source.key,S=this.target.key;this.undirected&&(re=_e="undirected");var P=this.source[re],he=P[S];if(void 0===he)return P[S]=this,void(this.undirected&&ae===S||(this.target[_e][ae]=this));he.previous=this,this.next=he,P[S]=this,this.target[_e][ae]=this},nt.prototype.detach=function(){var re=this.source.key,ae="out",S="in";this.undirected&&(ae=S="undirected"),delete this.source[ae][this.target.key],delete this.target[S][re]},nt.prototype.detachMulti=function(){var re=this.source.key,_e=this.target.key,ae="out",S="in";this.undirected&&(ae=S="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[ae][_e],delete this.target[S][re]):(this.next.previous=void 0,this.source[ae][_e]=this.next,this.target[S][re]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var ft=[{name:function(re){return"get".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le=ut(this,_e,ae,S,P,he);return le[0].attributes[le[1]]}}},{name:function(re){return"get".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){return ut(this,_e,ae,S,P)[0].attributes}}},{name:function(re){return"has".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le=ut(this,_e,ae,S,P,he);return le[0].attributes.hasOwnProperty(le[1])}}},{name:function(re){return"set".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he,le){var qe=ut(this,_e,ae,S,P,he,le),mt=qe[0],We=qe[1];return mt.attributes[We]=qe[2],this.emit("nodeAttributesUpdated",{key:mt.key,type:"set",attributes:mt.attributes,name:We}),this}}},{name:function(re){return"update".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he,le){var qe=ut(this,_e,ae,S,P,he,le),mt=qe[0],We=qe[1],qt=qe[2];if("function"!=typeof qt)throw new Be("Graph.".concat(_e,": updater should be a function."));var jt=mt.attributes,ln=qt(jt[We]);return jt[We]=ln,this.emit("nodeAttributesUpdated",{key:mt.key,type:"set",attributes:mt.attributes,name:We}),this}}},{name:function(re){return"remove".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le=ut(this,_e,ae,S,P,he),qe=le[0],mt=le[1];return delete qe.attributes[mt],this.emit("nodeAttributesUpdated",{key:qe.key,type:"remove",attributes:qe.attributes,name:mt}),this}}},{name:function(re){return"replace".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le=ut(this,_e,ae,S,P,he),qe=le[0],mt=le[1];if(!K(mt))throw new Be("Graph.".concat(_e,": provided attributes are not a plain object."));return qe.attributes=mt,this.emit("nodeAttributesUpdated",{key:qe.key,type:"replace",attributes:qe.attributes}),this}}},{name:function(re){return"merge".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le=ut(this,_e,ae,S,P,he),qe=le[0],mt=le[1];if(!K(mt))throw new Be("Graph.".concat(_e,": provided attributes are not a plain object."));return E(qe.attributes,mt),this.emit("nodeAttributesUpdated",{key:qe.key,type:"merge",attributes:qe.attributes,data:mt}),this}}},{name:function(re){return"update".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le=ut(this,_e,ae,S,P,he),qe=le[0],mt=le[1];if("function"!=typeof mt)throw new Be("Graph.".concat(_e,": provided updater is not a function."));return qe.attributes=mt(qe.attributes),this.emit("nodeAttributesUpdated",{key:qe.key,type:"update",attributes:qe.attributes}),this}}}],Fe=[{name:function(re){return"get".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){var he;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var le=""+S,qe=""+P;if(P=arguments[2],!(he=B(this,le,qe,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(le,'" - "').concat(qe,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(he=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}return he.attributes[P]}}},{name:function(re){return"get".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S){var P;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var he=""+S,le=""+arguments[1];if(!(P=B(this,he,le,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(he,'" - "').concat(le,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(P=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}return P.attributes}}},{name:function(re){return"has".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){var he;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var le=""+S,qe=""+P;if(P=arguments[2],!(he=B(this,le,qe,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(le,'" - "').concat(qe,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(he=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}return he.attributes.hasOwnProperty(P)}}},{name:function(re){return"set".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var qe=""+S,mt=""+P;if(P=arguments[2],he=arguments[3],!(le=B(this,qe,mt,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(qe,'" - "').concat(mt,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(le=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}return le.attributes[P]=he,this.emit("edgeAttributesUpdated",{key:le.key,type:"set",attributes:le.attributes,name:P}),this}}},{name:function(re){return"update".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P,he){var le;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var qe=""+S,mt=""+P;if(P=arguments[2],he=arguments[3],!(le=B(this,qe,mt,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(qe,'" - "').concat(mt,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(le=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}if("function"!=typeof he)throw new Be("Graph.".concat(_e,": updater should be a function."));return le.attributes[P]=he(le.attributes[P]),this.emit("edgeAttributesUpdated",{key:le.key,type:"set",attributes:le.attributes,name:P}),this}}},{name:function(re){return"remove".concat(re,"Attribute")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){var he;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var le=""+S,qe=""+P;if(P=arguments[2],!(he=B(this,le,qe,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(le,'" - "').concat(qe,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(he=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}return delete he.attributes[P],this.emit("edgeAttributesUpdated",{key:he.key,type:"remove",attributes:he.attributes,name:P}),this}}},{name:function(re){return"replace".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){var he;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var le=""+S,qe=""+P;if(P=arguments[2],!(he=B(this,le,qe,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(le,'" - "').concat(qe,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(he=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}if(!K(P))throw new Be("Graph.".concat(_e,": provided attributes are not a plain object."));return he.attributes=P,this.emit("edgeAttributesUpdated",{key:he.key,type:"replace",attributes:he.attributes}),this}}},{name:function(re){return"merge".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){var he;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var le=""+S,qe=""+P;if(P=arguments[2],!(he=B(this,le,qe,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(le,'" - "').concat(qe,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(he=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}if(!K(P))throw new Be("Graph.".concat(_e,": provided attributes are not a plain object."));return E(he.attributes,P),this.emit("edgeAttributesUpdated",{key:he.key,type:"merge",attributes:he.attributes,data:P}),this}}},{name:function(re){return"update".concat(re,"Attributes")},attacher:function(re,_e,ae){re.prototype[_e]=function(S,P){var he;if("mixed"!==this.type&&"mixed"!==ae&&ae!==this.type)throw new Q("Graph.".concat(_e,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Q("Graph.".concat(_e,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var le=""+S,qe=""+P;if(P=arguments[2],!(he=B(this,le,qe,ae)))throw new W("Graph.".concat(_e,': could not find an edge for the given path ("').concat(le,'" - "').concat(qe,'").'))}else{if("mixed"!==ae)throw new Q("Graph.".concat(_e,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(!(he=this._edges.get(S=""+S)))throw new W("Graph.".concat(_e,': could not find the "').concat(S,'" edge in the graph.'))}if("function"!=typeof P)throw new Be("Graph.".concat(_e,": provided updater is not a function."));return he.attributes=P(he.attributes),this.emit("edgeAttributesUpdated",{key:he.key,type:"update",attributes:he.attributes}),this}}}],V=tt,I=fe,O=function(){var re=arguments,_e=null,ae=-1;return new V(function(){for(var S=null;;){if(null===_e){if(++ae>=re.length)return{done:!0};_e=I(re[ae])}if(!0!==(S=_e.next()).done)break;_e=null}return S})},ge=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function $e(re,_e,ae,S){var P=!1;for(var he in _e)if(he!==S){var le=_e[he];if(P=ae(le.key,le.attributes,le.source.key,le.target.key,le.source.attributes,le.target.attributes,le.undirected),re&&P)return le.key}}function ve(re,_e,ae,S){var P,he,le,qe=!1;for(var mt in _e)if(mt!==S){P=_e[mt];do{if(qe=ae(P.key,P.attributes,(he=P.source).key,(le=P.target).key,he.attributes,le.attributes,P.undirected),re&&qe)return P.key;P=P.next}while(void 0!==P)}}function Ve(re,_e){var ae,S=Object.keys(re),P=S.length,he=0;return new tt(function(){do{if(ae)ae=ae.next;else{if(he>=P)return{done:!0};var le=S[he++];if(le===_e){ae=void 0;continue}ae=re[le]}}while(!ae);return{done:!1,value:{edge:ae.key,attributes:ae.attributes,source:ae.source.key,target:ae.target.key,sourceAttributes:ae.source.attributes,targetAttributes:ae.target.attributes,undirected:ae.undirected}}})}function Ze(re,_e,ae,S){var P=_e[ae];if(P){var he=P.source,le=P.target;return S(P.key,P.attributes,he.key,le.key,he.attributes,le.attributes,P.undirected)&&re?P.key:void 0}}function St(re,_e,ae,S){var P=_e[ae];if(P){var he=!1;do{if(he=S(P.key,P.attributes,P.source.key,P.target.key,P.source.attributes,P.target.attributes,P.undirected),re&&he)return P.key;P=P.next}while(void 0!==P)}}function Gt(re,_e){var ae=re[_e];return void 0!==ae.next?new tt(function(){if(!ae)return{done:!0};var S={edge:ae.key,attributes:ae.attributes,source:ae.source.key,target:ae.target.key,sourceAttributes:ae.source.attributes,targetAttributes:ae.target.attributes,undirected:ae.undirected};return ae=ae.next,{done:!1,value:S}}):tt.of({edge:ae.key,attributes:ae.attributes,source:ae.source.key,target:ae.target.key,sourceAttributes:ae.source.attributes,targetAttributes:ae.target.attributes,undirected:ae.undirected})}function Ht(re,_e,ae,S){if(0!==_e.size)for(var P,he,le="mixed"!==ae&&ae!==_e.type,qe="undirected"===ae,mt=!1,We=_e._edges.values();!0!==(P=We.next()).done;)if(he=P.value,!le||he.undirected===qe){var jt=he.key,on=he.source,Bn=he.target;if(mt=S(jt,he.attributes,on.key,Bn.key,on.attributes,Bn.attributes,he.undirected),re&&mt)return jt}}function k(re,_e,ae,S,P,he){var le,qe=_e?ve:$e;if("undirected"!==ae&&("out"!==S&&(le=qe(re,P.in,he),re&&le)||"in"!==S&&(le=qe(re,P.out,he,S?void 0:P.key),re&&le))||"directed"!==ae&&(le=qe(re,P.undirected,he),re&&le))return le}function it(re,_e,ae,S,P,he,le){var qe,mt=ae?St:Ze;if("undirected"!==_e&&(void 0!==P.in&&"out"!==S&&(qe=mt(re,P.in,he,le),re&&qe)||void 0!==P.out&&"in"!==S&&(S||P.key!==he)&&(qe=mt(re,P.out,he,le),re&&qe))||"directed"!==_e&&void 0!==P.undirected&&(qe=mt(re,P.undirected,he,le),re&&qe))return qe}var An=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function qn(){this.A=null,this.B=null}function ri(re,_e,ae,S,P){for(var he in S){var le=S[he],qe=le.source,We=qe===ae?le.target:qe;if(!_e||!_e.has(We.key)){var qt=P(We.key,We.attributes);if(re&&qt)return We.key}}}function zn(re,_e,ae,S,P){if("mixed"!==_e){if("undirected"===_e)return ri(re,null,S,S.undirected,P);if("string"==typeof ae)return ri(re,null,S,S[ae],P)}var he,le=new qn;if("undirected"!==_e){if("out"!==ae){if(he=ri(re,null,S,S.in,P),re&&he)return he;le.wrap(S.in)}if("in"!==ae){if(he=ri(re,le,S,S.out,P),re&&he)return he;le.wrap(S.out)}}if("directed"!==_e&&(he=ri(re,le,S,S.undirected,P),re&&he))return he}function Nn(re,_e,ae){var S=Object.keys(ae),P=S.length,he=0;return new tt(function(){var le=null;do{if(he>=P)return re&&re.wrap(ae),{done:!0};var qe=ae[S[he++]],mt=qe.source;le=mt===_e?qe.target:mt,re&&re.has(le.key)&&(le=null)}while(null===le);return{done:!1,value:{neighbor:le.key,attributes:le.attributes}}})}function xr(re,_e,ae,S,P){for(var he,le,qe,mt,We,qt,jt,ln=S._nodes.values(),on=S.type;!0!==(he=ln.next()).done;){var Bn=!1;if(le=he.value,"undirected"!==on)for(qe in mt=le.out){We=mt[qe];do{if(Bn=!0,jt=P(le.key,(qt=We.target).key,le.attributes,qt.attributes,We.key,We.attributes,We.undirected),re&&jt)return We;We=We.next}while(We)}if("directed"!==on)for(qe in mt=le.undirected)if(!(_e&&le.key>qe)){We=mt[qe];do{if((qt=We.target).key!==qe&&(qt=We.source),Bn=!0,jt=P(le.key,qt.key,le.attributes,qt.attributes,We.key,We.attributes,We.undirected),re&&jt)return We;We=We.next}while(We)}if(ae&&!Bn&&(jt=P(le.key,null,le.attributes,null,null,null,null),re&&jt))return null}}function Js(re){if(!K(re))throw new Be('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in re))throw new Be("Graph.import: serialized node is missing its key.");if("attributes"in re&&(!K(re.attributes)||null===re.attributes))throw new Be("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Sa(re){if(!K(re))throw new Be('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in re))throw new Be("Graph.import: serialized edge is missing its source.");if(!("target"in re))throw new Be("Graph.import: serialized edge is missing its target.");if("attributes"in re&&(!K(re.attributes)||null===re.attributes))throw new Be("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in re&&"boolean"!=typeof re.undirected)throw new Be("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}qn.prototype.wrap=function(re){null===this.A?this.A=re:null===this.B&&(this.B=re)},qn.prototype.has=function(re){return null!==this.A&&re in this.A||null!==this.B&&re in this.B};var Ir,To=(Ir=255&Math.floor(256*Math.random()),function(){return Ir++}),Ua=new Set(["directed","undirected","mixed"]),fl=new Set(["domain","_events","_eventsCount","_maxListeners"]),Bc={allowSelfLoops:!0,multi:!1,type:"mixed"};function jc(re,_e,ae){var S=new re.NodeDataClass(_e,ae);return re._nodes.set(_e,S),re.emit("nodeAdded",{key:_e,attributes:ae}),S}function uc(re,_e,ae,S,P,he,le,qe){if(!S&&"undirected"===re.type)throw new Q("Graph.".concat(_e,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(S&&"directed"===re.type)throw new Q("Graph.".concat(_e,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(qe&&!K(qe))throw new Be("Graph.".concat(_e,': invalid attributes. Expecting an object but got "').concat(qe,'"'));if(he=""+he,le=""+le,qe=qe||{},!re.allowSelfLoops&&he===le)throw new Q("Graph.".concat(_e,': source & target are the same ("').concat(he,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var mt=re._nodes.get(he),We=re._nodes.get(le);if(!mt)throw new W("Graph.".concat(_e,': source node "').concat(he,'" not found.'));if(!We)throw new W("Graph.".concat(_e,': target node "').concat(le,'" not found.'));var qt={key:null,undirected:S,source:he,target:le,attributes:qe};if(ae)P=re._edgeKeyGenerator();else if(re._edges.has(P=""+P))throw new Q("Graph.".concat(_e,': the "').concat(P,'" edge already exists in the graph.'));if(!re.multi&&(S?void 0!==mt.undirected[le]:void 0!==mt.out[le]))throw new Q("Graph.".concat(_e,': an edge linking "').concat(he,'" to "').concat(le,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var jt=new nt(S,P,mt,We,qe);re._edges.set(P,jt);var ln=he===le;return S?(mt.undirectedDegree++,We.undirectedDegree++,ln&&(mt.undirectedLoops++,re._undirectedSelfLoopCount++)):(mt.outDegree++,We.inDegree++,ln&&(mt.directedLoops++,re._directedSelfLoopCount++)),re.multi?jt.attachMulti():jt.attach(),S?re._undirectedSize++:re._directedSize++,qt.key=P,re.emit("edgeAdded",qt),P}function He(re,_e,ae,S,P,he,le,qe,mt){if(!S&&"undirected"===re.type)throw new Q("Graph.".concat(_e,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(S&&"directed"===re.type)throw new Q("Graph.".concat(_e,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(qe)if(mt){if("function"!=typeof qe)throw new Be("Graph.".concat(_e,': invalid updater function. Expecting a function but got "').concat(qe,'"'))}else if(!K(qe))throw new Be("Graph.".concat(_e,': invalid attributes. Expecting an object but got "').concat(qe,'"'));var We;if(he=""+he,le=""+le,mt&&(We=qe,qe=void 0),!re.allowSelfLoops&&he===le)throw new Q("Graph.".concat(_e,': source & target are the same ("').concat(he,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var qt,jt,ln=re._nodes.get(he),on=re._nodes.get(le);if(!ae&&(qt=re._edges.get(P))){if(!(qt.source.key===he&&qt.target.key===le||S&&qt.source.key===le&&qt.target.key===he))throw new Q("Graph.".concat(_e,': inconsistency detected when attempting to merge the "').concat(P,'" edge with "').concat(he,'" source & "').concat(le,'" target vs. ("').concat(qt.source.key,'", "').concat(qt.target.key,'").'));jt=qt}if(jt||re.multi||!ln||(jt=S?ln.undirected[le]:ln.out[le]),jt){var Bn=[jt.key,!1,!1,!1];return(mt?We:qe)?(mt?(jt.attributes=We(jt.attributes),re.emit("edgeAttributesUpdated",{type:"replace",key:jt.key,attributes:jt.attributes})):(E(jt.attributes,qe),re.emit("edgeAttributesUpdated",{type:"merge",key:jt.key,attributes:jt.attributes,data:qe})),Bn):Bn}qe=qe||{},mt&&We&&(qe=We(qe));var oi={key:null,undirected:S,source:he,target:le,attributes:qe};if(ae)P=re._edgeKeyGenerator();else if(re._edges.has(P=""+P))throw new Q("Graph.".concat(_e,': the "').concat(P,'" edge already exists in the graph.'));var Ki=!1,ki=!1;ln||(ln=jc(re,he,{}),Ki=!0,he===le&&(on=ln,ki=!0)),on||(on=jc(re,le,{}),ki=!0),qt=new nt(S,P,ln,on,qe),re._edges.set(P,qt);var tr=he===le;return S?(ln.undirectedDegree++,on.undirectedDegree++,tr&&(ln.undirectedLoops++,re._undirectedSelfLoopCount++)):(ln.outDegree++,on.inDegree++,tr&&(ln.directedLoops++,re._directedSelfLoopCount++)),re.multi?qt.attachMulti():qt.attach(),S?re._undirectedSize++:re._directedSize++,oi.key=P,re.emit("edgeAdded",oi),[P,!0,Ki,ki]}function Xe(re,_e){re._edges.delete(_e.key);var ae=_e.source,S=_e.target,P=_e.attributes,he=_e.undirected,le=ae===S;he?(ae.undirectedDegree--,S.undirectedDegree--,le&&(ae.undirectedLoops--,re._undirectedSelfLoopCount--)):(ae.outDegree--,S.inDegree--,le&&(ae.directedLoops--,re._directedSelfLoopCount--)),re.multi?_e.detachMulti():_e.detach(),he?re._undirectedSize--:re._directedSize--,re.emit("edgeDropped",{key:_e.key,attributes:P,source:ae.key,target:S.key,undirected:he})}var re,Wt=function(re){function _e(S){var P;if(P=re.call(this)||this,"boolean"!=typeof(S=E({},Bc,S)).multi)throw new Be("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(S.multi,'".'));if(!Ua.has(S.type))throw new Be('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(S.type,'".'));if("boolean"!=typeof S.allowSelfLoops)throw new Be("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(S.allowSelfLoops,'".'));var he="mixed"===S.type?Ae:"directed"===S.type?Ne:Me;R(w(P),"NodeDataClass",he);var le="geid_"+To()+"_",qe=0;return R(w(P),"_attributes",{}),R(w(P),"_nodes",new Map),R(w(P),"_edges",new Map),R(w(P),"_directedSize",0),R(w(P),"_undirectedSize",0),R(w(P),"_directedSelfLoopCount",0),R(w(P),"_undirectedSelfLoopCount",0),R(w(P),"_edgeKeyGenerator",function(){var mt;do{mt=le+qe++}while(P._edges.has(mt));return mt}),R(w(P),"_options",S),fl.forEach(function(mt){return R(w(P),mt,P[mt])}),de(w(P),"order",function(){return P._nodes.size}),de(w(P),"size",function(){return P._edges.size}),de(w(P),"directedSize",function(){return P._directedSize}),de(w(P),"undirectedSize",function(){return P._undirectedSize}),de(w(P),"selfLoopCount",function(){return P._directedSelfLoopCount+P._undirectedSelfLoopCount}),de(w(P),"directedSelfLoopCount",function(){return P._directedSelfLoopCount}),de(w(P),"undirectedSelfLoopCount",function(){return P._undirectedSelfLoopCount}),de(w(P),"multi",P._options.multi),de(w(P),"type",P._options.type),de(w(P),"allowSelfLoops",P._options.allowSelfLoops),de(w(P),"implementation",function(){return"graphology"}),P}T(_e,re);var ae=_e.prototype;return ae._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},ae.hasNode=function(S){return this._nodes.has(""+S)},ae.hasDirectedEdge=function(S,P){if("undirected"===this.type)return!1;if(1===arguments.length){var le=this._edges.get(""+S);return!!le&&!le.undirected}if(2===arguments.length){P=""+P;var qe=this._nodes.get(S=""+S);return!!qe&&qe.out.hasOwnProperty(P)}throw new Be("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ae.hasUndirectedEdge=function(S,P){if("directed"===this.type)return!1;if(1===arguments.length){var le=this._edges.get(""+S);return!!le&&le.undirected}if(2===arguments.length){P=""+P;var qe=this._nodes.get(S=""+S);return!!qe&&qe.undirected.hasOwnProperty(P)}throw new Be("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ae.hasEdge=function(S,P){if(1===arguments.length)return this._edges.has(""+S);if(2===arguments.length){P=""+P;var le=this._nodes.get(S=""+S);return!!le&&(void 0!==le.out&&le.out.hasOwnProperty(P)||void 0!==le.undirected&&le.undirected.hasOwnProperty(P))}throw new Be("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},ae.directedEdge=function(S,P){if("undirected"!==this.type){if(S=""+S,P=""+P,this.multi)throw new Q("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var he=this._nodes.get(S);if(!he)throw new W('Graph.directedEdge: could not find the "'.concat(S,'" source node in the graph.'));if(!this._nodes.has(P))throw new W('Graph.directedEdge: could not find the "'.concat(P,'" target node in the graph.'));var le=he.out&&he.out[P]||void 0;return le?le.key:void 0}},ae.undirectedEdge=function(S,P){if("directed"!==this.type){if(S=""+S,P=""+P,this.multi)throw new Q("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var he=this._nodes.get(S);if(!he)throw new W('Graph.undirectedEdge: could not find the "'.concat(S,'" source node in the graph.'));if(!this._nodes.has(P))throw new W('Graph.undirectedEdge: could not find the "'.concat(P,'" target node in the graph.'));var le=he.undirected&&he.undirected[P]||void 0;return le?le.key:void 0}},ae.edge=function(S,P){if(this.multi)throw new Q("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.edge: could not find the "'.concat(S,'" source node in the graph.'));if(!this._nodes.has(P))throw new W('Graph.edge: could not find the "'.concat(P,'" target node in the graph.'));var le=he.out&&he.out[P]||he.undirected&&he.undirected[P]||void 0;if(le)return le.key},ae.areDirectedNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areDirectedNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"undirected"!==this.type&&(P in he.in||P in he.out)},ae.areOutNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areOutNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"undirected"!==this.type&&P in he.out},ae.areInNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areInNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"undirected"!==this.type&&P in he.in},ae.areUndirectedNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areUndirectedNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"directed"!==this.type&&P in he.undirected},ae.areNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"undirected"!==this.type&&(P in he.in||P in he.out)||"directed"!==this.type&&P in he.undirected},ae.areInboundNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areInboundNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"undirected"!==this.type&&P in he.in||"directed"!==this.type&&P in he.undirected},ae.areOutboundNeighbors=function(S,P){P=""+P;var he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.areOutboundNeighbors: could not find the "'.concat(S,'" node in the graph.'));return"undirected"!==this.type&&P in he.out||"directed"!==this.type&&P in he.undirected},ae.inDegree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.inDegree: could not find the "'.concat(S,'" node in the graph.'));return"undirected"===this.type?0:P.inDegree},ae.outDegree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.outDegree: could not find the "'.concat(S,'" node in the graph.'));return"undirected"===this.type?0:P.outDegree},ae.directedDegree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.directedDegree: could not find the "'.concat(S,'" node in the graph.'));return"undirected"===this.type?0:P.inDegree+P.outDegree},ae.undirectedDegree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.undirectedDegree: could not find the "'.concat(S,'" node in the graph.'));return"directed"===this.type?0:P.undirectedDegree},ae.inboundDegree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.inboundDegree: could not find the "'.concat(S,'" node in the graph.'));var he=0;return"directed"!==this.type&&(he+=P.undirectedDegree),"undirected"!==this.type&&(he+=P.inDegree),he},ae.outboundDegree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.outboundDegree: could not find the "'.concat(S,'" node in the graph.'));var he=0;return"directed"!==this.type&&(he+=P.undirectedDegree),"undirected"!==this.type&&(he+=P.outDegree),he},ae.degree=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.degree: could not find the "'.concat(S,'" node in the graph.'));var he=0;return"directed"!==this.type&&(he+=P.undirectedDegree),"undirected"!==this.type&&(he+=P.inDegree+P.outDegree),he},ae.inDegreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));return"undirected"===this.type?0:P.inDegree-P.directedLoops},ae.outDegreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));return"undirected"===this.type?0:P.outDegree-P.directedLoops},ae.directedDegreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));return"undirected"===this.type?0:P.inDegree+P.outDegree-2*P.directedLoops},ae.undirectedDegreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));return"directed"===this.type?0:P.undirectedDegree-2*P.undirectedLoops},ae.inboundDegreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));var he=0,le=0;return"directed"!==this.type&&(he+=P.undirectedDegree,le+=2*P.undirectedLoops),"undirected"!==this.type&&(he+=P.inDegree,le+=P.directedLoops),he-le},ae.outboundDegreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));var he=0,le=0;return"directed"!==this.type&&(he+=P.undirectedDegree,le+=2*P.undirectedLoops),"undirected"!==this.type&&(he+=P.outDegree,le+=P.directedLoops),he-le},ae.degreeWithoutSelfLoops=function(S){var P=this._nodes.get(S=""+S);if(!P)throw new W('Graph.degreeWithoutSelfLoops: could not find the "'.concat(S,'" node in the graph.'));var he=0,le=0;return"directed"!==this.type&&(he+=P.undirectedDegree,le+=2*P.undirectedLoops),"undirected"!==this.type&&(he+=P.inDegree+P.outDegree,le+=2*P.directedLoops),he-le},ae.source=function(S){var P=this._edges.get(S=""+S);if(!P)throw new W('Graph.source: could not find the "'.concat(S,'" edge in the graph.'));return P.source.key},ae.target=function(S){var P=this._edges.get(S=""+S);if(!P)throw new W('Graph.target: could not find the "'.concat(S,'" edge in the graph.'));return P.target.key},ae.extremities=function(S){var P=this._edges.get(S=""+S);if(!P)throw new W('Graph.extremities: could not find the "'.concat(S,'" edge in the graph.'));return[P.source.key,P.target.key]},ae.opposite=function(S,P){S=""+S;var he=this._edges.get(P=""+P);if(!he)throw new W('Graph.opposite: could not find the "'.concat(P,'" edge in the graph.'));var le=he.source.key,qe=he.target.key;if(S===le)return qe;if(S===qe)return le;throw new W('Graph.opposite: the "'.concat(S,'" node is not attached to the "').concat(P,'" edge (').concat(le,", ").concat(qe,")."))},ae.hasExtremity=function(S,P){P=""+P;var he=this._edges.get(S=""+S);if(!he)throw new W('Graph.hasExtremity: could not find the "'.concat(S,'" edge in the graph.'));return he.source.key===P||he.target.key===P},ae.isUndirected=function(S){var P=this._edges.get(S=""+S);if(!P)throw new W('Graph.isUndirected: could not find the "'.concat(S,'" edge in the graph.'));return P.undirected},ae.isDirected=function(S){var P=this._edges.get(S=""+S);if(!P)throw new W('Graph.isDirected: could not find the "'.concat(S,'" edge in the graph.'));return!P.undirected},ae.isSelfLoop=function(S){var P=this._edges.get(S=""+S);if(!P)throw new W('Graph.isSelfLoop: could not find the "'.concat(S,'" edge in the graph.'));return P.source===P.target},ae.addNode=function(S,P){return function(le,qe,mt){if(mt&&!K(mt))throw new Be('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(mt,'"'));if(mt=mt||{},le._nodes.has(qe=""+qe))throw new Q('Graph.addNode: the "'.concat(qe,'" node already exist in the graph.'));var We=new le.NodeDataClass(qe,mt);return le._nodes.set(qe,We),le.emit("nodeAdded",{key:qe,attributes:mt}),We}(this,S,P).key},ae.mergeNode=function(S,P){if(P&&!K(P))throw new Be('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(P,'"'));P=P||{};var he=this._nodes.get(S=""+S);return he?(P&&(E(he.attributes,P),this.emit("nodeAttributesUpdated",{type:"merge",key:S,attributes:he.attributes,data:P})),[S,!1]):(he=new this.NodeDataClass(S,P),this._nodes.set(S,he),this.emit("nodeAdded",{key:S,attributes:P}),[S,!0])},ae.updateNode=function(S,P){if(P&&"function"!=typeof P)throw new Be('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(P,'"'));var he=this._nodes.get(S=""+S);if(he)return P&&(he.attributes=P(he.attributes),this.emit("nodeAttributesUpdated",{type:"replace",key:S,attributes:he.attributes})),[S,!1];var qe=P?P({}):{};return he=new this.NodeDataClass(S,qe),this._nodes.set(S,he),this.emit("nodeAdded",{key:S,attributes:qe}),[S,!0]},ae.dropNode=function(S){var P,he=this._nodes.get(S=""+S);if(!he)throw new W('Graph.dropNode: could not find the "'.concat(S,'" node in the graph.'));if("undirected"!==this.type){for(var le in he.out){P=he.out[le];do{Xe(this,P),P=P.next}while(P)}for(var qe in he.in){P=he.in[qe];do{Xe(this,P),P=P.next}while(P)}}if("directed"!==this.type)for(var mt in he.undirected){P=he.undirected[mt];do{Xe(this,P),P=P.next}while(P)}this._nodes.delete(S),this.emit("nodeDropped",{key:S,attributes:he.attributes})},ae.dropEdge=function(S){var P;if(arguments.length>1){var he=""+arguments[0],le=""+arguments[1];if(!(P=B(this,he,le,this.type)))throw new W('Graph.dropEdge: could not find the "'.concat(he,'" -> "').concat(le,'" edge in the graph.'))}else if(!(P=this._edges.get(S=""+S)))throw new W('Graph.dropEdge: could not find the "'.concat(S,'" edge in the graph.'));return Xe(this,P),this},ae.dropDirectedEdge=function(S,P){if(arguments.length<2)throw new Q("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Q("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var he=B(this,S=""+S,P=""+P,"directed");if(!he)throw new W('Graph.dropDirectedEdge: could not find a "'.concat(S,'" -> "').concat(P,'" edge in the graph.'));return Xe(this,he),this},ae.dropUndirectedEdge=function(S,P){if(arguments.length<2)throw new Q("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Q("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var he=B(this,S,P,"undirected");if(!he)throw new W('Graph.dropUndirectedEdge: could not find a "'.concat(S,'" -> "').concat(P,'" edge in the graph.'));return Xe(this,he),this},ae.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},ae.clearEdges=function(){for(var S,P=this._nodes.values();!0!==(S=P.next()).done;)S.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},ae.getAttribute=function(S){return this._attributes[S]},ae.getAttributes=function(){return this._attributes},ae.hasAttribute=function(S){return this._attributes.hasOwnProperty(S)},ae.setAttribute=function(S,P){return this._attributes[S]=P,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:S}),this},ae.updateAttribute=function(S,P){if("function"!=typeof P)throw new Be("Graph.updateAttribute: updater should be a function.");return this._attributes[S]=P(this._attributes[S]),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:S}),this},ae.removeAttribute=function(S){return delete this._attributes[S],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:S}),this},ae.replaceAttributes=function(S){if(!K(S))throw new Be("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=S,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},ae.mergeAttributes=function(S){if(!K(S))throw new Be("Graph.mergeAttributes: provided attributes are not a plain object.");return E(this._attributes,S),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:S}),this},ae.updateAttributes=function(S){if("function"!=typeof S)throw new Be("Graph.updateAttributes: provided updater is not a function.");return this._attributes=S(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},ae.updateEachNodeAttributes=function(S,P){if("function"!=typeof S)throw new Be("Graph.updateEachNodeAttributes: expecting an updater function.");if(P&&!x(P))throw new Be("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var he,le,qe=this._nodes.values();!0!==(he=qe.next()).done;)(le=he.value).attributes=S(le.key,le.attributes);this.emit("eachNodeAttributesUpdated",{hints:P||null})},ae.updateEachEdgeAttributes=function(S,P){if("function"!=typeof S)throw new Be("Graph.updateEachEdgeAttributes: expecting an updater function.");if(P&&!x(P))throw new Be("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var he,le,qe,mt,We=this._edges.values();!0!==(he=We.next()).done;)qe=(le=he.value).source,le.attributes=S(le.key,le.attributes,qe.key,(mt=le.target).key,qe.attributes,mt.attributes,le.undirected);this.emit("eachEdgeAttributesUpdated",{hints:P||null})},ae.forEachAdjacencyEntry=function(S){if("function"!=typeof S)throw new Be("Graph.forEachAdjacencyEntry: expecting a callback.");xr(!1,!1,!1,this,S)},ae.forEachAdjacencyEntryWithOrphans=function(S){if("function"!=typeof S)throw new Be("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");xr(!1,!1,!0,this,S)},ae.forEachAssymetricAdjacencyEntry=function(S){if("function"!=typeof S)throw new Be("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");xr(!1,!0,!1,this,S)},ae.forEachAssymetricAdjacencyEntryWithOrphans=function(S){if("function"!=typeof S)throw new Be("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");xr(!1,!0,!0,this,S)},ae.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):ct(this._nodes.keys(),this._nodes.size)},ae.forEachNode=function(S){if("function"!=typeof S)throw new Be("Graph.forEachNode: expecting a callback.");for(var P,he,le=this._nodes.values();!0!==(P=le.next()).done;)S((he=P.value).key,he.attributes)},ae.findNode=function(S){if("function"!=typeof S)throw new Be("Graph.findNode: expecting a callback.");for(var P,he,le=this._nodes.values();!0!==(P=le.next()).done;)if(S((he=P.value).key,he.attributes))return he.key},ae.mapNodes=function(S){if("function"!=typeof S)throw new Be("Graph.mapNode: expecting a callback.");for(var P,he,le=this._nodes.values(),qe=new Array(this.order),mt=0;!0!==(P=le.next()).done;)qe[mt++]=S((he=P.value).key,he.attributes);return qe},ae.someNode=function(S){if("function"!=typeof S)throw new Be("Graph.someNode: expecting a callback.");for(var P,he,le=this._nodes.values();!0!==(P=le.next()).done;)if(S((he=P.value).key,he.attributes))return!0;return!1},ae.everyNode=function(S){if("function"!=typeof S)throw new Be("Graph.everyNode: expecting a callback.");for(var P,he,le=this._nodes.values();!0!==(P=le.next()).done;)if(!S((he=P.value).key,he.attributes))return!1;return!0},ae.filterNodes=function(S){if("function"!=typeof S)throw new Be("Graph.filterNodes: expecting a callback.");for(var P,he,le=this._nodes.values(),qe=[];!0!==(P=le.next()).done;)S((he=P.value).key,he.attributes)&&qe.push(he.key);return qe},ae.reduceNodes=function(S,P){if("function"!=typeof S)throw new Be("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Be("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var he,le,qe=P,mt=this._nodes.values();!0!==(he=mt.next()).done;)qe=S(qe,(le=he.value).key,le.attributes);return qe},ae.nodeEntries=function(){var S=this._nodes.values();return new tt(function(){var P=S.next();if(P.done)return P;var he=P.value;return{value:{node:he.key,attributes:he.attributes},done:!1}})},ae.export=function(){var S=this,P=new Array(this._nodes.size),he=0;this._nodes.forEach(function(qe,mt){var qt,jt;P[he++]=(jt={key:mt},te((qt=qe).attributes)||(jt.attributes=E({},qt.attributes)),jt)});var le=new Array(this._edges.size);return he=0,this._edges.forEach(function(qe,mt){var We,jt,ln;le[he++]=(We=S.type,ln={key:mt,source:(jt=qe).source.key,target:jt.target.key},te(jt.attributes)||(ln.attributes=E({},jt.attributes)),"mixed"===We&&jt.undirected&&(ln.undirected=!0),ln)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:P,edges:le}},ae.import=function(S){var P,he,le,qe,mt,We=this,qt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(S instanceof _e)return S.forEachNode(function(fo,Vr){qt?We.mergeNode(fo,Vr):We.addNode(fo,Vr)}),S.forEachEdge(function(fo,Vr,qo,di,Kd,yf,Ti){qt?Ti?We.mergeUndirectedEdgeWithKey(fo,qo,di,Vr):We.mergeDirectedEdgeWithKey(fo,qo,di,Vr):Ti?We.addUndirectedEdgeWithKey(fo,qo,di,Vr):We.addDirectedEdgeWithKey(fo,qo,di,Vr)}),this;if(!K(S))throw new Be("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(S.attributes){if(!K(S.attributes))throw new Be("Graph.import: invalid attributes. Expecting a plain object.");qt?this.mergeAttributes(S.attributes):this.replaceAttributes(S.attributes)}if(S.nodes){if(le=S.nodes,!Array.isArray(le))throw new Be("Graph.import: invalid nodes. Expecting an array.");for(P=0,he=le.length;P<he;P++){Js(qe=le[P]);var ln=qe.key,on=qe.attributes;qt?this.mergeNode(ln,on):this.addNode(ln,on)}}if(S.edges){var Bn=!1;if("undirected"===this.type&&(Bn=!0),le=S.edges,!Array.isArray(le))throw new Be("Graph.import: invalid edges. Expecting an array.");for(P=0,he=le.length;P<he;P++){Sa(mt=le[P]);var oi=mt.source,Ki=mt.target,ki=mt.attributes,tr=mt.undirected,$o=void 0===tr?Bn:tr;"key"in mt?(qt?$o?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:$o?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,mt.key,oi,Ki,ki):(qt?$o?this.mergeUndirectedEdge:this.mergeDirectedEdge:$o?this.addUndirectedEdge:this.addDirectedEdge).call(this,oi,Ki,ki)}}return this},ae.nullCopy=function(S){var P=new _e(E({},this._options,S));return P.replaceAttributes(E({},this.getAttributes())),P},ae.emptyCopy=function(S){var P=this.nullCopy(S);return this._nodes.forEach(function(he,le){var qe=E({},he.attributes);he=new P.NodeDataClass(le,qe),P._nodes.set(le,he)}),P},ae.copy=function(S){if("string"==typeof(S=S||{}).type&&S.type!==this.type&&"mixed"!==S.type)throw new Q('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(S.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof S.multi&&S.multi!==this.multi&&!0!==S.multi)throw new Q("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof S.allowSelfLoops&&S.allowSelfLoops!==this.allowSelfLoops&&!0!==S.allowSelfLoops)throw new Q("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var P,he,le=this.emptyCopy(S),qe=this._edges.values();!0!==(P=qe.next()).done;)uc(le,"copy",!1,(he=P.value).undirected,he.key,he.source.key,he.target.key,E({},he.attributes));return le},ae.toJSON=function(){return this.export()},ae.toString=function(){return"[object Graph]"},ae.inspect=function(){var S=this,P={};this._nodes.forEach(function(We,qt){P[qt]=We.attributes});var he={},le={};this._edges.forEach(function(We,qt){var jt,ln=We.undirected?"--":"->",on="",Bn=We.source.key,hi=We.target.key;We.undirected&&Bn>hi&&(jt=Bn,Bn=hi,hi=jt);var oi="(".concat(Bn,")").concat(ln,"(").concat(hi,")");qt.startsWith("geid_")?S.multi&&(void 0===le[oi]?le[oi]=0:le[oi]++,on+="".concat(le[oi],". ")):on+="[".concat(qt,"]: "),he[on+=oi]=We.attributes});var qe={};for(var mt in this)this.hasOwnProperty(mt)&&!fl.has(mt)&&"function"!=typeof this[mt]&&"symbol"!==ye(mt)&&(qe[mt]=this[mt]);return qe.attributes=this._attributes,qe.nodes=P,qe.edges=he,R(qe,"constructor",this.constructor),qe},_e}(se.exports.EventEmitter);typeof Symbol<"u"&&(Wt.prototype[Symbol.for("nodejs.util.inspect.custom")]=Wt.prototype.inspect),[{name:function(re){return"".concat(re,"Edge")},generateKey:!0},{name:function(re){return"".concat(re,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(re){return"".concat(re,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(re){return"".concat(re,"EdgeWithKey")}},{name:function(re){return"".concat(re,"DirectedEdgeWithKey")},type:"directed"},{name:function(re){return"".concat(re,"UndirectedEdgeWithKey")},type:"undirected"}].forEach(function(re){["add","merge","update"].forEach(function(_e){var ae=re.name(_e),S="add"===_e?uc:He;Wt.prototype[ae]=re.generateKey?function(P,he,le){return S(this,ae,!0,"undirected"===(re.type||this.type),null,P,he,le,"update"===_e)}:function(P,he,le,qe){return S(this,ae,!1,"undirected"===(re.type||this.type),P,he,le,qe,"update"===_e)}})}),re=Wt,ft.forEach(function(_e){var ae=_e.name,S=_e.attacher;S(re,ae("Node"),0),S(re,ae("Source"),1),S(re,ae("Target"),2),S(re,ae("Opposite"),3)}),function(re){Fe.forEach(function(_e){var ae=_e.name,S=_e.attacher;S(re,ae("Edge"),"mixed"),S(re,ae("DirectedEdge"),"directed"),S(re,ae("UndirectedEdge"),"undirected")})}(Wt),function(re){ge.forEach(function(_e){var S,P,he,le;he=(S=_e).type,le=S.direction,re.prototype[P=S.name]=function(qe,mt){if("mixed"!==he&&"mixed"!==this.type&&he!==this.type)return[];if(!arguments.length)return function Ot(re,_e){if(0===re.size)return[];if("mixed"===_e||_e===re.type)return"function"==typeof Array.from?Array.from(re._edges.keys()):ct(re._edges.keys(),re._edges.size);for(var ae,S,he=new Array("undirected"===_e?re.undirectedSize:re.directedSize),le="undirected"===_e,qe=re._edges.values(),mt=0;!0!==(ae=qe.next()).done;)(S=ae.value).undirected===le&&(he[mt++]=S.key);return he}(this,he);if(1===arguments.length){var We=this._nodes.get(qe=""+qe);if(void 0===We)throw new W("Graph.".concat(P,': could not find the "').concat(qe,'" node in the graph.'));return function U(re,_e,ae,S){var P=[];return k(!1,re,_e,ae,S,function(he){P.push(he)}),P}(this.multi,"mixed"===he?this.type:he,le,We)}if(2===arguments.length){mt=""+mt;var qt=this._nodes.get(qe=""+qe);if(!qt)throw new W("Graph.".concat(P,':  could not find the "').concat(qe,'" source node in the graph.'));if(!this._nodes.has(mt))throw new W("Graph.".concat(P,':  could not find the "').concat(mt,'" target node in the graph.'));return function ht(re,_e,ae,S,P){var he=[];return it(!1,re,_e,ae,S,P,function(le){he.push(le)}),he}(he,this.multi,le,qt,mt)}throw new Be("Graph.".concat(P,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))},function(ae,S){var P=S.name,he=S.type,le=S.direction,qe="forEach"+P[0].toUpperCase()+P.slice(1,-1);ae.prototype[qe]=function(jt,ln,on){if("mixed"===he||"mixed"===this.type||he===this.type){if(1===arguments.length)return Ht(!1,this,he,on=jt);if(2===arguments.length){on=ln;var Bn=this._nodes.get(jt=""+jt);if(void 0===Bn)throw new W("Graph.".concat(qe,': could not find the "').concat(jt,'" node in the graph.'));return k(!1,this.multi,"mixed"===he?this.type:he,le,Bn,on)}if(3===arguments.length){ln=""+ln;var hi=this._nodes.get(jt=""+jt);if(!hi)throw new W("Graph.".concat(qe,':  could not find the "').concat(jt,'" source node in the graph.'));if(!this._nodes.has(ln))throw new W("Graph.".concat(qe,':  could not find the "').concat(ln,'" target node in the graph.'));return it(!1,he,this.multi,le,hi,ln,on)}throw new Be("Graph.".concat(qe,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var mt="map"+P[0].toUpperCase()+P.slice(1);ae.prototype[mt]=function(){var jt,ln=Array.prototype.slice.call(arguments),on=ln.pop();if(0===ln.length){var Bn=0;"directed"!==he&&(Bn+=this.undirectedSize),"undirected"!==he&&(Bn+=this.directedSize),jt=new Array(Bn);var hi=0;ln.push(function(oi,Ki,ki,tr,$o,fo,Vr){jt[hi++]=on(oi,Ki,ki,tr,$o,fo,Vr)})}else jt=[],ln.push(function(oi,Ki,ki,tr,$o,fo,Vr){jt.push(on(oi,Ki,ki,tr,$o,fo,Vr))});return this[qe].apply(this,ln),jt};var We="filter"+P[0].toUpperCase()+P.slice(1);ae.prototype[We]=function(){var jt=Array.prototype.slice.call(arguments),ln=jt.pop(),on=[];return jt.push(function(Bn,hi,oi,Ki,ki,tr,$o){ln(Bn,hi,oi,Ki,ki,tr,$o)&&on.push(Bn)}),this[qe].apply(this,jt),on};var qt="reduce"+P[0].toUpperCase()+P.slice(1);ae.prototype[qt]=function(){var jt,ln,on=Array.prototype.slice.call(arguments);if(on.length<2||on.length>4)throw new Be("Graph.".concat(qt,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(on.length,")."));if("function"==typeof on[on.length-1]&&"function"!=typeof on[on.length-2])throw new Be("Graph.".concat(qt,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===on.length?(jt=on[0],ln=on[1],on=[]):3===on.length?(jt=on[1],ln=on[2],on=[on[0]]):4===on.length&&(jt=on[2],ln=on[3],on=[on[0],on[1]]);var Bn=ln;return on.push(function(hi,oi,Ki,ki,tr,$o,fo){Bn=jt(Bn,hi,oi,Ki,ki,tr,$o,fo)}),this[qe].apply(this,on),Bn}}(re,_e),function(ae,S){var P=S.name,he=S.type,le=S.direction,qe="find"+P[0].toUpperCase()+P.slice(1,-1);ae.prototype[qe]=function(qt,jt,ln){if("mixed"!==he&&"mixed"!==this.type&&he!==this.type)return!1;if(1===arguments.length)return Ht(!0,this,he,ln=qt);if(2===arguments.length){ln=jt;var on=this._nodes.get(qt=""+qt);if(void 0===on)throw new W("Graph.".concat(qe,': could not find the "').concat(qt,'" node in the graph.'));return k(!0,this.multi,"mixed"===he?this.type:he,le,on,ln)}if(3===arguments.length){jt=""+jt;var Bn=this._nodes.get(qt=""+qt);if(!Bn)throw new W("Graph.".concat(qe,':  could not find the "').concat(qt,'" source node in the graph.'));if(!this._nodes.has(jt))throw new W("Graph.".concat(qe,':  could not find the "').concat(jt,'" target node in the graph.'));return it(!0,he,this.multi,le,Bn,jt,ln)}throw new Be("Graph.".concat(qe,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var mt="some"+P[0].toUpperCase()+P.slice(1,-1);ae.prototype[mt]=function(){var qt=Array.prototype.slice.call(arguments),jt=qt.pop();return qt.push(function(ln,on,Bn,hi,oi,Ki,ki){return jt(ln,on,Bn,hi,oi,Ki,ki)}),!!this[qe].apply(this,qt)};var We="every"+P[0].toUpperCase()+P.slice(1,-1);ae.prototype[We]=function(){var qt=Array.prototype.slice.call(arguments),jt=qt.pop();return qt.push(function(ln,on,Bn,hi,oi,Ki,ki){return!jt(ln,on,Bn,hi,oi,Ki,ki)}),!this[qe].apply(this,qt)}}(re,_e),function(ae,S){var he=S.type,le=S.direction,qe=S.name.slice(0,-1)+"Entries";ae.prototype[qe]=function(mt,We){if("mixed"!==he&&"mixed"!==this.type&&he!==this.type)return tt.empty();if(!arguments.length)return function ce(re,_e){if(0===re.size)return tt.empty();var ae="mixed"!==_e&&_e!==re.type,S="undirected"===_e,P=re._edges.values();return new tt(function(){for(var he,le;;){if((he=P.next()).done)return he;if(le=he.value,!ae||le.undirected===S)break}return{value:{edge:le.key,attributes:le.attributes,source:le.source.key,target:le.target.key,sourceAttributes:le.source.attributes,targetAttributes:le.target.attributes,undirected:le.undirected},done:!1}})}(this,he);if(1===arguments.length){var qt=this._nodes.get(mt=""+mt);if(!qt)throw new W("Graph.".concat(qe,': could not find the "').concat(mt,'" node in the graph.'));return function Pe(re,_e,ae){var S=tt.empty();return"undirected"!==re&&("out"!==_e&&void 0!==ae.in&&(S=O(S,Ve(ae.in))),"in"!==_e&&void 0!==ae.out&&(S=O(S,Ve(ae.out,_e?void 0:ae.key)))),"directed"!==re&&void 0!==ae.undirected&&(S=O(S,Ve(ae.undirected))),S}(he,le,qt)}if(2===arguments.length){We=""+We;var jt=this._nodes.get(mt=""+mt);if(!jt)throw new W("Graph.".concat(qe,':  could not find the "').concat(mt,'" source node in the graph.'));if(!this._nodes.has(We))throw new W("Graph.".concat(qe,':  could not find the "').concat(We,'" target node in the graph.'));return function Tt(re,_e,ae,S){var P=tt.empty();return"undirected"!==re&&(void 0!==ae.in&&"out"!==_e&&S in ae.in&&(P=O(P,Gt(ae.in,S))),void 0!==ae.out&&"in"!==_e&&S in ae.out&&(_e||ae.key!==S)&&(P=O(P,Gt(ae.out,S)))),"directed"!==re&&void 0!==ae.undirected&&S in ae.undirected&&(P=O(P,Gt(ae.undirected,S))),P}(he,le,jt,We)}throw new Be("Graph.".concat(qe,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(re,_e)})}(Wt),function(re){An.forEach(function(_e){var ae,S,P,he,le,qe,mt;(function mr(re,_e){var ae=_e.name,S=_e.type,P=_e.direction;re.prototype[ae]=function(he){if("mixed"!==S&&"mixed"!==this.type&&S!==this.type)return[];var le=this._nodes.get(he=""+he);if(void 0===le)throw new W("Graph.".concat(ae,': could not find the "').concat(he,'" node in the graph.'));return function(qe,mt,We){if("mixed"!==qe){if("undirected"===qe)return Object.keys(We.undirected);if("string"==typeof mt)return Object.keys(We[mt])}var qt=[];return zn(!1,qe,mt,We,function(jt){qt.push(jt)}),qt}("mixed"===S?this.type:S,P,le)}})(re,_e),function(ae,S){var P=S.name,he=S.type,le=S.direction,qe="forEach"+P[0].toUpperCase()+P.slice(1,-1);ae.prototype[qe]=function(jt,ln){if("mixed"===he||"mixed"===this.type||he===this.type){var on=this._nodes.get(jt=""+jt);if(void 0===on)throw new W("Graph.".concat(qe,': could not find the "').concat(jt,'" node in the graph.'));zn(!1,"mixed"===he?this.type:he,le,on,ln)}};var mt="map"+P[0].toUpperCase()+P.slice(1);ae.prototype[mt]=function(jt,ln){var on=[];return this[qe](jt,function(Bn,hi){on.push(ln(Bn,hi))}),on};var We="filter"+P[0].toUpperCase()+P.slice(1);ae.prototype[We]=function(jt,ln){var on=[];return this[qe](jt,function(Bn,hi){ln(Bn,hi)&&on.push(Bn)}),on};var qt="reduce"+P[0].toUpperCase()+P.slice(1);ae.prototype[qt]=function(jt,ln,on){if(arguments.length<3)throw new Be("Graph.".concat(qt,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var Bn=on;return this[qe](jt,function(hi,oi){Bn=ln(Bn,hi,oi)}),Bn}}(re,_e),ae=re,he=(S=_e).type,le=S.direction,qe=(P=S.name)[0].toUpperCase()+P.slice(1,-1),ae.prototype[mt="find"+qe]=function(jt,ln){if("mixed"===he||"mixed"===this.type||he===this.type){var on=this._nodes.get(jt=""+jt);if(void 0===on)throw new W("Graph.".concat(mt,': could not find the "').concat(jt,'" node in the graph.'));return zn(!0,"mixed"===he?this.type:he,le,on,ln)}},ae.prototype["some"+qe]=function(jt,ln){return!!this[mt](jt,ln)},ae.prototype["every"+qe]=function(jt,ln){return!this[mt](jt,function(on,Bn){return!ln(on,Bn)})},function ja(re,_e){var S=_e.type,P=_e.direction,he=_e.name.slice(0,-1)+"Entries";re.prototype[he]=function(le){if("mixed"!==S&&"mixed"!==this.type&&S!==this.type)return tt.empty();var qe=this._nodes.get(le=""+le);if(void 0===qe)throw new W("Graph.".concat(he,': could not find the "').concat(le,'" node in the graph.'));return function(mt,We,qt){if("mixed"!==mt){if("undirected"===mt)return Nn(null,qt,qt.undirected);if("string"==typeof We)return Nn(null,qt,qt[We])}var jt=tt.empty(),ln=new qn;return"undirected"!==mt&&("out"!==We&&(jt=O(jt,Nn(ln,qt,qt.in))),"in"!==We&&(jt=O(jt,Nn(ln,qt,qt.out)))),"directed"!==mt&&(jt=O(jt,Nn(ln,qt,qt.undirected))),jt}("mixed"===S?this.type:S,P,qe)}}(re,_e)})}(Wt);var Ct=function(re){function _e(ae){var S=E({type:"directed"},ae);if("multi"in S&&!1!==S.multi)throw new Be("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==S.type)throw new Be('DirectedGraph.from: inconsistent "'+S.type+'" type in given options!');return re.call(this,S)||this}return T(_e,re),_e}(Wt),Cn=function(re){function _e(ae){var S=E({type:"undirected"},ae);if("multi"in S&&!1!==S.multi)throw new Be("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==S.type)throw new Be('UndirectedGraph.from: inconsistent "'+S.type+'" type in given options!');return re.call(this,S)||this}return T(_e,re),_e}(Wt),Dr=function(re){function _e(ae){var S=E({multi:!0},ae);if("multi"in S&&!0!==S.multi)throw new Be("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return re.call(this,S)||this}return T(_e,re),_e}(Wt),Mo=function(re){function _e(ae){var S=E({type:"directed",multi:!0},ae);if("multi"in S&&!0!==S.multi)throw new Be("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==S.type)throw new Be('MultiDirectedGraph.from: inconsistent "'+S.type+'" type in given options!');return re.call(this,S)||this}return T(_e,re),_e}(Wt),Uc=function(re){function _e(ae){var S=E({type:"undirected",multi:!0},ae);if("multi"in S&&!0!==S.multi)throw new Be("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==S.type)throw new Be('MultiUndirectedGraph.from: inconsistent "'+S.type+'" type in given options!');return re.call(this,S)||this}return T(_e,re),_e}(Wt);function en(re){re.from=function(_e,ae){var S=E({},_e.options,ae),P=new re(S);return P.import(_e),P}}return en(Wt),en(Ct),en(Cn),en(Dr),en(Mo),en(Uc),Wt.Graph=Wt,Wt.DirectedGraph=Ct,Wt.UndirectedGraph=Cn,Wt.MultiGraph=Dr,Wt.MultiDirectedGraph=Mo,Wt.MultiUndirectedGraph=Uc,Wt.InvalidArgumentsGraphError=Be,Wt.NotFoundGraphError=W,Wt.UsageGraphError=Q,Wt}()},4511:(Ge,ye,T)=>{var J;!function(C,q,Y,ne){"use strict";var z,w=["","webkit","Moz","MS","ms","o"],E=q.createElement("div"),B="function",K=Math.round,te=Math.abs,R=Date.now;function de(Ce,Ue,at){return setTimeout(H(Ce,at),Ue)}function x(Ce,Ue,at){return!!Array.isArray(Ce)&&(F(Ce,at[Ue],at),!0)}function F(Ce,Ue,at){var At;if(Ce)if(Ce.forEach)Ce.forEach(Ue,at);else if(Ce.length!==ne)for(At=0;At<Ce.length;)Ue.call(at,Ce[At],At,Ce),At++;else for(At in Ce)Ce.hasOwnProperty(At)&&Ue.call(at,Ce[At],At,Ce)}function se(Ce,Ue,at){var At="DEPRECATED METHOD: "+Ue+"\n"+at+" AT \n";return function(){var tn=new Error("get-stack-trace"),En=tn&&tn.stack?tn.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",xi=C.console&&(C.console.warn||C.console.log);return xi&&xi.call(C.console,At,En),Ce.apply(this,arguments)}}z="function"!=typeof Object.assign?function(Ue){if(Ue===ne||null===Ue)throw new TypeError("Cannot convert undefined or null to object");for(var at=Object(Ue),At=1;At<arguments.length;At++){var tn=arguments[At];if(tn!==ne&&null!==tn)for(var En in tn)tn.hasOwnProperty(En)&&(at[En]=tn[En])}return at}:Object.assign;var $=se(function(Ue,at,At){for(var tn=Object.keys(at),En=0;En<tn.length;)(!At||At&&Ue[tn[En]]===ne)&&(Ue[tn[En]]=at[tn[En]]),En++;return Ue},"extend","Use `assign`."),X=se(function(Ue,at){return $(Ue,at,!0)},"merge","Use `assign`.");function j(Ce,Ue,at){var tn,At=Ue.prototype;(tn=Ce.prototype=Object.create(At)).constructor=Ce,tn._super=At,at&&z(tn,at)}function H(Ce,Ue){return function(){return Ce.apply(Ue,arguments)}}function y(Ce,Ue){return typeof Ce==B?Ce.apply(Ue&&Ue[0]||ne,Ue):Ce}function M(Ce,Ue){return Ce===ne?Ue:Ce}function A(Ce,Ue,at){F(ie(Ue),function(At){Ce.addEventListener(At,at,!1)})}function oe(Ce,Ue,at){F(ie(Ue),function(At){Ce.removeEventListener(At,at,!1)})}function ee(Ce,Ue){for(;Ce;){if(Ce==Ue)return!0;Ce=Ce.parentNode}return!1}function Te(Ce,Ue){return Ce.indexOf(Ue)>-1}function ie(Ce){return Ce.trim().split(/\s+/g)}function xe(Ce,Ue,at){if(Ce.indexOf&&!at)return Ce.indexOf(Ue);for(var At=0;At<Ce.length;){if(at&&Ce[At][at]==Ue||!at&&Ce[At]===Ue)return At;At++}return-1}function Re(Ce){return Array.prototype.slice.call(Ce,0)}function Le(Ce,Ue,at){for(var At=[],tn=[],En=0;En<Ce.length;){var xi=Ue?Ce[En][Ue]:Ce[En];xe(tn,xi)<0&&At.push(Ce[En]),tn[En]=xi,En++}return at&&(At=Ue?At.sort(function(mo,vs){return mo[Ue]>vs[Ue]}):At.sort()),At}function tt(Ce,Ue){for(var at,At,tn=Ue[0].toUpperCase()+Ue.slice(1),En=0;En<w.length;){if((At=(at=w[En])?at+tn:Ue)in Ce)return At;En++}return ne}var rt=1;function je(Ce){var Ue=Ce.ownerDocument||Ce;return Ue.defaultView||Ue.parentWindow||C}var ot="ontouchstart"in C,fe=tt(C,"PointerEvent")!==ne,we=ot&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ct="touch",Be="mouse",Q=25,Ae=1,Me=4,nt=8,ut=1,ft=2,Fe=4,V=8,I=16,O=ft|Fe,ge=V|I,$e=O|ge,ve=["x","y"],Ve=["clientX","clientY"];function Ze(Ce,Ue){var at=this;this.manager=Ce,this.callback=Ue,this.element=Ce.element,this.target=Ce.options.inputTarget,this.domHandler=function(At){y(Ce.options.enable,[Ce])&&at.handler(At)},this.init()}function Gt(Ce,Ue,at){var At=at.pointers.length,tn=at.changedPointers.length,En=Ue&Ae&&At-tn==0,xi=Ue&(Me|nt)&&At-tn==0;at.isFirst=!!En,at.isFinal=!!xi,En&&(Ce.session={}),at.eventType=Ue,function Ot(Ce,Ue){var at=Ce.session,At=Ue.pointers,tn=At.length;at.firstInput||(at.firstInput=k(Ue)),tn>1&&!at.firstMultiple?at.firstMultiple=k(Ue):1===tn&&(at.firstMultiple=!1);var En=at.firstInput,xi=at.firstMultiple,po=xi?xi.center:En.center,mo=Ue.center=U(At);Ue.timeStamp=R(),Ue.deltaTime=Ue.timeStamp-En.timeStamp,Ue.angle=Tt(po,mo),Ue.distance=ht(po,mo),function Ht(Ce,Ue){var at=Ue.center,At=Ce.offsetDelta||{},tn=Ce.prevDelta||{},En=Ce.prevInput||{};(Ue.eventType===Ae||En.eventType===Me)&&(tn=Ce.prevDelta={x:En.deltaX||0,y:En.deltaY||0},At=Ce.offsetDelta={x:at.x,y:at.y}),Ue.deltaX=tn.x+(at.x-At.x),Ue.deltaY=tn.y+(at.y-At.y)}(at,Ue),Ue.offsetDirection=it(Ue.deltaX,Ue.deltaY);var vs=Pe(Ue.deltaTime,Ue.deltaX,Ue.deltaY);Ue.overallVelocityX=vs.x,Ue.overallVelocityY=vs.y,Ue.overallVelocity=te(vs.x)>te(vs.y)?vs.x:vs.y,Ue.scale=xi?function qn(Ce,Ue){return ht(Ue[0],Ue[1],Ve)/ht(Ce[0],Ce[1],Ve)}(xi.pointers,At):1,Ue.rotation=xi?function An(Ce,Ue){return Tt(Ue[1],Ue[0],Ve)+Tt(Ce[1],Ce[0],Ve)}(xi.pointers,At):0,Ue.maxPointers=at.prevInput?Ue.pointers.length>at.prevInput.maxPointers?Ue.pointers.length:at.prevInput.maxPointers:Ue.pointers.length,function ce(Ce,Ue){var tn,En,xi,po,at=Ce.lastInterval||Ue,At=Ue.timeStamp-at.timeStamp;if(Ue.eventType!=nt&&(At>Q||at.velocity===ne)){var mo=Ue.deltaX-at.deltaX,vs=Ue.deltaY-at.deltaY,Va=Pe(At,mo,vs);En=Va.x,xi=Va.y,tn=te(Va.x)>te(Va.y)?Va.x:Va.y,po=it(mo,vs),Ce.lastInterval=Ue}else tn=at.velocity,En=at.velocityX,xi=at.velocityY,po=at.direction;Ue.velocity=tn,Ue.velocityX=En,Ue.velocityY=xi,Ue.direction=po}(at,Ue);var Va=Ce.element;ee(Ue.srcEvent.target,Va)&&(Va=Ue.srcEvent.target),Ue.target=Va}(Ce,at),Ce.emit("hammer.input",at),Ce.recognize(at),Ce.session.prevInput=at}function k(Ce){for(var Ue=[],at=0;at<Ce.pointers.length;)Ue[at]={clientX:K(Ce.pointers[at].clientX),clientY:K(Ce.pointers[at].clientY)},at++;return{timeStamp:R(),pointers:Ue,center:U(Ue),deltaX:Ce.deltaX,deltaY:Ce.deltaY}}function U(Ce){var Ue=Ce.length;if(1===Ue)return{x:K(Ce[0].clientX),y:K(Ce[0].clientY)};for(var at=0,At=0,tn=0;tn<Ue;)at+=Ce[tn].clientX,At+=Ce[tn].clientY,tn++;return{x:K(at/Ue),y:K(At/Ue)}}function Pe(Ce,Ue,at){return{x:Ue/Ce||0,y:at/Ce||0}}function it(Ce,Ue){return Ce===Ue?ut:te(Ce)>=te(Ue)?Ce<0?ft:Fe:Ue<0?V:I}function ht(Ce,Ue,at){at||(at=ve);var At=Ue[at[0]]-Ce[at[0]],tn=Ue[at[1]]-Ce[at[1]];return Math.sqrt(At*At+tn*tn)}function Tt(Ce,Ue,at){return at||(at=ve),180*Math.atan2(Ue[at[1]]-Ce[at[1]],Ue[at[0]]-Ce[at[0]])/Math.PI}Ze.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(je(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&oe(this.element,this.evEl,this.domHandler),this.evTarget&&oe(this.target,this.evTarget,this.domHandler),this.evWin&&oe(je(this.element),this.evWin,this.domHandler)}};var ri={mousedown:Ae,mousemove:2,mouseup:Me},zn="mousedown",Nn="mousemove mouseup";function mr(){this.evEl=zn,this.evWin=Nn,this.pressed=!1,Ze.apply(this,arguments)}j(mr,Ze,{handler:function(Ue){var at=ri[Ue.type];at&Ae&&0===Ue.button&&(this.pressed=!0),2&at&&1!==Ue.which&&(at=Me),this.pressed&&(at&Me&&(this.pressed=!1),this.callback(this.manager,at,{pointers:[Ue],changedPointers:[Ue],pointerType:Be,srcEvent:Ue}))}});var ja={pointerdown:Ae,pointermove:2,pointerup:Me,pointercancel:nt,pointerout:nt},xr={2:ct,3:"pen",4:Be,5:"kinect"},Js="pointerdown",Sa="pointermove pointerup pointercancel";function Ir(){this.evEl=Js,this.evWin=Sa,Ze.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}C.MSPointerEvent&&!C.PointerEvent&&(Js="MSPointerDown",Sa="MSPointerMove MSPointerUp MSPointerCancel"),j(Ir,Ze,{handler:function(Ue){var at=this.store,At=!1,tn=Ue.type.toLowerCase().replace("ms",""),En=ja[tn],xi=xr[Ue.pointerType]||Ue.pointerType,po=xi==ct,mo=xe(at,Ue.pointerId,"pointerId");En&Ae&&(0===Ue.button||po)?mo<0&&(at.push(Ue),mo=at.length-1):En&(Me|nt)&&(At=!0),!(mo<0)&&(at[mo]=Ue,this.callback(this.manager,En,{pointers:at,changedPointers:[Ue],pointerType:xi,srcEvent:Ue}),At&&at.splice(mo,1))}});var To={touchstart:Ae,touchmove:2,touchend:Me,touchcancel:nt};function Bc(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Ze.apply(this,arguments)}function jc(Ce,Ue){var at=Re(Ce.touches),At=Re(Ce.changedTouches);return Ue&(Me|nt)&&(at=Le(at.concat(At),"identifier",!0)),[at,At]}j(Bc,Ze,{handler:function(Ue){var at=To[Ue.type];if(at===Ae&&(this.started=!0),this.started){var At=jc.call(this,Ue,at);at&(Me|nt)&&At[0].length-At[1].length==0&&(this.started=!1),this.callback(this.manager,at,{pointers:At[0],changedPointers:At[1],pointerType:ct,srcEvent:Ue})}}});var uc={touchstart:Ae,touchmove:2,touchend:Me,touchcancel:nt},He="touchstart touchmove touchend touchcancel";function Xe(){this.evTarget=He,this.targetIds={},Ze.apply(this,arguments)}function Wt(Ce,Ue){var at=Re(Ce.touches),At=this.targetIds;if(Ue&(2|Ae)&&1===at.length)return At[at[0].identifier]=!0,[at,at];var tn,En,xi=Re(Ce.changedTouches),po=[],mo=this.target;if(En=at.filter(function(vs){return ee(vs.target,mo)}),Ue===Ae)for(tn=0;tn<En.length;)At[En[tn].identifier]=!0,tn++;for(tn=0;tn<xi.length;)At[xi[tn].identifier]&&po.push(xi[tn]),Ue&(Me|nt)&&delete At[xi[tn].identifier],tn++;return po.length?[Le(En.concat(po),"identifier",!0),po]:void 0}j(Xe,Ze,{handler:function(Ue){var at=uc[Ue.type],At=Wt.call(this,Ue,at);At&&this.callback(this.manager,at,{pointers:At[0],changedPointers:At[1],pointerType:ct,srcEvent:Ue})}});var Ct=2500;function Dr(){Ze.apply(this,arguments);var Ce=H(this.handler,this);this.touch=new Xe(this.manager,Ce),this.mouse=new mr(this.manager,Ce),this.primaryTouch=null,this.lastTouches=[]}function Mo(Ce,Ue){Ce&Ae?(this.primaryTouch=Ue.changedPointers[0].identifier,Uc.call(this,Ue)):Ce&(Me|nt)&&Uc.call(this,Ue)}function Uc(Ce){var Ue=Ce.changedPointers[0];if(Ue.identifier===this.primaryTouch){var at={x:Ue.clientX,y:Ue.clientY};this.lastTouches.push(at);var At=this.lastTouches;setTimeout(function(){var En=At.indexOf(at);En>-1&&At.splice(En,1)},Ct)}}function en(Ce){for(var Ue=Ce.srcEvent.clientX,at=Ce.srcEvent.clientY,At=0;At<this.lastTouches.length;At++){var tn=this.lastTouches[At],En=Math.abs(Ue-tn.x),xi=Math.abs(at-tn.y);if(En<=25&&xi<=25)return!0}return!1}j(Dr,Ze,{handler:function(Ue,at,At){var En=At.pointerType==Be;if(!(En&&At.sourceCapabilities&&At.sourceCapabilities.firesTouchEvents)){if(At.pointerType==ct)Mo.call(this,at,At);else if(En&&en.call(this,At))return;this.callback(Ue,at,At)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var re=tt(E.style,"touchAction"),_e=re!==ne,ae="compute",S="auto",P="manipulation",he="none",le="pan-x",qe="pan-y",mt=function jt(){if(!_e)return!1;var Ce={},Ue=C.CSS&&C.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(at){Ce[at]=!Ue||C.CSS.supports("touch-action",at)}),Ce}();function We(Ce,Ue){this.manager=Ce,this.set(Ue)}We.prototype={set:function(Ce){Ce==ae&&(Ce=this.compute()),_e&&this.manager.element.style&&mt[Ce]&&(this.manager.element.style[re]=Ce),this.actions=Ce.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var Ce=[];return F(this.manager.recognizers,function(Ue){y(Ue.options.enable,[Ue])&&(Ce=Ce.concat(Ue.getTouchAction()))}),function qt(Ce){if(Te(Ce,he))return he;var Ue=Te(Ce,le),at=Te(Ce,qe);return Ue&&at?he:Ue||at?Ue?le:qe:Te(Ce,P)?P:S}(Ce.join(" "))},preventDefaults:function(Ce){var Ue=Ce.srcEvent,at=Ce.offsetDirection;if(!this.manager.session.prevented){var At=this.actions,tn=Te(At,he)&&!mt[he],En=Te(At,qe)&&!mt[qe],xi=Te(At,le)&&!mt[le];if(tn&&1===Ce.pointers.length&&Ce.distance<2&&Ce.deltaTime<250)return;return xi&&En||!(tn||En&&at&O||xi&&at&ge)?void 0:this.preventSrc(Ue)}Ue.preventDefault()},preventSrc:function(Ce){this.manager.session.prevented=!0,Ce.preventDefault()}};var ln=1;function tr(Ce){this.options=z({},this.defaults,Ce||{}),this.id=function Ee(){return rt++}(),this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=ln,this.simultaneous={},this.requireFail=[]}function $o(Ce){return 16&Ce?"cancel":8&Ce?"end":4&Ce?"move":2&Ce?"start":""}function fo(Ce){return Ce==I?"down":Ce==V?"up":Ce==ft?"left":Ce==Fe?"right":""}function Vr(Ce,Ue){var at=Ue.manager;return at?at.get(Ce):Ce}function qo(){tr.apply(this,arguments)}function di(){qo.apply(this,arguments),this.pX=null,this.pY=null}function Kd(){qo.apply(this,arguments)}function yf(){tr.apply(this,arguments),this._timer=null,this._input=null}function Ti(){qo.apply(this,arguments)}function $l(){qo.apply(this,arguments)}function Or(){tr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function hc(Ce,Ue){return(Ue=Ue||{}).recognizers=M(Ue.recognizers,hc.defaults.preset),new mi(Ce,Ue)}function mi(Ce,Ue){this.options=z({},hc.defaults,Ue||{}),this.options.inputTarget=this.options.inputTarget||Ce,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=Ce,this.input=function St(Ce){return new(Ce.options.inputClass||(fe?Ir:we?Xe:ot?Dr:mr))(Ce,Gt)}(this),this.touchAction=new We(this,this.options.touchAction),Hn(this,!0),F(this.options.recognizers,function(at){var At=this.add(new at[0](at[1]));at[2]&&At.recognizeWith(at[2]),at[3]&&At.requireFailure(at[3])},this)}function Hn(Ce,Ue){var At,at=Ce.element;at.style&&(F(Ce.options.cssProps,function(tn,En){At=tt(at.style,En),Ue?(Ce.oldCssProps[At]=at.style[At],at.style[At]=tn):at.style[At]=Ce.oldCssProps[At]||""}),Ue||(Ce.oldCssProps={}))}tr.prototype={defaults:{},set:function(Ce){return z(this.options,Ce),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(Ce){if(x(Ce,"recognizeWith",this))return this;var Ue=this.simultaneous;return Ue[(Ce=Vr(Ce,this)).id]||(Ue[Ce.id]=Ce,Ce.recognizeWith(this)),this},dropRecognizeWith:function(Ce){return x(Ce,"dropRecognizeWith",this)||(Ce=Vr(Ce,this),delete this.simultaneous[Ce.id]),this},requireFailure:function(Ce){if(x(Ce,"requireFailure",this))return this;var Ue=this.requireFail;return-1===xe(Ue,Ce=Vr(Ce,this))&&(Ue.push(Ce),Ce.requireFailure(this)),this},dropRequireFailure:function(Ce){if(x(Ce,"dropRequireFailure",this))return this;Ce=Vr(Ce,this);var Ue=xe(this.requireFail,Ce);return Ue>-1&&this.requireFail.splice(Ue,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(Ce){return!!this.simultaneous[Ce.id]},emit:function(Ce){var Ue=this,at=this.state;function At(tn){Ue.manager.emit(tn,Ce)}at<8&&At(Ue.options.event+$o(at)),At(Ue.options.event),Ce.additionalEvent&&At(Ce.additionalEvent),at>=8&&At(Ue.options.event+$o(at))},tryEmit:function(Ce){if(this.canEmit())return this.emit(Ce);this.state=32},canEmit:function(){for(var Ce=0;Ce<this.requireFail.length;){if(!(this.requireFail[Ce].state&(32|ln)))return!1;Ce++}return!0},recognize:function(Ce){var Ue=z({},Ce);if(!y(this.options.enable,[this,Ue]))return this.reset(),void(this.state=32);56&this.state&&(this.state=ln),this.state=this.process(Ue),30&this.state&&this.tryEmit(Ue)},process:function(Ce){},getTouchAction:function(){},reset:function(){}},j(qo,tr,{defaults:{pointers:1},attrTest:function(Ce){var Ue=this.options.pointers;return 0===Ue||Ce.pointers.length===Ue},process:function(Ce){var Ue=this.state,at=Ce.eventType,At=6&Ue,tn=this.attrTest(Ce);return At&&(at&nt||!tn)?16|Ue:At||tn?at&Me?8|Ue:2&Ue?4|Ue:2:32}}),j(di,qo,{defaults:{event:"pan",threshold:10,pointers:1,direction:$e},getTouchAction:function(){var Ce=this.options.direction,Ue=[];return Ce&O&&Ue.push(qe),Ce&ge&&Ue.push(le),Ue},directionTest:function(Ce){var Ue=this.options,at=!0,At=Ce.distance,tn=Ce.direction,En=Ce.deltaX,xi=Ce.deltaY;return tn&Ue.direction||(Ue.direction&O?(tn=0===En?ut:En<0?ft:Fe,at=En!=this.pX,At=Math.abs(Ce.deltaX)):(tn=0===xi?ut:xi<0?V:I,at=xi!=this.pY,At=Math.abs(Ce.deltaY))),Ce.direction=tn,at&&At>Ue.threshold&&tn&Ue.direction},attrTest:function(Ce){return qo.prototype.attrTest.call(this,Ce)&&(2&this.state||!(2&this.state)&&this.directionTest(Ce))},emit:function(Ce){this.pX=Ce.deltaX,this.pY=Ce.deltaY;var Ue=fo(Ce.direction);Ue&&(Ce.additionalEvent=this.options.event+Ue),this._super.emit.call(this,Ce)}}),j(Kd,qo,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(Ce){return this._super.attrTest.call(this,Ce)&&(Math.abs(Ce.scale-1)>this.options.threshold||2&this.state)},emit:function(Ce){1!==Ce.scale&&(Ce.additionalEvent=this.options.event+(Ce.scale<1?"in":"out")),this._super.emit.call(this,Ce)}}),j(yf,tr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[S]},process:function(Ce){var Ue=this.options,at=Ce.pointers.length===Ue.pointers,At=Ce.distance<Ue.threshold,tn=Ce.deltaTime>Ue.time;if(this._input=Ce,!At||!at||Ce.eventType&(Me|nt)&&!tn)this.reset();else if(Ce.eventType&Ae)this.reset(),this._timer=de(function(){this.state=8,this.tryEmit()},Ue.time,this);else if(Ce.eventType&Me)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(Ce){8===this.state&&(Ce&&Ce.eventType&Me?this.manager.emit(this.options.event+"up",Ce):(this._input.timeStamp=R(),this.manager.emit(this.options.event,this._input)))}}),j(Ti,qo,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[he]},attrTest:function(Ce){return this._super.attrTest.call(this,Ce)&&(Math.abs(Ce.rotation)>this.options.threshold||2&this.state)}}),j($l,qo,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:O|ge,pointers:1},getTouchAction:function(){return di.prototype.getTouchAction.call(this)},attrTest:function(Ce){var at,Ue=this.options.direction;return Ue&(O|ge)?at=Ce.overallVelocity:Ue&O?at=Ce.overallVelocityX:Ue&ge&&(at=Ce.overallVelocityY),this._super.attrTest.call(this,Ce)&&Ue&Ce.offsetDirection&&Ce.distance>this.options.threshold&&Ce.maxPointers==this.options.pointers&&te(at)>this.options.velocity&&Ce.eventType&Me},emit:function(Ce){var Ue=fo(Ce.offsetDirection);Ue&&this.manager.emit(this.options.event+Ue,Ce),this.manager.emit(this.options.event,Ce)}}),j(Or,tr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[P]},process:function(Ce){var Ue=this.options,at=Ce.pointers.length===Ue.pointers,At=Ce.distance<Ue.threshold,tn=Ce.deltaTime<Ue.time;if(this.reset(),Ce.eventType&Ae&&0===this.count)return this.failTimeout();if(At&&tn&&at){if(Ce.eventType!=Me)return this.failTimeout();var En=!this.pTime||Ce.timeStamp-this.pTime<Ue.interval,xi=!this.pCenter||ht(this.pCenter,Ce.center)<Ue.posThreshold;if(this.pTime=Ce.timeStamp,this.pCenter=Ce.center,xi&&En?this.count+=1:this.count=1,this._input=Ce,0==this.count%Ue.taps)return this.hasRequireFailures()?(this._timer=de(function(){this.state=8,this.tryEmit()},Ue.interval,this),2):8}return 32},failTimeout:function(){return this._timer=de(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),hc.VERSION="2.0.7",hc.defaults={domEvents:!1,touchAction:ae,enable:!0,inputTarget:null,inputClass:null,preset:[[Ti,{enable:!1}],[Kd,{enable:!1},["rotate"]],[$l,{direction:O}],[di,{direction:O},["swipe"]],[Or],[Or,{event:"doubletap",taps:2},["tap"]],[yf]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},mi.prototype={set:function(Ce){return z(this.options,Ce),Ce.touchAction&&this.touchAction.update(),Ce.inputTarget&&(this.input.destroy(),this.input.target=Ce.inputTarget,this.input.init()),this},stop:function(Ce){this.session.stopped=Ce?2:1},recognize:function(Ce){var Ue=this.session;if(!Ue.stopped){this.touchAction.preventDefaults(Ce);var at,At=this.recognizers,tn=Ue.curRecognizer;(!tn||tn&&8&tn.state)&&(tn=Ue.curRecognizer=null);for(var En=0;En<At.length;)at=At[En],2===Ue.stopped||tn&&at!=tn&&!at.canRecognizeWith(tn)?at.reset():at.recognize(Ce),!tn&&14&at.state&&(tn=Ue.curRecognizer=at),En++}},get:function(Ce){if(Ce instanceof tr)return Ce;for(var Ue=this.recognizers,at=0;at<Ue.length;at++)if(Ue[at].options.event==Ce)return Ue[at];return null},add:function(Ce){if(x(Ce,"add",this))return this;var Ue=this.get(Ce.options.event);return Ue&&this.remove(Ue),this.recognizers.push(Ce),Ce.manager=this,this.touchAction.update(),Ce},remove:function(Ce){if(x(Ce,"remove",this))return this;if(Ce=this.get(Ce)){var Ue=this.recognizers,at=xe(Ue,Ce);-1!==at&&(Ue.splice(at,1),this.touchAction.update())}return this},on:function(Ce,Ue){if(Ce!==ne&&Ue!==ne){var at=this.handlers;return F(ie(Ce),function(At){at[At]=at[At]||[],at[At].push(Ue)}),this}},off:function(Ce,Ue){if(Ce!==ne){var at=this.handlers;return F(ie(Ce),function(At){Ue?at[At]&&at[At].splice(xe(at[At],Ue),1):delete at[At]}),this}},emit:function(Ce,Ue){this.options.domEvents&&function Jd(Ce,Ue){var at=q.createEvent("Event");at.initEvent(Ce,!0,!0),at.gesture=Ue,Ue.target.dispatchEvent(at)}(Ce,Ue);var at=this.handlers[Ce]&&this.handlers[Ce].slice();if(at&&at.length){Ue.type=Ce,Ue.preventDefault=function(){Ue.srcEvent.preventDefault()};for(var At=0;At<at.length;)at[At](Ue),At++}},destroy:function(){this.element&&Hn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},z(hc,{INPUT_START:Ae,INPUT_MOVE:2,INPUT_END:Me,INPUT_CANCEL:nt,STATE_POSSIBLE:ln,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:ut,DIRECTION_LEFT:ft,DIRECTION_RIGHT:Fe,DIRECTION_UP:V,DIRECTION_DOWN:I,DIRECTION_HORIZONTAL:O,DIRECTION_VERTICAL:ge,DIRECTION_ALL:$e,Manager:mi,Input:Ze,TouchAction:We,TouchInput:Xe,MouseInput:mr,PointerEventInput:Ir,TouchMouseInput:Dr,SingleTouchInput:Bc,Recognizer:tr,AttrRecognizer:qo,Tap:Or,Pan:di,Swipe:$l,Pinch:Kd,Rotate:Ti,Press:yf,on:A,off:oe,each:F,merge:X,extend:$,assign:z,inherit:j,bindFn:H,prefixed:tt}),(typeof C<"u"?C:typeof self<"u"?self:{}).Hammer=hc,(J=function(){return hc}.call(ye,T,ye,Ge))!==ne&&(Ge.exports=J)}(window,document)},2020:(Ge,ye)=>{ye.read=function(T,J,C,q,Y){var ne,w,E=8*Y-q-1,B=(1<<E)-1,K=B>>1,te=-7,R=C?Y-1:0,de=C?-1:1,x=T[J+R];for(R+=de,ne=x&(1<<-te)-1,x>>=-te,te+=E;te>0;ne=256*ne+T[J+R],R+=de,te-=8);for(w=ne&(1<<-te)-1,ne>>=-te,te+=q;te>0;w=256*w+T[J+R],R+=de,te-=8);if(0===ne)ne=1-K;else{if(ne===B)return w?NaN:1/0*(x?-1:1);w+=Math.pow(2,q),ne-=K}return(x?-1:1)*w*Math.pow(2,ne-q)},ye.write=function(T,J,C,q,Y,ne){var w,E,B,K=8*ne-Y-1,te=(1<<K)-1,R=te>>1,de=23===Y?Math.pow(2,-24)-Math.pow(2,-77):0,x=q?0:ne-1,F=q?1:-1,se=J<0||0===J&&1/J<0?1:0;for(J=Math.abs(J),isNaN(J)||J===1/0?(E=isNaN(J)?1:0,w=te):(w=Math.floor(Math.log(J)/Math.LN2),J*(B=Math.pow(2,-w))<1&&(w--,B*=2),(J+=w+R>=1?de/B:de*Math.pow(2,1-R))*B>=2&&(w++,B/=2),w+R>=te?(E=0,w=te):w+R>=1?(E=(J*B-1)*Math.pow(2,Y),w+=R):(E=J*Math.pow(2,R-1)*Math.pow(2,Y),w=0));Y>=8;T[C+x]=255&E,x+=F,E/=256,Y-=8);for(w=w<<Y|E,K+=Y;K>0;T[C+x]=255&w,x+=F,w/=256,K-=8);T[C+x-F]|=128*se}},7839:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const{isArray:C,isObject:q,isString:Y}=T(2831),{asArray:ne}=T(9420),{prependBase:w}=T(2051),E=T(262),B=T(6181);function te(de){throw new E("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:de})}function R({context:de,base:x}){if(!de)return;const F=de["@context"];if(Y(F))de["@context"]=w(x,F);else if(C(F))for(let se=0;se<F.length;++se){const z=F[se];Y(z)?F[se]=w(x,z):q(z)&&R({context:{"@context":z},base:x})}else if(q(F))for(const se in F)R({context:F[se],base:x})}Ge.exports=class{constructor({sharedCache:x}){this.perOpCache=new Map,this.sharedCache=x}resolve({activeCtx:x,context:F,documentLoader:se,base:z,cycles:$=new Set}){var X=this;return J(function*(){F&&q(F)&&F["@context"]&&(F=F["@context"]),F=ne(F);const j=[];for(const H of F){if(Y(H)){let A=X._get(H);A||(A=yield X._resolveRemoteContext({activeCtx:x,url:H,documentLoader:se,base:z,cycles:$})),C(A)?j.push(...A):j.push(A);continue}if(null===H){j.push(new B({document:null}));continue}q(H)||te(F);const y=JSON.stringify(H);let M=X._get(y);M||(M=new B({document:H}),X._cacheResolvedContext({key:y,resolved:M,tag:"static"})),j.push(M)}return j})()}_get(x){let F=this.perOpCache.get(x);if(!F){const se=this.sharedCache.get(x);se&&(F=se.get("static"),F&&this.perOpCache.set(x,F))}return F}_cacheResolvedContext({key:x,resolved:F,tag:se}){if(this.perOpCache.set(x,F),void 0!==se){let z=this.sharedCache.get(x);z||(z=new Map,this.sharedCache.set(x,z)),z.set(se,F)}return F}_resolveRemoteContext({activeCtx:x,url:F,documentLoader:se,base:z,cycles:$}){var X=this;return J(function*(){F=w(z,F);const{context:j,remoteDoc:H}=yield X._fetchContext({activeCtx:x,url:F,documentLoader:se,cycles:$});R({context:j,base:z=H.documentUrl||F});const y=yield X.resolve({activeCtx:x,context:j,documentLoader:se,base:z,cycles:$});return X._cacheResolvedContext({key:F,resolved:y,tag:H.tag}),y})()}_fetchContext({activeCtx:x,url:F,documentLoader:se,cycles:z}){return J(function*(){if(z.size>10)throw new E("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===x.processingMode?"loading remote context failed":"context overflow",max:10});if(z.has(F))throw new E("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===x.processingMode?"recursive context inclusion":"context overflow",url:F});let $,X;z.add(F);try{X=yield se(F),$=X.document||null,Y($)&&($=JSON.parse($))}catch(j){throw new E("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:F,cause:j})}if(!q($))throw new E("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:F});return $="@context"in $?{"@context":$["@context"]}:{"@context":{}},X.contextUrl&&(C($["@context"])||($["@context"]=[$["@context"]]),$["@context"].push(X.contextUrl)),{context:$,remoteDoc:X}})()}}},262:Ge=>{"use strict";Ge.exports=class extends Error{constructor(T="An unspecified JSON-LD error occurred.",J="jsonld.Error",C={}){super(T),this.name=J,this.message=T,this.details=C}}},1328:Ge=>{"use strict";Ge.exports=ye=>{class T{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(T,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(T.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:T}),T.compact=function(J,C){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):ye.compact(J,C)},T.expand=function(J){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):ye.expand(J)},T.flatten=function(J){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):ye.flatten(J)},T}},5426:(Ge,ye,T)=>{"use strict";Ge.exports=T(1224).NQuads},4808:(Ge,ye,T)=>{"use strict";var J=T(9293).default;Ge.exports=class{constructor(){this._requests={}}wrapLoader(q){const Y=this;return Y._loader=q,function(){return Y.add.apply(Y,arguments)}}add(q){var Y=this;return J(function*(){let ne=Y._requests[q];if(ne)return Promise.resolve(ne);ne=Y._requests[q]=Y._loader(q);try{return yield ne}finally{delete Y._requests[q]}})()}}},6181:(Ge,ye,T)=>{"use strict";const J=T(3052);Ge.exports=class{constructor({document:Y}){this.document=Y,this.cache=new J({max:10})}getProcessed(Y){return this.cache.get(Y)}setProcessed(Y,ne){this.cache.set(Y,ne)}}},3763:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(262),{isArray:q,isObject:Y,isString:ne,isUndefined:w}=T(2831),{isList:E,isValue:B,isGraph:K,isSimpleGraph:te,isSubjectReference:R}=T(4209),{expandIri:de,getContextValue:x,isKeyword:F,process:se,processingMode:z}=T(429),{removeBase:$,prependBase:X}=T(2051),{REGEX_KEYWORD:j,addValue:H,asArray:y,compareShortestLeast:M}=T(9420),A={};function ee(Te,ie,xe){if("@nest"!==de(Te,ie,{vocab:!0},xe))throw new C("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}Ge.exports=A,A.compact=function(){var Te=J(function*({activeCtx:ie,activeProperty:xe=null,element:Re,options:Le={}}){if(q(Re)){let rt=[];for(let Ee=0;Ee<Re.length;++Ee){const je=yield A.compact({activeCtx:ie,activeProperty:xe,element:Re[Ee],options:Le});null!==je&&rt.push(je)}return Le.compactArrays&&1===rt.length&&0===(x(ie,xe,"@container")||[]).length&&(rt=rt[0]),rt}const tt=x(ie,xe,"@context");if(w(tt)||(ie=yield se({activeCtx:ie,localCtx:tt,propagate:!0,overrideProtected:!0,options:Le})),Y(Re)){if(Le.link&&"@id"in Re&&Le.link.hasOwnProperty(Re["@id"])){const ct=Le.link[Re["@id"]];for(let Et=0;Et<ct.length;++Et)if(ct[Et].expanded===Re)return ct[Et].compacted}if(B(Re)||R(Re)){const ct=A.compactValue({activeCtx:ie,activeProperty:xe,value:Re,options:Le});return Le.link&&R(Re)&&(Le.link.hasOwnProperty(Re["@id"])||(Le.link[Re["@id"]]=[]),Le.link[Re["@id"]].push({expanded:Re,compacted:ct})),ct}if(E(Re)&&(x(ie,xe,"@container")||[]).includes("@list"))return A.compact({activeCtx:ie,activeProperty:xe,element:Re["@list"],options:Le});const rt="@reverse"===xe,Ee={},je=ie;!B(Re)&&!R(Re)&&(ie=ie.revertToPreviousContext());const De=x(je,xe,"@context");w(De)||(ie=yield se({activeCtx:ie,localCtx:De,propagate:!0,overrideProtected:!0,options:Le})),Le.link&&"@id"in Re&&(Le.link.hasOwnProperty(Re["@id"])||(Le.link[Re["@id"]]=[]),Le.link[Re["@id"]].push({expanded:Re,compacted:Ee}));let ot=Re["@type"]||[];ot.length>1&&(ot=Array.from(ot).sort());const fe=ie;for(const ct of ot){const Et=A.compactIri({activeCtx:fe,iri:ct,relativeTo:{vocab:!0}}),Be=x(je,Et,"@context");w(Be)||(ie=yield se({activeCtx:ie,localCtx:Be,options:Le,propagate:!1}))}const we=Object.keys(Re).sort();for(const ct of we){const Et=Re[ct];if("@id"!==ct)if("@type"!==ct)if("@reverse"!==ct)if("@preserve"!==ct)if("@index"!==ct)if("@graph"!==ct&&"@list"!==ct&&"@included"!==ct&&F(ct)){const Be=A.compactIri({activeCtx:ie,iri:ct,relativeTo:{vocab:!0}});H(Ee,Be,Et)}else{if(!q(Et))throw new C("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===Et.length){const Be=A.compactIri({activeCtx:ie,iri:ct,value:Et,relativeTo:{vocab:!0},reverse:rt}),W=ie.mappings.has(Be)?ie.mappings.get(Be)["@nest"]:null;let Q=Ee;W&&(ee(ie,W,Le),Y(Ee[W])||(Ee[W]={}),Q=Ee[W]),H(Q,Be,Et,{propertyIsArray:!0})}for(const Be of Et){const W=A.compactIri({activeCtx:ie,iri:ct,value:Be,relativeTo:{vocab:!0},reverse:rt}),Q=ie.mappings.has(W)?ie.mappings.get(W)["@nest"]:null;let Ae=Ee;Q&&(ee(ie,Q,Le),Y(Ee[Q])||(Ee[Q]={}),Ae=Ee[Q]);const Ne=x(ie,W,"@container")||[],Me=K(Be),nt=E(Be);let ut;nt?ut=Be["@list"]:Me&&(ut=Be["@graph"]);let ft=yield A.compact({activeCtx:ie,activeProperty:W,element:nt||Me?ut:Be,options:Le});if(nt){if(q(ft)||(ft=[ft]),Ne.includes("@list")){H(Ae,W,ft,{valueIsArray:!0,allowDuplicate:!0});continue}ft={[A.compactIri({activeCtx:ie,iri:"@list",relativeTo:{vocab:!0}})]:ft},"@index"in Be&&(ft[A.compactIri({activeCtx:ie,iri:"@index",relativeTo:{vocab:!0}})]=Be["@index"])}if(Me)if(Ne.includes("@graph")&&(Ne.includes("@id")||Ne.includes("@index")&&te(Be))){let Fe;Ae.hasOwnProperty(W)?Fe=Ae[W]:Ae[W]=Fe={};const V=(Ne.includes("@id")?Be["@id"]:Be["@index"])||A.compactIri({activeCtx:ie,iri:"@none",relativeTo:{vocab:!0}});H(Fe,V,ft,{propertyIsArray:!Le.compactArrays||Ne.includes("@set")})}else Ne.includes("@graph")&&te(Be)?(q(ft)&&ft.length>1&&(ft={"@included":ft}),H(Ae,W,ft,{propertyIsArray:!Le.compactArrays||Ne.includes("@set")})):(q(ft)&&1===ft.length&&Le.compactArrays&&(ft=ft[0]),ft={[A.compactIri({activeCtx:ie,iri:"@graph",relativeTo:{vocab:!0}})]:ft},"@id"in Be&&(ft[A.compactIri({activeCtx:ie,iri:"@id",relativeTo:{vocab:!0}})]=Be["@id"]),"@index"in Be&&(ft[A.compactIri({activeCtx:ie,iri:"@index",relativeTo:{vocab:!0}})]=Be["@index"]),H(Ae,W,ft,{propertyIsArray:!Le.compactArrays||Ne.includes("@set")}));else if(Ne.includes("@language")||Ne.includes("@index")||Ne.includes("@id")||Ne.includes("@type")){let Fe,V;if(Ae.hasOwnProperty(W)?Fe=Ae[W]:Ae[W]=Fe={},Ne.includes("@language"))B(ft)&&(ft=ft["@value"]),V=Be["@language"];else if(Ne.includes("@index")){const I=x(ie,W,"@index")||"@index",O=A.compactIri({activeCtx:ie,iri:I,relativeTo:{vocab:!0}});if("@index"===I)V=Be["@index"],delete ft[O];else{let ge;if([V,...ge]=y(ft[I]||[]),ne(V))switch(ge.length){case 0:delete ft[I];break;case 1:ft[I]=ge[0];break;default:ft[I]=ge}else V=null}}else if(Ne.includes("@id")){const I=A.compactIri({activeCtx:ie,iri:"@id",relativeTo:{vocab:!0}});V=ft[I],delete ft[I]}else if(Ne.includes("@type")){const I=A.compactIri({activeCtx:ie,iri:"@type",relativeTo:{vocab:!0}});let O;switch([V,...O]=y(ft[I]||[]),O.length){case 0:delete ft[I];break;case 1:ft[I]=O[0];break;default:ft[I]=O}1===Object.keys(ft).length&&"@id"in Be&&(ft=yield A.compact({activeCtx:ie,activeProperty:W,element:{"@id":Be["@id"]},options:Le}))}V||(V=A.compactIri({activeCtx:ie,iri:"@none",relativeTo:{vocab:!0}})),H(Fe,V,ft,{propertyIsArray:Ne.includes("@set")})}else{const Fe=!Le.compactArrays||Ne.includes("@set")||Ne.includes("@list")||q(ft)&&0===ft.length||"@list"===ct||"@graph"===ct;H(Ae,W,ft,{propertyIsArray:Fe})}}}else{if((x(ie,xe,"@container")||[]).includes("@index"))continue;const W=A.compactIri({activeCtx:ie,iri:ct,relativeTo:{vocab:!0}});H(Ee,W,Et)}else{const Be=yield A.compact({activeCtx:ie,activeProperty:xe,element:Et,options:Le});q(Be)&&0===Be.length||H(Ee,ct,Be)}else{const Be=yield A.compact({activeCtx:ie,activeProperty:"@reverse",element:Et,options:Le});for(const W in Be)if(ie.mappings.has(W)&&ie.mappings.get(W).reverse){const Q=Be[W],Ne=(x(ie,W,"@container")||[]).includes("@set")||!Le.compactArrays;H(Ee,W,Q,{propertyIsArray:Ne}),delete Be[W]}if(Object.keys(Be).length>0){const W=A.compactIri({activeCtx:ie,iri:ct,relativeTo:{vocab:!0}});H(Ee,W,Be)}}else{let Be=y(Et).map(Me=>A.compactIri({activeCtx:je,iri:Me,relativeTo:{vocab:!0}}));1===Be.length&&(Be=Be[0]);const W=A.compactIri({activeCtx:ie,iri:"@type",relativeTo:{vocab:!0}}),Ne=(x(ie,W,"@container")||[]).includes("@set")&&z(ie,1.1)||q(Be)&&0===Et.length;H(Ee,W,Be,{propertyIsArray:Ne})}else{let Be=y(Et).map(Q=>A.compactIri({activeCtx:ie,iri:Q,relativeTo:{vocab:!1},base:Le.base}));1===Be.length&&(Be=Be[0]),Ee[A.compactIri({activeCtx:ie,iri:"@id",relativeTo:{vocab:!0}})]=Be}}return Ee}return Re});return function(ie){return Te.apply(this,arguments)}}(),A.compactIri=({activeCtx:Te,iri:ie,value:xe=null,relativeTo:Re={vocab:!1},reverse:Le=!1,base:tt=null})=>{if(null===ie)return ie;Te.isPropertyTermScoped&&Te.previousContext&&(Te=Te.previousContext);const rt=Te.getInverse();if(F(ie)&&ie in rt&&"@none"in rt[ie]&&"@type"in rt[ie]["@none"]&&"@none"in rt[ie]["@none"]["@type"])return rt[ie]["@none"]["@type"]["@none"];if(Re.vocab&&ie in rt){const fe=Te["@language"]||"@none",we=[];Y(xe)&&"@index"in xe&&!("@graph"in xe)&&we.push("@index","@index@set"),Y(xe)&&"@preserve"in xe&&(xe=xe["@preserve"][0]),K(xe)?("@index"in xe&&we.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in xe&&we.push("@graph@id","@graph@id@set"),we.push("@graph","@graph@set","@set"),"@index"in xe||we.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in xe||we.push("@graph@id","@graph@id@set")):Y(xe)&&!B(xe)&&we.push("@id","@id@set","@type","@set@type");let ct="@language",Et="@null";if(Le)ct="@type",Et="@reverse",we.push("@set");else if(E(xe)){"@index"in xe||we.push("@list");const W=xe["@list"];if(0===W.length)ct="@any",Et="@none";else{let Q=0===W.length?fe:null,Ae=null;for(let Ne=0;Ne<W.length;++Ne){const Me=W[Ne];let nt="@none",ut="@none";if(B(Me)?"@direction"in Me?nt=`${(Me["@language"]||"").toLowerCase()}_${Me["@direction"]}`:"@language"in Me?nt=Me["@language"].toLowerCase():"@type"in Me?ut=Me["@type"]:nt="@null":ut="@id",null===Q?Q=nt:nt!==Q&&B(Me)&&(Q="@none"),null===Ae?Ae=ut:ut!==Ae&&(Ae="@none"),"@none"===Q&&"@none"===Ae)break}Q=Q||"@none",Ae=Ae||"@none","@none"!==Ae?(ct="@type",Et=Ae):Et=Q}}else{if(B(xe))if("@language"in xe&&!("@index"in xe)){we.push("@language","@language@set"),Et=xe["@language"];const W=xe["@direction"];W&&(Et=`${Et}_${W}`)}else"@direction"in xe&&!("@index"in xe)?Et=`_${xe["@direction"]}`:"@type"in xe&&(ct="@type",Et=xe["@type"]);else ct="@type",Et="@id";we.push("@set")}we.push("@none"),Y(xe)&&!("@index"in xe)&&we.push("@index","@index@set"),B(xe)&&1===Object.keys(xe).length&&we.push("@language","@language@set");const Be=function oe(Te,ie,xe,Re,Le,tt){null===tt&&(tt="@null");const rt=[];if(("@id"===tt||"@reverse"===tt)&&Y(xe)&&"@id"in xe){"@reverse"===tt&&rt.push("@reverse");const je=A.compactIri({activeCtx:Te,iri:xe["@id"],relativeTo:{vocab:!0}});Te.mappings.has(je)&&Te.mappings.get(je)&&Te.mappings.get(je)["@id"]===xe["@id"]?rt.push.apply(rt,["@vocab","@id"]):rt.push.apply(rt,["@id","@vocab"])}else{rt.push(tt);const je=rt.find(De=>De.includes("_"));je&&rt.push(je.replace(/^[^_]+_/,"_"))}rt.push("@none");const Ee=Te.inverse[ie];for(const je of Re){if(!(je in Ee))continue;const De=Ee[je][Le];for(const ot of rt)if(ot in De)return De[ot]}return null}(Te,ie,xe,we,ct,Et);if(null!==Be)return Be}if(Re.vocab&&"@vocab"in Te){const fe=Te["@vocab"];if(0===ie.indexOf(fe)&&ie!==fe){const we=ie.substr(fe.length);if(!Te.mappings.has(we))return we}}let Ee=null;const je=[];let De=Te.fastCurieMap;const ot=ie.length-1;for(let fe=0;fe<ot&&ie[fe]in De;++fe)De=De[ie[fe]],""in De&&je.push(De[""][0]);for(let fe=je.length-1;fe>=0;--fe){const we=je[fe],ct=we.terms;for(const Et of ct){const Be=Et+":"+ie.substr(we.iri.length);Te.mappings.get(Et)._prefix&&(!Te.mappings.has(Be)||null===xe&&Te.mappings.get(Be)["@id"]===ie)&&(null===Ee||M(Be,Ee)<0)&&(Ee=Be)}}if(null!==Ee)return Ee;for(const[fe,we]of Te.mappings)if(we&&we._prefix&&ie.startsWith(fe+":"))throw new C(`Absolute IRI "${ie}" confused with prefix "${fe}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:Te});if(!Re.vocab){if("@base"in Te){if(Te["@base"]){const fe=$(X(tt,Te["@base"]),ie);return j.test(fe)?`./${fe}`:fe}return ie}return $(tt,ie)}return ie},A.compactValue=({activeCtx:Te,activeProperty:ie,value:xe,options:Re})=>{if(B(xe)){const Ee=x(Te,ie,"@type"),je=x(Te,ie,"@language"),De=x(Te,ie,"@direction"),ot=x(Te,ie,"@container")||[],fe="@index"in xe&&!ot.includes("@index");if(!fe&&"@none"!==Ee&&(xe["@type"]===Ee||"@language"in xe&&xe["@language"]===je&&"@direction"in xe&&xe["@direction"]===De||"@language"in xe&&xe["@language"]===je||"@direction"in xe&&xe["@direction"]===De))return xe["@value"];const we=Object.keys(xe).length,ct=1===we||2===we&&"@index"in xe&&!fe,Et="@language"in Te,Be=ne(xe["@value"]),W=Te.mappings.has(ie)&&null===Te.mappings.get(ie)["@language"];if(ct&&"@none"!==Ee&&(!Et||!Be||W))return xe["@value"];const Q={};return fe&&(Q[A.compactIri({activeCtx:Te,iri:"@index",relativeTo:{vocab:!0}})]=xe["@index"]),"@type"in xe?Q[A.compactIri({activeCtx:Te,iri:"@type",relativeTo:{vocab:!0}})]=A.compactIri({activeCtx:Te,iri:xe["@type"],relativeTo:{vocab:!0}}):"@language"in xe&&(Q[A.compactIri({activeCtx:Te,iri:"@language",relativeTo:{vocab:!0}})]=xe["@language"]),"@direction"in xe&&(Q[A.compactIri({activeCtx:Te,iri:"@direction",relativeTo:{vocab:!0}})]=xe["@direction"]),Q[A.compactIri({activeCtx:Te,iri:"@value",relativeTo:{vocab:!0}})]=xe["@value"],Q}const Le=de(Te,ie,{vocab:!0},Re),tt=x(Te,ie,"@type"),rt=A.compactIri({activeCtx:Te,iri:xe["@id"],relativeTo:{vocab:"@vocab"===tt},base:Re.base});return"@id"===tt||"@vocab"===tt||"@graph"===Le?rt:{[A.compactIri({activeCtx:Te,iri:"@id",relativeTo:{vocab:!0}})]:rt}}},5315:Ge=>{"use strict";const ye="http://www.w3.org/1999/02/22-rdf-syntax-ns#",T="http://www.w3.org/2001/XMLSchema#";Ge.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:ye,RDF_LIST:ye+"List",RDF_FIRST:ye+"first",RDF_REST:ye+"rest",RDF_NIL:ye+"nil",RDF_TYPE:ye+"type",RDF_PLAIN_LITERAL:ye+"PlainLiteral",RDF_XML_LITERAL:ye+"XMLLiteral",RDF_JSON_LITERAL:ye+"JSON",RDF_OBJECT:ye+"object",RDF_LANGSTRING:ye+"langString",XSD:T,XSD_BOOLEAN:T+"boolean",XSD_DOUBLE:T+"double",XSD_INTEGER:T+"integer",XSD_STRING:T+"string"}},429:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(9420),q=T(262),{isArray:Y,isObject:ne,isString:w,isUndefined:E}=T(2831),{isAbsolute:B,isRelative:K,prependBase:te}=T(2051),{handleEvent:R}=T(2585),{REGEX_BCP47:de,REGEX_KEYWORD:x,asArray:F,compareShortestLeast:se}=T(9420),z=new Map,X={};function j(y,M,A,oe,ee,Te){if(null===M||!w(M)||X.isKeyword(M))return M;if(M.match(x))return null;if(oe&&oe.hasOwnProperty(M)&&!0!==ee.get(M)&&X.createTermDefinition({activeCtx:y,localCtx:oe,term:M,defined:ee,options:Te}),(A=A||{}).vocab){const xe=y.mappings.get(M);if(null===xe)return null;if(ne(xe)&&"@id"in xe)return xe["@id"]}const ie=M.indexOf(":");if(ie>0){const xe=M.substr(0,ie),Re=M.substr(ie+1);if("_"===xe||0===Re.indexOf("//"))return M;oe&&oe.hasOwnProperty(xe)&&X.createTermDefinition({activeCtx:y,localCtx:oe,term:xe,defined:ee,options:Te});const Le=y.mappings.get(xe);if(Le&&Le._prefix)return Le["@id"]+Re;if(B(M))return M}if(A.vocab&&"@vocab"in y)M=y["@vocab"]+M;else if(A.base){let xe,Re;"@base"in y?y["@base"]?(Re=te(Te.base,y["@base"]),xe=te(Re,M)):(Re=y["@base"],xe=M):(Re=Te.base,xe=te(Te.base,M)),M=xe}return M}function H(y,M){if(!y||"object"!=typeof y||!M||"object"!=typeof M)return y===M;const A=Array.isArray(y);if(A!==Array.isArray(M))return!1;if(A){if(y.length!==M.length)return!1;for(let Te=0;Te<y.length;++Te)if(!H(y[Te],M[Te]))return!1;return!0}const oe=Object.keys(y),ee=Object.keys(M);if(oe.length!==ee.length)return!1;for(const Te in y){let ie=y[Te],xe=M[Te];if("@container"===Te&&Array.isArray(ie)&&Array.isArray(xe)&&(ie=ie.slice().sort(),xe=xe.slice().sort()),!H(ie,xe))return!1}return!0}Ge.exports=X,X.process=function(){var y=J(function*({activeCtx:M,localCtx:A,options:oe,propagate:ee=!0,overrideProtected:Te=!1,cycles:ie=new Set}){if(ne(A)&&"@context"in A&&Y(A["@context"])&&(A=A["@context"]),0===F(A).length)return M;const Re=[],Le=[({event:je,next:De})=>{Re.push(je),De()}];oe.eventHandler&&Le.push(oe.eventHandler);const tt=oe;oe={...oe,eventHandler:Le};const rt=yield oe.contextResolver.resolve({activeCtx:M,context:A,documentLoader:oe.documentLoader,base:oe.base});ne(rt[0].document)&&"boolean"==typeof rt[0].document["@propagate"]&&(ee=rt[0].document["@propagate"]);let Ee=M;!ee&&!Ee.previousContext&&(Ee=Ee.clone(),Ee.previousContext=M);for(const je of rt){let{document:De}=je;if(M=Ee,null===De){if(!Te&&0!==Object.keys(M.protected).length)throw new q("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});Ee=M=X.getInitialContext(oe).clone();continue}const ot=je.getProcessed(M);if(ot){if(tt.eventHandler)for(const we of ot.events)R({event:we,options:tt});Ee=M=ot.context;continue}if(ne(De)&&"@context"in De&&(De=De["@context"]),!ne(De))throw new q("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:De});Ee=Ee.clone();const fe=new Map;if("@version"in De){if(1.1!==De["@version"])throw new q("Unsupported JSON-LD version: "+De["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:De});if(M.processingMode&&"json-ld-1.0"===M.processingMode)throw new q("@version: "+De["@version"]+" not compatible with "+M.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:De});Ee.processingMode="json-ld-1.1",Ee["@version"]=De["@version"],fe.set("@version",!0)}if(Ee.processingMode=Ee.processingMode||M.processingMode,"@base"in De){let we=De["@base"];if(null!==we&&!B(we)){if(!K(we))throw new q('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:De});we=te(Ee["@base"],we)}Ee["@base"]=we,fe.set("@base",!0)}if("@vocab"in De){const we=De["@vocab"];if(null===we)delete Ee["@vocab"];else{if(!w(we))throw new q('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:De});if(!B(we)&&X.processingMode(Ee,1))throw new q('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:De});{const ct=j(Ee,we,{vocab:!0,base:!0},void 0,void 0,oe);B(ct)||oe.eventHandler&&R({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:ct}},options:oe}),Ee["@vocab"]=ct}}fe.set("@vocab",!0)}if("@language"in De){const we=De["@language"];if(null===we)delete Ee["@language"];else{if(!w(we))throw new q('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:De});we.match(de)||oe.eventHandler&&R({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:we}},options:oe}),Ee["@language"]=we.toLowerCase()}fe.set("@language",!0)}if("@direction"in De){const we=De["@direction"];if("json-ld-1.0"===M.processingMode)throw new q("Invalid JSON-LD syntax; @direction not compatible with "+M.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:De});if(null===we)delete Ee["@direction"];else{if("ltr"!==we&&"rtl"!==we)throw new q('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:De});Ee["@direction"]=we}fe.set("@direction",!0)}if("@propagate"in De){const we=De["@propagate"];if("json-ld-1.0"===M.processingMode)throw new q("Invalid JSON-LD syntax; @propagate not compatible with "+M.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:De});if("boolean"!=typeof we)throw new q("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:A});fe.set("@propagate",!0)}if("@import"in De){const we=De["@import"];if("json-ld-1.0"===M.processingMode)throw new q("Invalid JSON-LD syntax; @import not compatible with "+M.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:De});if(!w(we))throw new q("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:A});const ct=yield oe.contextResolver.resolve({activeCtx:M,context:we,documentLoader:oe.documentLoader,base:oe.base});if(1!==ct.length)throw new q("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:A});const Et=ct[0].getProcessed(M);if(Et)De=Et;else{const Be=ct[0].document;if("@import"in Be)throw new q("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:A});for(const W in Be)De.hasOwnProperty(W)||(De[W]=Be[W]);ct[0].setProcessed(M,De)}fe.set("@import",!0)}fe.set("@protected",De["@protected"]||!1);for(const we in De)if(X.createTermDefinition({activeCtx:Ee,localCtx:De,term:we,defined:fe,options:oe,overrideProtected:Te}),ne(De[we])&&"@context"in De[we]){const ct=De[we]["@context"];let Et=!0;if(w(ct)){const Be=te(oe.base,ct);ie.has(Be)?Et=!1:ie.add(Be)}if(Et)try{yield X.process({activeCtx:Ee.clone(),localCtx:De[we]["@context"],overrideProtected:!0,options:oe,cycles:ie})}catch{throw new q("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:De[we]["@context"],term:we})}}je.setProcessed(M,{context:Ee,events:Re})}return Ee});return function(M){return y.apply(this,arguments)}}(),X.createTermDefinition=({activeCtx:y,localCtx:M,term:A,defined:oe,options:ee,overrideProtected:Te=!1})=>{if(oe.has(A)){if(oe.get(A))return;throw new q("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:M,term:A})}let ie;if(oe.set(A,!1),M.hasOwnProperty(A)&&(ie=M[A]),"@type"===A&&ne(ie)&&"@set"===(ie["@container"]||"@set")&&X.processingMode(y,1.1)){const je=["@container","@id","@protected"],De=Object.keys(ie);if(0===De.length||De.some(ot=>!je.includes(ot)))throw new q("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:M,term:A})}else{if(X.isKeyword(A))throw new q("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:M,term:A});if(A.match(x))return void(ee.eventHandler&&R({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:A}},options:ee}));if(""===A)throw new q("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:M})}const xe=y.mappings.get(A);y.mappings.has(A)&&y.mappings.delete(A);let Re=!1;if((w(ie)||null===ie)&&(Re=!0,ie={"@id":ie}),!ne(ie))throw new q("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:M});const Le={};y.mappings.set(A,Le),Le.reverse=!1;const tt=["@container","@id","@language","@reverse","@type"];X.processingMode(y,1.1)&&tt.push("@context","@direction","@index","@nest","@prefix","@protected");for(const je in ie)if(!tt.includes(je))throw new q("Invalid JSON-LD syntax; a term definition must not contain "+je,"jsonld.SyntaxError",{code:"invalid term definition",context:M});const rt=A.indexOf(":");if(Le._termHasColon=rt>0,"@reverse"in ie){if("@id"in ie)throw new q("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:M});if("@nest"in ie)throw new q("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:M});const je=ie["@reverse"];if(!w(je))throw new q("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});if(je.match(x))return ee.eventHandler&&R({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:je}},options:ee}),void(xe?y.mappings.set(A,xe):y.mappings.delete(A));const De=j(y,je,{vocab:!0,base:!1},M,oe,ee);if(!B(De))throw new q("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});Le["@id"]=De,Le.reverse=!0}else if("@id"in ie){let je=ie["@id"];if(je&&!w(je))throw new q("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});if(null===je)Le["@id"]=null;else{if(!X.isKeyword(je)&&je.match(x))return ee.eventHandler&&R({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:je}},options:ee}),void(xe?y.mappings.set(A,xe):y.mappings.delete(A));if(je!==A){if(je=j(y,je,{vocab:!0,base:!1},M,oe,ee),!B(je)&&!X.isKeyword(je))throw new q("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});if(A.match(/(?::[^:])|\//)&&j(y,A,{vocab:!0,base:!1},M,new Map(oe).set(A,!0),ee)!==je)throw new q("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M});Le["@id"]=je,Le._prefix=Re&&!Le._termHasColon&&null!==je.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in Le))if(Le._termHasColon){const je=A.substr(0,rt);if(M.hasOwnProperty(je)&&X.createTermDefinition({activeCtx:y,localCtx:M,term:je,defined:oe,options:ee}),y.mappings.has(je)){const De=A.substr(rt+1);Le["@id"]=y.mappings.get(je)["@id"]+De}else Le["@id"]=A}else if("@type"===A)Le["@id"]=A;else{if(!("@vocab"in y))throw new q("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:M,term:A});Le["@id"]=y["@vocab"]+A}if((!0===ie["@protected"]||!0===oe.get("@protected")&&!1!==ie["@protected"])&&(y.protected[A]=!0,Le.protected=!0),oe.set(A,!0),"@type"in ie){let je=ie["@type"];if(!w(je))throw new q("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:M});if("@json"===je||"@none"===je){if(X.processingMode(y,1))throw new q(`Invalid JSON-LD syntax; an @context @type value must not be "${je}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:M})}else if("@id"!==je&&"@vocab"!==je){if(je=j(y,je,{vocab:!0,base:!1},M,oe,ee),!B(je))throw new q("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:M});if(0===je.indexOf("_:"))throw new q("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:M})}Le["@type"]=je}if("@container"in ie){const je=w(ie["@container"])?[ie["@container"]]:ie["@container"]||[],De=["@list","@set","@index","@language"];let ot=!0;const fe=je.includes("@set");if(X.processingMode(y,1.1)){if(De.push("@graph","@id","@type"),je.includes("@list")){if(1!==je.length)throw new q("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:M})}else if(je.includes("@graph")){if(je.some(we=>"@graph"!==we&&"@id"!==we&&"@index"!==we&&"@set"!==we))throw new q("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:M})}else ot&=je.length<=(fe?2:1);if(je.includes("@type")&&(Le["@type"]=Le["@type"]||"@id",!["@id","@vocab"].includes(Le["@type"])))throw new q("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:M})}else ot&=!Y(ie["@container"]),ot&=je.length<=1;if(ot&=je.every(we=>De.includes(we)),ot&=!(fe&&je.includes("@list")),!ot)throw new q("Invalid JSON-LD syntax; @context @container value must be one of the following: "+De.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:M});if(Le.reverse&&!je.every(we=>["@index","@set"].includes(we)))throw new q("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:M});Le["@container"]=je}if("@index"in ie){if(!("@container"in ie)||!Le["@container"].includes("@index"))throw new q(`Invalid JSON-LD syntax; @index without @index in @container: "${ie["@index"]}" on term "${A}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:M});if(!w(ie["@index"])||0===ie["@index"].indexOf("@"))throw new q(`Invalid JSON-LD syntax; @index must expand to an IRI: "${ie["@index"]}" on term "${A}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:M});Le["@index"]=ie["@index"]}if("@context"in ie&&(Le["@context"]=ie["@context"]),"@language"in ie&&!("@type"in ie)){let je=ie["@language"];if(null!==je&&!w(je))throw new q("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:M});null!==je&&(je=je.toLowerCase()),Le["@language"]=je}if("@prefix"in ie){if(A.match(/:|\//))throw new q("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:M});if(X.isKeyword(Le["@id"]))throw new q("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:M});if("boolean"!=typeof ie["@prefix"])throw new q("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:M});Le._prefix=!0===ie["@prefix"]}if("@direction"in ie){const je=ie["@direction"];if(null!==je&&"ltr"!==je&&"rtl"!==je)throw new q('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:M});Le["@direction"]=je}if("@nest"in ie){const je=ie["@nest"];if(!w(je)||"@nest"!==je&&0===je.indexOf("@"))throw new q("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:M});Le["@nest"]=je}const Ee=Le["@id"];if("@context"===Ee||"@preserve"===Ee)throw new q("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:M});if(xe&&xe.protected&&!Te&&(y.protected[A]=!0,Le.protected=!0,!H(xe,Le)))throw new q("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:M,term:A})},X.expandIri=(y,M,A,oe)=>j(y,M,A,void 0,void 0,oe),X.getInitialContext=y=>{const M=JSON.stringify({processingMode:y.processingMode}),A=z.get(M);if(A)return A;const oe={processingMode:y.processingMode,mappings:new Map,inverse:null,getInverse:function ee(){const Le=this;if(Le.inverse)return Le.inverse;const tt=Le.inverse={},rt=Le.fastCurieMap={},Ee={},je=(Le["@language"]||"@none").toLowerCase(),De=Le["@direction"],ot=Le.mappings,fe=[...ot.keys()].sort(se);for(const we of fe){const ct=ot.get(we);if(null===ct)continue;let Et=ct["@container"]||"@none";if(Et=[].concat(Et).sort().join(""),null===ct["@id"])continue;const Be=F(ct["@id"]);for(const W of Be){let Q=tt[W];const Ae=X.isKeyword(W);if(Q)!Ae&&!ct._termHasColon&&Ee[W].push(we);else if(tt[W]=Q={},!Ae&&!ct._termHasColon){Ee[W]=[we];const Ne={iri:W,terms:Ee[W]};W[0]in rt?rt[W[0]].push(Ne):rt[W[0]]=[Ne]}if(Q[Et]||(Q[Et]={"@language":{},"@type":{},"@any":{}}),Q=Q[Et],ie(we,Q["@any"],"@none"),ct.reverse)ie(we,Q["@type"],"@reverse");else if("@none"===ct["@type"])ie(we,Q["@any"],"@none"),ie(we,Q["@language"],"@none"),ie(we,Q["@type"],"@none");else if("@type"in ct)ie(we,Q["@type"],ct["@type"]);else if("@language"in ct&&"@direction"in ct){const Ne=ct["@language"],Me=ct["@direction"];ie(we,Q["@language"],Ne&&Me?`${Ne}_${Me}`.toLowerCase():Ne?Ne.toLowerCase():Me?`_${Me}`:"@null")}else"@language"in ct?ie(we,Q["@language"],(ct["@language"]||"@null").toLowerCase()):"@direction"in ct?ie(we,Q["@language"],ct["@direction"]?`_${ct["@direction"]}`:"@none"):De?(ie(we,Q["@language"],`_${De}`),ie(we,Q["@language"],"@none"),ie(we,Q["@type"],"@none")):(ie(we,Q["@language"],je),ie(we,Q["@language"],"@none"),ie(we,Q["@type"],"@none"))}}for(const we in rt)Te(rt,we,1);return tt},clone:function xe(){const Le={};return Le.mappings=C.clone(this.mappings),Le.clone=this.clone,Le.inverse=null,Le.getInverse=this.getInverse,Le.protected=C.clone(this.protected),this.previousContext&&(Le.previousContext=this.previousContext.clone()),Le.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(Le["@base"]=this["@base"]),"@language"in this&&(Le["@language"]=this["@language"]),"@vocab"in this&&(Le["@vocab"]=this["@vocab"]),Le},revertToPreviousContext:function Re(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===z.size&&z.clear(),z.set(M,oe),oe;function Te(Le,tt,rt){const Ee=Le[tt],je=Le[tt]={};let De,ot;for(const fe of Ee)De=fe.iri,ot=rt>=De.length?"":De[rt],ot in je?je[ot].push(fe):je[ot]=[fe];for(const fe in je)""!==fe&&Te(je,fe,rt+1)}function ie(Le,tt,rt){tt.hasOwnProperty(rt)||(tt[rt]=Le)}},X.getContextValue=(y,M,A)=>{if(null===M)return"@context"===A?void 0:null;if(y.mappings.has(M)){const oe=y.mappings.get(M);if(E(A))return oe;if(oe.hasOwnProperty(A))return oe[A]}return"@language"===A&&A in y||"@direction"===A&&A in y?y[A]:"@context"!==A?null:void 0},X.processingMode=(y,M)=>M.toString()>="1.1"?!y.processingMode||y.processingMode>="json-ld-"+M.toString():"json-ld-1.0"===y.processingMode,X.isKeyword=y=>{if(!w(y)||"@"!==y[0])return!1;switch(y){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},3120:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const{parseLinkHeader:C,buildHeaders:q}=T(9420),{LINK_HEADER_CONTEXT:Y}=T(5315),ne=T(262),w=T(4808),{prependBase:E}=T(2051),B=/(^|(\r\n))link:/i;Ge.exports=({secure:te,headers:R={},xhr:de}={headers:{}})=>{return R=q(R),(new w).wrapLoader(F);function F(z){return se.apply(this,arguments)}function se(){return se=J(function*(z){if(0!==z.indexOf("http:")&&0!==z.indexOf("https:"))throw new ne('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:z});if(te&&0!==z.indexOf("https"))throw new ne('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:z});let $;try{$=yield function K(te,R,de){const x=new(te=te||XMLHttpRequest);return new Promise((F,se)=>{x.onload=()=>F(x),x.onerror=z=>se(z),x.open("GET",R,!0);for(const z in de)x.setRequestHeader(z,de[z]);x.send()})}(de,z,R)}catch(M){throw new ne("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:z,cause:M})}if($.status>=400)throw new ne("URL could not be dereferenced: "+$.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:z,httpStatusCode:$.status});let X={contextUrl:null,documentUrl:z,document:$.response},j=null;const H=$.getResponseHeader("Content-Type");let y;if(B.test($.getAllResponseHeaders())&&(y=$.getResponseHeader("Link")),y&&"application/ld+json"!==H){const M=C(y),A=M[Y];if(Array.isArray(A))throw new ne("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:z});A&&(X.contextUrl=A.target),j=M.alternate,j&&"application/ld+json"==j.type&&!(H||"").match(/^application\/(\w*\+)?json$/)&&(X=yield F(E(z,j.target)))}return X}),se.apply(this,arguments)}}},2585:(Ge,ye,T)=>{"use strict";const J=T(262),{isArray:C}=T(2831),{asArray:q}=T(9420),Y={};function ne({event:E,handlers:B}){let K=!0;for(let te=0;K&&te<B.length;++te){K=!1;const R=B[te];if(C(R))K=ne({event:E,handlers:R});else if("function"==typeof R)R({event:E,next:()=>{K=!0}});else{if("object"!=typeof R)throw new J("Invalid event handler.","jsonld.InvalidEventHandler",{event:E});E.code in R?R[E.code]({event:E,next:()=>{K=!0}}):K=!0}}return K}Ge.exports=Y,Y.defaultEventHandler=null,Y.setupEventHandler=({options:E={}})=>{const B=[].concat(E.safe?Y.safeEventHandler:[],E.eventHandler?q(E.eventHandler):[],Y.defaultEventHandler?Y.defaultEventHandler:[]);return 0===B.length?null:B},Y.handleEvent=({event:E,options:B})=>{ne({event:E,handlers:B.eventHandler})};const w=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);Y.safeEventHandler=function({event:B,next:K}){if("warning"===B.level&&w.has(B.code))throw new J("Safe mode validation error.","jsonld.ValidationError",{event:B});K()},Y.logEventHandler=function({event:B,next:K}){console.log(`EVENT: ${B.message}`,{event:B}),K()},Y.logWarningEventHandler=function({event:B,next:K}){"warning"===B.level&&console.warn(`WARNING: ${B.message}`,{event:B}),K()},Y.unhandledEventHandler=function({event:B}){throw new J("No handler for event.","jsonld.UnhandledEvent",{event:B})},Y.setDefaultEventHandler=function({eventHandler:E}={}){Y.defaultEventHandler=E?q(E):null}},7336:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(262),{isArray:q,isObject:Y,isEmptyObject:ne,isString:w,isUndefined:E}=T(2831),{isList:B,isValue:K,isGraph:te,isSubject:R}=T(4209),{expandIri:de,getContextValue:x,isKeyword:F,process:se,processingMode:z}=T(429),{isAbsolute:$}=T(2051),{REGEX_BCP47:X,REGEX_KEYWORD:j,addValue:H,asArray:y,getValues:M,validateTypeValue:A}=T(9420),{handleEvent:oe}=T(2585),ee={};function Te({value:Ee,count:je,options:De}){if(0===je||"@value"in Ee||"@list"in Ee||1===je&&"@id"in Ee){if(De.eventHandler){let ot,fe;0===je?(ot="empty object",fe="Dropping empty object."):"@value"in Ee?(ot="object with only @value",fe="Dropping object with only @value."):"@list"in Ee?(ot="object with only @list",fe="Dropping object with only @list."):1===je&&"@id"in Ee&&(ot="object with only @id",fe="Dropping object with only @id."),oe({event:{type:["JsonLdEvent"],code:ot,level:"warning",message:fe,details:{value:Ee}},options:De})}return null}return Ee}function ie(Ee){return xe.apply(this,arguments)}function xe(){return(xe=J(function*({activeCtx:Ee,activeProperty:je,expandedActiveProperty:De,element:ot,expandedParent:fe,options:we={},insideList:ct,typeKey:Et,typeScopedContext:Be}){const W=Object.keys(ot).sort(),Q=[];let Ae;const Ne=ot[Et]&&"@json"===de(Ee,q(ot[Et])?ot[Et][0]:ot[Et],{vocab:!0},{...we,typeExpansion:!0});for(const Me of W){let ut,nt=ot[Me];if("@context"===Me)continue;const ft=de(Ee,Me,{vocab:!0},we);if(null===ft||!$(ft)&&!F(ft)){we.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:Me,expandedProperty:ft}},options:we});continue}if(F(ft)){if("@reverse"===De)throw new C("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:nt});if(ft in fe&&"@included"!==ft&&"@type"!==ft)throw new C("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:ft})}if("@id"===ft){if(!w(nt)){if(!we.isFrame)throw new C('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:nt});if(Y(nt)){if(!ne(nt))throw new C('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:nt})}else{if(!q(nt))throw new C('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:nt});if(!nt.every(O=>w(O)))throw new C('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:nt})}}H(fe,"@id",y(nt).map(O=>{if(w(O)){const ge=de(Ee,O,{base:!0},we);return we.eventHandler&&(null===ge?oe(null===O?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:O}},options:we}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:O}},options:we}):$(ge)||oe({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:O,expandedId:ge}},options:we})),ge}return O}),{propertyIsArray:we.isFrame});continue}if("@type"===ft){Y(nt)&&(nt=Object.fromEntries(Object.entries(nt).map(([O,ge])=>[de(Be,O,{vocab:!0}),y(ge).map($e=>de(Be,$e,{base:!0,vocab:!0},{...we,typeExpansion:!0}))]))),A(nt,we.isFrame),H(fe,"@type",y(nt).map(O=>{if(w(O)){const ge=de(Be,O,{base:!0,vocab:!0},{...we,typeExpansion:!0});return"@json"!==ge&&!$(ge)&&we.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:O}},options:we}),ge}return O}),{propertyIsArray:!!we.isFrame});continue}if("@included"===ft&&z(Ee,1.1)){const O=y(yield ee.expand({activeCtx:Ee,activeProperty:je,element:nt,options:we}));if(!O.every(ge=>R(ge)))throw new C("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:nt});H(fe,"@included",O,{propertyIsArray:!0});continue}if("@graph"===ft&&!Y(nt)&&!q(nt))throw new C('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:nt});if("@value"===ft){Ae=nt,Ne&&z(Ee,1.1)?fe["@value"]=nt:H(fe,"@value",nt,{propertyIsArray:we.isFrame});continue}if("@language"===ft){if(null===nt)continue;if(!w(nt)&&!we.isFrame)throw new C('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:nt});nt=y(nt).map(O=>w(O)?O.toLowerCase():O);for(const O of nt)w(O)&&!O.match(X)&&we.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:O}},options:we});H(fe,"@language",nt,{propertyIsArray:we.isFrame});continue}if("@direction"===ft){if(!w(nt)&&!we.isFrame)throw new C('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:nt});nt=y(nt);for(const O of nt)if(w(O)&&"ltr"!==O&&"rtl"!==O)throw new C('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:nt});H(fe,"@direction",nt,{propertyIsArray:we.isFrame});continue}if("@index"===ft){if(!w(nt))throw new C('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:nt});H(fe,"@index",nt);continue}if("@reverse"===ft){if(!Y(nt))throw new C('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:nt});if(ut=yield ee.expand({activeCtx:Ee,activeProperty:"@reverse",element:nt,options:we}),"@reverse"in ut)for(const ge in ut["@reverse"])H(fe,ge,ut["@reverse"][ge],{propertyIsArray:!0});let O=fe["@reverse"]||null;for(const ge in ut){if("@reverse"===ge)continue;null===O&&(O=fe["@reverse"]={}),H(O,ge,[],{propertyIsArray:!0});const $e=ut[ge];for(let ve=0;ve<$e.length;++ve){const Ve=$e[ve];if(K(Ve)||B(Ve))throw new C('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ut});H(O,ge,Ve,{propertyIsArray:!0})}}continue}if("@nest"===ft){Q.push(Me);continue}let Fe=Ee;const V=x(Ee,Me,"@context");E(V)||(Fe=yield se({activeCtx:Ee,localCtx:V,propagate:!0,overrideProtected:!0,options:we}));const I=x(Ee,Me,"@container")||[];if(I.includes("@language")&&Y(nt))ut=Le(Fe,nt,x(Fe,Me,"@direction"),we);else if(I.includes("@index")&&Y(nt)){const O=I.includes("@graph"),ge=x(Fe,Me,"@index")||"@index",$e="@index"!==ge&&de(Ee,ge,{vocab:!0},we);ut=yield tt({activeCtx:Fe,options:we,activeProperty:Me,value:nt,asGraph:O,indexKey:ge,propertyIndex:$e})}else if(I.includes("@id")&&Y(nt)){const O=I.includes("@graph");ut=yield tt({activeCtx:Fe,options:we,activeProperty:Me,value:nt,asGraph:O,indexKey:"@id"})}else if(I.includes("@type")&&Y(nt))ut=yield tt({activeCtx:Fe.revertToPreviousContext(),options:we,activeProperty:Me,value:nt,asGraph:!1,indexKey:"@type"});else{const O="@list"===ft;if(O||"@set"===ft){let ge=je;O&&"@graph"===De&&(ge=null),ut=yield ee.expand({activeCtx:Fe,activeProperty:ge,element:nt,options:we,insideList:O})}else ut="@json"===x(Ee,Me,"@type")?{"@type":"@json","@value":nt}:yield ee.expand({activeCtx:Fe,activeProperty:Me,element:nt,options:we,insideList:!1})}if(null!==ut||"@value"===ft){if("@list"!==ft&&!B(ut)&&I.includes("@list")&&(ut={"@list":y(ut)}),I.includes("@graph")&&!I.some(O=>"@id"===O||"@index"===O)){if(ut=y(ut),we.isFrame||(ut=ut.filter(O=>null!==Te({value:O,count:Object.keys(O).length,options:we}))),0===ut.length)continue;ut=ut.map(O=>({"@graph":y(O)}))}if(Fe.mappings.has(Me)&&Fe.mappings.get(Me).reverse){const O=fe["@reverse"]=fe["@reverse"]||{};ut=y(ut);for(let ge=0;ge<ut.length;++ge){const $e=ut[ge];if(K($e)||B($e))throw new C('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:ut});H(O,ft,$e,{propertyIsArray:!0})}continue}H(fe,ft,ut,{propertyIsArray:!0})}}if("@value"in fe&&("@json"!==fe["@type"]||!z(Ee,1.1))&&(Y(Ae)||q(Ae))&&!we.isFrame)throw new C('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:Ae});for(const Me of Q){const nt=q(ot[Me])?ot[Me]:[ot[Me]];for(const ut of nt){if(!Y(ut)||Object.keys(ut).some(ft=>"@value"===de(Ee,ft,{vocab:!0},we)))throw new C("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:ut});yield ie({activeCtx:Ee,activeProperty:je,expandedActiveProperty:De,element:ut,expandedParent:fe,options:we,insideList:ct,typeScopedContext:Be,typeKey:Et})}}})).apply(this,arguments)}function Re({activeCtx:Ee,activeProperty:je,value:De,options:ot}){if(null==De)return null;const fe=de(Ee,je,{vocab:!0},ot);if("@id"===fe)return de(Ee,De,{base:!0},ot);if("@type"===fe)return de(Ee,De,{vocab:!0,base:!0},{...ot,typeExpansion:!0});const we=x(Ee,je,"@type");if(("@id"===we||"@graph"===fe)&&w(De)){const Et=de(Ee,De,{base:!0},ot);return null===Et&&De.match(j)&&ot.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:je}},options:ot}),{"@id":Et}}if("@vocab"===we&&w(De))return{"@id":de(Ee,De,{vocab:!0,base:!0},ot)};if(F(fe))return De;const ct={};if(we&&!["@id","@vocab","@none"].includes(we))ct["@type"]=we;else if(w(De)){const Et=x(Ee,je,"@language");null!==Et&&(ct["@language"]=Et);const Be=x(Ee,je,"@direction");null!==Be&&(ct["@direction"]=Be)}return["boolean","number","string"].includes(typeof De)||(De=De.toString()),ct["@value"]=De,ct}function Le(Ee,je,De,ot){const fe=[],we=Object.keys(je).sort();for(const ct of we){const Et=de(Ee,ct,{vocab:!0},ot);let Be=je[ct];q(Be)||(Be=[Be]);for(const W of Be){if(null===W)continue;if(!w(W))throw new C("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:je});const Q={"@value":W};"@none"!==Et&&(ct.match(X)||ot.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:ct}},options:ot}),Q["@language"]=ct.toLowerCase()),De&&(Q["@direction"]=De),fe.push(Q)}}return fe}function tt(Ee){return rt.apply(this,arguments)}function rt(){return(rt=J(function*({activeCtx:Ee,options:je,activeProperty:De,value:ot,asGraph:fe,indexKey:we,propertyIndex:ct}){const Et=[],Be=Object.keys(ot).sort(),W="@type"===we;for(let Q of Be){if(W){const Me=x(Ee,Q,"@context");E(Me)||(Ee=yield se({activeCtx:Ee,localCtx:Me,propagate:!1,options:je}))}let Ne,Ae=ot[Q];q(Ae)||(Ae=[Ae]),Ae=yield ee.expand({activeCtx:Ee,activeProperty:De,element:Ae,options:je,insideList:!1,insideIndex:!0}),Ne=ct?"@none"===Q?"@none":Re({activeCtx:Ee,activeProperty:we,value:Q,options:je}):de(Ee,Q,{vocab:!0},je),"@id"===we?Q=de(Ee,Q,{base:!0},je):W&&(Q=Ne);for(let Me of Ae){if(fe&&!te(Me)&&(Me={"@graph":[Me]}),"@type"===we)"@none"===Ne||(Me["@type"]=Me["@type"]?[Q].concat(Me["@type"]):[Q]);else{if(K(Me)&&!["@language","@type","@index"].includes(we))throw new C(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${we}".`,"jsonld.SyntaxError",{code:"invalid value object",value:Me});ct?"@none"!==Ne&&H(Me,ct,Ne,{propertyIsArray:!0,prependValue:!0}):"@none"!==Ne&&!(we in Me)&&(Me[we]=Q)}Et.push(Me)}}return Et})).apply(this,arguments)}Ge.exports=ee,ee.expand=function(){var Ee=J(function*({activeCtx:je,activeProperty:De=null,element:ot,options:fe={},insideList:we=!1,insideIndex:ct=!1,typeScopedContext:Et=null}){if(null==ot)return null;if("@default"===De&&(fe=Object.assign({},fe,{isFrame:!1})),!q(ot)&&!Y(ot))return we||null!==De&&"@graph"!==de(je,De,{vocab:!0},fe)?Re({activeCtx:je,activeProperty:De,value:ot,options:fe}):(fe.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:ot}},options:fe}),null);if(q(ot)){let ut=[];const ft=x(je,De,"@container")||[];we=we||ft.includes("@list");for(let Fe=0;Fe<ot.length;++Fe){let V=yield ee.expand({activeCtx:je,activeProperty:De,element:ot[Fe],options:fe,insideIndex:ct,typeScopedContext:Et});we&&q(V)&&(V={"@list":V}),null!==V&&(q(V)?ut=ut.concat(V):ut.push(V))}return ut}const Be=de(je,De,{vocab:!0},fe),W=x(je,De,"@context");Et=Et||(je.previousContext?je:null);let Q=Object.keys(ot).sort(),Ae=!ct;if(Ae&&Et&&Q.length<=2&&!Q.includes("@context"))for(const ut of Q){const ft=de(Et,ut,{vocab:!0},fe);if("@value"===ft){Ae=!1,je=Et;break}if("@id"===ft&&1===Q.length){Ae=!1;break}}Ae&&(je=je.revertToPreviousContext()),E(W)||(je=yield se({activeCtx:je,localCtx:W,propagate:!0,overrideProtected:!0,options:fe})),"@context"in ot&&(je=yield se({activeCtx:je,localCtx:ot["@context"],options:fe})),Et=je;let Ne=null;for(const ut of Q)if("@type"===de(je,ut,{vocab:!0},fe)){Ne=Ne||ut;const Fe=ot[ut],V=Array.isArray(Fe)?Fe.length>1?Fe.slice().sort():Fe:[Fe];for(const I of V){const O=x(Et,I,"@context");E(O)||(je=yield se({activeCtx:je,localCtx:O,options:fe,propagate:!1}))}}let Me={};yield ie({activeCtx:je,activeProperty:De,expandedActiveProperty:Be,element:ot,expandedParent:Me,options:fe,insideList:we,typeKey:Ne,typeScopedContext:Et}),Q=Object.keys(Me);let nt=Q.length;if("@value"in Me){if("@type"in Me&&("@language"in Me||"@direction"in Me))throw new C('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Me});let ut=nt-1;if("@type"in Me&&(ut-=1),"@index"in Me&&(ut-=1),"@language"in Me&&(ut-=1),"@direction"in Me&&(ut-=1),0!==ut)throw new C('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:Me});const ft=null===Me["@value"]?[]:y(Me["@value"]),Fe=M(Me,"@type");if(!z(je,1.1)||!Fe.includes("@json")||1!==Fe.length)if(0===ft.length)fe.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:Me}},options:fe}),Me=null;else{if(!ft.every(V=>w(V)||ne(V))&&"@language"in Me)throw new C("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:Me});if(!Fe.every(V=>$(V)&&!(w(V)&&0===V.indexOf("_:"))||ne(V)))throw new C('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:Me})}}else if("@type"in Me&&!q(Me["@type"]))Me["@type"]=[Me["@type"]];else if("@set"in Me||"@list"in Me){if(nt>1&&(2!==nt||!("@index"in Me)))throw new C('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:Me});"@set"in Me&&(Me=Me["@set"],Q=Object.keys(Me),nt=Q.length)}else 1===nt&&"@language"in Me&&(fe.eventHandler&&oe({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:Me}},options:fe}),Me=null);return Y(Me)&&!fe.keepFreeFloatingNodes&&!we&&(null===De||"@graph"===Be||(x(je,De,"@container")||[]).includes("@graph"))&&(Me=Te({value:Me,count:nt,options:fe})),Me});return function(je){return Ee.apply(this,arguments)}}()},9392:(Ge,ye,T)=>{"use strict";const{isSubjectReference:J}=T(4209),{createMergedNodeMap:C}=T(5096),q={};Ge.exports=q,q.flatten=Y=>{const ne=C(Y),w=[],E=Object.keys(ne).sort();for(let B=0;B<E.length;++B){const K=ne[E[B]];J(K)||w.push(K)}return w}},7031:(Ge,ye,T)=>{"use strict";const{isKeyword:J}=T(429),C=T(4209),q=T(2831),Y=T(9420),ne=T(2051),w=T(262),{createNodeMap:E,mergeNodeMapGraphs:B}=T(5096),K={};function te(y){const M={};for(const A in y)void 0!==y[A]&&(M["@"+A]=[y[A]]);return[M]}function R(y,M,A){for(let oe=A.length-1;oe>=0;--oe){const ee=A[oe];if(ee.graph===M&&ee.subject["@id"]===y["@id"])return!0}return!1}function de(y,M,A){const oe="@"+A;let ee=oe in y?y[oe][0]:M[A];if("embed"===A)if(!0===ee)ee="@once";else if(!1===ee)ee="@never";else if("@always"!==ee&&"@never"!==ee&&"@link"!==ee&&"@first"!==ee&&"@last"!==ee&&"@once"!==ee)throw new w("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:y});return ee}function x(y){if(!q.isArray(y)||1!==y.length||!q.isObject(y[0]))throw new w("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:y});if("@id"in y[0])for(const M of Y.asArray(y[0]["@id"]))if(!q.isObject(M)&&!ne.isAbsolute(M)||q.isString(M)&&0===M.indexOf("_:"))throw new w("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:y});if("@type"in y[0])for(const M of Y.asArray(y[0]["@type"]))if(!q.isObject(M)&&!ne.isAbsolute(M)&&"@json"!==M||q.isString(M)&&0===M.indexOf("_:"))throw new w("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:y})}function se(y,M,A,oe){let ee=!0,Te=!1;for(const ie in A){let xe=!1;const Re=Y.getValues(M,ie),Le=0===Y.getValues(A,ie).length;if("@id"===ie){if(q.isEmptyObject(A["@id"][0]||{})?xe=!0:A["@id"].length>=0&&(xe=A["@id"].includes(Re[0])),!oe.requireAll)return xe}else if("@type"===ie){if(ee=!1,Le){if(Re.length>0)return!1;xe=!0}else if(1===A["@type"].length&&q.isEmptyObject(A["@type"][0]))xe=Re.length>0;else for(const tt of A["@type"])xe=!(!q.isObject(tt)||!("@default"in tt))||xe||Re.some(rt=>rt===tt);if(!oe.requireAll)return xe}else{if(J(ie))continue;{const tt=Y.getValues(A,ie)[0];let rt=!1;if(tt&&(x([tt]),rt="@default"in tt),ee=!1,0===Re.length&&rt)continue;if(Re.length>0&&Le)return!1;if(void 0===tt){if(Re.length>0)return!1;xe=!0}else if(C.isList(tt)){const Ee=tt["@list"][0];if(C.isList(Re[0])){const je=Re[0]["@list"];C.isValue(Ee)?xe=je.some(De=>H(Ee,De)):(C.isSubject(Ee)||C.isSubjectReference(Ee))&&(xe=je.some(De=>j(y,Ee,De,oe)))}}else xe=C.isValue(tt)?Re.some(Ee=>H(tt,Ee)):C.isSubjectReference(tt)?Re.some(Ee=>j(y,tt,Ee,oe)):!!q.isObject(tt)&&Re.length>0}}if(!xe&&oe.requireAll)return!1;Te=Te||xe}return ee||Te}function z(y,M){const A=y.uniqueEmbeds[y.graph],oe=A[M],ee=oe.parent,Te=oe.property,ie={"@id":M};if(q.isArray(ee)){for(let Re=0;Re<ee.length;++Re)if(Y.compareValues(ee[Re],ie)){ee[Re]=ie;break}}else{const Re=q.isArray(ee[Te]);Y.removeValue(ee,Te,ie,{propertyIsArray:Re}),Y.addValue(ee,Te,ie,{propertyIsArray:Re})}const xe=Re=>{const Le=Object.keys(A);for(const tt of Le)tt in A&&q.isObject(A[tt].parent)&&A[tt].parent["@id"]===Re&&(delete A[tt],xe(tt))};xe(M)}function $(y,M){if(q.isArray(y))return y.map(A=>$(A,M));if(q.isObject(y)){if("@preserve"in y)return y["@preserve"][0];if(C.isValue(y))return y;if(C.isList(y))return y["@list"]=$(y["@list"],M),y;if("@id"in y){const A=y["@id"];if(M.link.hasOwnProperty(A)){const oe=M.link[A].indexOf(y);if(-1!==oe)return M.link[A][oe];M.link[A].push(y)}else M.link[A]=[y]}for(const A in y)"@id"===A&&M.bnodesToClear.includes(y[A])?delete y["@id"]:y[A]=$(y[A],M)}return y}function X(y,M,A){q.isObject(y)?Y.addValue(y,M,A,{propertyIsArray:!0}):y.push(A)}function j(y,M,A,oe){if(!("@id"in A))return!1;const ee=y.subjects[A["@id"]];return ee&&se(y,ee,M,oe)}function H(y,M){const A=M["@value"],oe=M["@type"],ee=M["@language"],Te=y["@value"]?q.isArray(y["@value"])?y["@value"]:[y["@value"]]:[],ie=y["@type"]?q.isArray(y["@type"])?y["@type"]:[y["@type"]]:[],xe=y["@language"]?q.isArray(y["@language"])?y["@language"]:[y["@language"]]:[];return 0===Te.length&&0===ie.length&&0===xe.length||!(!Te.includes(A)&&!q.isEmptyObject(Te[0])||!(!oe&&0===ie.length||ie.includes(oe)||oe&&q.isEmptyObject(ie[0]))||!(!ee&&0===xe.length||xe.includes(ee)||ee&&q.isEmptyObject(xe[0])))}Ge.exports=K,K.frameMergedOrDefault=(y,M,A)=>{const oe={options:A,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},ee=new Y.IdentifierIssuer("_:b");E(y,oe.graphMap,"@default",ee),A.merged&&(oe.graphMap["@merged"]=B(oe.graphMap),oe.graph="@merged"),oe.subjects=oe.graphMap[oe.graph];const Te=[];return K.frame(oe,Object.keys(oe.subjects).sort(),M,Te),A.pruneBlankNodeIdentifiers&&(A.bnodesToClear=Object.keys(oe.bnodeMap).filter(ie=>1===oe.bnodeMap[ie].length)),A.link={},$(Te,A)},K.frame=(y,M,A,oe,ee=null)=>{x(A);const Te=y.options,ie={embed:de(A=A[0],Te,"embed"),explicit:de(A,Te,"explicit"),requireAll:de(A,Te,"requireAll")};y.link.hasOwnProperty(y.graph)||(y.link[y.graph]={});const xe=y.link[y.graph],Re=function F(y,M,A,oe){const ee={};for(const Te of M){const ie=y.graphMap[y.graph][Te];se(y,ie,A,oe)&&(ee[Te]=ie)}return ee}(y,M,A,ie),Le=Object.keys(Re).sort();for(const tt of Le){const rt=Re[tt];if(null===ee?y.uniqueEmbeds={[y.graph]:{}}:y.uniqueEmbeds[y.graph]=y.uniqueEmbeds[y.graph]||{},"@link"===ie.embed&&tt in xe){X(oe,ee,xe[tt]);continue}const Ee={"@id":tt};if(0===tt.indexOf("_:")&&Y.addValue(y.bnodeMap,tt,Ee,{propertyIsArray:!0}),xe[tt]=Ee,("@first"===ie.embed||"@last"===ie.embed)&&y.is11)throw new w("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:A});if(y.embedded||!y.uniqueEmbeds[y.graph].hasOwnProperty(tt)){if(y.embedded&&("@never"===ie.embed||R(rt,y.graph,y.subjectStack))){X(oe,ee,Ee);continue}if(y.embedded&&("@first"==ie.embed||"@once"==ie.embed)&&y.uniqueEmbeds[y.graph].hasOwnProperty(tt)){X(oe,ee,Ee);continue}if("@last"===ie.embed&&tt in y.uniqueEmbeds[y.graph]&&z(y,tt),y.uniqueEmbeds[y.graph][tt]={parent:oe,property:ee},y.subjectStack.push({subject:rt,graph:y.graph}),tt in y.graphMap){let je=!1,De=null;"@graph"in A?(De=A["@graph"][0],je=!("@merged"===tt||"@default"===tt),q.isObject(De)||(De={})):(je="@merged"!==y.graph,De={}),je&&K.frame({...y,graph:tt,embedded:!1},Object.keys(y.graphMap[tt]).sort(),[De],Ee,"@graph")}"@included"in A&&K.frame({...y,embedded:!1},M,A["@included"],Ee,"@included");for(const je of Object.keys(rt).sort())if(J(je)){if(Ee[je]=Y.clone(rt[je]),"@type"===je)for(const De of rt["@type"])0===De.indexOf("_:")&&Y.addValue(y.bnodeMap,De,Ee,{propertyIsArray:!0})}else if(!ie.explicit||je in A)for(const De of rt[je]){const ot=je in A?A[je]:te(ie);if(C.isList(De)){const fe=A[je]&&A[je][0]&&A[je][0]["@list"]?A[je][0]["@list"]:te(ie),we={"@list":[]};X(Ee,je,we);const ct=De["@list"];for(const Et of ct)C.isSubjectReference(Et)?K.frame({...y,embedded:!0},[Et["@id"]],fe,we,"@list"):X(we,"@list",Y.clone(Et))}else C.isSubjectReference(De)?K.frame({...y,embedded:!0},[De["@id"]],ot,Ee,je):H(ot[0],De)&&X(Ee,je,Y.clone(De))}for(const je of Object.keys(A).sort()){if("@type"===je){if(!q.isObject(A[je][0])||!("@default"in A[je][0]))continue}else if(J(je))continue;const De=A[je][0]||{};if(!de(De,Te,"omitDefault")&&!(je in Ee)){let fe="@null";"@default"in De&&(fe=Y.clone(De["@default"])),q.isArray(fe)||(fe=[fe]),Ee[je]=[{"@preserve":fe}]}}for(const je of Object.keys(A["@reverse"]||{}).sort()){const De=A["@reverse"][je];for(const ot of Object.keys(y.subjects))Y.getValues(y.subjects[ot],je).some(we=>we["@id"]===tt)&&(Ee["@reverse"]=Ee["@reverse"]||{},Y.addValue(Ee["@reverse"],je,[],{propertyIsArray:!0}),K.frame({...y,embedded:!0},[ot],De,Ee["@reverse"][je],ee))}X(oe,ee,Ee),y.subjectStack.pop()}}},K.cleanupNull=(y,M)=>{if(q.isArray(y))return y.map(oe=>K.cleanupNull(oe,M)).filter(oe=>oe);if("@null"===y)return null;if(q.isObject(y)){if("@id"in y){const A=y["@id"];if(M.link.hasOwnProperty(A)){const oe=M.link[A].indexOf(y);if(-1!==oe)return M.link[A][oe];M.link[A].push(y)}else M.link[A]=[y]}for(const A in y)y[A]=K.cleanupNull(y[A],M)}return y}},4814:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(262),q=T(4209),Y=T(2831),{REGEX_BCP47:ne,addValue:w}=T(9420),{handleEvent:E}=T(2585),{RDF_LIST:B,RDF_FIRST:K,RDF_REST:te,RDF_NIL:R,RDF_TYPE:de,RDF_JSON_LITERAL:x,XSD_BOOLEAN:F,XSD_DOUBLE:se,XSD_INTEGER:z,XSD_STRING:$}=T(5315),X={};function j(H,y,M,A){if(H.termType.endsWith("Node"))return{"@id":H.value};const oe={"@value":H.value};if(H.language)H.language.match(ne)||A.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:H.language}},options:A}),oe["@language"]=H.language;else{let ee=H.datatype.value;if(ee||(ee=$),ee===x){ee="@json";try{oe["@value"]=JSON.parse(oe["@value"])}catch(Te){throw new C("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:oe["@value"],cause:Te})}}if(y){if(ee===F)"true"===oe["@value"]?oe["@value"]=!0:"false"===oe["@value"]&&(oe["@value"]=!1);else if(Y.isNumeric(oe["@value"]))if(ee===z){const Te=parseInt(oe["@value"],10);Te.toFixed(0)===oe["@value"]&&(oe["@value"]=Te)}else ee===se&&(oe["@value"]=parseFloat(oe["@value"]));[F,z,se,$].includes(ee)||(oe["@type"]=ee)}else if("i18n-datatype"===M&&ee.startsWith("https://www.w3.org/ns/i18n#")){const[,Te,ie]=ee.split(/[#_]/);Te.length>0&&(oe["@language"]=Te,Te.match(ne)||A.eventHandler&&E({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Te}},options:A})),oe["@direction"]=ie}else ee!==$&&(oe["@type"]=ee)}return oe}Ge.exports=X,X.fromRDF=function(){var H=J(function*(y,M){const{useRdfType:A=!1,useNativeTypes:oe=!1,rdfDirection:ee=null}=M,Te={},ie={"@default":Te},xe={};if(ee){if("compound-literal"===ee)throw new C("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:ee});if("i18n-datatype"!==ee)throw new C("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:ee})}for(const tt of y){const rt="DefaultGraph"===tt.graph.termType?"@default":tt.graph.value;rt in ie||(ie[rt]={}),"@default"!==rt&&!(rt in Te)&&(Te[rt]={"@id":rt});const Ee=ie[rt],je=tt.subject.value,De=tt.predicate.value,ot=tt.object;je in Ee||(Ee[je]={"@id":je});const fe=Ee[je],we=ot.termType.endsWith("Node");if(we&&!(ot.value in Ee)&&(Ee[ot.value]={"@id":ot.value}),De===de&&!A&&we){w(fe,"@type",ot.value,{propertyIsArray:!0});continue}const ct=j(ot,oe,ee,M);if(w(fe,De,ct,{propertyIsArray:!0}),we)if(ot.value===R){const Et=Ee[ot.value];"usages"in Et||(Et.usages=[]),Et.usages.push({node:fe,property:De,value:ct})}else xe[ot.value]=!(ot.value in xe)&&{node:fe,property:De,value:ct}}for(const tt in ie){const rt=ie[tt];if(!(R in rt))continue;const Ee=rt[R];if(Ee.usages){for(let je of Ee.usages){let De=je.node,ot=je.property,fe=je.value;const we=[],ct=[];let Et=Object.keys(De).length;for(;ot===te&&Y.isObject(xe[De["@id"]])&&Y.isArray(De[K])&&1===De[K].length&&Y.isArray(De[te])&&1===De[te].length&&(3===Et||4===Et&&Y.isArray(De["@type"])&&1===De["@type"].length&&De["@type"][0]===B)&&(we.push(De[K][0]),ct.push(De["@id"]),je=xe[De["@id"]],De=je.node,ot=je.property,fe=je.value,Et=Object.keys(De).length,q.isBlankNode(De)););delete fe["@id"],fe["@list"]=we.reverse();for(const Be of ct)delete rt[Be]}delete Ee.usages}}const Re=[],Le=Object.keys(Te).sort();for(const tt of Le){const rt=Te[tt];if(tt in ie){const Ee=rt["@graph"]=[],je=ie[tt],De=Object.keys(je).sort();for(const ot of De){const fe=je[ot];q.isSubjectReference(fe)||Ee.push(fe)}}q.isSubjectReference(rt)||Re.push(rt)}return Re});return function(y,M){return H.apply(this,arguments)}}()},4209:(Ge,ye,T)=>{"use strict";const J=T(2831),C={};Ge.exports=C,C.isSubject=q=>!(!J.isObject(q)||"@value"in q||"@set"in q||"@list"in q)&&(Object.keys(q).length>1||!("@id"in q)),C.isSubjectReference=q=>J.isObject(q)&&1===Object.keys(q).length&&"@id"in q,C.isValue=q=>J.isObject(q)&&"@value"in q,C.isList=q=>J.isObject(q)&&"@list"in q,C.isGraph=q=>J.isObject(q)&&"@graph"in q&&1===Object.keys(q).filter(Y=>"@id"!==Y&&"@index"!==Y).length,C.isSimpleGraph=q=>C.isGraph(q)&&!("@id"in q),C.isBlankNode=q=>{if(J.isObject(q)){if("@id"in q){const Y=q["@id"];return!J.isString(Y)||0===Y.indexOf("_:")}return 0===Object.keys(q).length||!("@value"in q||"@set"in q||"@list"in q)}return!1}},2130:(Ge,ye,T)=>{var J=T(9293).default;const C=T(1224),q=T(8666),Y=T(9420),ne=T(7839),w=Y.IdentifierIssuer,E=T(262),B=T(3052),K=T(5426),{expand:te}=T(7336),{flatten:R}=T(9392),{fromRDF:de}=T(4814),{toRDF:x}=T(6397),{frameMergedOrDefault:F,cleanupNull:se}=T(7031),{isArray:z,isObject:$,isString:X}=T(2831),{isSubjectReference:j}=T(4209),{expandIri:H,getInitialContext:y,process:M,processingMode:A}=T(429),{compact:oe,compactIri:ee}=T(3763),{createNodeMap:Te,createMergedNodeMap:ie,mergeNodeMaps:xe}=T(5096),{logEventHandler:Re,logWarningEventHandler:Le,safeEventHandler:tt,setDefaultEventHandler:rt,setupEventHandler:Ee,strictEventHandler:je,unhandledEventHandler:De}=T(2585),ot=function(we){const ct={},Be=new B({max:100});function W(Q,{documentLoader:Ae=we.documentLoader,...Ne}){if(Q&&"compactionMap"in Q)throw new E('"compactionMap" not supported.',"jsonld.OptionsError");if(Q&&"expansionMap"in Q)throw new E('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:Ae},Ne,Q,{eventHandler:Ee({options:Q})})}return we.compact=function(){var Q=J(function*(Ae,Ne,Me){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===Ne)throw new E("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===Ae)return null;let nt;(Me=W(Me,{base:X(Ae)?Ae:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new w("_:b"),contextResolver:new ne({sharedCache:Be})})).link&&(Me.skipExpansion=!0),Me.compactToRelative||delete Me.base,nt=Me.skipExpansion?Ae:yield we.expand(Ae,Me);const ut=yield we.processContext(y(Me),Ne,Me);let ft=yield oe({activeCtx:ut,element:nt,options:Me});Me.compactArrays&&!Me.graph&&z(ft)?1===ft.length?ft=ft[0]:0===ft.length&&(ft={}):Me.graph&&$(ft)&&(ft=[ft]),$(Ne)&&"@context"in Ne&&(Ne=Ne["@context"]),Ne=Y.clone(Ne),z(Ne)||(Ne=[Ne]);const Fe=Ne;Ne=[];for(let I=0;I<Fe.length;++I)(!$(Fe[I])||Object.keys(Fe[I]).length>0)&&Ne.push(Fe[I]);const V=Ne.length>0;if(1===Ne.length&&(Ne=Ne[0]),z(ft)){const I=ee({activeCtx:ut,iri:"@graph",relativeTo:{vocab:!0}}),O=ft;ft={},V&&(ft["@context"]=Ne),ft[I]=O}else if($(ft)&&V){const I=ft;ft={"@context":Ne};for(const O in I)ft[O]=I[O]}return ft});return function(Ae,Ne,Me){return Q.apply(this,arguments)}}(),we.expand=function(){var Q=J(function*(Ae,Ne){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");const Me={},nt=[];if("expandContext"in(Ne=W(Ne,{keepFreeFloatingNodes:!1,contextResolver:new ne({sharedCache:Be})}))){const V=Y.clone(Ne.expandContext);Me.expandContext=$(V)&&"@context"in V?V:{"@context":V},nt.push(Me.expandContext)}let ut;if(X(Ae)){const V=yield we.get(Ae,Ne);ut=V.documentUrl,Me.input=V.document,V.contextUrl&&(Me.remoteContext={"@context":V.contextUrl},nt.push(Me.remoteContext))}else Me.input=Y.clone(Ae);"base"in Ne||(Ne.base=ut||"");let ft=y(Ne);for(const V of nt)ft=yield M({activeCtx:ft,localCtx:V,options:Ne});let Fe=yield te({activeCtx:ft,element:Me.input,options:Ne});return $(Fe)&&"@graph"in Fe&&1===Object.keys(Fe).length?Fe=Fe["@graph"]:null===Fe&&(Fe=[]),z(Fe)||(Fe=[Fe]),Fe});return function(Ae,Ne){return Q.apply(this,arguments)}}(),we.flatten=function(){var Q=J(function*(Ae,Ne,Me){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");Ne="function"==typeof Ne?null:Ne||null,Me=W(Me,{base:X(Ae)?Ae:"",contextResolver:new ne({sharedCache:Be})});const nt=yield we.expand(Ae,Me),ut=R(nt);return null===Ne?ut:(Me.graph=!0,Me.skipExpansion=!0,yield we.compact(ut,Ne,Me))});return function(Ae,Ne,Me){return Q.apply(this,arguments)}}(),we.frame=function(){var Q=J(function*(Ae,Ne,Me){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(Me=W(Me,{base:X(Ae)?Ae:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new ne({sharedCache:Be})}),X(Ne)){const $e=yield we.get(Ne,Me);if(Ne=$e.document,$e.contextUrl){let ve=Ne["@context"];ve?z(ve)?ve.push($e.contextUrl):ve=[ve,$e.contextUrl]:ve=$e.contextUrl,Ne["@context"]=ve}}const nt=Ne&&Ne["@context"]||{},ut=yield we.processContext(y(Me),nt,Me);Me.hasOwnProperty("omitGraph")||(Me.omitGraph=A(ut,1.1)),Me.hasOwnProperty("pruneBlankNodeIdentifiers")||(Me.pruneBlankNodeIdentifiers=A(ut,1.1));const ft=yield we.expand(Ae,Me),Fe={...Me};Fe.isFrame=!0,Fe.keepFreeFloatingNodes=!0;const V=yield we.expand(Ne,Fe),I=Object.keys(Ne).map($e=>H(ut,$e,{vocab:!0}));Fe.merged=!I.includes("@graph"),Fe.is11=A(ut,1.1);const O=F(ft,V,Fe);Fe.graph=!Me.omitGraph,Fe.skipExpansion=!0,Fe.link={},Fe.framing=!0;let ge=yield we.compact(O,nt,Fe);return Fe.link={},ge=se(ge,Fe),ge});return function(Ae,Ne,Me){return Q.apply(this,arguments)}}(),we.link=function(){var Q=J(function*(Ae,Ne,Me){const nt={};return Ne&&(nt["@context"]=Ne),nt["@embed"]="@link",we.frame(Ae,nt,Me)});return function(Ae,Ne,Me){return Q.apply(this,arguments)}}(),we.normalize=we.canonize=function(){var Q=J(function*(Ae,Ne){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(Ne=W(Ne,{base:X(Ae)?Ae:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new ne({sharedCache:Be})}))){if("application/n-quads"!==Ne.inputFormat&&"application/nquads"!==Ne.inputFormat)throw new E("Unknown canonicalization input format.","jsonld.CanonizeError");const ut=K.parse(Ae);return C.canonize(ut,Ne)}const Me={...Ne};delete Me.format,Me.produceGeneralizedRdf=!1;const nt=yield we.toRDF(Ae,Me);return C.canonize(nt,Ne)});return function(Ae,Ne){return Q.apply(this,arguments)}}(),we.fromRDF=function(){var Q=J(function*(Ae,Ne){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");Ne=W(Ne,{format:X(Ae)?"application/n-quads":void 0});const{format:Me}=Ne;let{rdfParser:nt}=Ne;if(Me){if(nt=nt||ct[Me],!nt)throw new E("Unknown input format.","jsonld.UnknownFormat",{format:Me})}else nt=()=>Ae;const ut=yield nt(Ae);return de(ut,Ne)});return function(Ae,Ne){return Q.apply(this,arguments)}}(),we.toRDF=function(){var Q=J(function*(Ae,Ne){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let Me;Me=(Ne=W(Ne,{base:X(Ae)?Ae:"",skipExpansion:!1,contextResolver:new ne({sharedCache:Be})})).skipExpansion?Ae:yield we.expand(Ae,Ne);const nt=x(Me,Ne);if(Ne.format){if("application/n-quads"===Ne.format||"application/nquads"===Ne.format)return K.serialize(nt);throw new E("Unknown output format.","jsonld.UnknownFormat",{format:Ne.format})}return nt});return function(Ae,Ne){return Q.apply(this,arguments)}}(),we.createNodeMap=function(){var Q=J(function*(Ae,Ne){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");Ne=W(Ne,{base:X(Ae)?Ae:"",contextResolver:new ne({sharedCache:Be})});const Me=yield we.expand(Ae,Ne);return ie(Me,Ne)});return function(Ae,Ne){return Q.apply(this,arguments)}}(),we.merge=function(){var Q=J(function*(Ae,Ne,Me){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!z(Ae))throw new TypeError('Could not merge, "docs" must be an array.');Ne="function"==typeof Ne?null:Ne||null,Me=W(Me,{contextResolver:new ne({sharedCache:Be})});const nt=yield Promise.all(Ae.map($e=>{const ve={...Me};return we.expand($e,ve)}));let ut=!0;"mergeNodes"in Me&&(ut=Me.mergeNodes);const ft=Me.issuer||new w("_:b"),Fe={"@default":{}};for(let $e=0;$e<nt.length;++$e){const ve=Y.relabelBlankNodes(nt[$e],{issuer:new w("_:b"+$e+"-")}),Ve=ut||0===$e?Fe:{"@default":{}};if(Te(ve,Ve,"@default",ft),Ve!==Fe)for(const Ze in Ve){const St=Ve[Ze];if(!(Ze in Fe)){Fe[Ze]=St;continue}const Gt=Fe[Ze];for(const Ot in St)Ot in Gt||(Gt[Ot]=St[Ot])}}const V=xe(Fe),I=[],O=Object.keys(V).sort();for(let $e=0;$e<O.length;++$e){const ve=V[O[$e]];j(ve)||I.push(ve)}return null===Ne?I:(Me.graph=!0,Me.skipExpansion=!0,yield we.compact(I,Ne,Me))});return function(Ae,Ne,Me){return Q.apply(this,arguments)}}(),Object.defineProperty(we,"documentLoader",{get:()=>we._documentLoader,set:Q=>we._documentLoader=Q}),we.documentLoader=function(){var Q=J(function*(Ae){throw new E("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:Ae})});return function(Ae){return Q.apply(this,arguments)}}(),we.get=function(){var Q=J(function*(Ae,Ne){let Me;Me="function"==typeof Ne.documentLoader?Ne.documentLoader:we.documentLoader;const nt=yield Me(Ae);try{if(!nt.document)throw new E("No remote document found at the given URL.","jsonld.NullRemoteDocument");X(nt.document)&&(nt.document=JSON.parse(nt.document))}catch(ut){throw new E("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:ut,remoteDoc:nt})}return nt});return function(Ae,Ne){return Q.apply(this,arguments)}}(),we.processContext=function(){var Q=J(function*(Ae,Ne,Me){return Me=W(Me,{base:"",contextResolver:new ne({sharedCache:Be})}),null===Ne?y(Me):(Ne=Y.clone(Ne),$(Ne)&&"@context"in Ne||(Ne={"@context":Ne}),M({activeCtx:Ae,localCtx:Ne,options:Me}))});return function(Ae,Ne,Me){return Q.apply(this,arguments)}}(),we.getContextValue=T(429).getContextValue,we.documentLoaders={},we.useDocumentLoader=function(Q){if(!(Q in we.documentLoaders))throw new E('Unknown document loader type: "'+Q+'"',"jsonld.UnknownDocumentLoader",{type:Q});we.documentLoader=we.documentLoaders[Q].apply(we,Array.prototype.slice.call(arguments,1))},we.registerRDFParser=function(Q,Ae){ct[Q]=Ae},we.unregisterRDFParser=function(Q){delete ct[Q]},we.registerRDFParser("application/n-quads",K.parse),we.registerRDFParser("application/nquads",K.parse),we.url=T(2051),we.logEventHandler=Re,we.logWarningEventHandler=Le,we.safeEventHandler=tt,we.setDefaultEventHandler=rt,we.strictEventHandler=je,we.unhandledEventHandler=De,we.util=Y,Object.assign(we,Y),we.promises=we,we.RequestQueue=T(4808),we.JsonLdProcessor=T(1328)(we),q.setupGlobals(we),q.setupDocumentLoaders(we),we},fe=function(){return ot(function(){return fe()})};ot(fe),Ge.exports=fe},5096:(Ge,ye,T)=>{"use strict";const{isKeyword:J}=T(429),C=T(4209),q=T(2831),Y=T(9420),ne=T(262),w={};Ge.exports=w,w.createMergedNodeMap=(E,B)=>{const K=(B=B||{}).issuer||new Y.IdentifierIssuer("_:b"),te={"@default":{}};return w.createNodeMap(E,te,"@default",K),w.mergeNodeMaps(te)},w.createNodeMap=(E,B,K,te,R,de)=>{if(q.isArray(E)){for(const z of E)w.createNodeMap(z,B,K,te,void 0,de);return}if(!q.isObject(E))return void(de&&de.push(E));if(C.isValue(E)){if("@type"in E){let z=E["@type"];0===z.indexOf("_:")&&(E["@type"]=z=te.getId(z))}return void(de&&de.push(E))}if(de&&C.isList(E)){const z=[];return w.createNodeMap(E["@list"],B,K,te,R,z),void de.push({"@list":z})}if("@type"in E){const z=E["@type"];for(const $ of z)0===$.indexOf("_:")&&te.getId($)}q.isUndefined(R)&&(R=C.isBlankNode(E)?te.getId(E["@id"]):E["@id"]),de&&de.push({"@id":R});const x=B[K],F=x[R]=x[R]||{};F["@id"]=R;const se=Object.keys(E).sort();for(let z of se){if("@id"===z)continue;if("@reverse"===z){const X={"@id":R},j=E["@reverse"];for(const H in j){const y=j[H];for(const M of y){let A=M["@id"];C.isBlankNode(M)&&(A=te.getId(A)),w.createNodeMap(M,B,K,te,A),Y.addValue(x[A],H,X,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===z){R in B||(B[R]={}),w.createNodeMap(E[z],B,R,te);continue}if("@included"===z){w.createNodeMap(E[z],B,K,te);continue}if("@type"!==z&&J(z)){if("@index"===z&&z in F&&(E[z]!==F[z]||E[z]["@id"]!==F[z]["@id"]))throw new ne("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:F});F[z]=E[z];continue}const $=E[z];if(0===z.indexOf("_:")&&(z=te.getId(z)),0!==$.length)for(let X of $)if("@type"===z&&(X=0===X.indexOf("_:")?te.getId(X):X),C.isSubject(X)||C.isSubjectReference(X)){if("@id"in X&&!X["@id"])continue;const j=C.isBlankNode(X)?te.getId(X["@id"]):X["@id"];Y.addValue(F,z,{"@id":j},{propertyIsArray:!0,allowDuplicate:!1}),w.createNodeMap(X,B,K,te,j)}else if(C.isValue(X))Y.addValue(F,z,X,{propertyIsArray:!0,allowDuplicate:!1});else if(C.isList(X)){const j=[];w.createNodeMap(X["@list"],B,K,te,R,j),X={"@list":j},Y.addValue(F,z,X,{propertyIsArray:!0,allowDuplicate:!1})}else w.createNodeMap(X,B,K,te,R),Y.addValue(F,z,X,{propertyIsArray:!0,allowDuplicate:!1});else Y.addValue(F,z,[],{propertyIsArray:!0})}},w.mergeNodeMapGraphs=E=>{const B={};for(const K of Object.keys(E).sort())for(const te of Object.keys(E[K]).sort()){const R=E[K][te];te in B||(B[te]={"@id":te});const de=B[te];for(const x of Object.keys(R).sort())if(J(x)&&"@type"!==x)de[x]=Y.clone(R[x]);else for(const F of R[x])Y.addValue(de,x,Y.clone(F),{propertyIsArray:!0,allowDuplicate:!1})}return B},w.mergeNodeMaps=E=>{const B=E["@default"],K=Object.keys(E).sort();for(const te of K){if("@default"===te)continue;const R=E[te];let de=B[te];de?"@graph"in de||(de["@graph"]=[]):B[te]=de={"@id":te,"@graph":[]};const x=de["@graph"];for(const F of Object.keys(R).sort()){const se=R[F];C.isSubjectReference(se)||x.push(se)}}return B}},8666:(Ge,ye,T)=>{"use strict";const J=T(3120),C={};Ge.exports=C,C.setupDocumentLoaders=function(q){typeof XMLHttpRequest<"u"&&(q.documentLoaders.xhr=J,q.useDocumentLoader("xhr"))},C.setupGlobals=function(q){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:q.JsonLdProcessor})}},6397:(Ge,ye,T)=>{"use strict";const{createNodeMap:J}=T(5096),{isKeyword:C}=T(429),q=T(4209),Y=T(8846),ne=T(262),w=T(2831),E=T(9420),{handleEvent:B}=T(2585),{RDF_FIRST:K,RDF_REST:te,RDF_NIL:R,RDF_TYPE:de,RDF_JSON_LITERAL:x,RDF_LANGSTRING:F,XSD_BOOLEAN:se,XSD_DOUBLE:z,XSD_INTEGER:$,XSD_STRING:X}=T(5315),{isAbsolute:j}=T(2051),H={};function y(oe,ee,Te,ie,xe){const Re=Object.keys(ee).sort();for(const Le of Re){const tt=ee[Le],rt=Object.keys(tt).sort();for(let Ee of rt){const je=tt[Ee];if("@type"===Ee)Ee=de;else if(C(Ee))continue;for(const De of je){const ot={termType:Le.startsWith("_:")?"BlankNode":"NamedNode",value:Le};if(!j(Le)){xe.eventHandler&&B({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:Le}},options:xe});continue}const fe={termType:Ee.startsWith("_:")?"BlankNode":"NamedNode",value:Ee};if(!j(Ee)){xe.eventHandler&&B({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Ee}},options:xe});continue}if("BlankNode"===fe.termType&&!xe.produceGeneralizedRdf){xe.eventHandler&&B({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:ie.getOldIds().find(ct=>ie.getId(ct)===Ee)}},options:xe});continue}const we=A(De,ie,oe,Te,xe.rdfDirection,xe);we&&oe.push({subject:ot,predicate:fe,object:we,graph:Te})}}}}function A(oe,ee,Te,ie,xe,Re){const Le={};if(q.isValue(oe)){Le.termType="Literal",Le.value=void 0,Le.datatype={termType:"NamedNode"};let tt=oe["@value"];const rt=oe["@type"]||null;if("@json"===rt)Le.value=Y(tt),Le.datatype.value=x;else if(w.isBoolean(tt))Le.value=tt.toString(),Le.datatype.value=rt||se;else if(w.isDouble(tt)||rt===z)w.isDouble(tt)||(tt=parseFloat(tt)),Le.value=tt.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),Le.datatype.value=rt||z;else if(w.isNumber(tt))Le.value=tt.toFixed(0),Le.datatype.value=rt||$;else if("@direction"in oe&&"i18n-datatype"===xe){const Ee=(oe["@language"]||"").toLowerCase();Le.datatype.value=`https://www.w3.org/ns/i18n#${Ee}_${oe["@direction"]}`,Le.value=tt}else{if("@direction"in oe&&"compound-literal"===xe)throw new ne("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:xe});if("@direction"in oe&&xe)throw new ne("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:xe});"@language"in oe?("@direction"in oe&&!xe&&Re.eventHandler&&B({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Le.value}},options:Re}),Le.value=tt,Le.datatype.value=rt||F,Le.language=oe["@language"]):("@direction"in oe&&!xe&&Re.eventHandler&&B({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:Le.value}},options:Re}),Le.value=tt,Le.datatype.value=rt||X)}}else if(q.isList(oe)){const tt=function M(oe,ee,Te,ie,xe,Re){const Le={termType:"NamedNode",value:K},tt={termType:"NamedNode",value:te},rt={termType:"NamedNode",value:R},Ee=oe.pop(),je=Ee?{termType:"BlankNode",value:ee.getId()}:rt;let De=je;for(const ot of oe){const fe=A(ot,ee,Te,ie,xe,Re),we={termType:"BlankNode",value:ee.getId()};Te.push({subject:De,predicate:Le,object:fe,graph:ie}),Te.push({subject:De,predicate:tt,object:we,graph:ie}),De=we}if(Ee){const ot=A(Ee,ee,Te,ie,xe,Re);Te.push({subject:De,predicate:Le,object:ot,graph:ie}),Te.push({subject:De,predicate:tt,object:rt,graph:ie})}return je}(oe["@list"],ee,Te,ie,xe,Re);Le.termType=tt.termType,Le.value=tt.value}else{const tt=w.isObject(oe)?oe["@id"]:oe;Le.termType=tt.startsWith("_:")?"BlankNode":"NamedNode",Le.value=tt}return"NamedNode"!==Le.termType||j(Le.value)?Le:(Re.eventHandler&&B({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:Le.value}},options:Re}),null)}Ge.exports=H,H.toRDF=(oe,ee)=>{const Te=new E.IdentifierIssuer("_:b"),ie={"@default":{}};J(oe,ie,"@default",Te);const xe=[],Re=Object.keys(ie).sort();for(const Le of Re){let tt;if("@default"===Le)tt={termType:"DefaultGraph",value:""};else{if(!j(Le)){ee.eventHandler&&B({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:Le}},options:ee});continue}tt=Le.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"},tt.value=Le}y(xe,ie[Le],tt,Te,ee)}return xe}},2831:Ge=>{"use strict";const ye={};Ge.exports=ye,ye.isArray=Array.isArray,ye.isBoolean=T=>"boolean"==typeof T||"[object Boolean]"===Object.prototype.toString.call(T),ye.isDouble=T=>ye.isNumber(T)&&(-1!==String(T).indexOf(".")||Math.abs(T)>=1e21),ye.isEmptyObject=T=>ye.isObject(T)&&0===Object.keys(T).length,ye.isNumber=T=>"number"==typeof T||"[object Number]"===Object.prototype.toString.call(T),ye.isNumeric=T=>!isNaN(parseFloat(T))&&isFinite(T),ye.isObject=T=>"[object Object]"===Object.prototype.toString.call(T),ye.isString=T=>"string"==typeof T||"[object String]"===Object.prototype.toString.call(T),ye.isUndefined=T=>typeof T>"u"},2051:(Ge,ye,T)=>{"use strict";const J=T(2831),C={};Ge.exports=C,C.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},C.parse=(Y,ne)=>{const w={},E=C.parsers[ne||"full"],B=E.regex.exec(Y);let K=E.keys.length;for(;K--;)w[E.keys[K]]=void 0===B[K]?null:B[K];return("https"===w.scheme&&"443"===w.port||"http"===w.scheme&&"80"===w.port)&&(w.href=w.href.replace(":"+w.port,""),w.authority=w.authority.replace(":"+w.port,""),w.port=null),w.normalizedPath=C.removeDotSegments(w.path),w},C.prependBase=(Y,ne)=>{if(null===Y||C.isAbsolute(ne))return ne;(!Y||J.isString(Y))&&(Y=C.parse(Y||""));const w=C.parse(ne),E={protocol:Y.protocol||""};if(null!==w.authority)E.authority=w.authority,E.path=w.path,E.query=w.query;else if(E.authority=Y.authority,""===w.path)E.path=Y.path,E.query=null!==w.query?w.query:Y.query;else{if(0===w.path.indexOf("/"))E.path=w.path;else{let K=Y.path;K=K.substr(0,K.lastIndexOf("/")+1),(K.length>0||Y.authority)&&"/"!==K.substr(-1)&&(K+="/"),K+=w.path,E.path=K}E.query=w.query}""!==w.path&&(E.path=C.removeDotSegments(E.path));let B=E.protocol;return null!==E.authority&&(B+="//"+E.authority),B+=E.path,null!==E.query&&(B+="?"+E.query),null!==w.fragment&&(B+="#"+w.fragment),""===B&&(B="./"),B},C.removeBase=(Y,ne)=>{if(null===Y)return ne;(!Y||J.isString(Y))&&(Y=C.parse(Y||""));let w="";if(""!==Y.href?w+=(Y.protocol||"")+"//"+(Y.authority||""):ne.indexOf("//")&&(w+="//"),0!==ne.indexOf(w))return ne;const E=C.parse(ne.substr(w.length)),B=Y.normalizedPath.split("/"),K=E.normalizedPath.split("/"),te=E.fragment||E.query?0:1;for(;B.length>0&&K.length>te&&B[0]===K[0];)B.shift(),K.shift();let R="";if(B.length>0){B.pop();for(let de=0;de<B.length;++de)R+="../"}return R+=K.join("/"),null!==E.query&&(R+="?"+E.query),null!==E.fragment&&(R+="#"+E.fragment),""===R&&(R="./"),R},C.removeDotSegments=Y=>{if(0===Y.length)return"";const ne=Y.split("/"),w=[];for(;ne.length>0;){const E=ne.shift(),B=0===ne.length;"."!==E?".."!==E?w.push(E):(w.pop(),B&&w.push("")):B&&w.push("")}return"/"===Y[0]&&w.length>0&&""!==w[0]&&w.unshift(""),1===w.length&&""===w[0]?"/":w.join("/")};const q=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;C.isAbsolute=Y=>J.isString(Y)&&q.test(Y),C.isRelative=Y=>J.isString(Y)},9420:(Ge,ye,T)=>{"use strict";const J=T(4209),C=T(2831),q=T(1224).IdentifierIssuer,Y=T(262),w=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,E=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,B=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,te_headers_accept="application/ld+json, application/json",R={};function de(x,F){if(C.isArray(F))for(let se=0;se<F.length;++se)F[se]=de(x,F[se]);else if(J.isList(F))F["@list"]=de(x,F["@list"]);else if(C.isObject(F)){J.isBlankNode(F)&&(F["@id"]=x.getId(F["@id"]));const se=Object.keys(F).sort();for(let z=0;z<se.length;++z){const $=se[z];"@id"!==$&&(F[$]=de(x,F[$]))}}return F}Ge.exports=R,R.IdentifierIssuer=q,R.REGEX_BCP47=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,R.REGEX_KEYWORD=/^@[a-zA-Z]+$/,R.clone=function(x){if(x&&"object"==typeof x){let F;if(C.isArray(x)){F=[];for(let se=0;se<x.length;++se)F[se]=R.clone(x[se])}else if(x instanceof Map){F=new Map;for(const[se,z]of x)F.set(se,R.clone(z))}else if(x instanceof Set){F=new Set;for(const se of x)F.add(R.clone(se))}else if(C.isObject(x)){F={};for(const se in x)F[se]=R.clone(x[se])}else F=x.toString();return F}return x},R.asArray=function(x){return Array.isArray(x)?x:[x]},R.buildHeaders=(x={})=>{if(Object.keys(x).some(se=>"accept"===se.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+te_headers_accept+'" is supported.');return Object.assign({Accept:te_headers_accept},x)},R.parseLinkHeader=x=>{const F={},se=x.match(w);for(let z=0;z<se.length;++z){let $=se[z].match(E);if(!$)continue;const X={target:$[1]},j=$[2];for(;$=B.exec(j);)X[$[1]]=void 0===$[2]?$[3]:$[2];const H=X.rel||"";Array.isArray(F[H])?F[H].push(X):F[H]=F.hasOwnProperty(H)?[F[H],X]:X}return F},R.validateTypeValue=(x,F)=>{if(!(C.isString(x)||C.isArray(x)&&x.every(se=>C.isString(se)))){if(F&&C.isObject(x))switch(Object.keys(x).length){case 0:return;case 1:if("@default"in x&&R.asArray(x["@default"]).every(se=>C.isString(se)))return}throw new Y('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:x})}},R.hasProperty=(x,F)=>{if(x.hasOwnProperty(F)){const se=x[F];return!C.isArray(se)||se.length>0}return!1},R.hasValue=(x,F,se)=>{if(R.hasProperty(x,F)){let z=x[F];const $=J.isList(z);if(C.isArray(z)||$){$&&(z=z["@list"]);for(let X=0;X<z.length;++X)if(R.compareValues(se,z[X]))return!0}else if(!C.isArray(se))return R.compareValues(se,z)}return!1},R.addValue=(x,F,se,z)=>{if("propertyIsArray"in(z=z||{})||(z.propertyIsArray=!1),"valueIsArray"in z||(z.valueIsArray=!1),"allowDuplicate"in z||(z.allowDuplicate=!0),"prependValue"in z||(z.prependValue=!1),z.valueIsArray)x[F]=se;else if(C.isArray(se)){0===se.length&&z.propertyIsArray&&!x.hasOwnProperty(F)&&(x[F]=[]),z.prependValue&&(se=se.concat(x[F]),x[F]=[]);for(let $=0;$<se.length;++$)R.addValue(x,F,se[$],z)}else if(x.hasOwnProperty(F)){const $=!z.allowDuplicate&&R.hasValue(x,F,se);!C.isArray(x[F])&&(!$||z.propertyIsArray)&&(x[F]=[x[F]]),$||(z.prependValue?x[F].unshift(se):x[F].push(se))}else x[F]=z.propertyIsArray?[se]:se},R.getValues=(x,F)=>[].concat(x[F]||[]),R.removeProperty=(x,F)=>{delete x[F]},R.removeValue=(x,F,se,z)=>{"propertyIsArray"in(z=z||{})||(z.propertyIsArray=!1);const $=R.getValues(x,F).filter(X=>!R.compareValues(X,se));0===$.length?R.removeProperty(x,F):x[F]=1!==$.length||z.propertyIsArray?$:$[0]},R.relabelBlankNodes=(x,F)=>de((F=F||{}).issuer||new q("_:b"),x),R.compareValues=(x,F)=>!!(x===F||J.isValue(x)&&J.isValue(F)&&x["@value"]===F["@value"]&&x["@type"]===F["@type"]&&x["@language"]===F["@language"]&&x["@index"]===F["@index"])||!!(C.isObject(x)&&"@id"in x&&C.isObject(F)&&"@id"in F)&&x["@id"]===F["@id"],R.compareShortestLeast=(x,F)=>x.length<F.length?-1:F.length<x.length?1:x===F?0:x<F?-1:1},3052:(Ge,ye,T)=>{"use strict";const J=T(4842),C=Symbol("max"),q=Symbol("length"),Y=Symbol("lengthCalculator"),ne=Symbol("allowStale"),w=Symbol("maxAge"),E=Symbol("dispose"),B=Symbol("noDisposeOnSet"),K=Symbol("lruList"),te=Symbol("cache"),R=Symbol("updateAgeOnGet"),de=()=>1,F=(H,y,M)=>{const A=H[te].get(y);if(A){const oe=A.value;if(se(H,oe)){if($(H,A),!H[ne])return}else M&&(H[R]&&(A.value.now=Date.now()),H[K].unshiftNode(A));return oe.value}},se=(H,y)=>{if(!y||!y.maxAge&&!H[w])return!1;const M=Date.now()-y.now;return y.maxAge?M>y.maxAge:H[w]&&M>H[w]},z=H=>{if(H[q]>H[C])for(let y=H[K].tail;H[q]>H[C]&&null!==y;){const M=y.prev;$(H,y),y=M}},$=(H,y)=>{if(y){const M=y.value;H[E]&&H[E](M.key,M.value),H[q]-=M.length,H[te].delete(M.key),H[K].removeNode(y)}};class X{constructor(y,M,A,oe,ee){this.key=y,this.value=M,this.length=A,this.now=oe,this.maxAge=ee||0}}const j=(H,y,M,A)=>{let oe=M.value;se(H,oe)&&($(H,M),H[ne]||(oe=void 0)),oe&&y.call(A,oe.value,oe.key,H)};Ge.exports=class x{constructor(y){if("number"==typeof y&&(y={max:y}),y||(y={}),y.max&&("number"!=typeof y.max||y.max<0))throw new TypeError("max must be a non-negative number");this[C]=y.max||1/0;const A=y.length||de;if(this[Y]="function"!=typeof A?de:A,this[ne]=y.stale||!1,y.maxAge&&"number"!=typeof y.maxAge)throw new TypeError("maxAge must be a number");this[w]=y.maxAge||0,this[E]=y.dispose,this[B]=y.noDisposeOnSet||!1,this[R]=y.updateAgeOnGet||!1,this.reset()}set max(y){if("number"!=typeof y||y<0)throw new TypeError("max must be a non-negative number");this[C]=y||1/0,z(this)}get max(){return this[C]}set allowStale(y){this[ne]=!!y}get allowStale(){return this[ne]}set maxAge(y){if("number"!=typeof y)throw new TypeError("maxAge must be a non-negative number");this[w]=y,z(this)}get maxAge(){return this[w]}set lengthCalculator(y){"function"!=typeof y&&(y=de),y!==this[Y]&&(this[Y]=y,this[q]=0,this[K].forEach(M=>{M.length=this[Y](M.value,M.key),this[q]+=M.length})),z(this)}get lengthCalculator(){return this[Y]}get length(){return this[q]}get itemCount(){return this[K].length}rforEach(y,M){M=M||this;for(let A=this[K].tail;null!==A;){const oe=A.prev;j(this,y,A,M),A=oe}}forEach(y,M){M=M||this;for(let A=this[K].head;null!==A;){const oe=A.next;j(this,y,A,M),A=oe}}keys(){return this[K].toArray().map(y=>y.key)}values(){return this[K].toArray().map(y=>y.value)}reset(){this[E]&&this[K]&&this[K].length&&this[K].forEach(y=>this[E](y.key,y.value)),this[te]=new Map,this[K]=new J,this[q]=0}dump(){return this[K].map(y=>!se(this,y)&&{k:y.key,v:y.value,e:y.now+(y.maxAge||0)}).toArray().filter(y=>y)}dumpLru(){return this[K]}set(y,M,A){if((A=A||this[w])&&"number"!=typeof A)throw new TypeError("maxAge must be a number");const oe=A?Date.now():0,ee=this[Y](M,y);if(this[te].has(y)){if(ee>this[C])return $(this,this[te].get(y)),!1;const xe=this[te].get(y).value;return this[E]&&(this[B]||this[E](y,xe.value)),xe.now=oe,xe.maxAge=A,xe.value=M,this[q]+=ee-xe.length,xe.length=ee,this.get(y),z(this),!0}const Te=new X(y,M,ee,oe,A);return Te.length>this[C]?(this[E]&&this[E](y,M),!1):(this[q]+=Te.length,this[K].unshift(Te),this[te].set(y,this[K].head),z(this),!0)}has(y){if(!this[te].has(y))return!1;const M=this[te].get(y).value;return!se(this,M)}get(y){return F(this,y,!0)}peek(y){return F(this,y,!1)}pop(){const y=this[K].tail;return y?($(this,y),y.value):null}del(y){$(this,this[te].get(y))}load(y){this.reset();const M=Date.now();for(let A=y.length-1;A>=0;A--){const oe=y[A],ee=oe.e||0;if(0===ee)this.set(oe.k,oe.v);else{const Te=ee-M;Te>0&&this.set(oe.k,oe.v,Te)}}}prune(){this[te].forEach((y,M)=>F(this,M,!1))}}},7568:Ge=>{"use strict";Ge.exports=function(ye){ye.prototype[Symbol.iterator]=function*(){for(let T=this.head;T;T=T.next)yield T.value}}},4842:(Ge,ye,T)=>{"use strict";function J(w){var E=this;if(E instanceof J||(E=new J),E.tail=null,E.head=null,E.length=0,w&&"function"==typeof w.forEach)w.forEach(function(te){E.push(te)});else if(arguments.length>0)for(var B=0,K=arguments.length;B<K;B++)E.push(arguments[B]);return E}function C(w,E,B){var K=E===w.head?new ne(B,null,E,w):new ne(B,E,E.next,w);return null===K.next&&(w.tail=K),null===K.prev&&(w.head=K),w.length++,K}function q(w,E){w.tail=new ne(E,w.tail,null,w),w.head||(w.head=w.tail),w.length++}function Y(w,E){w.head=new ne(E,null,w.head,w),w.tail||(w.tail=w.head),w.length++}function ne(w,E,B,K){if(!(this instanceof ne))return new ne(w,E,B,K);this.list=K,this.value=w,E?(E.next=this,this.prev=E):this.prev=null,B?(B.prev=this,this.next=B):this.next=null}Ge.exports=J,J.Node=ne,J.create=J,J.prototype.removeNode=function(w){if(w.list!==this)throw new Error("removing node which does not belong to this list");var E=w.next,B=w.prev;return E&&(E.prev=B),B&&(B.next=E),w===this.head&&(this.head=E),w===this.tail&&(this.tail=B),w.list.length--,w.next=null,w.prev=null,w.list=null,E},J.prototype.unshiftNode=function(w){if(w!==this.head){w.list&&w.list.removeNode(w);var E=this.head;w.list=this,w.next=E,E&&(E.prev=w),this.head=w,this.tail||(this.tail=w),this.length++}},J.prototype.pushNode=function(w){if(w!==this.tail){w.list&&w.list.removeNode(w);var E=this.tail;w.list=this,w.prev=E,E&&(E.next=w),this.tail=w,this.head||(this.head=w),this.length++}},J.prototype.push=function(){for(var w=0,E=arguments.length;w<E;w++)q(this,arguments[w]);return this.length},J.prototype.unshift=function(){for(var w=0,E=arguments.length;w<E;w++)Y(this,arguments[w]);return this.length},J.prototype.pop=function(){if(this.tail){var w=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,w}},J.prototype.shift=function(){if(this.head){var w=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,w}},J.prototype.forEach=function(w,E){E=E||this;for(var B=this.head,K=0;null!==B;K++)w.call(E,B.value,K,this),B=B.next},J.prototype.forEachReverse=function(w,E){E=E||this;for(var B=this.tail,K=this.length-1;null!==B;K--)w.call(E,B.value,K,this),B=B.prev},J.prototype.get=function(w){for(var E=0,B=this.head;null!==B&&E<w;E++)B=B.next;if(E===w&&null!==B)return B.value},J.prototype.getReverse=function(w){for(var E=0,B=this.tail;null!==B&&E<w;E++)B=B.prev;if(E===w&&null!==B)return B.value},J.prototype.map=function(w,E){E=E||this;for(var B=new J,K=this.head;null!==K;)B.push(w.call(E,K.value,this)),K=K.next;return B},J.prototype.mapReverse=function(w,E){E=E||this;for(var B=new J,K=this.tail;null!==K;)B.push(w.call(E,K.value,this)),K=K.prev;return B},J.prototype.reduce=function(w,E){var B,K=this.head;if(arguments.length>1)B=E;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");K=this.head.next,B=this.head.value}for(var te=0;null!==K;te++)B=w(B,K.value,te),K=K.next;return B},J.prototype.reduceReverse=function(w,E){var B,K=this.tail;if(arguments.length>1)B=E;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");K=this.tail.prev,B=this.tail.value}for(var te=this.length-1;null!==K;te--)B=w(B,K.value,te),K=K.prev;return B},J.prototype.toArray=function(){for(var w=new Array(this.length),E=0,B=this.head;null!==B;E++)w[E]=B.value,B=B.next;return w},J.prototype.toArrayReverse=function(){for(var w=new Array(this.length),E=0,B=this.tail;null!==B;E++)w[E]=B.value,B=B.prev;return w},J.prototype.slice=function(w,E){(E=E||this.length)<0&&(E+=this.length),(w=w||0)<0&&(w+=this.length);var B=new J;if(E<w||E<0)return B;w<0&&(w=0),E>this.length&&(E=this.length);for(var K=0,te=this.head;null!==te&&K<w;K++)te=te.next;for(;null!==te&&K<E;K++,te=te.next)B.push(te.value);return B},J.prototype.sliceReverse=function(w,E){(E=E||this.length)<0&&(E+=this.length),(w=w||0)<0&&(w+=this.length);var B=new J;if(E<w||E<0)return B;w<0&&(w=0),E>this.length&&(E=this.length);for(var K=this.length,te=this.tail;null!==te&&K>E;K--)te=te.prev;for(;null!==te&&K>w;K--,te=te.prev)B.push(te.value);return B},J.prototype.splice=function(w,E,...B){w>this.length&&(w=this.length-1),w<0&&(w=this.length+w);for(var K=0,te=this.head;null!==te&&K<w;K++)te=te.next;var R=[];for(K=0;te&&K<E;K++)R.push(te.value),te=this.removeNode(te);for(null===te&&(te=this.tail),te!==this.head&&te!==this.tail&&(te=te.prev),K=0;K<B.length;K++)te=C(this,te,B[K]);return R},J.prototype.reverse=function(){for(var w=this.head,E=this.tail,B=w;null!==B;B=B.prev){var K=B.prev;B.prev=B.next,B.next=K}return this.head=E,this.tail=w,this};try{T(7568)(J)}catch{}},7376:function(Ge,ye,T){var J;Ge=T.nmd(Ge),function(){var C,w="Expected a function",B="__lodash_hash_undefined__",te="__lodash_placeholder__",y=32,A=128,Ee=1/0,je=9007199254740991,fe=4294967295,Et=[["ary",A],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",y],["partialRight",64],["rearg",256]],Be="[object Arguments]",W="[object Array]",Ae="[object Boolean]",Ne="[object Date]",nt="[object Error]",ut="[object Function]",ft="[object GeneratorFunction]",Fe="[object Map]",V="[object Number]",O="[object Object]",ge="[object Promise]",ve="[object RegExp]",Ve="[object Set]",Ze="[object String]",St="[object Symbol]",Ot="[object WeakMap]",ce="[object ArrayBuffer]",k="[object DataView]",U="[object Float32Array]",Pe="[object Float64Array]",it="[object Int8Array]",ht="[object Int16Array]",Tt="[object Int32Array]",An="[object Uint8Array]",qn="[object Uint8ClampedArray]",ri="[object Uint16Array]",zn="[object Uint32Array]",Nn=/\b__p \+= '';/g,mr=/\b(__p \+=) '' \+/g,ja=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xr=/&(?:amp|lt|gt|quot|#39);/g,Js=/[&<>"']/g,Sa=RegExp(xr.source),Ir=RegExp(Js.source),To=/<%-([\s\S]+?)%>/g,Ua=/<%([\s\S]+?)%>/g,fl=/<%=([\s\S]+?)%>/g,Bc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jc=/^\w*$/,uc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,He=/[\\^$.*+?()[\]{}|]/g,Xe=RegExp(He.source),Wt=/^\s+/,Ct=/\s/,Cn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dr=/\{\n\/\* \[wrapped with (.+)\] \*/,Mo=/,? & /,Uc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,en=/[()=,{}\[\]\/\s]/,re=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ae=/\w*$/,S=/^[-+]0x[0-9a-f]+$/i,P=/^0b[01]+$/i,he=/^\[object .+?Constructor\]$/,le=/^0o[0-7]+$/i,qe=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,We=/($^)/,qt=/['\n\r\u2028\u2029\\]/g,jt="\\ud800-\\udfff",hi="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",oi="\\u2700-\\u27bf",Ki="a-z\\xdf-\\xf6\\xf8-\\xff",Vr="A-Z\\xc0-\\xd6\\xd8-\\xde",qo="\\ufe0e\\ufe0f",di="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yf="["+jt+"]",Ti="["+di+"]",$l="["+hi+"]",Or="\\d+",hc="["+oi+"]",Lb="["+Ki+"]",vf="[^"+jt+di+Or+oi+Ki+Vr+"]",mi="\\ud83c[\\udffb-\\udfff]",Jd="[^"+jt+"]",ls="(?:\\ud83c[\\udde6-\\uddff]){2}",Ce="[\\ud800-\\udbff][\\udc00-\\udfff]",Ue="["+Vr+"]",At="(?:"+Lb+"|"+vf+")",tn="(?:"+Ue+"|"+vf+")",En="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xi="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",po="(?:"+$l+"|"+mi+")?",mo="["+qo+"]?",Qs=mo+po+"(?:\\u200d(?:"+[Jd,ls,Ce].join("|")+")"+mo+po+")*",Xn="(?:"+[hc,ls,Ce].join("|")+")"+Qs,lj="(?:"+[Jd+$l+"?",$l,ls,Ce,yf].join("|")+")",dj=RegExp("['\u2019]","g"),uj=RegExp($l,"g"),px=RegExp(mi+"(?="+mi+")|"+lj+Qs,"g"),hj=RegExp([Ue+"?"+Lb+"+"+En+"(?="+[Ti,Ue,"$"].join("|")+")",tn+"+"+xi+"(?="+[Ti,Ue+At,"$"].join("|")+")",Ue+"?"+At+"+"+En,Ue+"+"+xi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Or,Xn].join("|"),"g"),Rt=RegExp("[\\u200d"+jt+hi+qo+"]"),fj=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,an=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Mm=-1,Rr={};Rr[U]=Rr[Pe]=Rr[it]=Rr[ht]=Rr[Tt]=Rr[An]=Rr[qn]=Rr[ri]=Rr[zn]=!0,Rr[Be]=Rr[W]=Rr[ce]=Rr[Ae]=Rr[k]=Rr[Ne]=Rr[nt]=Rr[ut]=Rr[Fe]=Rr[V]=Rr[O]=Rr[ve]=Rr[Ve]=Rr[Ze]=Rr[Ot]=!1;var gr={};gr[Be]=gr[W]=gr[ce]=gr[k]=gr[Ae]=gr[Ne]=gr[U]=gr[Pe]=gr[it]=gr[ht]=gr[Tt]=gr[Fe]=gr[V]=gr[O]=gr[ve]=gr[Ve]=gr[Ze]=gr[St]=gr[An]=gr[qn]=gr[ri]=gr[zn]=!0,gr[nt]=gr[ut]=gr[Ot]=!1;var Bb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},mx=parseFloat,CM=parseInt,vt="object"==typeof global&&global&&global.Object===Object&&global,jb="object"==typeof self&&self&&self.Object===Object&&self,Io=vt||jb||Function("return this")(),Ub=ye&&!ye.nodeType&&ye,Qd=Ub&&Ge&&!Ge.nodeType&&Ge,gx=Qd&&Qd.exports===Ub,wf=gx&&vt.process,fc=function(){try{return Qd&&Qd.require&&Qd.require("util").types||wf&&wf.binding&&wf.binding("util")}catch{}}(),AM=fc&&fc.isArrayBuffer,SM=fc&&fc.isDate,TM=fc&&fc.isMap,Om=fc&&fc.isRegExp,Xu=fc&&fc.isSet,Rm=fc&&fc.isTypedArray;function Os(_t,Ut,Mt){switch(Mt.length){case 0:return _t.call(Ut);case 1:return _t.call(Ut,Mt[0]);case 2:return _t.call(Ut,Mt[0],Mt[1]);case 3:return _t.call(Ut,Mt[0],Mt[1],Mt[2])}return _t.apply(Ut,Mt)}function _x(_t,Ut,Mt,nn){for(var Yn=-1,Vi=null==_t?0:_t.length;++Yn<Vi;){var ao=_t[Yn];Ut(nn,ao,Mt(ao),_t)}return nn}function go(_t,Ut){for(var Mt=-1,nn=null==_t?0:_t.length;++Mt<nn&&!1!==Ut(_t[Mt],Mt,_t););return _t}function xf(_t,Ut){for(var Mt=null==_t?0:_t.length;Mt--&&!1!==Ut(_t[Mt],Mt,_t););return _t}function Vb(_t,Ut){for(var Mt=-1,nn=null==_t?0:_t.length;++Mt<nn;)if(!Ut(_t[Mt],Mt,_t))return!1;return!0}function Gn(_t,Ut){for(var Mt=-1,nn=null==_t?0:_t.length,Yn=0,Vi=[];++Mt<nn;){var ao=_t[Mt];Ut(ao,Mt,_t)&&(Vi[Yn++]=ao)}return Vi}function Ui(_t,Ut){return!(null==_t||!_t.length)&&Af(_t,Ut,0)>-1}function bx(_t,Ut,Mt){for(var nn=-1,Yn=null==_t?0:_t.length;++nn<Yn;)if(Mt(Ut,_t[nn]))return!0;return!1}function zr(_t,Ut){for(var Mt=-1,nn=null==_t?0:_t.length,Yn=Array(nn);++Mt<nn;)Yn[Mt]=Ut(_t[Mt],Mt,_t);return Yn}function ql(_t,Ut){for(var Mt=-1,nn=Ut.length,Yn=_t.length;++Mt<nn;)_t[Yn+Mt]=Ut[Mt];return _t}function yx(_t,Ut,Mt,nn){var Yn=-1,Vi=null==_t?0:_t.length;for(nn&&Vi&&(Mt=_t[++Yn]);++Yn<Vi;)Mt=Ut(Mt,_t[Yn],Yn,_t);return Mt}function MM(_t,Ut,Mt,nn){var Yn=null==_t?0:_t.length;for(nn&&Yn&&(Mt=_t[--Yn]);Yn--;)Mt=Ut(Mt,_t[Yn],Yn,_t);return Mt}function Ef(_t,Ut){for(var Mt=-1,nn=null==_t?0:_t.length;++Mt<nn;)if(Ut(_t[Mt],Mt,_t))return!0;return!1}var Pi=Ku("length");function Rs(_t,Ut,Mt){var nn;return Mt(_t,function(Yn,Vi,ao){if(Ut(Yn,Vi,ao))return nn=Vi,!1}),nn}function Cf(_t,Ut,Mt,nn){for(var Yn=_t.length,Vi=Mt+(nn?1:-1);nn?Vi--:++Vi<Yn;)if(Ut(_t[Vi],Vi,_t))return Vi;return-1}function Af(_t,Ut,Mt){return Ut==Ut?function th(_t,Ut,Mt){for(var nn=Mt-1,Yn=_t.length;++nn<Yn;)if(_t[nn]===Ut)return nn;return-1}(_t,Ut,Mt):Cf(_t,Yu,Mt)}function pj(_t,Ut,Mt,nn){for(var Yn=Mt-1,Vi=_t.length;++Yn<Vi;)if(nn(_t[Yn],Ut))return Yn;return-1}function Yu(_t){return _t!=_t}function km(_t,Ut){var Mt=null==_t?0:_t.length;return Mt?Pm(_t,Ut)/Mt:NaN}function Ku(_t){return function(Ut){return null==Ut?C:Ut[_t]}}function Hb(_t){return function(Ut){return null==_t?C:_t[Ut]}}function wx(_t,Ut,Mt,nn,Yn){return Yn(_t,function(Vi,ao,nr){Mt=nn?(nn=!1,Vi):Ut(Mt,Vi,ao,nr)}),Mt}function Pm(_t,Ut){for(var Mt,nn=-1,Yn=_t.length;++nn<Yn;){var Vi=Ut(_t[nn]);Vi!==C&&(Mt=Mt===C?Vi:Mt+Vi)}return Mt}function Xl(_t,Ut){for(var Mt=-1,nn=Array(_t);++Mt<_t;)nn[Mt]=Ut(Mt);return nn}function pl(_t){return _t&&_t.slice(0,Fm(_t)+1).replace(Wt,"")}function Ta(_t){return function(Ut){return _t(Ut)}}function Ke(_t,Ut){return zr(Ut,function(Mt){return _t[Mt]})}function Ju(_t,Ut){return _t.has(Ut)}function kt(_t,Ut){for(var Mt=-1,nn=_t.length;++Mt<nn&&Af(Ut,_t[Mt],0)>-1;);return Mt}function Sf(_t,Ut){for(var Mt=_t.length;Mt--&&Af(Ut,_t[Mt],0)>-1;);return Mt}var Tf=Hb({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),OM=Hb({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function RM(_t){return"\\"+Bb[_t]}function Qu(_t){return Rt.test(_t)}function eh(_t){var Ut=-1,Mt=Array(_t.size);return _t.forEach(function(nn,Yn){Mt[++Ut]=[Yn,nn]}),Mt}function xx(_t,Ut){return function(Mt){return _t(Ut(Mt))}}function Zs(_t,Ut){for(var Mt=-1,nn=_t.length,Yn=0,Vi=[];++Mt<nn;){var ao=_t[Mt];(ao===Ut||ao===te)&&(_t[Mt]=te,Vi[Yn++]=Mt)}return Vi}function Nm(_t){var Ut=-1,Mt=Array(_t.size);return _t.forEach(function(nn){Mt[++Ut]=nn}),Mt}function ml(_t){return Qu(_t)?function Cx(_t){for(var Ut=px.lastIndex=0;px.test(_t);)++Ut;return Ut}(_t):Pi(_t)}function ta(_t){return Qu(_t)?function gj(_t){return _t.match(px)||[]}(_t):function zb(_t){return _t.split("")}(_t)}function Fm(_t){for(var Ut=_t.length;Ut--&&Ct.test(_t.charAt(Ut)););return Ut}var mj=Hb({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gl=function _t(Ut){var u,Mt=(Ut=null==Ut?Io:gl.defaults(Io.Object(),Ut,gl.pick(Io,an))).Array,nn=Ut.Date,Yn=Ut.Error,Vi=Ut.Function,ao=Ut.Math,nr=Ut.Object,nh=Ut.RegExp,pc=Ut.String,gt=Ut.TypeError,Lm=Mt.prototype,Zd=nr.prototype,Mf=Ut["__core-js_shared__"],Yl=Vi.prototype.toString,ir=Zd.hasOwnProperty,Ax=0,Sx=(u=/[^.]+$/.exec(Mf&&Mf.keys&&Mf.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",ih=Zd.toString,NM=Yl.call(nr),FM=Io._,mc=nh("^"+Yl.call(ir).replace(He,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bm=gx?Ut.Buffer:C,_l=Ut.Symbol,jm=Ut.Uint8Array,Tx=Bm?Bm.allocUnsafe:C,Um=xx(nr.getPrototypeOf,nr),Mx=nr.create,qb=Zd.propertyIsEnumerable,Vm=Lm.splice,Ix=_l?_l.isConcatSpreadable:C,If=_l?_l.iterator:C,un=_l?_l.toStringTag:C,zm=function(){try{var u=fu(nr,"defineProperty");return u({},"",{}),u}catch{}}(),LM=Ut.clearTimeout!==Io.clearTimeout&&Ut.clearTimeout,dn=nn&&nn.now!==Io.Date.now&&nn.now,Dx=Ut.setTimeout!==Io.setTimeout&&Ut.setTimeout,Zt=ao.ceil,Do=ao.floor,gi=nr.getOwnPropertySymbols,Oo=Bm?Bm.isBuffer:C,Xo=Ut.isFinite,Kl=Lm.join,ws=xx(nr.keys,nr),_o=ao.max,ds=ao.min,Hm=nn.now,BM=Ut.parseInt,Ox=ao.random,Df=Lm.reverse,Xb=fu(Ut,"DataView"),eu=fu(Ut,"Map"),Gm=fu(Ut,"Promise"),bl=fu(Ut,"Set"),Wm=fu(Ut,"WeakMap"),tu=fu(nr,"create"),$m=Wm&&new Wm,Jl={},Rx=pu(Xb),kx=pu(eu),nu=pu(Gm),jM=pu(bl),Yb=pu(Wm),iu=_l?_l.prototype:C,Of=iu?iu.valueOf:C,qm=iu?iu.toString:C;function Se(u){if(uo(u)&&!ai(u)&&!(u instanceof Ni)){if(u instanceof na)return u;if(ir.call(u,"__wrapped__"))return wy(u)}return new na(u)}var Yo=function(){function u(){}return function(p){if(!no(p))return{};if(Mx)return Mx(p);u.prototype=p;var _=new u;return u.prototype=C,_}}();function yl(){}function na(u,p){this.__wrapped__=u,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=C}function Ni(u){this.__wrapped__=u,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function ru(u){var p=-1,_=null==u?0:u.length;for(this.clear();++p<_;){var L=u[p];this.set(L[0],L[1])}}function za(u){var p=-1,_=null==u?0:u.length;for(this.clear();++p<_;){var L=u[p];this.set(L[0],L[1])}}function wl(u){var p=-1,_=null==u?0:u.length;for(this.clear();++p<_;){var L=u[p];this.set(L[0],L[1])}}function ou(u){var p=-1,_=null==u?0:u.length;for(this.__data__=new wl;++p<_;)this.add(u[p])}function ia(u){var p=this.__data__=new za(u);this.size=p.size}function us(u,p){var _=ai(u),L=!_&&El(u),me=!_&&!L&&Cl(u),ke=!_&&!L&&!me&&vc(u),Qe=_||L||me||ke,dt=Qe?Xl(u.length,pc):[],bt=dt.length;for(var Vt in u)(p||ir.call(u,Vt))&&(!Qe||!("length"==Vt||me&&("offset"==Vt||"parent"==Vt)||ke&&("buffer"==Vt||"byteLength"==Vt||"byteOffset"==Vt)||la(Vt,bt)))&&dt.push(Vt);return dt}function ra(u){var p=u.length;return p?u[jf(0,p-1)]:C}function sh(u,p){return Qf(ca(u),Ha(p,0,u.length))}function Er(u){return Qf(ca(u))}function ko(u,p,_){(_!==C&&!pa(u[p],_)||_===C&&!(p in u))&&Ji(u,p,_)}function ks(u,p,_){var L=u[p];(!ir.call(u,p)||!pa(L,_)||_===C&&!(p in u))&&Ji(u,p,_)}function Wn(u,p){for(var _=u.length;_--;)if(pa(u[_][0],p))return _;return-1}function kf(u,p,_,L){return oa(u,function(me,ke,Qe){p(L,me,_(me),Qe)}),L}function Qb(u,p){return u&&Hc(p,hs(p),u)}function Ji(u,p,_){"__proto__"==p&&zm?zm(u,p,{configurable:!0,enumerable:!0,value:_,writable:!0}):u[p]=_}function su(u,p){for(var _=-1,L=p.length,me=Mt(L),ke=null==u;++_<L;)me[_]=ke?C:_u(u,p[_]);return me}function Ha(u,p,_){return u==u&&(_!==C&&(u=u<=_?u:_),p!==C&&(u=u>=p?u:p)),u}function bo(u,p,_,L,me,ke){var Qe,dt=1&p,bt=2&p,Vt=4&p;if(_&&(Qe=me?_(u,L,me,ke):_(u)),Qe!==C)return Qe;if(!no(u))return u;var $t=ai(u);if($t){if(Qe=function cg(u){var p=u.length,_=new u.constructor(p);return p&&"string"==typeof u[0]&&ir.call(u,"index")&&(_.index=u.index,_.input=u.input),_}(u),!dt)return ca(u,Qe)}else{var Kt=Nr(u),pn=Kt==ut||Kt==ft;if(Cl(u))return sy(u,dt);if(Kt==O||Kt==Be||pn&&!me){if(Qe=bt||pn?{}:lg(u),!dt)return bt?function Mi(u,p){return Hc(u,lh(u),p)}(u,function ah(u,p){return u&&Hc(p,As(p),u)}(Qe,u)):function Ft(u,p){return Hc(u,sg(u),p)}(u,Qb(Qe,u))}else{if(!gr[Kt])return me?u:{};Qe=function tE(u,p,_){var L=u.constructor;switch(p){case ce:return qx(u);case Ae:case Ne:return new L(+u);case k:return function cI(u,p){var _=p?qx(u.buffer):u.buffer;return new u.constructor(_,u.byteOffset,u.byteLength)}(u,_);case U:case Pe:case it:case ht:case Tt:case An:case qn:case ri:case zn:return ay(u,_);case Fe:return new L;case V:case Ze:return new L(u);case ve:return function lI(u){var p=new u.constructor(u.source,ae.exec(u));return p.lastIndex=u.lastIndex,p}(u);case Ve:return new L;case St:return function dI(u){return Of?nr(Of.call(u)):{}}(u)}}(u,Kt,dt)}}ke||(ke=new ia);var Pn=ke.get(u);if(Pn)return Pn;ke.set(u,Qe),jy(u)?u.forEach(function(Kn){Qe.add(bo(Kn,p,_,Kn,u,ke))}):_h(u)&&u.forEach(function(Kn,Ii){Qe.set(Ii,bo(Kn,p,_,Ii,u,ke))});var yi=$t?C:(Vt?bt?my:$f:bt?As:hs)(u);return go(yi||u,function(Kn,Ii){yi&&(Kn=u[Ii=Kn]),ks(Qe,Ii,bo(Kn,p,_,Ii,u,ke))}),Qe}function Zb(u,p,_){var L=_.length;if(null==u)return!L;for(u=nr(u);L--;){var me=_[L],Qe=u[me];if(Qe===C&&!(me in u)||!(0,p[me])(Qe))return!1}return!0}function xl(u,p,_){if("function"!=typeof u)throw new gt(w);return da(function(){u.apply(C,_)},p)}function Ql(u,p,_,L){var me=-1,ke=Ui,Qe=!0,dt=u.length,bt=[],Vt=p.length;if(!dt)return bt;_&&(p=zr(p,Ta(_))),L?(ke=bx,Qe=!1):p.length>=200&&(ke=Ju,Qe=!1,p=new ou(p));e:for(;++me<dt;){var $t=u[me],Kt=null==_?$t:_($t);if($t=L||0!==$t?$t:0,Qe&&Kt==Kt){for(var pn=Vt;pn--;)if(p[pn]===Kt)continue e;bt.push($t)}else ke(p,Kt,L)||bt.push($t)}return bt}Se.templateSettings={escape:To,evaluate:Ua,interpolate:fl,variable:"",imports:{_:Se}},(Se.prototype=yl.prototype).constructor=Se,(na.prototype=Yo(yl.prototype)).constructor=na,(Ni.prototype=Yo(yl.prototype)).constructor=Ni,ru.prototype.clear=function VM(){this.__data__=tu?tu(null):{},this.size=0},ru.prototype.delete=function zM(u){var p=this.has(u)&&delete this.__data__[u];return this.size-=p?1:0,p},ru.prototype.get=function Kb(u){var p=this.__data__;if(tu){var _=p[u];return _===B?C:_}return ir.call(p,u)?p[u]:C},ru.prototype.has=function vl(u){var p=this.__data__;return tu?p[u]!==C:ir.call(p,u)},ru.prototype.set=function Nx(u,p){var _=this.__data__;return this.size+=this.has(u)?0:1,_[u]=tu&&p===C?B:p,this},za.prototype.clear=function oh(){this.__data__=[],this.size=0},za.prototype.delete=function HM(u){var p=this.__data__,_=Wn(p,u);return!(_<0||(_==p.length-1?p.pop():Vm.call(p,_,1),--this.size,0))},za.prototype.get=function GM(u){var p=this.__data__,_=Wn(p,u);return _<0?C:p[_][1]},za.prototype.has=function Ro(u){return Wn(this.__data__,u)>-1},za.prototype.set=function Fx(u,p){var _=this.__data__,L=Wn(_,u);return L<0?(++this.size,_.push([u,p])):_[L][1]=p,this},wl.prototype.clear=function Rf(){this.size=0,this.__data__={hash:new ru,map:new(eu||za),string:new ru}},wl.prototype.delete=function WM(u){var p=rg(this,u).delete(u);return this.size-=p?1:0,p},wl.prototype.get=function $M(u){return rg(this,u).get(u)},wl.prototype.has=function qM(u){return rg(this,u).has(u)},wl.prototype.set=function XM(u,p){var _=rg(this,u),L=_.size;return _.set(u,p),this.size+=_.size==L?0:1,this},ou.prototype.add=ou.prototype.push=function YM(u){return this.__data__.set(u,B),this},ou.prototype.has=function Jb(u){return this.__data__.has(u)},ia.prototype.clear=function Hr(){this.__data__=new za,this.size=0},ia.prototype.delete=function sn(u){var p=this.__data__,_=p.delete(u);return this.size=p.size,_},ia.prototype.get=function Vn(u){return this.__data__.get(u)},ia.prototype.has=function co(u){return this.__data__.has(u)},ia.prototype.set=function gc(u,p){var _=this.__data__;if(_ instanceof za){var L=_.__data__;if(!eu||L.length<199)return L.push([u,p]),this.size=++_.size,this;_=this.__data__=new wl(L)}return _.set(u,p),this.size=_.size,this};var oa=rr(kr),si=rr(Ko,!0);function ey(u,p){var _=!0;return oa(u,function(L,me,ke){return _=!!p(L,me,ke)}),_}function Zl(u,p,_){for(var L=-1,me=u.length;++L<me;){var ke=u[L],Qe=p(ke);if(null!=Qe&&(dt===C?Qe==Qe&&!Fs(Qe):_(Qe,dt)))var dt=Qe,bt=ke}return bt}function Nf(u,p){var _=[];return oa(u,function(L,me,ke){p(L,me,ke)&&_.push(L)}),_}function to(u,p,_,L,me){var ke=-1,Qe=u.length;for(_||(_=gI),me||(me=[]);++ke<Qe;){var dt=u[ke];p>0&&_(dt)?p>1?to(dt,p-1,_,L,me):ql(me,dt):L||(me[me.length]=dt)}return me}var Kr=cy(),Xm=cy(!0);function kr(u,p){return u&&Kr(u,p,hs)}function Ko(u,p){return u&&Xm(u,p,hs)}function ch(u,p){return Gn(p,function(_){return qc(u[_])})}function Ia(u,p){for(var _=0,L=(p=bc(p,u)).length;null!=u&&_<L;)u=u[qa(p[_++])];return _&&_==L?u:C}function Ff(u,p,_){var L=p(u);return ai(u)?L:ql(L,_(u))}function Pr(u){return null==u?u===C?"[object Undefined]":"[object Null]":un&&un in nr(u)?function eE(u){var p=ir.call(u,un),_=u[un];try{u[un]=C;var L=!0}catch{}var me=ih.call(u);return L&&(p?u[un]=_:delete u[un]),me}(u):function yy(u){return ih.call(u)}(u)}function Lf(u,p){return u>p}function KM(u,p){return null!=u&&ir.call(u,p)}function JM(u,p){return null!=u&&p in nr(u)}function Ym(u,p,_){for(var L=_?bx:Ui,me=u[0].length,ke=u.length,Qe=ke,dt=Mt(ke),bt=1/0,Vt=[];Qe--;){var $t=u[Qe];Qe&&p&&($t=zr($t,Ta(p))),bt=ds($t.length,bt),dt[Qe]=!_&&(p||me>=120&&$t.length>=120)?new ou(Qe&&$t):C}$t=u[0];var Kt=-1,pn=dt[0];e:for(;++Kt<me&&Vt.length<bt;){var Pn=$t[Kt],$n=p?p(Pn):Pn;if(Pn=_||0!==Pn?Pn:0,!(pn?Ju(pn,$n):L(Vt,$n,_))){for(Qe=ke;--Qe;){var yi=dt[Qe];if(!(yi?Ju(yi,$n):L(u[Qe],$n,_)))continue e}pn&&pn.push($n),Vt.push(Pn)}}return Vt}function au(u,p,_){var L=null==(u=wI(u,p=bc(p,u)))?u:u[qa(Xa(p))];return null==L?C:Os(L,u,_)}function ZM(u){return uo(u)&&Pr(u)==Be}function Km(u,p,_,L,me){return u===p||(null==u||null==p||!uo(u)&&!uo(p)?u!=u&&p!=p:function yj(u,p,_,L,me,ke){var Qe=ai(u),dt=ai(p),bt=Qe?W:Nr(u),Vt=dt?W:Nr(p),$t=(bt=bt==Be?O:bt)==O,Kt=(Vt=Vt==Be?O:Vt)==O,pn=bt==Vt;if(pn&&Cl(u)){if(!Cl(p))return!1;Qe=!0,$t=!1}if(pn&&!$t)return ke||(ke=new ia),Qe||vc(u)?py(u,p,_,L,me,ke):function Qx(u,p,_,L,me,ke,Qe){switch(_){case k:if(u.byteLength!=p.byteLength||u.byteOffset!=p.byteOffset)return!1;u=u.buffer,p=p.buffer;case ce:return!(u.byteLength!=p.byteLength||!ke(new jm(u),new jm(p)));case Ae:case Ne:case V:return pa(+u,+p);case nt:return u.name==p.name&&u.message==p.message;case ve:case Ze:return u==p+"";case Fe:var dt=eh;case Ve:if(dt||(dt=Nm),u.size!=p.size&&!(1&L))return!1;var Vt=Qe.get(u);if(Vt)return Vt==p;L|=2,Qe.set(u,p);var $t=py(dt(u),dt(p),L,me,ke,Qe);return Qe.delete(u),$t;case St:if(Of)return Of.call(u)==Of.call(p)}return!1}(u,p,bt,_,L,me,ke);if(!(1&_)){var Pn=$t&&ir.call(u,"__wrapped__"),$n=Kt&&ir.call(p,"__wrapped__");if(Pn||$n){var yi=Pn?u.value():u,Kn=$n?p.value():p;return ke||(ke=new ia),me(yi,Kn,_,L,ke)}}return!!pn&&(ke||(ke=new ia),function Zx(u,p,_,L,me,ke){var Qe=1&_,dt=$f(u),bt=dt.length;if(bt!=$f(p).length&&!Qe)return!1;for(var Kt=bt;Kt--;){var pn=dt[Kt];if(!(Qe?pn in p:ir.call(p,pn)))return!1}var Pn=ke.get(u),$n=ke.get(p);if(Pn&&$n)return Pn==p&&$n==u;var yi=!0;ke.set(u,p),ke.set(p,u);for(var Kn=Qe;++Kt<bt;){var Ii=u[pn=dt[Kt]],Fi=p[pn];if(L)var ga=Qe?L(Fi,Ii,pn,p,u,ke):L(Ii,Fi,pn,u,p,ke);if(!(ga===C?Ii===Fi||me(Ii,Fi,_,L,ke):ga)){yi=!1;break}Kn||(Kn="constructor"==pn)}if(yi&&!Kn){var Ln=u.constructor,lt=p.constructor;Ln!=lt&&"constructor"in u&&"constructor"in p&&!("function"==typeof Ln&&Ln instanceof Ln&&"function"==typeof lt&&lt instanceof lt)&&(yi=!1)}return ke.delete(u),ke.delete(p),yi}(u,p,_,L,me,ke))}(u,p,_,L,Km,me))}function Lx(u,p,_,L){var me=_.length,ke=me,Qe=!L;if(null==u)return!ke;for(u=nr(u);me--;){var dt=_[me];if(Qe&&dt[2]?dt[1]!==u[dt[0]]:!(dt[0]in u))return!1}for(;++me<ke;){var bt=(dt=_[me])[0],Vt=u[bt],$t=dt[1];if(Qe&&dt[2]){if(Vt===C&&!(bt in u))return!1}else{var Kt=new ia;if(L)var pn=L(Vt,$t,bt,u,p,Kt);if(!(pn===C?Km($t,Vt,3,L,Kt):pn))return!1}}return!0}function eI(u){return!(!no(u)||function _I(u){return!!Sx&&Sx in u}(u))&&(qc(u)?mc:he).test(pu(u))}function tI(u){return"function"==typeof u?u:null==u?Cr:"object"==typeof u?ai(u)?rI(u[0],u[1]):iI(u):hC(u)}function Jm(u){if(!dg(u))return ws(u);var p=[];for(var _ in nr(u))ir.call(u,_)&&"constructor"!=_&&p.push(_);return p}function jx(u,p){return u<p}function nI(u,p){var _=-1,L=Cs(u)?Mt(u.length):[];return oa(u,function(me,ke,Qe){L[++_]=p(me,ke,Qe)}),L}function iI(u){var p=og(u);return 1==p.length&&p[0][2]?ug(p[0][0],p[0][1]):function(_){return _===u||Lx(_,u,p)}}function rI(u,p){return gy(u)&&yI(p)?ug(qa(u),p):function(_){var L=_u(_,u);return L===C&&L===p?Og(_,u):Km(p,L,3)}}function Bf(u,p,_,L,me){u!==p&&Kr(p,function(ke,Qe){if(me||(me=new ia),no(ke))!function Ux(u,p,_,L,me,ke,Qe){var dt=hg(u,_),bt=hg(p,_),Vt=Qe.get(bt);if(Vt)ko(u,_,Vt);else{var $t=ke?ke(dt,bt,_+"",u,p,Qe):C,Kt=$t===C;if(Kt){var pn=ai(bt),Pn=!pn&&Cl(bt),$n=!pn&&!Pn&&vc(bt);$t=bt,pn||Pn||$n?ai(dt)?$t=dt:Fr(dt)?$t=ca(dt):Pn?(Kt=!1,$t=sy(bt,!0)):$n?(Kt=!1,$t=ay(bt,!0)):$t=[]:nd(bt)||El(bt)?($t=dt,El(dt)?$t=GE(dt):(!no(dt)||qc(dt))&&($t=lg(bt))):Kt=!1}Kt&&(Qe.set(bt,$t),me($t,bt,L,ke,Qe),Qe.delete(bt)),ko(u,_,$t)}}(u,p,Qe,_,Bf,L,me);else{var dt=L?L(hg(u,Qe),ke,Qe+"",u,p,me):C;dt===C&&(dt=ke),ko(u,Qe,dt)}},As)}function _r(u,p){var _=u.length;if(_)return la(p+=p<0?_:0,_)?u[p]:C}function ny(u,p,_){p=p.length?zr(p,function(ke){return ai(ke)?function(Qe){return Ia(Qe,1===ke.length?ke[0]:ke)}:ke}):[Cr];var L=-1;return p=zr(p,Ta(jn())),function IM(_t,Ut){var Mt=_t.length;for(_t.sort(Ut);Mt--;)_t[Mt]=_t[Mt].value;return _t}(nI(u,function(ke,Qe,dt){return{criteria:zr(p,function(Vt){return Vt(ke)}),index:++L,value:ke}}),function(ke,Qe){return function uI(u,p,_){for(var L=-1,me=u.criteria,ke=p.criteria,Qe=me.length,dt=_.length;++L<Qe;){var bt=uu(me[L],ke[L]);if(bt)return L>=dt?bt:bt*("desc"==_[L]?-1:1)}return u.index-p.index}(ke,Qe,_)})}function Vx(u,p,_){for(var L=-1,me=p.length,ke={};++L<me;){var Qe=p[L],dt=Ia(u,Qe);_(dt,Qe)&&Uf(ke,bc(Qe,u),dt)}return ke}function Qm(u,p,_,L){var me=L?pj:Af,ke=-1,Qe=p.length,dt=u;for(u===p&&(p=ca(p)),_&&(dt=zr(u,Ta(_)));++ke<Qe;)for(var bt=0,Vt=p[ke],$t=_?_(Vt):Vt;(bt=me(dt,$t,bt,L))>-1;)dt!==u&&Vm.call(dt,bt,1),Vm.call(u,bt,1);return u}function Hx(u,p){for(var _=u?p.length:0,L=_-1;_--;){var me=p[_];if(_==L||me!==ke){var ke=me;la(me)?Vm.call(u,me,1):ry(u,me)}}return u}function jf(u,p){return u+Do(Ox()*(p-u+1))}function Ga(u,p){var _="";if(!u||p<1||p>je)return _;do{p%2&&(_+=u),(p=Do(p/2))&&(u+=u)}while(p);return _}function _i(u,p){return vy(Kf(u,p,Cr),u+"")}function Gx(u){return ra(bh(u))}function Wx(u,p){var _=bh(u);return Qf(_,Ha(p,0,_.length))}function Uf(u,p,_,L){if(!no(u))return u;for(var me=-1,ke=(p=bc(p,u)).length,Qe=ke-1,dt=u;null!=dt&&++me<ke;){var bt=qa(p[me]),Vt=_;if("__proto__"===bt||"constructor"===bt||"prototype"===bt)return u;if(me!=Qe){var $t=dt[bt];(Vt=L?L($t,bt,dt):C)===C&&(Vt=no($t)?$t:la(p[me+1])?[]:{})}ks(dt,bt,Vt),dt=dt[bt]}return u}var aI=$m?function(u,p){return $m.set(u,p),u}:Cr,fr=zm?function(u,p){return zm(u,"toString",{configurable:!0,enumerable:!1,value:pp(p),writable:!0})}:Cr;function iy(u){return Qf(bh(u))}function xs(u,p,_){var L=-1,me=u.length;p<0&&(p=-p>me?0:me+p),(_=_>me?me:_)<0&&(_+=me),me=p>_?0:_-p>>>0,p>>>=0;for(var ke=Mt(me);++L<me;)ke[L]=u[L+p];return ke}function Ps(u,p){var _;return oa(u,function(L,me,ke){return!(_=p(L,me,ke))}),!!_}function Zm(u,p,_){var L=0,me=null==u?L:u.length;if("number"==typeof p&&p==p&&me<=2147483647){for(;L<me;){var ke=L+me>>>1,Qe=u[ke];null!==Qe&&!Fs(Qe)&&(_?Qe<=p:Qe<p)?L=ke+1:me=ke}return me}return cu(u,p,Cr,_)}function cu(u,p,_,L){var me=0,ke=null==u?0:u.length;if(0===ke)return 0;for(var Qe=(p=_(p))!=p,dt=null===p,bt=Fs(p),Vt=p===C;me<ke;){var $t=Do((me+ke)/2),Kt=_(u[$t]),pn=Kt!==C,Pn=null===Kt,$n=Kt==Kt,yi=Fs(Kt);if(Qe)var Kn=L||$n;else Kn=Vt?$n&&(L||pn):dt?$n&&pn&&(L||!Pn):bt?$n&&pn&&!Pn&&(L||!yi):!Pn&&!yi&&(L?Kt<=p:Kt<p);Kn?me=$t+1:ke=$t}return ds(ke,4294967294)}function lu(u,p){for(var _=-1,L=u.length,me=0,ke=[];++_<L;){var Qe=u[_],dt=p?p(Qe):Qe;if(!_||!pa(dt,bt)){var bt=dt;ke[me++]=0===Qe?0:Qe}}return ke}function sa(u){return"number"==typeof u?u:Fs(u)?NaN:+u}function Da(u){if("string"==typeof u)return u;if(ai(u))return zr(u,Da)+"";if(Fs(u))return qm?qm.call(u):"";var p=u+"";return"0"==p&&1/u==-Ee?"-0":p}function zc(u,p,_){var L=-1,me=Ui,ke=u.length,Qe=!0,dt=[],bt=dt;if(_)Qe=!1,me=bx;else if(ke>=200){var Vt=p?null:uy(u);if(Vt)return Nm(Vt);Qe=!1,me=Ju,bt=new ou}else bt=p?[]:dt;e:for(;++L<ke;){var $t=u[L],Kt=p?p($t):$t;if($t=_||0!==$t?$t:0,Qe&&Kt==Kt){for(var pn=bt.length;pn--;)if(bt[pn]===Kt)continue e;p&&bt.push(Kt),dt.push($t)}else me(bt,Kt,_)||(bt!==dt&&bt.push(Kt),dt.push($t))}return dt}function ry(u,p){return null==(u=wI(u,p=bc(p,u)))||delete u[qa(Xa(p))]}function _c(u,p,_,L){return Uf(u,p,_(Ia(u,p)),L)}function Vf(u,p,_,L){for(var me=u.length,ke=L?me:-1;(L?ke--:++ke<me)&&p(u[ke],ke,u););return _?xs(u,L?0:ke,L?ke+1:me):xs(u,L?ke+1:0,L?me:ke)}function $x(u,p){var _=u;return _ instanceof Ni&&(_=_.value()),yx(p,function(L,me){return me.func.apply(me.thisArg,ql([L],me.args))},_)}function eg(u,p,_){var L=u.length;if(L<2)return L?zc(u[0]):[];for(var me=-1,ke=Mt(L);++me<L;)for(var Qe=u[me],dt=-1;++dt<L;)dt!=me&&(ke[me]=Ql(ke[me]||Qe,u[dt],p,_));return zc(to(ke,1),p,_)}function tg(u,p,_){for(var L=-1,me=u.length,ke=p.length,Qe={};++L<me;)_(Qe,u[L],L<ke?p[L]:C);return Qe}function zf(u){return Fr(u)?u:[]}function du(u){return"function"==typeof u?u:Cr}function bc(u,p){return ai(u)?u:gy(u,p)?[u]:Zf(or(u))}var oy=_i;function aa(u,p,_){var L=u.length;return _=_===C?L:_,!p&&_>=L?u:xs(u,p,_)}var Zn=LM||function(u){return Io.clearTimeout(u)};function sy(u,p){if(p)return u.slice();var _=u.length,L=Tx?Tx(_):new u.constructor(_);return u.copy(L),L}function qx(u){var p=new u.constructor(u.byteLength);return new jm(p).set(new jm(u)),p}function ay(u,p){var _=p?qx(u.buffer):u.buffer;return new u.constructor(_,u.byteOffset,u.length)}function uu(u,p){if(u!==p){var _=u!==C,L=null===u,me=u==u,ke=Fs(u),Qe=p!==C,dt=null===p,bt=p==p,Vt=Fs(p);if(!dt&&!Vt&&!ke&&u>p||ke&&Qe&&bt&&!dt&&!Vt||L&&Qe&&bt||!_&&bt||!me)return 1;if(!L&&!ke&&!Vt&&u<p||Vt&&_&&me&&!L&&!ke||dt&&_&&me||!Qe&&me||!bt)return-1}return 0}function Xx(u,p,_,L){for(var me=-1,ke=u.length,Qe=_.length,dt=-1,bt=p.length,Vt=_o(ke-Qe,0),$t=Mt(bt+Vt),Kt=!L;++dt<bt;)$t[dt]=p[dt];for(;++me<Qe;)(Kt||me<ke)&&($t[_[me]]=u[me]);for(;Vt--;)$t[dt++]=u[me++];return $t}function Yx(u,p,_,L){for(var me=-1,ke=u.length,Qe=-1,dt=_.length,bt=-1,Vt=p.length,$t=_o(ke-dt,0),Kt=Mt($t+Vt),pn=!L;++me<$t;)Kt[me]=u[me];for(var Pn=me;++bt<Vt;)Kt[Pn+bt]=p[bt];for(;++Qe<dt;)(pn||me<ke)&&(Kt[Pn+_[Qe]]=u[me++]);return Kt}function ca(u,p){var _=-1,L=u.length;for(p||(p=Mt(L));++_<L;)p[_]=u[_];return p}function Hc(u,p,_,L){var me=!_;_||(_={});for(var ke=-1,Qe=p.length;++ke<Qe;){var dt=p[ke],bt=L?L(_[dt],u[dt],dt,_,u):C;bt===C&&(bt=u[dt]),me?Ji(_,dt,bt):ks(_,dt,bt)}return _}function fn(u,p){return function(_,L){var me=ai(_)?_x:kf,ke=p?p():{};return me(_,u,jn(L,2),ke)}}function hn(u){return _i(function(p,_){var L=-1,me=_.length,ke=me>1?_[me-1]:C,Qe=me>2?_[2]:C;for(ke=u.length>3&&"function"==typeof ke?(me--,ke):C,Qe&&Po(_[0],_[1],Qe)&&(ke=me<3?C:ke,me=1),p=nr(p);++L<me;){var dt=_[L];dt&&u(p,dt,L,ke)}return p})}function rr(u,p){return function(_,L){if(null==_)return _;if(!Cs(_))return u(_,L);for(var me=_.length,ke=p?me:-1,Qe=nr(_);(p?ke--:++ke<me)&&!1!==L(Qe[ke],ke,Qe););return _}}function cy(u){return function(p,_,L){for(var me=-1,ke=nr(p),Qe=L(p),dt=Qe.length;dt--;){var bt=Qe[u?dt:++me];if(!1===_(ke[bt],bt,ke))break}return p}}function yc(u){return function(p){var _=Qu(p=or(p))?ta(p):C,L=_?_[0]:p.charAt(0),me=_?aa(_,1).join(""):p.slice(1);return L[u]()+me}}function ed(u){return function(p){return yx(hp(iC(p).replace(dj,"")),u,"")}}function hu(u){return function(){var p=arguments;switch(p.length){case 0:return new u;case 1:return new u(p[0]);case 2:return new u(p[0],p[1]);case 3:return new u(p[0],p[1],p[2]);case 4:return new u(p[0],p[1],p[2],p[3]);case 5:return new u(p[0],p[1],p[2],p[3],p[4]);case 6:return new u(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new u(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var _=Yo(u.prototype),L=u.apply(_,p);return no(L)?L:_}}function fI(u){return function(p,_,L){var me=nr(p);if(!Cs(p)){var ke=jn(_,3);p=hs(p),_=function(dt){return ke(me[dt],dt,me)}}var Qe=u(p,_,L);return Qe>-1?me[ke?p[Qe]:Qe]:C}}function ly(u){return Wc(function(p){var _=p.length,L=_,me=na.prototype.thru;for(u&&p.reverse();L--;){var ke=p[L];if("function"!=typeof ke)throw new gt(w);if(me&&!Qe&&"wrapper"==$c(ke))var Qe=new na([],!0)}for(L=Qe?L:_;++L<_;){var dt=$c(ke=p[L]),bt="wrapper"==dt?Qo(ke):C;Qe=bt&&by(bt[0])&&424==bt[1]&&!bt[4].length&&1==bt[9]?Qe[$c(bt[0])].apply(Qe,bt[3]):1==ke.length&&by(ke)?Qe[dt]():Qe.thru(ke)}return function(){var Vt=arguments,$t=Vt[0];if(Qe&&1==Vt.length&&ai($t))return Qe.plant($t).value();for(var Kt=0,pn=_?p[Kt].apply(this,Vt):$t;++Kt<_;)pn=p[Kt].call(this,pn);return pn}})}function Jo(u,p,_,L,me,ke,Qe,dt,bt,Vt){var $t=p&A,Kt=1&p,pn=2&p,Pn=24&p,$n=512&p,yi=pn?C:hu(u);return function Kn(){for(var Ii=arguments.length,Fi=Mt(Ii),ga=Ii;ga--;)Fi[ga]=arguments[ga];if(Pn)var Ln=Qi(Kn),lt=function Gb(_t,Ut){for(var Mt=_t.length,nn=0;Mt--;)_t[Mt]===Ut&&++nn;return nn}(Fi,Ln);if(L&&(Fi=Xx(Fi,L,me,Pn)),ke&&(Fi=Yx(Fi,ke,Qe,Pn)),Ii-=lt,Pn&&Ii<Vt){var io=Zs(Fi,Ln);return Kx(u,p,Jo,Kn.placeholder,_,Fi,io,dt,bt,Vt-Ii)}var be=Kt?_:this,wc=pn?be[u]:u;return Ii=Fi.length,dt?Fi=function iE(u,p){for(var _=u.length,L=ds(p.length,_),me=ca(u);L--;){var ke=p[L];u[L]=la(ke,_)?me[ke]:C}return u}(Fi,dt):$n&&Ii>1&&Fi.reverse(),$t&&bt<Ii&&(Fi.length=bt),this&&this!==Io&&this instanceof Kn&&(wc=yi||hu(wc)),wc.apply(be,Fi)}}function Gc(u,p){return function(_,L){return function QM(u,p,_,L){return kr(u,function(me,ke,Qe){p(L,_(me),ke,Qe)}),L}(_,u,p(L),{})}}function Gf(u,p){return function(_,L){var me;if(_===C&&L===C)return p;if(_!==C&&(me=_),L!==C){if(me===C)return L;"string"==typeof _||"string"==typeof L?(_=Da(_),L=Da(L)):(_=sa(_),L=sa(L)),me=u(_,L)}return me}}function Oa(u){return Wc(function(p){return p=zr(p,Ta(jn())),_i(function(_){var L=this;return u(p,function(me){return Os(me,L,_)})})})}function Wa(u,p){var _=(p=p===C?" ":Da(p)).length;if(_<2)return _?Ga(p,u):p;var L=Ga(p,Zt(u/ml(p)));return Qu(p)?aa(ta(L),0,u).join(""):L.slice(0,u)}function dy(u){return function(p,_,L){return L&&"number"!=typeof L&&Po(p,_,L)&&(_=L=C),p=Xc(p),_===C?(_=p,p=0):_=Xc(_),function sI(u,p,_,L){for(var me=-1,ke=_o(Zt((p-u)/(_||1)),0),Qe=Mt(ke);ke--;)Qe[L?ke:++me]=u,u+=_;return Qe}(p,_,L=L===C?p<_?1:-1:Xc(L),u)}}function ng(u){return function(p,_){return"string"==typeof p&&"string"==typeof _||(p=Ya(p),_=Ya(_)),u(p,_)}}function Kx(u,p,_,L,me,ke,Qe,dt,bt,Vt){var $t=8&p;p|=$t?y:64,4&(p&=~($t?64:y))||(p&=-4);var yi=[u,p,me,$t?ke:C,$t?Qe:C,$t?C:ke,$t?C:Qe,dt,bt,Vt],Kn=_.apply(C,yi);return by(u)&&rE(Kn,yi),Kn.placeholder=L,Jf(Kn,u,p)}function Wf(u){var p=ao[u];return function(_,L){if(_=Ya(_),(L=null==L?0:ds(fi(L),292))&&Xo(_)){var me=(or(_)+"e").split("e");return+((me=(or(p(me[0]+"e"+(+me[1]+L)))+"e").split("e"))[0]+"e"+(+me[1]-L))}return p(_)}}var uy=bl&&1/Nm(new bl([,-0]))[1]==Ee?function(u){return new bl(u)}:Pg;function ig(u){return function(p){var _=Nr(p);return _==Fe?eh(p):_==Ve?function ea(_t){var Ut=-1,Mt=Array(_t.size);return _t.forEach(function(nn){Mt[++Ut]=[nn,nn]}),Mt}(p):function DM(_t,Ut){return zr(Ut,function(Mt){return[Mt,_t[Mt]]})}(p,u(p))}}function $a(u,p,_,L,me,ke,Qe,dt){var bt=2&p;if(!bt&&"function"!=typeof u)throw new gt(w);var Vt=L?L.length:0;if(Vt||(p&=-97,L=me=C),Qe=Qe===C?Qe:_o(fi(Qe),0),dt=dt===C?dt:fi(dt),Vt-=me?me.length:0,64&p){var $t=L,Kt=me;L=me=C}var pn=bt?C:Qo(u),Pn=[u,p,_,L,me,$t,Kt,ke,Qe,dt];if(pn&&function vI(u,p){var _=u[1],L=p[1],me=_|L;if(!(me<131)&&!(L==A&&8==_||L==A&&256==_&&u[7].length<=p[8]||384==L&&p[7].length<=p[8]&&8==_))return u;1&L&&(u[2]=p[2],me|=1&_?0:4);var dt=p[3];if(dt){var bt=u[3];u[3]=bt?Xx(bt,dt,p[4]):dt,u[4]=bt?Zs(u[3],te):p[4]}(dt=p[5])&&(u[5]=(bt=u[5])?Yx(bt,dt,p[6]):dt,u[6]=bt?Zs(u[5],te):p[6]),(dt=p[7])&&(u[7]=dt),L&A&&(u[8]=null==u[8]?p[8]:ds(u[8],p[8])),null==u[9]&&(u[9]=p[9]),u[0]=p[0],u[1]=me}(Pn,pn),u=Pn[0],p=Pn[1],_=Pn[2],L=Pn[3],me=Pn[4],!(dt=Pn[9]=Pn[9]===C?bt?0:u.length:_o(Pn[9]-Vt,0))&&24&p&&(p&=-25),p&&1!=p)$n=8==p||16==p?function hI(u,p,_){var L=hu(u);return function me(){for(var ke=arguments.length,Qe=Mt(ke),dt=ke,bt=Qi(me);dt--;)Qe[dt]=arguments[dt];var Vt=ke<3&&Qe[0]!==bt&&Qe[ke-1]!==bt?[]:Zs(Qe,bt);return(ke-=Vt.length)<_?Kx(u,p,Jo,me.placeholder,C,Qe,Vt,C,C,_-ke):Os(this&&this!==Io&&this instanceof me?L:u,this,Qe)}}(u,p,dt):p!=y&&33!=p||me.length?Jo.apply(C,Pn):function pI(u,p,_,L){var me=1&p,ke=hu(u);return function Qe(){for(var dt=-1,bt=arguments.length,Vt=-1,$t=L.length,Kt=Mt($t+bt),pn=this&&this!==Io&&this instanceof Qe?ke:u;++Vt<$t;)Kt[Vt]=L[Vt];for(;bt--;)Kt[Vt++]=arguments[++dt];return Os(pn,me?_:this,Kt)}}(u,p,_,L);else var $n=function Hf(u,p,_){var L=1&p,me=hu(u);return function ke(){return(this&&this!==Io&&this instanceof ke?me:u).apply(L?_:this,arguments)}}(u,p,_);return Jf((pn?aI:rE)($n,Pn),u,p)}function Jx(u,p,_,L){return u===C||pa(u,Zd[_])&&!ir.call(L,_)?p:u}function hy(u,p,_,L,me,ke){return no(u)&&no(p)&&(ke.set(p,u),Bf(u,p,C,hy,ke),ke.delete(p)),u}function fy(u){return nd(u)?C:u}function py(u,p,_,L,me,ke){var Qe=1&_,dt=u.length,bt=p.length;if(dt!=bt&&!(Qe&&bt>dt))return!1;var Vt=ke.get(u),$t=ke.get(p);if(Vt&&$t)return Vt==p&&$t==u;var Kt=-1,pn=!0,Pn=2&_?new ou:C;for(ke.set(u,p),ke.set(p,u);++Kt<dt;){var $n=u[Kt],yi=p[Kt];if(L)var Kn=Qe?L(yi,$n,Kt,p,u,ke):L($n,yi,Kt,u,p,ke);if(Kn!==C){if(Kn)continue;pn=!1;break}if(Pn){if(!Ef(p,function(Ii,Fi){if(!Ju(Pn,Fi)&&($n===Ii||me($n,Ii,_,L,ke)))return Pn.push(Fi)})){pn=!1;break}}else if($n!==yi&&!me($n,yi,_,L,ke)){pn=!1;break}}return ke.delete(u),ke.delete(p),pn}function Wc(u){return vy(Kf(u,C,mg),u+"")}function $f(u){return Ff(u,hs,sg)}function my(u){return Ff(u,As,lh)}var Qo=$m?function(u){return $m.get(u)}:Pg;function $c(u){for(var p=u.name+"",_=Jl[p],L=ir.call(Jl,p)?_.length:0;L--;){var me=_[L],ke=me.func;if(null==ke||ke==u)return me.name}return p}function Qi(u){return(ir.call(Se,"placeholder")?Se:u).placeholder}function jn(){var u=Se.iteratee||Yc;return u=u===Yc?tI:u,arguments.length?u(arguments[0],arguments[1]):u}function rg(u,p){var _=u.__data__;return function _y(u){var p=typeof u;return"string"==p||"number"==p||"symbol"==p||"boolean"==p?"__proto__"!==u:null===u}(p)?_["string"==typeof p?"string":"hash"]:_.map}function og(u){for(var p=hs(u),_=p.length;_--;){var L=p[_],me=u[L];p[_]=[L,me,yI(me)]}return p}function fu(u,p){var _=function kM(_t,Ut){return null==_t?C:_t[Ut]}(u,p);return eI(_)?_:C}var sg=gi?function(u){return null==u?[]:(u=nr(u),Gn(gi(u),function(p){return qb.call(u,p)}))}:mp,lh=gi?function(u){for(var p=[];u;)ql(p,sg(u)),u=Um(u);return p}:mp,Nr=Pr;function qf(u,p,_){for(var L=-1,me=(p=bc(p,u)).length,ke=!1;++L<me;){var Qe=qa(p[L]);if(!(ke=null!=u&&_(u,Qe)))break;u=u[Qe]}return ke||++L!=me?ke:!!(me=null==u?0:u.length)&&Sg(me)&&la(Qe,me)&&(ai(u)||El(u))}function lg(u){return"function"!=typeof u.constructor||dg(u)?{}:Yo(Um(u))}function gI(u){return ai(u)||El(u)||!!(Ix&&u&&u[Ix])}function la(u,p){var _=typeof u;return!!(p=p??je)&&("number"==_||"symbol"!=_&&qe.test(u))&&u>-1&&u%1==0&&u<p}function Po(u,p,_){if(!no(_))return!1;var L=typeof p;return!!("number"==L?Cs(_)&&la(p,_.length):"string"==L&&p in _)&&pa(_[p],u)}function gy(u,p){if(ai(u))return!1;var _=typeof u;return!("number"!=_&&"symbol"!=_&&"boolean"!=_&&null!=u&&!Fs(u))||jc.test(u)||!Bc.test(u)||null!=p&&u in nr(p)}function by(u){var p=$c(u),_=Se[p];if("function"!=typeof _||!(p in Ni.prototype))return!1;if(u===_)return!0;var L=Qo(_);return!!L&&u===L[0]}(Xb&&Nr(new Xb(new ArrayBuffer(1)))!=k||eu&&Nr(new eu)!=Fe||Gm&&Nr(Gm.resolve())!=ge||bl&&Nr(new bl)!=Ve||Wm&&Nr(new Wm)!=Ot)&&(Nr=function(u){var p=Pr(u),_=p==O?u.constructor:C,L=_?pu(_):"";if(L)switch(L){case Rx:return k;case kx:return Fe;case nu:return ge;case jM:return Ve;case Yb:return Ot}return p});var bI=Mf?qc:xh;function dg(u){var p=u&&u.constructor;return u===("function"==typeof p&&p.prototype||Zd)}function yI(u){return u==u&&!no(u)}function ug(u,p){return function(_){return null!=_&&_[u]===p&&(p!==C||u in nr(_))}}function Kf(u,p,_){return p=_o(p===C?u.length-1:p,0),function(){for(var L=arguments,me=-1,ke=_o(L.length-p,0),Qe=Mt(ke);++me<ke;)Qe[me]=L[p+me];me=-1;for(var dt=Mt(p+1);++me<p;)dt[me]=L[me];return dt[p]=_(Qe),Os(u,this,dt)}}function wI(u,p){return p.length<2?u:Ia(u,xs(p,0,-1))}function hg(u,p){if(("constructor"!==p||"function"!=typeof u[p])&&"__proto__"!=p)return u[p]}var rE=fg(aI),da=Dx||function(u,p){return Io.setTimeout(u,p)},vy=fg(fr);function Jf(u,p,_){var L=p+"";return vy(u,function nE(u,p){var _=p.length;if(!_)return u;var L=_-1;return p[L]=(_>1?"& ":"")+p[L],p=p.join(_>2?", ":" "),u.replace(Cn,"{\n/* [wrapped with "+p+"] */\n")}(L,function oE(u,p){return go(Et,function(_){var L="_."+_[0];p&_[1]&&!Ui(u,L)&&u.push(L)}),u.sort()}(function ag(u){var p=u.match(Dr);return p?p[1].split(Mo):[]}(L),_)))}function fg(u){var p=0,_=0;return function(){var L=Hm(),me=16-(L-_);if(_=L,me>0){if(++p>=800)return arguments[0]}else p=0;return u.apply(C,arguments)}}function Qf(u,p){var _=-1,L=u.length,me=L-1;for(p=p===C?L:p;++_<p;){var ke=jf(_,me),Qe=u[ke];u[ke]=u[_],u[_]=Qe}return u.length=p,u}var Zf=function Xf(u){var p=Eg(u,function(L){return 500===_.size&&_.clear(),L}),_=p.cache;return p}(function(u){var p=[];return 46===u.charCodeAt(0)&&p.push(""),u.replace(uc,function(_,L,me,ke){p.push(me?ke.replace(re,"$1"):L||_)}),p});function qa(u){if("string"==typeof u||Fs(u))return u;var p=u+"";return"0"==p&&1/u==-Ee?"-0":p}function pu(u){if(null!=u){try{return Yl.call(u)}catch{}try{return u+""}catch{}}return""}function wy(u){if(u instanceof Ni)return u.clone();var p=new na(u.__wrapped__,u.__chain__);return p.__actions__=ca(u.__actions__),p.__index__=u.__index__,p.__values__=u.__values__,p}var pg=_i(function(u,p){return Fr(u)?Ql(u,to(p,1,Fr,!0)):[]}),mu=_i(function(u,p){var _=Xa(p);return Fr(_)&&(_=C),Fr(u)?Ql(u,to(p,1,Fr,!0),jn(_,2)):[]}),EI=_i(function(u,p){var _=Xa(p);return Fr(_)&&(_=C),Fr(u)?Ql(u,to(p,1,Fr,!0),C,_):[]});function dE(u,p,_){var L=null==u?0:u.length;if(!L)return-1;var me=null==_?0:fi(_);return me<0&&(me=_o(L+me,0)),Cf(u,jn(p,3),me)}function zi(u,p,_){var L=null==u?0:u.length;if(!L)return-1;var me=L-1;return _!==C&&(me=fi(_),me=_<0?_o(L+me,0):ds(me,L-1)),Cf(u,jn(p,3),me,!0)}function mg(u){return null!=u&&u.length?to(u,1):[]}function hE(u){return u&&u.length?u[0]:C}var gg=_i(function(u){var p=zr(u,zf);return p.length&&p[0]===u[0]?Ym(p):[]}),pE=_i(function(u){var p=Xa(u),_=zr(u,zf);return p===Xa(_)?p=C:_.pop(),_.length&&_[0]===u[0]?Ym(_,jn(p,2)):[]}),AI=_i(function(u){var p=Xa(u),_=zr(u,zf);return(p="function"==typeof p?p:C)&&_.pop(),_.length&&_[0]===u[0]?Ym(_,C,p):[]});function Xa(u){var p=null==u?0:u.length;return p?u[p-1]:C}var gE=_i(_E);function _E(u,p){return u&&u.length&&p&&p.length?Qm(u,p):u}var bE=Wc(function(u,p){var _=null==u?0:u.length,L=su(u,p);return Hx(u,zr(p,function(me){return la(me,_)?+me:me}).sort(uu)),L});function bi(u){return null==u?u:Df.call(u)}var Oj=_i(function(u){return zc(to(u,1,Fr,!0))}),OI=_i(function(u){var p=Xa(u);return Fr(p)&&(p=C),zc(to(u,1,Fr,!0),jn(p,2))}),fh=_i(function(u){var p=Xa(u);return p="function"==typeof p?p:C,zc(to(u,1,Fr,!0),C,p)});function ep(u){if(!u||!u.length)return[];var p=0;return u=Gn(u,function(_){if(Fr(_))return p=_o(_.length,p),!0}),Xl(p,function(_){return zr(u,Ku(_))})}function Qt(u,p){if(!u||!u.length)return[];var _=ep(u);return null==p?_:zr(_,function(L){return Os(p,C,L)})}var kI=_i(function(u,p){return Fr(u)?Ql(u,p):[]}),ph=_i(function(u){return eg(Gn(u,Fr))}),tp=_i(function(u){var p=Xa(u);return Fr(p)&&(p=C),eg(Gn(u,Fr),jn(p,2))}),PI=_i(function(u){var p=Xa(u);return p="function"==typeof p?p:C,eg(Gn(u,Fr),C,p)}),CE=_i(ep),bg=_i(function(u){var p=u.length,_=p>1?u[p-1]:C;return _="function"==typeof _?(u.pop(),_):C,Qt(u,_)});function yg(u){var p=Se(u);return p.__chain__=!0,p}function vg(u,p){return p(u)}var FI=Wc(function(u){var p=u.length,_=p?u[0]:0,L=this.__wrapped__,me=function(ke){return su(ke,u)};return!(p>1||this.__actions__.length)&&L instanceof Ni&&la(_)?((L=L.slice(_,+_+(p?1:0))).__actions__.push({func:vg,args:[me],thisArg:C}),new na(L,this.__chain__).thru(function(ke){return p&&!ke.length&&ke.push(C),ke})):this.thru(me)}),Es=fn(function(u,p,_){ir.call(u,_)?++u[_]:Ji(u,_,1)}),IE=fI(dE),jI=fI(zi);function RE(u,p){return(ai(u)?go:oa)(u,jn(p,3))}function Sy(u,p){return(ai(u)?xf:si)(u,jn(p,3))}var VI=fn(function(u,p,_){ir.call(u,_)?u[_].push(p):Ji(u,_,[p])}),HI=_i(function(u,p,_){var L=-1,me="function"==typeof p,ke=Cs(u)?Mt(u.length):[];return oa(u,function(Qe){ke[++L]=me?Os(p,Qe,_):au(Qe,p,_)}),ke}),GI=fn(function(u,p,_){Ji(u,_,p)});function ip(u,p){return(ai(u)?zr:nI)(u,jn(p,3))}var PE=fn(function(u,p,_){u[_?0:1].push(p)},function(){return[[],[]]}),XI=_i(function(u,p){if(null==u)return[];var _=p.length;return _>1&&Po(u,p[0],p[1])?p=[]:_>2&&Po(p[0],p[1],p[2])&&(p=[p[0]]),ny(u,to(p,1),[])}),rp=dn||function(){return Io.Date.now()};function Ty(u,p,_){return p=_?C:p,$a(u,A,C,C,C,C,p=u&&null==p?u.length:p)}function jE(u,p){var _;if("function"!=typeof p)throw new gt(w);return u=fi(u),function(){return--u>0&&(_=p.apply(this,arguments)),u<=1&&(p=C),_}}var My=_i(function(u,p,_){var L=1;if(_.length){var me=Zs(_,Qi(My));L|=y}return $a(u,L,p,_,me)}),YI=_i(function(u,p,_){var L=3;if(_.length){var me=Zs(_,Qi(YI));L|=y}return $a(p,L,u,_,me)});function xg(u,p,_){var L,me,ke,Qe,dt,bt,Vt=0,$t=!1,Kt=!1,pn=!0;if("function"!=typeof u)throw new gt(w);function Pn(io){var be=L,wc=me;return L=me=C,Vt=io,Qe=u.apply(wc,be)}function Kn(io){var be=io-bt;return bt===C||be>=p||be<0||Kt&&io-Vt>=ke}function Ii(){var io=rp();if(Kn(io))return Fi(io);dt=da(Ii,function yi(io){var ev=p-(io-bt);return Kt?ds(ev,ke-(io-Vt)):ev}(io))}function Fi(io){return dt=C,pn&&L?Pn(io):(L=me=C,Qe)}function lt(){var io=rp(),be=Kn(io);if(L=arguments,me=this,bt=io,be){if(dt===C)return function $n(io){return Vt=io,dt=da(Ii,p),$t?Pn(io):Qe}(bt);if(Kt)return Zn(dt),dt=da(Ii,p),Pn(bt)}return dt===C&&(dt=da(Ii,p)),Qe}return p=Ya(p)||0,no(_)&&($t=!!_.leading,ke=(Kt="maxWait"in _)?_o(Ya(_.maxWait)||0,p):ke,pn="trailing"in _?!!_.trailing:pn),lt.cancel=function ga(){dt!==C&&Zn(dt),Vt=0,L=bt=me=dt=C},lt.flush=function Ln(){return dt===C?Qe:Fi(rp())},lt}var KI=_i(function(u,p){return xl(u,1,p)}),td=_i(function(u,p,_){return xl(u,Ya(p)||0,_)});function Eg(u,p){if("function"!=typeof u||null!=p&&"function"!=typeof p)throw new gt(w);var _=function(){var L=arguments,me=p?p.apply(this,L):L[0],ke=_.cache;if(ke.has(me))return ke.get(me);var Qe=u.apply(this,L);return _.cache=ke.set(me,Qe)||ke,Qe};return _.cache=new(Eg.Cache||wl),_}function sp(u){if("function"!=typeof u)throw new gt(w);return function(){var p=arguments;switch(p.length){case 0:return!u.call(this);case 1:return!u.call(this,p[0]);case 2:return!u.call(this,p[0],p[1]);case 3:return!u.call(this,p[0],p[1],p[2])}return!u.apply(this,p)}}Eg.Cache=wl;var kj=oy(function(u,p){var _=(p=1==p.length&&ai(p[0])?zr(p[0],Ta(jn())):zr(to(p,1),Ta(jn()))).length;return _i(function(L){for(var me=-1,ke=ds(L.length,_);++me<ke;)L[me]=p[me].call(this,L[me]);return Os(u,this,L)})}),lo=_i(function(u,p){var _=Zs(p,Qi(lo));return $a(u,y,C,p,_)}),ap=_i(function(u,p){var _=Zs(p,Qi(ap));return $a(u,64,C,p,_)}),JI=Wc(function(u,p){return $a(u,256,C,C,C,p)});function pa(u,p){return u===p||u!=u&&p!=p}var gh=ng(Lf),Py=ng(function(u,p){return u>=p}),El=ZM(function(){return arguments}())?ZM:function(u){return uo(u)&&ir.call(u,"callee")&&!qb.call(u,"callee")},ai=Mt.isArray,Fj=AM?Ta(AM):function _j(u){return uo(u)&&Pr(u)==ce};function Cs(u){return null!=u&&Sg(u.length)&&!qc(u)}function Fr(u){return uo(u)&&Cs(u)}var Cl=Oo||xh,tD=SM?Ta(SM):function bj(u){return uo(u)&&Pr(u)==Ne};function Fy(u){if(!uo(u))return!1;var p=Pr(u);return p==nt||"[object DOMException]"==p||"string"==typeof u.message&&"string"==typeof u.name&&!nd(u)}function qc(u){if(!no(u))return!1;var p=Pr(u);return p==ut||p==ft||"[object AsyncFunction]"==p||"[object Proxy]"==p}function Ag(u){return"number"==typeof u&&u==fi(u)}function Sg(u){return"number"==typeof u&&u>-1&&u%1==0&&u<=je}function no(u){var p=typeof u;return null!=u&&("object"==p||"function"==p)}function uo(u){return null!=u&&"object"==typeof u}var _h=TM?Ta(TM):function vj(u){return uo(u)&&Nr(u)==Fe};function dp(u){return"number"==typeof u||uo(u)&&Pr(u)==V}function nd(u){if(!uo(u)||Pr(u)!=O)return!1;var p=Um(u);if(null===p)return!0;var _=ir.call(p,"constructor")&&p.constructor;return"function"==typeof _&&_ instanceof _&&Yl.call(_)==NM}var Mg=Om?Ta(Om):function wj(u){return uo(u)&&Pr(u)==ve},jy=Xu?Ta(Xu):function xj(u){return uo(u)&&Nr(u)==Ve};function gu(u){return"string"==typeof u||!ai(u)&&uo(u)&&Pr(u)==Ze}function Fs(u){return"symbol"==typeof u||uo(u)&&Pr(u)==St}var vc=Rm?Ta(Rm):function Ej(u){return uo(u)&&Sg(u.length)&&!!Rr[Pr(u)]},Ig=ng(jx),Uy=ng(function(u,p){return u<=p});function Vy(u){if(!u)return[];if(Cs(u))return gu(u)?ta(u):ca(u);if(If&&u[If])return function PM(_t){for(var Ut,Mt=[];!(Ut=_t.next()).done;)Mt.push(Ut.value);return Mt}(u[If]());var p=Nr(u);return(p==Fe?eh:p==Ve?Nm:bh)(u)}function Xc(u){return u?(u=Ya(u))===Ee||u===-Ee?17976931348623157e292*(u<0?-1:1):u==u?u:0:0===u?u:0}function fi(u){var p=Xc(u),_=p%1;return p==p?_?p-_:p:0}function id(u){return u?Ha(fi(u),0,fe):0}function Ya(u){if("number"==typeof u)return u;if(Fs(u))return NaN;if(no(u)){var p="function"==typeof u.valueOf?u.valueOf():u;u=no(p)?p+"":p}if("string"!=typeof u)return 0===u?u:+u;u=pl(u);var _=P.test(u);return _||le.test(u)?CM(u.slice(2),_?2:8):S.test(u)?NaN:+u}function GE(u){return Hc(u,As(u))}function or(u){return null==u?"":Da(u)}var lD=hn(function(u,p){if(dg(p)||Cs(p))Hc(p,hs(p),u);else for(var _ in p)ir.call(p,_)&&ks(u,_,p[_])}),ma=hn(function(u,p){Hc(p,As(p),u)}),Ra=hn(function(u,p,_,L){Hc(p,As(p),u,L)}),dD=hn(function(u,p,_,L){Hc(p,hs(p),u,L)}),uD=Wc(su),fD=_i(function(u,p){u=nr(u);var _=-1,L=p.length,me=L>2?p[2]:C;for(me&&Po(p[0],p[1],me)&&(L=1);++_<L;)for(var ke=p[_],Qe=As(ke),dt=-1,bt=Qe.length;++dt<bt;){var Vt=Qe[dt],$t=u[Vt];($t===C||pa($t,Zd[Vt])&&!ir.call(u,Vt))&&(u[Vt]=ke[Vt])}return u}),pD=_i(function(u){return u.push(C,hy),Os(Hy,C,u)});function _u(u,p,_){var L=null==u?C:Ia(u,p);return L===C?_:L}function Og(u,p){return null!=u&&qf(u,p,JM)}var qE=Gc(function(u,p,_){null!=p&&"function"!=typeof p.toString&&(p=ih.call(p)),u[p]=_},pp(Cr)),Bj=Gc(function(u,p,_){null!=p&&"function"!=typeof p.toString&&(p=ih.call(p)),ir.call(u,p)?u[p].push(_):u[p]=[_]},jn),jj=_i(au);function hs(u){return Cs(u)?us(u):Jm(u)}function As(u){return Cs(u)?us(u,!0):function Bx(u){if(!no(u))return function Yf(u){var p=[];if(null!=u)for(var _ in nr(u))p.push(_);return p}(u);var p=dg(u),_=[];for(var L in u)"constructor"==L&&(p||!ir.call(u,L))||_.push(L);return _}(u)}var Vj=hn(function(u,p,_){Bf(u,p,_)}),Hy=hn(function(u,p,_,L){Bf(u,p,_,L)}),vD=Wc(function(u,p){var _={};if(null==u)return _;var L=!1;p=zr(p,function(ke){return ke=bc(ke,u),L||(L=ke.length>1),ke}),Hc(u,my(u),_),L&&(_=bo(_,7,fy));for(var me=p.length;me--;)ry(_,p[me]);return _}),xD=Wc(function(u,p){return null==u?{}:function oI(u,p){return Vx(u,p,function(_,L){return Og(u,L)})}(u,p)});function XE(u,p){if(null==u)return{};var _=zr(my(u),function(L){return[L]});return p=jn(p),Vx(u,_,function(L,me){return p(L,me[0])})}var JE=ig(hs),QE=ig(As);function bh(u){return null==u?[]:Ke(u,hs(u))}var tC=ed(function(u,p,_){return p=p.toLowerCase(),u+(_?nC(p):p)});function nC(u){return qy(or(u).toLowerCase())}function iC(u){return(u=or(u))&&u.replace(mt,Tf).replace(uj,"")}var zj=ed(function(u,p,_){return u+(_?"-":"")+p.toLowerCase()}),Hj=ed(function(u,p,_){return u+(_?" ":"")+p.toLowerCase()}),up=yc("toLowerCase"),kD=ed(function(u,p,_){return u+(_?"_":"")+p.toLowerCase()}),ND=ed(function(u,p,_){return u+(_?" ":"")+qy(p)}),Kj=ed(function(u,p,_){return u+(_?" ":"")+p.toUpperCase()}),qy=yc("toUpperCase");function hp(u,p,_){return u=or(u),(p=_?C:p)===C?function Zu(_t){return fj.test(_t)}(u)?function Ma(_t){return _t.match(hj)||[]}(u):function vx(_t){return _t.match(Uc)||[]}(u):u.match(p)||[]}var fp=_i(function(u,p){try{return Os(u,C,p)}catch(_){return Fy(_)?_:new Yn(_)}}),Xy=Wc(function(u,p){return go(p,function(_){_=qa(_),Ji(u,_,My(u[_],u))}),u});function pp(u){return function(){return u}}var cC=ly(),vh=ly(!0);function Cr(u){return u}function Yc(u){return tI("function"==typeof u?u:bo(u,1))}var LD=_i(function(u,p){return function(_){return au(_,u,p)}}),Qj=_i(function(u,p){return function(_){return au(u,_,p)}});function dC(u,p,_){var L=hs(p),me=ch(p,L);null==_&&(!no(p)||!me.length&&L.length)&&(_=p,p=u,u=this,me=ch(p,hs(p)));var ke=!(no(_)&&"chain"in _&&!_.chain),Qe=qc(u);return go(me,function(dt){var bt=p[dt];u[dt]=bt,Qe&&(u.prototype[dt]=function(){var Vt=this.__chain__;if(ke||Vt){var $t=u(this.__wrapped__);return($t.__actions__=ca(this.__actions__)).push({func:bt,args:arguments,thisArg:u}),$t.__chain__=Vt,$t}return bt.apply(u,ql([this.value()],arguments))})}),u}function Pg(){}var rd=Oa(zr),Yy=Oa(Vb),Ky=Oa(Ef);function hC(u){return gy(u)?Ku(qa(u)):function zx(u){return function(p){return Ia(p,u)}}(u)}var Jy=dy(),fC=dy(!0);function mp(){return[]}function xh(){return!1}var mC=Gf(function(u,p){return u+p},0),gp=Wf("ceil"),Ng=Gf(function(u,p){return u/p},1),Qy=Wf("floor"),bC=Gf(function(u,p){return u*p},1),WD=Wf("round"),eU=Gf(function(u,p){return u-p},0);return Se.after=function Rj(u,p){if("function"!=typeof p)throw new gt(w);return u=fi(u),function(){if(--u<1)return p.apply(this,arguments)}},Se.ary=Ty,Se.assign=lD,Se.assignIn=ma,Se.assignInWith=Ra,Se.assignWith=dD,Se.at=uD,Se.before=jE,Se.bind=My,Se.bindAll=Xy,Se.bindKey=YI,Se.castArray=function Dy(){if(!arguments.length)return[];var u=arguments[0];return ai(u)?u:[u]},Se.chain=yg,Se.chunk=function sE(u,p,_){p=(_?Po(u,p,_):p===C)?1:_o(fi(p),0);var L=null==u?0:u.length;if(!L||p<1)return[];for(var me=0,ke=0,Qe=Mt(Zt(L/p));me<L;)Qe[ke++]=xs(u,me,me+=p);return Qe},Se.compact=function aE(u){for(var p=-1,_=null==u?0:u.length,L=0,me=[];++p<_;){var ke=u[p];ke&&(me[L++]=ke)}return me},Se.concat=function xI(){var u=arguments.length;if(!u)return[];for(var p=Mt(u-1),_=arguments[0],L=u;L--;)p[L-1]=arguments[L];return ql(ai(_)?ca(_):[_],to(p,1))},Se.cond=function sC(u){var p=null==u?0:u.length,_=jn();return u=p?zr(u,function(L){if("function"!=typeof L[1])throw new gt(w);return[_(L[0]),L[1]]}):[],_i(function(L){for(var me=-1;++me<p;){var ke=u[me];if(Os(ke[0],this,L))return Os(ke[1],this,L)}})},Se.conforms=function aC(u){return function Pf(u){var p=hs(u);return function(_){return Zb(_,u,p)}}(bo(u,1))},Se.constant=pp,Se.countBy=Es,Se.create=function hD(u,p){var _=Yo(u);return null==p?_:Qb(_,p)},Se.curry=function UE(u,p,_){var L=$a(u,8,C,C,C,C,C,p=_?C:p);return L.placeholder=UE.placeholder,L},Se.curryRight=function Iy(u,p,_){var L=$a(u,16,C,C,C,C,C,p=_?C:p);return L.placeholder=Iy.placeholder,L},Se.debounce=xg,Se.defaults=fD,Se.defaultsDeep=pD,Se.defer=KI,Se.delay=td,Se.difference=pg,Se.differenceBy=mu,Se.differenceWith=EI,Se.drop=function cE(u,p,_){var L=null==u?0:u.length;return L?xs(u,(p=_||p===C?1:fi(p))<0?0:p,L):[]},Se.dropRight=function lE(u,p,_){var L=null==u?0:u.length;return L?xs(u,0,(p=L-(p=_||p===C?1:fi(p)))<0?0:p):[]},Se.dropRightWhile=function dh(u,p){return u&&u.length?Vf(u,jn(p,3),!0,!0):[]},Se.dropWhile=function uh(u,p){return u&&u.length?Vf(u,jn(p,3),!0):[]},Se.fill=function No(u,p,_,L){var me=null==u?0:u.length;return me?(_&&"number"!=typeof _&&Po(u,p,_)&&(_=0,L=me),function Vc(u,p,_,L){var me=u.length;for((_=fi(_))<0&&(_=-_>me?0:me+_),(L=L===C||L>me?me:fi(L))<0&&(L+=me),L=_>L?0:id(L);_<L;)u[_++]=p;return u}(u,p,_,L)):[]},Se.filter=function ME(u,p){return(ai(u)?Gn:Nf)(u,jn(p,3))},Se.flatMap=function DE(u,p){return to(ip(u,p),1)},Se.flatMapDeep=function UI(u,p){return to(ip(u,p),Ee)},Se.flatMapDepth=function OE(u,p,_){return _=_===C?1:fi(_),to(ip(u,p),_)},Se.flatten=mg,Se.flattenDeep=function CI(u){return null!=u&&u.length?to(u,Ee):[]},Se.flattenDepth=function uE(u,p){return null!=u&&u.length?to(u,p=p===C?1:fi(p)):[]},Se.flip=function op(u){return $a(u,512)},Se.flow=cC,Se.flowRight=vh,Se.fromPairs=function ua(u){for(var p=-1,_=null==u?0:u.length,L={};++p<_;){var me=u[p];L[me[0]]=me[1]}return L},Se.functions=function Dg(u){return null==u?[]:ch(u,hs(u))},Se.functionsIn=function Al(u){return null==u?[]:ch(u,As(u))},Se.groupBy=VI,Se.initial=function xy(u){return null!=u&&u.length?xs(u,0,-1):[]},Se.intersection=gg,Se.intersectionBy=pE,Se.intersectionWith=AI,Se.invert=qE,Se.invertBy=Bj,Se.invokeMap=HI,Se.iteratee=Yc,Se.keyBy=GI,Se.keys=hs,Se.keysIn=As,Se.map=ip,Se.mapKeys=function zy(u,p){var _={};return p=jn(p,3),kr(u,function(L,me,ke){Ji(_,p(L,me,ke),L)}),_},Se.mapValues=function Uj(u,p){var _={};return p=jn(p,3),kr(u,function(L,me,ke){Ji(_,me,p(L,me,ke))}),_},Se.matches=function lC(u){return iI(bo(u,1))},Se.matchesProperty=function Jj(u,p){return rI(u,bo(p,1))},Se.memoize=Eg,Se.merge=Vj,Se.mergeWith=Hy,Se.method=LD,Se.methodOf=Qj,Se.mixin=dC,Se.negate=sp,Se.nthArg=function Zj(u){return u=fi(u),_i(function(p){return _r(p,u)})},Se.omit=vD,Se.omitBy=function wD(u,p){return XE(u,sp(jn(p)))},Se.once=function Ns(u){return jE(2,u)},Se.orderBy=function kE(u,p,_,L){return null==u?[]:(ai(p)||(p=null==p?[]:[p]),ai(_=L?C:_)||(_=null==_?[]:[_]),ny(u,p,_))},Se.over=rd,Se.overArgs=kj,Se.overEvery=Yy,Se.overSome=Ky,Se.partial=lo,Se.partialRight=ap,Se.partition=PE,Se.pick=xD,Se.pickBy=XE,Se.property=hC,Se.propertyOf=function wh(u){return function(p){return null==u?C:Ia(u,p)}},Se.pull=gE,Se.pullAll=_E,Se.pullAllBy=function MI(u,p,_){return u&&u.length&&p&&p.length?Qm(u,p,jn(_,2)):u},Se.pullAllWith=function Cj(u,p,_){return u&&u.length&&p&&p.length?Qm(u,p,C,_):u},Se.pullAt=bE,Se.range=Jy,Se.rangeRight=fC,Se.rearg=JI,Se.reject=function FE(u,p){return(ai(u)?Gn:Nf)(u,sp(jn(p,3)))},Se.remove=function yE(u,p){var _=[];if(!u||!u.length)return _;var L=-1,me=[],ke=u.length;for(p=jn(p,3);++L<ke;){var Qe=u[L];p(Qe,L,u)&&(_.push(Qe),me.push(L))}return Hx(u,me),_},Se.rest=function QI(u,p){if("function"!=typeof u)throw new gt(w);return _i(u,p=p===C?p:fi(p))},Se.reverse=bi,Se.sampleSize=function BE(u,p,_){return p=(_?Po(u,p,_):p===C)?1:fi(p),(ai(u)?sh:Wx)(u,p)},Se.set=function YE(u,p,_){return null==u?u:Uf(u,p,_)},Se.setWith=function KE(u,p,_,L){return L="function"==typeof L?L:C,null==u?u:Uf(u,p,_,L)},Se.shuffle=function WI(u){return(ai(u)?Er:iy)(u)},Se.slice=function Aj(u,p,_){var L=null==u?0:u.length;return L?(_&&"number"!=typeof _&&Po(u,p,_)?(p=0,_=L):(p=null==p?0:fi(p),_=_===C?L:fi(_)),xs(u,p,_)):[]},Se.sortBy=XI,Se.sortedUniq=function II(u){return u&&u.length?lu(u):[]},Se.sortedUniqBy=function DI(u,p){return u&&u.length?lu(u,jn(p,2)):[]},Se.split=function PD(u,p,_){return _&&"number"!=typeof _&&Po(u,p,_)&&(p=_=C),(_=_===C?fe:_>>>0)?(u=or(u))&&("string"==typeof p||null!=p&&!Mg(p))&&!(p=Da(p))&&Qu(u)?aa(ta(u),0,_):u.split(p,_):[]},Se.spread=function Pj(u,p){if("function"!=typeof u)throw new gt(w);return p=null==p?0:_o(fi(p),0),_i(function(_){var L=_[p],me=aa(_,0,p);return L&&ql(me,L),Os(u,this,me)})},Se.tail=function xE(u){var p=null==u?0:u.length;return p?xs(u,1,p):[]},Se.take=function Tj(u,p,_){return u&&u.length?xs(u,0,(p=_||p===C?1:fi(p))<0?0:p):[]},Se.takeRight=function Mj(u,p,_){var L=null==u?0:u.length;return L?xs(u,(p=L-(p=_||p===C?1:fi(p)))<0?0:p,L):[]},Se.takeRightWhile=function Ij(u,p){return u&&u.length?Vf(u,jn(p,3),!1,!0):[]},Se.takeWhile=function Dj(u,p){return u&&u.length?Vf(u,jn(p,3)):[]},Se.tap=function NI(u,p){return p(u),u},Se.throttle=function Nj(u,p,_){var L=!0,me=!0;if("function"!=typeof u)throw new gt(w);return no(_)&&(L="leading"in _?!!_.leading:L,me="trailing"in _?!!_.trailing:me),xg(u,p,{leading:L,maxWait:p,trailing:me})},Se.thru=vg,Se.toArray=Vy,Se.toPairs=JE,Se.toPairsIn=QE,Se.toPath=function VD(u){return ai(u)?zr(u,qa):Fs(u)?[u]:ca(Zf(or(u)))},Se.toPlainObject=GE,Se.transform=function ZE(u,p,_){var L=ai(u),me=L||Cl(u)||vc(u);if(p=jn(p,4),null==_){var ke=u&&u.constructor;_=me?L?new ke:[]:no(u)&&qc(ke)?Yo(Um(u)):{}}return(me?go:kr)(u,function(Qe,dt,bt){return p(_,Qe,dt,bt)}),_},Se.unary=function Cg(u){return Ty(u,1)},Se.union=Oj,Se.unionBy=OI,Se.unionWith=fh,Se.uniq=function On(u){return u&&u.length?zc(u):[]},Se.uniqBy=function EE(u,p){return u&&u.length?zc(u,jn(p,2)):[]},Se.uniqWith=function RI(u,p){return p="function"==typeof p?p:C,u&&u.length?zc(u,C,p):[]},Se.unset=function Rg(u,p){return null==u||ry(u,p)},Se.unzip=ep,Se.unzipWith=Qt,Se.update=function eC(u,p,_){return null==u?u:_c(u,p,du(_))},Se.updateWith=function Gy(u,p,_,L){return L="function"==typeof L?L:C,null==u?u:_c(u,p,du(_),L)},Se.values=bh,Se.valuesIn=function Zo(u){return null==u?[]:Ke(u,As(u))},Se.without=kI,Se.words=hp,Se.wrap=function ZI(u,p){return lo(du(p),u)},Se.xor=ph,Se.xorBy=tp,Se.xorWith=PI,Se.zip=CE,Se.zipObject=function AE(u,p){return tg(u||[],p||[],ks)},Se.zipObjectDeep=function _g(u,p){return tg(u||[],p||[],Uf)},Se.zipWith=bg,Se.entries=JE,Se.entriesIn=QE,Se.extend=ma,Se.extendWith=Ra,dC(Se,Se),Se.add=mC,Se.attempt=fp,Se.camelCase=tC,Se.capitalize=nC,Se.ceil=gp,Se.clamp=function CD(u,p,_){return _===C&&(_=p,p=C),_!==C&&(_=(_=Ya(_))==_?_:0),p!==C&&(p=(p=Ya(p))==p?p:0),Ha(Ya(u),p,_)},Se.clone=function Oy(u){return bo(u,4)},Se.cloneDeep=function Ry(u){return bo(u,5)},Se.cloneDeepWith=function ky(u,p){return bo(u,5,p="function"==typeof p?p:C)},Se.cloneWith=function mh(u,p){return bo(u,4,p="function"==typeof p?p:C)},Se.conformsTo=function cp(u,p){return null==p||Zb(u,p,hs(p))},Se.deburr=iC,Se.defaultTo=function yh(u,p){return null==u||u!=u?p:u},Se.divide=Ng,Se.endsWith=function SD(u,p,_){u=or(u),p=Da(p);var L=u.length,me=_=_===C?L:Ha(fi(_),0,L);return(_-=p.length)>=0&&u.slice(_,me)==p},Se.eq=pa,Se.escape=function TD(u){return(u=or(u))&&Ir.test(u)?u.replace(Js,OM):u},Se.escapeRegExp=function rC(u){return(u=or(u))&&Xe.test(u)?u.replace(He,"\\$&"):u},Se.every=function np(u,p,_){var L=ai(u)?Vb:ey;return _&&Po(u,p,_)&&(p=C),L(u,jn(p,3))},Se.find=IE,Se.findIndex=dE,Se.findKey=function mD(u,p){return Rs(u,jn(p,3),kr)},Se.findLast=jI,Se.findLastIndex=zi,Se.findLastKey=function WE(u,p){return Rs(u,jn(p,3),Ko)},Se.floor=Qy,Se.forEach=RE,Se.forEachRight=Sy,Se.forIn=function gD(u,p){return null==u?u:Kr(u,jn(p,3),As)},Se.forInRight=function _D(u,p){return null==u?u:Xm(u,jn(p,3),As)},Se.forOwn=function bD(u,p){return u&&kr(u,jn(p,3))},Se.forOwnRight=function yD(u,p){return u&&Ko(u,jn(p,3))},Se.get=_u,Se.gt=gh,Se.gte=Py,Se.has=function $E(u,p){return null!=u&&qf(u,p,KM)},Se.hasIn=Og,Se.head=hE,Se.identity=Cr,Se.includes=function zI(u,p,_,L){u=Cs(u)?u:bh(u),_=_&&!L?fi(_):0;var me=u.length;return _<0&&(_=_o(me+_,0)),gu(u)?_<=me&&u.indexOf(p,_)>-1:!!me&&Af(u,p,_)>-1},Se.indexOf=function fE(u,p,_){var L=null==u?0:u.length;if(!L)return-1;var me=null==_?0:fi(_);return me<0&&(me=_o(L+me,0)),Af(u,p,me)},Se.inRange=function AD(u,p,_){return p=Xc(p),_===C?(_=p,p=0):_=Xc(_),function ty(u,p,_){return u>=ds(p,_)&&u<_o(p,_)}(u=Ya(u),p,_)},Se.invoke=jj,Se.isArguments=El,Se.isArray=ai,Se.isArrayBuffer=Fj,Se.isArrayLike=Cs,Se.isArrayLikeObject=Fr,Se.isBoolean=function eD(u){return!0===u||!1===u||uo(u)&&Pr(u)==Ae},Se.isBuffer=Cl,Se.isDate=tD,Se.isElement=function nD(u){return uo(u)&&1===u.nodeType&&!nd(u)},Se.isEmpty=function Ny(u){if(null==u)return!0;if(Cs(u)&&(ai(u)||"string"==typeof u||"function"==typeof u.splice||Cl(u)||vc(u)||El(u)))return!u.length;var p=Nr(u);if(p==Fe||p==Ve)return!u.size;if(dg(u))return!Jm(u).length;for(var _ in u)if(ir.call(u,_))return!1;return!0},Se.isEqual=function VE(u,p){return Km(u,p)},Se.isEqualWith=function iD(u,p,_){var L=(_="function"==typeof _?_:C)?_(u,p):C;return L===C?Km(u,p,C,_):!!L},Se.isError=Fy,Se.isFinite=function lp(u){return"number"==typeof u&&Xo(u)},Se.isFunction=qc,Se.isInteger=Ag,Se.isLength=Sg,Se.isMap=_h,Se.isMatch=function rD(u,p){return u===p||Lx(u,p,og(p))},Se.isMatchWith=function Tg(u,p,_){return _="function"==typeof _?_:C,Lx(u,p,og(p),_)},Se.isNaN=function Ly(u){return dp(u)&&u!=+u},Se.isNative=function oD(u){if(bI(u))throw new Yn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return eI(u)},Se.isNil=function By(u){return null==u},Se.isNull=function zE(u){return null===u},Se.isNumber=dp,Se.isObject=no,Se.isObjectLike=uo,Se.isPlainObject=nd,Se.isRegExp=Mg,Se.isSafeInteger=function HE(u){return Ag(u)&&u>=-je&&u<=je},Se.isSet=jy,Se.isString=gu,Se.isSymbol=Fs,Se.isTypedArray=vc,Se.isUndefined=function sD(u){return u===C},Se.isWeakMap=function aD(u){return uo(u)&&Nr(u)==Ot},Se.isWeakSet=function Lj(u){return uo(u)&&"[object WeakSet]"==Pr(u)},Se.join=function SI(u,p){return null==u?"":Kl.call(u,p)},Se.kebabCase=zj,Se.last=Xa,Se.lastIndexOf=function mE(u,p,_){var L=null==u?0:u.length;if(!L)return-1;var me=L;return _!==C&&(me=(me=fi(_))<0?_o(L+me,0):ds(me,L-1)),p==p?function Ex(_t,Ut,Mt){for(var nn=Mt+1;nn--;)if(_t[nn]===Ut)return nn;return nn}(u,p,me):Cf(u,Yu,me,!0)},Se.lowerCase=Hj,Se.lowerFirst=up,Se.lt=Ig,Se.lte=Uy,Se.max=function HD(u){return u&&u.length?Zl(u,Cr,Lf):C},Se.maxBy=function GD(u,p){return u&&u.length?Zl(u,jn(p,2),Lf):C},Se.mean=function Zy(u){return km(u,Cr)},Se.meanBy=function gC(u,p){return km(u,jn(p,2))},Se.min=function bu(u){return u&&u.length?Zl(u,Cr,jx):C},Se.minBy=function _C(u,p){return u&&u.length?Zl(u,jn(p,2),jx):C},Se.stubArray=mp,Se.stubFalse=xh,Se.stubObject=function BD(){return{}},Se.stubString=function jD(){return""},Se.stubTrue=function pC(){return!0},Se.multiply=bC,Se.nth=function TI(u,p){return u&&u.length?_r(u,fi(p)):C},Se.noConflict=function uC(){return Io._===this&&(Io._=FM),this},Se.noop=Pg,Se.now=rp,Se.pad=function MD(u,p,_){u=or(u);var L=(p=fi(p))?ml(u):0;if(!p||L>=p)return u;var me=(p-L)/2;return Wa(Do(me),_)+u+Wa(Zt(me),_)},Se.padEnd=function ID(u,p,_){u=or(u);var L=(p=fi(p))?ml(u):0;return p&&L<p?u+Wa(p-L,_):u},Se.padStart=function DD(u,p,_){u=or(u);var L=(p=fi(p))?ml(u):0;return p&&L<p?Wa(p-L,_)+u:u},Se.parseInt=function oC(u,p,_){return _||null==p?p=0:p&&(p=+p),BM(or(u).replace(Wt,""),p||0)},Se.random=function kg(u,p,_){if(_&&"boolean"!=typeof _&&Po(u,p,_)&&(p=_=C),_===C&&("boolean"==typeof p?(_=p,p=C):"boolean"==typeof u&&(_=u,u=C)),u===C&&p===C?(u=0,p=1):(u=Xc(u),p===C?(p=u,u=0):p=Xc(p)),u>p){var L=u;u=p,p=L}if(_||u%1||p%1){var me=Ox();return ds(u+me*(p-u+mx("1e-"+((me+"").length-1))),p)}return jf(u,p)},Se.reduce=function wg(u,p,_){var L=ai(u)?yx:wx,me=arguments.length<3;return L(u,jn(p,4),_,me,oa)},Se.reduceRight=function NE(u,p,_){var L=ai(u)?MM:wx,me=arguments.length<3;return L(u,jn(p,4),_,me,si)},Se.repeat=function OD(u,p,_){return p=(_?Po(u,p,_):p===C)?1:fi(p),Ga(or(u),p)},Se.replace=function RD(){var u=arguments,p=or(u[0]);return u.length<3?p:p.replace(u[1],u[2])},Se.result=function ED(u,p,_){var L=-1,me=(p=bc(p,u)).length;for(me||(me=1,u=C);++L<me;){var ke=null==u?C:u[qa(p[L])];ke===C&&(L=me,ke=_),u=qc(ke)?ke.call(u):ke}return u},Se.round=WD,Se.runInContext=_t,Se.sample=function LE(u){return(ai(u)?ra:Gx)(u)},Se.size=function $I(u){if(null==u)return 0;if(Cs(u))return gu(u)?ml(u):u.length;var p=Nr(u);return p==Fe||p==Ve?u.size:Jm(u).length},Se.snakeCase=kD,Se.some=function qI(u,p,_){var L=ai(u)?Ef:Ps;return _&&Po(u,p,_)&&(p=C),L(u,jn(p,3))},Se.sortedIndex=function vE(u,p){return Zm(u,p)},Se.sortedIndexBy=function Sj(u,p,_){return cu(u,p,jn(_,2))},Se.sortedIndexOf=function Ey(u,p){var _=null==u?0:u.length;if(_){var L=Zm(u,p);if(L<_&&pa(u[L],p))return L}return-1},Se.sortedLastIndex=function ha(u,p){return Zm(u,p,!0)},Se.sortedLastIndexBy=function wE(u,p,_){return cu(u,p,jn(_,2),!0)},Se.sortedLastIndexOf=function hh(u,p){if(null!=u&&u.length){var L=Zm(u,p,!0)-1;if(pa(u[L],p))return L}return-1},Se.startCase=ND,Se.startsWith=function FD(u,p,_){return u=or(u),_=null==_?0:Ha(fi(_),0,u.length),p=Da(p),u.slice(_,_+p.length)==p},Se.subtract=eU,Se.sum=function Fg(u){return u&&u.length?Pm(u,Cr):0},Se.sumBy=function $D(u,p){return u&&u.length?Pm(u,jn(p,2)):0},Se.template=function Wy(u,p,_){var L=Se.templateSettings;_&&Po(u,p,_)&&(p=C),u=or(u),p=Ra({},p,L,Jx);var dt,bt,me=Ra({},p.imports,L.imports,Jx),ke=hs(me),Qe=Ke(me,ke),Vt=0,$t=p.interpolate||We,Kt="__p += '",pn=nh((p.escape||We).source+"|"+$t.source+"|"+($t===fl?_e:We).source+"|"+(p.evaluate||We).source+"|$","g"),Pn="//# sourceURL="+(ir.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Mm+"]")+"\n";u.replace(pn,function(Kn,Ii,Fi,ga,Ln,lt){return Fi||(Fi=ga),Kt+=u.slice(Vt,lt).replace(qt,RM),Ii&&(dt=!0,Kt+="' +\n__e("+Ii+") +\n'"),Ln&&(bt=!0,Kt+="';\n"+Ln+";\n__p += '"),Fi&&(Kt+="' +\n((__t = ("+Fi+")) == null ? '' : __t) +\n'"),Vt=lt+Kn.length,Kn}),Kt+="';\n";var $n=ir.call(p,"variable")&&p.variable;if($n){if(en.test($n))throw new Yn("Invalid `variable` option passed into `_.template`")}else Kt="with (obj) {\n"+Kt+"\n}\n";Kt=(bt?Kt.replace(Nn,""):Kt).replace(mr,"$1").replace(ja,"$1;"),Kt="function("+($n||"obj")+") {\n"+($n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(dt?", __e = _.escape":"")+(bt?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+Kt+"return __p\n}";var yi=fp(function(){return Vi(ke,Pn+"return "+Kt).apply(C,Qe)});if(yi.source=Kt,Fy(yi))throw yi;return yi},Se.times=function UD(u,p){if((u=fi(u))<1||u>je)return[];var _=fe,L=ds(u,fe);p=jn(p),u-=fe;for(var me=Xl(L,p);++_<u;)p(_);return me},Se.toFinite=Xc,Se.toInteger=fi,Se.toLength=id,Se.toLower=function Gj(u){return or(u).toLowerCase()},Se.toNumber=Ya,Se.toSafeInteger=function cD(u){return u?Ha(fi(u),-je,je):0===u?u:0},Se.toString=or,Se.toUpper=function Wj(u){return or(u).toUpperCase()},Se.trim=function $y(u,p,_){if((u=or(u))&&(_||p===C))return pl(u);if(!u||!(p=Da(p)))return u;var L=ta(u),me=ta(p);return aa(L,kt(L,me),Sf(L,me)+1).join("")},Se.trimEnd=function $j(u,p,_){if((u=or(u))&&(_||p===C))return u.slice(0,Fm(u)+1);if(!u||!(p=Da(p)))return u;var L=ta(u);return aa(L,0,Sf(L,ta(p))+1).join("")},Se.trimStart=function qj(u,p,_){if((u=or(u))&&(_||p===C))return u.replace(Wt,"");if(!u||!(p=Da(p)))return u;var L=ta(u);return aa(L,kt(L,ta(p))).join("")},Se.truncate=function Xj(u,p){var _=30,L="...";if(no(p)){var me="separator"in p?p.separator:me;_="length"in p?fi(p.length):_,L="omission"in p?Da(p.omission):L}var ke=(u=or(u)).length;if(Qu(u)){var Qe=ta(u);ke=Qe.length}if(_>=ke)return u;var dt=_-ml(L);if(dt<1)return L;var bt=Qe?aa(Qe,0,dt).join(""):u.slice(0,dt);if(me===C)return bt+L;if(Qe&&(dt+=bt.length-dt),Mg(me)){if(u.slice(dt).search(me)){var Vt,$t=bt;for(me.global||(me=nh(me.source,or(ae.exec(me))+"g")),me.lastIndex=0;Vt=me.exec($t);)var Kt=Vt.index;bt=bt.slice(0,Kt===C?dt:Kt)}}else if(u.indexOf(Da(me),dt)!=dt){var pn=bt.lastIndexOf(me);pn>-1&&(bt=bt.slice(0,pn))}return bt+L},Se.unescape=function Yj(u){return(u=or(u))&&Sa.test(u)?u.replace(xr,mj):u},Se.uniqueId=function zD(u){var p=++Ax;return or(u)+p},Se.upperCase=Kj,Se.upperFirst=qy,Se.each=RE,Se.eachRight=Sy,Se.first=hE,dC(Se,function(){var u={};return kr(Se,function(p,_){ir.call(Se.prototype,_)||(u[_]=p)}),u}(),{chain:!1}),Se.VERSION="4.17.21",go(["bind","bindKey","curry","curryRight","partial","partialRight"],function(u){Se[u].placeholder=Se}),go(["drop","take"],function(u,p){Ni.prototype[u]=function(_){_=_===C?1:_o(fi(_),0);var L=this.__filtered__&&!p?new Ni(this):this.clone();return L.__filtered__?L.__takeCount__=ds(_,L.__takeCount__):L.__views__.push({size:ds(_,fe),type:u+(L.__dir__<0?"Right":"")}),L},Ni.prototype[u+"Right"]=function(_){return this.reverse()[u](_).reverse()}}),go(["filter","map","takeWhile"],function(u,p){var _=p+1,L=1==_||3==_;Ni.prototype[u]=function(me){var ke=this.clone();return ke.__iteratees__.push({iteratee:jn(me,3),type:_}),ke.__filtered__=ke.__filtered__||L,ke}}),go(["head","last"],function(u,p){var _="take"+(p?"Right":"");Ni.prototype[u]=function(){return this[_](1).value()[0]}}),go(["initial","tail"],function(u,p){var _="drop"+(p?"":"Right");Ni.prototype[u]=function(){return this.__filtered__?new Ni(this):this[_](1)}}),Ni.prototype.compact=function(){return this.filter(Cr)},Ni.prototype.find=function(u){return this.filter(u).head()},Ni.prototype.findLast=function(u){return this.reverse().find(u)},Ni.prototype.invokeMap=_i(function(u,p){return"function"==typeof u?new Ni(this):this.map(function(_){return au(_,u,p)})}),Ni.prototype.reject=function(u){return this.filter(sp(jn(u)))},Ni.prototype.slice=function(u,p){u=fi(u);var _=this;return _.__filtered__&&(u>0||p<0)?new Ni(_):(u<0?_=_.takeRight(-u):u&&(_=_.drop(u)),p!==C&&(_=(p=fi(p))<0?_.dropRight(-p):_.take(p-u)),_)},Ni.prototype.takeRightWhile=function(u){return this.reverse().takeWhile(u).reverse()},Ni.prototype.toArray=function(){return this.take(fe)},kr(Ni.prototype,function(u,p){var _=/^(?:filter|find|map|reject)|While$/.test(p),L=/^(?:head|last)$/.test(p),me=Se[L?"take"+("last"==p?"Right":""):p],ke=L||/^find/.test(p);me&&(Se.prototype[p]=function(){var Qe=this.__wrapped__,dt=L?[1]:arguments,bt=Qe instanceof Ni,Vt=dt[0],$t=bt||ai(Qe),Kt=function(Ii){var Fi=me.apply(Se,ql([Ii],dt));return L&&pn?Fi[0]:Fi};$t&&_&&"function"==typeof Vt&&1!=Vt.length&&(bt=$t=!1);var pn=this.__chain__,$n=ke&&!pn,yi=bt&&!this.__actions__.length;if(!ke&&$t){Qe=yi?Qe:new Ni(this);var Kn=u.apply(Qe,dt);return Kn.__actions__.push({func:vg,args:[Kt],thisArg:C}),new na(Kn,pn)}return $n&&yi?u.apply(this,dt):(Kn=this.thru(Kt),$n?L?Kn.value()[0]:Kn.value():Kn)})}),go(["pop","push","shift","sort","splice","unshift"],function(u){var p=Lm[u],_=/^(?:push|sort|unshift)$/.test(u)?"tap":"thru",L=/^(?:pop|shift)$/.test(u);Se.prototype[u]=function(){var me=arguments;if(L&&!this.__chain__){var ke=this.value();return p.apply(ai(ke)?ke:[],me)}return this[_](function(Qe){return p.apply(ai(Qe)?Qe:[],me)})}}),kr(Ni.prototype,function(u,p){var _=Se[p];if(_){var L=_.name+"";ir.call(Jl,L)||(Jl[L]=[]),Jl[L].push({name:p,func:_})}}),Jl[Jo(C,2).name]=[{name:"wrapper",func:C}],Ni.prototype.clone=function UM(){var u=new Ni(this.__wrapped__);return u.__actions__=ca(this.__actions__),u.__dir__=this.__dir__,u.__filtered__=this.__filtered__,u.__iteratees__=ca(this.__iteratees__),u.__takeCount__=this.__takeCount__,u.__views__=ca(this.__views__),u},Ni.prototype.reverse=function Px(){if(this.__filtered__){var u=new Ni(this);u.__dir__=-1,u.__filtered__=!0}else(u=this.clone()).__dir__*=-1;return u},Ni.prototype.value=function rh(){var u=this.__wrapped__.value(),p=this.__dir__,_=ai(u),L=p<0,me=_?u.length:0,ke=function mI(u,p,_){for(var L=-1,me=_.length;++L<me;){var ke=_[L],Qe=ke.size;switch(ke.type){case"drop":u+=Qe;break;case"dropRight":p-=Qe;break;case"take":p=ds(p,u+Qe);break;case"takeRight":u=_o(u,p-Qe)}}return{start:u,end:p}}(0,me,this.__views__),Qe=ke.start,dt=ke.end,bt=dt-Qe,Vt=L?dt:Qe-1,$t=this.__iteratees__,Kt=$t.length,pn=0,Pn=ds(bt,this.__takeCount__);if(!_||!L&&me==bt&&Pn==bt)return $x(u,this.__actions__);var $n=[];e:for(;bt--&&pn<Pn;){for(var yi=-1,Kn=u[Vt+=p];++yi<Kt;){var Ii=$t[yi],ga=Ii.type,Ln=(0,Ii.iteratee)(Kn);if(2==ga)Kn=Ln;else if(!Ln){if(1==ga)continue e;break e}}$n[pn++]=Kn}return $n},Se.prototype.at=FI,Se.prototype.chain=function SE(){return yg(this)},Se.prototype.commit=function LI(){return new na(this.value(),this.__chain__)},Se.prototype.next=function BI(){this.__values__===C&&(this.__values__=Vy(this.value()));var u=this.__index__>=this.__values__.length;return{done:u,value:u?C:this.__values__[this.__index__++]}},Se.prototype.plant=function Cy(u){for(var p,_=this;_ instanceof yl;){var L=wy(_);L.__index__=0,L.__values__=C,p?me.__wrapped__=L:p=L;var me=L;_=_.__wrapped__}return me.__wrapped__=u,p},Se.prototype.reverse=function TE(){var u=this.__wrapped__;if(u instanceof Ni){var p=u;return this.__actions__.length&&(p=new Ni(this)),(p=p.reverse()).__actions__.push({func:vg,args:[bi],thisArg:C}),new na(p,this.__chain__)}return this.thru(bi)},Se.prototype.toJSON=Se.prototype.valueOf=Se.prototype.value=function Ay(){return $x(this.__wrapped__,this.__actions__)},Se.prototype.first=Se.prototype.head,If&&(Se.prototype[If]=function fa(){return this}),Se}();Io._=gl,(J=function(){return gl}.call(ye,T,ye,Ge))!==C&&(Ge.exports=J)}.call(this)},2963:(Ge,ye,T)=>{var J=T(5383),C=T(4915);function q(){this.clear()}q.prototype.clear=function(){this.items=[],this.offset=0,this.size=0},q.prototype.enqueue=function(Y){return this.items.push(Y),++this.size},q.prototype.dequeue=function(){if(this.size){var Y=this.items[this.offset];return 2*++this.offset>=this.items.length&&(this.items=this.items.slice(this.offset),this.offset=0),this.size--,Y}},q.prototype.peek=function(){if(this.size)return this.items[this.offset]},q.prototype.forEach=function(Y,ne){ne=arguments.length>1?ne:this;for(var w=this.offset,E=0,B=this.items.length;w<B;w++,E++)Y.call(ne,this.items[w],E,this)},q.prototype.toArray=function(){return this.items.slice(this.offset)},q.prototype.values=function(){var Y=this.items,ne=this.offset;return new J(function(){if(ne>=Y.length)return{done:!0};var w=Y[ne];return ne++,{value:w,done:!1}})},q.prototype.entries=function(){var Y=this.items,ne=this.offset,w=0;return new J(function(){if(ne>=Y.length)return{done:!0};var E=Y[ne];return ne++,{value:[w++,E],done:!1}})},typeof Symbol<"u"&&(q.prototype[Symbol.iterator]=q.prototype.values),q.prototype.toString=function(){return this.toArray().join(",")},q.prototype.toJSON=function(){return this.toArray()},q.prototype.inspect=function(){var Y=this.toArray();return Object.defineProperty(Y,"constructor",{value:q,enumerable:!1}),Y},typeof Symbol<"u"&&(q.prototype[Symbol.for("nodejs.util.inspect.custom")]=q.prototype.inspect),q.from=function(Y){var ne=new q;return C(Y,function(w){ne.enqueue(w)}),ne},q.of=function(){return q.from(arguments)},Ge.exports=q},7783:Ge=>{Ge.exports=function ye(T,J,C){function q(w,E){if(!J[w]){if(!T[w]){if(Y)return Y(w,!0);throw new Error("Cannot find module '"+w+"'")}E=J[w]={exports:{}},T[w][0].call(E.exports,function(K){return q(T[w][1][K]||K)},E,E.exports,ye,T,J,C)}return J[w].exports}for(var Y=void 0,ne=0;ne<C.length;ne++)q(C[ne]);return q}({1:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){"use strict";var R=ye("crypto");function de(j,H){var y;return void 0===(y="passthrough"!==(H=se(j,H)).algorithm?R.createHash(H.algorithm):new X).write&&(y.write=y.update,y.end=y.update),$(H,y).dispatch(j),y.update||y.end(""),y.digest?y.digest("buffer"===H.encoding?void 0:H.encoding):(j=y.read(),"buffer"!==H.encoding?j.toString(H.encoding):j)}(J=T.exports=de).sha1=function(j){return de(j)},J.keys=function(j){return de(j,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},J.MD5=function(j){return de(j,{algorithm:"md5",encoding:"hex"})},J.keysMD5=function(j){return de(j,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var x=R.getHashes?R.getHashes().slice():["sha1","md5"],F=(x.push("passthrough"),["buffer","hex","binary","base64"]);function se(j,H){var y={};if(y.algorithm=(H=H||{}).algorithm||"sha1",y.encoding=H.encoding||"hex",y.excludeValues=!!H.excludeValues,y.algorithm=y.algorithm.toLowerCase(),y.encoding=y.encoding.toLowerCase(),y.ignoreUnknown=!0===H.ignoreUnknown,y.respectType=!1!==H.respectType,y.respectFunctionNames=!1!==H.respectFunctionNames,y.respectFunctionProperties=!1!==H.respectFunctionProperties,y.unorderedArrays=!0===H.unorderedArrays,y.unorderedSets=!1!==H.unorderedSets,y.unorderedObjects=!1!==H.unorderedObjects,y.replacer=H.replacer||void 0,y.excludeKeys=H.excludeKeys||void 0,void 0===j)throw new Error("Object argument required.");for(var M=0;M<x.length;++M)x[M].toLowerCase()===y.algorithm.toLowerCase()&&(y.algorithm=x[M]);if(-1===x.indexOf(y.algorithm))throw new Error('Algorithm "'+y.algorithm+'"  not supported. supported values: '+x.join(", "));if(-1===F.indexOf(y.encoding)&&"passthrough"!==y.algorithm)throw new Error('Encoding "'+y.encoding+'"  not supported. supported values: '+F.join(", "));return y}function z(j){if("function"==typeof j)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(j))}function $(j,H,y){function M(A){return H.update?H.update(A,"utf8"):H.write(A,"utf8")}return y=y||[],{dispatch:function(A){return this["_"+(null===(A=j.replacer?j.replacer(A):A)?"null":typeof A)](A)},_object:function(A){var oe,ee=Object.prototype.toString.call(A),Te=/\[object (.*)\]/i.exec(ee);if(Te=(Te=Te?Te[1]:"unknown:["+ee+"]").toLowerCase(),0<=(ee=y.indexOf(A)))return this.dispatch("[CIRCULAR:"+ee+"]");if(y.push(A),void 0!==Y&&Y.isBuffer&&Y.isBuffer(A))return M("buffer:"),M(A);if("object"===Te||"function"===Te||"asyncfunction"===Te)return ee=Object.keys(A),j.unorderedObjects&&(ee=ee.sort()),!1===j.respectType||z(A)||ee.splice(0,0,"prototype","__proto__","constructor"),j.excludeKeys&&(ee=ee.filter(function(ie){return!j.excludeKeys(ie)})),M("object:"+ee.length+":"),oe=this,ee.forEach(function(ie){oe.dispatch(ie),M(":"),j.excludeValues||oe.dispatch(A[ie]),M(",")});if(!this["_"+Te]){if(j.ignoreUnknown)return M("["+Te+"]");throw new Error('Unknown object type "'+Te+'"')}this["_"+Te](A)},_array:function(A,ie){ie=void 0!==ie?ie:!1!==j.unorderedArrays;var ee=this;if(M("array:"+A.length+":"),!ie||A.length<=1)return A.forEach(function(xe){return ee.dispatch(xe)});var Te=[];return ie=A.map(function(xe){var Re=new X,Le=y.slice();return $(j,Re,Le).dispatch(xe),Te=Te.concat(Le.slice(y.length)),Re.read().toString()}),y=y.concat(Te),ie.sort(),this._array(ie,!1)},_date:function(A){return M("date:"+A.toJSON())},_symbol:function(A){return M("symbol:"+A.toString())},_error:function(A){return M("error:"+A.toString())},_boolean:function(A){return M("bool:"+A.toString())},_string:function(A){M("string:"+A.length+":"),M(A.toString())},_function:function(A){M("fn:"),z(A)?this.dispatch("[native]"):this.dispatch(A.toString()),!1!==j.respectFunctionNames&&this.dispatch("function-name:"+String(A.name)),j.respectFunctionProperties&&this._object(A)},_number:function(A){return M("number:"+A.toString())},_xml:function(A){return M("xml:"+A.toString())},_null:function(){return M("Null")},_undefined:function(){return M("Undefined")},_regexp:function(A){return M("regex:"+A.toString())},_uint8array:function(A){return M("uint8array:"),this.dispatch(Array.prototype.slice.call(A))},_uint8clampedarray:function(A){return M("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(A))},_int8array:function(A){return M("int8array:"),this.dispatch(Array.prototype.slice.call(A))},_uint16array:function(A){return M("uint16array:"),this.dispatch(Array.prototype.slice.call(A))},_int16array:function(A){return M("int16array:"),this.dispatch(Array.prototype.slice.call(A))},_uint32array:function(A){return M("uint32array:"),this.dispatch(Array.prototype.slice.call(A))},_int32array:function(A){return M("int32array:"),this.dispatch(Array.prototype.slice.call(A))},_float32array:function(A){return M("float32array:"),this.dispatch(Array.prototype.slice.call(A))},_float64array:function(A){return M("float64array:"),this.dispatch(Array.prototype.slice.call(A))},_arraybuffer:function(A){return M("arraybuffer:"),this.dispatch(new Uint8Array(A))},_url:function(A){return M("url:"+A.toString())},_map:function(A){return M("map:"),A=Array.from(A),this._array(A,!1!==j.unorderedSets)},_set:function(A){return M("set:"),A=Array.from(A),this._array(A,!1!==j.unorderedSets)},_file:function(A){return M("file:"),this.dispatch([A.name,A.size,A.type,A.lastModfied])},_blob:function(){if(j.ignoreUnknown)return M("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return M("domwindow")},_bigint:function(A){return M("bigint:"+A.toString())},_process:function(){return M("process")},_timer:function(){return M("timer")},_pipe:function(){return M("pipe")},_tcp:function(){return M("tcp")},_udp:function(){return M("udp")},_tty:function(){return M("tty")},_statwatcher:function(){return M("statwatcher")},_securecontext:function(){return M("securecontext")},_connection:function(){return M("connection")},_zlib:function(){return M("zlib")},_context:function(){return M("context")},_nodescript:function(){return M("nodescript")},_httpparser:function(){return M("httpparser")},_dataview:function(){return M("dataview")},_signal:function(){return M("signal")},_fsevent:function(){return M("fsevent")},_tlswrap:function(){return M("tlswrap")}}}function X(){return{buf:"",write:function(j){this.buf+=j},end:function(j){this.buf+=j},read:function(){return this.buf}}}J.writeToStream=function(j,H,y){return void 0===y&&(y=H,H={}),$(H=se(j,H),y).dispatch(j)}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){!function(R){"use strict";var de=typeof Uint8Array<"u"?Uint8Array:Array;function H(y){return 43===(y=y.charCodeAt(0))||45===y?62:47===y||95===y?63:y<48?-1:y<58?y-48+26+26:y<91?y-65:y<123?y-97+26:void 0}R.toByteArray=function(y){var M,A;if(0<y.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var oe="="===y.charAt((oe=y.length)-2)?2:"="===y.charAt(oe-1)?1:0,ee=new de(3*y.length/4-oe),Te=0<oe?y.length-4:y.length,ie=0;function xe(Re){ee[ie++]=Re}for(M=0;M<Te;M+=4,0)xe((16711680&(A=H(y.charAt(M))<<18|H(y.charAt(M+1))<<12|H(y.charAt(M+2))<<6|H(y.charAt(M+3))))>>16),xe((65280&A)>>8),xe(255&A);return 2==oe?xe(255&(A=H(y.charAt(M))<<2|H(y.charAt(M+1))>>4)):1==oe&&(xe((A=H(y.charAt(M))<<10|H(y.charAt(M+1))<<4|H(y.charAt(M+2))>>2)>>8&255),xe(255&A)),ee},R.fromByteArray=function(y){var M,A,oe,ee,Te=y.length%3,ie="";function xe(Re){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(Re)}for(M=0,oe=y.length-Te;M<oe;M+=3)ie+=xe((ee=A=(y[M]<<16)+(y[M+1]<<8)+y[M+2])>>18&63)+xe(ee>>12&63)+xe(ee>>6&63)+xe(63&ee);switch(Te){case 1:ie=(ie+=xe((A=y[y.length-1])>>2))+xe(A<<4&63)+"==";break;case 2:ie=(ie=(ie+=xe((A=(y[y.length-2]<<8)+y[y.length-1])>>10))+xe(A>>4&63))+xe(A<<2&63)+"="}return ie}}(void 0===J?this.base64js={}:J)}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(ye,T,J){(function(C,q,x,ne,w,E,B,K,te){var R=ye("base64-js"),de=ye("ieee754");function x(W,Q,Ae){if(!(this instanceof x))return new x(W,Q,Ae);var Ne,Me,nt,ut,ft=typeof W;if("base64"===Q&&"string"==ft)for(W=(ut=W).trim?ut.trim():ut.replace(/^\s+|\s+$/g,"");W.length%4!=0;)W+="=";if("number"==ft)Ne=tt(W);else if("string"==ft)Ne=x.byteLength(W,Q);else{if("object"!=ft)throw new Error("First argument needs to be a number, array or string.");Ne=tt(W.length)}if(x._useTypedArrays?Me=x._augment(new Uint8Array(Ne)):((Me=this).length=Ne,Me._isBuffer=!0),x._useTypedArrays&&"number"==typeof W.byteLength)Me._set(W);else if(rt(ut=W)||x.isBuffer(ut)||ut&&"object"==typeof ut&&"number"==typeof ut.length)for(nt=0;nt<Ne;nt++)Me[nt]=x.isBuffer(W)?W.readUInt8(nt):W[nt];else if("string"==ft)Me.write(W,0,Q);else if("number"==ft&&!x._useTypedArrays&&!Ae)for(nt=0;nt<Ne;nt++)Me[nt]=0;return Me}function $(W,Q,Ae,nt){var Me;if(nt||(Be("boolean"==typeof Ae,"missing or invalid endian"),Be(null!=Q,"missing offset"),Be(Q+1<W.length,"Trying to read beyond buffer length")),!((nt=W.length)<=Q))return Ae?(Me=W[Q],Q+1<nt&&(Me|=W[Q+1]<<8)):(Me=W[Q]<<8,Q+1<nt&&(Me|=W[Q+1])),Me}function X(W,Q,Ae,nt){var Me;if(nt||(Be("boolean"==typeof Ae,"missing or invalid endian"),Be(null!=Q,"missing offset"),Be(Q+3<W.length,"Trying to read beyond buffer length")),!((nt=W.length)<=Q))return Ae?(Q+2<nt&&(Me=W[Q+2]<<16),Q+1<nt&&(Me|=W[Q+1]<<8),Me|=W[Q],Q+3<nt&&(Me+=W[Q+3]<<24>>>0)):(Q+1<nt&&(Me=W[Q+1]<<16),Q+2<nt&&(Me|=W[Q+2]<<8),Q+3<nt&&(Me|=W[Q+3]),Me+=W[Q]<<24>>>0),Me}function j(W,Q,Ae,Ne){if(Ne||(Be("boolean"==typeof Ae,"missing or invalid endian"),Be(null!=Q,"missing offset"),Be(Q+1<W.length,"Trying to read beyond buffer length")),!(W.length<=Q))return 32768&(Ne=$(W,Q,Ae,!0))?-1*(65535-Ne+1):Ne}function H(W,Q,Ae,Ne){if(Ne||(Be("boolean"==typeof Ae,"missing or invalid endian"),Be(null!=Q,"missing offset"),Be(Q+3<W.length,"Trying to read beyond buffer length")),!(W.length<=Q))return 2147483648&(Ne=X(W,Q,Ae,!0))?-1*(4294967295-Ne+1):Ne}function y(W,Q,Ae,Ne){return Ne||(Be("boolean"==typeof Ae,"missing or invalid endian"),Be(Q+3<W.length,"Trying to read beyond buffer length")),de.read(W,Q,Ae,23,4)}function M(W,Q,Ae,Ne){return Ne||(Be("boolean"==typeof Ae,"missing or invalid endian"),Be(Q+7<W.length,"Trying to read beyond buffer length")),de.read(W,Q,Ae,52,8)}function A(W,Q,Ae,Ne,Me){if(Me||(Be(null!=Q,"missing value"),Be("boolean"==typeof Ne,"missing or invalid endian"),Be(null!=Ae,"missing offset"),Be(Ae+1<W.length,"trying to write beyond buffer length"),we(Q,65535)),!((Me=W.length)<=Ae))for(var nt=0,ut=Math.min(Me-Ae,2);nt<ut;nt++)W[Ae+nt]=(Q&255<<8*(Ne?nt:1-nt))>>>8*(Ne?nt:1-nt)}function oe(W,Q,Ae,Ne,Me){if(Me||(Be(null!=Q,"missing value"),Be("boolean"==typeof Ne,"missing or invalid endian"),Be(null!=Ae,"missing offset"),Be(Ae+3<W.length,"trying to write beyond buffer length"),we(Q,4294967295)),!((Me=W.length)<=Ae))for(var nt=0,ut=Math.min(Me-Ae,4);nt<ut;nt++)W[Ae+nt]=Q>>>8*(Ne?nt:3-nt)&255}function ee(W,Q,Ae,Ne,Me){Me||(Be(null!=Q,"missing value"),Be("boolean"==typeof Ne,"missing or invalid endian"),Be(null!=Ae,"missing offset"),Be(Ae+1<W.length,"Trying to write beyond buffer length"),ct(Q,32767,-32768)),W.length<=Ae||A(W,0<=Q?Q:65535+Q+1,Ae,Ne,Me)}function Te(W,Q,Ae,Ne,Me){Me||(Be(null!=Q,"missing value"),Be("boolean"==typeof Ne,"missing or invalid endian"),Be(null!=Ae,"missing offset"),Be(Ae+3<W.length,"Trying to write beyond buffer length"),ct(Q,2147483647,-2147483648)),W.length<=Ae||oe(W,0<=Q?Q:4294967295+Q+1,Ae,Ne,Me)}function ie(W,Q,Ae,Ne,Me){Me||(Be(null!=Q,"missing value"),Be("boolean"==typeof Ne,"missing or invalid endian"),Be(null!=Ae,"missing offset"),Be(Ae+3<W.length,"Trying to write beyond buffer length"),Et(Q,34028234663852886e22,-34028234663852886e22)),W.length<=Ae||de.write(W,Q,Ae,Ne,23,4)}function xe(W,Q,Ae,Ne,Me){Me||(Be(null!=Q,"missing value"),Be("boolean"==typeof Ne,"missing or invalid endian"),Be(null!=Ae,"missing offset"),Be(Ae+7<W.length,"Trying to write beyond buffer length"),Et(Q,17976931348623157e292,-17976931348623157e292)),W.length<=Ae||de.write(W,Q,Ae,Ne,52,8)}J.Buffer=x,J.SlowBuffer=x,J.INSPECT_MAX_BYTES=50,x.poolSize=8192,x._useTypedArrays=function(){try{var W=new ArrayBuffer(0),Q=new Uint8Array(W);return Q.foo=function(){return 42},42===Q.foo()&&"function"==typeof Q.subarray}catch{return!1}}(),x.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},x.isBuffer=function(W){return!(null==W||!W._isBuffer)},x.byteLength=function(W,Q){var Ae;switch(W+="",Q||"utf8"){case"hex":Ae=W.length/2;break;case"utf8":case"utf-8":Ae=je(W).length;break;case"ascii":case"binary":case"raw":Ae=W.length;break;case"base64":Ae=De(W).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Ae=2*W.length;break;default:throw new Error("Unknown encoding")}return Ae},x.concat=function(W,Q){if(Be(rt(W),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===W.length)return new x(0);if(1===W.length)return W[0];if("number"!=typeof Q)for(Me=Q=0;Me<W.length;Me++)Q+=W[Me].length;for(var Ae=new x(Q),Ne=0,Me=0;Me<W.length;Me++){var nt=W[Me];nt.copy(Ae,Ne),Ne+=nt.length}return Ae},x.prototype.write=function(W,Q,Ae,Ne){isFinite(Q)?isFinite(Ae)||(Ne=Ae,Ae=void 0):(Fe=Ne,Ne=Q,Q=Ae,Ae=Fe),Q=Number(Q)||0;var Me,nt,ut,ft,Fe=this.length-Q;switch((!Ae||Fe<(Ae=Number(Ae)))&&(Ae=Fe),Ne=String(Ne||"utf8").toLowerCase()){case"hex":Me=function(V,I,O,ge){O=Number(O)||0;var $e=V.length-O;(!ge||$e<(ge=Number(ge)))&&(ge=$e),Be(($e=I.length)%2==0,"Invalid hex string"),$e/2<ge&&(ge=$e/2);for(var ve=0;ve<ge;ve++){var Ve=parseInt(I.substr(2*ve,2),16);Be(!isNaN(Ve),"Invalid hex string"),V[O+ve]=Ve}return x._charsWritten=2*ve,ve}(this,W,Q,Ae);break;case"utf8":case"utf-8":nt=this,ut=Q,ft=Ae,Me=x._charsWritten=ot(je(W),nt,ut,ft);break;case"ascii":case"binary":Me=function F(W,Q,Ae,Ne){return x._charsWritten=ot(function(Me){for(var nt=[],ut=0;ut<Me.length;ut++)nt.push(255&Me.charCodeAt(ut));return nt}(Q),W,Ae,Ne)}(this,W,Q,Ae);break;case"base64":nt=this,ut=Q,ft=Ae,Me=x._charsWritten=ot(De(W),nt,ut,ft);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Me=function se(W,Q,Ae,Ne){return x._charsWritten=ot(function(Me){for(var nt,ut,ft=[],Fe=0;Fe<Me.length;Fe++)nt=(ut=Me.charCodeAt(Fe))>>8,ft.push(ut%=256),ft.push(nt);return ft}(Q),W,Ae,Ne)}(this,W,Q,Ae);break;default:throw new Error("Unknown encoding")}return Me},x.prototype.toString=function(W,Q,Ae){var Ne,Me,nt,ut,ft=this;if(W=String(W||"utf8").toLowerCase(),Q=Number(Q)||0,(Ae=void 0!==Ae?Number(Ae):ft.length)===Q)return"";switch(W){case"hex":Ne=function(Fe,V,I){var O=Fe.length;(!V||V<0)&&(V=0),(!I||I<0||O<I)&&(I=O);for(var ge="",$e=V;$e<I;$e++)ge+=Ee(Fe[$e]);return ge}(ft,Q,Ae);break;case"utf8":case"utf-8":Ne=function(Fe,V,I){var O="",ge="";I=Math.min(Fe.length,I);for(var $e=V;$e<I;$e++)Fe[$e]<=127?(O+=fe(ge)+String.fromCharCode(Fe[$e]),ge=""):ge+="%"+Fe[$e].toString(16);return O+fe(ge)}(ft,Q,Ae);break;case"ascii":case"binary":Ne=function z(W,Q,Ae){var Ne="";Ae=Math.min(W.length,Ae);for(var Me=Q;Me<Ae;Me++)Ne+=String.fromCharCode(W[Me]);return Ne}(ft,Q,Ae);break;case"base64":Me=ft,ut=Ae,Ne=0===(nt=Q)&&ut===Me.length?R.fromByteArray(Me):R.fromByteArray(Me.slice(nt,ut));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":Ne=function(Fe,V,I){for(var O=Fe.slice(V,I),ge="",$e=0;$e<O.length;$e+=2)ge+=String.fromCharCode(O[$e]+256*O[$e+1]);return ge}(ft,Q,Ae);break;default:throw new Error("Unknown encoding")}return Ne},x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},x.prototype.copy=function(W,Q,Ae,Ne){if(Q=Q||0,(Ne=Ne||0===Ne?Ne:this.length)!==(Ae=Ae||0)&&0!==W.length&&0!==this.length){Be(Ae<=Ne,"sourceEnd < sourceStart"),Be(0<=Q&&Q<W.length,"targetStart out of bounds"),Be(0<=Ae&&Ae<this.length,"sourceStart out of bounds"),Be(0<=Ne&&Ne<=this.length,"sourceEnd out of bounds"),Ne>this.length&&(Ne=this.length);var Me=(Ne=W.length-Q<Ne-Ae?W.length-Q+Ae:Ne)-Ae;if(Me<100||!x._useTypedArrays)for(var nt=0;nt<Me;nt++)W[nt+Q]=this[nt+Ae];else W._set(this.subarray(Ae,Ae+Me),Q)}},x.prototype.slice=function(W,Q){var Ae=this.length;if(W=Le(W,Ae,0),Q=Le(Q,Ae,Ae),x._useTypedArrays)return x._augment(this.subarray(W,Q));for(var Ne=Q-W,Me=new x(Ne,void 0,!0),nt=0;nt<Ne;nt++)Me[nt]=this[nt+W];return Me},x.prototype.get=function(W){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(W)},x.prototype.set=function(W,Q){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(W,Q)},x.prototype.readUInt8=function(W,Q){if(Q||(Be(null!=W,"missing offset"),Be(W<this.length,"Trying to read beyond buffer length")),!(W>=this.length))return this[W]},x.prototype.readUInt16LE=function(W,Q){return $(this,W,!0,Q)},x.prototype.readUInt16BE=function(W,Q){return $(this,W,!1,Q)},x.prototype.readUInt32LE=function(W,Q){return X(this,W,!0,Q)},x.prototype.readUInt32BE=function(W,Q){return X(this,W,!1,Q)},x.prototype.readInt8=function(W,Q){if(Q||(Be(null!=W,"missing offset"),Be(W<this.length,"Trying to read beyond buffer length")),!(W>=this.length))return 128&this[W]?-1*(255-this[W]+1):this[W]},x.prototype.readInt16LE=function(W,Q){return j(this,W,!0,Q)},x.prototype.readInt16BE=function(W,Q){return j(this,W,!1,Q)},x.prototype.readInt32LE=function(W,Q){return H(this,W,!0,Q)},x.prototype.readInt32BE=function(W,Q){return H(this,W,!1,Q)},x.prototype.readFloatLE=function(W,Q){return y(this,W,!0,Q)},x.prototype.readFloatBE=function(W,Q){return y(this,W,!1,Q)},x.prototype.readDoubleLE=function(W,Q){return M(this,W,!0,Q)},x.prototype.readDoubleBE=function(W,Q){return M(this,W,!1,Q)},x.prototype.writeUInt8=function(W,Q,Ae){Ae||(Be(null!=W,"missing value"),Be(null!=Q,"missing offset"),Be(Q<this.length,"trying to write beyond buffer length"),we(W,255)),Q>=this.length||(this[Q]=W)},x.prototype.writeUInt16LE=function(W,Q,Ae){A(this,W,Q,!0,Ae)},x.prototype.writeUInt16BE=function(W,Q,Ae){A(this,W,Q,!1,Ae)},x.prototype.writeUInt32LE=function(W,Q,Ae){oe(this,W,Q,!0,Ae)},x.prototype.writeUInt32BE=function(W,Q,Ae){oe(this,W,Q,!1,Ae)},x.prototype.writeInt8=function(W,Q,Ae){Ae||(Be(null!=W,"missing value"),Be(null!=Q,"missing offset"),Be(Q<this.length,"Trying to write beyond buffer length"),ct(W,127,-128)),Q>=this.length||this.writeUInt8(0<=W?W:255+W+1,Q,Ae)},x.prototype.writeInt16LE=function(W,Q,Ae){ee(this,W,Q,!0,Ae)},x.prototype.writeInt16BE=function(W,Q,Ae){ee(this,W,Q,!1,Ae)},x.prototype.writeInt32LE=function(W,Q,Ae){Te(this,W,Q,!0,Ae)},x.prototype.writeInt32BE=function(W,Q,Ae){Te(this,W,Q,!1,Ae)},x.prototype.writeFloatLE=function(W,Q,Ae){ie(this,W,Q,!0,Ae)},x.prototype.writeFloatBE=function(W,Q,Ae){ie(this,W,Q,!1,Ae)},x.prototype.writeDoubleLE=function(W,Q,Ae){xe(this,W,Q,!0,Ae)},x.prototype.writeDoubleBE=function(W,Q,Ae){xe(this,W,Q,!1,Ae)},x.prototype.fill=function(W,Q,Ae){if(Q=Q||0,Ae=Ae||this.length,Be("number"==typeof(W="string"==typeof(W=W||0)?W.charCodeAt(0):W)&&!isNaN(W),"value is not a number"),Be(Q<=Ae,"end < start"),Ae!==Q&&0!==this.length){Be(0<=Q&&Q<this.length,"start out of bounds"),Be(0<=Ae&&Ae<=this.length,"end out of bounds");for(var Ne=Q;Ne<Ae;Ne++)this[Ne]=W}},x.prototype.inspect=function(){for(var W=[],Q=this.length,Ae=0;Ae<Q;Ae++)if(W[Ae]=Ee(this[Ae]),Ae===J.INSPECT_MAX_BYTES){W[Ae+1]="...";break}return"<Buffer "+W.join(" ")+">"},x.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(x._useTypedArrays)return new x(this).buffer;for(var W=new Uint8Array(this.length),Q=0,Ae=W.length;Q<Ae;Q+=1)W[Q]=this[Q];return W.buffer};var Re=x.prototype;function Le(W,Q,Ae){return"number"!=typeof W?Ae:Q<=(W=~~W)?Q:0<=W||0<=(W+=Q)?W:0}function tt(W){return(W=~~Math.ceil(+W))<0?0:W}function rt(W){return(Array.isArray||function(Q){return"[object Array]"===Object.prototype.toString.call(Q)})(W)}function Ee(W){return W<16?"0"+W.toString(16):W.toString(16)}function je(W){for(var Q=[],Ae=0;Ae<W.length;Ae++){var Ne=W.charCodeAt(Ae);if(Ne<=127)Q.push(W.charCodeAt(Ae));else for(var Me=Ae,nt=(55296<=Ne&&Ne<=57343&&Ae++,encodeURIComponent(W.slice(Me,Ae+1)).substr(1).split("%")),ut=0;ut<nt.length;ut++)Q.push(parseInt(nt[ut],16))}return Q}function De(W){return R.toByteArray(W)}function ot(W,Q,Ae,Ne){for(var Me=0;Me<Ne&&!(Me+Ae>=Q.length||Me>=W.length);Me++)Q[Me+Ae]=W[Me];return Me}function fe(W){try{return decodeURIComponent(W)}catch{return"\ufffd"}}function we(W,Q){Be("number"==typeof W,"cannot write a non-number as a number"),Be(0<=W,"specified a negative value for writing an unsigned value"),Be(W<=Q,"value is larger than maximum value for type"),Be(Math.floor(W)===W,"value has a fractional component")}function ct(W,Q,Ae){Be("number"==typeof W,"cannot write a non-number as a number"),Be(W<=Q,"value larger than maximum allowed value"),Be(Ae<=W,"value smaller than minimum allowed value"),Be(Math.floor(W)===W,"value has a fractional component")}function Et(W,Q,Ae){Be("number"==typeof W,"cannot write a non-number as a number"),Be(W<=Q,"value larger than maximum allowed value"),Be(Ae<=W,"value smaller than minimum allowed value")}function Be(W,Q){if(!W)throw new Error(Q||"Failed assertion")}x._augment=function(W){return W._isBuffer=!0,W._get=W.get,W._set=W.set,W.get=Re.get,W.set=Re.set,W.write=Re.write,W.toString=Re.toString,W.toLocaleString=Re.toString,W.toJSON=Re.toJSON,W.copy=Re.copy,W.slice=Re.slice,W.readUInt8=Re.readUInt8,W.readUInt16LE=Re.readUInt16LE,W.readUInt16BE=Re.readUInt16BE,W.readUInt32LE=Re.readUInt32LE,W.readUInt32BE=Re.readUInt32BE,W.readInt8=Re.readInt8,W.readInt16LE=Re.readInt16LE,W.readInt16BE=Re.readInt16BE,W.readInt32LE=Re.readInt32LE,W.readInt32BE=Re.readInt32BE,W.readFloatLE=Re.readFloatLE,W.readFloatBE=Re.readFloatBE,W.readDoubleLE=Re.readDoubleLE,W.readDoubleBE=Re.readDoubleBE,W.writeUInt8=Re.writeUInt8,W.writeUInt16LE=Re.writeUInt16LE,W.writeUInt16BE=Re.writeUInt16BE,W.writeUInt32LE=Re.writeUInt32LE,W.writeUInt32BE=Re.writeUInt32BE,W.writeInt8=Re.writeInt8,W.writeInt16LE=Re.writeInt16LE,W.writeInt16BE=Re.writeInt16BE,W.writeInt32LE=Re.writeInt32LE,W.writeInt32BE=Re.writeInt32BE,W.writeFloatLE=Re.writeFloatLE,W.writeFloatBE=Re.writeFloatBE,W.writeDoubleLE=Re.writeDoubleLE,W.writeDoubleBE=Re.writeDoubleBE,W.fill=Re.fill,W.inspect=Re.inspect,W.toArrayBuffer=Re.toArrayBuffer,W}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(ye,T,J){(function(C,q,R,ne,w,E,B,K,te){R=ye("buffer").Buffer;var x=new R(4);x.fill(0),T.exports={hash:function(F,se,z,$){for(var X=se(function(A,oe){A.length%4!=0&&(A=R.concat([A,x],A.length+(4-A.length%4)));for(var Te=[],ie=oe?A.readInt32BE:A.readInt32LE,xe=0;xe<A.length;xe+=4)Te.push(ie.call(A,xe));return Te}(F=R.isBuffer(F)?F:new R(F),$),8*F.length),j=(se=$,new R(z)),H=se?j.writeInt32BE:j.writeInt32LE,y=0;y<X.length;y++)H.call(j,X[y],4*y,!0);return j}}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(ye,T,J){(function(C,q,R,ne,w,E,B,K,te){R=ye("buffer").Buffer;var de=ye("./sha"),x=ye("./sha256"),F=ye("./rng"),se={sha1:de,sha256:x,md5:ye("./md5")},z=64,$=new R(z);function X(A,oe){var ee=se[A=A||"sha1"],Te=[];return ee||j("algorithm:",A,"is not yet supported"),{update:function(ie){return R.isBuffer(ie)||(ie=new R(ie)),Te.push(ie),this},digest:function(ie){var xe=R.concat(Te);return xe=oe?function(Re,Le,tt){R.isBuffer(Le)||(Le=new R(Le)),R.isBuffer(tt)||(tt=new R(tt)),Le.length>z?Le=Re(Le):Le.length<z&&(Le=R.concat([Le,$],z));for(var rt=new R(z),Ee=new R(z),je=0;je<z;je++)rt[je]=54^Le[je],Ee[je]=92^Le[je];return tt=Re(R.concat([rt,tt])),Re(R.concat([Ee,tt]))}(ee,oe,xe):ee(xe),Te=null,ie?xe.toString(ie):xe}}}function j(){var A=[].slice.call(arguments).join(" ");throw new Error([A,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}$.fill(0),J.createHash=function(A){return X(A)},J.createHmac=X,J.randomBytes=function(A,oe){if(!oe||!oe.call)return new R(F(A));try{oe.call(this,void 0,new R(F(A)))}catch(ee){oe(ee)}};var H,y=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],M=function(A){J[A]=function(){j("sorry,",A,"is not implemented yet")}};for(H in y)M(y[H])}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){var R=ye("./helpers");function de(j,H){j[H>>5]|=128<<H%32,j[14+(H+64>>>9<<4)]=H;for(var y=1732584193,M=-271733879,A=-1732584194,oe=271733878,ee=0;ee<j.length;ee+=16){var Te=y,ie=M,xe=A,Re=oe;y=F(y,M,A,oe,j[ee+0],7,-680876936),oe=F(oe,y,M,A,j[ee+1],12,-389564586),A=F(A,oe,y,M,j[ee+2],17,606105819),M=F(M,A,oe,y,j[ee+3],22,-1044525330),y=F(y,M,A,oe,j[ee+4],7,-176418897),oe=F(oe,y,M,A,j[ee+5],12,1200080426),A=F(A,oe,y,M,j[ee+6],17,-1473231341),M=F(M,A,oe,y,j[ee+7],22,-45705983),y=F(y,M,A,oe,j[ee+8],7,1770035416),oe=F(oe,y,M,A,j[ee+9],12,-1958414417),A=F(A,oe,y,M,j[ee+10],17,-42063),M=F(M,A,oe,y,j[ee+11],22,-1990404162),y=F(y,M,A,oe,j[ee+12],7,1804603682),oe=F(oe,y,M,A,j[ee+13],12,-40341101),A=F(A,oe,y,M,j[ee+14],17,-1502002290),y=se(y,M=F(M,A,oe,y,j[ee+15],22,1236535329),A,oe,j[ee+1],5,-165796510),oe=se(oe,y,M,A,j[ee+6],9,-1069501632),A=se(A,oe,y,M,j[ee+11],14,643717713),M=se(M,A,oe,y,j[ee+0],20,-373897302),y=se(y,M,A,oe,j[ee+5],5,-701558691),oe=se(oe,y,M,A,j[ee+10],9,38016083),A=se(A,oe,y,M,j[ee+15],14,-660478335),M=se(M,A,oe,y,j[ee+4],20,-405537848),y=se(y,M,A,oe,j[ee+9],5,568446438),oe=se(oe,y,M,A,j[ee+14],9,-1019803690),A=se(A,oe,y,M,j[ee+3],14,-187363961),M=se(M,A,oe,y,j[ee+8],20,1163531501),y=se(y,M,A,oe,j[ee+13],5,-1444681467),oe=se(oe,y,M,A,j[ee+2],9,-51403784),A=se(A,oe,y,M,j[ee+7],14,1735328473),y=z(y,M=se(M,A,oe,y,j[ee+12],20,-1926607734),A,oe,j[ee+5],4,-378558),oe=z(oe,y,M,A,j[ee+8],11,-2022574463),A=z(A,oe,y,M,j[ee+11],16,1839030562),M=z(M,A,oe,y,j[ee+14],23,-35309556),y=z(y,M,A,oe,j[ee+1],4,-1530992060),oe=z(oe,y,M,A,j[ee+4],11,1272893353),A=z(A,oe,y,M,j[ee+7],16,-155497632),M=z(M,A,oe,y,j[ee+10],23,-1094730640),y=z(y,M,A,oe,j[ee+13],4,681279174),oe=z(oe,y,M,A,j[ee+0],11,-358537222),A=z(A,oe,y,M,j[ee+3],16,-722521979),M=z(M,A,oe,y,j[ee+6],23,76029189),y=z(y,M,A,oe,j[ee+9],4,-640364487),oe=z(oe,y,M,A,j[ee+12],11,-421815835),A=z(A,oe,y,M,j[ee+15],16,530742520),y=$(y,M=z(M,A,oe,y,j[ee+2],23,-995338651),A,oe,j[ee+0],6,-198630844),oe=$(oe,y,M,A,j[ee+7],10,1126891415),A=$(A,oe,y,M,j[ee+14],15,-1416354905),M=$(M,A,oe,y,j[ee+5],21,-57434055),y=$(y,M,A,oe,j[ee+12],6,1700485571),oe=$(oe,y,M,A,j[ee+3],10,-1894986606),A=$(A,oe,y,M,j[ee+10],15,-1051523),M=$(M,A,oe,y,j[ee+1],21,-2054922799),y=$(y,M,A,oe,j[ee+8],6,1873313359),oe=$(oe,y,M,A,j[ee+15],10,-30611744),A=$(A,oe,y,M,j[ee+6],15,-1560198380),M=$(M,A,oe,y,j[ee+13],21,1309151649),y=$(y,M,A,oe,j[ee+4],6,-145523070),oe=$(oe,y,M,A,j[ee+11],10,-1120210379),A=$(A,oe,y,M,j[ee+2],15,718787259),M=$(M,A,oe,y,j[ee+9],21,-343485551),y=X(y,Te),M=X(M,ie),A=X(A,xe),oe=X(oe,Re)}return Array(y,M,A,oe)}function x(j,H,y,M,A,oe){return X((H=X(X(H,j),X(M,oe)))<<A|H>>>32-A,y)}function F(j,H,y,M,A,oe,ee){return x(H&y|~H&M,j,H,A,oe,ee)}function se(j,H,y,M,A,oe,ee){return x(H&M|y&~M,j,H,A,oe,ee)}function z(j,H,y,M,A,oe,ee){return x(H^y^M,j,H,A,oe,ee)}function $(j,H,y,M,A,oe,ee){return x(y^(H|~M),j,H,A,oe,ee)}function X(j,H){var y=(65535&j)+(65535&H);return(j>>16)+(H>>16)+(y>>16)<<16|65535&y}T.exports=function(j){return R.hash(j,de,16)}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){T.exports=function(de){for(var x,F=new Array(de),se=0;se<de;se++)!(3&se)&&(x=4294967296*Math.random()),F[se]=x>>>((3&se)<<3)&255;return F}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){var R=ye("./helpers");function de(se,z){se[z>>5]|=128<<24-z%32,se[15+(z+64>>9<<4)]=z;for(var $,X,j,H=Array(80),y=1732584193,M=-271733879,A=-1732584194,oe=271733878,ee=-1009589776,Te=0;Te<se.length;Te+=16){for(var ie=y,xe=M,Re=A,Le=oe,tt=ee,rt=0;rt<80;rt++){H[rt]=rt<16?se[Te+rt]:F(H[rt-3]^H[rt-8]^H[rt-14]^H[rt-16],1);var Ee=x(x(F(y,5),(Ee=M,X=A,j=oe,($=rt)<20?Ee&X|~Ee&j:!($<40)&&$<60?Ee&X|Ee&j|X&j:Ee^X^j)),x(x(ee,H[rt]),($=rt)<20?1518500249:$<40?1859775393:$<60?-1894007588:-899497514));ee=oe,oe=A,A=F(M,30),M=y,y=Ee}y=x(y,ie),M=x(M,xe),A=x(A,Re),oe=x(oe,Le),ee=x(ee,tt)}return Array(y,M,A,oe,ee)}function x(se,z){var $=(65535&se)+(65535&z);return(se>>16)+(z>>16)+($>>16)<<16|65535&$}function F(se,z){return se<<z|se>>>32-z}T.exports=function(se){return R.hash(se,de,20,!0)}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){function R(z,$){var X=(65535&z)+(65535&$);return(z>>16)+($>>16)+(X>>16)<<16|65535&X}function de(z,$){var X,j=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),y=new Array(64);z[$>>5]|=128<<24-$%32,z[15+($+64>>9<<4)]=$;for(var M,A,oe=0;oe<z.length;oe+=16){for(var ee=H[0],Te=H[1],ie=H[2],xe=H[3],Re=H[4],Le=H[5],tt=H[6],rt=H[7],Ee=0;Ee<64;Ee++)y[Ee]=Ee<16?z[Ee+oe]:R(R(R(F(A=y[Ee-2],17)^F(A,19)^se(A,10),y[Ee-7]),F(A=y[Ee-15],7)^F(A,18)^se(A,3)),y[Ee-16]),X=R(R(R(R(rt,F(A=Re,6)^F(A,11)^F(A,25)),Re&Le^~Re&tt),j[Ee]),y[Ee]),M=R(F(M=ee,2)^F(M,13)^F(M,22),ee&Te^ee&ie^Te&ie),rt=tt,tt=Le,Le=Re,Re=R(xe,X),xe=ie,ie=Te,Te=ee,ee=R(X,M);H[0]=R(ee,H[0]),H[1]=R(Te,H[1]),H[2]=R(ie,H[2]),H[3]=R(xe,H[3]),H[4]=R(Re,H[4]),H[5]=R(Le,H[5]),H[6]=R(tt,H[6]),H[7]=R(rt,H[7])}return H}var x=ye("./helpers"),F=function(z,$){return z>>>$|z<<32-$},se=function(z,$){return z>>>$};T.exports=function(z){return x.hash(z,de,32,!0)}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){J.read=function(R,de,x,F,oe){var z,$,X=8*oe-F-1,j=(1<<X)-1,H=j>>1,y=-7,M=x?oe-1:0,A=x?-1:1;for(oe=R[de+M],M+=A,z=oe&(1<<-y)-1,oe>>=-y,y+=X;0<y;z=256*z+R[de+M],M+=A,y-=8);for($=z&(1<<-y)-1,z>>=-y,y+=F;0<y;$=256*$+R[de+M],M+=A,y-=8);if(0===z)z=1-H;else{if(z===j)return $?NaN:1/0*(oe?-1:1);$+=Math.pow(2,F),z-=H}return(oe?-1:1)*$*Math.pow(2,z-F)},J.write=function(R,de,x,F,se,ee){var $,X,j=8*ee-se-1,H=(1<<j)-1,y=H>>1,M=23===se?Math.pow(2,-24)-Math.pow(2,-77):0,A=F?0:ee-1,oe=F?1:-1;for(ee=de<0||0===de&&1/de<0?1:0,de=Math.abs(de),isNaN(de)||de===1/0?(X=isNaN(de)?1:0,$=H):($=Math.floor(Math.log(de)/Math.LN2),de*(F=Math.pow(2,-$))<1&&($--,F*=2),2<=(de+=1<=$+y?M/F:M*Math.pow(2,1-y))*F&&($++,F/=2),H<=$+y?(X=0,$=H):1<=$+y?(X=(de*F-1)*Math.pow(2,se),$+=y):(X=de*Math.pow(2,y-1)*Math.pow(2,se),$=0));8<=se;R[x+A]=255&X,A+=oe,X/=256,se-=8);for($=$<<se|X,j+=se;0<j;R[x+A]=255&$,A+=oe,$/=256,j-=8);R[x+A-oe]|=128*ee}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(ye,T,J){(function(C,q,Y,ne,w,E,B,K,te){var R,de,x;function F(){}(C=T.exports={}).nextTick=(de=typeof window<"u"&&window.setImmediate,x=typeof window<"u"&&window.postMessage&&window.addEventListener,de?function(se){return window.setImmediate(se)}:x?(R=[],window.addEventListener("message",function(se){var z=se.source;z!==window&&null!==z||"process-tick"!==se.data||(se.stopPropagation(),0<R.length&&R.shift()())},!0),function(se){R.push(se),window.postMessage("process-tick","*")}):function(se){setTimeout(se,0)}),C.title="browser",C.browser=!0,C.env={},C.argv=[],C.on=F,C.addListener=F,C.once=F,C.off=F,C.removeListener=F,C.removeAllListeners=F,C.emit=F,C.binding=function(se){throw new Error("process.binding is not supported")},C.cwd=function(){return"/"},C.chdir=function(se){throw new Error("process.chdir is not supported")}}).call(this,ye("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},ye("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)},4915:(Ge,ye,T)=>{var J=T(2762),C=J.ARRAY_BUFFER_SUPPORT,q=J.SYMBOL_SUPPORT;Ge.exports=function(ne,w){var E,B,K,te,R;if(!ne)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof w)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(ne)||C&&ArrayBuffer.isView(ne)||"string"==typeof ne||"[object Arguments]"===ne.toString())for(K=0,te=ne.length;K<te;K++)w(ne[K],K);else if("function"!=typeof ne.forEach)if(q&&Symbol.iterator in ne&&"function"!=typeof ne.next&&(ne=ne[Symbol.iterator]()),"function"!=typeof ne.next)for(B in ne)ne.hasOwnProperty(B)&&w(ne[B],B);else for(E=ne,K=0;!0!==(R=E.next()).done;)w(R.value,K),K++;else ne.forEach(w)}},5383:Ge=>{function ye(T){if("function"!=typeof T)throw new Error("obliterator/iterator: expecting a function!");this.next=T}typeof Symbol<"u"&&(ye.prototype[Symbol.iterator]=function(){return this}),ye.of=function(){var T=arguments,J=T.length,C=0;return new ye(function(){return C>=J?{done:!0}:{done:!1,value:T[C++]}})},ye.empty=function(){return new ye(function(){return{done:!0}})},ye.fromSequence=function(T){var J=0,C=T.length;return new ye(function(){return J>=C?{done:!0}:{done:!1,value:T[J++]}})},ye.is=function(T){return T instanceof ye||"object"==typeof T&&null!==T&&"function"==typeof T.next},Ge.exports=ye},2762:(Ge,ye)=>{ye.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u",ye.SYMBOL_SUPPORT=typeof Symbol<"u"},573:Ge=>{var T,J,ye=Ge.exports={};function C(){throw new Error("setTimeout has not been defined")}function q(){throw new Error("clearTimeout has not been defined")}function Y(F){if(T===setTimeout)return setTimeout(F,0);if((T===C||!T)&&setTimeout)return T=setTimeout,setTimeout(F,0);try{return T(F,0)}catch{try{return T.call(null,F,0)}catch{return T.call(this,F,0)}}}!function(){try{T="function"==typeof setTimeout?setTimeout:C}catch{T=C}try{J="function"==typeof clearTimeout?clearTimeout:q}catch{J=q}}();var B,w=[],E=!1,K=-1;function te(){!E||!B||(E=!1,B.length?w=B.concat(w):K=-1,w.length&&R())}function R(){if(!E){var F=Y(te);E=!0;for(var se=w.length;se;){for(B=w,w=[];++K<se;)B&&B[K].run();K=-1,se=w.length}B=null,E=!1,function ne(F){if(J===clearTimeout)return clearTimeout(F);if((J===q||!J)&&clearTimeout)return J=clearTimeout,clearTimeout(F);try{return J(F)}catch{try{return J.call(null,F)}catch{return J.call(this,F)}}}(F)}}function de(F,se){this.fun=F,this.array=se}function x(){}ye.nextTick=function(F){var se=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)se[z-1]=arguments[z];w.push(new de(F,se)),1===w.length&&!E&&Y(R)},de.prototype.run=function(){this.fun.apply(null,this.array)},ye.title="browser",ye.browser=!0,ye.env={},ye.argv=[],ye.version="",ye.versions={},ye.on=x,ye.addListener=x,ye.once=x,ye.off=x,ye.removeListener=x,ye.removeAllListeners=x,ye.emit=x,ye.prependListener=x,ye.prependOnceListener=x,ye.listeners=function(F){return[]},ye.binding=function(F){throw new Error("process.binding is not supported")},ye.cwd=function(){return"/"},ye.chdir=function(F){throw new Error("process.chdir is not supported")},ye.umask=function(){return 0}},4515:Ge=>{let ye;Ge.exports="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:global):T=>(ye||(ye=Promise.resolve())).then(T).catch(J=>setTimeout(()=>{throw J},0))},1224:(Ge,ye,T)=>{Ge.exports=T(4548)},250:Ge=>{"use strict";Ge.exports=class nte{constructor(T,J=new Map,C=0){this.prefix=T,this._existing=J,this.counter=C}clone(){const{prefix:T,_existing:J,counter:C}=this;return new nte(T,new Map(J),C)}getId(T){const J=T&&this._existing.get(T);if(J)return J;const C=this.prefix+this.counter;return this.counter++,T&&this._existing.set(T,C),C}hasId(T){return this._existing.has(T)}getOldIds(){return[...this._existing.keys()]}}},1126:(Ge,ye,T)=>{"use strict";var J=T(9293).default;T(7140);const C=self.crypto||self.msCrypto;Ge.exports=class{constructor(Y){if(!C||!C.subtle)throw new Error("crypto.subtle not found.");if("sha256"===Y)this.algorithm={name:"SHA-256"};else{if("sha1"!==Y)throw new Error(`Unsupported algorithm "${Y}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(Y){this._content+=Y}digest(){var Y=this;return J(function*(){const ne=(new TextEncoder).encode(Y._content),w=new Uint8Array(yield C.subtle.digest(Y.algorithm,ne));let E="";for(let B=0;B<w.length;++B)E+=w[B].toString(16).padStart(2,"0");return E})()}}},8276:Ge=>{"use strict";const J="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",C="http://www.w3.org/2001/XMLSchema#string",q="NamedNode",Y="BlankNode",ne="Literal",w="DefaultGraph",E={};function B(x,F){return x.subject.termType===F.subject.termType&&x.object.termType===F.object.termType&&x.subject.value===F.subject.value&&x.predicate.value===F.predicate.value&&x.object.value===F.object.value&&(x.object.termType!==ne||x.object.datatype.termType===F.object.datatype.termType&&x.object.language===F.object.language&&x.object.datatype.value===F.object.datatype.value)}(()=>{const x="(?:<([^:]+:[^>]*)>)",se="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_",z=se+"0-9-\xb7\u0300-\u036f\u203f-\u2040",X="(_:(?:["+se+"0-9])(?:(?:["+z+".])*(?:["+z+"]))?)",A="[ \\t]+",oe="[ \\t]*",ee="(?:"+x+"|"+X+")"+A,Te=x+A,ie="(?:"+x+"|"+X+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+x+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+oe,xe="(?:\\.|(?:(?:"+x+"|"+X+")"+oe+"\\.))";E.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,E.empty=new RegExp("^[ \\t]*$"),E.quad=new RegExp("^"+oe+ee+Te+ie+xe+oe+"$")})(),Ge.exports=class xM{static parse(F){const se=[],z={},$=F.split(E.eoln);let X=0;for(const j of $){if(X++,E.empty.test(j))continue;const H=j.match(E.quad);if(null===H)throw new Error("N-Quads parse error on line "+X+".");const y={subject:null,predicate:null,object:null,graph:null};if(y.subject=void 0!==H[1]?{termType:q,value:H[1]}:{termType:Y,value:H[2]},y.predicate={termType:q,value:H[3]},void 0!==H[4]?y.object={termType:q,value:H[4]}:void 0!==H[5]?y.object={termType:Y,value:H[5]}:(y.object={termType:ne,value:void 0,datatype:{termType:q}},void 0!==H[7]?y.object.datatype.value=H[7]:void 0!==H[8]?(y.object.datatype.value=J,y.object.language=H[8]):y.object.datatype.value=C,y.object.value=H[6].replace(R,function(F,se,z,$){if(se)switch(se){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(z)return String.fromCharCode(parseInt(z,16));if($)throw new Error("Unsupported U escape")})),y.graph=void 0!==H[9]?{termType:q,value:H[9]}:void 0!==H[10]?{termType:Y,value:H[10]}:{termType:w,value:""},y.graph.value in z){let M=!0;const A=z[y.graph.value];for(const oe of A)if(B(oe,y)){M=!1;break}M&&(A.push(y),se.push(y))}else z[y.graph.value]=[y],se.push(y)}return se}static serialize(F){Array.isArray(F)||(F=xM.legacyDatasetToQuads(F));const se=[];for(const z of F)se.push(xM.serializeQuad(z));return se.sort().join("")}static serializeQuadComponents(F,se,z,$){let X="";return X+=F.termType===q?`<${F.value}>`:`${F.value}`,X+=` <${se.value}> `,z.termType===q?X+=`<${z.value}>`:z.termType===Y?X+=z.value:(X+=`"${function te(x){return x.replace(K,function(F){switch(F){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(z.value)}"`,z.datatype.value===J?z.language&&(X+=`@${z.language}`):z.datatype.value!==C&&(X+=`^^<${z.datatype.value}>`)),$.termType===q?X+=` <${$.value}>`:$.termType===Y&&(X+=` ${$.value}`),X+=" .\n",X}static serializeQuad(F){return xM.serializeQuadComponents(F.subject,F.predicate,F.object,F.graph)}static legacyDatasetToQuads(F){const se=[],z={"blank node":Y,IRI:q,literal:ne};for(const $ in F)F[$].forEach(j=>{const H={};for(const y in j){const M=j[y],A={termType:z[M.type],value:M.value};A.termType===ne&&(A.datatype={termType:q},"datatype"in M&&(A.datatype.value=M.datatype),"language"in M?("datatype"in M||(A.datatype.value=J),A.language=M.language):"datatype"in M||(A.datatype.value=C)),H[y]=A}H.graph="@default"===$?{termType:w,value:""}:{termType:$.startsWith("_:")?Y:q,value:$},se.push(H)});return se}};const K=/["\\\n\r]/g,R=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},7794:Ge=>{"use strict";Ge.exports=class{constructor(T){this.current=T.sort(),this.done=!1,this.dir=new Map;for(let J=0;J<T.length;++J)this.dir.set(T[J],!0)}hasNext(){return!this.done}next(){const{current:T,dir:J}=this,C=T.slice();let q=null,Y=0;const ne=T.length;for(let w=0;w<ne;++w){const E=T[w],B=J.get(E);(null===q||E>q)&&(B&&w>0&&E>T[w-1]||!B&&w<ne-1&&E>T[w+1])&&(q=E,Y=w)}if(null===q)this.done=!0;else{const w=J.get(q)?Y-1:Y+1;T[Y]=T[w],T[w]=q;for(const E of T)E>q&&J.set(E,!J.get(E))}return C}}},624:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(250),q=T(1126),Y=T(7794),ne=T(8276);function w(E,B){return E.hash<B.hash?-1:E.hash>B.hash?1:0}Ge.exports=class{constructor({createMessageDigest:B=(()=>new q("sha256")),canonicalIdMap:K=new Map,maxDeepIterations:te=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new C("_:c14n",K),this.createMessageDigest=B,this.maxDeepIterations=te,this.quads=null,this.deepIterations=null}main(B){var K=this;return J(function*(){K.deepIterations=new Map,K.quads=B;for(const z of B)K._addBlankNodeQuadInfo({quad:z,component:z.subject}),K._addBlankNodeQuadInfo({quad:z,component:z.object}),K._addBlankNodeQuadInfo({quad:z,component:z.graph});const te=new Map,R=[...K.blankNodeInfo.keys()];let de=0;for(const z of R)++de%100==0&&(yield K._yield()),yield K._hashAndTrackBlankNode({id:z,hashToBlankNodes:te});const x=[...te.keys()].sort(),F=[];for(const z of x){const $=te.get(z);$.length>1?F.push($):K.canonicalIssuer.getId($[0])}for(const z of F){const $=[];for(const X of z){if(K.canonicalIssuer.hasId(X))continue;const j=new C("_:b");j.getId(X);const H=yield K.hashNDegreeQuads(X,j);$.push(H)}$.sort(w);for(const X of $){const j=X.issuer.getOldIds();for(const H of j)K.canonicalIssuer.getId(H)}}const se=[];for(const z of K.quads){const $=ne.serializeQuadComponents(K._componentWithCanonicalId(z.subject),z.predicate,K._componentWithCanonicalId(z.object),K._componentWithCanonicalId(z.graph));se.push($)}return se.sort(),se.join("")})()}hashFirstDegreeQuads(B){var K=this;return J(function*(){const te=[],R=K.blankNodeInfo.get(B),de=R.quads;for(const F of de){const se={subject:null,predicate:F.predicate,object:null,graph:null};se.subject=K.modifyFirstDegreeComponent(B,F.subject,"subject"),se.object=K.modifyFirstDegreeComponent(B,F.object,"object"),se.graph=K.modifyFirstDegreeComponent(B,F.graph,"graph"),te.push(ne.serializeQuad(se))}te.sort();const x=K.createMessageDigest();for(const F of te)x.update(F);return R.hash=yield x.digest(),R.hash})()}hashRelatedBlankNode(B,K,te,R){var de=this;return J(function*(){let x;x=de.canonicalIssuer.hasId(B)?de.canonicalIssuer.getId(B):te.hasId(B)?te.getId(B):de.blankNodeInfo.get(B).hash;const F=de.createMessageDigest();return F.update(R),"g"!==R&&F.update(de.getRelatedPredicate(K)),F.update(x),F.digest()})()}hashNDegreeQuads(B,K){var te=this;return J(function*(){const R=te.deepIterations.get(B)||0;if(R>te.maxDeepIterations)throw new Error(`Maximum deep iterations (${te.maxDeepIterations}) exceeded.`);te.deepIterations.set(B,R+1);const de=te.createMessageDigest(),x=yield te.createHashToRelated(B,K),F=[...x.keys()].sort();for(const se of F){de.update(se);let $,z="";const X=new Y(x.get(se));let j=0;for(;X.hasNext();){const H=X.next();++j%3==0&&(yield te._yield());let y=K.clone(),M="";const A=[];let oe=!1;for(const ee of H)if(te.canonicalIssuer.hasId(ee)?M+=te.canonicalIssuer.getId(ee):(y.hasId(ee)||A.push(ee),M+=y.getId(ee)),0!==z.length&&M>z){oe=!0;break}if(!oe){for(const ee of A){const Te=yield te.hashNDegreeQuads(ee,y);if(M+=y.getId(ee),M+=`<${Te.hash}>`,y=Te.issuer,0!==z.length&&M>z){oe=!0;break}}oe||(0===z.length||M<z)&&(z=M,$=y)}}de.update(z),K=$}return{hash:yield de.digest(),issuer:K}})()}modifyFirstDegreeComponent(B,K){return"BlankNode"!==K.termType?K:{termType:"BlankNode",value:K.value===B?"_:a":"_:z"}}getRelatedPredicate(B){return`<${B.predicate.value}>`}createHashToRelated(B,K){var te=this;return J(function*(){const R=new Map,de=te.blankNodeInfo.get(B).quads;let x=0;for(const F of de)++x%100==0&&(yield te._yield()),yield Promise.all([te._addRelatedBlankNodeHash({quad:F,component:F.subject,position:"s",id:B,issuer:K,hashToRelated:R}),te._addRelatedBlankNodeHash({quad:F,component:F.object,position:"o",id:B,issuer:K,hashToRelated:R}),te._addRelatedBlankNodeHash({quad:F,component:F.graph,position:"g",id:B,issuer:K,hashToRelated:R})]);return R})()}_hashAndTrackBlankNode({id:B,hashToBlankNodes:K}){var te=this;return J(function*(){const R=yield te.hashFirstDegreeQuads(B),de=K.get(R);de?de.push(B):K.set(R,[B])})()}_addBlankNodeQuadInfo({quad:B,component:K}){if("BlankNode"!==K.termType)return;const te=K.value,R=this.blankNodeInfo.get(te);R?R.quads.add(B):this.blankNodeInfo.set(te,{quads:new Set([B]),hash:null})}_addRelatedBlankNodeHash({quad:B,component:K,position:te,id:R,issuer:de,hashToRelated:x}){var F=this;return J(function*(){if("BlankNode"!==K.termType||K.value===R)return;const se=K.value,z=yield F.hashRelatedBlankNode(se,B,de,te),$=x.get(z);$?$.push(se):x.set(z,[se])})()}_componentWithCanonicalId(B){return"BlankNode"!==B.termType||B.value.startsWith(this.canonicalIssuer.prefix)?B:{termType:"BlankNode",value:this.canonicalIssuer.getId(B.value)}}_yield(){return J(function*(){return new Promise(B=>setImmediate(B))})()}}},203:(Ge,ye,T)=>{"use strict";const J=T(250),C=T(1126),q=T(7794),Y=T(8276);function ne(w,E){return w.hash<E.hash?-1:w.hash>E.hash?1:0}Ge.exports=class{constructor({createMessageDigest:E=(()=>new C("sha256")),canonicalIdMap:B=new Map,maxDeepIterations:K=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new J("_:c14n",B),this.createMessageDigest=E,this.maxDeepIterations=K,this.quads=null,this.deepIterations=null}main(E){this.deepIterations=new Map,this.quads=E;for(const x of E)this._addBlankNodeQuadInfo({quad:x,component:x.subject}),this._addBlankNodeQuadInfo({quad:x,component:x.object}),this._addBlankNodeQuadInfo({quad:x,component:x.graph});const B=new Map,K=[...this.blankNodeInfo.keys()];for(const x of K)this._hashAndTrackBlankNode({id:x,hashToBlankNodes:B});const te=[...B.keys()].sort(),R=[];for(const x of te){const F=B.get(x);F.length>1?R.push(F):this.canonicalIssuer.getId(F[0])}for(const x of R){const F=[];for(const se of x){if(this.canonicalIssuer.hasId(se))continue;const z=new J("_:b");z.getId(se);const $=this.hashNDegreeQuads(se,z);F.push($)}F.sort(ne);for(const se of F){const z=se.issuer.getOldIds();for(const $ of z)this.canonicalIssuer.getId($)}}const de=[];for(const x of this.quads){const F=Y.serializeQuadComponents(this._componentWithCanonicalId({component:x.subject}),x.predicate,this._componentWithCanonicalId({component:x.object}),this._componentWithCanonicalId({component:x.graph}));de.push(F)}return de.sort(),de.join("")}hashFirstDegreeQuads(E){const B=[],K=this.blankNodeInfo.get(E),te=K.quads;for(const de of te){const x={subject:null,predicate:de.predicate,object:null,graph:null};x.subject=this.modifyFirstDegreeComponent(E,de.subject,"subject"),x.object=this.modifyFirstDegreeComponent(E,de.object,"object"),x.graph=this.modifyFirstDegreeComponent(E,de.graph,"graph"),B.push(Y.serializeQuad(x))}B.sort();const R=this.createMessageDigest();for(const de of B)R.update(de);return K.hash=R.digest(),K.hash}hashRelatedBlankNode(E,B,K,te){let R;R=this.canonicalIssuer.hasId(E)?this.canonicalIssuer.getId(E):K.hasId(E)?K.getId(E):this.blankNodeInfo.get(E).hash;const de=this.createMessageDigest();return de.update(te),"g"!==te&&de.update(this.getRelatedPredicate(B)),de.update(R),de.digest()}hashNDegreeQuads(E,B){const K=this.deepIterations.get(E)||0;if(K>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(E,K+1);const te=this.createMessageDigest(),R=this.createHashToRelated(E,B),de=[...R.keys()].sort();for(const x of de){te.update(x);let se,F="";const z=new q(R.get(x));for(;z.hasNext();){const $=z.next();let X=B.clone(),j="";const H=[];let y=!1;for(const M of $)if(this.canonicalIssuer.hasId(M)?j+=this.canonicalIssuer.getId(M):(X.hasId(M)||H.push(M),j+=X.getId(M)),0!==F.length&&j>F){y=!0;break}if(!y){for(const M of H){const A=this.hashNDegreeQuads(M,X);if(j+=X.getId(M),j+=`<${A.hash}>`,X=A.issuer,0!==F.length&&j>F){y=!0;break}}y||(0===F.length||j<F)&&(F=j,se=X)}}te.update(F),B=se}return{hash:te.digest(),issuer:B}}modifyFirstDegreeComponent(E,B){return"BlankNode"!==B.termType?B:{termType:"BlankNode",value:B.value===E?"_:a":"_:z"}}getRelatedPredicate(E){return`<${E.predicate.value}>`}createHashToRelated(E,B){const K=new Map,te=this.blankNodeInfo.get(E).quads;for(const R of te)this._addRelatedBlankNodeHash({quad:R,component:R.subject,position:"s",id:E,issuer:B,hashToRelated:K}),this._addRelatedBlankNodeHash({quad:R,component:R.object,position:"o",id:E,issuer:B,hashToRelated:K}),this._addRelatedBlankNodeHash({quad:R,component:R.graph,position:"g",id:E,issuer:B,hashToRelated:K});return K}_hashAndTrackBlankNode({id:E,hashToBlankNodes:B}){const K=this.hashFirstDegreeQuads(E),te=B.get(K);te?te.push(E):B.set(K,[E])}_addBlankNodeQuadInfo({quad:E,component:B}){if("BlankNode"!==B.termType)return;const K=B.value,te=this.blankNodeInfo.get(K);te?te.quads.add(E):this.blankNodeInfo.set(K,{quads:new Set([E]),hash:null})}_addRelatedBlankNodeHash({quad:E,component:B,position:K,id:te,issuer:R,hashToRelated:de}){if("BlankNode"!==B.termType||B.value===te)return;const x=B.value,F=this.hashRelatedBlankNode(x,E,R,K),se=de.get(F);se?se.push(x):de.set(F,[x])}_componentWithCanonicalId({component:E}){return"BlankNode"!==E.termType||E.value.startsWith(this.canonicalIssuer.prefix)?E:{termType:"BlankNode",value:this.canonicalIssuer.getId(E.value)}}}},6268:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(1126),q=T(624);Ge.exports=class extends q{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new C("sha1")}modifyFirstDegreeComponent(ne,w,E){return"BlankNode"!==w.termType?w:"graph"===E?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:w.value===ne?"_:a":"_:z"}}getRelatedPredicate(ne){return ne.predicate.value}createHashToRelated(ne,w){var E=this;return J(function*(){const B=new Map,K=E.blankNodeInfo.get(ne).quads;let te=0;for(const R of K){let de,x;if("BlankNode"===R.subject.termType&&R.subject.value!==ne)x=R.subject.value,de="p";else{if("BlankNode"!==R.object.termType||R.object.value===ne)continue;x=R.object.value,de="r"}++te%100==0&&(yield E._yield());const F=yield E.hashRelatedBlankNode(x,R,w,de),se=B.get(F);se?se.push(x):B.set(F,[x])}return B})()}}},8911:(Ge,ye,T)=>{"use strict";const J=T(1126),C=T(203);Ge.exports=class extends C{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new J("sha1")}modifyFirstDegreeComponent(Y,ne,w){return"BlankNode"!==ne.termType?ne:"graph"===w?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:ne.value===Y?"_:a":"_:z"}}getRelatedPredicate(Y){return Y.predicate.value}createHashToRelated(Y,ne){const w=new Map,E=this.blankNodeInfo.get(Y).quads;for(const B of E){let K,te;if("BlankNode"===B.subject.termType&&B.subject.value!==Y)te=B.subject.value,K="p";else{if("BlankNode"!==B.object.termType||B.object.value===Y)continue;te=B.object.value,K="r"}const R=this.hashRelatedBlankNode(te,B,ne,K),de=w.get(R);de?de.push(te):w.set(R,[te])}return w}}},4548:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(624),q=T(6268),Y=T(203),ne=T(8911);let w;try{w=T(7789)}catch{}function E(B){return Array.isArray(B)?B:ye.NQuads.legacyDatasetToQuads(B)}ye.NQuads=T(8276),ye.IdentifierIssuer=T(250),ye._rdfCanonizeNative=function(B){return B&&(w=B),w},ye.canonize=function(){var B=J(function*(K,te){const R=E(K);if(te.useNative){if(!w)throw new Error("rdf-canonize-native not available");if(te.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((de,x)=>w.canonize(R,te,(F,se)=>F?x(F):de(se)))}if("URDNA2015"===te.algorithm)return new C(te).main(R);if("URGNA2012"===te.algorithm){if(te.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new q(te).main(R)}throw"algorithm"in te?new Error("Invalid RDF Dataset Canonicalization algorithm: "+te.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")});return function(K,te){return B.apply(this,arguments)}}(),ye._canonizeSync=function(B,K){const te=E(B);if(K.useNative){if(!w)throw new Error("rdf-canonize-native not available");if(K.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return w.canonizeSync(te,K)}if("URDNA2015"===K.algorithm)return new Y(K).main(te);if("URGNA2012"===K.algorithm){if(K.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new ne(K).main(te)}throw"algorithm"in K?new Error("Invalid RDF Dataset Canonicalization algorithm: "+K.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}},5376:function(Ge,ye,T){"use strict";var J=this&&this.__createBinding||(Object.create?function(q,Y,ne,w){void 0===w&&(w=ne),Object.defineProperty(q,w,{enumerable:!0,get:function(){return Y[ne]}})}:function(q,Y,ne,w){void 0===w&&(w=ne),q[w]=Y[ne]}),C=this&&this.__exportStar||function(q,Y){for(var ne in q)"default"!==ne&&!Object.prototype.hasOwnProperty.call(Y,ne)&&J(Y,q,ne)};Object.defineProperty(ye,"__esModule",{value:!0}),C(T(1006),ye),C(T(4122),ye),C(T(2653),ye),C(T(8327),ye),C(T(7265),ye),C(T(9797),ye),C(T(8866),ye)},1006:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.BlankNode=void 0,ye.BlankNode=class T{constructor(C){this.termType="BlankNode",this.value=C}equals(C){return!!C&&"BlankNode"===C.termType&&C.value===this.value}}},4122:(Ge,ye,T)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.DataFactory=void 0;const J=T(1006),C=T(2653),q=T(8327),Y=T(7265),ne=T(9797),w=T(8866);let E=0;ye.DataFactory=class B{constructor(te){this.blankNodeCounter=0,this.blankNodePrefix=(te=te||{}).blankNodePrefix||`df_${E++}_`}namedNode(te){return new Y.NamedNode(te)}blankNode(te){return new J.BlankNode(te||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(te,R){return new q.Literal(te,R)}variable(te){return new w.Variable(te)}defaultGraph(){return C.DefaultGraph.INSTANCE}quad(te,R,de,x){return new ne.Quad(te,R,de,x||this.defaultGraph())}fromTerm(te){switch(te.termType){case"NamedNode":return this.namedNode(te.value);case"BlankNode":return this.blankNode(te.value);case"Literal":return te.language?this.literal(te.value,te.language):te.datatype.equals(q.Literal.XSD_STRING)?this.literal(te.value):this.literal(te.value,this.fromTerm(te.datatype));case"Variable":return this.variable(te.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(te.subject),this.fromTerm(te.predicate),this.fromTerm(te.object),this.fromTerm(te.graph))}}fromQuad(te){return this.fromTerm(te)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},2653:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.DefaultGraph=void 0;class T{constructor(){this.termType="DefaultGraph",this.value=""}equals(C){return!!C&&"DefaultGraph"===C.termType}}ye.DefaultGraph=T,T.INSTANCE=new T},8327:(Ge,ye,T)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.Literal=void 0;const J=T(7265);class C{constructor(Y,ne){this.termType="Literal",this.value=Y,"string"==typeof ne?(this.language=ne,this.datatype=C.RDF_LANGUAGE_STRING):ne?(this.language="",this.datatype=ne):(this.language="",this.datatype=C.XSD_STRING)}equals(Y){return!!Y&&"Literal"===Y.termType&&Y.value===this.value&&Y.language===this.language&&this.datatype.equals(Y.datatype)}}ye.Literal=C,C.RDF_LANGUAGE_STRING=new J.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),C.XSD_STRING=new J.NamedNode("http://www.w3.org/2001/XMLSchema#string")},7265:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.NamedNode=void 0,ye.NamedNode=class T{constructor(C){this.termType="NamedNode",this.value=C}equals(C){return!!C&&"NamedNode"===C.termType&&C.value===this.value}}},9797:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.Quad=void 0,ye.Quad=class T{constructor(C,q,Y,ne){this.termType="Quad",this.value="",this.subject=C,this.predicate=q,this.object=Y,this.graph=ne}equals(C){return!!C&&("Quad"===C.termType||!C.termType)&&this.subject.equals(C.subject)&&this.predicate.equals(C.predicate)&&this.object.equals(C.object)&&this.graph.equals(C.graph)}}},8866:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.Variable=void 0,ye.Variable=class T{constructor(C){this.termType="Variable",this.value=C}equals(C){return!!C&&"Variable"===C.termType&&C.value===this.value}}},1994:function(Ge,ye,T){"use strict";var J=this&&this.__createBinding||(Object.create?function(x,F,se,z){void 0===z&&(z=se);var $=Object.getOwnPropertyDescriptor(F,se);(!$||("get"in $?!F.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return F[se]}}),Object.defineProperty(x,z,$)}:function(x,F,se,z){void 0===z&&(z=se),x[z]=F[se]}),C=this&&this.__exportStar||function(x,F){for(var se in x)"default"!==se&&!Object.prototype.hasOwnProperty.call(F,se)&&J(F,x,se)};Object.defineProperty(ye,"__esModule",{value:!0}),ye.getSupportedJavaScriptPrimitives=ye.getSupportedRdfDatatypes=ye.getTermRaw=ye.toRdf=ye.fromRdf=void 0;const q=T(5376),Y=T(8193),ne=T(7006);C(T(8193),ye),C(T(6997),ye),C(T(7006),ye);const w=new q.DataFactory,E=new ne.Translator;function B(x,F){return E.fromRdf(x,F)}E.registerHandler(new Y.TypeHandlerString,Y.TypeHandlerString.TYPES.map(x=>w.namedNode(x)),["string"]),E.registerHandler(new Y.TypeHandlerBoolean,[Y.TypeHandlerBoolean.TYPE].map(x=>w.namedNode(x)),["boolean"]),E.registerHandler(new Y.TypeHandlerNumberDouble,Y.TypeHandlerNumberDouble.TYPES.map(x=>w.namedNode(x)),["number"]),E.registerHandler(new Y.TypeHandlerNumberInteger,Y.TypeHandlerNumberInteger.TYPES.map(x=>w.namedNode(x)),["number"]),E.registerHandler(new Y.TypeHandlerDate,Y.TypeHandlerDate.TYPES.map(x=>w.namedNode(x)),["object"]),ye.fromRdf=B,ye.toRdf=function K(x,F){return F&&"namedNode"in F&&(F={dataFactory:F}),(F=F||{})&&!F.dataFactory&&(F.dataFactory=w),E.toRdf(x,F)},ye.getTermRaw=function te(x,F){return"Literal"===x.termType?B(x,F):x.value},ye.getSupportedRdfDatatypes=function R(){return E.getSupportedRdfDatatypes()},ye.getSupportedJavaScriptPrimitives=function de(){return E.getSupportedJavaScriptPrimitives()}},6997:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0})},7006:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.Translator=void 0,ye.Translator=class T{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(C){throw new Error(`Invalid RDF ${C.datatype.value} value: '${C.value}'`)}registerHandler(C,q,Y){for(const ne of q)this.supportedRdfDatatypes.push(ne),this.fromRdfHandlers[ne.value]=C;for(const ne of Y){let w=this.toRdfHandlers[ne];w||(this.toRdfHandlers[ne]=w=[]),w.push(C)}}fromRdf(C,q){const Y=this.fromRdfHandlers[C.datatype.value];return Y?Y.fromRdf(C,q):C.value}toRdf(C,q){const Y=this.toRdfHandlers[typeof C];if(Y)for(const ne of Y){const w=ne.toRdf(C,q);if(w)return w}throw new Error(`Invalid JavaScript value: '${C}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},3133:(Ge,ye,T)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.TypeHandlerBoolean=void 0;const J=T(7006);ye.TypeHandlerBoolean=(()=>{class q{fromRdf(ne,w){switch(ne.value){case"true":case"1":return!0;case"false":case"0":return!1}return w&&J.Translator.incorrectRdfDataType(ne),!1}toRdf(ne,{datatype:w,dataFactory:E}){return E.literal(ne?"true":"false",w||E.namedNode(q.TYPE))}}return q.TYPE="http://www.w3.org/2001/XMLSchema#boolean",q})()},3177:(Ge,ye,T)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.TypeHandlerDate=void 0;const J=T(7006);ye.TypeHandlerDate=(()=>{class q{fromRdf(ne,w){switch(w&&!ne.value.match(q.VALIDATORS[ne.datatype.value.substr(33,ne.datatype.value.length)])&&J.Translator.incorrectRdfDataType(ne),ne.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(ne.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const E=ne.value.split("-");return new Date(0,parseInt(E[0],10)-1,parseInt(E[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(ne.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(ne.value+"-01");default:return new Date(ne.value)}}toRdf(ne,{datatype:w,dataFactory:E}){if(w=w||E.namedNode(q.TYPES[0]),!(ne instanceof Date))return null;const B=ne;let K;switch(w.value){case"http://www.w3.org/2001/XMLSchema#gDay":K=String(B.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":K=B.getUTCMonth()+1+"-"+B.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":K=String(B.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":K=B.getUTCFullYear()+"-"+(B.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":K=B.toISOString().replace(/T.*$/,"");break;default:K=B.toISOString()}return E.literal(K,w)}}return q.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],q.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},q})()},6861:(Ge,ye,T)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.TypeHandlerNumberDouble=void 0;const J=T(7006);ye.TypeHandlerNumberDouble=(()=>{class q{fromRdf(ne,w){const E=parseFloat(ne.value);return w&&isNaN(E)&&J.Translator.incorrectRdfDataType(ne),E}toRdf(ne,{datatype:w,dataFactory:E}){return w=w||E.namedNode(q.TYPES[0]),isNaN(ne)?E.literal("NaN",w):isFinite(ne)?ne%1==0?null:E.literal(ne.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),w):E.literal(ne>0?"INF":"-INF",w)}}return q.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],q})()},8796:(Ge,ye,T)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.TypeHandlerNumberInteger=void 0;const J=T(7006);ye.TypeHandlerNumberInteger=(()=>{class q{fromRdf(ne,w){const E=parseInt(ne.value,10);return w&&(isNaN(E)||ne.value.indexOf(".")>=0)&&J.Translator.incorrectRdfDataType(ne),E}toRdf(ne,{datatype:w,dataFactory:E}){return E.literal(String(ne),w||E.namedNode(ne<=q.MAX_INT&&ne>=q.MIN_INT?q.TYPES[0]:q.TYPES[1]))}}return q.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],q.MAX_INT=2147483647,q.MIN_INT=-2147483648,q})()},4440:(Ge,ye)=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0}),ye.TypeHandlerString=void 0,ye.TypeHandlerString=(()=>{class J{fromRdf(q){return q.value}toRdf(q,{datatype:Y,dataFactory:ne}){return ne.literal(q,Y)}}return J.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],J})()},8193:function(Ge,ye,T){"use strict";var J=this&&this.__createBinding||(Object.create?function(q,Y,ne,w){void 0===w&&(w=ne);var E=Object.getOwnPropertyDescriptor(Y,ne);(!E||("get"in E?!Y.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return Y[ne]}}),Object.defineProperty(q,w,E)}:function(q,Y,ne,w){void 0===w&&(w=ne),q[w]=Y[ne]}),C=this&&this.__exportStar||function(q,Y){for(var ne in q)"default"!==ne&&!Object.prototype.hasOwnProperty.call(Y,ne)&&J(Y,q,ne)};Object.defineProperty(ye,"__esModule",{value:!0}),C(T(3133),ye),C(T(3177),ye),C(T(6861),ye),C(T(8796),ye),C(T(4440),ye)},8992:(Ge,ye,T)=>{"use strict";const{SymbolDispose:J}=T(1251),{AbortError:C,codes:q}=T(5480),{isNodeStream:Y,isWebStream:ne,kControllerErrorFunction:w}=T(6110),E=T(3139),{ERR_INVALID_ARG_TYPE:B}=q;let K;Ge.exports.addAbortSignal=function(de,x){if(((R,de)=>{if("object"!=typeof R||!("aborted"in R))throw new B("signal","AbortSignal",R)})(de),!Y(x)&&!ne(x))throw new B("stream",["ReadableStream","WritableStream","Stream"],x);return Ge.exports.addAbortSignalNoValidate(de,x)},Ge.exports.addAbortSignalNoValidate=function(R,de){if("object"!=typeof R||!("aborted"in R))return de;const x=Y(de)?()=>{de.destroy(new C(void 0,{cause:R.reason}))}:()=>{de[w](new C(void 0,{cause:R.reason}))};if(R.aborted)x();else{K=K||T(1663).addAbortListener;const F=K(R,x);E(de,F[J])}return de}},9588:(Ge,ye,T)=>{"use strict";const{StringPrototypeSlice:J,SymbolIterator:C,TypedArrayPrototypeSet:q,Uint8Array:Y}=T(1251),{Buffer:ne}=T(2317),{inspect:w}=T(1663);Ge.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(B){const K={data:B,next:null};this.length>0?this.tail.next=K:this.head=K,this.tail=K,++this.length}unshift(B){const K={data:B,next:this.head};0===this.length&&(this.tail=K),this.head=K,++this.length}shift(){if(0===this.length)return;const B=this.head.data;return this.head=1===this.length?this.tail=null:this.head.next,--this.length,B}clear(){this.head=this.tail=null,this.length=0}join(B){if(0===this.length)return"";let K=this.head,te=""+K.data;for(;null!==(K=K.next);)te+=B+K.data;return te}concat(B){if(0===this.length)return ne.alloc(0);const K=ne.allocUnsafe(B>>>0);let te=this.head,R=0;for(;te;)q(K,te.data,R),R+=te.data.length,te=te.next;return K}consume(B,K){const te=this.head.data;if(B<te.length){const R=te.slice(0,B);return this.head.data=te.slice(B),R}return B===te.length?this.shift():K?this._getString(B):this._getBuffer(B)}first(){return this.head.data}*[C](){for(let B=this.head;B;B=B.next)yield B.data}_getString(B){let K="",te=this.head,R=0;do{const de=te.data;if(!(B>de.length)){B===de.length?(K+=de,++R,this.head=te.next?te.next:this.tail=null):(K+=J(de,0,B),this.head=te,te.data=J(de,B));break}K+=de,B-=de.length,++R}while(null!==(te=te.next));return this.length-=R,K}_getBuffer(B){const K=ne.allocUnsafe(B),te=B;let R=this.head,de=0;do{const x=R.data;if(!(B>x.length)){B===x.length?(q(K,x,te-B),++de,this.head=R.next?R.next:this.tail=null):(q(K,new Y(x.buffer,x.byteOffset,B),te-B),this.head=R,R.data=x.slice(B));break}q(K,x,te-B),B-=x.length,++de}while(null!==(R=R.next));return this.length-=de,K}[Symbol.for("nodejs.util.inspect.custom")](B,K){return w(this,{...K,depth:0,customInspect:!1})}}},6683:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const{pipeline:C}=T(6249),q=T(9613),{destroyer:Y}=T(1509),{isNodeStream:ne,isReadable:w,isWritable:E,isWebStream:B,isTransformStream:K,isWritableStream:te,isReadableStream:R}=T(6110),{AbortError:de,codes:{ERR_INVALID_ARG_VALUE:x,ERR_MISSING_ARGS:F}}=T(5480),se=T(3139);Ge.exports=function(...$){if(0===$.length)throw new F("streams");if(1===$.length)return q.from($[0]);const X=[...$];if("function"==typeof $[0]&&($[0]=q.from($[0])),"function"==typeof $[$.length-1]){const Re=$.length-1;$[Re]=q.from($[Re])}for(let Re=0;Re<$.length;++Re)if(ne($[Re])||B($[Re])){if(Re<$.length-1&&!(w($[Re])||R($[Re])||K($[Re])))throw new x(`streams[${Re}]`,X[Re],"must be readable");if(Re>0&&!(E($[Re])||te($[Re])||K($[Re])))throw new x(`streams[${Re}]`,X[Re],"must be writable")}let j,H,y,M,A;const ee=$[0],Te=C($,function oe(Re){const Le=M;M=null,Le?Le(Re):Re?A.destroy(Re):!xe&&!ie&&A.destroy()}),ie=!!(E(ee)||te(ee)||K(ee)),xe=!!(w(Te)||R(Te)||K(Te));if(A=new q({writableObjectMode:!(null==ee||!ee.writableObjectMode),readableObjectMode:!(null==Te||!Te.readableObjectMode),writable:ie,readable:xe}),ie){if(ne(ee))A._write=function(Le,tt,rt){ee.write(Le,tt)?rt():j=rt},A._final=function(Le){ee.end(),H=Le},ee.on("drain",function(){if(j){const Le=j;j=null,Le()}});else if(B(ee)){const tt=(K(ee)?ee.writable:ee).getWriter();A._write=function(){var rt=J(function*(Ee,je,De){try{yield tt.ready,tt.write(Ee).catch(()=>{}),De()}catch(ot){De(ot)}});return function(Ee,je,De){return rt.apply(this,arguments)}}(),A._final=function(){var rt=J(function*(Ee){try{yield tt.ready,tt.close().catch(()=>{}),H=Ee}catch(je){Ee(je)}});return function(Ee){return rt.apply(this,arguments)}}()}const Re=K(Te)?Te.readable:Te;se(Re,()=>{if(H){const Le=H;H=null,Le()}})}if(xe)if(ne(Te))Te.on("readable",function(){if(y){const Re=y;y=null,Re()}}),Te.on("end",function(){A.push(null)}),A._read=function(){for(;;){const Re=Te.read();if(null===Re)return void(y=A._read);if(!A.push(Re))return}};else if(B(Te)){const Le=(K(Te)?Te.readable:Te).getReader();A._read=J(function*(){for(;;)try{const{value:tt,done:rt}=yield Le.read();if(!A.push(tt))return;if(rt)return void A.push(null)}catch{return}})}return A._destroy=function(Re,Le){!Re&&null!==M&&(Re=new de),y=null,j=null,H=null,null===M?Le(Re):(M=Le,ne(Te)&&Y(Te,Re))},A}},1509:(Ge,ye,T)=>{"use strict";const J=T(573),{aggregateTwoErrors:C,codes:{ERR_MULTIPLE_CALLBACK:q},AbortError:Y}=T(5480),{Symbol:ne}=T(1251),{kIsDestroyed:w,isDestroyed:E,isFinished:B,isServerRequest:K}=T(6110),te=ne("kDestroy"),R=ne("kConstruct");function de(ie,xe,Re){ie&&(xe&&!xe.errored&&(xe.errored=ie),Re&&!Re.errored&&(Re.errored=ie))}function F(ie,xe,Re){let Le=!1;function tt(rt){if(Le)return;Le=!0;const Ee=ie._readableState,je=ie._writableState;de(rt,je,Ee),je&&(je.closed=!0),Ee&&(Ee.closed=!0),"function"==typeof Re&&Re(rt),rt?J.nextTick(se,ie,rt):J.nextTick(z,ie)}try{ie._destroy(xe||null,tt)}catch(rt){tt(rt)}}function se(ie,xe){$(ie,xe),z(ie)}function z(ie){const xe=ie._readableState,Re=ie._writableState;Re&&(Re.closeEmitted=!0),xe&&(xe.closeEmitted=!0),(null!=Re&&Re.emitClose||null!=xe&&xe.emitClose)&&ie.emit("close")}function $(ie,xe){const Re=ie._readableState,Le=ie._writableState;null!=Le&&Le.errorEmitted||null!=Re&&Re.errorEmitted||(Le&&(Le.errorEmitted=!0),Re&&(Re.errorEmitted=!0),ie.emit("error",xe))}function j(ie,xe,Re){const Le=ie._readableState,tt=ie._writableState;if(null!=tt&&tt.destroyed||null!=Le&&Le.destroyed)return this;null!=Le&&Le.autoDestroy||null!=tt&&tt.autoDestroy?ie.destroy(xe):xe&&(tt&&!tt.errored&&(tt.errored=xe),Le&&!Le.errored&&(Le.errored=xe),Re?J.nextTick($,ie,xe):$(ie,xe))}function y(ie){let xe=!1;function Re(Le){if(xe)return void j(ie,Le??new q);xe=!0;const tt=ie._readableState,rt=ie._writableState,Ee=rt||tt;tt&&(tt.constructed=!0),rt&&(rt.constructed=!0),Ee.destroyed?ie.emit(te,Le):Le?j(ie,Le,!0):J.nextTick(M,ie)}try{ie._construct(Le=>{J.nextTick(Re,Le)})}catch(Le){J.nextTick(Re,Le)}}function M(ie){ie.emit(R)}function A(ie){return ie?.setHeader&&"function"==typeof ie.abort}function oe(ie){ie.emit("close")}function ee(ie,xe){ie.emit("error",xe),J.nextTick(oe,ie)}Ge.exports={construct:function H(ie,xe){if("function"!=typeof ie._construct)return;const Re=ie._readableState,Le=ie._writableState;Re&&(Re.constructed=!1),Le&&(Le.constructed=!1),ie.once(R,xe),!(ie.listenerCount(R)>1)&&J.nextTick(y,ie)},destroyer:function Te(ie,xe){!ie||E(ie)||(!xe&&!B(ie)&&(xe=new Y),K(ie)?(ie.socket=null,ie.destroy(xe)):A(ie)?ie.abort():A(ie.req)?ie.req.abort():"function"==typeof ie.destroy?ie.destroy(xe):"function"==typeof ie.close?ie.close():xe?J.nextTick(ee,ie,xe):J.nextTick(oe,ie),ie.destroyed||(ie[w]=!0))},destroy:function x(ie,xe){const Re=this._readableState,Le=this._writableState,tt=Le||Re;return null!=Le&&Le.destroyed||null!=Re&&Re.destroyed?("function"==typeof xe&&xe(),this):(de(ie,Le,Re),Le&&(Le.destroyed=!0),Re&&(Re.destroyed=!0),tt.constructed?F(this,ie,xe):this.once(te,function(rt){F(this,C(rt,ie),xe)}),this)},undestroy:function X(){const ie=this._readableState,xe=this._writableState;ie&&(ie.constructed=!0,ie.closed=!1,ie.closeEmitted=!1,ie.destroyed=!1,ie.errored=null,ie.errorEmitted=!1,ie.reading=!1,ie.ended=!1===ie.readable,ie.endEmitted=!1===ie.readable),xe&&(xe.constructed=!0,xe.destroyed=!1,xe.closed=!1,xe.closeEmitted=!1,xe.errored=null,xe.errorEmitted=!1,xe.finalCalled=!1,xe.prefinished=!1,xe.ended=!1===xe.writable,xe.ending=!1===xe.writable,xe.finished=!1===xe.writable)},errorOrDestroy:j}},9613:(Ge,ye,T)=>{"use strict";const{ObjectDefineProperties:J,ObjectGetOwnPropertyDescriptor:C,ObjectKeys:q,ObjectSetPrototypeOf:Y}=T(1251);Ge.exports=E;const ne=T(5779),w=T(2983);Y(E.prototype,ne.prototype),Y(E,ne);{const R=q(w.prototype);for(let de=0;de<R.length;de++){const x=R[de];E.prototype[x]||(E.prototype[x]=w.prototype[x])}}function E(R){if(!(this instanceof E))return new E(R);ne.call(this,R),w.call(this,R),R?(this.allowHalfOpen=!1!==R.allowHalfOpen,!1===R.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===R.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let B,te;function K(){return void 0===B&&(B={}),B}J(E.prototype,{writable:{__proto__:null,...C(w.prototype,"writable")},writableHighWaterMark:{__proto__:null,...C(w.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...C(w.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...C(w.prototype,"writableBuffer")},writableLength:{__proto__:null,...C(w.prototype,"writableLength")},writableFinished:{__proto__:null,...C(w.prototype,"writableFinished")},writableCorked:{__proto__:null,...C(w.prototype,"writableCorked")},writableEnded:{__proto__:null,...C(w.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...C(w.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(R){this._readableState&&this._writableState&&(this._readableState.destroyed=R,this._writableState.destroyed=R)}}}),E.fromWeb=function(R,de){return K().newStreamDuplexFromReadableWritablePair(R,de)},E.toWeb=function(R){return K().newReadableWritablePairFromDuplex(R)},E.from=function(R){return te||(te=T(4803)),te(R,"body")}},4803:(Ge,ye,T)=>{var J=T(9293).default,C=T(3344).default,q=T(2958).default;const Y=T(573),ne=T(2317),{isReadable:w,isWritable:E,isIterable:B,isNodeStream:K,isReadableNodeStream:te,isWritableNodeStream:R,isDuplexNodeStream:de,isReadableStream:x,isWritableStream:F}=T(6110),se=T(3139),{AbortError:z,codes:{ERR_INVALID_ARG_TYPE:$,ERR_INVALID_RETURN_VALUE:X}}=T(5480),{destroyer:j}=T(1509),H=T(9613),y=T(5779),M=T(2983),{createDeferredPromise:A}=T(1663),oe=T(3447),ee=globalThis.Blob||ne.Blob,Te=typeof ee<"u"?function(Ee){return Ee instanceof ee}:function(Ee){return!1},ie=globalThis.AbortController||T(9465).AbortController,{FunctionPrototypeCall:xe}=T(1251);class Re extends H{constructor(Ee){super(Ee),!1===Ee?.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===Ee?.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function tt(rt){const Ee=rt.readable&&"function"!=typeof rt.readable.read?y.wrap(rt.readable):rt.readable,je=rt.writable;let fe,we,ct,Et,Be,De=!!w(Ee),ot=!!E(je);function W(Q){const Ae=Et;Et=null,Ae?Ae(Q):Q&&Be.destroy(Q)}return Be=new Re({readableObjectMode:!(null==Ee||!Ee.readableObjectMode),writableObjectMode:!(null==je||!je.writableObjectMode),readable:De,writable:ot}),ot&&(se(je,Q=>{ot=!1,Q&&j(Ee,Q),W(Q)}),Be._write=function(Q,Ae,Ne){je.write(Q,Ae)?Ne():fe=Ne},Be._final=function(Q){je.end(),we=Q},je.on("drain",function(){if(fe){const Q=fe;fe=null,Q()}}),je.on("finish",function(){if(we){const Q=we;we=null,Q()}})),De&&(se(Ee,Q=>{De=!1,Q&&j(Ee,Q),W(Q)}),Ee.on("readable",function(){if(ct){const Q=ct;ct=null,Q()}}),Ee.on("end",function(){Be.push(null)}),Be._read=function(){for(;;){const Q=Ee.read();if(null===Q)return void(ct=Be._read);if(!Be.push(Q))return}}),Be._destroy=function(Q,Ae){!Q&&null!==Et&&(Q=new z),ct=null,fe=null,we=null,null===Et?Ae(Q):(Et=Ae,j(je,Q),j(Ee,Q))},Be}Ge.exports=function rt(Ee,je){if(de(Ee))return Ee;if(te(Ee))return tt({readable:Ee});if(R(Ee))return tt({writable:Ee});if(K(Ee))return tt({writable:!1,readable:!1});if(x(Ee))return tt({readable:y.fromWeb(Ee)});if(F(Ee))return tt({writable:M.fromWeb(Ee)});if("function"==typeof Ee){const{value:ot,write:fe,final:we,destroy:ct}=function Le(rt){let{promise:Ee,resolve:je}=A();const De=new ie,ot=De.signal;return{value:rt(q(function*(){for(;;){const we=Ee;Ee=null;const{chunk:ct,done:Et,cb:Be}=yield C(we);if(Y.nextTick(Be),Et)return;if(ot.aborted)throw new z(void 0,{cause:ot.reason});({promise:Ee,resolve:je}=A()),yield ct}})(),{signal:ot}),write(we,ct,Et){const Be=je;je=null,Be({chunk:we,done:!1,cb:Et})},final(we){const ct=je;je=null,ct({done:!0,cb:we})},destroy(we,ct){De.abort(),ct(we)}}}(Ee);if(B(ot))return oe(Re,ot,{objectMode:!0,write:fe,final:we,destroy:ct});const Et=ot?.then;if("function"==typeof Et){let Be;const W=xe(Et,ot,Q=>{if(null!=Q)throw new X("nully","body",Q)},Q=>{j(Be,Q)});return Be=new Re({objectMode:!0,readable:!1,write:fe,final(Q){we(J(function*(){try{yield W,Y.nextTick(Q,null)}catch(Ae){Y.nextTick(Q,Ae)}}))},destroy:ct})}throw new X("Iterable, AsyncIterable or AsyncFunction",je,ot)}if(Te(Ee))return rt(Ee.arrayBuffer());if(B(Ee))return oe(Re,Ee,{objectMode:!0,writable:!1});if(x(Ee?.readable)&&F(Ee?.writable))return Re.fromWeb(Ee);if("object"==typeof Ee?.writable||"object"==typeof Ee?.readable)return tt({readable:null!=Ee&&Ee.readable?te(Ee?.readable)?Ee?.readable:rt(Ee.readable):void 0,writable:null!=Ee&&Ee.writable?R(Ee?.writable)?Ee?.writable:rt(Ee.writable):void 0});const De=Ee?.then;if("function"==typeof De){let ot;return xe(De,Ee,fe=>{null!=fe&&ot.push(fe),ot.push(null)},fe=>{j(ot,fe)}),ot=new Re({objectMode:!0,writable:!1,read(){}})}throw new $(je,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Ee)}},3139:(Ge,ye,T)=>{const J=T(573),{AbortError:C,codes:q}=T(5480),{ERR_INVALID_ARG_TYPE:Y,ERR_STREAM_PREMATURE_CLOSE:ne}=q,{kEmptyObject:w,once:E}=T(1663),{validateAbortSignal:B,validateFunction:K,validateObject:te,validateBoolean:R}=T(438),{Promise:de,PromisePrototypeThen:x,SymbolDispose:F}=T(1251),{isClosed:se,isReadable:z,isReadableNodeStream:$,isReadableStream:X,isReadableFinished:j,isReadableErrored:H,isWritable:y,isWritableNodeStream:M,isWritableStream:A,isWritableFinished:oe,isWritableErrored:ee,isNodeStream:Te,willEmitClose:ie,kIsClosedPromise:xe}=T(6110);let Re;const tt=()=>{};function rt(De,ot,fe){var we,ct;if(2===arguments.length?(fe=ot,ot=w):null==ot?ot=w:te(ot,"options"),K(fe,"callback"),B(ot.signal,"options.signal"),fe=E(fe),X(De)||A(De))return function Ee(De,ot,fe){let we=!1,ct=tt;if(ot.signal)if(ct=()=>{we=!0,fe.call(De,new C(void 0,{cause:ot.signal.reason}))},ot.signal.aborted)J.nextTick(ct);else{Re=Re||T(1663).addAbortListener;const Be=Re(ot.signal,ct),W=fe;fe=E((...Q)=>{Be[F](),W.apply(De,Q)})}const Et=(...Be)=>{we||J.nextTick(()=>fe.apply(De,Be))};return x(De[xe].promise,Et,Et),tt}(De,ot,fe);if(!Te(De))throw new Y("stream",["ReadableStream","WritableStream","Stream"],De);const Et=null!==(we=ot.readable)&&void 0!==we?we:$(De),Be=null!==(ct=ot.writable)&&void 0!==ct?ct:M(De),W=De._writableState,Q=De._readableState,Ae=()=>{De.writable||nt()};let Ne=ie(De)&&$(De)===Et&&M(De)===Be,Me=oe(De,!1);const nt=()=>{Me=!0,De.destroyed&&(Ne=!1),(!Ne||De.readable&&!Et)&&(!Et||ut)&&fe.call(De)};let ut=j(De,!1);const ft=()=>{ut=!0,De.destroyed&&(Ne=!1),(!Ne||De.writable&&!Be)&&(!Be||Me)&&fe.call(De)},Fe=ve=>{fe.call(De,ve)};let V=se(De);const I=()=>{V=!0;const ve=ee(De)||H(De);return ve&&"boolean"!=typeof ve?fe.call(De,ve):Et&&!ut&&$(De,!0)&&!j(De,!1)?fe.call(De,new ne):!Be||Me||oe(De,!1)?void fe.call(De):fe.call(De,new ne)},O=()=>{V=!0;const ve=ee(De)||H(De);if(ve&&"boolean"!=typeof ve)return fe.call(De,ve);fe.call(De)},ge=()=>{De.req.on("finish",nt)};!function Le(De){return De.setHeader&&"function"==typeof De.abort}(De)?Be&&!W&&(De.on("end",Ae),De.on("close",Ae)):(De.on("complete",nt),Ne||De.on("abort",I),De.req?ge():De.on("request",ge)),!Ne&&"boolean"==typeof De.aborted&&De.on("aborted",I),De.on("end",ft),De.on("finish",nt),!1!==ot.error&&De.on("error",Fe),De.on("close",I),V?J.nextTick(I):null!=W&&W.errorEmitted||null!=Q&&Q.errorEmitted?Ne||J.nextTick(O):(!Et&&(!Ne||z(De))&&(Me||!1===y(De))||!Be&&(!Ne||y(De))&&(ut||!1===z(De))||Q&&De.req&&De.aborted)&&J.nextTick(O);const $e=()=>{fe=tt,De.removeListener("aborted",I),De.removeListener("complete",nt),De.removeListener("abort",I),De.removeListener("request",ge),De.req&&De.req.removeListener("finish",nt),De.removeListener("end",Ae),De.removeListener("close",Ae),De.removeListener("finish",nt),De.removeListener("end",ft),De.removeListener("error",Fe),De.removeListener("close",I)};if(ot.signal&&!V){const ve=()=>{const Ve=fe;$e(),Ve.call(De,new C(void 0,{cause:ot.signal.reason}))};if(ot.signal.aborted)J.nextTick(ve);else{Re=Re||T(1663).addAbortListener;const Ve=Re(ot.signal,ve),Ze=fe;fe=E((...St)=>{Ve[F](),Ze.apply(De,St)})}}return $e}Ge.exports=rt,Ge.exports.finished=function je(De,ot){var fe;let we=!1;return null===ot&&(ot=w),null!==(fe=ot)&&void 0!==fe&&fe.cleanup&&(R(ot.cleanup,"cleanup"),we=ot.cleanup),new de((ct,Et)=>{const Be=rt(De,ot,W=>{we&&Be(),W?Et(W):ct()})})}},3447:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(573),{PromisePrototypeThen:q,SymbolAsyncIterator:Y,SymbolIterator:ne}=T(1251),{Buffer:w}=T(2317),{ERR_INVALID_ARG_TYPE:E,ERR_STREAM_NULL_VALUES:B}=T(5480).codes;Ge.exports=function K(te,R,de){let x,F;if("string"==typeof R||R instanceof w)return new te({objectMode:!0,...de,read(){this.push(R),this.push(null)}});if(R&&R[Y])F=!0,x=R[Y]();else{if(!R||!R[ne])throw new E("iterable",["Iterable"],R);F=!1,x=R[ne]()}const se=new te({objectMode:!0,highWaterMark:1,...de});let z=!1;function X(){return(X=J(function*(y){if(null!=y&&"function"==typeof x.throw){const{value:oe,done:ee}=yield x.throw(y);if(yield oe,ee)return}if("function"==typeof x.return){const{value:oe}=yield x.return();yield oe}})).apply(this,arguments)}function H(){return(H=J(function*(){for(;;){try{const{value:y,done:M}=F?yield x.next():x.next();if(M)se.push(null);else{const A=y&&"function"==typeof y.then?yield y:y;if(null===A)throw z=!1,new B;if(se.push(A))continue;z=!1}}catch(y){se.destroy(y)}break}})).apply(this,arguments)}return se._read=function(){z||(z=!0,function j(){H.apply(this,arguments)}())},se._destroy=function(y,M){q(function $(y){return X.apply(this,arguments)}(y),()=>C.nextTick(M,y),A=>C.nextTick(M,A||y))},se}},8708:(Ge,ye,T)=>{"use strict";const{ArrayIsArray:J,ObjectSetPrototypeOf:C}=T(1251),{EventEmitter:q}=T(4356);function Y(w){q.call(this,w)}function ne(w,E,B){if("function"==typeof w.prependListener)return w.prependListener(E,B);w._events&&w._events[E]?J(w._events[E])?w._events[E].unshift(B):w._events[E]=[B,w._events[E]]:w.on(E,B)}C(Y.prototype,q.prototype),C(Y,q),Y.prototype.pipe=function(w,E){const B=this;function K(z){w.writable&&!1===w.write(z)&&B.pause&&B.pause()}function te(){B.readable&&B.resume&&B.resume()}B.on("data",K),w.on("drain",te),!w._isStdio&&(!E||!1!==E.end)&&(B.on("end",de),B.on("close",x));let R=!1;function de(){R||(R=!0,w.end())}function x(){R||(R=!0,"function"==typeof w.destroy&&w.destroy())}function F(z){se(),0===q.listenerCount(this,"error")&&this.emit("error",z)}function se(){B.removeListener("data",K),w.removeListener("drain",te),B.removeListener("end",de),B.removeListener("close",x),B.removeListener("error",F),w.removeListener("error",F),B.removeListener("end",se),B.removeListener("close",se),w.removeListener("close",se)}return ne(B,"error",F),ne(w,"error",F),B.on("end",se),B.on("close",se),w.on("close",se),w.emit("pipe",B),w},Ge.exports={Stream:Y,prependListener:ne}},1210:(Ge,ye,T)=>{"use strict";var J=T(9293).default,C=T(3513).default,q=T(2881).default,Y=T(3344).default,ne=T(2958).default;const w=globalThis.AbortController||T(9465).AbortController,{codes:{ERR_INVALID_ARG_VALUE:E,ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:K,ERR_OUT_OF_RANGE:te},AbortError:R}=T(5480),{validateAbortSignal:de,validateInteger:x,validateObject:F}=T(438),se=T(1251).Symbol("kWeak"),z=T(1251).Symbol("kResistStopPropagation"),{finished:$}=T(3139),X=T(6683),{addAbortSignalNoValidate:j}=T(8992),{isWritable:H,isNodeStream:y}=T(6110),{deprecate:M}=T(1663),{ArrayPrototypePush:A,Boolean:oe,MathFloor:ee,Number:Te,NumberIsNaN:ie,Promise:xe,PromiseReject:Re,PromiseResolve:Le,PromisePrototypeThen:tt,Symbol:rt}=T(1251),Ee=rt("kEmpty"),je=rt("kEof");function ot(ve,Ve){if("function"!=typeof ve)throw new B("fn",["Function","AsyncFunction"],ve);null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&de(Ve.signal,"options.signal");let Ze=1;null!=Ve?.concurrency&&(Ze=ee(Ve.concurrency));let St=Ze-1;return null!=Ve?.highWaterMark&&(St=ee(Ve.highWaterMark)),x(Ze,"options.concurrency",1),x(St,"options.highWaterMark",0),St+=Ze,function(){var Gt=ne(function*(){const Ht=T(1663).AbortSignalAny([Ve?.signal].filter(oe)),ce=this,k=[],U={signal:Ht};let Pe,it,ht=!1,Tt=0;function An(){ht=!0,qn()}function qn(){Tt-=1,ri()}function ri(){it&&!ht&&Tt<Ze&&k.length<St&&(it(),it=null)}function Nn(){return(Nn=J(function*(){try{var xr,mr=!1,ja=!1;try{for(var Sa,Js=q(ce);mr=!(Sa=yield Js.next()).done;mr=!1){let Ir=Sa.value;if(ht)return;if(Ht.aborted)throw new R;try{if(Ir=ve(Ir,U),Ir===Ee)continue;Ir=Le(Ir)}catch(To){Ir=Re(To)}Tt+=1,tt(Ir,qn,An),k.push(Ir),Pe&&(Pe(),Pe=null),!ht&&(k.length>=St||Tt>=Ze)&&(yield new xe(To=>{it=To}))}}catch(Ir){ja=!0,xr=Ir}finally{try{mr&&null!=Js.return&&(yield Js.return())}finally{if(ja)throw xr}}k.push(je)}catch(Ir){const To=Re(Ir);tt(To,qn,An),k.push(To)}finally{ht=!0,Pe&&(Pe(),Pe=null)}})).apply(this,arguments)}!function zn(){Nn.apply(this,arguments)}();try{for(;;){for(;k.length>0;){const mr=yield Y(k[0]);if(mr===je)return;if(Ht.aborted)throw new R;mr!==Ee&&(yield mr),k.shift(),ri()}yield Y(new xe(mr=>{Pe=mr}))}}finally{ht=!0,it&&(it(),it=null)}});return function Ot(){return Gt.apply(this,arguments)}}().call(this)}function we(ve){return ct.apply(this,arguments)}function ct(){return(ct=J(function*(ve,Ve=void 0){var Gt,Ze=!1,St=!1;try{for(var Ot=q(Me.call(this,ve,Ve));Ze=!(yield Ot.next()).done;Ze=!1)return!0}catch(ce){St=!0,Gt=ce}finally{try{Ze&&null!=Ot.return&&(yield Ot.return())}finally{if(St)throw Gt}}return!1})).apply(this,arguments)}function Be(){return(Be=J(function*(ve,Ve=void 0){if("function"!=typeof ve)throw new B("fn",["Function","AsyncFunction"],ve);return!(yield we.call(this,J(function*(...Ze){return!(yield ve(...Ze))}),Ve))})).apply(this,arguments)}function Q(){return(Q=J(function*(ve,Ve){var Gt,Ze=!1,St=!1;try{for(var Ht,Ot=q(Me.call(this,ve,Ve));Ze=!(Ht=yield Ot.next()).done;Ze=!1)return Ht.value}catch(ce){St=!0,Gt=ce}finally{try{Ze&&null!=Ot.return&&(yield Ot.return())}finally{if(St)throw Gt}}})).apply(this,arguments)}function Ne(){return Ne=J(function*(ve,Ve){if("function"!=typeof ve)throw new B("fn",["Function","AsyncFunction"],ve);function St(){return(St=J(function*(U,Pe){return yield ve(U,Pe),Ee})).apply(this,arguments)}var Ht,Gt=!1,Ot=!1;try{for(var ce=q(ot.call(this,function Ze(U,Pe){return St.apply(this,arguments)},Ve));Gt=!(yield ce.next()).done;Gt=!1);}catch(U){Ot=!0,Ht=U}finally{try{Gt&&null!=ce.return&&(yield ce.return())}finally{if(Ot)throw Ht}}}),Ne.apply(this,arguments)}function Me(ve,Ve){if("function"!=typeof ve)throw new B("fn",["Function","AsyncFunction"],ve);function St(){return(St=J(function*(Gt,Ot){return(yield ve(Gt,Ot))?Gt:Ee})).apply(this,arguments)}return ot.call(this,function Ze(Gt,Ot){return St.apply(this,arguments)},Ve)}class nt extends K{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function ft(){return ft=J(function*(ve,Ve,Ze){var St;if("function"!=typeof ve)throw new B("reducer",["Function","AsyncFunction"],ve);null!=Ze&&F(Ze,"options"),null!=Ze?.signal&&de(Ze.signal,"options.signal");let Gt=arguments.length>1;if(null!=Ze&&null!==(St=Ze.signal)&&void 0!==St&&St.aborted){const An=new R(void 0,{cause:Ze.signal.reason});throw this.once("error",()=>{}),yield $(this.destroy(An)),An}const Ot=new w,Ht=Ot.signal;null!=Ze&&Ze.signal&&Ze.signal.addEventListener("abort",()=>Ot.abort(),{once:!0,[se]:this,[z]:!0});let ce=!1;try{var Pe,k=!1,U=!1;try{for(var ht,it=q(this);k=!(ht=yield it.next()).done;k=!1){const An=ht.value;var Tt;if(ce=!0,null!=Ze&&null!==(Tt=Ze.signal)&&void 0!==Tt&&Tt.aborted)throw new R;Gt?Ve=yield ve(Ve,An,{signal:Ht}):(Ve=An,Gt=!0)}}catch(An){U=!0,Pe=An}finally{try{k&&null!=it.return&&(yield it.return())}finally{if(U)throw Pe}}if(!ce&&!Gt)throw new nt}finally{Ot.abort()}return Ve}),ft.apply(this,arguments)}function V(){return(V=J(function*(ve){null!=ve&&F(ve,"options"),null!=ve?.signal&&de(ve.signal,"options.signal");const Ve=[];var Gt,Ze=!1,St=!1;try{for(var Ht,Ot=q(this);Ze=!(Ht=yield Ot.next()).done;Ze=!1){const k=Ht.value;var ce;if(null!=ve&&null!==(ce=ve.signal)&&void 0!==ce&&ce.aborted)throw new R(void 0,{cause:ve.signal.reason});A(Ve,k)}}catch(k){St=!0,Gt=k}finally{try{Ze&&null!=Ot.return&&(yield Ot.return())}finally{if(St)throw Gt}}return Ve})).apply(this,arguments)}function O(ve){if(ve=Te(ve),ie(ve))return 0;if(ve<0)throw new te("number",">= 0",ve);return ve}Ge.exports.streamReturningOperators={asIndexedPairs:M(function fe(ve=void 0){return null!=ve&&F(ve,"options"),null!=ve?.signal&&de(ve.signal,"options.signal"),function(){var Ve=ne(function*(){let St=0;var Ht,Gt=!1,Ot=!1;try{for(var k,ce=q(this);Gt=!(k=yield Y(ce.next())).done;Gt=!1){const Pe=k.value;var U;if(null!=ve&&null!==(U=ve.signal)&&void 0!==U&&U.aborted)throw new R({cause:ve.signal.reason});yield[St++,Pe]}}catch(Pe){Ot=!0,Ht=Pe}finally{try{Gt&&null!=ce.return&&(yield Y(ce.return()))}finally{if(Ot)throw Ht}}});return function Ze(){return Ve.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function ge(ve,Ve=void 0){return null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&de(Ve.signal,"options.signal"),ve=O(ve),function(){var Ze=ne(function*(){var Gt;if(null!=Ve&&null!==(Gt=Ve.signal)&&void 0!==Gt&&Gt.aborted)throw new R;var ce,Ot=!1,Ht=!1;try{for(var U,k=q(this);Ot=!(U=yield Y(k.next())).done;Ot=!1){const it=U.value;var Pe;if(null!=Ve&&null!==(Pe=Ve.signal)&&void 0!==Pe&&Pe.aborted)throw new R;ve--<=0&&(yield it)}}catch(it){Ht=!0,ce=it}finally{try{Ot&&null!=k.return&&(yield Y(k.return()))}finally{if(Ht)throw ce}}});return function St(){return Ze.apply(this,arguments)}}().call(this)},filter:Me,flatMap:function I(ve,Ve){const Ze=ot.call(this,ve,Ve);return function(){var St=ne(function*(){var ce,Ot=!1,Ht=!1;try{for(var U,k=q(Ze);Ot=!(U=yield Y(k.next())).done;Ot=!1){const Pe=U.value;yield*C(q(Pe),Y)}}catch(Pe){Ht=!0,ce=Pe}finally{try{Ot&&null!=k.return&&(yield Y(k.return()))}finally{if(Ht)throw ce}}});return function Gt(){return St.apply(this,arguments)}}().call(this)},map:ot,take:function $e(ve,Ve=void 0){return null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&de(Ve.signal,"options.signal"),ve=O(ve),function(){var Ze=ne(function*(){var Gt;if(null!=Ve&&null!==(Gt=Ve.signal)&&void 0!==Gt&&Gt.aborted)throw new R;var ce,Ot=!1,Ht=!1;try{for(var U,k=q(this);Ot=!(U=yield Y(k.next())).done;Ot=!1){const it=U.value;var Pe;if(null!=Ve&&null!==(Pe=Ve.signal)&&void 0!==Pe&&Pe.aborted)throw new R;if(ve-- >0&&(yield it),ve<=0)return}}catch(it){Ht=!0,ce=it}finally{try{Ot&&null!=k.return&&(yield Y(k.return()))}finally{if(Ht)throw ce}}});return function St(){return Ze.apply(this,arguments)}}().call(this)},compose:function De(ve,Ve){if(null!=Ve&&F(Ve,"options"),null!=Ve?.signal&&de(Ve.signal,"options.signal"),y(ve)&&!H(ve))throw new E("stream",ve,"must be writable");const Ze=X(this,ve);return null!=Ve&&Ve.signal&&j(Ve.signal,Ze),Ze}},Ge.exports.promiseReturningOperators={every:function Et(ve){return Be.apply(this,arguments)},forEach:function Ae(ve,Ve){return Ne.apply(this,arguments)},reduce:function ut(ve,Ve,Ze){return ft.apply(this,arguments)},toArray:function Fe(ve){return V.apply(this,arguments)},some:we,find:function W(ve,Ve){return Q.apply(this,arguments)}}},6569:(Ge,ye,T)=>{"use strict";const{ObjectSetPrototypeOf:J}=T(1251);Ge.exports=q;const C=T(9059);function q(Y){if(!(this instanceof q))return new q(Y);C.call(this,Y)}J(q.prototype,C.prototype),J(q,C),q.prototype._transform=function(Y,ne,w){w(null,Y)}},6249:(Ge,ye,T)=>{var J=T(9293).default,C=T(2958).default,q=T(3344).default,Y=T(3513).default,ne=T(2881).default;const w=T(573),{ArrayIsArray:E,Promise:B,SymbolAsyncIterator:K,SymbolDispose:te}=T(1251),R=T(3139),{once:de}=T(1663),x=T(1509),F=T(9613),{aggregateTwoErrors:se,codes:{ERR_INVALID_ARG_TYPE:z,ERR_INVALID_RETURN_VALUE:$,ERR_MISSING_ARGS:X,ERR_STREAM_DESTROYED:j,ERR_STREAM_PREMATURE_CLOSE:H},AbortError:y}=T(5480),{validateFunction:M,validateAbortSignal:A}=T(438),{isIterable:oe,isReadable:ee,isReadableNodeStream:Te,isNodeStream:ie,isTransformStream:xe,isWebStream:Re,isReadableStream:Le,isReadableFinished:tt}=T(6110),rt=globalThis.AbortController||T(9465).AbortController;let Ee,je,De;function ot(ut,ft,Fe){let V=!1;return ut.on("close",()=>{V=!0}),{destroy:O=>{V||(V=!0,x.destroyer(ut,O||new j("pipe")))},cleanup:R(ut,{readable:ft,writable:Fe},O=>{V=!O})}}function we(ut){if(oe(ut))return ut;if(Te(ut))return function ct(ut){return Et.apply(this,arguments)}(ut);throw new z("val",["Readable","Iterable","AsyncIterable"],ut)}function Et(){return(Et=C(function*(ut){je||(je=T(5779)),yield*Y(ne(je.prototype[K].call(ut)),q)})).apply(this,arguments)}function Be(ut,ft,Fe,V){return W.apply(this,arguments)}function W(){return(W=J(function*(ut,ft,Fe,{end:V}){let I,O=null;const ge=Ht=>{if(Ht&&(I=Ht),O){const ce=O;O=null,ce()}},$e=()=>new B((Ht,ce)=>{I?ce(I):O=()=>{I?ce(I):Ht()}});ft.on("drain",ge);const ve=R(ft,{readable:!1},ge);try{ft.writableNeedDrain&&(yield $e());var St,Ve=!1,Ze=!1;try{for(var Ot,Gt=ne(ut);Ve=!(Ot=yield Gt.next()).done;Ve=!1)ft.write(Ot.value)||(yield $e())}catch(Ht){Ze=!0,St=Ht}finally{try{Ve&&null!=Gt.return&&(yield Gt.return())}finally{if(Ze)throw St}}V&&(ft.end(),yield $e()),Fe()}catch(Ht){Fe(I!==Ht?se(I,Ht):Ht)}finally{ve(),ft.off("drain",ge)}})).apply(this,arguments)}function Q(ut,ft,Fe,V){return Ae.apply(this,arguments)}function Ae(){return(Ae=J(function*(ut,ft,Fe,{end:V}){xe(ft)&&(ft=ft.writable);const I=ft.getWriter();try{var $e,O=!1,ge=!1;try{for(var Ve,ve=ne(ut);O=!(Ve=yield ve.next()).done;O=!1){const Ze=Ve.value;yield I.ready,I.write(Ze).catch(()=>{})}}catch(Ze){ge=!0,$e=Ze}finally{try{O&&null!=ve.return&&(yield ve.return())}finally{if(ge)throw $e}}yield I.ready,V&&(yield I.close()),Fe()}catch(Ze){try{yield I.abort(Ze),Fe(Ze)}catch(St){Fe(St)}}})).apply(this,arguments)}function Me(ut,ft,Fe){if(1===ut.length&&E(ut[0])&&(ut=ut[0]),ut.length<2)throw new X("streams");const V=new rt,I=V.signal,O=Fe?.signal,ge=[];function $e(){Ht(new y)}let ve,Ve,Ze;A(O,"options.signal"),De=De||T(1663).addAbortListener,O&&(ve=De(O,$e));const St=[];let ce,Gt=0;function Ot(it){Ht(it,0==--Gt)}function Ht(it,ht){var Tt;if(it&&(!Ve||"ERR_STREAM_PREMATURE_CLOSE"===Ve.code)&&(Ve=it),Ve||ht){for(;St.length;)St.shift()(Ve);null===(Tt=ve)||void 0===Tt||Tt[te](),V.abort(),ht&&(Ve||ge.forEach(An=>An()),w.nextTick(ft,Ve,Ze))}}for(let it=0;it<ut.length;it++){const ht=ut[it],Tt=it<ut.length-1,An=it>0,qn=Tt||!1!==Fe?.end,ri=it===ut.length-1;if(ie(ht)){let zn=function(Nn){Nn&&"AbortError"!==Nn.name&&"ERR_STREAM_PREMATURE_CLOSE"!==Nn.code&&Ot(Nn)};if(qn){const{destroy:Nn,cleanup:mr}=ot(ht,Tt,An);St.push(Nn),ee(ht)&&ri&&ge.push(mr)}ht.on("error",zn),ee(ht)&&ri&&ge.push(()=>{ht.removeListener("error",zn)})}if(0===it)if("function"==typeof ht){if(ce=ht({signal:I}),!oe(ce))throw new $("Iterable, AsyncIterable or Stream","source",ce)}else ce=oe(ht)||Te(ht)||xe(ht)?ht:F.from(ht);else if("function"==typeof ht){var k;if(ce=xe(ce)?we(null===(k=ce)||void 0===k?void 0:k.readable):we(ce),ce=ht(ce,{signal:I}),Tt){if(!oe(ce,!0))throw new $("AsyncIterable",`transform[${it-1}]`,ce)}else{var U;Ee||(Ee=T(6569));const zn=new Ee({objectMode:!0}),Nn=null===(U=ce)||void 0===U?void 0:U.then;if("function"==typeof Nn)Gt++,Nn.call(ce,xr=>{Ze=xr,null!=xr&&zn.write(xr),qn&&zn.end(),w.nextTick(Ot)},xr=>{zn.destroy(xr),w.nextTick(Ot,xr)});else if(oe(ce,!0))Gt++,Be(ce,zn,Ot,{end:qn});else{if(!Le(ce)&&!xe(ce))throw new $("AsyncIterable or Promise","destination",ce);Gt++,Be(ce.readable||ce,zn,Ot,{end:qn})}ce=zn;const{destroy:mr,cleanup:ja}=ot(ce,!1,!0);St.push(mr),ri&&ge.push(ja)}}else if(ie(ht)){if(Te(ce)){Gt+=2;const zn=nt(ce,ht,Ot,{end:qn});ee(ht)&&ri&&ge.push(zn)}else if(xe(ce)||Le(ce))Gt++,Be(ce.readable||ce,ht,Ot,{end:qn});else{if(!oe(ce))throw new z("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ce);Gt++,Be(ce,ht,Ot,{end:qn})}ce=ht}else if(Re(ht)){if(Te(ce))Gt++,Q(we(ce),ht,Ot,{end:qn});else if(Le(ce)||oe(ce))Gt++,Q(ce,ht,Ot,{end:qn});else{if(!xe(ce))throw new z("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ce);Gt++,Q(ce.readable,ht,Ot,{end:qn})}ce=ht}else ce=F.from(ht)}return(null!=I&&I.aborted||null!=O&&O.aborted)&&w.nextTick($e),ce}function nt(ut,ft,Fe,{end:V}){let I=!1;if(ft.on("close",()=>{I||Fe(new H)}),ut.pipe(ft,{end:!1}),V){let ge=function(){I=!0,ft.end()};tt(ut)?w.nextTick(ge):ut.once("end",ge)}else Fe();return R(ut,{readable:!0,writable:!1},ge=>{const $e=ut._readableState;ge&&"ERR_STREAM_PREMATURE_CLOSE"===ge.code&&$e&&$e.ended&&!$e.errored&&!$e.errorEmitted?ut.once("end",Fe).once("error",Fe):Fe(ge)}),R(ft,{readable:!1,writable:!0},Fe)}Ge.exports={pipelineImpl:Me,pipeline:function Ne(...ut){return Me(ut,de(function fe(ut){return M(ut[ut.length-1],"streams[stream.length - 1]"),ut.pop()}(ut)))}}},5779:(Ge,ye,T)=>{var J=T(3344).default,C=T(2958).default;const q=T(573),{ArrayPrototypeIndexOf:Y,NumberIsInteger:ne,NumberIsNaN:w,NumberParseInt:E,ObjectDefineProperties:B,ObjectKeys:K,ObjectSetPrototypeOf:te,Promise:R,SafeSet:de,SymbolAsyncDispose:x,SymbolAsyncIterator:F,Symbol:se}=T(1251);Ge.exports=Ot,Ot.ReadableState=Gt;const{EventEmitter:z}=T(4356),{Stream:$,prependListener:X}=T(8708),{Buffer:j}=T(2317),{addAbortSignal:H}=T(8992),y=T(3139);let M=T(1663).debuglog("stream",He=>{M=He});const A=T(9588),oe=T(1509),{getHighWaterMark:ee,getDefaultHighWaterMark:Te}=T(2934),{aggregateTwoErrors:ie,codes:{ERR_INVALID_ARG_TYPE:xe,ERR_METHOD_NOT_IMPLEMENTED:Re,ERR_OUT_OF_RANGE:Le,ERR_STREAM_PUSH_AFTER_EOF:tt,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:rt},AbortError:Ee}=T(5480),{validateObject:je}=T(438),De=se("kPaused"),{StringDecoder:ot}=T(8454),fe=T(3447);te(Ot.prototype,$.prototype),te(Ot,$);const we=()=>{},{errorOrDestroy:ct}=oe,Et=1,Ae=16,Ne=32,Me=64,V=2048,I=4096,ve=65536;function St(He){return{enumerable:!1,get(){return!!(this.state&He)},set(Xe){Xe?this.state|=He:this.state&=~He}}}function Gt(He,Xe,Wt){"boolean"!=typeof Wt&&(Wt=Xe instanceof T(9613)),this.state=V|I|Ae|Ne,He&&He.objectMode&&(this.state|=Et),Wt&&He&&He.readableObjectMode&&(this.state|=Et),this.highWaterMark=He?ee(this,He,"readableHighWaterMark",Wt):Te(!1),this.buffer=new A,this.length=0,this.pipes=[],this.flowing=null,this[De]=null,He&&!1===He.emitClose&&(this.state&=~V),He&&!1===He.autoDestroy&&(this.state&=~I),this.errored=null,this.defaultEncoding=He&&He.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,He&&He.encoding&&(this.decoder=new ot(He.encoding),this.encoding=He.encoding)}function Ot(He){if(!(this instanceof Ot))return new Ot(He);const Xe=this instanceof T(9613);this._readableState=new Gt(He,this,Xe),He&&("function"==typeof He.read&&(this._read=He.read),"function"==typeof He.destroy&&(this._destroy=He.destroy),"function"==typeof He.construct&&(this._construct=He.construct),He.signal&&!Xe&&H(He.signal,this)),$.call(this,He),oe.construct(this,()=>{this._readableState.needReadable&&An(this,this._readableState)})}function Ht(He,Xe,Wt,Ct){M("readableAddChunk",Xe);const Cn=He._readableState;let Dr;if(Cn.state&Et||("string"==typeof Xe?Cn.encoding!==(Wt=Wt||Cn.defaultEncoding)&&(Ct&&Cn.encoding?Xe=j.from(Xe,Wt).toString(Cn.encoding):(Xe=j.from(Xe,Wt),Wt="")):Xe instanceof j?Wt="":$._isUint8Array(Xe)?(Xe=$._uint8ArrayToBuffer(Xe),Wt=""):null!=Xe&&(Dr=new xe("chunk",["string","Buffer","Uint8Array"],Xe))),Dr)ct(He,Dr);else if(null===Xe)Cn.state&=-9,function it(He,Xe){if(M("onEofChunk"),!Xe.ended){if(Xe.decoder){const Wt=Xe.decoder.end();Wt&&Wt.length&&(Xe.buffer.push(Wt),Xe.length+=Xe.objectMode?1:Wt.length)}Xe.ended=!0,Xe.sync?ht(He):(Xe.needReadable=!1,Xe.emittedReadable=!0,Tt(He))}}(He,Cn);else if(Cn.state&Et||Xe&&Xe.length>0)if(Ct)if(4&Cn.state)ct(He,new rt);else{if(Cn.destroyed||Cn.errored)return!1;ce(He,Cn,Xe,!0)}else if(Cn.ended)ct(He,new tt);else{if(Cn.destroyed||Cn.errored)return!1;Cn.state&=-9,Cn.decoder&&!Wt?(Xe=Cn.decoder.write(Xe),Cn.objectMode||0!==Xe.length?ce(He,Cn,Xe,!1):An(He,Cn)):ce(He,Cn,Xe,!1)}else Ct||(Cn.state&=-9,An(He,Cn));return!Cn.ended&&(Cn.length<Cn.highWaterMark||0===Cn.length)}function ce(He,Xe,Wt,Ct){Xe.flowing&&0===Xe.length&&!Xe.sync&&He.listenerCount("data")>0?(Xe.state&ve?Xe.awaitDrainWriters.clear():Xe.awaitDrainWriters=null,Xe.dataEmitted=!0,He.emit("data",Wt)):(Xe.length+=Xe.objectMode?1:Wt.length,Ct?Xe.buffer.unshift(Wt):Xe.buffer.push(Wt),Xe.state&Me&&ht(He)),An(He,Xe)}function Pe(He,Xe){return He<=0||0===Xe.length&&Xe.ended?0:Xe.state&Et?1:w(He)?Xe.flowing&&Xe.length?Xe.buffer.first().length:Xe.length:He<=Xe.length?He:Xe.ended?Xe.length:0}function ht(He){const Xe=He._readableState;M("emitReadable",Xe.needReadable,Xe.emittedReadable),Xe.needReadable=!1,Xe.emittedReadable||(M("emitReadable",Xe.flowing),Xe.emittedReadable=!0,q.nextTick(Tt,He))}function Tt(He){const Xe=He._readableState;M("emitReadable_",Xe.destroyed,Xe.length,Xe.ended),!Xe.destroyed&&!Xe.errored&&(Xe.length||Xe.ended)&&(He.emit("readable"),Xe.emittedReadable=!1),Xe.needReadable=!Xe.flowing&&!Xe.ended&&Xe.length<=Xe.highWaterMark,xr(He)}function An(He,Xe){!Xe.readingMore&&Xe.constructed&&(Xe.readingMore=!0,q.nextTick(qn,He,Xe))}function qn(He,Xe){for(;!Xe.reading&&!Xe.ended&&(Xe.length<Xe.highWaterMark||Xe.flowing&&0===Xe.length);){const Wt=Xe.length;if(M("maybeReadMore read 0"),He.read(0),Wt===Xe.length)break}Xe.readingMore=!1}function zn(He){const Xe=He._readableState;Xe.readableListening=He.listenerCount("readable")>0,Xe.resumeScheduled&&!1===Xe[De]?Xe.flowing=!0:He.listenerCount("data")>0?He.resume():Xe.readableListening||(Xe.flowing=null)}function Nn(He){M("readable nexttick read 0"),He.read(0)}function ja(He,Xe){M("resume",Xe.reading),Xe.reading||He.read(0),Xe.resumeScheduled=!1,He.emit("resume"),xr(He),Xe.flowing&&!Xe.reading&&He.read(0)}function xr(He){const Xe=He._readableState;for(M("flow",Xe.flowing);Xe.flowing&&null!==He.read(););}function Js(He,Xe){"function"!=typeof He.read&&(He=Ot.wrap(He,{objectMode:!0}));const Wt=function Sa(He,Xe){return Ir.apply(this,arguments)}(He,Xe);return Wt.stream=He,Wt}function Ir(){return(Ir=C(function*(He,Xe){let Cn,Wt=we;function Ct(Mo){this===He?(Wt(),Wt=we):Wt=Mo}He.on("readable",Ct);const Dr=y(He,{writable:!1},Mo=>{Cn=Mo?ie(Cn,Mo):null,Wt(),Wt=we});try{for(;;){const Mo=He.destroyed?null:He.read();if(null!==Mo)yield Mo;else{if(Cn)throw Cn;if(null===Cn)return;yield J(new R(Ct))}}}catch(Mo){throw Cn=ie(Cn,Mo),Cn}finally{!Cn&&!1===Xe?.destroyOnReturn||void 0!==Cn&&!He._readableState.autoDestroy?(He.off("readable",Ct),Dr()):oe.destroyer(He,null)}})).apply(this,arguments)}function To(He,Xe){if(0===Xe.length)return null;let Wt;return Xe.objectMode?Wt=Xe.buffer.shift():!He||He>=Xe.length?(Wt=Xe.decoder?Xe.buffer.join(""):1===Xe.buffer.length?Xe.buffer.first():Xe.buffer.concat(Xe.length),Xe.buffer.clear()):Wt=Xe.buffer.consume(He,Xe.decoder),Wt}function Ua(He){const Xe=He._readableState;M("endReadable",Xe.endEmitted),Xe.endEmitted||(Xe.ended=!0,q.nextTick(fl,Xe,He))}function fl(He,Xe){if(M("endReadableNT",He.endEmitted,He.length),!He.errored&&!He.closeEmitted&&!He.endEmitted&&0===He.length)if(He.endEmitted=!0,Xe.emit("end"),Xe.writable&&!1===Xe.allowHalfOpen)q.nextTick(Bc,Xe);else if(He.autoDestroy){const Wt=Xe._writableState;(!Wt||Wt.autoDestroy&&(Wt.finished||!1===Wt.writable))&&Xe.destroy()}}function Bc(He){He.writable&&!He.writableEnded&&!He.destroyed&&He.end()}let jc;function uc(){return void 0===jc&&(jc={}),jc}B(Gt.prototype,{objectMode:St(Et),ended:St(2),endEmitted:St(4),reading:St(8),constructed:St(Ae),sync:St(Ne),needReadable:St(Me),emittedReadable:St(128),readableListening:St(256),resumeScheduled:St(512),errorEmitted:St(1024),emitClose:St(V),autoDestroy:St(I),destroyed:St(8192),closed:St(16384),closeEmitted:St(32768),multiAwaitDrain:St(ve),readingMore:St(1<<17),dataEmitted:St(1<<18)}),Ot.prototype.destroy=oe.destroy,Ot.prototype._undestroy=oe.undestroy,Ot.prototype._destroy=function(He,Xe){Xe(He)},Ot.prototype[z.captureRejectionSymbol]=function(He){this.destroy(He)},Ot.prototype[x]=function(){let He;return this.destroyed||(He=this.readableEnded?null:new Ee,this.destroy(He)),new R((Xe,Wt)=>y(this,Ct=>Ct&&Ct!==He?Wt(Ct):Xe(null)))},Ot.prototype.push=function(He,Xe){return Ht(this,He,Xe,!1)},Ot.prototype.unshift=function(He,Xe){return Ht(this,He,Xe,!0)},Ot.prototype.isPaused=function(){const He=this._readableState;return!0===He[De]||!1===He.flowing},Ot.prototype.setEncoding=function(He){const Xe=new ot(He);this._readableState.decoder=Xe,this._readableState.encoding=this._readableState.decoder.encoding;const Wt=this._readableState.buffer;let Ct="";for(const Cn of Wt)Ct+=Xe.write(Cn);return Wt.clear(),""!==Ct&&Wt.push(Ct),this._readableState.length=Ct.length,this},Ot.prototype.read=function(He){M("read",He),void 0===He?He=NaN:ne(He)||(He=E(He,10));const Xe=this._readableState,Wt=He;if(He>Xe.highWaterMark&&(Xe.highWaterMark=function U(He){if(He>1073741824)throw new Le("size","<= 1GiB",He);return He--,He|=He>>>1,He|=He>>>2,He|=He>>>4,He|=He>>>8,He|=He>>>16,++He}(He)),0!==He&&(Xe.state&=-129),0===He&&Xe.needReadable&&((0!==Xe.highWaterMark?Xe.length>=Xe.highWaterMark:Xe.length>0)||Xe.ended))return M("read: emitReadable",Xe.length,Xe.ended),0===Xe.length&&Xe.ended?Ua(this):ht(this),null;if(0===(He=Pe(He,Xe))&&Xe.ended)return 0===Xe.length&&Ua(this),null;let Cn,Ct=!!(Xe.state&Me);if(M("need readable",Ct),(0===Xe.length||Xe.length-He<Xe.highWaterMark)&&(Ct=!0,M("length less than watermark",Ct)),Xe.ended||Xe.reading||Xe.destroyed||Xe.errored||!Xe.constructed)Ct=!1,M("reading, ended or constructing",Ct);else if(Ct){M("do read"),Xe.state|=8|Ne,0===Xe.length&&(Xe.state|=Me);try{this._read(Xe.highWaterMark)}catch(Dr){ct(this,Dr)}Xe.state&=~Ne,Xe.reading||(He=Pe(Wt,Xe))}return Cn=He>0?To(He,Xe):null,null===Cn?(Xe.needReadable=Xe.length<=Xe.highWaterMark,He=0):(Xe.length-=He,Xe.multiAwaitDrain?Xe.awaitDrainWriters.clear():Xe.awaitDrainWriters=null),0===Xe.length&&(Xe.ended||(Xe.needReadable=!0),Wt!==He&&Xe.ended&&Ua(this)),null!==Cn&&!Xe.errorEmitted&&!Xe.closeEmitted&&(Xe.dataEmitted=!0,this.emit("data",Cn)),Cn},Ot.prototype._read=function(He){throw new Re("_read()")},Ot.prototype.pipe=function(He,Xe){const Wt=this,Ct=this._readableState;1===Ct.pipes.length&&(Ct.multiAwaitDrain||(Ct.multiAwaitDrain=!0,Ct.awaitDrainWriters=new de(Ct.awaitDrainWriters?[Ct.awaitDrainWriters]:[]))),Ct.pipes.push(He),M("pipe count=%d opts=%j",Ct.pipes.length,Xe);const Dr=Xe&&!1===Xe.end||He===q.stdout||He===q.stderr?qe:Uc;function Uc(){M("onend"),He.end()}Ct.endEmitted?q.nextTick(Dr):Wt.once("end",Dr),He.on("unpipe",function Mo(mt,We){M("onunpipe"),mt===Wt&&We&&!1===We.hasUnpiped&&(We.hasUnpiped=!0,function _e(){M("cleanup"),He.removeListener("close",he),He.removeListener("finish",le),en&&He.removeListener("drain",en),He.removeListener("error",P),He.removeListener("unpipe",Mo),Wt.removeListener("end",Uc),Wt.removeListener("end",qe),Wt.removeListener("data",S),re=!0,en&&Ct.awaitDrainWriters&&(!He._writableState||He._writableState.needDrain)&&en()}())});let en,re=!1;function ae(){re||(1===Ct.pipes.length&&Ct.pipes[0]===He?(M("false write response, pause",0),Ct.awaitDrainWriters=He,Ct.multiAwaitDrain=!1):Ct.pipes.length>1&&Ct.pipes.includes(He)&&(M("false write response, pause",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.add(He)),Wt.pause()),en||(en=function ri(He,Xe){return function(){const Ct=He._readableState;Ct.awaitDrainWriters===Xe?(M("pipeOnDrain",1),Ct.awaitDrainWriters=null):Ct.multiAwaitDrain&&(M("pipeOnDrain",Ct.awaitDrainWriters.size),Ct.awaitDrainWriters.delete(Xe)),(!Ct.awaitDrainWriters||0===Ct.awaitDrainWriters.size)&&He.listenerCount("data")&&He.resume()}}(Wt,He),He.on("drain",en))}function S(mt){M("ondata");const We=He.write(mt);M("dest.write",We),!1===We&&ae()}function P(mt){if(M("onerror",mt),qe(),He.removeListener("error",P),0===He.listenerCount("error")){const We=He._writableState||He._readableState;We&&!We.errorEmitted?ct(He,mt):He.emit("error",mt)}}function he(){He.removeListener("finish",le),qe()}function le(){M("onfinish"),He.removeListener("close",he),qe()}function qe(){M("unpipe"),Wt.unpipe(He)}return Wt.on("data",S),X(He,"error",P),He.once("close",he),He.once("finish",le),He.emit("pipe",Wt),!0===He.writableNeedDrain?ae():Ct.flowing||(M("pipe resume"),Wt.resume()),He},Ot.prototype.unpipe=function(He){const Xe=this._readableState;if(0===Xe.pipes.length)return this;if(!He){const Cn=Xe.pipes;Xe.pipes=[],this.pause();for(let Dr=0;Dr<Cn.length;Dr++)Cn[Dr].emit("unpipe",this,{hasUnpiped:!1});return this}const Ct=Y(Xe.pipes,He);return-1===Ct||(Xe.pipes.splice(Ct,1),0===Xe.pipes.length&&this.pause(),He.emit("unpipe",this,{hasUnpiped:!1})),this},Ot.prototype.addListener=Ot.prototype.on=function(He,Xe){const Wt=$.prototype.on.call(this,He,Xe),Ct=this._readableState;return"data"===He?(Ct.readableListening=this.listenerCount("readable")>0,!1!==Ct.flowing&&this.resume()):"readable"===He&&!Ct.endEmitted&&!Ct.readableListening&&(Ct.readableListening=Ct.needReadable=!0,Ct.flowing=!1,Ct.emittedReadable=!1,M("on readable",Ct.length,Ct.reading),Ct.length?ht(this):Ct.reading||q.nextTick(Nn,this)),Wt},Ot.prototype.off=Ot.prototype.removeListener=function(He,Xe){const Wt=$.prototype.removeListener.call(this,He,Xe);return"readable"===He&&q.nextTick(zn,this),Wt},Ot.prototype.removeAllListeners=function(He){const Xe=$.prototype.removeAllListeners.apply(this,arguments);return("readable"===He||void 0===He)&&q.nextTick(zn,this),Xe},Ot.prototype.resume=function(){const He=this._readableState;return He.flowing||(M("resume"),He.flowing=!He.readableListening,function mr(He,Xe){Xe.resumeScheduled||(Xe.resumeScheduled=!0,q.nextTick(ja,He,Xe))}(this,He)),He[De]=!1,this},Ot.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[De]=!0,this},Ot.prototype.wrap=function(He){let Xe=!1;He.on("data",Ct=>{!this.push(Ct)&&He.pause&&(Xe=!0,He.pause())}),He.on("end",()=>{this.push(null)}),He.on("error",Ct=>{ct(this,Ct)}),He.on("close",()=>{this.destroy()}),He.on("destroy",()=>{this.destroy()}),this._read=()=>{Xe&&He.resume&&(Xe=!1,He.resume())};const Wt=K(He);for(let Ct=1;Ct<Wt.length;Ct++){const Cn=Wt[Ct];void 0===this[Cn]&&"function"==typeof He[Cn]&&(this[Cn]=He[Cn].bind(He))}return this},Ot.prototype[F]=function(){return Js(this)},Ot.prototype.iterator=function(He){return void 0!==He&&je(He,"options"),Js(this,He)},B(Ot.prototype,{readable:{__proto__:null,get(){const He=this._readableState;return!(!He||!1===He.readable||He.destroyed||He.errorEmitted||He.endEmitted)},set(He){this._readableState&&(this._readableState.readable=!!He)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(He){this._readableState&&(this._readableState.flowing=He)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(He){this._readableState&&(this._readableState.destroyed=He)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),B(Gt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[De]},set(He){this[De]=!!He}}}),Ot._fromList=To,Ot.from=function(He,Xe){return fe(Ot,He,Xe)},Ot.fromWeb=function(He,Xe){return uc().newStreamReadableFromReadableStream(He,Xe)},Ot.toWeb=function(He,Xe){return uc().newReadableStreamFromStreamReadable(He,Xe)},Ot.wrap=function(He,Xe){var Wt,Ct;return new Ot({objectMode:null===(Wt=null!==(Ct=He.readableObjectMode)&&void 0!==Ct?Ct:He.objectMode)||void 0===Wt||Wt,...Xe,destroy(Cn,Dr){oe.destroyer(He,Cn),Dr(Cn)}}).wrap(He)}},2934:(Ge,ye,T)=>{"use strict";const{MathFloor:J,NumberIsInteger:C}=T(1251),{validateInteger:q}=T(438),{ERR_INVALID_ARG_VALUE:Y}=T(5480).codes;let ne=16384,w=16;function B(R){return R?w:ne}Ge.exports={getHighWaterMark:function te(R,de,x,F){const se=function E(R,de,x){return null!=R.highWaterMark?R.highWaterMark:de?R[x]:null}(de,F,x);if(null!=se){if(!C(se)||se<0)throw new Y(F?`options.${x}`:"options.highWaterMark",se);return J(se)}return B(R.objectMode)},getDefaultHighWaterMark:B,setDefaultHighWaterMark:function K(R,de){q(de,"value",0),R?w=de:ne=de}}},9059:(Ge,ye,T)=>{"use strict";const{ObjectSetPrototypeOf:J,Symbol:C}=T(1251);Ge.exports=E;const{ERR_METHOD_NOT_IMPLEMENTED:q}=T(5480).codes,Y=T(9613),{getHighWaterMark:ne}=T(2934);J(E.prototype,Y.prototype),J(E,Y);const w=C("kCallback");function E(te){if(!(this instanceof E))return new E(te);const R=te?ne(this,te,"readableHighWaterMark",!0):null;0===R&&(te={...te,highWaterMark:null,readableHighWaterMark:R,writableHighWaterMark:te.writableHighWaterMark||0}),Y.call(this,te),this._readableState.sync=!1,this[w]=null,te&&("function"==typeof te.transform&&(this._transform=te.transform),"function"==typeof te.flush&&(this._flush=te.flush)),this.on("prefinish",K)}function B(te){"function"!=typeof this._flush||this.destroyed?(this.push(null),te&&te()):this._flush((R,de)=>{R?te?te(R):this.destroy(R):(null!=de&&this.push(de),this.push(null),te&&te())})}function K(){this._final!==B&&B.call(this)}E.prototype._final=B,E.prototype._transform=function(te,R,de){throw new q("_transform()")},E.prototype._write=function(te,R,de){const x=this._readableState,F=this._writableState,se=x.length;this._transform(te,R,(z,$)=>{z?de(z):(null!=$&&this.push($),F.ended||se===x.length||x.length<x.highWaterMark?de():this[w]=de)})},E.prototype._read=function(){if(this[w]){const te=this[w];this[w]=null,te()}}},6110:(Ge,ye,T)=>{"use strict";const{SymbolAsyncIterator:J,SymbolIterator:C,SymbolFor:q}=T(1251),Y=q("nodejs.stream.destroyed"),ne=q("nodejs.stream.errored"),w=q("nodejs.stream.readable"),E=q("nodejs.stream.writable"),B=q("nodejs.stream.disturbed"),K=q("nodejs.webstream.isClosedPromise"),te=q("nodejs.webstream.controllerErrorFunction");function R(fe,we=!1){var ct;return!(!fe||"function"!=typeof fe.pipe||"function"!=typeof fe.on||we&&("function"!=typeof fe.pause||"function"!=typeof fe.resume)||fe._writableState&&!1===(null===(ct=fe._readableState)||void 0===ct?void 0:ct.readable)||fe._writableState&&!fe._readableState)}function de(fe){var we;return!(!fe||"function"!=typeof fe.write||"function"!=typeof fe.on||fe._readableState&&!1===(null===(we=fe._writableState)||void 0===we?void 0:we.writable))}function F(fe){return fe&&(fe._readableState||fe._writableState||"function"==typeof fe.write&&"function"==typeof fe.on||"function"==typeof fe.pipe&&"function"==typeof fe.on)}function se(fe){return!(!fe||F(fe)||"function"!=typeof fe.pipeThrough||"function"!=typeof fe.getReader||"function"!=typeof fe.cancel)}function z(fe){return!(!fe||F(fe)||"function"!=typeof fe.getWriter||"function"!=typeof fe.abort)}function $(fe){return!(!fe||F(fe)||"object"!=typeof fe.readable||"object"!=typeof fe.writable)}function H(fe){if(!F(fe))return null;const Et=fe._writableState||fe._readableState;return!!(fe.destroyed||fe[Y]||null!=Et&&Et.destroyed)}function y(fe){if(!de(fe))return null;if(!0===fe.writableEnded)return!0;const we=fe._writableState;return(null==we||!we.errored)&&("boolean"!=typeof we?.ended?null:we.ended)}function oe(fe,we){if(!R(fe))return null;const ct=fe._readableState;return(null==ct||!ct.errored)&&("boolean"!=typeof ct?.endEmitted?null:!!(ct.endEmitted||!1===we&&!0===ct.ended&&0===ct.length))}function ee(fe){return fe&&null!=fe[w]?fe[w]:"boolean"!=typeof fe?.readable?null:!H(fe)&&R(fe)&&fe.readable&&!oe(fe)}function Te(fe){return fe&&null!=fe[E]?fe[E]:"boolean"!=typeof fe?.writable?null:!H(fe)&&de(fe)&&fe.writable&&!y(fe)}function tt(fe){return"boolean"==typeof fe._closed&&"boolean"==typeof fe._defaultKeepAlive&&"boolean"==typeof fe._removedConnection&&"boolean"==typeof fe._removedContLen}function rt(fe){return"boolean"==typeof fe._sent100&&tt(fe)}Ge.exports={isDestroyed:H,kIsDestroyed:Y,isDisturbed:function De(fe){var we;return!(!fe||!(null!==(we=fe[B])&&void 0!==we?we:fe.readableDidRead||fe.readableAborted))},kIsDisturbed:B,isErrored:function ot(fe){var we,ct,Et,Be,W,Q,Ae,Ne,Me,nt;return!(!fe||!(null!==(we=null!==(ct=null!==(Et=null!==(Be=null!==(W=null!==(Q=fe[ne])&&void 0!==Q?Q:fe.readableErrored)&&void 0!==W?W:fe.writableErrored)&&void 0!==Be?Be:null===(Ae=fe._readableState)||void 0===Ae?void 0:Ae.errorEmitted)&&void 0!==Et?Et:null===(Ne=fe._writableState)||void 0===Ne?void 0:Ne.errorEmitted)&&void 0!==ct?ct:null===(Me=fe._readableState)||void 0===Me?void 0:Me.errored)&&void 0!==we?we:null!==(nt=fe._writableState)&&void 0!==nt&&nt.errored))},kIsErrored:ne,isReadable:ee,kIsReadable:w,kIsClosedPromise:K,kControllerErrorFunction:te,kIsWritable:E,isClosed:function Le(fe){if(!F(fe))return null;if("boolean"==typeof fe.closed)return fe.closed;const we=fe._writableState,ct=fe._readableState;return"boolean"==typeof we?.closed||"boolean"==typeof ct?.closed?we?.closed||ct?.closed:"boolean"==typeof fe._closed&&tt(fe)?fe._closed:null},isDuplexNodeStream:function x(fe){return!(!fe||"function"!=typeof fe.pipe||!fe._readableState||"function"!=typeof fe.on||"function"!=typeof fe.write)},isFinished:function ie(fe,we){return F(fe)?!!H(fe)||!(!1!==we?.readable&&ee(fe)||!1!==we?.writable&&Te(fe)):null},isIterable:function j(fe,we){return null!=fe&&(!0===we?"function"==typeof fe[J]:!1===we?"function"==typeof fe[C]:"function"==typeof fe[J]||"function"==typeof fe[C])},isReadableNodeStream:R,isReadableStream:se,isReadableEnded:function A(fe){if(!R(fe))return null;if(!0===fe.readableEnded)return!0;const we=fe._readableState;return!(!we||we.errored)&&("boolean"!=typeof we?.ended?null:we.ended)},isReadableFinished:oe,isReadableErrored:function Re(fe){var we,ct;return F(fe)?fe.readableErrored?fe.readableErrored:null!==(we=null===(ct=fe._readableState)||void 0===ct?void 0:ct.errored)&&void 0!==we?we:null:null},isNodeStream:F,isWebStream:function X(fe){return se(fe)||z(fe)||$(fe)},isWritable:Te,isWritableNodeStream:de,isWritableStream:z,isWritableEnded:y,isWritableFinished:function M(fe,we){if(!de(fe))return null;if(!0===fe.writableFinished)return!0;const ct=fe._writableState;return(null==ct||!ct.errored)&&("boolean"!=typeof ct?.finished?null:!!(ct.finished||!1===we&&!0===ct.ended&&0===ct.length))},isWritableErrored:function xe(fe){var we,ct;return F(fe)?fe.writableErrored?fe.writableErrored:null!==(we=null===(ct=fe._writableState)||void 0===ct?void 0:ct.errored)&&void 0!==we?we:null:null},isServerRequest:function Ee(fe){var we;return"boolean"==typeof fe._consuming&&"boolean"==typeof fe._dumped&&void 0===(null===(we=fe.req)||void 0===we?void 0:we.upgradeOrConnect)},isServerResponse:rt,willEmitClose:function je(fe){if(!F(fe))return null;const Et=fe._writableState||fe._readableState;return!Et&&rt(fe)||!!(Et&&Et.autoDestroy&&Et.emitClose&&!1===Et.closed)},isTransformStream:$}},2983:(Ge,ye,T)=>{const J=T(573),{ArrayPrototypeSlice:C,Error:q,FunctionPrototypeSymbolHasInstance:Y,ObjectDefineProperty:ne,ObjectDefineProperties:w,ObjectSetPrototypeOf:E,StringPrototypeToLowerCase:B,Symbol:K,SymbolHasInstance:te}=T(1251);Ge.exports=rt,rt.WritableState=Le;const{EventEmitter:R}=T(4356),de=T(8708).Stream,{Buffer:x}=T(2317),F=T(1509),{addAbortSignal:se}=T(8992),{getHighWaterMark:z,getDefaultHighWaterMark:$}=T(2934),{ERR_INVALID_ARG_TYPE:X,ERR_METHOD_NOT_IMPLEMENTED:j,ERR_MULTIPLE_CALLBACK:H,ERR_STREAM_CANNOT_PIPE:y,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:A,ERR_STREAM_NULL_VALUES:oe,ERR_STREAM_WRITE_AFTER_END:ee,ERR_UNKNOWN_ENCODING:Te}=T(5480).codes,{errorOrDestroy:ie}=F;function xe(){}E(rt.prototype,de.prototype),E(rt,de);const Re=K("kOnFinished");function Le(Fe,V,I){"boolean"!=typeof I&&(I=V instanceof T(9613)),this.objectMode=!(!Fe||!Fe.objectMode),I&&(this.objectMode=this.objectMode||!(!Fe||!Fe.writableObjectMode)),this.highWaterMark=Fe?z(this,Fe,"writableHighWaterMark",I):$(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=!(Fe&&!1===Fe.decodeStrings),this.defaultEncoding=Fe&&Fe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=fe.bind(void 0,V),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,tt(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!Fe||!1!==Fe.emitClose,this.autoDestroy=!Fe||!1!==Fe.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Re]=[]}function tt(Fe){Fe.buffered=[],Fe.bufferedIndex=0,Fe.allBuffers=!0,Fe.allNoop=!0}function rt(Fe){const V=this instanceof T(9613);if(!V&&!Y(rt,this))return new rt(Fe);this._writableState=new Le(Fe,this,V),Fe&&("function"==typeof Fe.write&&(this._write=Fe.write),"function"==typeof Fe.writev&&(this._writev=Fe.writev),"function"==typeof Fe.destroy&&(this._destroy=Fe.destroy),"function"==typeof Fe.final&&(this._final=Fe.final),"function"==typeof Fe.construct&&(this._construct=Fe.construct),Fe.signal&&se(Fe.signal,this)),de.call(this,Fe),F.construct(this,()=>{const I=this._writableState;I.writing||Be(this,I),Ne(this,I)})}function Ee(Fe,V,I,O){const ge=Fe._writableState;if("function"==typeof I)O=I,I=ge.defaultEncoding;else{if(I){if("buffer"!==I&&!x.isEncoding(I))throw new Te(I)}else I=ge.defaultEncoding;"function"!=typeof O&&(O=xe)}if(null===V)throw new oe;if(!ge.objectMode)if("string"==typeof V)!1!==ge.decodeStrings&&(V=x.from(V,I),I="buffer");else if(V instanceof x)I="buffer";else{if(!de._isUint8Array(V))throw new X("chunk",["string","Buffer","Uint8Array"],V);V=de._uint8ArrayToBuffer(V),I="buffer"}let $e;return ge.ending?$e=new ee:ge.destroyed&&($e=new M("write")),$e?(J.nextTick(O,$e),ie(Fe,$e,!0),$e):(ge.pendingcb++,function je(Fe,V,I,O,ge){const $e=V.objectMode?1:I.length;V.length+=$e;const ve=V.length<V.highWaterMark;return ve||(V.needDrain=!0),V.writing||V.corked||V.errored||!V.constructed?(V.buffered.push({chunk:I,encoding:O,callback:ge}),V.allBuffers&&"buffer"!==O&&(V.allBuffers=!1),V.allNoop&&ge!==xe&&(V.allNoop=!1)):(V.writelen=$e,V.writecb=ge,V.writing=!0,V.sync=!0,Fe._write(I,O,V.onwrite),V.sync=!1),ve&&!V.errored&&!V.destroyed}(Fe,ge,V,I,O))}function De(Fe,V,I,O,ge,$e,ve){V.writelen=O,V.writecb=ve,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new M("write")):I?Fe._writev(ge,V.onwrite):Fe._write(ge,$e,V.onwrite),V.sync=!1}function ot(Fe,V,I,O){--V.pendingcb,O(I),Et(V),ie(Fe,I)}function fe(Fe,V){const I=Fe._writableState,O=I.sync,ge=I.writecb;"function"==typeof ge?(I.writing=!1,I.writecb=null,I.length-=I.writelen,I.writelen=0,V?(I.errored||(I.errored=V),Fe._readableState&&!Fe._readableState.errored&&(Fe._readableState.errored=V),O?J.nextTick(ot,Fe,I,V,ge):ot(Fe,I,V,ge)):(I.buffered.length>I.bufferedIndex&&Be(Fe,I),O?null!==I.afterWriteTickInfo&&I.afterWriteTickInfo.cb===ge?I.afterWriteTickInfo.count++:(I.afterWriteTickInfo={count:1,cb:ge,stream:Fe,state:I},J.nextTick(we,I.afterWriteTickInfo)):ct(Fe,I,1,ge))):ie(Fe,new H)}function we({stream:Fe,state:V,count:I,cb:O}){return V.afterWriteTickInfo=null,ct(Fe,V,I,O)}function ct(Fe,V,I,O){for(!V.ending&&!Fe.destroyed&&0===V.length&&V.needDrain&&(V.needDrain=!1,Fe.emit("drain"));I-- >0;)V.pendingcb--,O();V.destroyed&&Et(V),Ne(Fe,V)}function Et(Fe){if(Fe.writing)return;for(let ge=Fe.bufferedIndex;ge<Fe.buffered.length;++ge){var V;const{chunk:$e,callback:ve}=Fe.buffered[ge];Fe.length-=Fe.objectMode?1:$e.length,ve(null!==(V=Fe.errored)&&void 0!==V?V:new M("write"))}const I=Fe[Re].splice(0);for(let ge=0;ge<I.length;ge++){var O;I[ge](null!==(O=Fe.errored)&&void 0!==O?O:new M("end"))}tt(Fe)}function Be(Fe,V){if(V.corked||V.bufferProcessing||V.destroyed||!V.constructed)return;const{buffered:I,bufferedIndex:O,objectMode:ge}=V,$e=I.length-O;if(!$e)return;let ve=O;if(V.bufferProcessing=!0,$e>1&&Fe._writev){V.pendingcb-=$e-1;const Ve=V.allNoop?xe:St=>{for(let Gt=ve;Gt<I.length;++Gt)I[Gt].callback(St)},Ze=V.allNoop&&0===ve?I:C(I,ve);Ze.allBuffers=V.allBuffers,De(Fe,V,!0,V.length,Ze,"",Ve),tt(V)}else{do{const{chunk:Ve,encoding:Ze,callback:St}=I[ve];I[ve++]=null,De(Fe,V,!1,ge?1:Ve.length,Ve,Ze,St)}while(ve<I.length&&!V.writing);ve===I.length?tt(V):ve>256?(I.splice(0,ve),V.bufferedIndex=0):V.bufferedIndex=ve}V.bufferProcessing=!1}function W(Fe){return Fe.ending&&!Fe.destroyed&&Fe.constructed&&0===Fe.length&&!Fe.errored&&0===Fe.buffered.length&&!Fe.finished&&!Fe.writing&&!Fe.errorEmitted&&!Fe.closeEmitted}function Ne(Fe,V,I){W(V)&&(function Ae(Fe,V){!V.prefinished&&!V.finalCalled&&("function"!=typeof Fe._final||V.destroyed?(V.prefinished=!0,Fe.emit("prefinish")):(V.finalCalled=!0,function Q(Fe,V){let I=!1;function O(ge){if(I)ie(Fe,ge??H());else if(I=!0,V.pendingcb--,ge){const $e=V[Re].splice(0);for(let ve=0;ve<$e.length;ve++)$e[ve](ge);ie(Fe,ge,V.sync)}else W(V)&&(V.prefinished=!0,Fe.emit("prefinish"),V.pendingcb++,J.nextTick(Me,Fe,V))}V.sync=!0,V.pendingcb++;try{Fe._final(O)}catch(ge){O(ge)}V.sync=!1}(Fe,V)))}(Fe,V),0===V.pendingcb&&(I?(V.pendingcb++,J.nextTick((O,ge)=>{W(ge)?Me(O,ge):ge.pendingcb--},Fe,V)):W(V)&&(V.pendingcb++,Me(Fe,V))))}function Me(Fe,V){V.pendingcb--,V.finished=!0;const I=V[Re].splice(0);for(let O=0;O<I.length;O++)I[O]();if(Fe.emit("finish"),V.autoDestroy){const O=Fe._readableState;(!O||O.autoDestroy&&(O.endEmitted||!1===O.readable))&&Fe.destroy()}}Le.prototype.getBuffer=function(){return C(this.buffered,this.bufferedIndex)},ne(Le.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),ne(rt,te,{__proto__:null,value:function(Fe){return!!Y(this,Fe)||this===rt&&Fe&&Fe._writableState instanceof Le}}),rt.prototype.pipe=function(){ie(this,new y)},rt.prototype.write=function(Fe,V,I){return!0===Ee(this,Fe,V,I)},rt.prototype.cork=function(){this._writableState.corked++},rt.prototype.uncork=function(){const Fe=this._writableState;Fe.corked&&(Fe.corked--,Fe.writing||Be(this,Fe))},rt.prototype.setDefaultEncoding=function(V){if("string"==typeof V&&(V=B(V)),!x.isEncoding(V))throw new Te(V);return this._writableState.defaultEncoding=V,this},rt.prototype._write=function(Fe,V,I){if(!this._writev)throw new j("_write()");this._writev([{chunk:Fe,encoding:V}],I)},rt.prototype._writev=null,rt.prototype.end=function(Fe,V,I){const O=this._writableState;let ge;if("function"==typeof Fe?(I=Fe,Fe=null,V=null):"function"==typeof V&&(I=V,V=null),null!=Fe){const $e=Ee(this,Fe,V);$e instanceof q&&(ge=$e)}return O.corked&&(O.corked=1,this.uncork()),ge||(O.errored||O.ending?O.finished?ge=new A("end"):O.destroyed&&(ge=new M("end")):(O.ending=!0,Ne(this,O,!0),O.ended=!0)),"function"==typeof I&&(ge||O.finished?J.nextTick(I,ge):O[Re].push(I)),this},w(rt.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(Fe){this._writableState&&(this._writableState.destroyed=Fe)}},writable:{__proto__:null,get(){const Fe=this._writableState;return!(!Fe||!1===Fe.writable||Fe.destroyed||Fe.errored||Fe.ending||Fe.ended)},set(Fe){this._writableState&&(this._writableState.writable=!!Fe)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const Fe=this._writableState;return!!Fe&&!Fe.destroyed&&!Fe.ending&&Fe.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const nt=F.destroy;let ut;function ft(){return void 0===ut&&(ut={}),ut}rt.prototype.destroy=function(Fe,V){const I=this._writableState;return!I.destroyed&&(I.bufferedIndex<I.buffered.length||I[Re].length)&&J.nextTick(Et,I),nt.call(this,Fe,V),this},rt.prototype._undestroy=F.undestroy,rt.prototype._destroy=function(Fe,V){V(Fe)},rt.prototype[R.captureRejectionSymbol]=function(Fe){this.destroy(Fe)},rt.fromWeb=function(Fe,V){return ft().newStreamWritableFromWritableStream(Fe,V)},rt.toWeb=function(Fe){return ft().newWritableStreamFromStreamWritable(Fe)}},438:(Ge,ye,T)=>{"use strict";const{ArrayIsArray:J,ArrayPrototypeIncludes:C,ArrayPrototypeJoin:q,ArrayPrototypeMap:Y,NumberIsInteger:ne,NumberIsNaN:w,NumberMAX_SAFE_INTEGER:E,NumberMIN_SAFE_INTEGER:B,NumberParseInt:K,ObjectPrototypeHasOwnProperty:te,RegExpPrototypeExec:R,String:de,StringPrototypeToUpperCase:x,StringPrototypeTrim:F}=T(1251),{hideStackFrames:se,codes:{ERR_SOCKET_BAD_PORT:z,ERR_INVALID_ARG_TYPE:$,ERR_INVALID_ARG_VALUE:X,ERR_OUT_OF_RANGE:j,ERR_UNKNOWN_SIGNAL:H}}=T(5480),{normalizeEncoding:y}=T(1663),{isAsyncFunction:M,isArrayBufferView:A}=T(1663).types,oe={},ie=/^[0-7]+$/,Le=se((ve,Ve,Ze=B,St=E)=>{if("number"!=typeof ve)throw new $(Ve,"number",ve);if(!ne(ve))throw new j(Ve,"an integer",ve);if(ve<Ze||ve>St)throw new j(Ve,`>= ${Ze} && <= ${St}`,ve)}),tt=se((ve,Ve,Ze=-2147483648,St=2147483647)=>{if("number"!=typeof ve)throw new $(Ve,"number",ve);if(!ne(ve))throw new j(Ve,"an integer",ve);if(ve<Ze||ve>St)throw new j(Ve,`>= ${Ze} && <= ${St}`,ve)}),rt=se((ve,Ve,Ze=!1)=>{if("number"!=typeof ve)throw new $(Ve,"number",ve);if(!ne(ve))throw new j(Ve,"an integer",ve);const St=Ze?1:0,Gt=4294967295;if(ve<St||ve>Gt)throw new j(Ve,`>= ${St} && <= ${Gt}`,ve)});function Ee(ve,Ve){if("string"!=typeof ve)throw new $(Ve,"string",ve)}const De=se((ve,Ve,Ze)=>{if(!C(Ze,ve)){const Gt="must be one of: "+q(Y(Ze,Ot=>"string"==typeof Ot?`'${Ot}'`:de(Ot)),", ");throw new X(Ve,ve,Gt)}});function ot(ve,Ve){if("boolean"!=typeof ve)throw new $(Ve,"boolean",ve)}function fe(ve,Ve,Ze){return null!=ve&&te(ve,Ve)?ve[Ve]:Ze}const we=se((ve,Ve,Ze=null)=>{const St=fe(Ze,"allowArray",!1),Gt=fe(Ze,"allowFunction",!1);if(!fe(Ze,"nullable",!1)&&null===ve||!St&&J(ve)||"object"!=typeof ve&&(!Gt||"function"!=typeof ve))throw new $(Ve,"Object",ve)}),ct=se((ve,Ve)=>{if(null!=ve&&"object"!=typeof ve&&"function"!=typeof ve)throw new $(Ve,"a dictionary",ve)}),Et=se((ve,Ve,Ze=0)=>{if(!J(ve))throw new $(Ve,"Array",ve);if(ve.length<Ze)throw new X(Ve,ve,`must be longer than ${Ze}`)}),Ne=se((ve,Ve="buffer")=>{if(!A(ve))throw new $(Ve,["Buffer","TypedArray","DataView"],ve)}),ut=se((ve,Ve)=>{if(void 0!==ve&&(null===ve||"object"!=typeof ve||!("aborted"in ve)))throw new $(Ve,"AbortSignal",ve)}),ft=se((ve,Ve)=>{if("function"!=typeof ve)throw new $(Ve,"Function",ve)}),Fe=se((ve,Ve)=>{if("function"!=typeof ve||M(ve))throw new $(Ve,"Function",ve)}),V=se((ve,Ve)=>{if(void 0!==ve)throw new $(Ve,"undefined",ve)}),O=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ge(ve,Ve){if(typeof ve>"u"||!R(O,ve))throw new X(Ve,ve,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Ge.exports={isInt32:function ee(ve){return ve===(0|ve)},isUint32:function Te(ve){return ve===ve>>>0},parseFileMode:function Re(ve,Ve,Ze){if(typeof ve>"u"&&(ve=Ze),"string"==typeof ve){if(null===R(ie,ve))throw new X(Ve,ve,"must be a 32-bit unsigned integer or an octal string");ve=K(ve,8)}return rt(ve,Ve),ve},validateArray:Et,validateStringArray:function Be(ve,Ve){Et(ve,Ve);for(let Ze=0;Ze<ve.length;Ze++)Ee(ve[Ze],`${Ve}[${Ze}]`)},validateBooleanArray:function W(ve,Ve){Et(ve,Ve);for(let Ze=0;Ze<ve.length;Ze++)ot(ve[Ze],`${Ve}[${Ze}]`)},validateAbortSignalArray:function Q(ve,Ve){Et(ve,Ve);for(let Ze=0;Ze<ve.length;Ze++){const St=ve[Ze],Gt=`${Ve}[${Ze}]`;if(null==St)throw new $(Gt,"AbortSignal",St);ut(St,Gt)}},validateBoolean:ot,validateBuffer:Ne,validateDictionary:ct,validateEncoding:function Me(ve,Ve){const Ze=y(Ve),St=ve.length;if("hex"===Ze&&St%2!=0)throw new X("encoding",Ve,`is invalid for data of length ${St}`)},validateFunction:ft,validateInt32:tt,validateInteger:Le,validateNumber:function je(ve,Ve,Ze=void 0,St){if("number"!=typeof ve)throw new $(Ve,"number",ve);if(null!=Ze&&ve<Ze||null!=St&&ve>St||(null!=Ze||null!=St)&&w(ve))throw new j(Ve,`${null!=Ze?`>= ${Ze}`:""}${null!=Ze&&null!=St?" && ":""}${null!=St?`<= ${St}`:""}`,ve)},validateObject:we,validateOneOf:De,validatePlainFunction:Fe,validatePort:function nt(ve,Ve="Port",Ze=!0){if("number"!=typeof ve&&"string"!=typeof ve||"string"==typeof ve&&0===F(ve).length||+ve!=+ve>>>0||ve>65535||0===ve&&!Ze)throw new z(Ve,ve,Ze);return 0|ve},validateSignalName:function Ae(ve,Ve="signal"){if(Ee(ve,Ve),void 0===oe[ve])throw void 0!==oe[x(ve)]?new H(ve+" (signals must use all capital letters)"):new H(ve)},validateString:Ee,validateUint32:rt,validateUndefined:V,validateUnion:function I(ve,Ve,Ze){if(!C(Ze,ve))throw new $(Ve,`('${q(Ze,"|")}')`,ve)},validateAbortSignal:ut,validateLinkHeaderValue:function $e(ve){if("string"==typeof ve)return ge(ve,"hints"),ve;if(J(ve)){const Ve=ve.length;let Ze="";if(0===Ve)return Ze;for(let St=0;St<Ve;St++){const Gt=ve[St];ge(Gt,"hints"),Ze+=Gt,St!==Ve-1&&(Ze+=", ")}return Ze}throw new X("hints",ve,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},6947:(Ge,ye,T)=>{"use strict";const J=T(5603),C=T(9204),q=J.Readable.destroy;Ge.exports=J.Readable,Ge.exports._uint8ArrayToBuffer=J._uint8ArrayToBuffer,Ge.exports._isUint8Array=J._isUint8Array,Ge.exports.isDisturbed=J.isDisturbed,Ge.exports.isErrored=J.isErrored,Ge.exports.isReadable=J.isReadable,Ge.exports.Readable=J.Readable,Ge.exports.Writable=J.Writable,Ge.exports.Duplex=J.Duplex,Ge.exports.Transform=J.Transform,Ge.exports.PassThrough=J.PassThrough,Ge.exports.addAbortSignal=J.addAbortSignal,Ge.exports.finished=J.finished,Ge.exports.destroy=J.destroy,Ge.exports.destroy=q,Ge.exports.pipeline=J.pipeline,Ge.exports.compose=J.compose,Object.defineProperty(J,"promises",{configurable:!0,enumerable:!0,get:()=>C}),Ge.exports.Stream=J.Stream,Ge.exports.default=Ge.exports},5480:(Ge,ye,T)=>{"use strict";const{format:J,inspect:C,AggregateError:q}=T(1663),Y=globalThis.AggregateError||q,ne=Symbol("kIsNodeError"),w=["string","function","number","object","Function","Object","boolean","bigint","symbol"],E=/^([A-Z][a-z0-9]*)+$/,K={};function te($,X){if(!$)throw new K.ERR_INTERNAL_ASSERTION(X)}function R($){let X="",j=$.length;const H="-"===$[0]?1:0;for(;j>=H+4;j-=3)X=`_${$.slice(j-3,j)}${X}`;return`${$.slice(0,j)}${X}`}function x($,X,j){j||(j=Error);class H extends j{constructor(...M){super(function de($,X,j){if("function"==typeof X)return te(X.length<=j.length,`Code: ${$}; The provided arguments length (${j.length}) does not match the required ones (${X.length}).`),X(...j);const H=(X.match(/%[dfijoOs]/g)||[]).length;return te(H===j.length,`Code: ${$}; The provided arguments length (${j.length}) does not match the required ones (${H}).`),0===j.length?X:J(X,...j)}($,X,M))}toString(){return`${this.name} [${$}]: ${this.message}`}}Object.defineProperties(H.prototype,{name:{value:j.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${$}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),H.prototype.code=$,H.prototype[ne]=!0,K[$]=H}function F($){return Object.defineProperty($,"name",{value:"__node_internal_"+$.name}),$}class z extends Error{constructor(X="The operation was aborted",j=void 0){if(void 0!==j&&"object"!=typeof j)throw new K.ERR_INVALID_ARG_TYPE("options","Object",j);super(X,j),this.code="ABORT_ERR",this.name="AbortError"}}x("ERR_ASSERTION","%s",Error),x("ERR_INVALID_ARG_TYPE",($,X,j)=>{te("string"==typeof $,"'name' must be a string"),Array.isArray(X)||(X=[X]);let H="The ";$.endsWith(" argument")?H+=`${$} `:H+=`"${$}" ${$.includes(".")?"property":"argument"} `,H+="must be ";const y=[],M=[],A=[];for(const ee of X)te("string"==typeof ee,"All expected entries have to be of type string"),w.includes(ee)?y.push(ee.toLowerCase()):E.test(ee)?M.push(ee):(te("object"!==ee,'The value "object" should be written as "Object"'),A.push(ee));if(M.length>0){const ee=y.indexOf("object");-1!==ee&&(y.splice(y,ee,1),M.push("Object"))}if(y.length>0){switch(y.length){case 1:H+=`of type ${y[0]}`;break;case 2:H+=`one of type ${y[0]} or ${y[1]}`;break;default:{const ee=y.pop();H+=`one of type ${y.join(", ")}, or ${ee}`}}(M.length>0||A.length>0)&&(H+=" or ")}if(M.length>0){switch(M.length){case 1:H+=`an instance of ${M[0]}`;break;case 2:H+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const ee=M.pop();H+=`an instance of ${M.join(", ")}, or ${ee}`}}A.length>0&&(H+=" or ")}switch(A.length){case 0:break;case 1:A[0].toLowerCase()!==A[0]&&(H+="an "),H+=`${A[0]}`;break;case 2:H+=`one of ${A[0]} or ${A[1]}`;break;default:{const ee=A.pop();H+=`one of ${A.join(", ")}, or ${ee}`}}if(null==j)H+=`. Received ${j}`;else if("function"==typeof j&&j.name)H+=`. Received function ${j.name}`;else if("object"==typeof j){var oe;null!==(oe=j.constructor)&&void 0!==oe&&oe.name?H+=`. Received an instance of ${j.constructor.name}`:H+=`. Received ${C(j,{depth:-1})}`}else{let ee=C(j,{colors:!1});ee.length>25&&(ee=`${ee.slice(0,25)}...`),H+=`. Received type ${typeof j} (${ee})`}return H},TypeError),x("ERR_INVALID_ARG_VALUE",($,X,j="is invalid")=>{let H=C(X);return H.length>128&&(H=H.slice(0,128)+"..."),`The ${$.includes(".")?"property":"argument"} '${$}' ${j}. Received ${H}`},TypeError),x("ERR_INVALID_RETURN_VALUE",($,X,j)=>{var H;return`Expected ${$} to be returned from the "${X}" function but got ${null!=j&&null!==(H=j.constructor)&&void 0!==H&&H.name?`instance of ${j.constructor.name}`:"type "+typeof j}.`},TypeError),x("ERR_MISSING_ARGS",(...$)=>{let X;te($.length>0,"At least one arg needs to be specified");const j=$.length;switch($=(Array.isArray($)?$:[$]).map(H=>`"${H}"`).join(" or "),j){case 1:X+=`The ${$[0]} argument`;break;case 2:X+=`The ${$[0]} and ${$[1]} arguments`;break;default:{const H=$.pop();X+=`The ${$.join(", ")}, and ${H} arguments`}}return`${X} must be specified`},TypeError),x("ERR_OUT_OF_RANGE",($,X,j)=>{let H;return te(X,'Missing "range" argument'),Number.isInteger(j)&&Math.abs(j)>2**32?H=R(String(j)):"bigint"==typeof j?(H=String(j),(j>2n**32n||j<-(2n**32n))&&(H=R(H)),H+="n"):H=C(j),`The value of "${$}" is out of range. It must be ${X}. Received ${H}`},RangeError),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),x("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),x("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),x("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),x("ERR_STREAM_WRITE_AFTER_END","write after end",Error),x("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Ge.exports={AbortError:z,aggregateTwoErrors:F(function se($,X){if($&&X&&$!==X){if(Array.isArray(X.errors))return X.errors.push($),X;const j=new Y([X,$],X.message);return j.code=X.code,j}return $||X}),hideStackFrames:F,codes:K}},1251:Ge=>{"use strict";Ge.exports={ArrayIsArray:ye=>Array.isArray(ye),ArrayPrototypeIncludes:(ye,T)=>ye.includes(T),ArrayPrototypeIndexOf:(ye,T)=>ye.indexOf(T),ArrayPrototypeJoin:(ye,T)=>ye.join(T),ArrayPrototypeMap:(ye,T)=>ye.map(T),ArrayPrototypePop:(ye,T)=>ye.pop(T),ArrayPrototypePush:(ye,T)=>ye.push(T),ArrayPrototypeSlice:(ye,T,J)=>ye.slice(T,J),Error,FunctionPrototypeCall:(ye,T,...J)=>ye.call(T,...J),FunctionPrototypeSymbolHasInstance:(ye,T)=>Function.prototype[Symbol.hasInstance].call(ye,T),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(ye,T)=>Object.defineProperties(ye,T),ObjectDefineProperty:(ye,T,J)=>Object.defineProperty(ye,T,J),ObjectGetOwnPropertyDescriptor:(ye,T)=>Object.getOwnPropertyDescriptor(ye,T),ObjectKeys:ye=>Object.keys(ye),ObjectSetPrototypeOf:(ye,T)=>Object.setPrototypeOf(ye,T),Promise,PromisePrototypeCatch:(ye,T)=>ye.catch(T),PromisePrototypeThen:(ye,T,J)=>ye.then(T,J),PromiseReject:ye=>Promise.reject(ye),PromiseResolve:ye=>Promise.resolve(ye),ReflectApply:Reflect.apply,RegExpPrototypeTest:(ye,T)=>ye.test(T),SafeSet:Set,String,StringPrototypeSlice:(ye,T,J)=>ye.slice(T,J),StringPrototypeToLowerCase:ye=>ye.toLowerCase(),StringPrototypeToUpperCase:ye=>ye.toUpperCase(),StringPrototypeTrim:ye=>ye.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(ye,T,J)=>ye.set(T,J),Boolean,Uint8Array}},1663:(Ge,ye,T)=>{"use strict";var J=T(9293).default;const C=T(2317),{kResistStopPropagation:q,SymbolDispose:Y}=T(1251),ne=globalThis.AbortSignal||T(9465).AbortSignal,w=globalThis.AbortController||T(9465).AbortController,E=Object.getPrototypeOf(J(function*(){})).constructor,B=globalThis.Blob||C.Blob,K=typeof B<"u"?function(F){return F instanceof B}:function(F){return!1},te=(x,F)=>{if(void 0!==x&&(null===x||"object"!=typeof x||!("aborted"in x)))throw new ERR_INVALID_ARG_TYPE(F,"AbortSignal",x)};class de extends Error{constructor(F){if(!Array.isArray(F))throw new TypeError("Expected input to be an Array, got "+typeof F);let se="";for(let z=0;z<F.length;z++)se+=`    ${F[z].stack}\n`;super(se),this.name="AggregateError",this.errors=F}}Ge.exports={AggregateError:de,kEmptyObject:Object.freeze({}),once(x){let F=!1;return function(...se){F||(F=!0,x.apply(this,se))}},createDeferredPromise:function(){let x,F;return{promise:new Promise((z,$)=>{x=z,F=$}),resolve:x,reject:F}},promisify:x=>new Promise((F,se)=>{x((z,...$)=>z?se(z):F(...$))}),debuglog:()=>function(){},format:(x,...F)=>x.replace(/%([sdifj])/g,function(...[se,z]){const $=F.shift();return"f"===z?$.toFixed(6):"j"===z?JSON.stringify($):"s"===z&&"object"==typeof $?`${$.constructor!==Object?$.constructor.name:""} {}`.trim():$.toString()}),inspect(x){switch(typeof x){case"string":if(x.includes("'")){if(!x.includes('"'))return`"${x}"`;if(!x.includes("`")&&!x.includes("${"))return`\`${x}\``}return`'${x}'`;case"number":return isNaN(x)?"NaN":Object.is(x,-0)?String(x):x;case"bigint":return`${String(x)}n`;case"boolean":case"undefined":return String(x);case"object":return"{}"}},types:{isAsyncFunction:x=>x instanceof E,isArrayBufferView:x=>ArrayBuffer.isView(x)},isBlob:K,deprecate:(x,F)=>x,addAbortListener:T(4356).addAbortListener||function(F,se){if(void 0===F)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",F);let z;return te(F,"signal"),((x,F)=>{if("function"!=typeof x)throw new ERR_INVALID_ARG_TYPE("listener","Function",x)})(se),F.aborted?queueMicrotask(()=>se()):(F.addEventListener("abort",se,{__proto__:null,once:!0,[q]:!0}),z=()=>{F.removeEventListener("abort",se)}),{__proto__:null,[Y](){var $;null===($=z)||void 0===$||$()}}},AbortSignalAny:ne.any||function(F){if(1===F.length)return F[0];const se=new w,z=()=>se.abort();return F.forEach($=>{te($,"signals"),$.addEventListener("abort",z,{once:!0})}),se.signal.addEventListener("abort",()=>{F.forEach($=>$.removeEventListener("abort",z))},{once:!0}),se.signal}},Ge.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},5603:(Ge,ye,T)=>{const{Buffer:J}=T(2317),{ObjectDefineProperty:C,ObjectKeys:q,ReflectApply:Y}=T(1251),{promisify:{custom:ne}}=T(1663),{streamReturningOperators:w,promiseReturningOperators:E}=T(1210),{codes:{ERR_ILLEGAL_CONSTRUCTOR:B}}=T(5480),K=T(6683),{setDefaultHighWaterMark:te,getDefaultHighWaterMark:R}=T(2934),{pipeline:de}=T(6249),{destroyer:x}=T(1509),F=T(3139),z=T(9204),$=T(6110),X=Ge.exports=T(8708).Stream;X.isDestroyed=$.isDestroyed,X.isDisturbed=$.isDisturbed,X.isErrored=$.isErrored,X.isReadable=$.isReadable,X.isWritable=$.isWritable,X.Readable=T(5779);for(const y of q(w)){let A=function(...oe){if(new.target)throw B();return X.Readable.from(Y(M,this,oe))};const M=w[y];C(A,"name",{__proto__:null,value:M.name}),C(A,"length",{__proto__:null,value:M.length}),C(X.Readable.prototype,y,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}for(const y of q(E)){let A=function(...ee){if(new.target)throw B();return Y(M,this,ee)};const M=E[y];C(A,"name",{__proto__:null,value:M.name}),C(A,"length",{__proto__:null,value:M.length}),C(X.Readable.prototype,y,{__proto__:null,value:A,enumerable:!1,configurable:!0,writable:!0})}X.Writable=T(2983),X.Duplex=T(9613),X.Transform=T(9059),X.PassThrough=T(6569),X.pipeline=de;const{addAbortSignal:j}=T(8992);X.addAbortSignal=j,X.finished=F,X.destroy=x,X.compose=K,X.setDefaultHighWaterMark=te,X.getDefaultHighWaterMark=R,C(X,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>z}),C(de,ne,{__proto__:null,enumerable:!0,get:()=>z.pipeline}),C(F,ne,{__proto__:null,enumerable:!0,get:()=>z.finished}),X.Stream=X,X._isUint8Array=function(M){return M instanceof Uint8Array},X._uint8ArrayToBuffer=function(M){return J.from(M.buffer,M.byteOffset,M.byteLength)}},9204:(Ge,ye,T)=>{"use strict";const{ArrayPrototypePop:J,Promise:C}=T(1251),{isIterable:q,isNodeStream:Y,isWebStream:ne}=T(6110),{pipelineImpl:w}=T(6249),{finished:E}=T(3139);T(5603),Ge.exports={finished:E,pipeline:function B(...K){return new C((te,R)=>{let de,x;const F=K[K.length-1];if(F&&"object"==typeof F&&!Y(F)&&!q(F)&&!ne(F)){const se=J(K);de=se.signal,x=se.end}w(K,(se,z)=>{se?R(se):te(z)},{signal:de,end:x})})}}},2317:(Ge,ye,T)=>{"use strict";const J=T(3981),C=T(2020),q="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ye.Buffer=E,ye.SlowBuffer=function X(ce){return+ce!=ce&&(ce=0),E.alloc(+ce)},ye.INSPECT_MAX_BYTES=50;const Y=2147483647;function w(ce){if(ce>Y)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const k=new Uint8Array(ce);return Object.setPrototypeOf(k,E.prototype),k}function E(ce,k,U){if("number"==typeof ce){if("string"==typeof k)throw new TypeError('The "string" argument must be of type string. Received type number');return R(ce)}return B(ce,k,U)}function B(ce,k,U){if("string"==typeof ce)return function de(ce,k){if(("string"!=typeof k||""===k)&&(k="utf8"),!E.isEncoding(k))throw new TypeError("Unknown encoding: "+k);const U=0|j(ce,k);let Pe=w(U);const it=Pe.write(ce,k);return it!==U&&(Pe=Pe.slice(0,it)),Pe}(ce,k);if(ArrayBuffer.isView(ce))return function F(ce){if(Ze(ce,Uint8Array)){const k=new Uint8Array(ce);return se(k.buffer,k.byteOffset,k.byteLength)}return x(ce)}(ce);if(null==ce)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(Ze(ce,ArrayBuffer)||ce&&Ze(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(ce,SharedArrayBuffer)||ce&&Ze(ce.buffer,SharedArrayBuffer)))return se(ce,k,U);if("number"==typeof ce)throw new TypeError('The "value" argument must not be of type number. Received type number');const Pe=ce.valueOf&&ce.valueOf();if(null!=Pe&&Pe!==ce)return E.from(Pe,k,U);const it=function z(ce){if(E.isBuffer(ce)){const k=0|$(ce.length),U=w(k);return 0===U.length||ce.copy(U,0,0,k),U}return void 0!==ce.length?"number"!=typeof ce.length||St(ce.length)?w(0):x(ce):"Buffer"===ce.type&&Array.isArray(ce.data)?x(ce.data):void 0}(ce);if(it)return it;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ce[Symbol.toPrimitive])return E.from(ce[Symbol.toPrimitive]("string"),k,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}function K(ce){if("number"!=typeof ce)throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function R(ce){return K(ce),w(ce<0?0:0|$(ce))}function x(ce){const k=ce.length<0?0:0|$(ce.length),U=w(k);for(let Pe=0;Pe<k;Pe+=1)U[Pe]=255&ce[Pe];return U}function se(ce,k,U){if(k<0||ce.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<k+(U||0))throw new RangeError('"length" is outside of buffer bounds');let Pe;return Pe=void 0===k&&void 0===U?new Uint8Array(ce):void 0===U?new Uint8Array(ce,k):new Uint8Array(ce,k,U),Object.setPrototypeOf(Pe,E.prototype),Pe}function $(ce){if(ce>=Y)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Y.toString(16)+" bytes");return 0|ce}function j(ce,k){if(E.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Ze(ce,ArrayBuffer))return ce.byteLength;if("string"!=typeof ce)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const U=ce.length,Pe=arguments.length>2&&!0===arguments[2];if(!Pe&&0===U)return 0;let it=!1;for(;;)switch(k){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return O(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return ve(ce).length;default:if(it)return Pe?-1:O(ce).length;k=(""+k).toLowerCase(),it=!0}}function H(ce,k,U){let Pe=!1;if((void 0===k||k<0)&&(k=0),k>this.length||((void 0===U||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(k>>>=0))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return De(this,k,U);case"utf8":case"utf-8":return Le(this,k,U);case"ascii":return Ee(this,k,U);case"latin1":case"binary":return je(this,k,U);case"base64":return Re(this,k,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ot(this,k,U);default:if(Pe)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Pe=!0}}function y(ce,k,U){const Pe=ce[k];ce[k]=ce[U],ce[U]=Pe}function M(ce,k,U,Pe,it){if(0===ce.length)return-1;if("string"==typeof U?(Pe=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),St(U=+U)&&(U=it?0:ce.length-1),U<0&&(U=ce.length+U),U>=ce.length){if(it)return-1;U=ce.length-1}else if(U<0){if(!it)return-1;U=0}if("string"==typeof k&&(k=E.from(k,Pe)),E.isBuffer(k))return 0===k.length?-1:A(ce,k,U,Pe,it);if("number"==typeof k)return k&=255,"function"==typeof Uint8Array.prototype.indexOf?it?Uint8Array.prototype.indexOf.call(ce,k,U):Uint8Array.prototype.lastIndexOf.call(ce,k,U):A(ce,[k],U,Pe,it);throw new TypeError("val must be string, number or Buffer")}function A(ce,k,U,Pe,it){let ri,ht=1,Tt=ce.length,An=k.length;if(void 0!==Pe&&("ucs2"===(Pe=String(Pe).toLowerCase())||"ucs-2"===Pe||"utf16le"===Pe||"utf-16le"===Pe)){if(ce.length<2||k.length<2)return-1;ht=2,Tt/=2,An/=2,U/=2}function qn(zn,Nn){return 1===ht?zn[Nn]:zn.readUInt16BE(Nn*ht)}if(it){let zn=-1;for(ri=U;ri<Tt;ri++)if(qn(ce,ri)===qn(k,-1===zn?0:ri-zn)){if(-1===zn&&(zn=ri),ri-zn+1===An)return zn*ht}else-1!==zn&&(ri-=ri-zn),zn=-1}else for(U+An>Tt&&(U=Tt-An),ri=U;ri>=0;ri--){let zn=!0;for(let Nn=0;Nn<An;Nn++)if(qn(ce,ri+Nn)!==qn(k,Nn)){zn=!1;break}if(zn)return ri}return-1}function oe(ce,k,U,Pe){U=Number(U)||0;const it=ce.length-U;Pe?(Pe=Number(Pe))>it&&(Pe=it):Pe=it;const ht=k.length;let Tt;for(Pe>ht/2&&(Pe=ht/2),Tt=0;Tt<Pe;++Tt){const An=parseInt(k.substr(2*Tt,2),16);if(St(An))return Tt;ce[U+Tt]=An}return Tt}function ee(ce,k,U,Pe){return Ve(O(k,ce.length-U),ce,U,Pe)}function Te(ce,k,U,Pe){return Ve(function ge(ce){const k=[];for(let U=0;U<ce.length;++U)k.push(255&ce.charCodeAt(U));return k}(k),ce,U,Pe)}function ie(ce,k,U,Pe){return Ve(ve(k),ce,U,Pe)}function xe(ce,k,U,Pe){return Ve(function $e(ce,k){let U,Pe,it;const ht=[];for(let Tt=0;Tt<ce.length&&!((k-=2)<0);++Tt)U=ce.charCodeAt(Tt),Pe=U>>8,it=U%256,ht.push(it),ht.push(Pe);return ht}(k,ce.length-U),ce,U,Pe)}function Re(ce,k,U){return J.fromByteArray(0===k&&U===ce.length?ce:ce.slice(k,U))}function Le(ce,k,U){U=Math.min(ce.length,U);const Pe=[];let it=k;for(;it<U;){const ht=ce[it];let Tt=null,An=ht>239?4:ht>223?3:ht>191?2:1;if(it+An<=U){let qn,ri,zn,Nn;switch(An){case 1:ht<128&&(Tt=ht);break;case 2:qn=ce[it+1],128==(192&qn)&&(Nn=(31&ht)<<6|63&qn,Nn>127&&(Tt=Nn));break;case 3:qn=ce[it+1],ri=ce[it+2],128==(192&qn)&&128==(192&ri)&&(Nn=(15&ht)<<12|(63&qn)<<6|63&ri,Nn>2047&&(Nn<55296||Nn>57343)&&(Tt=Nn));break;case 4:qn=ce[it+1],ri=ce[it+2],zn=ce[it+3],128==(192&qn)&&128==(192&ri)&&128==(192&zn)&&(Nn=(15&ht)<<18|(63&qn)<<12|(63&ri)<<6|63&zn,Nn>65535&&Nn<1114112&&(Tt=Nn))}}null===Tt?(Tt=65533,An=1):Tt>65535&&(Tt-=65536,Pe.push(Tt>>>10&1023|55296),Tt=56320|1023&Tt),Pe.push(Tt),it+=An}return function rt(ce){const k=ce.length;if(k<=tt)return String.fromCharCode.apply(String,ce);let U="",Pe=0;for(;Pe<k;)U+=String.fromCharCode.apply(String,ce.slice(Pe,Pe+=tt));return U}(Pe)}ye.kMaxLength=Y,!(E.TYPED_ARRAY_SUPPORT=function ne(){try{const ce=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(ce,k),42===ce.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(E.isBuffer(this))return this.byteOffset}}),E.poolSize=8192,E.from=function(ce,k,U){return B(ce,k,U)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array),E.alloc=function(ce,k,U){return function te(ce,k,U){return K(ce),ce<=0?w(ce):void 0!==k?"string"==typeof U?w(ce).fill(k,U):w(ce).fill(k):w(ce)}(ce,k,U)},E.allocUnsafe=function(ce){return R(ce)},E.allocUnsafeSlow=function(ce){return R(ce)},E.isBuffer=function(k){return null!=k&&!0===k._isBuffer&&k!==E.prototype},E.compare=function(k,U){if(Ze(k,Uint8Array)&&(k=E.from(k,k.offset,k.byteLength)),Ze(U,Uint8Array)&&(U=E.from(U,U.offset,U.byteLength)),!E.isBuffer(k)||!E.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===U)return 0;let Pe=k.length,it=U.length;for(let ht=0,Tt=Math.min(Pe,it);ht<Tt;++ht)if(k[ht]!==U[ht]){Pe=k[ht],it=U[ht];break}return Pe<it?-1:it<Pe?1:0},E.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(k,U){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(0===k.length)return E.alloc(0);let Pe;if(void 0===U)for(U=0,Pe=0;Pe<k.length;++Pe)U+=k[Pe].length;const it=E.allocUnsafe(U);let ht=0;for(Pe=0;Pe<k.length;++Pe){let Tt=k[Pe];if(Ze(Tt,Uint8Array))ht+Tt.length>it.length?(E.isBuffer(Tt)||(Tt=E.from(Tt)),Tt.copy(it,ht)):Uint8Array.prototype.set.call(it,Tt,ht);else{if(!E.isBuffer(Tt))throw new TypeError('"list" argument must be an Array of Buffers');Tt.copy(it,ht)}ht+=Tt.length}return it},E.byteLength=j,E.prototype._isBuffer=!0,E.prototype.swap16=function(){const k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let U=0;U<k;U+=2)y(this,U,U+1);return this},E.prototype.swap32=function(){const k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let U=0;U<k;U+=4)y(this,U,U+3),y(this,U+1,U+2);return this},E.prototype.swap64=function(){const k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let U=0;U<k;U+=8)y(this,U,U+7),y(this,U+1,U+6),y(this,U+2,U+5),y(this,U+3,U+4);return this},E.prototype.toLocaleString=E.prototype.toString=function(){const k=this.length;return 0===k?"":0===arguments.length?Le(this,0,k):H.apply(this,arguments)},E.prototype.equals=function(k){if(!E.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k||0===E.compare(this,k)},E.prototype.inspect=function(){let k="";const U=ye.INSPECT_MAX_BYTES;return k=this.toString("hex",0,U).replace(/(.{2})/g,"$1 ").trim(),this.length>U&&(k+=" ... "),"<Buffer "+k+">"},q&&(E.prototype[q]=E.prototype.inspect),E.prototype.compare=function(k,U,Pe,it,ht){if(Ze(k,Uint8Array)&&(k=E.from(k,k.offset,k.byteLength)),!E.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(void 0===U&&(U=0),void 0===Pe&&(Pe=k?k.length:0),void 0===it&&(it=0),void 0===ht&&(ht=this.length),U<0||Pe>k.length||it<0||ht>this.length)throw new RangeError("out of range index");if(it>=ht&&U>=Pe)return 0;if(it>=ht)return-1;if(U>=Pe)return 1;if(this===k)return 0;let Tt=(ht>>>=0)-(it>>>=0),An=(Pe>>>=0)-(U>>>=0);const qn=Math.min(Tt,An),ri=this.slice(it,ht),zn=k.slice(U,Pe);for(let Nn=0;Nn<qn;++Nn)if(ri[Nn]!==zn[Nn]){Tt=ri[Nn],An=zn[Nn];break}return Tt<An?-1:An<Tt?1:0},E.prototype.includes=function(k,U,Pe){return-1!==this.indexOf(k,U,Pe)},E.prototype.indexOf=function(k,U,Pe){return M(this,k,U,Pe,!0)},E.prototype.lastIndexOf=function(k,U,Pe){return M(this,k,U,Pe,!1)},E.prototype.write=function(k,U,Pe,it){if(void 0===U)it="utf8",Pe=this.length,U=0;else if(void 0===Pe&&"string"==typeof U)it=U,Pe=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(Pe)?(Pe>>>=0,void 0===it&&(it="utf8")):(it=Pe,Pe=void 0)}const ht=this.length-U;if((void 0===Pe||Pe>ht)&&(Pe=ht),k.length>0&&(Pe<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");let Tt=!1;for(;;)switch(it){case"hex":return oe(this,k,U,Pe);case"utf8":case"utf-8":return ee(this,k,U,Pe);case"ascii":case"latin1":case"binary":return Te(this,k,U,Pe);case"base64":return ie(this,k,U,Pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,k,U,Pe);default:if(Tt)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),Tt=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const tt=4096;function Ee(ce,k,U){let Pe="";U=Math.min(ce.length,U);for(let it=k;it<U;++it)Pe+=String.fromCharCode(127&ce[it]);return Pe}function je(ce,k,U){let Pe="";U=Math.min(ce.length,U);for(let it=k;it<U;++it)Pe+=String.fromCharCode(ce[it]);return Pe}function De(ce,k,U){const Pe=ce.length;(!k||k<0)&&(k=0),(!U||U<0||U>Pe)&&(U=Pe);let it="";for(let ht=k;ht<U;++ht)it+=Gt[ce[ht]];return it}function ot(ce,k,U){const Pe=ce.slice(k,U);let it="";for(let ht=0;ht<Pe.length-1;ht+=2)it+=String.fromCharCode(Pe[ht]+256*Pe[ht+1]);return it}function fe(ce,k,U){if(ce%1!=0||ce<0)throw new RangeError("offset is not uint");if(ce+k>U)throw new RangeError("Trying to access beyond buffer length")}function we(ce,k,U,Pe,it,ht){if(!E.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>it||k<ht)throw new RangeError('"value" argument is out of bounds');if(U+Pe>ce.length)throw new RangeError("Index out of range")}function ct(ce,k,U,Pe,it){ut(k,Pe,it,ce,U,7);let ht=Number(k&BigInt(4294967295));ce[U++]=ht,ht>>=8,ce[U++]=ht,ht>>=8,ce[U++]=ht,ht>>=8,ce[U++]=ht;let Tt=Number(k>>BigInt(32)&BigInt(4294967295));return ce[U++]=Tt,Tt>>=8,ce[U++]=Tt,Tt>>=8,ce[U++]=Tt,Tt>>=8,ce[U++]=Tt,U}function Et(ce,k,U,Pe,it){ut(k,Pe,it,ce,U,7);let ht=Number(k&BigInt(4294967295));ce[U+7]=ht,ht>>=8,ce[U+6]=ht,ht>>=8,ce[U+5]=ht,ht>>=8,ce[U+4]=ht;let Tt=Number(k>>BigInt(32)&BigInt(4294967295));return ce[U+3]=Tt,Tt>>=8,ce[U+2]=Tt,Tt>>=8,ce[U+1]=Tt,Tt>>=8,ce[U]=Tt,U+8}function Be(ce,k,U,Pe,it,ht){if(U+Pe>ce.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function W(ce,k,U,Pe,it){return k=+k,U>>>=0,it||Be(ce,0,U,4),C.write(ce,k,U,Pe,23,4),U+4}function Q(ce,k,U,Pe,it){return k=+k,U>>>=0,it||Be(ce,0,U,8),C.write(ce,k,U,Pe,52,8),U+8}E.prototype.slice=function(k,U){const Pe=this.length;(k=~~k)<0?(k+=Pe)<0&&(k=0):k>Pe&&(k=Pe),(U=void 0===U?Pe:~~U)<0?(U+=Pe)<0&&(U=0):U>Pe&&(U=Pe),U<k&&(U=k);const it=this.subarray(k,U);return Object.setPrototypeOf(it,E.prototype),it},E.prototype.readUintLE=E.prototype.readUIntLE=function(k,U,Pe){k>>>=0,U>>>=0,Pe||fe(k,U,this.length);let it=this[k],ht=1,Tt=0;for(;++Tt<U&&(ht*=256);)it+=this[k+Tt]*ht;return it},E.prototype.readUintBE=E.prototype.readUIntBE=function(k,U,Pe){k>>>=0,U>>>=0,Pe||fe(k,U,this.length);let it=this[k+--U],ht=1;for(;U>0&&(ht*=256);)it+=this[k+--U]*ht;return it},E.prototype.readUint8=E.prototype.readUInt8=function(k,U){return k>>>=0,U||fe(k,1,this.length),this[k]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(k,U){return k>>>=0,U||fe(k,2,this.length),this[k]|this[k+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(k,U){return k>>>=0,U||fe(k,2,this.length),this[k]<<8|this[k+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(k,U){return k>>>=0,U||fe(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+16777216*this[k+3]},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(k,U){return k>>>=0,U||fe(k,4,this.length),16777216*this[k]+(this[k+1]<<16|this[k+2]<<8|this[k+3])},E.prototype.readBigUInt64LE=Ot(function(k){ft(k>>>=0,"offset");const U=this[k],Pe=this[k+7];(void 0===U||void 0===Pe)&&Fe(k,this.length-8);const it=U+256*this[++k]+65536*this[++k]+this[++k]*2**24,ht=this[++k]+256*this[++k]+65536*this[++k]+Pe*2**24;return BigInt(it)+(BigInt(ht)<<BigInt(32))}),E.prototype.readBigUInt64BE=Ot(function(k){ft(k>>>=0,"offset");const U=this[k],Pe=this[k+7];(void 0===U||void 0===Pe)&&Fe(k,this.length-8);const it=U*2**24+65536*this[++k]+256*this[++k]+this[++k],ht=this[++k]*2**24+65536*this[++k]+256*this[++k]+Pe;return(BigInt(it)<<BigInt(32))+BigInt(ht)}),E.prototype.readIntLE=function(k,U,Pe){k>>>=0,U>>>=0,Pe||fe(k,U,this.length);let it=this[k],ht=1,Tt=0;for(;++Tt<U&&(ht*=256);)it+=this[k+Tt]*ht;return ht*=128,it>=ht&&(it-=Math.pow(2,8*U)),it},E.prototype.readIntBE=function(k,U,Pe){k>>>=0,U>>>=0,Pe||fe(k,U,this.length);let it=U,ht=1,Tt=this[k+--it];for(;it>0&&(ht*=256);)Tt+=this[k+--it]*ht;return ht*=128,Tt>=ht&&(Tt-=Math.pow(2,8*U)),Tt},E.prototype.readInt8=function(k,U){return k>>>=0,U||fe(k,1,this.length),128&this[k]?-1*(255-this[k]+1):this[k]},E.prototype.readInt16LE=function(k,U){k>>>=0,U||fe(k,2,this.length);const Pe=this[k]|this[k+1]<<8;return 32768&Pe?4294901760|Pe:Pe},E.prototype.readInt16BE=function(k,U){k>>>=0,U||fe(k,2,this.length);const Pe=this[k+1]|this[k]<<8;return 32768&Pe?4294901760|Pe:Pe},E.prototype.readInt32LE=function(k,U){return k>>>=0,U||fe(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},E.prototype.readInt32BE=function(k,U){return k>>>=0,U||fe(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},E.prototype.readBigInt64LE=Ot(function(k){ft(k>>>=0,"offset");const U=this[k],Pe=this[k+7];return(void 0===U||void 0===Pe)&&Fe(k,this.length-8),(BigInt(this[k+4]+256*this[k+5]+65536*this[k+6]+(Pe<<24))<<BigInt(32))+BigInt(U+256*this[++k]+65536*this[++k]+this[++k]*2**24)}),E.prototype.readBigInt64BE=Ot(function(k){ft(k>>>=0,"offset");const U=this[k],Pe=this[k+7];(void 0===U||void 0===Pe)&&Fe(k,this.length-8);const it=(U<<24)+65536*this[++k]+256*this[++k]+this[++k];return(BigInt(it)<<BigInt(32))+BigInt(this[++k]*2**24+65536*this[++k]+256*this[++k]+Pe)}),E.prototype.readFloatLE=function(k,U){return k>>>=0,U||fe(k,4,this.length),C.read(this,k,!0,23,4)},E.prototype.readFloatBE=function(k,U){return k>>>=0,U||fe(k,4,this.length),C.read(this,k,!1,23,4)},E.prototype.readDoubleLE=function(k,U){return k>>>=0,U||fe(k,8,this.length),C.read(this,k,!0,52,8)},E.prototype.readDoubleBE=function(k,U){return k>>>=0,U||fe(k,8,this.length),C.read(this,k,!1,52,8)},E.prototype.writeUintLE=E.prototype.writeUIntLE=function(k,U,Pe,it){k=+k,U>>>=0,Pe>>>=0,it||we(this,k,U,Pe,Math.pow(2,8*Pe)-1,0);let ht=1,Tt=0;for(this[U]=255&k;++Tt<Pe&&(ht*=256);)this[U+Tt]=k/ht&255;return U+Pe},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(k,U,Pe,it){k=+k,U>>>=0,Pe>>>=0,it||we(this,k,U,Pe,Math.pow(2,8*Pe)-1,0);let ht=Pe-1,Tt=1;for(this[U+ht]=255&k;--ht>=0&&(Tt*=256);)this[U+ht]=k/Tt&255;return U+Pe},E.prototype.writeUint8=E.prototype.writeUInt8=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,1,255,0),this[U]=255&k,U+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,2,65535,0),this[U]=255&k,this[U+1]=k>>>8,U+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,2,65535,0),this[U]=k>>>8,this[U+1]=255&k,U+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,4,4294967295,0),this[U+3]=k>>>24,this[U+2]=k>>>16,this[U+1]=k>>>8,this[U]=255&k,U+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,4,4294967295,0),this[U]=k>>>24,this[U+1]=k>>>16,this[U+2]=k>>>8,this[U+3]=255&k,U+4},E.prototype.writeBigUInt64LE=Ot(function(k,U=0){return ct(this,k,U,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=Ot(function(k,U=0){return Et(this,k,U,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(k,U,Pe,it){if(k=+k,U>>>=0,!it){const qn=Math.pow(2,8*Pe-1);we(this,k,U,Pe,qn-1,-qn)}let ht=0,Tt=1,An=0;for(this[U]=255&k;++ht<Pe&&(Tt*=256);)k<0&&0===An&&0!==this[U+ht-1]&&(An=1),this[U+ht]=(k/Tt|0)-An&255;return U+Pe},E.prototype.writeIntBE=function(k,U,Pe,it){if(k=+k,U>>>=0,!it){const qn=Math.pow(2,8*Pe-1);we(this,k,U,Pe,qn-1,-qn)}let ht=Pe-1,Tt=1,An=0;for(this[U+ht]=255&k;--ht>=0&&(Tt*=256);)k<0&&0===An&&0!==this[U+ht+1]&&(An=1),this[U+ht]=(k/Tt|0)-An&255;return U+Pe},E.prototype.writeInt8=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,1,127,-128),k<0&&(k=255+k+1),this[U]=255&k,U+1},E.prototype.writeInt16LE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,2,32767,-32768),this[U]=255&k,this[U+1]=k>>>8,U+2},E.prototype.writeInt16BE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,2,32767,-32768),this[U]=k>>>8,this[U+1]=255&k,U+2},E.prototype.writeInt32LE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,4,2147483647,-2147483648),this[U]=255&k,this[U+1]=k>>>8,this[U+2]=k>>>16,this[U+3]=k>>>24,U+4},E.prototype.writeInt32BE=function(k,U,Pe){return k=+k,U>>>=0,Pe||we(this,k,U,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[U]=k>>>24,this[U+1]=k>>>16,this[U+2]=k>>>8,this[U+3]=255&k,U+4},E.prototype.writeBigInt64LE=Ot(function(k,U=0){return ct(this,k,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=Ot(function(k,U=0){return Et(this,k,U,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeFloatLE=function(k,U,Pe){return W(this,k,U,!0,Pe)},E.prototype.writeFloatBE=function(k,U,Pe){return W(this,k,U,!1,Pe)},E.prototype.writeDoubleLE=function(k,U,Pe){return Q(this,k,U,!0,Pe)},E.prototype.writeDoubleBE=function(k,U,Pe){return Q(this,k,U,!1,Pe)},E.prototype.copy=function(k,U,Pe,it){if(!E.isBuffer(k))throw new TypeError("argument should be a Buffer");if(Pe||(Pe=0),!it&&0!==it&&(it=this.length),U>=k.length&&(U=k.length),U||(U=0),it>0&&it<Pe&&(it=Pe),it===Pe||0===k.length||0===this.length)return 0;if(U<0)throw new RangeError("targetStart out of bounds");if(Pe<0||Pe>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),k.length-U<it-Pe&&(it=k.length-U+Pe);const ht=it-Pe;return this===k&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(U,Pe,it):Uint8Array.prototype.set.call(k,this.subarray(Pe,it),U),ht},E.prototype.fill=function(k,U,Pe,it){if("string"==typeof k){if("string"==typeof U?(it=U,U=0,Pe=this.length):"string"==typeof Pe&&(it=Pe,Pe=this.length),void 0!==it&&"string"!=typeof it)throw new TypeError("encoding must be a string");if("string"==typeof it&&!E.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(1===k.length){const Tt=k.charCodeAt(0);("utf8"===it&&Tt<128||"latin1"===it)&&(k=Tt)}}else"number"==typeof k?k&=255:"boolean"==typeof k&&(k=Number(k));if(U<0||this.length<U||this.length<Pe)throw new RangeError("Out of range index");if(Pe<=U)return this;let ht;if(U>>>=0,Pe=void 0===Pe?this.length:Pe>>>0,k||(k=0),"number"==typeof k)for(ht=U;ht<Pe;++ht)this[ht]=k;else{const Tt=E.isBuffer(k)?k:E.from(k,it),An=Tt.length;if(0===An)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(ht=0;ht<Pe-U;++ht)this[ht+U]=Tt[ht%An]}return this};const Ae={};function Ne(ce,k,U){Ae[ce]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:k.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,delete this.name}get code(){return ce}set code(it){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:it,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}function Me(ce){let k="",U=ce.length;const Pe="-"===ce[0]?1:0;for(;U>=Pe+4;U-=3)k=`_${ce.slice(U-3,U)}${k}`;return`${ce.slice(0,U)}${k}`}function ut(ce,k,U,Pe,it,ht){if(ce>U||ce<k){const Tt="bigint"==typeof k?"n":"";let An;throw An=ht>3?0===k||k===BigInt(0)?`>= 0${Tt} and < 2${Tt} ** ${8*(ht+1)}${Tt}`:`>= -(2${Tt} ** ${8*(ht+1)-1}${Tt}) and < 2 ** ${8*(ht+1)-1}${Tt}`:`>= ${k}${Tt} and <= ${U}${Tt}`,new Ae.ERR_OUT_OF_RANGE("value",An,ce)}!function nt(ce,k,U){ft(k,"offset"),(void 0===ce[k]||void 0===ce[k+U])&&Fe(k,ce.length-(U+1))}(Pe,it,ht)}function ft(ce,k){if("number"!=typeof ce)throw new Ae.ERR_INVALID_ARG_TYPE(k,"number",ce)}function Fe(ce,k,U){throw Math.floor(ce)!==ce?(ft(ce,U),new Ae.ERR_OUT_OF_RANGE(U||"offset","an integer",ce)):k<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE(U||"offset",`>= ${U?1:0} and <= ${k}`,ce)}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(ce,k){return`The "${ce}" argument must be of type number. Received type ${typeof k}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(ce,k,U){let Pe=`The value of "${ce}" is out of range.`,it=U;return Number.isInteger(U)&&Math.abs(U)>2**32?it=Me(String(U)):"bigint"==typeof U&&(it=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(it=Me(it)),it+="n"),Pe+=` It must be ${k}. Received ${it}`,Pe},RangeError);const V=/[^+/0-9A-Za-z-_]/g;function O(ce,k){let U;k=k||1/0;const Pe=ce.length;let it=null;const ht=[];for(let Tt=0;Tt<Pe;++Tt){if(U=ce.charCodeAt(Tt),U>55295&&U<57344){if(!it){if(U>56319){(k-=3)>-1&&ht.push(239,191,189);continue}if(Tt+1===Pe){(k-=3)>-1&&ht.push(239,191,189);continue}it=U;continue}if(U<56320){(k-=3)>-1&&ht.push(239,191,189),it=U;continue}U=65536+(it-55296<<10|U-56320)}else it&&(k-=3)>-1&&ht.push(239,191,189);if(it=null,U<128){if((k-=1)<0)break;ht.push(U)}else if(U<2048){if((k-=2)<0)break;ht.push(U>>6|192,63&U|128)}else if(U<65536){if((k-=3)<0)break;ht.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(U<1114112))throw new Error("Invalid code point");if((k-=4)<0)break;ht.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return ht}function ve(ce){return J.toByteArray(function I(ce){if((ce=(ce=ce.split("=")[0]).trim().replace(V,"")).length<2)return"";for(;ce.length%4!=0;)ce+="=";return ce}(ce))}function Ve(ce,k,U,Pe){let it;for(it=0;it<Pe&&!(it+U>=k.length||it>=ce.length);++it)k[it+U]=ce[it];return it}function Ze(ce,k){return ce instanceof k||null!=ce&&null!=ce.constructor&&null!=ce.constructor.name&&ce.constructor.name===k.name}function St(ce){return ce!=ce}const Gt=function(){const ce="0123456789abcdef",k=new Array(256);for(let U=0;U<16;++U){const Pe=16*U;for(let it=0;it<16;++it)k[Pe+it]=ce[U]+ce[it]}return k}();function Ot(ce){return typeof BigInt>"u"?Ht:ce}function Ht(){throw new Error("BigInt not supported")}},7140:function(){!function(Ge,ye){"use strict";if(!Ge.setImmediate){var Y,T=1,J={},C=!1,q=Ge.document,se=Object.getPrototypeOf&&Object.getPrototypeOf(Ge);se=se&&se.setTimeout?se:Ge,"[object process]"==={}.toString.call(Ge.process)?function K(){Y=function(z){process.nextTick(function(){B(z)})}}():function te(){if(Ge.postMessage&&!Ge.importScripts){var z=!0,$=Ge.onmessage;return Ge.onmessage=function(){z=!1},Ge.postMessage("","*"),Ge.onmessage=$,z}}()?function R(){var z="setImmediate$"+Math.random()+"$",$=function(X){X.source===Ge&&"string"==typeof X.data&&0===X.data.indexOf(z)&&B(+X.data.slice(z.length))};Ge.addEventListener?Ge.addEventListener("message",$,!1):Ge.attachEvent("onmessage",$),Y=function(X){Ge.postMessage(z+X,"*")}}():Ge.MessageChannel?function de(){var z=new MessageChannel;z.port1.onmessage=function($){B($.data)},Y=function($){z.port2.postMessage($)}}():q&&"onreadystatechange"in q.createElement("script")?function x(){var z=q.documentElement;Y=function($){var X=q.createElement("script");X.onreadystatechange=function(){B($),X.onreadystatechange=null,z.removeChild(X),X=null},z.appendChild(X)}}():function F(){Y=function(z){setTimeout(B,0,z)}}(),se.setImmediate=function ne(z){"function"!=typeof z&&(z=new Function(""+z));for(var $=new Array(arguments.length-1),X=0;X<$.length;X++)$[X]=arguments[X+1];return J[T]={callback:z,args:$},Y(T),T++},se.clearImmediate=w}function w(z){delete J[z]}function B(z){if(C)setTimeout(B,0,z);else{var $=J[z];if($){C=!0;try{!function E(z){var $=z.callback,X=z.args;switch(X.length){case 0:$();break;case 1:$(X[0]);break;case 2:$(X[0],X[1]);break;case 3:$(X[0],X[1],X[2]);break;default:$.apply(undefined,X)}}($)}finally{w(z),C=!1}}}}}(typeof self>"u"?typeof global>"u"?this:global:self)},8454:(Ge,ye,T)=>{"use strict";var J=T(4272).Buffer,C=J.isEncoding||function(X){switch((X=""+X)&&X.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ne(X){var j;switch(this.encoding=function Y(X){var j=function q(X){if(!X)return"utf8";for(var j;;)switch(X){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return X;default:if(j)return;X=(""+X).toLowerCase(),j=!0}}(X);if("string"!=typeof j&&(J.isEncoding===C||!C(X)))throw new Error("Unknown encoding: "+X);return j||X}(X),this.encoding){case"utf16le":this.text=de,this.end=x,j=4;break;case"utf8":this.fillLast=K,j=4;break;case"base64":this.text=F,this.end=se,j=3;break;default:return this.write=z,void(this.end=$)}this.lastNeed=0,this.lastTotal=0,this.lastChar=J.allocUnsafe(j)}function w(X){return X<=127?0:X>>5==6?2:X>>4==14?3:X>>3==30?4:X>>6==2?-1:-2}function K(X){var j=this.lastTotal-this.lastNeed,H=function B(X,j,H){if(128!=(192&j[0]))return X.lastNeed=0,"\ufffd";if(X.lastNeed>1&&j.length>1){if(128!=(192&j[1]))return X.lastNeed=1,"\ufffd";if(X.lastNeed>2&&j.length>2&&128!=(192&j[2]))return X.lastNeed=2,"\ufffd"}}(this,X);return void 0!==H?H:this.lastNeed<=X.length?(X.copy(this.lastChar,j,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(X.copy(this.lastChar,j,0,X.length),void(this.lastNeed-=X.length))}function de(X,j){if((X.length-j)%2==0){var H=X.toString("utf16le",j);if(H){var y=H.charCodeAt(H.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=X[X.length-2],this.lastChar[1]=X[X.length-1],H.slice(0,-1)}return H}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=X[X.length-1],X.toString("utf16le",j,X.length-1)}function x(X){var j=X&&X.length?this.write(X):"";return this.lastNeed?j+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):j}function F(X,j){var H=(X.length-j)%3;return 0===H?X.toString("base64",j):(this.lastNeed=3-H,this.lastTotal=3,1===H?this.lastChar[0]=X[X.length-1]:(this.lastChar[0]=X[X.length-2],this.lastChar[1]=X[X.length-1]),X.toString("base64",j,X.length-H))}function se(X){var j=X&&X.length?this.write(X):"";return this.lastNeed?j+this.lastChar.toString("base64",0,3-this.lastNeed):j}function z(X){return X.toString(this.encoding)}function $(X){return X&&X.length?this.write(X):""}ye.StringDecoder=ne,ne.prototype.write=function(X){if(0===X.length)return"";var j,H;if(this.lastNeed){if(void 0===(j=this.fillLast(X)))return"";H=this.lastNeed,this.lastNeed=0}else H=0;return H<X.length?j?j+this.text(X,H):this.text(X,H):j||""},ne.prototype.end=function R(X){var j=X&&X.length?this.write(X):"";return this.lastNeed?j+"\ufffd":j},ne.prototype.text=function te(X,j){var H=function E(X,j,H){var y=j.length-1;if(y<H)return 0;var M=w(j[y]);return M>=0?(M>0&&(X.lastNeed=M-1),M):--y<H||-2===M?0:(M=w(j[y]))>=0?(M>0&&(X.lastNeed=M-2),M):--y<H||-2===M?0:(M=w(j[y]))>=0?(M>0&&(2===M?M=0:X.lastNeed=M-3),M):0}(this,X,j);if(!this.lastNeed)return X.toString("utf8",j);this.lastTotal=H;var y=X.length-(H-this.lastNeed);return X.copy(this.lastChar,0,y),X.toString("utf8",j,y)},ne.prototype.fillLast=function(X){if(this.lastNeed<=X.length)return X.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);X.copy(this.lastChar,this.lastTotal-this.lastNeed,0,X.length),this.lastNeed-=X.length}},4272:(Ge,ye,T)=>{var J=T(3838),C=J.Buffer;function q(ne,w){for(var E in ne)w[E]=ne[E]}function Y(ne,w,E){return C(ne,w,E)}C.from&&C.alloc&&C.allocUnsafe&&C.allocUnsafeSlow?Ge.exports=J:(q(J,ye),ye.Buffer=Y),Y.prototype=Object.create(C.prototype),q(C,Y),Y.from=function(ne,w,E){if("number"==typeof ne)throw new TypeError("Argument must not be a number");return C(ne,w,E)},Y.alloc=function(ne,w,E){if("number"!=typeof ne)throw new TypeError("Argument must be a number");var B=C(ne);return void 0!==w?"string"==typeof E?B.fill(w,E):B.fill(w):B.fill(0),B},Y.allocUnsafe=function(ne){if("number"!=typeof ne)throw new TypeError("Argument must be a number");return C(ne)},Y.allocUnsafeSlow=function(ne){if("number"!=typeof ne)throw new TypeError("Argument must be a number");return J.SlowBuffer(ne)}},1492:()=>{},2435:()=>{},7789:()=>{},7490:(Ge,ye,T)=>{var J=T(5172);function C(q){var Y,ne;function w(B,K){try{var te=q[B](K),R=te.value,de=R instanceof J;Promise.resolve(de?R.v:R).then(function(x){if(de){var F="return"===B?"return":"next";if(!R.k||x.done)return w(F,x);x=q[F](x).value}E(te.done?"return":"normal",x)},function(x){w("throw",x)})}catch(x){E("throw",x)}}function E(B,K){switch(B){case"return":Y.resolve({value:K,done:!0});break;case"throw":Y.reject(K);break;default:Y.resolve({value:K,done:!1})}(Y=Y.next)?w(Y.key,Y.arg):ne=null}this._invoke=function(B,K){return new Promise(function(te,R){var de={key:B,arg:K,resolve:te,reject:R,next:null};ne?ne=ne.next=de:(Y=ne=de,w(B,K))})},"function"!=typeof q.return&&(this.return=void 0)}C.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},C.prototype.next=function(q){return this._invoke("next",q)},C.prototype.throw=function(q){return this._invoke("throw",q)},C.prototype.return=function(q){return this._invoke("return",q)},Ge.exports=C,Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},5172:Ge=>{Ge.exports=function ye(T,J){this.v=T,this.k=J},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},3513:(Ge,ye,T)=>{var J=T(5172);Ge.exports=function C(q){var Y={},ne=!1;function w(E,B){return ne=!0,B=new Promise(function(K){K(q[E](B))}),{done:!1,value:new J(B,1)}}return Y[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},Y.next=function(E){return ne?(ne=!1,E):w("next",E)},"function"==typeof q.throw&&(Y.throw=function(E){if(ne)throw ne=!1,E;return w("throw",E)}),"function"==typeof q.return&&(Y.return=function(E){return ne?(ne=!1,E):w("return",E)}),Y},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},2881:Ge=>{function T(J){function C(q){if(Object(q)!==q)return Promise.reject(new TypeError(q+" is not an object."));var Y=q.done;return Promise.resolve(q.value).then(function(ne){return{value:ne,done:Y}})}return(T=function(Y){this.s=Y,this.n=Y.next}).prototype={s:null,n:null,next:function(){return C(this.n.apply(this.s,arguments))},return:function(Y){var ne=this.s.return;return void 0===ne?Promise.resolve({value:Y,done:!0}):C(ne.apply(this.s,arguments))},throw:function(Y){var ne=this.s.return;return void 0===ne?Promise.reject(Y):C(ne.apply(this.s,arguments))}},new T(J)}Ge.exports=function ye(J){var C,q,Y,ne=2;for(typeof Symbol<"u"&&(q=Symbol.asyncIterator,Y=Symbol.iterator);ne--;){if(q&&null!=(C=J[q]))return C.call(J);if(Y&&null!=(C=J[Y]))return new T(C.call(J));q="@@asyncIterator",Y="@@iterator"}throw new TypeError("Object is not async iterable")},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},9293:Ge=>{function ye(J,C,q,Y,ne,w,E){try{var B=J[w](E),K=B.value}catch(te){return void q(te)}B.done?C(K):Promise.resolve(K).then(Y,ne)}Ge.exports=function T(J){return function(){var C=this,q=arguments;return new Promise(function(Y,ne){var w=J.apply(C,q);function E(K){ye(w,Y,ne,E,B,"next",K)}function B(K){ye(w,Y,ne,E,B,"throw",K)}E(void 0)})}},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},3344:(Ge,ye,T)=>{var J=T(5172);Ge.exports=function C(q){return new J(q,0)},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports},2958:(Ge,ye,T)=>{var J=T(7490);Ge.exports=function C(q){return function(){return new J(q.apply(this,arguments))}},Ge.exports.__esModule=!0,Ge.exports.default=Ge.exports}},Ge=>{Ge(Ge.s=1145)}]);