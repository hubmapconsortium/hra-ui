<div class="subheader">Author</div>
<div class="fields" [formGroup]="form()">
  <mat-form-field class="field firstname" hraFeature="firstname-input" hraClickEvent>
    <mat-label>First name</mat-label>
    <input matInput formControlName="firstName" autocomplete="given-name" />
    @if (form().hasError('required', 'firstName')) {
      <mat-error>First name is required</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="field middlename" hraFeature="middlename-input" hraClickEvent>
    <mat-label>Middle name</mat-label>
    <input matInput formControlName="middleName" autocomplete="additional-name" />
  </mat-form-field>

  <mat-form-field class="field lastname" hraFeature="lastname-input" hraClickEvent>
    <mat-label>Last name</mat-label>
    <input matInput formControlName="lastName" autocomplete="family-name" />
    @if (form().hasError('required', 'lastName')) {
      <mat-error>Last name is required</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="field orcid" hraFeature="orcid-input" hraClickEvent>
    <mat-label>ORCID</mat-label>
    <input
      matInput
      formControlName="orcidId"
      mask="AAAA-AAAA-AAAA-AAAA"
      placeholder="xxxx-xxxx-xxxx-xxxx"
      [inputTransformFn]="orcidInputFn"
      [dropSpecialCharacters]="false"
    />
    @if (form().hasError('mask', 'orcidId')) {
      <mat-error>Please enter a valid ORCID</mat-error>
    }
  </mat-form-field>

  <mat-form-field class="field email" hraFeature="email-input" hraClickEvent>
    <mat-label>Email</mat-label>
    <input matInput type="email" formControlName="email" autocomplete="email" />
    @if (form().hasError('email', 'email')) {
      <mat-error>Please enter a valid email</mat-error>
    }
  </mat-form-field>
</div>
