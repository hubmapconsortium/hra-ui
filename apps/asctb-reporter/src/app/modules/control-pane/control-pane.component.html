<app-sidenav>
  <div header>
    <div class="branding">
      <hra-icon [svgIcon]="'product:asctb-reporter'"></hra-icon>
      <div class="app-title">ASCT+B Reporter</div>
    </div>
    <button mat-icon-button hraIconButtonSize="large" hraIconButtonVariant="dark">
      <mat-icon>more_vert</mat-icon>
    </button>
  </div>
  <div body>
    <div class="px-3 mt-2">
      <app-legend
        [treeData]="(td$ | async) ?? []"
        [bimodalData]="bm$ | async"
        [compareData]="(cs$ | async) ?? []"
        [error]="error"
      ></app-legend>
    </div>

    <div class="px-3 mt-4">
      <app-functions
        [error]="error"
        [omaps]="(omapConfig$ | async)!"
        (updateConfig)="updateOmapConfig($event)"
      ></app-functions>
    </div>

    <div class="px-3 mt-4">
      <app-vis-controls
        [selectedOrgans]="(selectedOrgans$ | async) ?? []"
        [config]="(config$ | async)!"
        [error]="error"
        (updatedConfig)="updateConfigInSheet($event)"
        [currentSheet]="(sheet$ | async)!"
      ></app-vis-controls>
    </div>
  </div>

  <div footer>
    <button mat-stroked-button class="w-100 report mt-2" (click)="sendMail()">Contact Us</button>
  </div>
</app-sidenav>
