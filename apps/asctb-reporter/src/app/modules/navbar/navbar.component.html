<div class="toolbar-nav">
  <div class="nav-wrapper">
    <div class="nav-item">
      <app-search [disabled]="(ui$ | async)?.error?.hasError ?? false"></app-search>
    </div>

    <div class="nav-item">
      <mat-form-field class="datasets-field" subscriptSizing="dynamic" (click)="openSelectOrgansDialog()">
        <mat-label>Datasets</mat-label>
        <input matInput readonly value="{{ (mode$ | async) === 'vis' ? selectedOrgansLabel : 'Example' }}" />
        <mat-icon matSuffix>arrow_drop_down</mat-icon>
      </mat-form-field>
    </div>

    <!-- <app-nav-item
      #tooltip="matTooltip"
      matTooltip="Master Data Tables"
      matTooltipPosition="below"
      [label]="'Data Tables'"
      [matMenuTriggerFor]="nestedMenu.childMenu"
    >
      <mat-icon class="toolbar-icons">table_view</mat-icon>
      <app-table-nested-menu
        #nestedMenu
        [sheetDetails]="(configService.allSheetConfigurations$ | async) ?? []"
      ></app-table-nested-menu>
    </app-nav-item>

    <app-nav-item
      [label]="'Refresh'"
      (click)="refreshData()"
      #tooltip="matTooltip"
      matTooltip="Refresh"
      matTooltipPosition="below"
    >
      <mat-icon class="toolbar-icons">refresh</mat-icon>
    </app-nav-item>

    <app-nav-item
      [label]="(mode$ | async) === 'vis' ? 'Playground' : 'Exit Playground'"
      (click)="toggleMode()"
      #tooltip="matTooltip"
      [matTooltip]="(mode$ | async) === 'vis' ? 'Playground' : 'Exit Playground'"
      matTooltipPosition="below"
    >
      <mat-icon class="toolbar-icons">{{ (mode$ | async) === 'vis' ? 'edit' : 'exit_to_app' }}</mat-icon>
    </app-nav-item>

    <app-nav-item
      [label]="'Indented List'"
      (click)="toggleIndentedList()"
      #tooltip="matTooltip"
      matTooltip="Indented List"
      matTooltipPosition="below"
      [disabled]="(ui$ | async)?.error?.hasError ?? false"
      mat-icon-button
    >
      <mat-icon class="toolbar-icons">format_indent_increase</mat-icon>
    </app-nav-item>

    <app-nav-item
      [label]="'Compare'"
      [disabled]="(ui$ | async)?.error?.hasError ?? false"
      mat-icon-button
      (click)="toggleCompare()"
      #tooltip="matTooltip"
      matTooltip="Compare"
      matTooltipPosition="below"
      *ngIf="(mode$ | async) !== 'playground'"
    >
      <mat-icon class="toolbar-icons">compare_arrows</mat-icon>
    </app-nav-item>

    <app-nav-item
      [label]="'Report'"
      [disabled]="(ui$ | async)?.error?.hasError ?? false"
      mat-icon-button
      (click)="toggleReport()"
      #tooltip="matTooltip"
      matTooltip="Report"
      matTooltipPosition="below"
    >
      <mat-icon class="toolbar-icons">bar_chart</mat-icon>
    </app-nav-item>

    <app-nav-item
      [label]="'Debug Log'"
      (click)="toggleDebugLogs()"
      #tooltip="matTooltip"
      matTooltip="Debug Log"
      matTooltipPosition="below"
    >
      <mat-icon class="toolbar-icons">bug_report</mat-icon>
    </app-nav-item>

    <app-nav-item
      [label]="'Export'"
      [disabled]="(ui$ | async)?.error?.hasError ?? false"
      autofocus="false"
      mat-icon-button
      #tooltip="matTooltip"
      matTooltip="Export"
      matTooltipPosition="below"
      [matMenuTriggerFor]="downloadMenu"
    >
      <mat-icon class="toolbar-icons">get_app</mat-icon>
    </app-nav-item>

    <mat-menu #downloadMenu="matMenu">
      <button mat-menu-item *ngFor="let option of imgOptions" (click)="exportImage(option)">
        {{ option }}
      </button>
    </mat-menu>

    <app-nav-item
      [label]="'Menu'"
      #tooltip="matTooltip"
      matTooltip="Menu"
      matTooltipPosition="below"
      [matMenuTriggerFor]="menu"
    >
      <mat-icon class="toolbar-icons">more_vert</mat-icon>
    </app-nav-item>
    <mat-menu #menu="matMenu">
      <button mat-menu-item *ngFor="let option of moreOptions" (click)="onOptionClick(option.type, option.url)">
        {{ option.name }}
      </button>
    </mat-menu> -->
  </div>
</div>
