<div class="content" hraFeature="uploader">
  <div class="information">
    <p>
      Through this feature, you can upload your own data (ASCT+B to ASCT+B, ASCT+B to experimental data, or ASCT+B to
      OMAP) by pasting the Browser URL address for the Google sheet of your data in the fields mentioned below.
    </p>
    <p>
      In order to successfully link your sheet, make sure the sheet has public access by selecting Share -> Get link ->
      selecting "Anyone with the link" option and "Viewer" privileges, select "Done" to save.
    </p>
  </div>
  <div class="data-source-selector">
    <mat-button-toggle-group
      hraButtonToggleSize="medium"
      [hideSingleSelectionIndicator]="false"
      #dataSource="matButtonToggleGroup"
    >
      <mat-button-toggle value="file" checked hraFeature="upload-file" hraClickEvent>Upload file</mat-button-toggle>
      <mat-button-toggle value="link" hraFeature="link-url" hraClickEvent>Link URL</mat-button-toggle>
    </mat-button-toggle-group>

    <button
      mat-button
      hraButtonVariant="primary"
      hraButtonSize="medium"
      [matMenuTriggerFor]="templatesMenu"
      hraFeature="templates-menu"
      hraClickEvent
    >
      Templates
    </button>

    <mat-menu #templatesMenu="matMenu">
      <a
        mat-menu-item
        href="https://docs.google.com/spreadsheets/d/1smQ8_3F-KSRlY7bmozsoM1EonQL4ahNaXP7zeQFf3Ko/edit#gid=0"
        target="_blank"
        hraFeature="asctb-table-template"
        hraClickEvent
        >ASCT+B Table template</a
      >
      <a
        mat-menu-item
        href="https://docs.google.com/spreadsheets/d/1DE4Bh2PI7mgaMciMOky2OTduNwYNRU-DyYQPT8szJ-Y/edit#gid=0"
        target="_blank"
        hraFeature="omap-compare-template"
        hraClickEvent
        >OMAP Compare template</a
      >
    </mat-menu>
  </div>

  <div class="file-selector">
    <form [formGroup]="formGroup">
      @if (dataSource.value === 'file') {
        <app-file-upload formControlName="fileName" (fileFormDataEvent)="upload($event)"></app-file-upload>
      } @else {
        <mat-form-field class="full-width" subscriptSizing="dynamic">
          <mat-label>Google Sheet or CSV URL</mat-label>
          <input matInput formControlName="link" />
        </mat-form-field>
      }
    </form>
  </div>

  <div class="submit-button">
    <button mat-flat-button hraButtonSize="medium" (click)="submitData()" hraFeature="submit-button" hraClickEvent>
      Submit
    </button>
  </div>
</div>
