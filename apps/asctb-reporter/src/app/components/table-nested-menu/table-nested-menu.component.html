<mat-menu #childMenu="matMenu" hraFeature="asctb-table-menu">
  <div class="nested-menu">
    <ng-scrollbar>
      @for (sheet of sheetDetails; track sheet) {
        <ng-container *ngIf="sheet.version && sheet.name !== 'all'">
          <button
            class="expanded"
            hraFeature="sheet-submenu"
            [hraHoverEvent]="{ sheetDisplay: sheet.display }"
            mat-menu-item
            matRipple
            matRippleColor="#201E3D14"
            [matMenuTriggerFor]="submenu"
            (focus)="(undefined)"
          >
            <span>{{ sheet.display }}</span>
            <mat-icon class="expand-arrow">arrow_right</mat-icon>
            <mat-icon class="expand-arrow">arrow_right</mat-icon>
          </button>

          <mat-menu #submenu="matMenu">
            @for (version of sheet?.version; track version) {
              <a
                mat-menu-item
                [attr.href]="getUrl(version)"
                target="_blank"
                hraFeature="version-link"
                [hraClickEvent]="{ version: version.viewValue }"
              >
                <span>{{ version.viewValue }}</span>
              </a>
            }
          </mat-menu>
        </ng-container>
      }
    </ng-scrollbar>
  </div>
</mat-menu>
