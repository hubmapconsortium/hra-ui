<hra-metadata-layout [rows]="rows()" [columns]="columns()">
  <hra-metadata-layout-header>
    <hra-icon></hra-icon>
    <hra-page-section [tagline]="metadata().was_derived_from.title" [icons]="icons()"> </hra-page-section>
    @if (getImage()) {
      @if (imageTypes[metadata().type] === 'image/svg+xml') {
        <img [src]="getImage()" alt="Metadata Image" class="metadata-image" />
      }
      @if (imageTypes[metadata().type] === 'model/gltf-binary') {
        <div class="viewer-container">
          <model-viewer class="model-viewer" [src]="getImage()" shadow-intensity="1" camera-controls auto-rotate>
          </model-viewer>
        </div>
      }
    }
  </hra-metadata-layout-header>

  <hra-metadata-layout-content [class.mediumScreen]="!isWMediumScreen()">
    <div class="sections">
      <hra-page-section tagline="Description" [level]="2">
        <markdown [data]="metadata().was_derived_from.description" />
      </hra-page-section>
      <hra-page-section tagline="Publisher" [level]="2">
        <markdown [data]="metadata().was_derived_from.publisher" />
      </hra-page-section>
      <hra-page-section tagline="Funder" [level]="2">
        <ul>
          @for (funder of metadata().was_derived_from.funders; track funder) {
            <li>{{`${funder.funder} (Award number ${funder.awardNumber})`}}</li>
          }
        </ul>
      </hra-page-section>
      <hra-page-section tagline="License" [level]="2">
        <markdown [data]="metadata().license" />
      </hra-page-section>
      <!-- <hra-page-section tagline="Tags" [level]="2">
        @for (funder of metadata().tags; track $index) {
          <markdown [data]="metadata().tags[$index]" />
        }
      </hra-page-section> -->
    </div>
    <hra-table class="metadata-table" [rows]="rows()" [columns]="columns()" [verticalDividers]="true" />
  </hra-metadata-layout-content>
</hra-metadata-layout>
