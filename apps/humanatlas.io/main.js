(self.webpackChunkhumanatlas_io=self.webpackChunkhumanatlas_io||[]).push([[792],{262:function(Y_,y0){var th,ke;th=function pp(){var nl,bn=typeof self<"u"?self:typeof window<"u"?window:void 0!==bn?bn:{},Oc=!bn.document&&!!bn.postMessage,mr=bn.IS_PAPA_WORKER||!1,qt={},X_=0,on={};function Nl(ne){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(re){var Ce=Bc(re);Ce.chunkSize=parseInt(Ce.chunkSize),re.step||re.chunk||(Ce.chunkSize=null),this._handle=new K_(Ce),(this._handle.streamer=this)._config=Ce}.call(this,ne),this.parseChunk=function(re,Ce){var gt=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<gt){let Dn=this._config.newline;Dn||(Dn=this._handle.guessLineEndings(re,ft=this._config.quoteChar||'"')),re=[...re.split(Dn).slice(gt)].join(Dn)}this.isFirstChunk&&xi(this._config.beforeFirstChunk)&&void 0!==(ft=this._config.beforeFirstChunk(re))&&(re=ft),this.isFirstChunk=!1,this._halted=!1,gt=this._partialLine+re;var ft=(this._partialLine="",this._handle.parse(gt,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(re=ft.meta.cursor,this._finished||(this._partialLine=gt.substring(re-this._baseIndex),this._baseIndex=re),ft&&ft.data&&(this._rowCount+=ft.data.length),gt=this._finished||this._config.preview&&this._rowCount>=this._config.preview,mr)bn.postMessage({results:ft,workerId:on.WORKER_ID,finished:gt});else if(xi(this._config.chunk)&&!Ce){if(this._config.chunk(ft,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=ft=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ft.data),this._completeResults.errors=this._completeResults.errors.concat(ft.errors),this._completeResults.meta=ft.meta),this._completed||!gt||!xi(this._config.complete)||ft&&ft.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),gt||ft&&ft.meta.paused||this._nextChunk(),ft}this._halted=!0},this._sendError=function(re){xi(this._config.error)?this._config.error(re):mr&&this._config.error&&bn.postMessage({workerId:on.WORKER_ID,error:re,finished:!1})}}function Pa(ne){var re;(ne=ne||{}).chunkSize||(ne.chunkSize=on.RemoteChunkSize),Nl.call(this,ne),this._nextChunk=Oc?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Ce){this._input=Ce,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(re=new XMLHttpRequest,this._config.withCredentials&&(re.withCredentials=this._config.withCredentials),Oc||(re.onload=Wo(this._chunkLoaded,this),re.onerror=Wo(this._chunkError,this)),re.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Oc),this._config.downloadRequestHeaders){var Ce,gt=this._config.downloadRequestHeaders;for(Ce in gt)re.setRequestHeader(Ce,gt[Ce])}this._config.chunkSize&&re.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{re.send(this._config.downloadRequestBody)}catch(Dn){this._chunkError(Dn.message)}Oc&&0===re.status&&this._chunkError()}},this._chunkLoaded=function(){var Ce;4===re.readyState&&(re.status<200||400<=re.status?this._chunkError():(this._start+=this._config.chunkSize||re.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null!==(Ce=(Ce=re).getResponseHeader("Content-Range"))?parseInt(Ce.substring(Ce.lastIndexOf("/")+1)):-1),this.parseChunk(re.responseText)))},this._chunkError=function(Ce){Ce=re.statusText||Ce,this._sendError(new Error(Ce))}}function il(ne){(ne=ne||{}).chunkSize||(ne.chunkSize=on.LocalChunkSize),Nl.call(this,ne);var re,Ce,gt=typeof FileReader<"u";this.stream=function(ft){this._input=ft,Ce=ft.slice||ft.webkitSlice||ft.mozSlice,gt?((re=new FileReader).onload=Wo(this._chunkLoaded,this),re.onerror=Wo(this._chunkError,this)):re=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ft=this._input,Dn=(this._config.chunkSize&&(Dn=Math.min(this._start+this._config.chunkSize,this._input.size),ft=Ce.call(ft,this._start,Dn)),re.readAsText(ft,this._config.encoding));gt||this._chunkLoaded({target:{result:Dn}})},this._chunkLoaded=function(ft){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ft.target.result)},this._chunkError=function(){this._sendError(re.error)}}function ih(ne){var re;Nl.call(this,ne=ne||{}),this.stream=function(Ce){return re=Ce,this._nextChunk()},this._nextChunk=function(){var Ce,gt;if(!this._finished)return re=(Ce=this._config.chunkSize)?(gt=re.substring(0,Ce),re.substring(Ce)):(gt=re,""),this._finished=!re,this.parseChunk(gt)}}function Bl(ne){Nl.call(this,ne=ne||{});var re=[],Ce=!0,gt=!1;this.pause=function(){Nl.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Nl.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ft){this._input=ft,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){gt&&1===re.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),re.length?this.parseChunk(re.shift()):Ce=!0},this._streamData=Wo(function(ft){try{re.push("string"==typeof ft?ft:ft.toString(this._config.encoding)),Ce&&(Ce=!1,this._checkIsFinished(),this.parseChunk(re.shift()))}catch(Dn){this._streamError(Dn)}},this),this._streamError=Wo(function(ft){this._streamCleanUp(),this._sendError(ft)},this),this._streamEnd=Wo(function(){this._streamCleanUp(),gt=!0,this._streamData("")},this),this._streamCleanUp=Wo(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function K_(ne){var re,Ce,gt,ft,Dn=Math.pow(2,53),Pi=-Dn,as=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Br=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Pn=this,rr=0,Jt=0,ls=!1,mn=!1,En=[],Dt={data:[],errors:[],meta:{}};function Xr(Un){return"greedy"===ne.skipEmptyLines?""===Un.join("").trim():1===Un.length&&0===Un[0].length}function Lr(){if(Dt&&gt&&(po("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+on.DefaultDelimiter+"'"),gt=!1),ne.skipEmptyLines&&(Dt.data=Dt.data.filter(function(Bi){return!Xr(Bi)})),Ir()){let Bi=function(Kr,Li){xi(ne.transformHeader)&&(Kr=ne.transformHeader(Kr,Li)),En.push(Kr)};if(Dt)if(Array.isArray(Dt.data[0])){for(var Un=0;Ir()&&Un<Dt.data.length;Un++)Dt.data[Un].forEach(Bi);Dt.data.splice(0,1)}else Dt.data.forEach(Bi)}function Hn(Bi,Kr){for(var Li=ne.header?{}:[],fi=0;fi<Bi.length;fi++){var An=fi,ws=Bi[fi];oi=An=ne.header?fi>=En.length?"__parsed_extra":En[fi]:An,Et=ws=ne.transform?ne.transform(ws,An):ws,void 0,gr=oi,ne.dynamicTypingFunction&&void 0===ne.dynamicTyping[gr]&&(ne.dynamicTyping[gr]=ne.dynamicTypingFunction(gr)),ws=!0===(ne.dynamicTyping[gr]||ne.dynamicTyping)?"true"===Et||"TRUE"===Et||"false"!==Et&&"FALSE"!==Et&&((gr=>{if(as.test(gr)&&(gr=parseFloat(gr),Pi<gr&&gr<Dn))return 1})(Et)?parseFloat(Et):Br.test(Et)?new Date(Et):""===Et?null:Et):Et,"__parsed_extra"===An?(Li[An]=Li[An]||[],Li[An].push(ws)):Li[An]=ws}var oi,Et,gr;return ne.header&&(fi>En.length?po("FieldMismatch","TooManyFields","Too many fields: expected "+En.length+" fields but parsed "+fi,Jt+Kr):fi<En.length&&po("FieldMismatch","TooFewFields","Too few fields: expected "+En.length+" fields but parsed "+fi,Jt+Kr)),Li}var sr;Dt&&(ne.header||ne.dynamicTyping||ne.transform)&&(sr=1,!Dt.data.length||Array.isArray(Dt.data[0])?(Dt.data=Dt.data.map(Hn),sr=Dt.data.length):Dt.data=Hn(Dt.data,0),ne.header&&Dt.meta&&(Dt.meta.fields=En),Jt+=sr)}function Ir(){return ne.header&&0===En.length}function po(Un,Hn,sr,Mn){Un={type:Un,code:Hn,message:sr},void 0!==Mn&&(Un.row=Mn),Dt.errors.push(Un)}xi(ne.step)&&(ft=ne.step,ne.step=function(Un){Dt=Un,Ir()?Lr():(Lr(),0!==Dt.data.length&&(rr+=Un.data.length,ne.preview&&rr>ne.preview?Ce.abort():(Dt.data=Dt.data[0],ft(Dt,Pn))))}),this.parse=function(Un,Hn,sr){var Mn=ne.quoteChar||'"';return ne.newline||(ne.newline=this.guessLineEndings(Un,Mn)),gt=!1,ne.delimiter?xi(ne.delimiter)&&(ne.delimiter=ne.delimiter(Un),Dt.meta.delimiter=ne.delimiter):((Mn=((Bi,Kr,Li,fi,An)=>{var ws,oi,Et,gr;An=An||[",","\t","|",";",on.RECORD_SEP,on.UNIT_SEP];for(var Ul=0;Ul<An.length;Ul++){for(var mo,gn=An[Ul],cs=0,ha=0,Ur=0,Tr=(Et=void 0,new mp({comments:fi,delimiter:gn,newline:Kr,preview:10}).parse(Bi)),qo=0;qo<Tr.data.length;qo++)Li&&Xr(Tr.data[qo])?Ur++:(ha+=mo=Tr.data[qo].length,void 0===Et?Et=mo:0<mo&&(cs+=Math.abs(mo-Et),Et=mo));0<Tr.data.length&&(ha/=Tr.data.length-Ur),(void 0===oi||cs<=oi)&&(void 0===gr||gr<ha)&&1.99<ha&&(oi=cs,ws=gn,gr=ha)}return{successful:!!(ne.delimiter=ws),bestDelimiter:ws}})(Un,ne.newline,ne.skipEmptyLines,ne.comments,ne.delimitersToGuess)).successful?ne.delimiter=Mn.bestDelimiter:(gt=!0,ne.delimiter=on.DefaultDelimiter),Dt.meta.delimiter=ne.delimiter),Mn=Bc(ne),ne.preview&&ne.header&&Mn.preview++,re=Un,Ce=new mp(Mn),Dt=Ce.parse(re,Hn,sr),Lr(),ls?{meta:{paused:!0}}:Dt||{meta:{paused:!1}}},this.paused=function(){return ls},this.pause=function(){ls=!0,Ce.abort(),re=xi(ne.chunk)?"":re.substring(Ce.getCharIndex())},this.resume=function(){Pn.streamer._halted?(ls=!1,Pn.streamer.parseChunk(re,!0)):setTimeout(Pn.resume,3)},this.aborted=function(){return mn},this.abort=function(){mn=!0,Ce.abort(),Dt.meta.aborted=!0,xi(ne.complete)&&ne.complete(Dt),re=""},this.guessLineEndings=function(Bi,Mn){Bi=Bi.substring(0,1048576),Mn=new RegExp(Gd(Mn)+"([^]*?)"+Gd(Mn),"gm");var sr=(Bi=Bi.replace(Mn,"")).split("\r");if(Bi=1<(Mn=Bi.split("\n")).length&&Mn[0].length<sr[0].length,1===sr.length||Bi)return"\n";for(var Kr=0,Li=0;Li<sr.length;Li++)"\n"===sr[Li][0]&&Kr++;return Kr>=sr.length/2?"\r\n":"\r"}}function Gd(ne){return ne.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mp(ne){var re=(ne=ne||{}).delimiter,Ce=ne.newline,gt=ne.comments,ft=ne.step,Dn=ne.preview,Pi=ne.fastMode,as=null,Br=!1,Pn=null==ne.quoteChar?'"':ne.quoteChar,rr=Pn;if(void 0!==ne.escapeChar&&(rr=ne.escapeChar),("string"!=typeof re||-1<on.BAD_DELIMITERS.indexOf(re))&&(re=","),gt===re)throw new Error("Comment character same as delimiter");!0===gt?gt="#":("string"!=typeof gt||-1<on.BAD_DELIMITERS.indexOf(gt))&&(gt=!1),"\n"!==Ce&&"\r"!==Ce&&"\r\n"!==Ce&&(Ce="\n");var Jt=0,ls=!1;this.parse=function(mn,En,Dt){if("string"!=typeof mn)throw new Error("Input must be a string");var Xr=mn.length,Lr=re.length,Ir=Ce.length,po=gt.length,Un=xi(ft),Hn=[],sr=[],Mn=[],Bi=Jt=0;if(!mn)return cs();if(Pi||!1!==Pi&&-1===mn.indexOf(Pn)){for(var Kr=mn.split(Ce),Li=0;Li<Kr.length;Li++){if(Jt+=(Mn=Kr[Li]).length,Li!==Kr.length-1)Jt+=Ce.length;else if(Dt)return cs();if(!gt||Mn.substring(0,po)!==gt){if(Un){if(Hn=[],gr(Mn.split(re)),ha(),ls)return cs()}else gr(Mn.split(re));if(Dn&&Dn<=Li)return Hn=Hn.slice(0,Dn),cs(!0)}}return cs()}for(var fi=mn.indexOf(re,Jt),An=mn.indexOf(Ce,Jt),ws=new RegExp(Gd(rr)+Gd(Pn),"g"),oi=mn.indexOf(Pn,Jt);;)if(mn[Jt]===Pn)for(oi=Jt,Jt++;;){if(-1===(oi=mn.indexOf(Pn,oi+1)))return Dt||sr.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Hn.length,index:Jt}),mo();if(oi===Xr-1)return mo(mn.substring(Jt,oi).replace(ws,Pn));if(Pn===rr&&mn[oi+1]===rr)oi++;else if(Pn===rr||0===oi||mn[oi-1]!==rr){-1!==fi&&fi<oi+1&&(fi=mn.indexOf(re,oi+1));var Et=Ul(-1===(An=-1!==An&&An<oi+1?mn.indexOf(Ce,oi+1):An)?fi:Math.min(fi,An));if(mn.substr(oi+1+Et,Lr)===re){Mn.push(mn.substring(Jt,oi).replace(ws,Pn)),mn[Jt=oi+1+Et+Lr]!==Pn&&(oi=mn.indexOf(Pn,Jt)),fi=mn.indexOf(re,Jt),An=mn.indexOf(Ce,Jt);break}if(Et=Ul(An),mn.substring(oi+1+Et,oi+1+Et+Ir)===Ce){if(Mn.push(mn.substring(Jt,oi).replace(ws,Pn)),gn(oi+1+Et+Ir),fi=mn.indexOf(re,Jt),oi=mn.indexOf(Pn,Jt),Un&&(ha(),ls))return cs();if(Dn&&Hn.length>=Dn)return cs(!0);break}sr.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Hn.length,index:Jt}),oi++}}else if(gt&&0===Mn.length&&mn.substring(Jt,Jt+po)===gt){if(-1===An)return cs();An=mn.indexOf(Ce,Jt=An+Ir),fi=mn.indexOf(re,Jt)}else if(-1!==fi&&(fi<An||-1===An))Mn.push(mn.substring(Jt,fi)),fi=mn.indexOf(re,Jt=fi+Lr);else{if(-1===An)break;if(Mn.push(mn.substring(Jt,An)),gn(An+Ir),Un&&(ha(),ls))return cs();if(Dn&&Hn.length>=Dn)return cs(!0)}return mo();function gr(Ur){Hn.push(Ur),Bi=Jt}function Ul(Ur){return-1!==Ur&&(Ur=mn.substring(oi+1,Ur))&&""===Ur.trim()?Ur.length:0}function mo(Ur){return Dt||(void 0===Ur&&(Ur=mn.substring(Jt)),Mn.push(Ur),Jt=Xr,gr(Mn),Un&&ha()),cs()}function gn(Ur){Jt=Ur,gr(Mn),Mn=[],An=mn.indexOf(Ce,Jt)}function cs(Ur){if(ne.header&&!En&&Hn.length&&!Br){var Tr=Hn[0],qo={},_p=new Set(Tr);let rh=!1;for(let $d=0;$d<Tr.length;$d++){let Fa=Tr[$d];if(qo[Fa=xi(ne.transformHeader)?ne.transformHeader(Fa,$d):Fa]){let sh,yp=qo[Fa];for(;sh=Fa+"_"+yp,yp++,_p.has(sh););_p.add(sh),Tr[$d]=sh,qo[Fa]++,rh=!0,(as=null===as?{}:as)[sh]=Fa}else qo[Fa]=1,Tr[$d]=Fa;_p.add(Fa)}rh&&console.warn("Duplicate headers found and renamed."),Br=!0}return{data:Hn,errors:sr,meta:{delimiter:re,linebreak:Ce,aborted:ls,truncated:!!Ur,cursor:Bi+(En||0),renamedHeaders:as}}}function ha(){ft(cs()),Hn=[],sr=[]}},this.abort=function(){ls=!0},this.getCharIndex=function(){return Jt}}function gp(ne){var re=ne.data,Ce=qt[re.workerId],gt=!1;if(re.error)Ce.userError(re.error,re.file);else if(re.results&&re.results.data){var ft={abort:function(){gt=!0,Ll(re.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:Nc,resume:Nc};if(xi(Ce.userStep)){for(var Dn=0;Dn<re.results.data.length&&(Ce.userStep({data:re.results.data[Dn],errors:re.results.errors,meta:re.results.meta},ft),!gt);Dn++);delete re.results}else xi(Ce.userChunk)&&(Ce.userChunk(re.results,ft,re.file),delete re.results)}re.finished&&!gt&&Ll(re.workerId,re.results)}function Ll(ne,re){var Ce=qt[ne];xi(Ce.userComplete)&&Ce.userComplete(re),Ce.terminate(),delete qt[ne]}function Nc(){throw new Error("Not implemented.")}function Bc(ne){if("object"!=typeof ne||null===ne)return ne;var re,Ce=Array.isArray(ne)?[]:{};for(re in ne)Ce[re]=Bc(ne[re]);return Ce}function Wo(ne,re){return function(){ne.apply(re,arguments)}}function xi(ne){return"function"==typeof ne}return on.parse=function(ne,re){var gt,Ce=(re=re||{}).dynamicTyping||!1;if(xi(Ce)&&(re.dynamicTypingFunction=Ce,Ce={}),re.dynamicTyping=Ce,re.transform=!!xi(re.transform)&&re.transform,!re.worker||!on.WORKERS_SUPPORTED)return Ce=null,"string"==typeof ne?(ne=65279!==(gt=ne).charCodeAt(0)?gt:gt.slice(1),Ce=new(re.download?Pa:ih)(re)):!0===ne.readable&&xi(ne.read)&&xi(ne.on)?Ce=new Bl(re):(bn.File&&ne instanceof File||ne instanceof Object)&&(Ce=new il(re)),Ce.stream(ne);(Ce=(()=>{var gt,ft,Dn;return!!on.WORKERS_SUPPORTED&&(ft=bn.URL||bn.webkitURL||null,Dn=pp.toString(),gt=on.BLOB_URL||(on.BLOB_URL=ft.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Dn,")();"],{type:"text/javascript"}))),(gt=new bn.Worker(gt)).onmessage=gp,gt.id=X_++,qt[gt.id]=gt)})()).userStep=re.step,Ce.userChunk=re.chunk,Ce.userComplete=re.complete,Ce.userError=re.error,re.step=xi(re.step),re.chunk=xi(re.chunk),re.complete=xi(re.complete),re.error=xi(re.error),delete re.worker,Ce.postMessage({input:ne,config:re,workerId:Ce.id})},on.unparse=function(ne,re){var Ce=!1,gt=!0,ft=",",Dn="\r\n",Pi='"',as=Pi+Pi,Br=!1,Pn=null,rr=!1,Jt=((()=>{if("object"==typeof re){if("string"!=typeof re.delimiter||on.BAD_DELIMITERS.filter(function(En){return-1!==re.delimiter.indexOf(En)}).length||(ft=re.delimiter),"boolean"!=typeof re.quotes&&"function"!=typeof re.quotes&&!Array.isArray(re.quotes)||(Ce=re.quotes),"boolean"!=typeof re.skipEmptyLines&&"string"!=typeof re.skipEmptyLines||(Br=re.skipEmptyLines),"string"==typeof re.newline&&(Dn=re.newline),"string"==typeof re.quoteChar&&(Pi=re.quoteChar),"boolean"==typeof re.header&&(gt=re.header),Array.isArray(re.columns)){if(0===re.columns.length)throw new Error("Option columns is empty");Pn=re.columns}void 0!==re.escapeChar&&(as=re.escapeChar+Pi),re.escapeFormulae instanceof RegExp?rr=re.escapeFormulae:"boolean"==typeof re.escapeFormulae&&re.escapeFormulae&&(rr=/^[=+\-@\t\r].*$/)}})(),new RegExp(Gd(Pi),"g"));if("string"==typeof ne&&(ne=JSON.parse(ne)),Array.isArray(ne)){if(!ne.length||Array.isArray(ne[0]))return ls(null,ne,Br);if("object"==typeof ne[0])return ls(Pn||Object.keys(ne[0]),ne,Br)}else if("object"==typeof ne)return"string"==typeof ne.data&&(ne.data=JSON.parse(ne.data)),Array.isArray(ne.data)&&(ne.fields||(ne.fields=ne.meta&&ne.meta.fields||Pn),ne.fields||(ne.fields=Array.isArray(ne.data[0])?ne.fields:"object"==typeof ne.data[0]?Object.keys(ne.data[0]):[]),Array.isArray(ne.data[0])||"object"==typeof ne.data[0]||(ne.data=[ne.data])),ls(ne.fields||[],ne.data||[],Br);throw new Error("Unable to serialize unrecognized input");function ls(En,Dt,Xr){var Lr="",Ir=("string"==typeof En&&(En=JSON.parse(En)),"string"==typeof Dt&&(Dt=JSON.parse(Dt)),Array.isArray(En)&&0<En.length),po=!Array.isArray(Dt[0]);if(Ir&&gt){for(var Un=0;Un<En.length;Un++)0<Un&&(Lr+=ft),Lr+=mn(En[Un],Un);0<Dt.length&&(Lr+=Dn)}for(var Hn=0;Hn<Dt.length;Hn++){var sr=(Ir?En:Dt[Hn]).length,Mn=!1,Bi=Ir?0===Object.keys(Dt[Hn]).length:0===Dt[Hn].length;if(Xr&&!Ir&&(Mn="greedy"===Xr?""===Dt[Hn].join("").trim():1===Dt[Hn].length&&0===Dt[Hn][0].length),"greedy"===Xr&&Ir){for(var Kr=[],Li=0;Li<sr;Li++)Kr.push(Dt[Hn][po?En[Li]:Li]);Mn=""===Kr.join("").trim()}if(!Mn){for(var An=0;An<sr;An++)0<An&&!Bi&&(Lr+=ft),Lr+=mn(Dt[Hn][Ir&&po?En[An]:An],An);Hn<Dt.length-1&&(!Xr||0<sr&&!Bi)&&(Lr+=Dn)}}return Lr}function mn(En,Dt){var Xr,Lr;return null==En?"":En.constructor===Date?JSON.stringify(En).slice(1,25):(Lr=!1,rr&&"string"==typeof En&&rr.test(En)&&(En="'"+En,Lr=!0),Xr=En.toString().replace(Jt,as),(Lr=Lr||!0===Ce||"function"==typeof Ce&&Ce(En,Dt)||Array.isArray(Ce)&&Ce[Dt]||((Ir,po)=>{for(var Un=0;Un<po.length;Un++)if(-1<Ir.indexOf(po[Un]))return!0;return!1})(Xr,on.BAD_DELIMITERS)||-1<Xr.indexOf(ft)||" "===Xr.charAt(0)||" "===Xr.charAt(Xr.length-1))?Pi+Xr+Pi:Xr)}},on.RECORD_SEP="\x1e",on.UNIT_SEP="\x1f",on.BYTE_ORDER_MARK="\ufeff",on.BAD_DELIMITERS=["\r","\n",'"',on.BYTE_ORDER_MARK],on.WORKERS_SUPPORTED=!Oc&&!!bn.Worker,on.NODE_STREAM_INPUT=1,on.LocalChunkSize=10485760,on.RemoteChunkSize=5242880,on.DefaultDelimiter=",",on.Parser=mp,on.ParserHandle=K_,on.NetworkStreamer=Pa,on.FileStreamer=il,on.StringStreamer=ih,on.ReadableStreamStreamer=Bl,bn.jQuery&&((nl=bn.jQuery).fn.parse=function(ne){var re=ne.config||{},Ce=[];return this.each(function(Dn){if("INPUT"!==nl(this).prop("tagName").toUpperCase()||"file"!==nl(this).attr("type").toLowerCase()||!bn.FileReader||!this.files||0===this.files.length)return!0;for(var Pi=0;Pi<this.files.length;Pi++)Ce.push({file:this.files[Pi],inputElem:this,instanceConfig:nl.extend({},re)})}),gt(),this;function gt(){if(0===Ce.length)xi(ne.complete)&&ne.complete();else{var Pi,as,Br,Pn=Ce[0];if(xi(ne.before)){var rr=ne.before(Pn.file,Pn.inputElem);if("object"==typeof rr){if("abort"===rr.action)return Pi=Pn.file,as=Pn.inputElem,Br=rr.reason,void(xi(ne.error)&&ne.error({name:"AbortError"},Pi,as,Br));if("skip"===rr.action)return void ft();"object"==typeof rr.config&&(Pn.instanceConfig=nl.extend(Pn.instanceConfig,rr.config))}else if("skip"===rr)return void ft()}var Jt=Pn.instanceConfig.complete;Pn.instanceConfig.complete=function(ls){xi(Jt)&&Jt(ls,Pn.file,Pn.inputElem),ft()},on.parse(Pn.file,Pn.instanceConfig)}}function ft(){Ce.splice(0,1),gt()}}),mr&&(bn.onmessage=function(ne){ne=ne.data,void 0===on.WORKER_ID&&ne&&(on.WORKER_ID=ne.workerId),"string"==typeof ne.input?bn.postMessage({workerId:on.WORKER_ID,results:on.parse(ne.input,ne.config),finished:!0}):(bn.File&&ne.input instanceof File||ne.input instanceof Object)&&(ne=on.parse(ne.input,ne.config))&&bn.postMessage({workerId:on.WORKER_ID,results:ne,finished:!0})}),(Pa.prototype=Object.create(Nl.prototype)).constructor=Pa,(il.prototype=Object.create(Nl.prototype)).constructor=il,(ih.prototype=Object.create(ih.prototype)).constructor=ih,(Bl.prototype=Object.create(Nl.prototype)).constructor=Bl,on},void 0!==(ke=th.apply(y0,[]))&&(Y_.exports=ke)},908:(Y_,y0,th)=>{"use strict";function nh(r,n,i,s,a,l,c){try{var d=r[l](c),u=d.value}catch(h){return void i(h)}d.done?n(u):Promise.resolve(u).then(s,a)}function ke(r){return function(){var n=this,i=arguments;return new Promise(function(s,a){var l=r.apply(n,i);function c(u){nh(l,s,a,c,d,"next",u)}function d(u){nh(l,s,a,c,d,"throw",u)}c(void 0)})}}function pp(r,n){return Object.is(r,n)}let bn=null,nl=!1,Oc=1;const mr=Symbol("SIGNAL");function qt(r){const n=bn;return bn=r,n}const Pa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function il(r){if(nl)throw new Error("");if(null===bn)return;bn.consumerOnSignalRead(r);const n=bn.nextProducerIndex++;Ce(bn),n<bn.producerNode.length&&bn.producerNode[n]!==r&&re(bn)&&ne(bn.producerNode[n],bn.producerIndexOfThis[n]),bn.producerNode[n]!==r&&(bn.producerNode[n]=r,bn.producerIndexOfThis[n]=re(bn)?xi(r,bn,n):0),bn.producerLastReadVersion[n]=r.version}function Bl(r){if((!re(r)||r.dirty)&&(r.dirty||r.lastCleanEpoch!==Oc)){if(!r.producerMustRecompute(r)&&!Bc(r))return void gp(r);r.producerRecomputeValue(r),gp(r)}}function K_(r){if(void 0===r.liveConsumerNode)return;const n=nl;nl=!0;try{for(const i of r.liveConsumerNode)i.dirty||mp(i)}finally{nl=n}}function Gd(){return!1!==bn?.consumerAllowSignalWrites}function mp(r){r.dirty=!0,K_(r),r.consumerMarkedDirty?.(r)}function gp(r){r.dirty=!1,r.lastCleanEpoch=Oc}function Ll(r){return r&&(r.nextProducerIndex=0),qt(r)}function Nc(r,n){if(qt(n),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(re(r))for(let i=r.nextProducerIndex;i<r.producerNode.length;i++)ne(r.producerNode[i],r.producerIndexOfThis[i]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Bc(r){Ce(r);for(let n=0;n<r.producerNode.length;n++){const i=r.producerNode[n],s=r.producerLastReadVersion[n];if(s!==i.version||(Bl(i),s!==i.version))return!0}return!1}function Wo(r){if(Ce(r),re(r))for(let n=0;n<r.producerNode.length;n++)ne(r.producerNode[n],r.producerIndexOfThis[n]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function xi(r,n,i){if(gt(r),0===r.liveConsumerNode.length&&ft(r))for(let s=0;s<r.producerNode.length;s++)r.producerIndexOfThis[s]=xi(r.producerNode[s],r,s);return r.liveConsumerIndexOfThis.push(i),r.liveConsumerNode.push(n)-1}function ne(r,n){if(gt(r),1===r.liveConsumerNode.length&&ft(r))for(let s=0;s<r.producerNode.length;s++)ne(r.producerNode[s],r.producerIndexOfThis[s]);const i=r.liveConsumerNode.length-1;if(r.liveConsumerNode[n]=r.liveConsumerNode[i],r.liveConsumerIndexOfThis[n]=r.liveConsumerIndexOfThis[i],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,n<r.liveConsumerNode.length){const s=r.liveConsumerIndexOfThis[n],a=r.liveConsumerNode[n];Ce(a),a.producerIndexOfThis[s]=n}}function re(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ce(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}function gt(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}function ft(r){return void 0!==r.producerNode}const Pi=Symbol("UNSET"),as=Symbol("COMPUTING"),Br=Symbol("ERRORED"),Pn={...Pa,value:Pi,dirty:!0,error:null,equal:pp,kind:"computed",producerMustRecompute:r=>r.value===Pi||r.value===as,producerRecomputeValue(r){if(r.value===as)throw new Error("Detected cycle in computations.");const n=r.value;r.value=as;const i=Ll(r);let s,a=!1;try{s=r.computation(),qt(null),a=n!==Pi&&n!==Br&&s!==Br&&r.equal(n,s)}catch(l){s=Br,r.error=l}finally{Nc(r,i)}a?r.value=n:(r.value=s,r.version++)}};let Jt=function rr(){throw new Error};function ls(r){Jt(r)}function Ir(r,n){Gd()||ls(r),r.equal(r.value,n)||(r.value=n,function sr(r){r.version++,function ih(){Oc++}(),K_(r)}(r))}const Hn={...Pa,equal:pp,value:void 0,kind:"signal"};const An=()=>{};function Et(r){return"function"==typeof r}function gr(r){const i=r(s=>{Error.call(s),s.stack=(new Error).stack});return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,i}const Ul=gr(r=>function(i){r(this),this.message=i?`${i.length} errors occurred during unsubscription:\n${i.map((s,a)=>`${a+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=i});function mo(r,n){if(r){const i=r.indexOf(n);0<=i&&r.splice(i,1)}}class gn{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:i}=this;if(i)if(this._parentage=null,Array.isArray(i))for(const l of i)l.remove(this);else i.remove(this);const{initialTeardown:s}=this;if(Et(s))try{s()}catch(l){n=l instanceof Ul?l.errors:[l]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const l of a)try{Ur(l)}catch(c){n=n??[],c instanceof Ul?n=[...n,...c.errors]:n.push(c)}}if(n)throw new Ul(n)}}add(n){var i;if(n&&n!==this)if(this.closed)Ur(n);else{if(n instanceof gn){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(n)}}_hasParent(n){const{_parentage:i}=this;return i===n||Array.isArray(i)&&i.includes(n)}_addParent(n){const{_parentage:i}=this;this._parentage=Array.isArray(i)?(i.push(n),i):i?[i,n]:n}_removeParent(n){const{_parentage:i}=this;i===n?this._parentage=null:Array.isArray(i)&&mo(i,n)}remove(n){const{_finalizers:i}=this;i&&mo(i,n),n instanceof gn&&n._removeParent(this)}}gn.EMPTY=(()=>{const r=new gn;return r.closed=!0,r})();const cs=gn.EMPTY;function ha(r){return r instanceof gn||r&&"closed"in r&&Et(r.remove)&&Et(r.add)&&Et(r.unsubscribe)}function Ur(r){Et(r)?r():r.unsubscribe()}const Tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qo={setTimeout(r,n,...i){const{delegate:s}=qo;return s?.setTimeout?s.setTimeout(r,n,...i):setTimeout(r,n,...i)},clearTimeout(r){const{delegate:n}=qo;return(n?.clearTimeout||clearTimeout)(r)},delegate:void 0};function _p(r){qo.setTimeout(()=>{const{onUnhandledError:n}=Tr;if(!n)throw r;n(r)})}function rh(){}const $d=yp("C",void 0,void 0);function yp(r,n,i){return{kind:r,value:n,error:i}}let oh=null;function v0(r){if(Tr.useDeprecatedSynchronousErrorHandling){const n=!oh;if(n&&(oh={errorThrown:!1,error:null}),r(),n){const{errorThrown:i,error:s}=oh;if(oh=null,i)throw s}}else r()}class WI extends gn{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ha(n)&&n.add(this)):this.destination=Nre}static create(n,i,s){return new Z_(n,i,s)}next(n){this.isStopped?YI(function sh(r){return yp("N",r,void 0)}(n),this):this._next(n)}error(n){this.isStopped?YI(function Fa(r){return yp("E",void 0,r)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?YI($d,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pre=Function.prototype.bind;function qI(r,n){return Pre.call(r,n)}class Fre{constructor(n){this.partialObserver=n}next(n){const{partialObserver:i}=this;if(i.next)try{i.next(n)}catch(s){b0(s)}}error(n){const{partialObserver:i}=this;if(i.error)try{i.error(n)}catch(s){b0(s)}else b0(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(i){b0(i)}}}class Z_ extends WI{constructor(n,i,s){let a;if(super(),Et(n)||!n)a={next:n??void 0,error:i??void 0,complete:s??void 0};else{let l;this&&Tr.useDeprecatedNextContext?(l=Object.create(n),l.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&qI(n.next,l),error:n.error&&qI(n.error,l),complete:n.complete&&qI(n.complete,l)}):a=n}this.destination=new Fre(a)}}function b0(r){Tr.useDeprecatedSynchronousErrorHandling?function kre(r){Tr.useDeprecatedSynchronousErrorHandling&&oh&&(oh.errorThrown=!0,oh.error=r)}(r):_p(r)}function YI(r,n){const{onStoppedNotification:i}=Tr;i&&qo.setTimeout(()=>i(r,n))}const Nre={closed:!0,next:rh,error:function Ore(r){throw r},complete:rh},XI="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qd(r){return r}function Q3(r){return 0===r.length?Qd:1===r.length?r[0]:function(i){return r.reduce((s,a)=>a(s),i)}}let pi=(()=>{class r{constructor(i){i&&(this._subscribe=i)}lift(i){const s=new r;return s.source=this,s.operator=i,s}subscribe(i,s,a){const l=function Ure(r){return r&&r instanceof WI||function Lre(r){return r&&Et(r.next)&&Et(r.error)&&Et(r.complete)}(r)&&ha(r)}(i)?i:new Z_(i,s,a);return v0(()=>{const{operator:c,source:d}=this;l.add(c?c.call(l,d):d?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(i){try{return this._subscribe(i)}catch(s){i.error(s)}}forEach(i,s){return new(s=j3(s))((a,l)=>{const c=new Z_({next:d=>{try{i(d)}catch(u){l(u),c.unsubscribe()}},error:l,complete:a});this.subscribe(c)})}_subscribe(i){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(i)}[XI](){return this}pipe(...i){return Q3(i)(this)}toPromise(i){return new(i=j3(i))((s,a)=>{let l;this.subscribe(c=>l=c,c=>a(c),()=>s(l))})}}return r.create=n=>new r(n),r})();function j3(r){var n;return null!==(n=r??Tr.Promise)&&void 0!==n?n:Promise}const zre=gr(r=>function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Qe=(()=>{class r extends pi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(i){const s=new W3(this,this);return s.operator=i,s}_throwIfClosed(){if(this.closed)throw new zre}next(i){v0(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(i)}})}error(i){v0(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=i;const{observers:s}=this;for(;s.length;)s.shift().error(i)}})}complete(){v0(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:i}=this;for(;i.length;)i.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var i;return(null===(i=this.observers)||void 0===i?void 0:i.length)>0}_trySubscribe(i){return this._throwIfClosed(),super._trySubscribe(i)}_subscribe(i){return this._throwIfClosed(),this._checkFinalizedStatuses(i),this._innerSubscribe(i)}_innerSubscribe(i){const{hasError:s,isStopped:a,observers:l}=this;return s||a?cs:(this.currentObservers=null,l.push(i),new gn(()=>{this.currentObservers=null,mo(l,i)}))}_checkFinalizedStatuses(i){const{hasError:s,thrownError:a,isStopped:l}=this;s?i.error(a):l&&i.complete()}asObservable(){const i=new pi;return i.source=this,i}}return r.create=(n,i)=>new W3(n,i),r})();class W3 extends Qe{constructor(n,i){super(),this.destination=n,this.source=i}next(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.next)||void 0===s||s.call(i,n)}error(n){var i,s;null===(s=null===(i=this.destination)||void 0===i?void 0:i.error)||void 0===s||s.call(i,n)}complete(){var n,i;null===(i=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===i||i.call(n)}_subscribe(n){var i,s;return null!==(s=null===(i=this.source)||void 0===i?void 0:i.subscribe(n))&&void 0!==s?s:cs}}class Fi extends Qe{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const i=super._subscribe(n);return!i.closed&&n.next(this._value),i}getValue(){const{hasError:n,thrownError:i,_value:s}=this;if(n)throw i;return this._throwIfClosed(),s}next(n){super.next(this._value=n)}}function q3(r){return Et(r?.lift)}function qi(r){return n=>{if(q3(n))return n.lift(function(i){try{return r(i,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Yi(r,n,i,s,a){return new Vre(r,n,i,s,a)}class Vre extends WI{constructor(n,i,s,a,l,c){super(n),this.onFinalize=l,this.shouldUnsubscribe=c,this._next=i?function(d){try{i(d)}catch(u){n.error(u)}}:super._next,this._error=a?function(d){try{a(d)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:i}=this;super.unsubscribe(),!i&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function je(r,n){return qi((i,s)=>{let a=0;i.subscribe(Yi(s,l=>{s.next(r.call(n,l,a++))}))})}const Y3="https://g.co/ng/security#xss";class ee extends Error{code;constructor(n,i){super(function Zr(r,n){return`NG0${Math.abs(r)}${n?": "+n:""}`}(n,i)),this.code=n}}const A0=Symbol("InputSignalNode#UNSET"),X3={...Hn,transformFn:void 0,applyValueToInputSignal(r,n){Ir(r,n)}};function K3(r,n){const i=Object.create(X3);function s(){if(il(i),i.value===A0)throw new ee(-950,!1);return i.value}return i.value=r,i.transformFn=n?.transform,s[mr]=i,s}function Lc(r){return{toString:r}.toString()}const bp="__parameters__";function xp(r,n,i){return Lc(()=>{const s=function KI(r){return function(...i){if(r){const s=r(...i);for(const a in s)this[a]=s[a]}}}(n);function a(...l){if(this instanceof a)return s.apply(this,l),this;const c=new a(...l);return d.annotation=c,d;function d(u,h,f){const p=u.hasOwnProperty(bp)?u[bp]:Object.defineProperty(u,bp,{value:[]})[bp];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(c),u}}return i&&(a.prototype=Object.create(i.prototype)),a.prototype.ngMetadataName=r,a.annotationCls=a,a})}const Xi=globalThis;function wi(r){for(let n in r)if(r[n]===wi)return n;throw Error("Could not find renamed property on target object.")}function Hre(r,n){for(const i in n)n.hasOwnProperty(i)&&!r.hasOwnProperty(i)&&(r[i]=n[i])}function ds(r){if("string"==typeof r)return r;if(Array.isArray(r))return`[${r.map(ds).join(", ")}]`;if(null==r)return""+r;const n=r.overriddenName||r.name;if(n)return`${n}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return s>=0?i.slice(0,s):i}function ZI(r,n){return r?n?`${r} ${n}`:r:n||""}const Gre=wi({__forward_ref__:wi});function Ui(r){return r.__forward_ref__=Ui,r.toString=function(){return ds(this())},r}function $t(r){return x0(r)?r():r}function x0(r){return"function"==typeof r&&r.hasOwnProperty(Gre)&&r.__forward_ref__===Ui}function we(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function qe(r){return{providers:r.providers||[],imports:r.imports||[]}}function w0(r){return J3(r,E0)||J3(r,e4)}function J3(r,n){return r.hasOwnProperty(n)?r[n]:null}function C0(r){return r&&(r.hasOwnProperty(JI)||r.hasOwnProperty(Yre))?r[JI]:null}const E0=wi({\u0275prov:wi}),JI=wi({\u0275inj:wi}),e4=wi({ngInjectableDef:wi}),Yre=wi({ngInjectorDef:wi});class se{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,i){this._desc=n,this.\u0275prov=void 0,"number"==typeof i?this.__NG_ELEMENT_ID__=i:void 0!==i&&(this.\u0275prov=we({token:this,providedIn:i.providedIn||"root",factory:i.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function n1(r){return r&&!!r.\u0275providers}const wp=wi({\u0275cmp:wi}),i1=wi({\u0275dir:wi}),r1=wi({\u0275pipe:wi}),n4=wi({\u0275mod:wi}),Uc=wi({\u0275fac:wi}),J_=wi({__NG_ELEMENT_ID__:wi}),i4=wi({__NG_ENV_ID__:wi});function an(r){return"string"==typeof r?r:null==r?"":String(r)}function s1(r,n){throw new ee(-201,!1)}var Fn=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(Fn||{});let o1;function r4(){return o1}function Xo(r){const n=o1;return o1=r,n}function s4(r,n,i){const s=w0(r);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:i&Fn.Optional?null:void 0!==n?n:void s1()}const ey={},a1="__NG_DI_FLAG__",I0="ngTempTokenPath",tse=/\n/gm,o4="__source";let Cp;function Wd(r){const n=Cp;return Cp=r,n}function rse(r,n=Fn.Default){if(void 0===Cp)throw new ee(-203,!1);return null===Cp?s4(r,void 0,n):Cp.get(r,n&Fn.Optional?null:void 0,n)}function $e(r,n=Fn.Default){return(r4()||rse)($t(r),n)}function D(r,n=Fn.Default){return $e(r,T0(n))}function T0(r){return typeof r>"u"||"number"==typeof r?r:(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function l1(r){const n=[];for(let i=0;i<r.length;i++){const s=$t(r[i]);if(Array.isArray(s)){if(0===s.length)throw new ee(900,!1);let a,l=Fn.Default;for(let c=0;c<s.length;c++){const d=s[c],u=sse(d);"number"==typeof u?-1===u?a=d.token:l|=u:a=d}n.push($e(a,l))}else n.push($e(s))}return n}function ty(r,n){return r[a1]=n,r.prototype[a1]=n,r}function sse(r){return r[a1]}const ah=ty(xp("Optional"),8),ny=ty(xp("SkipSelf"),4);function lh(r,n){return r.hasOwnProperty(Uc)?r[Uc]:null}function Ep(r,n){r.forEach(i=>Array.isArray(i)?Ep(i,n):n(i))}function l4(r,n,i){n>=r.length?r.push(i):r.splice(n,0,i)}function D0(r,n){return n>=r.length-1?r.pop():r.splice(n,1)[0]}function pa(r,n,i){let s=Mp(r,n);return s>=0?r[1|s]=i:(s=~s,function c4(r,n,i,s){let a=r.length;if(a==n)r.push(i,s);else if(1===a)r.push(s,r[0]),r[0]=i;else{for(a--,r.push(r[a-1],r[a]);a>n;)r[a]=r[a-2],a--;r[n]=i,r[n+1]=s}}(r,s,n,i)),s}function d1(r,n){const i=Mp(r,n);if(i>=0)return r[1|i]}function Mp(r,n){return function d4(r,n,i){let s=0,a=r.length>>i;for(;a!==s;){const l=s+(a-s>>1),c=r[l<<i];if(n===c)return l<<i;c>n?a=l:s=l+1}return~(a<<i)}(r,n,1)}const rl={},Jn=[],Oa=new se(""),u4=new se("",-1),u1=new se("");class k0{get(n,i=ey){if(i===ey){const s=new Error(`NullInjectorError: No provider for ${ds(n)}!`);throw s.name="NullInjectorError",s}return i}}function qs(r,n){const i=r[n4]||null;if(!i&&!0===n)throw new Error(`Type ${ds(r)} does not have '\u0275mod' property.`);return i}function xn(r){return r[wp]||null}function us(r){return r[i1]||null}function Os(r){return r[r1]||null}function hse(...r){return{\u0275providers:h1(0,r),\u0275fromNgModule:!0}}function h1(r,...n){const i=[],s=new Set;let a;const l=c=>{i.push(c)};return Ep(n,c=>{const d=c;P0(d,l,[],s)&&(a||=[],a.push(d))}),void 0!==a&&h4(a,l),i}function h4(r,n){for(let i=0;i<r.length;i++){const{ngModule:s,providers:a}=r[i];f1(a,l=>{n(l,s)})}}function P0(r,n,i,s){if(!(r=$t(r)))return!1;let a=null,l=C0(r);const c=!l&&xn(r);if(l||c){if(c&&!c.standalone)return!1;a=r}else{const u=r.ngModule;if(l=C0(u),!l)return!1;a=u}const d=s.has(a);if(c){if(d)return!1;if(s.add(a),c.dependencies){const u="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const h of u)P0(h,n,i,s)}}else{if(!l)return!1;{if(null!=l.imports&&!d){let h;s.add(a);try{Ep(l.imports,f=>{P0(f,n,i,s)&&(h||=[],h.push(f))})}finally{}void 0!==h&&h4(h,n)}if(!d){const h=lh(a)||(()=>new a);n({provide:a,useFactory:h,deps:Jn},a),n({provide:u1,useValue:a,multi:!0},a),n({provide:Oa,useValue:()=>$e(a),multi:!0},a)}const u=l.providers;if(null!=u&&!d){const h=r;f1(u,f=>{n(f,h)})}}}return a!==r&&void 0!==r.providers}function f1(r,n){for(let i of r)n1(i)&&(i=i.\u0275providers),Array.isArray(i)?f1(i,n):n(i)}const fse=wi({provide:String,useValue:wi});function p1(r){return null!==r&&"object"==typeof r&&fse in r}function ch(r){return"function"==typeof r}const m1=new se(""),F0={},mse={};let g1;function O0(){return void 0===g1&&(g1=new k0),g1}class Ns{}class dh extends Ns{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,i,s,a){super(),this.parent=i,this.source=s,this.scopes=a,y1(n,c=>this.processProvider(c)),this.records.set(u4,Sp(void 0,this)),a.has("environment")&&this.records.set(Ns,Sp(void 0,this));const l=this.records.get(m1);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(u1,Jn,Fn.Self))}destroy(){iy(this),this._destroyed=!0;const n=qt(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of i)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),qt(n)}}onDestroy(n){return iy(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){iy(this);const i=Wd(this),s=Xo(void 0);try{return n()}finally{Wd(i),Xo(s)}}get(n,i=ey,s=Fn.Default){if(iy(this),n.hasOwnProperty(i4))return n[i4](this);s=T0(s);const l=Wd(this),c=Xo(void 0);try{if(!(s&Fn.SkipSelf)){let u=this.records.get(n);if(void 0===u){const h=function bse(r){return"function"==typeof r||"object"==typeof r&&r instanceof se}(n)&&w0(n);u=h&&this.injectableDefInScope(h)?Sp(_1(n),F0):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(s&Fn.Self?O0():this.parent).get(n,i=s&Fn.Optional&&i===ey?null:i)}catch(d){if("NullInjectorError"===d.name){if((d[I0]=d[I0]||[]).unshift(ds(n)),l)throw d;return function ose(r,n,i,s){const a=r[I0];throw n[o4]&&a.unshift(n[o4]),r.message=function ase(r,n,i,s=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let a=ds(n);if(Array.isArray(n))a=n.map(ds).join(" -> ");else if("object"==typeof n){let l=[];for(let c in n)if(n.hasOwnProperty(c)){let d=n[c];l.push(c+":"+("string"==typeof d?JSON.stringify(d):ds(d)))}a=`{${l.join(", ")}}`}return`${i}${s?"("+s+")":""}[${a}]: ${r.replace(tse,"\n  ")}`}("\n"+r.message,a,i,s),r.ngTokenPath=a,r[I0]=null,r}(d,n,"R3InjectorError",this.source)}throw d}finally{Xo(c),Wd(l)}}resolveInjectorInitializers(){const n=qt(null),i=Wd(this),s=Xo(void 0);try{const l=this.get(Oa,Jn,Fn.Self);for(const c of l)c()}finally{Wd(i),Xo(s),qt(n)}}toString(){const n=[],i=this.records;for(const s of i.keys())n.push(ds(s));return`R3Injector[${n.join(", ")}]`}processProvider(n){let i=ch(n=$t(n))?n:$t(n&&n.provide);const s=function _se(r){return p1(r)?Sp(void 0,r.useValue):Sp(m4(r),F0)}(n);if(!ch(n)&&!0===n.multi){let a=this.records.get(i);a||(a=Sp(void 0,F0,!0),a.factory=()=>l1(a.multi),this.records.set(i,a)),i=n,a.multi.push(n)}this.records.set(i,s)}hydrate(n,i){const s=qt(null);try{return i.value===F0&&(i.value=mse,i.value=i.factory()),"object"==typeof i.value&&i.value&&function vse(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(i.value)&&this._ngOnDestroyHooks.add(i.value),i.value}finally{qt(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const i=$t(n.providedIn);return"string"==typeof i?"any"===i||this.scopes.has(i):this.injectorDefTypes.has(i)}removeOnDestroy(n){const i=this._onDestroyHooks.indexOf(n);-1!==i&&this._onDestroyHooks.splice(i,1)}}function _1(r){const n=w0(r),i=null!==n?n.factory:lh(r);if(null!==i)return i;if(r instanceof se)throw new ee(204,!1);if(r instanceof Function)return function gse(r){if(r.length>0)throw new ee(204,!1);const i=function qre(r){return r&&(r[E0]||r[e4])||null}(r);return null!==i?()=>i.factory(r):()=>new r}(r);throw new ee(204,!1)}function m4(r,n,i){let s;if(ch(r)){const a=$t(r);return lh(a)||_1(a)}if(p1(r))s=()=>$t(r.useValue);else if(function p4(r){return!(!r||!r.useFactory)}(r))s=()=>r.useFactory(...l1(r.deps||[]));else if(function f4(r){return!(!r||!r.useExisting)}(r))s=()=>$e($t(r.useExisting));else{const a=$t(r&&(r.useClass||r.provide));if(!function yse(r){return!!r.deps}(r))return lh(a)||_1(a);s=()=>new a(...l1(r.deps))}return s}function iy(r){if(r.destroyed)throw new ee(205,!1)}function Sp(r,n,i=!1){return{factory:r,value:n,multi:i?[]:void 0}}function y1(r,n){for(const i of r)Array.isArray(i)?y1(i,n):i&&n1(i)?y1(i.\u0275providers,n):n(i)}function Na(r,n){r instanceof dh&&iy(r);const s=Wd(r),a=Xo(void 0);try{return n()}finally{Wd(s),Xo(a)}}function g4(){return void 0!==r4()||null!=function ise(){return Cp}()}function Ip(r){if(!g4())throw new ee(-203,!1)}function yr(r){return Array.isArray(r)&&"object"==typeof r[1]}function fs(r){return Array.isArray(r)&&!0===r[1]}function A1(r){return!!(4&r.flags)}function ol(r){return r.componentOffset>-1}function z0(r){return!(1&~r.flags)}function ma(r){return!!r.template}function Vc(r){return!!(512&r[2])}function Kd(r){return!(256&~r[2])}class kse{previousValue;currentValue;firstChange;constructor(n,i,s){this.previousValue=n,this.currentValue=i,this.firstChange=s}isFirstChange(){return this.firstChange}}function C4(r,n,i,s){null!==n?n.applyValueToInputSignal(n,s):r[i]=s}const vr=(()=>{const r=()=>E4;return r.ngInherit=!0,r})();function E4(r){return r.type.prototype.ngOnChanges&&(r.setInput=Fse),Pse}function Pse(){const r=S4(this),n=r?.current;if(n){const i=r.previous;if(i===rl)r.previous=n;else for(let s in n)i[s]=n[s];r.current=null,this.ngOnChanges(n)}}function Fse(r,n,i,s,a){const l=this.declaredInputs[s],c=S4(r)||function Ose(r,n){return r[M4]=n}(r,{previous:rl,current:null}),d=c.current||(c.current={}),u=c.previous,h=u[l];d[l]=new kse(h&&h.currentValue,i,u===rl),C4(r,n,a,i)}const M4="__ngSimpleChanges__";function S4(r){return r[M4]||null}function $n(r){for(;Array.isArray(r);)r=r[0];return r}function Np(r,n){return $n(n[r])}function _o(r,n){return $n(n[r.index])}function ph(r,n){return r.data[n]}function mh(r,n){return r[n]}function yo(r,n){const i=n[r];return yr(i)?i:i[0]}function C1(r){return!(128&~r[2])}function Ba(r,n){return null==n?null:r[n]}function D4(r){r[17]=0}function E1(r){1024&r[2]||(r[2]|=1024,C1(r)&&Bp(r))}function H0(r){return!!(9216&r[2]||r[24]?.dirty)}function M1(r){r[10].changeDetectionScheduler?.notify(8),64&r[2]&&(r[2]|=1024),H0(r)&&Bp(r)}function Bp(r){r[10].changeDetectionScheduler?.notify(0);let n=Hc(r);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,C1(n));)n=Hc(n)}function G0(r,n){if(Kd(r))throw new ee(911,!1);null===r[21]&&(r[21]=[]),r[21].push(n)}function Hc(r){const n=r[3];return fs(n)?n[3]:n}function k4(r){return r[7]??=[]}function P4(r){return r.cleanup??=[]}const Yt={lFrame:H4(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let T1=!1;function D1(){return Yt.bindingsEnabled}function gh(){return null!==Yt.skipHydrationRootTNode}function de(){return Yt.lFrame.lView}function Qt(){return Yt.lFrame.tView}function Vt(r){return Yt.lFrame.contextLView=r,r[8]}function Ht(r){return Yt.lFrame.contextLView=null,r}function Rn(){let r=F4();for(;null!==r&&64===r.type;)r=r.parent;return r}function F4(){return Yt.lFrame.currentTNode}function al(r,n){const i=Yt.lFrame;i.currentTNode=r,i.isParent=n}function R1(){return Yt.lFrame.isParent}function k1(){Yt.lFrame.isParent=!1}function B4(){return T1}function Q0(r){const n=T1;return T1=r,n}function vo(){const r=Yt.lFrame;let n=r.bindingRootIndex;return-1===n&&(n=r.bindingRootIndex=r.tView.bindingStartIndex),n}function La(){return Yt.lFrame.bindingIndex++}function $c(r){const n=Yt.lFrame,i=n.bindingIndex;return n.bindingIndex=n.bindingIndex+r,i}function Xse(r,n){const i=Yt.lFrame;i.bindingIndex=i.bindingRootIndex=r,P1(n)}function P1(r){Yt.lFrame.currentDirectiveIndex=r}function O1(){return Yt.lFrame.currentQueryIndex}function j0(r){Yt.lFrame.currentQueryIndex=r}function Zse(r){const n=r[1];return 2===n.type?n.declTNode:1===n.type?r[5]:null}function z4(r,n,i){if(i&Fn.SkipSelf){let a=n,l=r;for(;!(a=a.parent,null!==a||i&Fn.Host||(a=Zse(l),null===a||(l=l[14],10&a.type))););if(null===a)return!1;n=a,r=l}const s=Yt.lFrame=V4();return s.currentTNode=n,s.lView=r,!0}function N1(r){const n=V4(),i=r[1];Yt.lFrame=n,n.currentTNode=i.firstChild,n.lView=r,n.tView=i,n.contextLView=r,n.bindingIndex=i.bindingStartIndex,n.inI18n=!1}function V4(){const r=Yt.lFrame,n=null===r?null:r.child;return null===n?H4(r):n}function H4(r){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=n),n}function G4(){const r=Yt.lFrame;return Yt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const $4=G4;function B1(){const r=G4();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Bs(){return Yt.lFrame.selectedIndex}function _h(r){Yt.lFrame.selectedIndex=r}function Ii(){const r=Yt.lFrame;return ph(r.tView,r.selectedIndex)}function oy(){Yt.lFrame.currentNamespace="svg"}let j4=!0;function ay(){return j4}function Hl(r){j4=r}function L1(r,n){for(let i=n.directiveStart,s=n.directiveEnd;i<s;i++){const l=r.data[i].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:d,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=l;c&&(r.contentHooks??=[]).push(-i,c),d&&((r.contentHooks??=[]).push(i,d),(r.contentCheckHooks??=[]).push(i,d)),u&&(r.viewHooks??=[]).push(-i,u),h&&((r.viewHooks??=[]).push(i,h),(r.viewCheckHooks??=[]).push(i,h)),null!=f&&(r.destroyHooks??=[]).push(i,f)}}function W0(r,n,i){W4(r,n,3,i)}function q0(r,n,i,s){(3&r[2])===i&&W4(r,n,i,s)}function U1(r,n){let i=r[2];(3&i)===n&&(i&=16383,i+=1,r[2]=i)}function W4(r,n,i,s){const l=s??-1,c=n.length-1;let d=0;for(let u=void 0!==s?65535&r[17]:0;u<c;u++)if("number"==typeof n[u+1]){if(d=n[u],null!=s&&d>=s)break}else n[u]<0&&(r[17]+=65536),(d<l||-1==l)&&(roe(r,i,n,u),r[17]=(4294901760&r[17])+u+2),u++}function q4(r,n){const i=qt(null);try{n.call(r)}finally{qt(i)}}function roe(r,n,i,s){const a=i[s]<0,l=i[s+1],d=r[a?-i[s]:i[s]];a?r[2]>>14<r[17]>>16&&(3&r[2])===n&&(r[2]+=16384,q4(d,l)):q4(d,l)}class ly{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,i,s){this.factory=n,this.canSeeViewProviders=i,this.injectImpl=s}}function Y4(r){return 3===r||4===r||6===r}function X4(r){return 64===r.charCodeAt(0)}function Up(r,n){if(null!==n&&0!==n.length)if(null===r||0===r.length)r=n.slice();else{let i=-1;for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:0===i||K4(r,i,a,null,-1===i||2===i?n[++s]:null)}}return r}function K4(r,n,i,s,a){let l=0,c=r.length;if(-1===n)c=-1;else for(;l<r.length;){const d=r[l++];if("number"==typeof d){if(d===n){c=-1;break}if(d>n){c=l-1;break}}}for(;l<r.length;){const d=r[l];if("number"==typeof d)break;if(d===i){if(null===s)return void(null!==a&&(r[l+1]=a));if(s===r[l+1])return void(r[l+2]=a)}l++,null!==s&&l++,null!==a&&l++}-1!==c&&(r.splice(c,0,n),l=c+1),r.splice(l++,0,i),null!==s&&r.splice(l++,0,s),null!==a&&r.splice(l++,0,a)}const H1={};class yh{injector;parentInjector;constructor(n,i){this.injector=n,this.parentInjector=i}get(n,i,s){s=T0(s);const a=this.injector.get(n,H1,s);return a!==H1||i===H1?a:this.parentInjector.get(n,i,s)}}function G1(r){return-1!==r}function cy(r){return 32767&r}function dy(r,n){let i=function doe(r){return r>>16}(r),s=n;for(;i>0;)s=s[14],i--;return s}let $1=!0;function Y0(r){const n=$1;return $1=r,n}let hoe=0;const Gl={};function X0(r,n){const i=eU(r,n);if(-1!==i)return i;const s=n[1];s.firstCreatePass&&(r.injectorIndex=n.length,Q1(s.data,r),Q1(n,null),Q1(s.blueprint,null));const a=K0(r,n),l=r.injectorIndex;if(G1(a)){const c=cy(a),d=dy(a,n),u=d[1].data;for(let h=0;h<8;h++)n[l+h]=d[c+h]|u[c+h]}return n[l+8]=a,l}function Q1(r,n){r.push(0,0,0,0,0,0,0,0,n)}function eU(r,n){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===n[r.injectorIndex+8]?-1:r.injectorIndex}function K0(r,n){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let i=0,s=null,a=n;for(;null!==a;){if(s=aU(a),null===s)return-1;if(i++,a=a[14],-1!==s.injectorIndex)return s.injectorIndex|i<<16}return-1}function j1(r,n,i){!function foe(r,n,i){let s;"string"==typeof i?s=i.charCodeAt(0)||0:i.hasOwnProperty(J_)&&(s=i[J_]),null==s&&(s=i[J_]=hoe++);const a=255&s;n.data[r+(a>>5)]|=1<<a}(r,n,i)}function tU(r,n,i){if(i&Fn.Optional||void 0!==r)return r;s1()}function nU(r,n,i,s){if(i&Fn.Optional&&void 0===s&&(s=null),!(i&(Fn.Self|Fn.Host))){const a=r[9],l=Xo(void 0);try{return a?a.get(n,s,i&Fn.Optional):s4(n,s,i&Fn.Optional)}finally{Xo(l)}}return tU(s,0,i)}function iU(r,n,i,s=Fn.Default,a){if(null!==r){if(2048&n[2]&&!(s&Fn.Self)){const c=function yoe(r,n,i,s,a){let l=r,c=n;for(;null!==l&&null!==c&&2048&c[2]&&!Vc(c);){const d=rU(l,c,i,s|Fn.Self,Gl);if(d!==Gl)return d;let u=l.parent;if(!u){const h=c[20];if(h){const f=h.get(i,Gl,s);if(f!==Gl)return f}u=aU(c),c=c[14]}l=u}return a}(r,n,i,s,Gl);if(c!==Gl)return c}const l=rU(r,n,i,s,Gl);if(l!==Gl)return l}return nU(n,i,s,a)}function rU(r,n,i,s,a){const l=function goe(r){if("string"==typeof r)return r.charCodeAt(0)||0;const n=r.hasOwnProperty(J_)?r[J_]:void 0;return"number"==typeof n?n>=0?255&n:_oe:n}(i);if("function"==typeof l){if(!z4(n,r,s))return s&Fn.Host?tU(a,0,s):nU(n,i,s,a);try{let c;if(c=l(s),null!=c||s&Fn.Optional)return c;s1()}finally{$4()}}else if("number"==typeof l){let c=null,d=eU(r,n),u=-1,h=s&Fn.Host?n[15][5]:null;for((-1===d||s&Fn.SkipSelf)&&(u=-1===d?K0(r,n):n[d+8],-1!==u&&oU(s,!1)?(c=n[1],d=cy(u),n=dy(u,n)):d=-1);-1!==d;){const f=n[1];if(sU(l,d,f.data)){const p=moe(d,n,i,c,s,h);if(p!==Gl)return p}u=n[d+8],-1!==u&&oU(s,n[1].data[d+8]===h)&&sU(l,d,n)?(c=f,d=cy(u),n=dy(u,n)):d=-1}}return a}function moe(r,n,i,s,a,l){const c=n[1],d=c.data[r+8],f=Z0(d,c,i,null==s?ol(d)&&$1:s!=c&&!!(3&d.type),a&Fn.Host&&l===d);return null!==f?uy(n,c,f,d):Gl}function Z0(r,n,i,s,a){const l=r.providerIndexes,c=n.data,d=1048575&l,u=r.directiveStart,f=l>>20,g=a?d+f:r.directiveEnd;for(let m=s?d:d+f;m<g;m++){const _=c[m];if(m<u&&i===_||m>=u&&_.type===i)return m}if(a){const m=c[u];if(m&&ma(m)&&m.type===i)return u}return null}function uy(r,n,i,s){let a=r[i];const l=n.data;if(function soe(r){return r instanceof ly}(a)){const c=a;c.resolving&&function Zre(r){throw new ee(-200,r)}(function ai(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():an(r)}(l[i]));const d=Y0(c.canSeeViewProviders);c.resolving=!0;const h=c.injectImpl?Xo(c.injectImpl):null;z4(r,s,Fn.Default);try{a=r[i]=c.factory(void 0,l,r,s),n.firstCreatePass&&i>=s.directiveStart&&function ioe(r,n,i){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:l}=n.type.prototype;if(s){const c=E4(n);(i.preOrderHooks??=[]).push(r,c),(i.preOrderCheckHooks??=[]).push(r,c)}a&&(i.preOrderHooks??=[]).push(0-r,a),l&&((i.preOrderHooks??=[]).push(r,l),(i.preOrderCheckHooks??=[]).push(r,l))}(i,l[i],n)}finally{null!==h&&Xo(h),Y0(d),c.resolving=!1,$4()}}return a}function sU(r,n,i){return!!(i[n+(r>>5)]&1<<r)}function oU(r,n){return!(r&Fn.Self||r&Fn.Host&&n)}class Rr{_tNode;_lView;constructor(n,i){this._tNode=n,this._lView=i}get(n,i,s){return iU(this._tNode,this._lView,n,T0(s),i)}}function _oe(){return new Rr(Rn(),de())}function Gt(r){return Lc(()=>{const n=r.prototype.constructor,i=n[Uc]||W1(n),s=Object.prototype;let a=Object.getPrototypeOf(r.prototype).constructor;for(;a&&a!==s;){const l=a[Uc]||W1(a);if(l&&l!==i)return l;a=Object.getPrototypeOf(a)}return l=>new l})}function W1(r){return x0(r)?()=>{const n=W1($t(r));return n&&n()}:lh(r)}function aU(r){const n=r[1],i=n.type;return 2===i?n.declTNode:1===i?r[5]:null}function hy(r){return function poe(r,n){if("class"===n)return r.classes;if("style"===n)return r.styles;const i=r.attrs;if(i){const s=i.length;let a=0;for(;a<s;){const l=i[a];if(Y4(l))break;if(0===l)a+=2;else if("number"==typeof l)for(a++;a<s&&"string"==typeof i[a];)a++;else{if(l===n)return i[a+1];a+=2}}}return null}(Rn(),r)}function hU(r,n=null,i=null,s){const a=fU(r,n,i,s);return a.resolveInjectorInitializers(),a}function fU(r,n=null,i=null,s,a=new Set){const l=[i||Jn,hse(r)];return s=s||("object"==typeof r?void 0:ds(r)),new dh(l,n||O0(),s||null,a)}class On{static THROW_IF_NOT_FOUND=ey;static NULL=new k0;static create(n,i){if(Array.isArray(n))return hU({name:""},i,n,"");{const s=n.name??"";return hU({name:s},n.parent,n.providers,s)}}static \u0275prov=we({token:On,providedIn:"any",factory:()=>$e(u4)});static __NG_ELEMENT_ID__=-1}class ex{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>hy(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}}new se("").__NG_ELEMENT_ID__=r=>{const n=Rn();if(null===n)throw new ee(204,!1);if(2&n.type)return n.value;if(r&Fn.Optional)return null;throw new ee(204,!1)};const pU=!1;let Qc=(()=>class r{static __NG_ELEMENT_ID__=Soe;static __NG_ENV_ID__=i=>i})();class mU extends Qc{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return G0(this._lView,n),()=>function S1(r,n){if(null===r[21])return;const i=r[21].indexOf(n);-1!==i&&r[21].splice(i,1)}(this._lView,n)}}function Soe(){return new mU(de())}class jc{}const fy=new se("",{providedIn:"root",factory:()=>!1}),gU=new se(""),Y1=new se("");let ll=(()=>{class r{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Fi(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const i=this.taskId++;return this.pendingTasks.add(i),i}has(i){return this.pendingTasks.has(i)}remove(i){this.pendingTasks.delete(i),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=we({token:r,providedIn:"root",factory:()=>new r})}return r})();const ue=class Toe extends Qe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,g4()&&(this.destroyRef=D(Qc,{optional:!0})??void 0,this.pendingTasks=D(ll,{optional:!0})??void 0)}emit(n){const i=qt(null);try{super.next(n)}finally{qt(i)}}subscribe(n,i,s){let a=n,l=i||(()=>null),c=s;if(n&&"object"==typeof n){const u=n;a=u.next?.bind(u),l=u.error?.bind(u),c=u.complete?.bind(u)}this.__isAsync&&(l=this.wrapInTimeout(l),a&&(a=this.wrapInTimeout(a)),c&&(c=this.wrapInTimeout(c)));const d=super.subscribe({next:a,error:l,complete:c});return n instanceof gn&&n.add(d),d}wrapInTimeout(n){return i=>{const s=this.pendingTasks?.add();setTimeout(()=>{n(i),void 0!==s&&this.pendingTasks?.remove(s)})}}};function py(...r){}function _U(r){let n,i;function s(){r=py;try{void 0!==i&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(i),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{r(),s()}),"function"==typeof requestAnimationFrame&&(i=requestAnimationFrame(()=>{r(),s()})),()=>s()}function yU(r){return queueMicrotask(()=>r()),()=>{r=py}}const X1="isAngularZone",tx=X1+"_ID";let Doe=0;class _t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ue(!1);onMicrotaskEmpty=new ue(!1);onStable=new ue(!1);onError=new ue(!1);constructor(n){const{enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:l=pU}=n;if(typeof Zone>"u")throw new ee(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&s,c.shouldCoalesceRunChangeDetection=a,c.callbackScheduled=!1,c.scheduleInRootZone=l,function Poe(r){const n=()=>{!function koe(r){function n(){_U(()=>{r.callbackScheduled=!1,Z1(r),r.isCheckStableRunning=!0,K1(r),r.isCheckStableRunning=!1})}r.isCheckStableRunning||r.callbackScheduled||(r.callbackScheduled=!0,r.scheduleInRootZone?Zone.root.run(()=>{n()}):r._outer.run(()=>{n()}),Z1(r))}(r)},i=Doe++;r._inner=r._inner.fork({name:"angular",properties:{[X1]:!0,[tx]:i,[tx+i]:!0},onInvokeTask:(s,a,l,c,d,u)=>{if(function Foe(r){return AU(r,"__ignore_ng_zone__")}(u))return s.invokeTask(l,c,d,u);try{return vU(r),s.invokeTask(l,c,d,u)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||r.shouldCoalesceRunChangeDetection)&&n(),bU(r)}},onInvoke:(s,a,l,c,d,u,h)=>{try{return vU(r),s.invoke(l,c,d,u,h)}finally{r.shouldCoalesceRunChangeDetection&&!r.callbackScheduled&&!function Ooe(r){return AU(r,"__scheduler_tick__")}(u)&&n(),bU(r)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(r._hasPendingMicrotasks=c.microTask,Z1(r),K1(r)):"macroTask"==c.change&&(r.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),r.runOutsideAngular(()=>r.onError.emit(c)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(X1)}static assertInAngularZone(){if(!_t.isInAngularZone())throw new ee(909,!1)}static assertNotInAngularZone(){if(_t.isInAngularZone())throw new ee(909,!1)}run(n,i,s){return this._inner.run(n,i,s)}runTask(n,i,s,a){const l=this._inner,c=l.scheduleEventTask("NgZoneEvent: "+a,n,Roe,py,py);try{return l.runTask(c,i,s)}finally{l.cancelTask(c)}}runGuarded(n,i,s){return this._inner.runGuarded(n,i,s)}runOutsideAngular(n){return this._outer.run(n)}}const Roe={};function K1(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Z1(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&!0===r.callbackScheduled)}function vU(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function bU(r){r._nesting--,K1(r)}class J1{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ue;onMicrotaskEmpty=new ue;onStable=new ue;onError=new ue;run(n,i,s){return n.apply(i,s)}runGuarded(n,i,s){return n.apply(i,s)}runOutsideAngular(n){return n()}runTask(n,i,s,a){return n.apply(i,s)}}function AU(r,n){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0]?.data?.[n]}class bo{_console=console;handleError(n){this._console.error("ERROR",n)}}const Boe=new se("",{providedIn:"root",factory:()=>{const r=D(_t),n=D(bo);return i=>r.runOutsideAngular(()=>n.handleError(i))}});function wU(r,n){return K3(r,n)}const CU=(wU.required=function Loe(r){return K3(A0,r)},wU);function Uoe(){return zp(Rn(),de())}function zp(r,n){return new Mt(_o(r,n))}let Mt=(()=>class r{nativeElement;constructor(i){this.nativeElement=i}static __NG_ELEMENT_ID__=Uoe})();function EU(r){return r instanceof Mt?r.nativeElement:r}function my(r){return"function"==typeof r&&void 0!==r[mr]}function ga(r,n){const i=function Dt(r){const n=Object.create(Hn);n.value=r;const i=()=>(il(n),n.value);return i[mr]=n,i}(r),s=i[mr];return n?.equal&&(s.equal=n.equal),i.set=a=>Ir(s,a),i.update=a=>function po(r,n){Gd()||ls(r),Ir(r,n(r.value))}(s,a),i.asReadonly=nx.bind(i),i}function nx(){const r=this[mr];if(void 0===r.readonlyFn){const n=()=>this();n[mr]=r,r.readonlyFn=n}return r.readonlyFn}function zoe(){return this._results[Symbol.iterator]()}class bh{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Qe}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,i){return this._results.reduce(n,i)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,i){this.dirty=!1;const s=function Ko(r){return r.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function use(r,n,i){if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(i&&(a=i(a),l=i(l)),l!==a)return!1}return!0}(this._results,s,i))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=zoe}function _y(r){return!(128&~r.flags)}var ix=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(ix||{});const rx=new Map;let Hoe=0;function tT(r){rx.delete(r[19])}const sx="__ngContext__";function Jo(r,n){yr(n)?(r[sx]=n[19],function $oe(r){rx.set(r[19],r)}(n)):r[sx]=n}function OU(r){return BU(r[12])}function NU(r){return BU(r[4])}function BU(r){for(;null!==r&&!fs(r);)r=r[4];return r}let rT;function $l(){if(void 0!==rT)return rT;if(typeof document<"u")return document;throw new ee(210,!1)}const Wc=new se("",{providedIn:"root",factory:()=>lae}),lae="ng",sT=new se(""),Ql=new se("",{providedIn:"platform",factory:()=>"unknown"}),xo=new se(""),ax=new se("",{providedIn:"root",factory:()=>$l().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),QU={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},jU=new se("",{providedIn:"root",factory:()=>QU}),XU=new se("",{providedIn:"root",factory:()=>!1});var gT=function(r){return r[r.CHANGE_DETECTION=0]="CHANGE_DETECTION",r[r.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",r}(gT||{});const Gp=new se(""),ez=new Set;function ea(r){ez.has(r)||(ez.add(r),performance?.mark?.("mark_feature_usage",{detail:{feature:r}}))}let hx=(()=>class r{view;node;constructor(i,s){this.view=i,this.node=s}static __NG_ELEMENT_ID__=uae})();function uae(){return new hx(de(),Rn())}var $p=function(r){return r[r.EarlyRead=0]="EarlyRead",r[r.Write=1]="Write",r[r.MixedReadWrite=2]="MixedReadWrite",r[r.Read=3]="Read",r}($p||{});let _T=(()=>{class r{impl=null;execute(){this.impl?.execute()}static \u0275prov=we({token:r,providedIn:"root",factory:()=>new r})}return r})();const tz=[$p.EarlyRead,$p.Write,$p.MixedReadWrite,$p.Read];let nz=(()=>{class r{ngZone=D(_t);scheduler=D(jc);errorHandler=D(bo,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){D(Gp,{optional:!0})}execute(){this.executing=!0;for(const s of tz)for(const a of this.sequences)if(!a.erroredOrDestroyed&&a.hooks[s])try{a.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,a.hooks[s])(a.pipelinedValue),a.snapshot))}catch(l){a.erroredOrDestroyed=!0,this.errorHandler?.handleError(l)}this.executing=!1;for(const s of this.sequences)s.afterRun(),s.once&&(this.sequences.delete(s),s.destroy());for(const s of this.deferredRegistrations)this.sequences.add(s);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(i){const{view:s}=i;void 0!==s?((s[25]??=[]).push(i),Bp(s),s[2]|=8192):this.executing?this.deferredRegistrations.add(i):this.addSequence(i)}addSequence(i){this.sequences.add(i),this.scheduler.notify(7)}unregister(i){this.executing&&this.sequences.has(i)?(i.erroredOrDestroyed=!0,i.pipelinedValue=void 0,i.once=!0):(this.sequences.delete(i),this.deferredRegistrations.delete(i))}maybeTrace(i,s){return s?s.run(gT.AFTER_NEXT_RENDER,i):i()}static \u0275prov=we({token:r,providedIn:"root",factory:()=>new r})}return r})();class iz{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,i,s,a,l,c=null){this.impl=n,this.hooks=i,this.view=s,this.once=a,this.snapshot=c,this.unregisterOnDestroy=l?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(i=>i!==this))}}function _a(r,n){!n?.injector&&Ip();const i=n?.injector??D(On);return ea("NgAfterNextRender"),rz(r,i,n,!0)}function rz(r,n,i,s){const a=n.get(_T);a.impl??=n.get(nz);const l=n.get(Gp,null,{optional:!0}),c=i?.phase??$p.MixedReadWrite,d=!0!==i?.manualCleanup?n.get(Qc):null,u=n.get(hx,null,{optional:!0}),h=new iz(a.impl,function hae(r,n){if(r instanceof Function){const i=[void 0,void 0,void 0,void 0];return i[n]=r,i}return[r.earlyRead,r.write,r.mixedReadWrite,r.read]}(r,c),u?.view,s,d,l?.snapshot(null));return a.impl.register(h),h}function Sz(r,n){const i=r.contentQueries;if(null!==i){const s=qt(null);try{for(let a=0;a<i.length;a+=2){const c=i[a+1];if(-1!==c){const d=r.data[c];j0(i[a]),d.contentQueries(2,n[c],c)}}}finally{qt(s)}}}function DT(r,n,i){j0(0);const s=qt(null);try{n(r,i)}finally{qt(s)}}function RT(r,n,i){if(A1(n)){const s=qt(null);try{const l=n.directiveEnd;for(let c=n.directiveStart;c<l;c++){const d=r.data[c];d.contentQueries&&d.contentQueries(1,i[c],c)}}finally{qt(s)}}}var Ua=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(Ua||{});let Ax,xx;function Zp(r){return function kT(){if(void 0===Ax&&(Ax=null,Xi.trustedTypes))try{Ax=Xi.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Ax}()?.createHTML(r)||r}function PT(){if(void 0===xx&&(xx=null,Xi.trustedTypes))try{xx=Xi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return xx}function Iz(r){return PT()?.createHTML(r)||r}function Dz(r){return PT()?.createScriptURL(r)||r}class wh{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Y3})`}}class qae extends wh{getTypeName(){return"HTML"}}class Yae extends wh{getTypeName(){return"Style"}}class Xae extends wh{getTypeName(){return"Script"}}class Kae extends wh{getTypeName(){return"URL"}}class Zae extends wh{getTypeName(){return"ResourceURL"}}function ta(r){return r instanceof wh?r.changingThisBreaksApplicationSecurity:r}function jl(r,n){const i=function Jae(r){return r instanceof wh&&r.getTypeName()||null}(r);if(null!=i&&i!==n){if("ResourceURL"===i&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${i} (see ${Y3})`)}return i===n}class sle{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const i=(new window.DOMParser).parseFromString(Zp(n),"text/html").body;return null===i?this.inertDocumentHelper.getInertBodyElement(n):(i.firstChild?.remove(),i)}catch{return null}}}class ole{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const i=this.inertDocument.createElement("template");return i.innerHTML=Zp(n),i}}const lle=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wx(r){return(r=String(r)).match(lle)?r:"unsafe:"+r}function Yc(r){const n={};for(const i of r.split(","))n[i]=!0;return n}function Ty(...r){const n={};for(const i of r)for(const s in i)i.hasOwnProperty(s)&&(n[s]=!0);return n}const kz=Yc("area,br,col,hr,img,wbr"),Pz=Yc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fz=Yc("rp,rt"),FT=Ty(kz,Ty(Pz,Yc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ty(Fz,Yc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ty(Fz,Pz)),OT=Yc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oz=Ty(OT,Yc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cle=Yc("script,style,template");class dle{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let i=n.firstChild,s=!0,a=[];for(;i;)if(i.nodeType===Node.ELEMENT_NODE?s=this.startElement(i):i.nodeType===Node.TEXT_NODE?this.chars(i.nodeValue):this.sanitizedSomething=!0,s&&i.firstChild)a.push(i),i=fle(i);else for(;i;){i.nodeType===Node.ELEMENT_NODE&&this.endElement(i);let l=hle(i);if(l){i=l;break}i=a.pop()}return this.buf.join("")}startElement(n){const i=Nz(n).toLowerCase();if(!FT.hasOwnProperty(i))return this.sanitizedSomething=!0,!cle.hasOwnProperty(i);this.buf.push("<"),this.buf.push(i);const s=n.attributes;for(let a=0;a<s.length;a++){const l=s.item(a),c=l.name,d=c.toLowerCase();if(!Oz.hasOwnProperty(d)){this.sanitizedSomething=!0;continue}let u=l.value;OT[d]&&(u=wx(u)),this.buf.push(" ",c,'="',Lz(u),'"')}return this.buf.push(">"),!0}endElement(n){const i=Nz(n).toLowerCase();FT.hasOwnProperty(i)&&!kz.hasOwnProperty(i)&&(this.buf.push("</"),this.buf.push(i),this.buf.push(">"))}chars(n){this.buf.push(Lz(n))}}function hle(r){const n=r.nextSibling;if(n&&r!==n.previousSibling)throw Bz(n);return n}function fle(r){const n=r.firstChild;if(n&&function ule(r,n){return(r.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(r,n))throw Bz(n);return n}function Nz(r){const n=r.nodeName;return"string"==typeof n?n:"FORM"}function Bz(r){return new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`)}const ple=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mle=/([^\#-~ |!])/g;function Lz(r){return r.replace(/&/g,"&amp;").replace(ple,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(mle,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cx;function Uz(r,n){let i=null;try{Cx=Cx||function Rz(r){const n=new ole(r);return function ale(){try{return!!(new window.DOMParser).parseFromString(Zp(""),"text/html")}catch{return!1}}()?new sle(n):n}(r);let s=n?String(n):"";i=Cx.getInertBodyElement(s);let a=5,l=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=l,l=i.innerHTML,i=Cx.getInertBodyElement(s)}while(s!==l);return Zp((new dle).sanitizeChildren(NT(i)||i))}finally{if(i){const s=NT(i)||i;for(;s.firstChild;)s.firstChild.remove()}}}function NT(r){return"content"in r&&function gle(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var ps=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(ps||{});function zz(r){const n=Dy();return n?Iz(n.sanitize(ps.HTML,r)||""):jl(r,"HTML")?Iz(ta(r)):Uz($l(),an(r))}function wn(r){const n=Dy();return n?n.sanitize(ps.URL,r)||"":jl(r,"URL")?ta(r):wx(an(r))}function Vz(r){const n=Dy();if(n)return Dz(n.sanitize(ps.RESOURCE_URL,r)||"");if(jl(r,"ResourceURL"))return Dz(ta(r));throw new ee(904,!1)}function Dy(){const r=de();return r&&r[10].sanitizer}const xle=/^>|^->|<!--|-->|--!>|<!-$/g,wle=/(<|>)/g;function Wz(r){return r.ownerDocument.defaultView}function qz(r){return r.ownerDocument}function ya(r){return r instanceof Function?r():r}function Ple(r,n,i){let s=r.length;for(;;){const a=r.indexOf(n,i);if(-1===a)return a;if(0===a||r.charCodeAt(a-1)<=32){const l=n.length;if(a+l===s||r.charCodeAt(a+l)<=32)return a}i=a+1}}const Jz="ng-template";function Fle(r,n,i,s){let a=0;if(s){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==Ple(n[a+1].toLowerCase(),i,0))return!0}else if(UT(r))return!1;if(a=n.indexOf(1,a),a>-1){let l;for(;++a<n.length&&"string"==typeof(l=n[a]);)if(l.toLowerCase()===i)return!0}return!1}function UT(r){return 4===r.type&&r.value!==Jz}function Ole(r,n,i){return n===(4!==r.type||i?r.value:Jz)}function Nle(r,n,i){let s=4;const a=r.attrs,l=null!==a?function Ule(r){for(let n=0;n<r.length;n++)if(Y4(r[n]))return n;return r.length}(a):0;let c=!1;for(let d=0;d<n.length;d++){const u=n[d];if("number"!=typeof u){if(!c)if(4&s){if(s=2|1&s,""!==u&&!Ole(r,u,i)||""===u&&1===n.length){if(cl(s))return!1;c=!0}}else if(8&s){if(null===a||!Fle(r,a,u,i)){if(cl(s))return!1;c=!0}}else{const h=n[++d],f=Ble(u,a,UT(r),i);if(-1===f){if(cl(s))return!1;c=!0;continue}if(""!==h){let p;if(p=f>l?"":a[f+1].toLowerCase(),2&s&&h!==p){if(cl(s))return!1;c=!0}}}}else{if(!c&&!cl(s)&&!cl(u))return!1;if(c&&cl(u))continue;c=!1,s=u|1&s}}return cl(s)||c}function cl(r){return!(1&r)}function Ble(r,n,i,s){if(null===n)return-1;let a=0;if(s||!i){let l=!1;for(;a<n.length;){const c=n[a];if(c===r)return a;if(3===c||6===c)l=!0;else{if(1===c||2===c){let d=n[++a];for(;"string"==typeof d;)d=n[++a];continue}if(4===c)break;if(0===c){a+=4;continue}}a+=l?1:2}return-1}return function zle(r,n){let i=r.indexOf(4);if(i>-1)for(i++;i<r.length;){const s=r[i];if("number"==typeof s)return-1;if(s===n)return i;i++}return-1}(n,r)}function eV(r,n,i=!1){for(let s=0;s<n.length;s++)if(Nle(r,n[s],i))return!0;return!1}function Vle(r,n){e:for(let i=0;i<n.length;i++){const s=n[i];if(r.length===s.length){for(let a=0;a<r.length;a++)if(r[a]!==s[a])continue e;return!0}}return!1}function tV(r,n){return r?":not("+n.trim()+")":n}function Hle(r){let n=r[0],i=1,s=2,a="",l=!1;for(;i<r.length;){let c=r[i];if("string"==typeof c)if(2&s){const d=r[++i];a+="["+c+(d.length>0?'="'+d+'"':"")+"]"}else 8&s?a+="."+c:4&s&&(a+=" "+c);else""!==a&&!cl(c)&&(n+=tV(l,a),a=""),s=c,l=l||!cl(s);i++}return""!==a&&(n+=tV(l,a)),n}const ln={};function VT(r,n){return r.createComment(function Gz(r){return r.replace(xle,n=>n.replace(wle,"\u200b$1\u200b"))}(n))}function Sx(r,n,i){return r.createElement(n,i)}function Ch(r,n,i,s,a){r.insertBefore(n,i,s,a)}function iV(r,n,i){r.appendChild(n,i)}function rV(r,n,i,s,a){null!==s?Ch(r,n,i,s,a):iV(r,n,i)}function oV(r,n,i){const{mergedAttrs:s,classes:a,styles:l}=i;null!==s&&function coe(r,n,i){let s=0;for(;s<i.length;){const a=i[s];if("number"==typeof a){if(0!==a)break;s++;const l=i[s++],c=i[s++],d=i[s++];r.setAttribute(n,c,d,l)}else{const l=a,c=i[++s];X4(l)?r.setProperty(n,l,c):r.setAttribute(n,l,c),s++}}}(r,n,s),null!==a&&function jle(r,n,i){""===i?r.removeAttribute(n,"class"):r.setAttribute(n,"class",i)}(r,n,a),null!==l&&function Qle(r,n,i){r.setAttribute(n,"style",i)}(r,n,l)}function HT(r,n,i,s,a,l,c,d,u,h,f){const p=26+s,g=p+a,m=function Wle(r,n){const i=[];for(let s=0;s<n;s++)i.push(s<r?null:ln);return i}(p,g),_="function"==typeof h?h():h;return m[1]={type:r,blueprint:m,template:i,queries:null,viewQuery:d,declTNode:n,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:u,consts:_,incompleteFirstPass:!1,ssrId:f}}function Ix(r,n,i,s,a,l,c,d,u,h,f){const p=n.blueprint.slice();return p[0]=a,p[2]=1228|s,(null!==h||r&&2048&r[2])&&(p[2]|=2048),D4(p),p[3]=p[14]=r,p[8]=i,p[10]=c||r&&r[10],p[11]=d||r&&r[11],p[9]=u||r&&r[9]||null,p[5]=l,p[19]=function Goe(){return Hoe++}(),p[6]=f,p[20]=h,p[15]=2==n.type?r[15]:p,p}function GT(r){let n=16;return r.signals?n=4096:r.onPush&&(n=64),n}function ky(r,n,i,s){if(0===i)return-1;const a=n.length;for(let l=0;l<i;l++)n.push(s),r.blueprint.push(s),r.data.push(null);return a}function $T(r,n){return r[12]?r[13][4]=n:r[12]=n,r[13]=n,n}function L(r=1){lV(Qt(),de(),Bs()+r,!1)}function lV(r,n,i,s){if(!s)if(3&~n[2]){const l=r.preOrderHooks;null!==l&&q0(n,l,0,i)}else{const l=r.preOrderCheckHooks;null!==l&&W0(n,l,i)}_h(i)}var Tx=function(r){return r[r.None=0]="None",r[r.SignalBased=1]="SignalBased",r[r.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",r}(Tx||{});function Py(r,n,i,s){const a=qt(null);try{const[l,c,d]=r.inputs[i];let u=null;!!(c&Tx.SignalBased)&&(u=n[l][mr]),null!==u&&void 0!==u.transformFn?s=u.transformFn(s):null!==d&&(s=d.call(n,s)),null!==r.setInput?r.setInput(n,u,s,i,l):C4(n,u,l,s)}finally{qt(a)}}function cV(r,n,i,s,a){const l=Bs(),c=2&s;try{_h(-1),c&&n.length>26&&lV(r,n,26,!1),i(s,a)}finally{_h(l)}}function Dx(r,n,i){(function tce(r,n,i){const s=i.directiveStart,a=i.directiveEnd;ol(i)&&function qle(r,n,i){const s=_o(n,r),a=function aV(r){const n=r.tView;return null===n||n.incompleteFirstPass?r.tView=HT(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):n}(i),l=r[10].rendererFactory,c=$T(r,Ix(r,a,null,GT(i),s,n,null,l.createRenderer(s,i),null,null,null));r[n.index]=c}(n,i,r.data[s+i.componentOffset]),r.firstCreatePass||X0(i,n);const l=i.initialInputs;for(let c=s;c<a;c++){const d=r.data[c],u=uy(n,r,c,i);Jo(u,n),null!==l&&rce(0,c-s,u,d,0,l),ma(d)&&(yo(i.index,n)[8]=uy(n,r,c,i))}})(r,n,i),!(64&~i.flags)&&function nce(r,n,i){const s=i.directiveStart,a=i.directiveEnd,l=i.index,c=function Kse(){return Yt.lFrame.currentDirectiveIndex}();try{_h(l);for(let d=s;d<a;d++){const u=r.data[d],h=n[d];P1(d),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&ice(u,h)}}finally{_h(-1),P1(c)}}(r,n,i)}function QT(r,n,i=_o){const s=n.localNames;if(null!==s){let a=n.index+1;for(let l=0;l<s.length;l+=2){const c=s[l+1],d=-1===c?i(n,r):r[c];r[a++]=d}}}let dV=()=>null;function na(r,n,i,s,a,l,c,d){if(d||!qT(n,r,i,s,a)){if(3&n.type){const u=_o(n,i);s=function Jle(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(s),a=null!=c?c(a,n.value||"",s):a,l.setProperty(u,s,a)}}else ol(n)&&function ece(r,n){const i=yo(n,r);16&i[2]||(i[2]|=64)}(i,n.index)}function ice(r,n){null!==r.hostBindings&&r.hostBindings(1,n)}function jT(r,n){const i=r.directiveRegistry;let s=null;if(i)for(let a=0;a<i.length;a++){const l=i[a];eV(n,l.selectors,!1)&&(s??=[],ma(l)?s.unshift(l):s.push(l))}return s}function Wl(r,n,i,s,a,l){const c=_o(r,n);!function WT(r,n,i,s,a,l,c){if(null==l)r.removeAttribute(n,a,i);else{const d=null==c?an(l):c(l,s||"",a);r.setAttribute(n,a,d,i)}}(n[11],c,l,r.value,i,s,a)}function rce(r,n,i,s,a,l){const c=l[n];if(null!==c)for(let d=0;d<c.length;d+=2)Py(s,i,c[d],c[d+1])}function Rx(r,n){const i=r[9],s=i?i.get(bo,null):null;s&&s.handleError(n)}function qT(r,n,i,s,a){const l=r.inputs?.[s],c=r.hostDirectiveInputs?.[s];let d=!1;if(c)for(let u=0;u<c.length;u+=2){const h=c[u];Py(n.data[h],i[h],c[u+1],a),d=!0}if(l)for(const u of l)Py(n.data[u],i[u],s,a),d=!0;return d}function sce(r,n){const i=yo(n,r),s=i[1];!function oce(r,n){for(let i=n.length;i<r.blueprint.length;i++)n.push(r.blueprint[i])}(s,i);const a=i[0];null!==a&&null===i[6]&&(i[6]=null),kx(s,i,i[8])}function kx(r,n,i){N1(n);try{const s=r.viewQuery;null!==s&&DT(1,s,i);const a=r.template;null!==a&&cV(r,n,a,1,i),r.firstCreatePass&&(r.firstCreatePass=!1),n[18]?.finishViewCreation(r),r.staticContentQueries&&Sz(r,n),r.staticViewQueries&&DT(2,r.viewQuery,i);const l=r.components;null!==l&&function ace(r,n){for(let i=0;i<n.length;i++)sce(r,n[i])}(n,l)}catch(s){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),s}finally{n[2]&=-5,B1()}}function em(r,n,i,s){const a=qt(null);try{const l=n.tView,u=Ix(r,l,i,4096&r[2]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);u[16]=r[n.index];const f=r[18];return null!==f&&(u[18]=f.createEmbeddedView(l)),kx(l,u,i),u}finally{qt(a)}}function Eh(r,n){return!n||null===n.firstChild||_y(r)}function KT(r,n){return undefined(r,n)}var tu=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(tu||{});function nu(r){return!(32&~r.flags)}function tm(r,n,i,s,a){if(null!=s){let l,c=!1;fs(s)?l=s:yr(s)&&(c=!0,s=s[0]);const d=$n(s);0===r&&null!==i?null==a?iV(n,i,d):Ch(n,i,d,a||null,!0):1===r&&null!==i?Ch(n,i,d,a||null,!0):2===r?function Ry(r,n,i){r.removeChild(null,n,i)}(n,d,c):3===r&&n.destroyNode(d),null!=l&&function pce(r,n,i,s,a){const l=i[7];l!==$n(i)&&tm(n,r,s,l,a);for(let d=10;d<i.length;d++){const u=i[d];Fx(u[1],u,r,n,s,l)}}(n,r,l,i,a)}}function pV(r,n){n[10].changeDetectionScheduler?.notify(9),Fx(r,n,n[11],2,null,null)}function ZT(r,n){const i=r[9],s=i.indexOf(n);i.splice(s,1)}function Fy(r,n){if(Kd(n))return;const i=n[11];i.destroyNode&&Fx(r,n,i,3,null,null),function dce(r){let n=r[12];if(!n)return JT(r[1],r);for(;n;){let i=null;if(yr(n))i=n[12];else{const s=n[10];s&&(i=s)}if(!i){for(;n&&!n[4]&&n!==r;)yr(n)&&JT(n[1],n),n=n[3];null===n&&(n=r),yr(n)&&JT(n[1],n),i=n&&n[4]}n=i}}(n)}function JT(r,n){if(Kd(n))return;const i=qt(null);try{n[2]&=-129,n[2]|=256,n[24]&&Wo(n[24]),function hce(r,n){let i;if(null!=r&&null!=(i=r.destroyHooks))for(let s=0;s<i.length;s+=2){const a=n[i[s]];if(!(a instanceof ly)){const l=i[s+1];if(Array.isArray(l))for(let c=0;c<l.length;c+=2){const d=a[l[c]],u=l[c+1];try{u.call(d)}finally{}}else try{l.call(a)}finally{}}}}(r,n),function uce(r,n){const i=r.cleanup,s=n[7];if(null!==i)for(let c=0;c<i.length-1;c+=2)if("string"==typeof i[c]){const d=i[c+3];d>=0?s[d]():s[-d].unsubscribe(),c+=2}else i[c].call(s[i[c+1]]);null!==s&&(n[7]=null);const a=n[21];if(null!==a){n[21]=null;for(let c=0;c<a.length;c++)(0,a[c])()}const l=n[23];if(null!==l){n[23]=null;for(const c of l)c.destroy()}}(r,n),1===n[1].type&&n[11].destroy();const s=n[16];if(null!==s&&fs(n[3])){s!==n[3]&&ZT(s,n);const a=n[18];null!==a&&a.detachView(r)}tT(n)}finally{qt(i)}}function eD(r,n,i){return function mV(r,n,i){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return i[0];if(ol(s)){const{encapsulation:a}=r.data[s.directiveStart+s.componentOffset];if(a===Ua.None||a===Ua.Emulated)return null}return _o(s,i)}(r,n.parent,i)}function gV(r,n,i){return yV(r,n,i)}let yV=function _V(r,n,i){return 40&r.type?_o(r,i):null};function Px(r,n,i,s){const a=eD(r,s,n),l=n[11],d=gV(s.parent||n[5],s,n);if(null!=a)if(Array.isArray(i))for(let u=0;u<i.length;u++)rV(l,a,i[u],d,!1);else rV(l,a,i,d,!1)}function Mh(r,n){if(null!==n){const i=n.type;if(3&i)return _o(n,r);if(4&i)return nD(-1,r[n.index]);if(8&i){const s=n.child;if(null!==s)return Mh(r,s);{const a=r[n.index];return fs(a)?nD(-1,a):$n(a)}}if(128&i)return Mh(r,n.next);if(32&i)return KT(n,r)()||$n(r[n.index]);{const s=bV(r,n);return null!==s?Array.isArray(s)?s[0]:Mh(Hc(r[15]),s):Mh(r,n.next)}}return null}function bV(r,n){return null!==n?r[15][5].projection[n.projection]:null}function nD(r,n){const i=10+r+1;if(i<n.length){const s=n[i],a=s[1].firstChild;if(null!==a)return Mh(s,a)}return n[7]}function iD(r,n,i,s,a,l,c){for(;null!=i;){if(128===i.type){i=i.next;continue}const d=s[i.index],u=i.type;if(c&&0===n&&(d&&Jo($n(d),s),i.flags|=2),!nu(i))if(8&u)iD(r,n,i.child,s,a,l,!1),tm(n,r,a,d,l);else if(32&u){const h=KT(i,s);let f;for(;f=h();)tm(n,r,a,f,l);tm(n,r,a,d,l)}else 16&u?AV(r,n,s,i,a,l):tm(n,r,a,d,l);i=c?i.projectionNext:i.next}}function Fx(r,n,i,s,a,l){iD(i,s,r.firstChild,n,a,l,!1)}function AV(r,n,i,s,a,l){const c=i[15],u=c[5].projection[s.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)tm(n,r,a,u[h],l);else{let h=u;const f=c[3];_y(s)&&(h.flags|=128),iD(r,n,h,f,a,l,!0)}}function nm(r,n,i,s,a=!1){for(;null!==i;){if(128===i.type){i=a?i.projectionNext:i.next;continue}const l=n[i.index];null!==l&&s.push($n(l)),fs(l)&&rD(l,s);const c=i.type;if(8&c)nm(r,n,i.child,s);else if(32&c){const d=KT(i,n);let u;for(;u=d();)s.push(u)}else if(16&c){const d=bV(n,i);if(Array.isArray(d))s.push(...d);else{const u=Hc(n[15]);nm(u[1],u,d,s,!0)}}i=a?i.projectionNext:i.next}return s}function rD(r,n){for(let i=10;i<r.length;i++){const s=r[i],a=s[1].firstChild;null!==a&&nm(s[1],s,a,n)}r[7]!==r[0]&&n.push(r[7])}function xV(r){if(null!==r[25]){for(const n of r[25])n.impl.addSequence(n);r[25].length=0}}let wV=[];const vce={...Pa,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:r=>{Bp(r.lView)},consumerOnSignalRead(){this.lView[24]=this}},Ace={...Pa,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:r=>{let n=Hc(r.lView);for(;n&&!CV(n[1]);)n=Hc(n);n&&E1(n)},consumerOnSignalRead(){this.lView[24]=this}};function CV(r){return 2!==r.type}function EV(r){if(null===r[23])return;let n=!0;for(;n;){let i=!1;for(const s of r[23])s.dirty&&(i=!0,null===s.zone||Zone.current===s.zone?s.run():s.zone.run(()=>s.run()));n=i&&!!(8192&r[2])}}function Ox(r,n=!0,i=0){const a=r[10].rendererFactory;a.begin?.();try{!function wce(r,n){const i=B4();try{Q0(!0),sD(r,n);let s=0;for(;H0(r);){if(100===s)throw new ee(103,!1);s++,sD(r,1)}}finally{Q0(i)}}(r,i)}catch(c){throw n&&Rx(r,c),c}finally{a.end?.()}}function SV(r,n,i,s){if(Kd(n))return;const a=n[2];N1(n);let d=!0,u=null,h=null;CV(r)?(h=function gce(r){return r[24]??function _ce(r){const n=wV.pop()??Object.create(vce);return n.lView=r,n}(r)}(n),u=Ll(h)):null===function X_(){return bn}()?(d=!1,h=function bce(r){const n=r[24]??Object.create(Ace);return n.lView=r,n}(n),u=Ll(h)):n[24]&&(Wo(n[24]),n[24]=null);try{D4(n),function L4(r){return Yt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==i&&cV(r,n,i,2,s);const f=!(3&~a);if(f){const m=r.preOrderCheckHooks;null!==m&&W0(n,m,null)}else{const m=r.preOrderHooks;null!==m&&q0(n,m,0,null),U1(n,0)}if(function Cce(r){for(let n=OU(r);null!==n;n=NU(n)){if(!(2&n[2]))continue;const i=n[9];for(let s=0;s<i.length;s++)E1(i[s])}}(n),EV(n),IV(n,0),null!==r.contentQueries&&Sz(r,n),f){const m=r.contentCheckHooks;null!==m&&W0(n,m)}else{const m=r.contentHooks;null!==m&&q0(n,m,1),U1(n,1)}!function Mce(r,n){const i=r.hostBindingOpCodes;if(null!==i)try{for(let s=0;s<i.length;s++){const a=i[s];if(a<0)_h(~a);else{const l=a,c=i[++s],d=i[++s];Xse(c,l);const u=n[l];d(2,u)}}}finally{_h(-1)}}(r,n);const p=r.components;null!==p&&DV(n,p,0);const g=r.viewQuery;if(null!==g&&DT(2,g,s),f){const m=r.viewCheckHooks;null!==m&&W0(n,m)}else{const m=r.viewHooks;null!==m&&q0(n,m,2),U1(n,2)}if(!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),n[22]){for(const m of n[22])m();n[22]=null}xV(n),n[2]&=-73}catch(f){throw Bp(n),f}finally{null!==h&&(Nc(h,u),d&&function yce(r){r.lView[24]!==r&&(r.lView=null,wV.push(r))}(h)),B1()}}function IV(r,n){for(let i=OU(r);null!==i;i=NU(i))for(let s=10;s<i.length;s++)TV(i[s],n)}function Ece(r,n,i){const s=yo(n,r);TV(s,i)}function TV(r,n){C1(r)&&sD(r,n)}function sD(r,n){const s=r[1],a=r[2],l=r[24];let c=!!(0===n&&16&a);if(c||=!!(64&a&&0===n),c||=!!(1024&a),c||=!(!l?.dirty||!Bc(l)),c||=!1,l&&(l.dirty=!1),r[2]&=-9217,c)SV(s,r,s.template,r[8]);else if(8192&a){EV(r),IV(r,1);const d=s.components;null!==d&&DV(r,d,1),xV(r)}}function DV(r,n,i){for(let s=0;s<n.length;s++)Ece(r,n[s],i)}function Oy(r,n){const i=B4()?64:1088;for(r[10].changeDetectionScheduler?.notify(n);r;){r[2]|=i;const s=Hc(r);if(Vc(r)&&!s)return r;r=s}return null}function RV(r,n,i,s){return[r,!0,0,n,null,s,null,i,null,null]}function kV(r,n){const i=10+n;if(i<r.length)return r[i]}function im(r,n,i,s=!0){const a=n[1];if(function Sce(r,n,i,s){const a=10+s,l=i.length;s>0&&(i[a-1][4]=n),s<l-10?(n[4]=i[a],l4(i,10+s,n)):(i.push(n),n[4]=null),n[3]=i;const c=n[16];null!==c&&i!==c&&PV(c,n);const d=n[18];null!==d&&d.insertView(r),M1(n),n[2]|=128}(a,n,r,i),s){const c=nD(i,r),d=n[11],u=d.parentNode(r[7]);null!==u&&function cce(r,n,i,s,a,l){s[0]=a,s[5]=n,Fx(r,s,i,1,a,l)}(a,r[5],d,n,u,c)}const l=n[6];null!==l&&null!==l.firstChild&&(l.firstChild=null)}function oD(r,n){const i=Ny(r,n);return void 0!==i&&Fy(i[1],i),i}function Ny(r,n){if(r.length<=10)return;const i=10+n,s=r[i];if(s){const a=s[16];null!==a&&a!==r&&ZT(a,s),n>0&&(r[i-1][4]=s[4]);const l=D0(r,10+n);!function fV(r,n){pV(r,n),n[0]=null,n[5]=null}(s[1],s);const c=l[18];null!==c&&c.detachView(l[1]),s[3]=null,s[4]=null,s[2]&=-129}return s}function PV(r,n){const i=r[9],s=n[3];(yr(s)||n[15]!==s[3][15])&&(r[2]|=2),null===i?r[9]=[n]:i.push(n)}class By{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,i=n[1];return nm(i,n,i.firstChild,[])}constructor(n,i,s=!0){this._lView=n,this._cdRefInjectingView=i,this.notifyErrorHandler=s}get context(){return this._lView[8]}get dirty(){return!!(9280&this._lView[2])||!!this._lView[24]?.dirty}set context(n){this._lView[8]=n}get destroyed(){return Kd(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(fs(n)){const i=n[8],s=i?i.indexOf(this):-1;s>-1&&(Ny(n,s),D0(i,s))}this._attachedToViewContainer=!1}Fy(this._lView[1],this._lView)}onDestroy(n){G0(this._lView,n)}markForCheck(){Oy(this._cdRefInjectingView||this._lView,4)}markForRefresh(){E1(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){M1(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Ox(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Vc(this._lView),i=this._lView[16];null!==i&&!n&&ZT(i,this._lView),pV(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ee(902,!1);this._appRef=n;const i=Vc(this._lView),s=this._lView[16];null!==s&&!i&&PV(s,this._lView),M1(this._lView)}}let zi=(()=>class r{static __NG_ELEMENT_ID__=Dce})();const Ice=zi,Tce=class extends Ice{_declarationLView;_declarationTContainer;elementRef;constructor(n,i,s){super(),this._declarationLView=n,this._declarationTContainer=i,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,i){return this.createEmbeddedViewImpl(n,i)}createEmbeddedViewImpl(n,i,s){const a=em(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:i,dehydratedView:s});return new By(a)}};function Dce(){return Nx(Rn(),de())}function Nx(r,n){return 4&r.type?new Tce(n,r,zp(r,n)):null}function rm(r,n,i,s,a){let l=r.data[n];if(null===l)l=function dD(r,n,i,s,a){const l=F4(),c=R1(),u=r.data[n]=function zce(r,n,i,s,a,l){let c=n?n.injectorIndex:-1,d=0;return gh()&&(d|=128),{type:i,index:s,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:d,providerIndexes:0,value:a,attrs:l,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?l:l&&l.parent,i,n,s,a);return function Uce(r,n,i,s){null===r.firstChild&&(r.firstChild=n),null!==i&&(s?null==i.child&&null!==n.parent&&(i.child=n):null===i.next&&(i.next=n,n.prev=i))}(r,u,l,c),u}(r,n,i,s,a),function Yse(){return Yt.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=i,l.value=s,l.attrs=a;const c=function sy(){const r=Yt.lFrame,n=r.currentTNode;return r.isParent?n:n.parent}();l.injectorIndex=null===c?-1:c.injectorIndex}return al(l,!0),l}class Mde{}class n5{}class Sde{resolveComponentFactory(n){throw Error(`No component factory found for ${ds(n)}.`)}}class Gx{static NULL=new Sde}class dl{}let Ms=(()=>class r{destroyNode=null;static __NG_ELEMENT_ID__=()=>function Ide(){const r=de(),i=yo(Rn().index,r);return(yr(i)?i:r)[11]}()})(),Tde=(()=>{class r{static \u0275prov=we({token:r,providedIn:"root",factory:()=>null})}return r})();function bD(r,n,i){let s=i?r.styles:null,a=i?r.classes:null,l=0;if(null!==n)for(let c=0;c<n.length;c++){const d=n[c];"number"==typeof d?l=d:1==l?a=ZI(a,d):2==l&&(s=ZI(s,d+": "+n[++c]+";"))}i?r.styles=s:r.stylesWithoutHost=s,i?r.classes=a:r.classesWithoutHost=a}function me(r,n=Fn.Default){const i=de();return null===i?$e(r,n):iU(Rn(),i,$t(r),n)}function AD(r,n,i,s,a){const l=null===s?null:{"":-1},c=a(r,i);if(null!==c){let d,u=null,h=null;const f=function Pde(r){let n=null,i=!1;for(let c=0;c<r.length;c++){const d=r[c];if(0===c&&ma(d)&&(n=d),null!==d.findHostDirectiveDefs){i=!0;break}}if(!i)return null;let s=null,a=null,l=null;for(const c of r)null!==c.findHostDirectiveDefs&&(s??=[],a??=new Map,l??=new Map,Fde(c,s,l,a)),c===n&&(s??=[],s.push(c));return null!==s?(s.push(...null===n?r:r.slice(1)),[s,a,l]):null}(c);null===f?d=c:[d,u,h]=f,function Nde(r,n,i,s,a,l,c){const d=s.length;let u=!1;for(let g=0;g<d;g++){const m=s[g];!u&&ma(m)&&(u=!0,Ode(r,i,g)),j1(X0(i,n),r,m.type)}!function Hde(r,n,i){r.flags|=1,r.directiveStart=n,r.directiveEnd=n+i,r.providerIndexes=n}(i,r.data.length,d);for(let g=0;g<d;g++){const m=s[g];m.providersResolver&&m.providersResolver(m)}let h=!1,f=!1,p=ky(r,n,d,null);d>0&&(i.directiveToIndex=new Map);for(let g=0;g<d;g++){const m=s[g];if(i.mergedAttrs=Up(i.mergedAttrs,m.hostAttrs),Lde(r,i,n,p,m),Vde(p,m,a),null!==c&&c.has(m)){const[v,y]=c.get(m);i.directiveToIndex.set(m.type,[p,v+i.directiveStart,y+i.directiveStart])}else(null===l||!l.has(m))&&i.directiveToIndex.set(m.type,p);null!==m.contentQueries&&(i.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(i.flags|=64);const _=m.type.prototype;!h&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((r.preOrderHooks??=[]).push(i.index),h=!0),!f&&(_.ngOnChanges||_.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(i.index),f=!0),p++}!function Bde(r,n,i){for(let s=n.directiveStart;s<n.directiveEnd;s++){const a=r.data[s];if(null!==i&&i.has(a)){const l=i.get(a);a5(0,n,l,s),a5(1,n,l,s),c5(n,s,!0)}else o5(0,n,a,s),o5(1,n,a,s),c5(n,s,!1)}}(r,i,l)}(r,n,i,d,l,u,h)}null!==l&&null!==s&&function kde(r,n,i){const s=r.localNames=[];for(let a=0;a<n.length;a+=2){const l=i[n[a+1]];if(null==l)throw new ee(-301,!1);s.push(n[a],l)}}(i,s,l)}function Fde(r,n,i,s){const a=n.length;r.findHostDirectiveDefs(r,n,s),i.set(r,[a,n.length-1])}function Ode(r,n,i){n.componentOffset=i,(r.components??=[]).push(n.index)}function o5(r,n,i,s){const a=0===r?i.inputs:i.outputs;for(const l in a)if(a.hasOwnProperty(l)){let c;c=0===r?n.inputs??={}:n.outputs??={},c[l]??=[],c[l].push(s),l5(n,l)}}function a5(r,n,i,s){const a=0===r?i.inputs:i.outputs;for(const l in a)if(a.hasOwnProperty(l)){const c=a[l];let d;d=0===r?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},d[c]??=[],d[c].push(s,l),l5(n,c)}}function l5(r,n){"class"===n?r.flags|=8:"style"===n&&(r.flags|=16)}function c5(r,n,i){const{attrs:s,inputs:a,hostDirectiveInputs:l}=r;if(null===s||!i&&null===a||i&&null===l||UT(r))return r.initialInputs??=[],void r.initialInputs.push(null);let c=null,d=0;for(;d<s.length;){const u=s[d];if(0!==u)if(5!==u){if("number"==typeof u)break;if(!i&&a.hasOwnProperty(u)){const h=a[u];for(const f of h)if(f===n){c??=[],c.push(u,s[d+1]);break}}else if(i&&l.hasOwnProperty(u)){const h=l[u];for(let f=0;f<h.length;f+=2)if(h[f]===n){c??=[],c.push(h[f+1],s[d+1]);break}}d+=2}else d+=2;else d+=4}r.initialInputs??=[],r.initialInputs.push(c)}function Lde(r,n,i,s,a){r.data[s]=a;const l=a.factory||(a.factory=lh(a.type)),c=new ly(l,ma(a),me);r.blueprint[s]=c,i[s]=c,function Ude(r,n,i,s,a){const l=a.hostBindings;if(l){let c=r.hostBindingOpCodes;null===c&&(c=r.hostBindingOpCodes=[]);const d=~n.index;(function zde(r){let n=r.length;for(;n>0;){const i=r[--n];if("number"==typeof i&&i<0)return i}return 0})(c)!=d&&c.push(d),c.push(i,s,l)}}(r,n,s,ky(r,i,a.hostVars,ln),a)}function Vde(r,n,i){if(i){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)i[n.exportAs[s]]=r;ma(n)&&(i[""]=r)}}function d5(r,n,i,s,a,l,c,d){const u=n.consts,f=rm(n,r,2,s,Ba(u,c));return l&&AD(n,i,f,Ba(u,d),a),f.mergedAttrs=Up(f.mergedAttrs,f.attrs),null!==f.attrs&&bD(f,f.attrs,!1),null!==f.mergedAttrs&&bD(f,f.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,f),f}function u5(r,n){L1(r,n),A1(n)&&r.queries.elementEnd(n)}class h5 extends Gx{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const i=xn(n);return new Wy(i,this.ngModule)}}class Wy extends n5{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return function Gde(r){return Object.keys(r).map(n=>{const[i,s,a]=r[n],l={propName:i,templateName:n,isSignal:!!(s&Tx.SignalBased)};return a&&(l.transform=a),l})}(this.componentDef.inputs)}get outputs(){return function $de(r){return Object.keys(r).map(n=>({propName:r[n],templateName:n}))}(this.componentDef.outputs)}constructor(n,i){super(),this.componentDef=n,this.ngModule=i,this.componentType=n.type,this.selector=function Gle(r){return r.map(Hle).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!i}create(n,i,s,a){const l=qt(null);try{const c=this.componentDef,d=s?["ng-version","19.2.0"]:function $le(r){const n=[],i=[];let s=1,a=2;for(;s<r.length;){let l=r[s];if("string"==typeof l)2===a?""!==l&&n.push(l,r[++s]):8===a&&i.push(l);else{if(!cl(a))break;a=l}s++}return i.length&&n.push(1,...i),n}(this.componentDef.selectors[0]),u=HT(0,null,null,1,0,null,null,null,null,[d],null),h=function Qde(r,n,i){let s=n instanceof Ns?n:n?.injector;return s&&null!==r.getStandaloneInjector&&(s=r.getStandaloneInjector(s)||s),s?new yh(i,s):i}(c,a||this.ngModule,n),f=function jde(r){const n=r.get(dl,null);if(null===n)throw new ee(407,!1);return{rendererFactory:n,sanitizer:r.get(Tde,null),changeDetectionScheduler:r.get(jc,null)}}(h),p=f.rendererFactory.createRenderer(null,c),g=s?function Yle(r,n,i,s){const l=s.get(XU,!1)||i===Ua.ShadowDom,c=r.selectRootElement(n,l);return function Xle(r){dV(r)}(c),c}(p,s,c.encapsulation,h):function Wde(r,n){const i=(r.selectors[0][0]||"div").toLowerCase();return Sx(n,i,"svg"===i?"svg":"math"===i?"math":null)}(c,p),m=Ix(null,u,null,512|GT(c),null,null,f,p,h,null,null);m[26]=g,N1(m);let _=null;try{const v=d5(26,u,m,"#host",()=>[this.componentDef],!0,0);g&&(oV(p,g,v),Jo(g,m)),Dx(u,m,v),RT(u,v,m),u5(u,v),void 0!==i&&function Yde(r,n,i){const s=r.projection=[];for(let a=0;a<n.length;a++){const l=i[a];s.push(null!=l&&l.length?Array.from(l):null)}}(v,this.ngContentSelectors,i),_=yo(v.index,m),m[8]=_[8],kx(u,m,null)}catch(v){throw null!==_&&tT(_),tT(m),v}finally{B1()}return new qde(this.componentType,m)}finally{qt(l)}}}class qde extends Mde{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,i){super(),this._rootLView=i,this._tNode=ph(i[1],26),this.location=zp(this._tNode,i),this.instance=yo(this._tNode.index,i)[8],this.hostView=this.changeDetectorRef=new By(i,void 0,!1),this.componentType=n}setInput(n,i){const s=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),i))return;const a=this._rootLView;qT(s,a[1],a,n,i),this.previousInputValues.set(n,i),Oy(yo(s.index,a),1)}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Ki=(()=>class r{static __NG_ELEMENT_ID__=Xde})();function Xde(){return m5(Rn(),de())}const Kde=Ki,f5=class extends Kde{_lContainer;_hostTNode;_hostLView;constructor(n,i,s){super(),this._lContainer=n,this._hostTNode=i,this._hostLView=s}get element(){return zp(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const n=K0(this._hostTNode,this._hostLView);if(G1(n)){const i=dy(n,this._hostLView),s=cy(n);return new Rr(i[1].data[s+8],i)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const i=p5(this._lContainer);return null!==i&&i[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,i,s){let a,l;"number"==typeof s?a=s:null!=s&&(a=s.index,l=s.injector);const d=n.createEmbeddedViewImpl(i||{},l,null);return this.insertImpl(d,a,Eh(this._hostTNode,null)),d}createComponent(n,i,s,a,l){const c=n&&!function ry(r){return"function"==typeof r}(n);let d;if(c)d=i;else{const _=i||{};d=_.index,s=_.injector,a=_.projectableNodes,l=_.environmentInjector||_.ngModuleRef}const u=c?n:new Wy(xn(n)),h=s||this.parentInjector;if(!l&&null==u.ngModule){const v=(c?h:this.parentInjector).get(Ns,null);v&&(l=v)}xn(u.componentType??{});const m=u.create(h,a,null,l);return this.insertImpl(m.hostView,d,Eh(this._hostTNode,null)),m}insert(n,i){return this.insertImpl(n,i,!0)}insertImpl(n,i,s){const a=n._lView;if(function Use(r){return fs(r[3])}(a)){const d=this.indexOf(n);if(-1!==d)this.detach(d);else{const u=a[3],h=new f5(u,u[5],u[3]);h.detach(h.indexOf(n))}}const l=this._adjustIndex(i),c=this._lContainer;return im(c,a,l,s),n.attachToViewContainerRef(),l4(xD(c),l,n),n}move(n,i){return this.insert(n,i)}indexOf(n){const i=p5(this._lContainer);return null!==i?i.indexOf(n):-1}remove(n){const i=this._adjustIndex(n,-1),s=Ny(this._lContainer,i);s&&(D0(xD(this._lContainer),i),Fy(s[1],s))}detach(n){const i=this._adjustIndex(n,-1),s=Ny(this._lContainer,i);return s&&null!=D0(xD(this._lContainer),i)?new By(s):null}_adjustIndex(n,i=0){return n??this.length+i}};function p5(r){return r[8]}function xD(r){return r[8]||(r[8]=[])}function m5(r,n){let i;const s=n[r.index];return fs(s)?i=s:(i=RV(s,n,null,r),n[r.index]=i,$T(n,i)),g5(i,n,r,s),new f5(i,r,n)}let g5=function y5(r,n,i,s){if(r[7])return;let a;a=8&i.type?$n(s):function Zde(r,n){const i=r[11],s=i.createComment(""),a=_o(n,r),l=i.parentNode(a);return Ch(i,l,s,i.nextSibling(a),!1),s}(n,i),r[7]=a};class CD{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new CD(this.queryList)}setDirty(){this.queryList.setDirty()}}class ED{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const i=n.queries;if(null!==i){const s=null!==n.contentQueries?n.contentQueries[0]:i.length,a=[];for(let l=0;l<s;l++){const c=i.getByIndex(l);a.push(this.queries[c.indexInDeclarationView].clone())}return new ED(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let i=0;i<this.queries.length;i++)null!==DD(n,i).matches&&this.queries[i].setDirty()}}class v5{flags;read;predicate;constructor(n,i,s=null){this.flags=i,this.read=s,this.predicate="string"==typeof n?function oue(r){return r.split(",").map(n=>n.trim())}(n):n}}class MD{queries;constructor(n=[]){this.queries=n}elementStart(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,i)}elementEnd(n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementEnd(n)}embeddedTView(n){let i=null;for(let s=0;s<this.length;s++){const a=null!==i?i.length:0,l=this.getByIndex(s).embeddedTView(n,a);l&&(l.indexInDeclarationView=s,null!==i?i.push(l):i=[l])}return null!==i?new MD(i):null}template(n,i){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,i)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class SD{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,i=-1){this.metadata=n,this._declarationNodeIndex=i}elementStart(n,i){this.isApplyingToNode(i)&&this.matchTNode(n,i)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,i){this.elementStart(n,i)}embeddedTView(n,i){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,i),new SD(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const i=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==i;)s=s.parent;return i===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,i){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const l=s[a];this.matchTNodeWithReadOption(n,i,nue(i,l)),this.matchTNodeWithReadOption(n,i,Z0(i,n,l,!1,!1))}else s===zi?4&i.type&&this.matchTNodeWithReadOption(n,i,-1):this.matchTNodeWithReadOption(n,i,Z0(i,n,s,!1,!1))}matchTNodeWithReadOption(n,i,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===Mt||a===Ki||a===zi&&4&i.type)this.addMatch(i.index,-2);else{const l=Z0(i,n,a,!1,!1);null!==l&&this.addMatch(i.index,l)}else this.addMatch(i.index,s)}}addMatch(n,i){null===this.matches?this.matches=[n,i]:this.matches.push(n,i)}}function nue(r,n){const i=r.localNames;if(null!==i)for(let s=0;s<i.length;s+=2)if(i[s]===n)return i[s+1];return null}function rue(r,n,i,s){return-1===i?function iue(r,n){return 11&r.type?zp(r,n):4&r.type?Nx(r,n):null}(n,r):-2===i?function sue(r,n,i){return i===Mt?zp(n,r):i===zi?Nx(n,r):i===Ki?m5(n,r):void 0}(r,n,s):uy(r,r[1],i,n)}function b5(r,n,i,s){const a=n[18].queries[s];if(null===a.matches){const l=r.data,c=i.matches,d=[];for(let u=0;null!==c&&u<c.length;u+=2){const h=c[u];d.push(h<0?null:rue(n,l[h],c[u+1],i.metadata.read))}a.matches=d}return a.matches}function ID(r,n,i,s){const a=r.queries.getByIndex(i),l=a.matches;if(null!==l){const c=b5(r,n,a,i);for(let d=0;d<l.length;d+=2){const u=l[d];if(u>0)s.push(c[d/2]);else{const h=l[d+1],f=n[-u];for(let p=10;p<f.length;p++){const g=f[p];g[16]===g[3]&&ID(g[1],g,h,s)}if(null!==f[9]){const p=f[9];for(let g=0;g<p.length;g++){const m=p[g];ID(m[1],m,h,s)}}}}}return s}function A5(r,n,i){const s=new bh(!(4&~i));return function zse(r,n,i,s){const a=k4(n);a.push(i),r.firstCreatePass&&P4(r).push(s,a.length-1)}(r,n,s,s.destroy),(n[18]??=new ED).queries.push(new CD(s))-1}function C5(r,n,i){null===r.queries&&(r.queries=new MD),r.queries.track(new SD(n,i))}function DD(r,n){return r.queries.getByIndex(n)}function E5(r,n){const i=r[1],s=DD(i,n);return s.crossesNgTemplate?ID(i,r,n,[]):b5(i,r,s,n)}class Xc{}class N5{}class kD extends Xc{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new h5(this);constructor(n,i,s,a=!0){super(),this.ngModuleType=n,this._parent=i;const l=qs(n);this._bootstrapComponents=ya(l.bootstrap),this._r3Injector=fU(n,i,[{provide:Xc,useValue:this},{provide:Gx,useValue:this.componentFactoryResolver},...s],ds(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(i=>i()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class PD extends N5{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new kD(this.moduleType,n,[])}}class B5 extends Xc{injector;componentFactoryResolver=new h5(this);instance=null;constructor(n){super();const i=new dh([...n.providers,{provide:Xc,useValue:this},{provide:Gx,useValue:this.componentFactoryResolver}],n.parent||O0(),n.debugName,new Set(["environment"]));this.injector=i,n.runEnvironmentInitializers&&i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function jx(r,n,i=null){return new B5({providers:r,parent:n,debugName:i,runEnvironmentInitializers:!0}).injector}let vue=(()=>{class r{_injector;cachedInjectors=new Map;constructor(i){this._injector=i}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){const s=h1(0,i.type),a=s.length>0?jx([s],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,a)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(const i of this.cachedInjectors.values())null!==i&&i.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=we({token:r,providedIn:"environment",factory:()=>new r($e(Ns))})}return r})();function Ge(r){return Lc(()=>{const n=L5(r),i={...n,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===ix.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&r.dependencies||null,getStandaloneInjector:n.standalone?a=>a.get(vue).getOrCreateStandaloneInjector(i):null,getExternalStyles:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||Ua.Emulated,styles:r.styles||Jn,_:null,schemas:r.schemas||null,tView:null,id:""};n.standalone&&ea("NgStandalone"),U5(i);const s=r.dependencies;return i.directiveDefs=Wx(s,!1),i.pipeDefs=Wx(s,!0),i.id=function Eue(r){let n=0;const s=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,"function"==typeof r.consts?"":r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery];for(const l of s.join("|"))n=Math.imul(31,n)+l.charCodeAt(0)|0;return n+=2147483648,"c"+n}(i),i})}function bue(r){return xn(r)||us(r)}function Aue(r){return null!==r}function Ze(r){return Lc(()=>({type:r.type,bootstrap:r.bootstrap||Jn,declarations:r.declarations||Jn,imports:r.imports||Jn,exports:r.exports||Jn,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function xue(r,n){if(null==r)return rl;const i={};for(const s in r)if(r.hasOwnProperty(s)){const a=r[s];let l,c,d,u;Array.isArray(a)?(d=a[0],l=a[1],c=a[2]??l,u=a[3]||null):(l=a,c=a,d=Tx.None,u=null),i[l]=[s,d,u],n[l]=c}return i}function wue(r){if(null==r)return rl;const n={};for(const i in r)r.hasOwnProperty(i)&&(n[r[i]]=i);return n}function _e(r){return Lc(()=>{const n=L5(r);return U5(n),n})}function Xs(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:r.standalone??!0,onDestroy:r.type.prototype.ngOnDestroy||null}}function L5(r){const n={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:n,inputConfig:r.inputs||rl,exportAs:r.exportAs||null,standalone:r.standalone??!0,signals:!0===r.signals,selectors:r.selectors||Jn,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xue(r.inputs,n),outputs:wue(r.outputs),debugInfo:null}}function U5(r){r.features?.forEach(n=>n(r))}function Wx(r,n){if(!r)return null;const i=n?Os:bue;return()=>("function"==typeof r?r():r).map(s=>i(s)).filter(Aue)}function Je(r){let n=function z5(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),i=!0;const s=[r];for(;n;){let a;if(ma(r))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ee(903,!1);a=n.\u0275dir}if(a){if(i){s.push(a);const c=r;c.inputs=FD(r.inputs),c.declaredInputs=FD(r.declaredInputs),c.outputs=FD(r.outputs);const d=a.hostBindings;d&&Due(r,d);const u=a.viewQuery,h=a.contentQueries;if(u&&Iue(r,u),h&&Tue(r,h),Mue(r,a),Hre(r.outputs,a.outputs),ma(a)&&a.data.animation){const f=r.data;f.animation=(f.animation||[]).concat(a.data.animation)}}const l=a.features;if(l)for(let c=0;c<l.length;c++){const d=l[c];d&&d.ngInherit&&d(r),d===Je&&(i=!1)}}n=Object.getPrototypeOf(n)}!function Sue(r){let n=0,i=null;for(let s=r.length-1;s>=0;s--){const a=r[s];a.hostVars=n+=a.hostVars,a.hostAttrs=Up(a.hostAttrs,i=Up(i,a.hostAttrs))}}(s)}function Mue(r,n){for(const i in n.inputs){if(!n.inputs.hasOwnProperty(i)||r.inputs.hasOwnProperty(i))continue;const s=n.inputs[i];void 0!==s&&(r.inputs[i]=s,r.declaredInputs[i]=n.declaredInputs[i])}}function FD(r){return r===rl?{}:r===Jn?[]:r}function Iue(r,n){const i=r.viewQuery;r.viewQuery=i?(s,a)=>{n(s,a),i(s,a)}:n}function Tue(r,n){const i=r.contentQueries;r.contentQueries=i?(s,a,l)=>{n(s,a,l),i(s,a,l)}:n}function Due(r,n){const i=r.hostBindings;r.hostBindings=i?(s,a)=>{n(s,a),i(s,a)}:n}function qx(r){return!!function ND(r){return null!==r&&("function"==typeof r||"object"==typeof r)}(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function ql(r,n,i){return r[n]=i}function kr(r,n,i){return!Object.is(r[n],i)&&(r[n]=i,!0)}function Xy(r,n,i,s,a,l,c,d,u,h){const f=i+26,p=n.firstCreatePass?function Lue(r,n,i,s,a,l,c,d,u){const h=n.consts,f=rm(n,r,4,c||null,d||null);D1()&&AD(n,i,f,Ba(h,u),jT),f.mergedAttrs=Up(f.mergedAttrs,f.attrs),L1(n,f);const p=f.tView=HT(2,f,s,a,l,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return null!==n.queries&&(n.queries.template(n,f),p.queries=n.queries.embeddedTView(f)),f}(f,n,r,s,a,l,c,d,u):n.data[f];al(p,!1);const g=j5(n,r,p,i);ay()&&Px(n,r,g,p),Jo(g,r);const m=RV(g,r,g,p);return r[f]=m,$T(r,m),z0(p)&&Dx(n,r,p),null!=u&&QT(r,p,h),p}function ge(r,n,i,s,a,l,c,d){const u=de(),h=Qt();return Xy(u,h,r,n,i,s,a,Ba(h.consts,l),c,d),ge}let j5=function W5(r,n,i,s){return Hl(!0),n[11].createComment("")};let eH=(()=>{class r{log(i){console.log(i)}warn(i){console.warn(i)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const aH=new se(""),Jx=new se("");let $D,HD=(()=>{class r{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(i,s,a){this._ngZone=i,this.registry=s,$D||(function Bhe(r){$D=r}(a),a.addToWindow(s)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(i)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,s,a){let l=-1;s&&s>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==l),i()},s)),this._callbacks.push({doneCb:i,timeoutId:l,updateCb:a})}whenStable(i,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,s,a),this._runCallbacksIfReady()}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,s,a){return[]}static \u0275fac=function(s){return new(s||r)($e(_t),$e(GD),$e(Jx))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})(),GD=(()=>{class r{_applications=new Map;registerApplication(i,s){this._applications.set(i,s)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,s=!0){return $D?.findTestabilityInTree(this,i,s)??null}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),QD=(()=>{class r{static \u0275prov=we({token:r,providedIn:"root",factory:()=>new lH})}return r})();class lH{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const s=this.queues.get(n.zone);s.has(n)&&(s.delete(n),this.queuedEffectCount--)}enqueue(n){const i=n.zone;this.queues.has(i)||this.queues.set(i,new Set);const s=this.queues.get(i);s.has(n)||(this.queuedEffectCount++,s.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,i]of this.queues)null===n?this.flushQueue(i):n.run(()=>this.flushQueue(i))}flushQueue(n){for(const i of n)n.delete(i),this.queuedEffectCount--,i.run()}}function Zy(r){return!!r&&"function"==typeof r.then}function cH(r){return!!r&&"function"==typeof r.subscribe}const Jy=new se("");let dH=(()=>{class r{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s});appInits=D(Jy,{optional:!0})??[];injector=D(On);constructor(){}runInitializers(){if(this.initialized)return;const i=[];for(const a of this.appInits){const l=Na(this.injector,a);if(Zy(l))i.push(l);else if(cH(l)){const c=new Promise((d,u)=>{l.subscribe({complete:d,error:u})});i.push(c)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{s()}).catch(a=>{this.reject(a)}),0===i.length&&s(),this.initialized=!0}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const dm=new se("");function hH(r,n){return Array.isArray(n)?n.reduce(hH,r):{...r,...n}}let Co=(()=>{class r{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=D(Boe);afterRenderManager=D(_T);zonelessEnabled=D(fy);rootEffectScheduler=D(QD);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Qe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=D(ll).hasPendingTasks.pipe(je(i=>!i));constructor(){D(Gp,{optional:!0})}whenStable(){let i;return new Promise(s=>{i=this.isStable.subscribe({next:a=>{a&&s()}})}).finally(()=>{i.unsubscribe()})}_injector=D(Ns);_rendererFactory=null;get injector(){return this._injector}bootstrap(i,s){const a=i instanceof n5;if(!this._injector.get(dH).done)throw!a&&function qd(r){const n=xn(r)||us(r)||Os(r);return null!==n&&n.standalone}(i),new ee(405,!1);let c;c=a?i:this._injector.get(Gx).resolveComponentFactory(i),this.componentTypes.push(c.componentType);const d=function Lhe(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Xc),h=c.create(On.NULL,[],s||c.selector,d),f=h.location.nativeElement,p=h.injector.get(aH,null);return p?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),ew(this.components,h),p?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(gT.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new ee(101,!1);const i=qt(null);try{this._runningTick=!0,this.synchronize()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,qt(i),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(dl,null,{optional:!0}));let i=0;for(;0!==this.dirtyFlags&&i++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const i=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:a}of this.allViews)zhe(s,a,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:i})=>H0(i))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(i){const s=i;this._views.push(s),s.attachToAppRef(this)}detachView(i){const s=i;ew(this._views,s),s.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i),this._injector.get(dm,[]).forEach(a=>a(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>ew(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new ee(406,!1);const i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ew(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}function zhe(r,n,i,s){(i||H0(r))&&Ox(r,n,i&&!s?0:1)}function en(r,n,i,s){const a=de();return kr(a,La(),n)&&(Qt(),Wl(Ii(),a,r,n,i,s)),en}function hm(r,n,i,s){return kr(r,La(),i)?n+an(i)+s:ln}function tw(r,n){return r<<17|n<<2}function lu(r){return r>>17&32767}function YD(r){return 2|r}function Dh(r){return(131068&r)>>2}function XD(r,n){return-131069&r|n<<2}function KD(r){return 1|r}function IH(r,n,i,s){const a=r[i+1],l=null===n;let c=s?lu(a):Dh(a),d=!1;for(;0!==c&&(!1===d||l);){const h=r[c+1];Mfe(r[c],n)&&(d=!0,r[c+1]=s?KD(h):YD(h)),c=s?lu(h):Dh(h)}d&&(r[i+1]=s?YD(a):KD(a))}function Mfe(r,n){return null===r||null==n||(Array.isArray(r)?r[1]:r)===n||!(!Array.isArray(r)||"string"!=typeof n)&&Mp(r,n)>=0}const ms={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function TH(r){return r.substring(ms.key,ms.keyEnd)}function Sfe(r){return r.substring(ms.value,ms.valueEnd)}function DH(r,n){const i=ms.textEnd;return i===n?-1:(n=ms.keyEnd=function Dfe(r,n,i){for(;n<i&&r.charCodeAt(n)>32;)n++;return n}(r,ms.key=n,i),bm(r,n,i))}function RH(r,n){const i=ms.textEnd;let s=ms.key=bm(r,n,i);return i===s?-1:(s=ms.keyEnd=function Rfe(r,n,i){let s;for(;n<i&&(45===(s=r.charCodeAt(n))||95===s||(-33&s)>=65&&(-33&s)<=90||s>=48&&s<=57);)n++;return n}(r,s,i),s=PH(r,s,i),s=ms.value=bm(r,s,i),s=ms.valueEnd=function kfe(r,n,i){let s=-1,a=-1,l=-1,c=n,d=c;for(;c<i;){const u=r.charCodeAt(c++);if(59===u)return d;34===u||39===u?d=c=FH(r,u,c,i):n===c-4&&85===l&&82===a&&76===s&&40===u?d=c=FH(r,41,c,i):u>32&&(d=c),l=a,a=s,s=-33&u}return d}(r,s,i),PH(r,s,i))}function kH(r){ms.key=0,ms.keyEnd=0,ms.value=0,ms.valueEnd=0,ms.textEnd=r.length}function bm(r,n,i){for(;n<i&&r.charCodeAt(n)<=32;)n++;return n}function PH(r,n,i,s){return(n=bm(r,n,i))<i&&n++,n}function FH(r,n,i,s){let a=-1,l=i;for(;l<s;){const c=r.charCodeAt(l++);if(c==n&&92!==a)return l;a=92==c&&92===a?0:c}throw new Error}function j(r,n,i){const s=de();return kr(s,La(),n)&&na(Qt(),Ii(),s,r,n,s[11],i,!1),j}function ZD(r,n,i,s,a){qT(n,r,i,a?"class":"style",s)}function Eo(r,n,i){return ul(r,n,i,!1),Eo}function Lt(r,n){return ul(r,n,null,!0),Lt}function Vi(r){hl(BH,Pfe,r,!1)}function Pfe(r,n){for(let i=function Tfe(r){return kH(r),RH(r,bm(r,0,ms.textEnd))}(n);i>=0;i=RH(n,i))BH(r,TH(n),Sfe(n))}function Jr(r){hl(Ufe,Yl,r,!0)}function Yl(r,n){for(let i=function Ife(r){return kH(r),DH(r,bm(r,0,ms.textEnd))}(n);i>=0;i=DH(n,i))pa(r,TH(n),!0)}function ul(r,n,i,s){const a=de(),l=Qt(),c=$c(2);l.firstUpdatePass&&NH(l,r,c,s),n!==ln&&kr(a,c,n)&&LH(l,l.data[Bs()],a,a[11],r,a[c+1]=function Vfe(r,n){return null==r||""===r||("string"==typeof n?r+=n:"object"==typeof r&&(r=ds(ta(r)))),r}(n,i),s,c)}function hl(r,n,i,s){const a=Qt(),l=$c(2);a.firstUpdatePass&&NH(a,null,l,s);const c=de();if(i!==ln&&kr(c,l,i)){const d=a.data[Bs()];if(zH(d,s)&&!OH(a,l)){let u=s?d.classesWithoutHost:d.stylesWithoutHost;null!==u&&(i=ZI(u,i||"")),ZD(a,d,c,i,s)}else!function zfe(r,n,i,s,a,l,c,d){a===ln&&(a=Jn);let u=0,h=0,f=0<a.length?a[0]:null,p=0<l.length?l[0]:null;for(;null!==f||null!==p;){const g=u<a.length?a[u+1]:void 0,m=h<l.length?l[h+1]:void 0;let v,_=null;f===p?(u+=2,h+=2,g!==m&&(_=p,v=m)):null===p||null!==f&&f<p?(u+=2,_=f):(h+=2,_=p,v=m),null!==_&&LH(r,n,i,s,_,v,c,d),f=u<a.length?a[u]:null,p=h<l.length?l[h]:null}}(a,d,c,c[11],c[l+1],c[l+1]=function Lfe(r,n,i){if(null==i||""===i)return Jn;const s=[],a=ta(i);if(Array.isArray(a))for(let l=0;l<a.length;l++)r(s,a[l],!0);else if("object"==typeof a)for(const l in a)a.hasOwnProperty(l)&&r(s,l,a[l]);else"string"==typeof a&&n(s,a);return s}(r,n,i),s,l)}}function OH(r,n){return n>=r.expandoStartIndex}function NH(r,n,i,s){const a=r.data;if(null===a[i+1]){const l=a[Bs()],c=OH(r,i);zH(l,s)&&null===n&&!c&&(n=!1),n=function Ffe(r,n,i,s){const a=function F1(r){const n=Yt.lFrame.currentDirectiveIndex;return-1===n?null:r[n]}(r);let l=s?n.residualClasses:n.residualStyles;if(null===a)0===(s?n.classBindings:n.styleBindings)&&(i=tv(i=JD(null,r,n,i,s),n.attrs,s),l=null);else{const c=n.directiveStylingLast;if(-1===c||r[c]!==a)if(i=JD(a,r,n,i,s),null===l){let u=function Ofe(r,n,i){const s=i?n.classBindings:n.styleBindings;if(0!==Dh(s))return r[lu(s)]}(r,n,s);void 0!==u&&Array.isArray(u)&&(u=JD(null,r,n,u[1],s),u=tv(u,n.attrs,s),function Nfe(r,n,i,s){r[lu(i?n.classBindings:n.styleBindings)]=s}(r,n,s,u))}else l=function Bfe(r,n,i){let s;const a=n.directiveEnd;for(let l=1+n.directiveStylingLast;l<a;l++)s=tv(s,r[l].hostAttrs,i);return tv(s,n.attrs,i)}(r,n,s)}return void 0!==l&&(s?n.residualClasses=l:n.residualStyles=l),i}(a,l,n,s),function Cfe(r,n,i,s,a,l){let c=l?n.classBindings:n.styleBindings,d=lu(c),u=Dh(c);r[s]=i;let f,h=!1;if(Array.isArray(i)?(f=i[1],(null===f||Mp(i,f)>0)&&(h=!0)):f=i,a)if(0!==u){const g=lu(r[d+1]);r[s+1]=tw(g,d),0!==g&&(r[g+1]=XD(r[g+1],s)),r[d+1]=function xfe(r,n){return 131071&r|n<<17}(r[d+1],s)}else r[s+1]=tw(d,0),0!==d&&(r[d+1]=XD(r[d+1],s)),d=s;else r[s+1]=tw(u,0),0===d?d=s:r[u+1]=XD(r[u+1],s),u=s;h&&(r[s+1]=YD(r[s+1])),IH(r,f,s,!0),IH(r,f,s,!1),function Efe(r,n,i,s,a){const l=a?r.residualClasses:r.residualStyles;null!=l&&"string"==typeof n&&Mp(l,n)>=0&&(i[s+1]=KD(i[s+1]))}(n,f,r,s,l),c=tw(d,u),l?n.classBindings=c:n.styleBindings=c}(a,l,n,i,c,s)}}function JD(r,n,i,s,a){let l=null;const c=i.directiveEnd;let d=i.directiveStylingLast;for(-1===d?d=i.directiveStart:d++;d<c&&(l=n[d],s=tv(s,l.hostAttrs,a),l!==r);)d++;return null!==r&&(i.directiveStylingLast=d),s}function tv(r,n,i){const s=i?1:2;let a=-1;if(null!==n)for(let l=0;l<n.length;l++){const c=n[l];"number"==typeof c?a=c:a===s&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),pa(r,c,!!i||n[++l]))}return void 0===r?null:r}function BH(r,n,i){pa(r,n,ta(i))}function Ufe(r,n,i){const s=String(n);""!==s&&!s.includes(" ")&&pa(r,s,i)}function LH(r,n,i,s,a,l,c,d){if(!(3&n.type))return;const u=r.data,h=u[d+1],f=function wfe(r){return!(1&~r)}(h)?UH(u,n,i,a,Dh(h),c):void 0;nw(f)||(nw(l)||function Afe(r){return!(2&~r)}(h)&&(l=UH(u,null,i,a,d,c)),function mce(r,n,i,s,a){if(n)a?r.addClass(i,s):r.removeClass(i,s);else{let l=-1===s.indexOf("-")?void 0:tu.DashCase;null==a?r.removeStyle(i,s,l):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),l|=tu.Important),r.setStyle(i,s,a,l))}}(s,c,Np(Bs(),i),a,l))}function UH(r,n,i,s,a,l){const c=null===n;let d;for(;a>0;){const u=r[a],h=Array.isArray(u),f=h?u[1]:u,p=null===f;let g=i[a+1];g===ln&&(g=p?Jn:void 0);let m=p?d1(g,s):f===s?g:void 0;if(h&&!nw(m)&&(m=d1(u,s)),nw(m)&&(d=m,c))return d;const _=r[a+1];a=c?lu(_):Dh(_)}if(null!==n){let u=l?n.residualClasses:n.residualStyles;null!=u&&(d=d1(u,s))}return d}function nw(r){return void 0!==r}function zH(r,n){return!!(r.flags&(n?8:16))}class Kfe{destroy(n){}updateValue(n,i){}swap(n,i){const s=Math.min(n,i),a=Math.max(n,i),l=this.detach(a);if(a-s>1){const c=this.detach(s);this.attach(s,l),this.attach(a,c)}else this.attach(s,l)}move(n,i){this.attach(i,this.detach(n))}}function eR(r,n,i,s,a){return r===i&&Object.is(n,s)?1:Object.is(a(r,n),a(i,s))?-1:0}function tR(r,n,i,s){return!(void 0===n||!n.has(s)||(r.attach(i,n.get(s)),n.delete(s),0))}function HH(r,n,i,s,a){if(tR(r,n,s,i(s,a)))r.updateValue(s,a);else{const l=r.create(s,a);r.attach(s,l)}}function GH(r,n,i,s){const a=new Set;for(let l=n;l<=i;l++)a.add(s(l,r.at(l)));return a}class $H{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const i=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(i)?(this.kvMap.set(n,this._vMap.get(i)),this._vMap.delete(i)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,i){if(this.kvMap.has(n)){let s=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const a=this._vMap;for(;a.has(s);)s=a.get(s);a.set(s,i)}else this.kvMap.set(n,i)}forEach(n){for(let[i,s]of this.kvMap)if(n(s,i),void 0!==this._vMap){const a=this._vMap;for(;a.has(s);)s=a.get(s),n(s,i)}}}function Vr(r,n){ea("NgControlFlow");const i=de(),s=La(),a=i[s]!==ln?i[s]:-1,l=-1!==a?iw(i,26+a):void 0;if(kr(i,s,r)){const d=qt(null);try{if(void 0!==l&&oD(l,0),-1!==r){const u=26+r,h=iw(i,u),f=nR(i[1],u),p=null;im(h,em(i,f,n,{dehydratedView:p}),0,Eh(f,p))}}finally{qt(d)}}else if(void 0!==l){const d=kV(l,0);void 0!==d&&(d[8]=n)}}class Jfe{lContainer;$implicit;$index;constructor(n,i,s){this.lContainer=n,this.$implicit=i,this.$index=s}get $count(){return this.lContainer.length-10}}function nv(r,n){return n}class tpe{hasEmptyBlock;trackByFn;liveCollection;constructor(n,i,s){this.hasEmptyBlock=n,this.trackByFn=i,this.liveCollection=s}}function iv(r,n,i,s,a,l,c,d,u,h,f,p,g){ea("NgControlFlow");const m=de(),_=Qt(),v=void 0!==u,y=de(),b=d?c.bind(y[15][8]):c,A=new tpe(v,b);y[26+r]=A,Xy(m,_,r+1,n,i,s,a,Ba(_.consts,l)),v&&Xy(m,_,r+2,u,h,f,p,Ba(_.consts,g))}class npe extends Kfe{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,i,s){super(),this.lContainer=n,this.hostLView=i,this.templateTNode=s}get length(){return this.lContainer.length-10}at(n){return this.getLView(n)[8].$implicit}attach(n,i){const s=i[6];this.needsIndexUpdate||=n!==this.length,im(this.lContainer,i,n,Eh(this.templateTNode,s))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function ipe(r,n){return Ny(r,n)}(this.lContainer,n)}create(n,i){const a=em(this.hostLView,this.templateTNode,new Jfe(this.lContainer,i,n),{dehydratedView:null});return this.operationsCounter?.recordCreate(),a}destroy(n){Fy(n[1],n),this.operationsCounter?.recordDestroy()}updateValue(n,i){this.getLView(n)[8].$implicit=i}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[8].$index=n}getLView(n){return function rpe(r,n){return kV(r,n)}(this.lContainer,n)}}function rv(r){const n=qt(null),i=Bs();try{const s=de(),a=s[1],l=s[i],c=i+1,d=iw(s,c);if(void 0===l.liveCollection){const h=nR(a,c);l.liveCollection=new npe(d,s,h)}else l.liveCollection.reset();const u=l.liveCollection;if(function Zfe(r,n,i){let s,a,l=0,c=r.length-1;if(Array.isArray(n)){let u=n.length-1;for(;l<=c&&l<=u;){const h=r.at(l),f=n[l],p=eR(l,h,l,f,i);if(0!==p){p<0&&r.updateValue(l,f),l++;continue}const g=r.at(c),m=n[u],_=eR(c,g,u,m,i);if(0!==_){_<0&&r.updateValue(c,m),c--,u--;continue}const v=i(l,h),y=i(c,g),b=i(l,f);if(Object.is(b,y)){const A=i(u,m);Object.is(A,v)?(r.swap(l,c),r.updateValue(c,m),u--,c--):r.move(c,l),r.updateValue(l,f),l++}else if(s??=new $H,a??=GH(r,l,c,i),tR(r,s,l,b))r.updateValue(l,f),l++,c++;else if(a.has(b))s.set(v,r.detach(l)),c--;else{const A=r.create(l,n[l]);r.attach(l,A),l++,c++}}for(;l<=u;)HH(r,s,i,l,n[l]),l++}else if(null!=n){const u=n[Symbol.iterator]();let h=u.next();for(;!h.done&&l<=c;){const f=r.at(l),p=h.value,g=eR(l,f,l,p,i);if(0!==g)g<0&&r.updateValue(l,p),l++,h=u.next();else{s??=new $H,a??=GH(r,l,c,i);const m=i(l,p);if(tR(r,s,l,m))r.updateValue(l,p),l++,c++,h=u.next();else if(a.has(m)){const _=i(l,f);s.set(_,r.detach(l)),c--}else r.attach(l,r.create(l,p)),l++,c++,h=u.next()}}for(;!h.done;)HH(r,s,i,r.length,h.value),h=u.next()}for(;l<=c;)r.destroy(r.detach(c--));s?.forEach(u=>{r.destroy(u)})}(u,r,l.trackByFn),u.updateIndexes(),l.hasEmptyBlock){const h=La(),f=0===u.length;if(kr(s,h,f)){const p=i+2,g=iw(s,p);if(f){const m=nR(a,p),_=null;im(g,em(s,m,void 0,{dehydratedView:_}),0,Eh(m,_))}else oD(g,0)}}}finally{qt(n)}}function iw(r,n){return r[n]}function nR(r,n){return ph(r,n)}function Y(r,n,i,s){const a=de(),l=Qt(),c=26+r,d=a[11],u=l.firstCreatePass?d5(c,l,a,n,jT,D1(),i,s):l.data[c],h=QH(l,a,u,d,n,r);a[c]=h;const f=z0(u);return al(u,!0),oV(d,h,u),!nu(u)&&ay()&&Px(l,a,h,u),(0===function Vse(){return Yt.lFrame.elementDepthCount}()||f)&&Jo(h,a),function Hse(){Yt.lFrame.elementDepthCount++}(),f&&(Dx(l,a,u),RT(l,u,a)),null!==s&&QT(a,u),Y}function W(){let r=Rn();R1()?k1():(r=r.parent,al(r,!1));const n=r;(function $se(r){return Yt.skipHydrationRootTNode===r})(n)&&function qse(){Yt.skipHydrationRootTNode=null}(),function Gse(){Yt.lFrame.elementDepthCount--}();const i=Qt();return i.firstCreatePass&&u5(i,n),null!=n.classesWithoutHost&&function aoe(r){return!!(8&r.flags)}(n)&&ZD(i,n,de(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function loe(r){return!!(16&r.flags)}(n)&&ZD(i,n,de(),n.stylesWithoutHost,!1),W}function Te(r,n,i,s){return Y(r,n,i,s),W(),Te}let QH=(r,n,i,s,a,l)=>(Hl(!0),Sx(s,a,function Q4(){return Yt.lFrame.currentNamespace}()));function ei(r,n,i){const s=de(),a=Qt(),l=r+26,c=a.firstCreatePass?function ape(r,n,i,s,a){const l=n.consts,c=Ba(l,s),d=rm(n,r,8,"ng-container",c);null!==c&&bD(d,c,!0);const u=Ba(l,a);return D1()&&AD(n,i,d,u,jT),d.mergedAttrs=Up(d.mergedAttrs,d.attrs),null!==n.queries&&n.queries.elementStart(n,d),d}(l,a,s,n,i):a.data[l];al(c,!0);const d=jH(a,s,c,r);return s[l]=d,ay()&&Px(a,s,d,c),Jo(d,s),z0(c)&&(Dx(a,s,c),RT(a,c,s)),null!=i&&QT(s,c),ei}function ti(){let r=Rn();const n=Qt();return R1()?k1():(r=r.parent,al(r,!1)),n.firstCreatePass&&(L1(n,r),A1(r)&&n.queries.elementEnd(r)),ti}function Hr(r,n,i){return ei(r,n,i),ti(),Hr}let jH=(r,n,i,s)=>(Hl(!0),VT(n[11],""));function Xn(){return de()}function Rh(r,n,i){const s=de();return kr(s,La(),n)&&na(Qt(),Ii(),s,r,n,s[11],i,!0),Rh}const rw="en-US";let XH=rw;function ht(r,n,i,s){const a=de(),l=Qt(),c=Rn();return function sR(r,n,i,s,a,l,c){const d=z0(s),h=r.firstCreatePass?P4(r):null,f=n[8],p=k4(n);let g=!0;if(3&s.type||c){const m=_o(s,n),_=c?c(m):m,v=p.length,y=c?A=>c($n(A[s.index])):s.index;let b=null;if(!c&&d&&(b=function eme(r,n,i,s){const a=r.cleanup;if(null!=a)for(let l=0;l<a.length-1;l+=2){const c=a[l];if(c===i&&a[l+1]===s){const d=n[7],u=a[l+2];return d.length>u?d[u]:null}"string"==typeof c&&(l+=2)}return null}(r,n,a,s.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=l,b.__ngLastListenerFn__=l,g=!1;else{l=vG(s,n,f,l);const A=i.listen(_,a,l);p.push(l,A),h&&h.push(a,y,v,v+1)}}else l=vG(s,n,f,l);if(g){const m=s.outputs?.[a],_=s.hostDirectiveOutputs?.[a];if(_&&_.length)for(let v=0;v<_.length;v+=2)_G(s,r,n,_[v],_[v+1],a,l,p,h);if(m&&m.length)for(const v of m)_G(s,r,n,v,a,a,l,p,h)}}(l,a,a[11],c,r,n,s),ht}function _G(r,n,i,s,a,l,c,d,u){const m=i[s][n.data[s].outputs[a]].subscribe(c),_=d.length;d.push(c,m),u&&u.push(l,r.index,_,-(_+1))}function yG(r,n,i,s){const a=qt(null);try{return!1!==i(s)}catch(l){return Rx(r,l),!1}finally{qt(a)}}function vG(r,n,i,s){return function a(l){if(l===Function)return s;Oy(ol(r)?yo(r.index,n):n,5);let d=yG(n,0,s,l),u=a.__ngNextListenerFn__;for(;u;)d=yG(n,0,u,l)&&d,u=u.__ngNextListenerFn__;return d}}function J(r=1){return function Jse(r){return(Yt.lFrame.contextLView=function R4(r,n){for(;r>0;)n=n[14],r--;return n}(r,Yt.lFrame.contextLView))[8]}(r)}function tme(r,n){let i=null;const s=function Lle(r){const n=r.attrs;if(null!=n){const i=n.indexOf(5);if(!(1&i))return n[i+1]}return null}(r);for(let a=0;a<n.length;a++){const l=n[a];if("*"!==l){if(null===s?eV(r,l,!0):Vle(s,l))return a}else i=a}return i}function lr(r){const n=de()[15][5];if(!n.projection){const s=n.projection=function R0(r,n){const i=[];for(let s=0;s<r;s++)i.push(n);return i}(r?r.length:1,null),a=s.slice();let l=n.child;for(;null!==l;){if(128!==l.type){const c=r?tme(l,r):0;null!==c&&(a[c]?a[c].projectionNext=l:s[c]=l,a[c]=l)}l=l.next}}}function cn(r,n=0,i,s,a,l){const c=de(),d=Qt(),u=s?r+1:null;null!==u&&Xy(c,d,u,s,a,l,null,i);const h=rm(d,26+r,16,null,i||null);null===h.projection&&(h.projection=n),k1();const p=!c[6]||gh();null===c[15][5].projection[h.projection]&&null!==u?function nme(r,n,i){const s=26+i,a=n.data[s],l=r[s];im(l,em(r,a,void 0,{dehydratedView:null}),0,Eh(a,null))}(c,d,u):p&&!nu(h)&&function fce(r,n,i){AV(n[11],0,n,i,eD(r,i,n),gV(i.parent||n[5],i,n))}(d,c,h)}function fl(r,n,i){return dv(r,"",n,"",i),fl}function dv(r,n,i,s,a){const l=de(),c=hm(l,n,i,s);return c!==ln&&na(Qt(),Ii(),l,r,c,l[11],a,!1),dv}function Gi(r,n,i,s){!function w5(r,n,i,s){const a=Qt();if(a.firstCreatePass){const l=Rn();C5(a,new v5(n,i,s),l.index),function aue(r,n){const i=r.contentQueries||(r.contentQueries=[]);n!==(i.length?i[i.length-1]:-1)&&i.push(r.queries.length-1,n)}(a,r),!(2&~i)&&(a.staticContentQueries=!0)}return A5(a,de(),i)}(r,n,i,s)}function Kn(r,n,i){!function x5(r,n,i){const s=Qt();return s.firstCreatePass&&(C5(s,new v5(r,n,i),-1),!(2&~n)&&(s.staticViewQueries=!0)),A5(s,de(),n)}(r,n,i)}function St(r){const n=de(),i=Qt(),s=O1();j0(s+1);const a=DD(i,s);if(r.dirty&&function Lse(r){return!(4&~r[2])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)r.reset([]);else{const l=E5(n,s);r.reset(l,EU),r.notifyOnChanges()}return!0}return!1}function It(){return function TD(r,n){return r[18].queries[n].queryList}(de(),O1())}function cr(r){return mh(function O4(){return Yt.lFrame.contextLView}(),26+r)}function ce(r,n=""){const i=de(),s=Qt(),a=r+26,l=s.firstCreatePass?rm(s,a,1,n,null):s.data[a],c=BG(s,i,l,n,r);i[a]=c,ay()&&Px(s,i,c,l),al(l,!1)}let BG=(r,n,i,s,a)=>(Hl(!0),function zT(r,n){return r.createText(n)}(n[11],s));function Ut(r){return jt("",r,""),Ut}function jt(r,n,i){const s=de(),a=hm(s,r,n,i);return a!==ln&&function Kc(r,n,i){const s=Np(n,r);!function nV(r,n,i){r.setValue(n,i)}(r[11],s,i)}(s,Bs(),a),jt}function aR(r,n,i,s,a){if(r=$t(r),Array.isArray(r))for(let l=0;l<r.length;l++)aR(r[l],n,i,s,a);else{const l=Qt(),c=de(),d=Rn();let u=ch(r)?r:$t(r.provide);const h=m4(r),f=1048575&d.providerIndexes,p=d.directiveStart,g=d.providerIndexes>>20;if(ch(r)||!r.multi){const m=new ly(h,a,me),_=cR(u,n,a?f:f+g,p);-1===_?(j1(X0(d,c),l,u),lR(l,r,n.length),n.push(u),d.directiveStart++,d.directiveEnd++,a&&(d.providerIndexes+=1048576),i.push(m),c.push(m)):(i[_]=m,c[_]=m)}else{const m=cR(u,n,f+g,p),_=cR(u,n,f,f+g),y=_>=0&&i[_];if(a&&!y||!a&&!(m>=0&&i[m])){j1(X0(d,c),l,u);const b=function Cme(r,n,i,s,a){const l=new ly(r,i,me);return l.multi=[],l.index=n,l.componentProviders=0,XG(l,a,s&&!i),l}(a?wme:xme,i.length,a,s,h);!a&&y&&(i[_].providerFactory=b),lR(l,r,n.length,0),n.push(u),d.directiveStart++,d.directiveEnd++,a&&(d.providerIndexes+=1048576),i.push(b),c.push(b)}else lR(l,r,m>-1?m:_,XG(i[a?_:m],h,!a&&s));!a&&s&&y&&i[_].componentProviders++}}}function lR(r,n,i,s){const a=ch(n),l=function pse(r){return!!r.useClass}(n);if(a||l){const u=(l?$t(n.useClass):n).prototype.ngOnDestroy;if(u){const h=r.destroyHooks||(r.destroyHooks=[]);if(!a&&n.multi){const f=h.indexOf(i);-1===f?h.push(i,[s,u]):h[f+1].push(s,u)}else h.push(i,u)}}}function XG(r,n,i){return i&&r.componentProviders++,r.multi.push(n)-1}function cR(r,n,i,s){for(let a=i;a<s;a++)if(n[a]===r)return a;return-1}function xme(r,n,i,s){return dR(this.multi,[])}function wme(r,n,i,s){const a=this.multi;let l;if(this.providerFactory){const c=this.providerFactory.componentProviders,d=uy(i,i[1],this.providerFactory.index,s);l=d.slice(0,c),dR(a,l);for(let u=c;u<d.length;u++)l.push(d[u])}else l=[],dR(a,l);return l}function dR(r,n){for(let i=0;i<r.length;i++)n.push((0,r[i])());return n}function Rt(r,n=[]){return i=>{i.providersResolver=(s,a)=>function Ame(r,n,i){const s=Qt();if(s.firstCreatePass){const a=ma(r);aR(i,s.data,s.blueprint,a,!0),aR(n,s.data,s.blueprint,a,!1)}}(s,a?a(r):r,n)}}function Xl(r,n,i){const s=vo()+r,a=de();return a[s]===ln?ql(a,s,i?n.call(i):n()):function Yy(r,n){return r[n]}(a,s)}function ra(r,n,i,s){return ZG(de(),vo(),r,n,i,s)}function ZG(r,n,i,s,a,l){const c=n+i;return kr(r,c,a)?ql(r,c+1,l?s.call(l,a):s(a)):function uv(r,n){const i=r[n];return i===ln?void 0:i}(r,c+1)}function Zc(r,n){const i=Qt();let s;const a=r+26;i.firstCreatePass?(s=function Nme(r,n){if(n)for(let i=n.length-1;i>=0;i--){const s=n[i];if(r===s.name)return s}}(n,i.pipeRegistry),i.data[a]=s,s.onDestroy&&(i.destroyHooks??=[]).push(a,s.onDestroy)):s=i.data[a];const l=s.factory||(s.factory=lh(s.type)),d=Xo(me);try{const u=Y0(!1),h=l();return Y0(u),function oR(r,n,i,s){i>=r.data.length&&(r.data[i]=null,r.blueprint[i]=null),n[i]=s}(i,de(),a,h),h}finally{Xo(d)}}function Jc(r,n,i){const s=r+26,a=de(),l=mh(a,s);return function hv(r,n){return r[1].data[n].pure}(a,s)?ZG(a,vo(),n,l.transform,i,l):l.transform(i)}function So(r,n){return Nx(r,n)}class Cm{full;major;minor;patch;constructor(n){this.full=n;const i=n.split(".");this.major=i[0],this.minor=i[1],this.patch=i.slice(2).join(".")}}const v8=new Cm("19.2.0");class pge{ngModuleFactory;componentFactories;constructor(n,i){this.ngModuleFactory=n,this.componentFactories=i}}let b8=(()=>{class r{compileModuleSync(i){return new PD(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){const s=this.compileModuleSync(i),l=ya(qs(i).declarations).reduce((c,d)=>{const u=xn(d);return u&&c.push(new Wy(u)),c},[]);return new pge(s,l)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_ge=(()=>{class r{zone=D(_t);changeDetectionScheduler=D(jc);applicationRef=D(Co);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function mR({ngZoneFactory:r,ignoreChangesOutsideZone:n,scheduleInRootZone:i}){return r??=()=>new _t({...gR(),scheduleInRootZone:i}),[{provide:_t,useFactory:r},{provide:Oa,multi:!0,useFactory:()=>{const s=D(_ge,{optional:!0});return()=>s.initialize()}},{provide:Oa,multi:!0,useFactory:()=>{const s=D(vge);return()=>{s.initialize()}}},!0===n?{provide:gU,useValue:!0}:[],{provide:Y1,useValue:i??pU}]}function gR(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}let vge=(()=>{class r{subscription=new gn;initialized=!1;zone=D(_t);pendingTasks=D(ll);initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),queueMicrotask(()=>{null!==i&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pv=(()=>{class r{appRef=D(Co);taskService=D(ll);ngZone=D(_t);zonelessEnabled=D(fy);tracing=D(Gp,{optional:!0});disableScheduling=D(gU,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new gn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(tx):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(D(Y1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof J1||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&5===i)return;let s=!1;switch(i){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,s=!0;break;case 12:this.appRef.dirtyFlags|=16,s=!0;break;case 11:s=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(s))return;const a=this.useMicrotaskScheduler?yU:_U;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(i){return!(this.disableScheduling&&!i||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(tx+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(s){throw this.taskService.remove(i),s}finally{this.cleanup()}this.useMicrotaskScheduler=!0,yU(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const ed=new se("",{providedIn:"root",factory:()=>D(ed,Fn.Optional|Fn.SkipSelf)||function bge(){return typeof $localize<"u"&&$localize.locale||rw}()}),uw=new se(""),Mge=new se("");function mv(r){return!r.moduleRef}let M8=(()=>{class r{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(i){this._injector=i}bootstrapModuleFactory(i,s){const a=s?.scheduleInRootZone,c=s?.ignoreChangesOutsideZone,d=[mR({ngZoneFactory:()=>function Noe(r="zone.js",n){return"noop"===r?new J1:"zone.js"===r?new _t(n):r}(s?.ngZone,{...gR({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}),scheduleInRootZone:a}),ignoreChangesOutsideZone:c}),{provide:jc,useExisting:pv}],u=function yue(r,n,i){return new kD(r,n,i,!1)}(i.moduleType,this.injector,d);return function E8(r){const n=mv(r)?r.r3Injector:r.moduleRef.injector,i=n.get(_t);return i.run(()=>{mv(r)?r.r3Injector.resolveInjectorInitializers():r.moduleRef.resolveInjectorInitializers();const s=n.get(bo,null);let a;if(i.runOutsideAngular(()=>{a=i.onError.subscribe({next:l=>{s.handleError(l)}})}),mv(r)){const l=()=>n.destroy(),c=r.platformInjector.get(uw);c.add(l),n.onDestroy(()=>{a.unsubscribe(),c.delete(l)})}else{const l=()=>r.moduleRef.destroy(),c=r.platformInjector.get(uw);c.add(l),r.moduleRef.onDestroy(()=>{ew(r.allPlatformModules,r.moduleRef),a.unsubscribe(),c.delete(l)})}return function Ige(r,n,i){try{const s=i();return Zy(s)?s.catch(a=>{throw n.runOutsideAngular(()=>r.handleError(a)),a}):s}catch(s){throw n.runOutsideAngular(()=>r.handleError(s)),s}}(s,i,()=>{const l=n.get(dH);return l.runInitializers(),l.donePromise.then(()=>{if(function gpe(r){"string"==typeof r&&(XH=r.toLowerCase().replace(/_/g,"-"))}(n.get(ed,rw)||rw),!n.get(Mge,!0))return mv(r)?n.get(Co):(r.allPlatformModules.push(r.moduleRef),r.moduleRef);if(mv(r)){const u=n.get(Co);return void 0!==r.rootComponent&&u.bootstrap(r.rootComponent),u}return function Sge(r,n){const i=r.injector.get(Co);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new ee(-403,!1);r.instance.ngDoBootstrap(i)}n.push(r)}(r.moduleRef,r.allPlatformModules),r.moduleRef})})})}({moduleRef:u,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(i,s=[]){const a=hH({},s);return function gge(r,n,i){const s=new PD(i);return Promise.resolve(s)}(0,0,i).then(l=>this.bootstrapModuleFactory(l,a))}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ee(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const i=this._injector.get(uw,null);i&&(i.forEach(s=>s()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(s){return new(s||r)($e(On))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),cu=null;const S8=new se("");function I8(r,n,i=[]){const s=`Platform: ${n}`,a=new se(s);return(l=[])=>{let c=yR();if(!c||c.injector.get(S8,!1)){const d=[...i,...l,{provide:a,useValue:!0}];r?r(d):function Tge(r){if(cu&&!cu.get(S8,!1))throw new ee(400,!1);(function uH(){!function mn(r){Jt=r}(()=>{throw new ee(600,!1)})})(),cu=r;const n=r.get(M8);(function D8(r){const n=r.get(sT,null);Na(r,()=>{n?.forEach(i=>i())})})(r)}(function T8(r=[],n){return On.create({name:n,providers:[{provide:m1,useValue:"platform"},{provide:uw,useValue:new Set([()=>cu=null])},...r]})}(d,s))}return function Dge(){const n=yR();if(!n)throw new ee(401,!1);return n}()}}function yR(){return cu?.get(M8)??null}let Zi=(()=>class r{static __NG_ELEMENT_ID__=kge})();function kge(r){return function Pge(r,n,i){if(ol(r)&&!i){const s=yo(r.index,n);return new By(s,s)}return 175&r.type?new By(n[15],n):null}(Rn(),de(),!(16&~r))}class O8{constructor(){}supports(n){return qx(n)}create(n){return new Lge(n)}}const Bge=(r,n)=>n;class Lge{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||Bge}forEachItem(n){let i;for(i=this._itHead;null!==i;i=i._next)n(i)}forEachOperation(n){let i=this._itHead,s=this._removalsHead,a=0,l=null;for(;i||s;){const c=!s||i&&i.currentIndex<B8(s,a,l)?i:s,d=B8(c,a,l),u=c.currentIndex;if(c===s)a--,s=s._nextRemoved;else if(i=i._next,null==c.previousIndex)a++;else{l||(l=[]);const h=d-a,f=u-a;if(h!=f){for(let g=0;g<h;g++){const m=g<l.length?l[g]:l[g]=0,_=m+g;f<=_&&_<h&&(l[g]=m+1)}l[c.previousIndex]=f-h}}d!==u&&n(c,d,u)}}forEachPreviousItem(n){let i;for(i=this._previousItHead;null!==i;i=i._nextPrevious)n(i)}forEachAddedItem(n){let i;for(i=this._additionsHead;null!==i;i=i._nextAdded)n(i)}forEachMovedItem(n){let i;for(i=this._movesHead;null!==i;i=i._nextMoved)n(i)}forEachRemovedItem(n){let i;for(i=this._removalsHead;null!==i;i=i._nextRemoved)n(i)}forEachIdentityChange(n){let i;for(i=this._identityChangesHead;null!==i;i=i._nextIdentityChange)n(i)}diff(n){if(null==n&&(n=[]),!qx(n))throw new ee(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,l,c,i=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let d=0;d<this.length;d++)l=n[d],c=this._trackByFn(d,l),null!==i&&Object.is(i.trackById,c)?(s&&(i=this._verifyReinsertion(i,l,c,d)),Object.is(i.item,l)||this._addIdentityChange(i,l)):(i=this._mismatch(i,l,c,d),s=!0),i=i._next}else a=0,function Nue(r,n){if(Array.isArray(r))for(let i=0;i<r.length;i++)n(r[i]);else{const i=r[Symbol.iterator]();let s;for(;!(s=i.next()).done;)n(s.value)}}(n,d=>{c=this._trackByFn(a,d),null!==i&&Object.is(i.trackById,c)?(s&&(i=this._verifyReinsertion(i,d,c,a)),Object.is(i.item,d)||this._addIdentityChange(i,d)):(i=this._mismatch(i,d,c,a),s=!0),i=i._next,a++}),this.length=a;return this._truncate(i),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,i,s,a){let l;return null===n?l=this._itTail:(l=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._reinsertAfter(n,l,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(n.item,i)||this._addIdentityChange(n,i),this._moveAfter(n,l,a)):n=this._addAfter(new Uge(i,s),l,a),n}_verifyReinsertion(n,i,s,a){let l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==l?n=this._reinsertAfter(l,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const i=n._next;this._addToRemovals(this._unlink(n)),n=i}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,i,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,l=n._nextRemoved;return null===a?this._removalsHead=l:a._nextRemoved=l,null===l?this._removalsTail=a:l._prevRemoved=a,this._insertAfter(n,i,s),this._addToMoves(n,s),n}_moveAfter(n,i,s){return this._unlink(n),this._insertAfter(n,i,s),this._addToMoves(n,s),n}_addAfter(n,i,s){return this._insertAfter(n,i,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,i,s){const a=null===i?this._itHead:i._next;return n._next=a,n._prev=i,null===a?this._itTail=n:a._prev=n,null===i?this._itHead=n:i._next=n,null===this._linkedRecords&&(this._linkedRecords=new N8),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const i=n._prev,s=n._next;return null===i?this._itHead=s:i._next=s,null===s?this._itTail=i:s._prev=i,n}_addToMoves(n,i){return n.previousIndex===i||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new N8),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,i){return n.item=i,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class Uge{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,i){this.item=n,this.trackById=i}}class zge{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,i){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===i||i<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const i=n._prevDup,s=n._nextDup;return null===i?this._head=s:i._nextDup=s,null===s?this._tail=i:s._prevDup=i,null===this._head}}class N8{map=new Map;put(n){const i=n.trackById;let s=this.map.get(i);s||(s=new zge,this.map.set(i,s)),s.add(n)}get(n,i){const a=this.map.get(n);return a?a.get(n,i):null}remove(n){const i=n.trackById;return this.map.get(i).remove(n)&&this.map.delete(i),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function B8(r,n,i){const s=r.previousIndex;if(null===s)return s;let a=0;return i&&s<i.length&&(a=i[s]),s+n+a}function U8(){return new Kl([new O8])}let Kl=(()=>{class r{factories;static \u0275prov=we({token:r,providedIn:"root",factory:U8});constructor(i){this.factories=i}static create(i,s){if(null!=s){const a=s.factories.slice();i=i.concat(a)}return new r(i)}static extend(i){return{provide:r,useFactory:s=>r.create(i,s||U8()),deps:[[r,new ny,new ah]]}}find(i){const s=this.factories.find(a=>a.supports(i));if(null!=s)return s;throw new ee(901,!1)}}return r})();const Qge=I8(null,"core",[]);let jge=(()=>{class r{constructor(i){}static \u0275fac=function(s){return new(s||r)($e(Co))};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})();function ct(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function Ls(r,n=NaN){return isNaN(parseFloat(r))||isNaN(Number(r))?n:Number(r)}function Gr(r){const n=qt(null);try{return r()}finally{qt(n)}}function Zl(r,n){const i=function Dn(r){const n=Object.create(Pn);n.computation=r;const i=()=>{if(Bl(n),il(n),n.value===Br)throw n.error;return n.value};return i[mr]=n,i}(r);return n?.equal&&(i[mr].equal=n.equal),i}class k_e{[mr];constructor(n){this[mr]=n}destroy(){this[mr].destroy()}}const f6={...Pa,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:py,run(){if(this.dirty=!1,this.hasRun&&!Bc(this))return;this.hasRun=!0;const r=s=>(this.cleanupFns??=[]).push(s),n=Ll(this),i=Q0(!1);try{this.maybeCleanup(),this.fn(r)}finally{Q0(i),Nc(this,n)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},P_e={...f6,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Wo(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},F_e={...f6,consumerMarkedDirty(){this.view[2]|=8192,Bp(this.view),this.notifier.notify(13)},destroy(){Wo(this),this.onDestroyFn(),this.maybeCleanup(),this.view[23]?.delete(this)}};function y6(r,n){const i=xn(r),s=n.elementInjector||O0();return new Wy(i).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}let v6=null;function du(){return v6}class Y_e{}const rn=new se("");let TR=(()=>{class r{historyGo(i){throw new Error("")}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>D(K_e),providedIn:"platform"})}return r})();const X_e=new se("");let K_e=(()=>{class r extends TR{_location;_history;_doc=D(rn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return du().getBaseHref(this._doc)}onPopState(i){const s=du().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",i,!1),()=>s.removeEventListener("popstate",i)}onHashChange(i){const s=du().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",i,!1),()=>s.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,s,a){this._history.pushState(i,s,a)}replaceState(i,s,a){this._history.replaceState(i,s,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>new r,providedIn:"platform"})}return r})();function DR(r,n){return r?n?r.endsWith("/")?n.startsWith("/")?r+n.slice(1):r+n:n.startsWith("/")?r+n:`${r}/${n}`:r:n}function b6(r){const n=r.search(/#|\?|$/);return"/"===r[n-1]?r.slice(0,n-1)+r.slice(n):r}function td(r){return r&&"?"!==r[0]?`?${r}`:r}let Fh=(()=>{class r{historyGo(i){throw new Error("")}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>D(x6),providedIn:"root"})}return r})();const A6=new se("");let x6=(()=>{class r extends Fh{_platformLocation;_baseHref;_removeListenerFns=[];constructor(i,s){super(),this._platformLocation=i,this._baseHref=s??this._platformLocation.getBaseHrefFromDOM()??D(rn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return DR(this._baseHref,i)}path(i=!1){const s=this._platformLocation.pathname+td(this._platformLocation.search),a=this._platformLocation.hash;return a&&i?`${s}${a}`:s}pushState(i,s,a,l){const c=this.prepareExternalUrl(a+td(l));this._platformLocation.pushState(i,s,c)}replaceState(i,s,a,l){const c=this.prepareExternalUrl(a+td(l));this._platformLocation.replaceState(i,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(s){return new(s||r)($e(TR),$e(A6,8))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Z_e=(()=>{class r extends Fh{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(i,s){super(),this._platformLocation=i,null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){const s=this._platformLocation.hash??"#";return s.length>0?s.substring(1):s}prepareExternalUrl(i){const s=DR(this._baseHref,i);return s.length>0?"#"+s:s}pushState(i,s,a,l){const c=this.prepareExternalUrl(a+td(l))||this._platformLocation.pathname;this._platformLocation.pushState(i,s,c)}replaceState(i,s,a,l){const c=this.prepareExternalUrl(a+td(l))||this._platformLocation.pathname;this._platformLocation.replaceState(i,s,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}static \u0275fac=function(s){return new(s||r)($e(TR),$e(A6,8))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})(),Em=(()=>{class r{_subject=new Qe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(i){this._locationStrategy=i;const s=this._locationStrategy.getBaseHref();this._basePath=function tye(r){if(new RegExp("^(https?:)?//").test(r)){const[,i]=r.split(/\/\/[^\/]+/);return i}return r}(b6(w6(s))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,s=""){return this.path()==this.normalize(i+td(s))}normalize(i){return r.stripTrailingSlash(function eye(r,n){if(!r||!n.startsWith(r))return n;const i=n.substring(r.length);return""===i||["/",";","?","#"].includes(i[0])?i:n}(this._basePath,w6(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,s="",a=null){this._locationStrategy.pushState(a,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+td(s)),a)}replaceState(i,s="",a=null){this._locationStrategy.replaceState(a,"",i,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+td(s)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}),()=>{const s=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(s,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",s){this._urlChangeListeners.forEach(a=>a(i,s))}subscribe(i,s,a){return this._subject.subscribe({next:i,error:s??void 0,complete:a??void 0})}static normalizeQueryParams=td;static joinWithSlash=DR;static stripTrailingSlash=b6;static \u0275fac=function(s){return new(s||r)($e(Fh))};static \u0275prov=we({token:r,factory:()=>function J_e(){return new Em($e(Fh))}(),providedIn:"root"})}return r})();function w6(r){return r.replace(/\/index.html$/,"")}function k6(r,n){n=encodeURIComponent(n);for(const i of r.split(";")){const s=i.indexOf("="),[a,l]=-1==s?[i,""]:[i.slice(0,s),i.slice(s+1)];if(a.trim()===n)return decodeURIComponent(l)}return null}const zR=/\s+/,P6=[];let Ow=(()=>{class r{_ngEl;_renderer;initialClasses=P6;rawClass;stateMap=new Map;constructor(i,s){this._ngEl=i,this._renderer=s}set klass(i){this.initialClasses=null!=i?i.trim().split(zR):P6}set ngClass(i){this.rawClass="string"==typeof i?i.trim().split(zR):i}ngDoCheck(){for(const s of this.initialClasses)this._updateState(s,!0);const i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(const s of i)this._updateState(s,!0);else if(null!=i)for(const s of Object.keys(i))this._updateState(s,!!i[s]);this._applyStateDiff()}_updateState(i,s){const a=this.stateMap.get(i);void 0!==a?(a.enabled!==s&&(a.changed=!0,a.enabled=s),a.touched=!0):this.stateMap.set(i,{enabled:s,changed:!0,touched:!0})}_applyStateDiff(){for(const i of this.stateMap){const s=i[0],a=i[1];a.changed?(this._toggleClass(s,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(s,!1),this.stateMap.delete(s)),a.touched=!1}}_toggleClass(i,s){(i=i.trim()).length>0&&i.split(zR).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static \u0275fac=function(s){return new(s||r)(me(Mt),me(Ms))};static \u0275dir=_e({type:r,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return r})();class zye{$implicit;ngForOf;index;count;constructor(n,i,s,a){this.$implicit=n,this.ngForOf=i,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class r{_viewContainer;_template;_differs;set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(i,s,a){this._viewContainer=i,this._template=s,this._differs=a}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;!this._differ&&i&&(this._differ=this._differs.find(i).create(this.ngForTrackBy))}if(this._differ){const i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){const s=this._viewContainer;i.forEachOperation((a,l,c)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new zye(a.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)s.remove(null===l?void 0:l);else if(null!==l){const d=s.get(l);s.move(d,c),O6(d,a)}});for(let a=0,l=s.length;a<l;a++){const d=s.get(a).context;d.index=a,d.count=l,d.ngForOf=this._ngForOf}i.forEachIdentityChange(a=>{O6(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||r)(me(Ki),me(zi),me(Kl))};static \u0275dir=_e({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return r})();function O6(r,n){r.context.$implicit=n.item}let Do=(()=>{class r{_viewContainer;_context=new Vye;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(i,s){this._viewContainer=i,this._thenTemplateRef=s}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){N6("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){N6("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(i,s){return!0}static \u0275fac=function(s){return new(s||r)(me(Ki),me(zi))};static \u0275dir=_e({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return r})();class Vye{$implicit=null;ngIf=null}function N6(r,n){if(n&&!n.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${ds(n)}'.`)}class VR{_viewContainerRef;_templateRef;_created=!1;constructor(n,i){this._viewContainerRef=n,this._templateRef=i}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Cv=(()=>{class r{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const s=i===this._ngSwitch;return this._lastCasesMatched||=s,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),s}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const s of this._defaultViews)s.enforceState(i)}}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return r})(),HR=(()=>{class r{ngSwitch;_view;ngSwitchCase;constructor(i,s,a){this.ngSwitch=a,a._addCase(),this._view=new VR(i,s)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(s){return new(s||r)(me(Ki),me(zi),me(Cv,9))};static \u0275dir=_e({type:r,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return r})(),B6=(()=>{class r{constructor(i,s,a){a._addDefault(new VR(i,s))}static \u0275fac=function(s){return new(s||r)(me(Ki),me(zi),me(Cv,9))};static \u0275dir=_e({type:r,selectors:[["","ngSwitchDefault",""]]})}return r})(),GR=(()=>{class r{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(i){this._viewContainerRef=i}ngOnChanges(i){if(this._shouldRecreateView(i)){const s=this._viewContainerRef;if(this._viewRef&&s.remove(s.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const a=this._createContextForwardProxy();this._viewRef=s.createEmbeddedView(this.ngTemplateOutlet,a,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,s,a)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,s,a),get:(i,s,a)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,s,a)}})}static \u0275fac=function(s){return new(s||r)(me(Ki))};static \u0275dir=_e({type:r,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[vr]})}return r})();class $ye{createSubscription(n,i){return Gr(()=>n.subscribe({next:i,error:s=>{throw s}}))}dispose(n){Gr(()=>n.unsubscribe())}}class Qye{createSubscription(n,i){return n.then(i,s=>{throw s})}dispose(n){}}const jye=new Qye,Wye=new $ye;let Sm=(()=>{class r{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(i){this._ref=i}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(i){if(!this._obj){if(i)try{this.markForCheckOnValueUpdate=!1,this._subscribe(i)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return i!==this._obj?(this._dispose(),this.transform(i)):this._latestValue}_subscribe(i){this._obj=i,this._strategy=this._selectStrategy(i),this._subscription=this._strategy.createSubscription(i,s=>this._updateLatestValue(i,s))}_selectStrategy(i){if(Zy(i))return jye;if(cH(i))return Wye;throw function ml(r,n){return new ee(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(i,s){i===this._obj&&(this._latestValue=s,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(s){return new(s||r)(me(Zi,16))};static \u0275pipe=Xs({name:"async",type:r,pure:!1})}return r})(),Im=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})();const z6="browser";function Jl(r){return r===z6}function V6(r){return"server"===r}let jR=(()=>{class r{static \u0275prov=we({token:r,providedIn:"root",factory:()=>new hve(D(rn),window)})}return r})();class hve{document;window;offset=()=>[0,0];constructor(n,i){this.document=n,this.window=i}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const i=function fve(r,n){const i=r.getElementById(n)||r.getElementsByName(n)[0];if(i)return i;if("function"==typeof r.createTreeWalker&&r.body&&"function"==typeof r.body.attachShadow){const s=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const l=a.shadowRoot;if(l){const c=l.getElementById(n)||l.querySelector(`[name="${n}"]`);if(c)return c}a=s.nextNode()}}return null}(this.document,n);i&&(this.scrollToElement(i),i.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const i=n.getBoundingClientRect(),s=i.left+this.window.pageXOffset,a=i.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(s-l[0],a-l[1])}}class H6{}const Dm=r=>r.src,WR=new se("",{providedIn:"root",factory:()=>Dm}),qR=/^((\s*\d+w\s*(,|$)){1,})$/,Bve=[1,2];let Hve=(()=>{class r{imageLoader=D(WR);config=function Gve(r){let n={};return r.breakpoints&&(n.breakpoints=r.breakpoints.sort((i,s)=>i-s)),Object.assign({},QU,r,n)}(D(jU));renderer=D(Ms);imgElement=D(Mt).nativeElement;injector=D(On);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){ea("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true"),this.updateSrcAndSrcset(),this.sizes?"lazy"===this.getLoadingBehavior()?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&qR.test(this.ngSrcset)&&"lazy"===this.getLoadingBehavior()&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(i){i.ngSrc&&!i.ngSrc.isFirstChange()&&this.updateSrcAndSrcset(!0)}callImageLoader(i){let s=i;return this.loaderParams&&(s.loaderParams=this.loaderParams),this.imageLoader(s)}getLoadingBehavior(){return this.priority||void 0===this.loading?this.priority?"eager":"lazy":this.loading}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){return this._renderedSrc||(this._renderedSrc=this.callImageLoader({src:this.ngSrc})),this._renderedSrc}getRewrittenSrcset(){const i=qR.test(this.ngSrcset);return this.ngSrcset.split(",").filter(a=>""!==a).map(a=>{a=a.trim();const l=i?parseFloat(a):parseFloat(a)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:l})} ${a}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){const{breakpoints:i}=this.config;let s=i;return"100vw"===this.sizes?.trim()&&(s=i.filter(l=>l>=640)),s.map(l=>`${this.callImageLoader({src:this.ngSrc,width:l})} ${l}w`).join(", ")}updateSrcAndSrcset(i=!1){i&&(this._renderedSrc=null);const s=this.getRewrittenSrc();let a;return this.setHostAttribute("src",s),this.ngSrcset?a=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(a=this.getAutomaticSrcset()),a&&this.setHostAttribute("srcset",a),a}getFixedSrcset(){return Bve.map(s=>`${this.callImageLoader({src:this.ngSrc,width:this.width*s})} ${s}x`).join(", ")}shouldGenerateAutomaticSrcset(){let i=!1;return this.sizes||(i=this.width>1920||this.height>1080),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Dm&&!i}generatePlaceholder(i){const{placeholderResolution:s}=this.config;return!0===i?`url(${this.callImageLoader({src:this.ngSrc,width:s,isPlaceholder:!0})})`:"string"==typeof i?`url(${i})`:null}shouldBlurPlaceholder(i){return!i||!i.hasOwnProperty("blur")||!!i.blur}removePlaceholderOnLoad(i){const s=()=>{const c=this.injector.get(Zi);a(),l(),this.placeholder=!1,c.markForCheck()},a=this.renderer.listen(i,"load",s),l=this.renderer.listen(i,"error",s);!function ZR(r,n){r.complete&&r.naturalWidth&&n()}(i,s)}setHostAttribute(i,s){this.renderer.setAttribute(this.imgElement,i,s)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(s,a){2&s&&Eo("position",a.fill?"absolute":null)("width",a.fill?"100%":null)("height",a.fill?"100%":null)("inset",a.fill?"0":null)("background-size",a.placeholder?"cover":null)("background-position",a.placeholder?"50% 50%":null)("background-repeat",a.placeholder?"no-repeat":null)("background-image",a.placeholder?a.generatePlaceholder(a.placeholder):null)("filter",a.placeholder&&a.shouldBlurPlaceholder(a.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Xve],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",Ls],height:[2,"height","height",Ls],loading:"loading",priority:[2,"priority","priority",ct],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",ct],fill:[2,"fill","fill",ct],placeholder:[2,"placeholder","placeholder",Kve],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[vr]})}return r})();function Xve(r){return"string"==typeof r?r:ta(r)}function Kve(r){return"string"==typeof r&&"true"!==r&&"false"!==r&&""!==r?r:ct(r)}class Zve extends Y_e{supportsDOMEvents=!0}class JR extends Zve{static makeCurrent(){!function q_e(r){v6??=r}(new JR)}onAndCancel(n,i,s,a){return n.addEventListener(i,s,a),()=>{n.removeEventListener(i,s,a)}}dispatchEvent(n,i){n.dispatchEvent(i)}remove(n){n.remove()}createElement(n,i){return(i=i||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,i){return"window"===i?window:"document"===i?n:"body"===i?n.body:null}getBaseHref(n){const i=function Jve(){return Mv=Mv||document.querySelector("base"),Mv?Mv.getAttribute("href"):null}();return null==i?null:function ebe(r){return new URL(r,document.baseURI).pathname}(i)}resetBaseElement(){Mv=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return k6(document.cookie,n)}}let Mv=null,nbe=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const ek=new se("");let e$=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(i,s){this._zone=s,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,a,l){return this._findPluginFor(s).addEventListener(i,s,a,l)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(l=>l.supports(i)),!s)throw new ee(5101,!1);return this._eventNameToPlugin.set(i,s),s}static \u0275fac=function(s){return new(s||r)($e(ek),$e(_t))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();class t${_doc;constructor(n){this._doc=n}manager}const Uw="ng-app-id";function n$(r){for(const n of r)n.remove()}function i$(r,n){const i=n.createElement("style");return i.textContent=r,i}function tk(r,n){const i=n.createElement("link");return i.setAttribute("rel","stylesheet"),i.setAttribute("href",r),i}let r$=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(i,s,a,l={}){this.doc=i,this.appId=s,this.nonce=a,this.isServer=V6(l),function ibe(r,n,i,s){const a=r.head?.querySelectorAll(`style[${Uw}="${n}"],link[${Uw}="${n}"]`);if(a)for(const l of a)l.removeAttribute(Uw),l instanceof HTMLLinkElement?s.set(l.href.slice(l.href.lastIndexOf("/")+1),{usage:0,elements:[l]}):l.textContent&&i.set(l.textContent,{usage:0,elements:[l]})}(i,s,this.inline,this.external),this.hosts.add(i.head)}addStyles(i,s){for(const a of i)this.addUsage(a,this.inline,i$);s?.forEach(a=>this.addUsage(a,this.external,tk))}removeStyles(i,s){for(const a of i)this.removeUsage(a,this.inline);s?.forEach(a=>this.removeUsage(a,this.external))}addUsage(i,s,a){const l=s.get(i);l?l.usage++:s.set(i,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,a(i,this.doc)))})}removeUsage(i,s){const a=s.get(i);a&&(a.usage--,a.usage<=0&&(n$(a.elements),s.delete(i)))}ngOnDestroy(){for(const[,{elements:i}]of[...this.inline,...this.external])n$(i);this.hosts.clear()}addHost(i){this.hosts.add(i);for(const[s,{elements:a}]of this.inline)a.push(this.addElement(i,i$(s,this.doc)));for(const[s,{elements:a}]of this.external)a.push(this.addElement(i,tk(s,this.doc)))}removeHost(i){this.hosts.delete(i)}addElement(i,s){return this.nonce&&s.setAttribute("nonce",this.nonce),this.isServer&&s.setAttribute(Uw,this.appId),i.appendChild(s)}static \u0275fac=function(s){return new(s||r)($e(rn),$e(Wc),$e(ax,8),$e(Ql))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const nk={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ik=/%COMP%/g,cbe=new se("",{providedIn:"root",factory:()=>!0});function o$(r,n){return n.map(i=>i.replace(ik,r))}let rk=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(i,s,a,l,c,d,u,h=null,f=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=a,this.removeStylesOnCompDestroy=l,this.doc=c,this.platformId=d,this.ngZone=u,this.nonce=h,this.tracingService=f,this.platformIsServer=V6(d),this.defaultRenderer=new sk(i,c,u,this.platformIsServer,this.tracingService)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Ua.ShadowDom&&(s={...s,encapsulation:Ua.Emulated});const a=this.getOrCreateRenderer(i,s);return a instanceof l$?a.applyToHost(i):a instanceof ok&&a.applyStyles(),a}getOrCreateRenderer(i,s){const a=this.rendererByCompId;let l=a.get(s.id);if(!l){const c=this.doc,d=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(s.encapsulation){case Ua.Emulated:l=new l$(u,h,s,this.appId,f,c,d,p,g);break;case Ua.ShadowDom:return new fbe(u,h,i,s,c,d,this.nonce,p,g);default:l=new ok(u,h,s,f,c,d,p,g)}a.set(s.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(i){this.rendererByCompId.delete(i)}static \u0275fac=function(s){return new(s||r)($e(e$),$e(r$),$e(Wc),$e(cbe),$e(rn),$e(Ql),$e(_t),$e(ax),$e(Gp,8))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();class sk{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,i,s,a,l){this.eventManager=n,this.doc=i,this.ngZone=s,this.platformIsServer=a,this.tracingService=l}destroy(){}destroyNode=null;createElement(n,i){return i?this.doc.createElementNS(nk[i]||i,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,i){(a$(n)?n.content:n).appendChild(i)}insertBefore(n,i,s){n&&(a$(n)?n.content:n).insertBefore(i,s)}removeChild(n,i){i.remove()}selectRootElement(n,i){let s="string"==typeof n?this.doc.querySelector(n):n;if(!s)throw new ee(-5104,!1);return i||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,i,s,a){if(a){i=a+":"+i;const l=nk[a];l?n.setAttributeNS(l,i,s):n.setAttribute(i,s)}else n.setAttribute(i,s)}removeAttribute(n,i,s){if(s){const a=nk[s];a?n.removeAttributeNS(a,i):n.removeAttribute(`${s}:${i}`)}else n.removeAttribute(i)}addClass(n,i){n.classList.add(i)}removeClass(n,i){n.classList.remove(i)}setStyle(n,i,s,a){a&(tu.DashCase|tu.Important)?n.style.setProperty(i,s,a&tu.Important?"important":""):n.style[i]=s}removeStyle(n,i,s){s&tu.DashCase?n.style.removeProperty(i):n.style[i]=""}setProperty(n,i,s){null!=n&&(n[i]=s)}setValue(n,i){n.nodeValue=i}listen(n,i,s,a){if("string"==typeof n&&!(n=du().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${i}`);let l=this.decoratePreventDefault(s);return null!==this.tracingService&&this.tracingService.wrapEventListener&&(l=this.tracingService.wrapEventListener(n,i,l)),this.eventManager.addEventListener(n,i,l,a)}decoratePreventDefault(n){return i=>{if("__ngUnwrap__"===i)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(i)):n(i))&&i.preventDefault()}}}function a$(r){return"TEMPLATE"===r.tagName&&void 0!==r.content}class fbe extends sk{sharedStylesHost;hostEl;shadowRoot;constructor(n,i,s,a,l,c,d,u,h){super(n,l,c,u,h),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=a.styles;f=o$(a.id,f);for(const g of f){const m=document.createElement("style");d&&m.setAttribute("nonce",d),m.textContent=g,this.shadowRoot.appendChild(m)}const p=a.getExternalStyles?.();if(p)for(const g of p){const m=tk(g,l);d&&m.setAttribute("nonce",d),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,i){return super.appendChild(this.nodeOrShadowRoot(n),i)}insertBefore(n,i,s){return super.insertBefore(this.nodeOrShadowRoot(n),i,s)}removeChild(n,i){return super.removeChild(null,i)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ok extends sk{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,i,s,a,l,c,d,u,h){super(n,l,c,d,u),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=a;let f=s.styles;this.styles=h?o$(h,f):f,this.styleUrls=s.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class l$ extends ok{contentAttr;hostAttr;constructor(n,i,s,a,l,c,d,u,h){const f=a+"-"+s.id;super(n,i,s,l,c,d,u,h,f),this.contentAttr=function dbe(r){return"_ngcontent-%COMP%".replace(ik,r)}(f),this.hostAttr=function ube(r){return"_nghost-%COMP%".replace(ik,r)}(f)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,i){const s=super.createElement(n,i);return super.setAttribute(s,this.contentAttr,""),s}}let pbe=(()=>{class r extends t${constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,a,l){return i.addEventListener(s,a,l),()=>this.removeEventListener(i,s,a,l)}removeEventListener(i,s,a,l){return i.removeEventListener(s,a,l)}static \u0275fac=function(s){return new(s||r)($e(rn))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const c$=["alt","control","meta","shift"],mbe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gbe={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let _be=(()=>{class r extends t${constructor(i){super(i)}supports(i){return null!=r.parseEventName(i)}addEventListener(i,s,a,l){const c=r.parseEventName(s),d=r.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>du().onAndCancel(i,c.domEventName,d,l))}static parseEventName(i){const s=i.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const l=r._normalizeKey(s.pop());let c="",d=s.indexOf("code");if(d>-1&&(s.splice(d,1),c="code."),c$.forEach(h=>{const f=s.indexOf(h);f>-1&&(s.splice(f,1),c+=h+".")}),c+=l,0!=s.length||0===l.length)return null;const u={};return u.domEventName=a,u.fullKey=c,u}static matchEventFullKeyCode(i,s){let a=mbe[i.key]||i.key,l="";return s.indexOf("code.")>-1&&(a=i.code,l="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),c$.forEach(c=>{c!==a&&(0,gbe[c])(i)&&(l+=c+".")}),l+=a,l===s)}static eventCallback(i,s,a){return l=>{r.matchEventFullKeyCode(l,i)&&a.runGuarded(()=>s(l))}}static _normalizeKey(i){return"esc"===i?"escape":i}static \u0275fac=function(s){return new(s||r)($e(rn))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const u$=[{provide:Ql,useValue:z6},{provide:sT,useValue:function ybe(){JR.makeCurrent()},multi:!0},{provide:rn,useFactory:function bbe(){return function aae(r){rT=r}(document),document},deps:[]}],Abe=I8(Qge,"browser",u$),h$=[{provide:Jx,useClass:class tbe{addToWindow(n){Xi.getAngularTestability=(s,a=!0)=>{const l=n.findTestabilityInTree(s,a);if(null==l)throw new ee(5103,!1);return l},Xi.getAllAngularTestabilities=()=>n.getAllTestabilities(),Xi.getAllAngularRootElements=()=>n.getAllRootElements(),Xi.frameworkStabilizers||(Xi.frameworkStabilizers=[]),Xi.frameworkStabilizers.push(s=>{const a=Xi.getAllAngularTestabilities();let l=a.length;const c=function(){l--,0==l&&s()};a.forEach(d=>{d.whenStable(c)})})}findTestabilityInTree(n,i,s){return null==i?null:n.getTestability(i)??(s?du().isShadowRoot(i)?this.findTestabilityInTree(n,i.host,!0):this.findTestabilityInTree(n,i.parentElement,!0):null)}},deps:[]},{provide:aH,useClass:HD,deps:[_t,GD,Jx]},{provide:HD,useClass:HD,deps:[_t,GD,Jx]}],f$=[{provide:m1,useValue:"root"},{provide:bo,useFactory:function vbe(){return new bo},deps:[]},{provide:ek,useClass:pbe,multi:!0,deps:[rn]},{provide:ek,useClass:_be,multi:!0,deps:[rn]},rk,r$,e$,{provide:dl,useExisting:rk},{provide:H6,useClass:nbe,deps:[]},[]];let li=(()=>{class r{constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[...f$,...h$],imports:[Im,jge]})}return r})(),xbe=(()=>{class r{_doc;constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static \u0275fac=function(s){return new(s||r)($e(rn))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Sv=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:function(s){let a=null;return a=s?new(s||r):$e(Mbe),a},providedIn:"root"})}return r})(),Mbe=(()=>{class r extends Sv{_doc;constructor(i){super(),this._doc=i}sanitize(i,s){if(null==s)return null;switch(i){case ps.NONE:return s;case ps.HTML:return jl(s,"HTML")?ta(s):Uz(this._doc,String(s)).toString();case ps.STYLE:return jl(s,"Style")?ta(s):s;case ps.SCRIPT:if(jl(s,"Script"))return ta(s);throw new ee(5200,!1);case ps.URL:return jl(s,"URL")?ta(s):wx(String(s));case ps.RESOURCE_URL:if(jl(s,"ResourceURL"))return ta(s);throw new ee(5201,!1);default:throw new ee(5202,!1)}}bypassSecurityTrustHtml(i){return function ele(r){return new qae(r)}(i)}bypassSecurityTrustStyle(i){return function tle(r){return new Yae(r)}(i)}bypassSecurityTrustScript(i){return function nle(r){return new Xae(r)}(i)}bypassSecurityTrustUrl(i){return function ile(r){return new Kae(r)}(i)}bypassSecurityTrustResourceUrl(i){return function rle(r){return new Zae(r)}(i)}static \u0275fac=function(s){return new(s||r)($e(rn))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function g$(r){return r&&Et(r.schedule)}function ak(r){return r[r.length-1]}function _$(r){return Et(ak(r))?r.pop():void 0}function km(r){return g$(ak(r))?r.pop():void 0}function y$(r,n){return"number"==typeof ak(r)?r.pop():n}function hu(r){return this instanceof hu?(this.v=r,this):new hu(r)}function x$(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r[Symbol.asyncIterator];return n?n.call(r):(r=function uk(r){var n="function"==typeof Symbol&&Symbol.iterator,i=n&&r[n],s=0;if(i)return i.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(l){i[l]=r[l]&&function(c){return new Promise(function(d,u){!function a(l,c,d,u){Promise.resolve(u).then(function(h){l({value:h,done:d})},c)}(d,u,(c=r[l](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fk=r=>r&&"number"==typeof r.length&&"function"!=typeof r;function w$(r){return Et(r?.then)}function C$(r){return Et(r[XI])}function E$(r){return Symbol.asyncIterator&&Et(r?.[Symbol.asyncIterator])}function M$(r){return new TypeError(`You provided ${null!==r&&"object"==typeof r?"an invalid object":`'${r}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const S$=function Jbe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function I$(r){return Et(r?.[S$])}function T$(r){return function A$(r,n,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=i.apply(r,n||[]),l=[];return a=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",function c(m){return function(_){return Promise.resolve(_).then(m,p)}}),a[Symbol.asyncIterator]=function(){return this},a;function d(m,_){s[m]&&(a[m]=function(v){return new Promise(function(y,b){l.push([m,v,y,b])>1||u(m,v)})},_&&(a[m]=_(a[m])))}function u(m,_){try{!function h(m){m.value instanceof hu?Promise.resolve(m.value.v).then(f,p):g(l[0][2],m)}(s[m](_))}catch(v){g(l[0][3],v)}}function f(m){u("next",m)}function p(m){u("throw",m)}function g(m,_){m(_),l.shift(),l.length&&u(l[0][0],l[0][1])}}(this,arguments,function*(){const i=r.getReader();try{for(;;){const{value:s,done:a}=yield hu(i.read());if(a)return yield hu(void 0);yield yield hu(s)}}finally{i.releaseLock()}})}function D$(r){return Et(r?.getReader)}function Ks(r){if(r instanceof pi)return r;if(null!=r){if(C$(r))return function eAe(r){return new pi(n=>{const i=r[XI]();if(Et(i.subscribe))return i.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(r);if(fk(r))return function tAe(r){return new pi(n=>{for(let i=0;i<r.length&&!n.closed;i++)n.next(r[i]);n.complete()})}(r);if(w$(r))return function nAe(r){return new pi(n=>{r.then(i=>{n.closed||(n.next(i),n.complete())},i=>n.error(i)).then(null,_p)})}(r);if(E$(r))return R$(r);if(I$(r))return function iAe(r){return new pi(n=>{for(const i of r)if(n.next(i),n.closed)return;n.complete()})}(r);if(D$(r))return function rAe(r){return R$(T$(r))}(r)}throw M$(r)}function R$(r){return new pi(n=>{(function sAe(r,n){var i,s,a,l;return function v$(r,n,i,s){return new(i||(i=Promise))(function(l,c){function d(f){try{h(s.next(f))}catch(p){c(p)}}function u(f){try{h(s.throw(f))}catch(p){c(p)}}function h(f){f.done?l(f.value):function a(l){return l instanceof i?l:new i(function(c){c(l)})}(f.value).then(d,u)}h((s=s.apply(r,n||[])).next())})}(this,void 0,void 0,function*(){try{for(i=x$(r);!(s=yield i.next()).done;)if(n.next(s.value),n.closed)return}catch(c){a={error:c}}finally{try{s&&!s.done&&(l=i.return)&&(yield l.call(i))}finally{if(a)throw a.error}}n.complete()})})(r,n).catch(i=>n.error(i))})}function id(r,n,i,s=0,a=!1){const l=n.schedule(function(){i(),a?r.add(this.schedule(null,s)):this.unsubscribe()},s);if(r.add(l),!a)return l}function k$(r,n=0){return qi((i,s)=>{i.subscribe(Yi(s,a=>id(s,r,()=>s.next(a),n),()=>id(s,r,()=>s.complete(),n),a=>id(s,r,()=>s.error(a),n)))})}function P$(r,n=0){return qi((i,s)=>{s.add(r.schedule(()=>i.subscribe(s),n))})}function F$(r,n){if(!r)throw new Error("Iterable cannot be null");return new pi(i=>{id(i,n,()=>{const s=r[Symbol.asyncIterator]();id(i,n,()=>{s.next().then(a=>{a.done?i.complete():i.next(a.value)})},0,!0)})})}function $r(r,n){return n?function uAe(r,n){if(null!=r){if(C$(r))return function oAe(r,n){return Ks(r).pipe(P$(n),k$(n))}(r,n);if(fk(r))return function lAe(r,n){return new pi(i=>{let s=0;return n.schedule(function(){s===r.length?i.complete():(i.next(r[s++]),i.closed||this.schedule())})})}(r,n);if(w$(r))return function aAe(r,n){return Ks(r).pipe(P$(n),k$(n))}(r,n);if(E$(r))return F$(r,n);if(I$(r))return function cAe(r,n){return new pi(i=>{let s;return id(i,n,()=>{s=r[S$](),id(i,n,()=>{let a,l;try{({value:a,done:l}=s.next())}catch(c){return void i.error(c)}l?i.complete():i.next(a)},0,!0)}),()=>Et(s?.return)&&s.return()})}(r,n);if(D$(r))return function dAe(r,n){return F$(T$(r),n)}(r,n)}throw M$(r)}(r,n):Ks(r)}function Oe(...r){return $r(r,km(r))}function Ss(r,n,i=1/0){return Et(n)?Ss((s,a)=>je((l,c)=>n(s,l,a,c))(Ks(r(s,a))),i):("number"==typeof n&&(i=n),qi((s,a)=>function hAe(r,n,i,s,a,l,c,d){const u=[];let h=0,f=0,p=!1;const g=()=>{p&&!u.length&&!h&&n.complete()},m=v=>h<s?_(v):u.push(v),_=v=>{l&&n.next(v),h++;let y=!1;Ks(i(v,f++)).subscribe(Yi(n,b=>{a?.(b),l?m(b):n.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(h--;u.length&&h<s;){const b=u.shift();c?id(n,c,()=>_(b)):_(b)}g()}catch(b){n.error(b)}}))};return r.subscribe(Yi(n,m,()=>{p=!0,g()})),()=>{d?.()}}(s,a,r,i)))}function fu(r,n){return Et(n)?Ss(r,n,1):Ss(r,1)}function ni(r,n){return qi((i,s)=>{let a=0;i.subscribe(Yi(s,l=>r.call(n,l,a++)&&s.next(l)))})}function Pm(r){return qi((n,i)=>{try{n.subscribe(i)}finally{i.add(r)}})}function br(r,n){return qi((i,s)=>{let a=null,l=0,c=!1;const d=()=>c&&!a&&s.complete();i.subscribe(Yi(s,u=>{a?.unsubscribe();let h=0;const f=l++;Ks(r(u,f)).subscribe(a=Yi(s,p=>s.next(n?n(u,p,f,h++):p),()=>{a=null,d()}))},()=>{c=!0,d()}))})}class zw{}class Vw{}class sa{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(i=>{const s=i.indexOf(":");if(s>0){const a=i.slice(0,s),l=i.slice(s+1).trim();this.addHeaderEntry(a,l)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((i,s)=>{this.addHeaderEntry(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const i=this.headers.get(n.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,i){return this.clone({name:n,value:i,op:"a"})}set(n,i){return this.clone({name:n,value:i,op:"s"})}delete(n,i){return this.clone({name:n,value:i,op:"d"})}maybeSetNormalizedName(n,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,n)}init(){this.lazyInit&&(this.lazyInit instanceof sa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(i=>{this.headers.set(i,n.headers.get(i)),this.normalizedNames.set(i,n.normalizedNames.get(i))})}clone(n){const i=new sa;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof sa?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([n]),i}applyUpdate(n){const i=n.name.toLowerCase();switch(n.op){case"a":case"s":let s=n.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(n.name,i);const a=("a"===n.op?this.headers.get(i):void 0)||[];a.push(...s),this.headers.set(i,a);break;case"d":const l=n.value;if(l){let c=this.headers.get(i);if(!c)return;c=c.filter(d=>-1===l.indexOf(d)),0===c.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,c)}else this.headers.delete(i),this.normalizedNames.delete(i)}}addHeaderEntry(n,i){const s=n.toLowerCase();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}setHeaderEntries(n,i){const s=(Array.isArray(i)?i:[i]).map(l=>l.toString()),a=n.toLowerCase();this.headers.set(a,s),this.maybeSetNormalizedName(n,a)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>n(this.normalizedNames.get(i),this.headers.get(i)))}}class fAe{encodeKey(n){return O$(n)}encodeValue(n){return O$(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const mAe=/%(\d[a-f0-9])/gi,gAe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function O$(r){return encodeURIComponent(r).replace(mAe,(n,i)=>gAe[i]??n)}function Hw(r){return`${r}`}class ec{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new fAe,n.fromString){if(n.fromObject)throw new ee(2805,!1);this.map=function pAe(r,n){const i=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(a=>{const l=a.indexOf("="),[c,d]=-1==l?[n.decodeKey(a),""]:[n.decodeKey(a.slice(0,l)),n.decodeValue(a.slice(l+1))],u=i.get(c)||[];u.push(d),i.set(c,u)}),i}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(i=>{const s=n.fromObject[i],a=Array.isArray(s)?s.map(Hw):[Hw(s)];this.map.set(i,a)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const i=this.map.get(n);return i?i[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,i){return this.clone({param:n,value:i,op:"a"})}appendAll(n){const i=[];return Object.keys(n).forEach(s=>{const a=n[s];Array.isArray(a)?a.forEach(l=>{i.push({param:s,value:l,op:"a"})}):i.push({param:s,value:a,op:"a"})}),this.clone(i)}set(n,i){return this.clone({param:n,value:i,op:"s"})}delete(n,i){return this.clone({param:n,value:i,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const i=this.encoder.encodeKey(n);return this.map.get(n).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const i=new ec({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(n),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const i=("a"===n.op?this.map.get(n.param):void 0)||[];i.push(Hw(n.value)),this.map.set(n.param,i);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let s=this.map.get(n.param)||[];const a=s.indexOf(Hw(n.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(n.param,s):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class _Ae{map=new Map;set(n,i){return this.map.set(n,i),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function N$(r){return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer}function B$(r){return typeof Blob<"u"&&r instanceof Blob}function L$(r){return typeof FormData<"u"&&r instanceof FormData}const Tv="Content-Type",pk="X-Request-URL",U$="text/plain",z$="application/json",V$=`${z$}, ${U$}, */*`;class Fm{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,i,s,a){let l;if(this.url=i,this.method=n.toUpperCase(),function yAe(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,l=a):l=s,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new sa,this.context??=new _Ae,this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=i;else{const d=i.indexOf("?");this.urlWithParams=i+(-1===d?"?":d<i.length-1?"&":"")+c}}else this.params=new ec,this.urlWithParams=i}serializeBody(){return null===this.body?null:"string"==typeof this.body||N$(this.body)||B$(this.body)||L$(this.body)||function vAe(r){return typeof URLSearchParams<"u"&&r instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ec?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||L$(this.body)?null:B$(this.body)?this.body.type||null:N$(this.body)?null:"string"==typeof this.body?U$:this.body instanceof ec?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?z$:null}clone(n={}){const i=n.method||this.method,s=n.url||this.url,a=n.responseType||this.responseType,l=n.transferCache??this.transferCache,c=void 0!==n.body?n.body:this.body,d=n.withCredentials??this.withCredentials,u=n.reportProgress??this.reportProgress;let h=n.headers||this.headers,f=n.params||this.params;const p=n.context??this.context;return void 0!==n.setHeaders&&(h=Object.keys(n.setHeaders).reduce((g,m)=>g.set(m,n.setHeaders[m]),h)),n.setParams&&(f=Object.keys(n.setParams).reduce((g,m)=>g.set(m,n.setParams[m]),f)),new Fm(i,s,c,{params:f,headers:h,context:p,reportProgress:u,responseType:a,withCredentials:d,transferCache:l})}}var tc=function(r){return r[r.Sent=0]="Sent",r[r.UploadProgress=1]="UploadProgress",r[r.ResponseHeader=2]="ResponseHeader",r[r.DownloadProgress=3]="DownloadProgress",r[r.Response=4]="Response",r[r.User=5]="User",r}(tc||{});class mk{headers;status;statusText;url;ok;type;constructor(n,i=200,s="OK"){this.headers=n.headers||new sa,this.status=void 0!==n.status?n.status:i,this.statusText=n.statusText||s,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class $w extends mk{constructor(n={}){super(n)}type=tc.ResponseHeader;clone(n={}){return new $w({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Oh extends mk{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=tc.Response;clone(n={}){return new Oh({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Nh extends mk{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function gk(r,n){return{body:n,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials,transferCache:r.transferCache}}let Bh=(()=>{class r{handler;constructor(i){this.handler=i}request(i,s,a={}){let l;if(i instanceof Fm)l=i;else{let u,h;u=a.headers instanceof sa?a.headers:new sa(a.headers),a.params&&(h=a.params instanceof ec?a.params:new ec({fromObject:a.params})),l=new Fm(i,s,void 0!==a.body?a.body:null,{headers:u,context:a.context,params:h,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}const c=Oe(l).pipe(fu(u=>this.handler.handle(u)));if(i instanceof Fm||"events"===a.observe)return c;const d=c.pipe(ni(u=>u instanceof Oh));switch(a.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return d.pipe(je(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new ee(2806,!1);return u.body}));case"blob":return d.pipe(je(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new ee(2807,!1);return u.body}));case"text":return d.pipe(je(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new ee(2808,!1);return u.body}));default:return d.pipe(je(u=>u.body))}case"response":return d;default:throw new ee(2809,!1)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:(new ec).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,a={}){return this.request("PATCH",i,gk(a,s))}post(i,s,a={}){return this.request("POST",i,gk(a,s))}put(i,s,a={}){return this.request("PUT",i,gk(a,s))}static \u0275fac=function(s){return new(s||r)($e(zw))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const $$=new se("");function Q$(r,n){return n(r)}function EAe(r,n){return(i,s)=>n.intercept(i,{handle:a=>r(a,s)})}const SAe=new se(""),Dv=new se(""),j$=new se(""),W$=new se("",{providedIn:"root",factory:()=>!0});function IAe(){let r=null;return(n,i)=>{null===r&&(r=(D(SAe,{optional:!0})??[]).reduceRight(EAe,Q$));const s=D(ll);if(D(W$)){const l=s.add();return r(n,i).pipe(Pm(()=>s.remove(l)))}return r(n,i)}}let q$=(()=>{class r extends zw{backend;injector;chain=null;pendingTasks=D(ll);contributeToStability=D(W$);constructor(i,s){super(),this.backend=i,this.injector=s}handle(i){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Dv),...this.injector.get(j$,[])]));this.chain=s.reduceRight((a,l)=>function MAe(r,n,i){return(s,a)=>Na(i,()=>n(s,l=>r(l,a)))}(a,l,this.injector),Q$)}if(this.contributeToStability){const s=this.pendingTasks.add();return this.chain(i,a=>this.backend.handle(a)).pipe(Pm(()=>this.pendingTasks.remove(s)))}return this.chain(i,s=>this.backend.handle(s))}static \u0275fac=function(s){return new(s||r)($e(Vw),$e(Ns))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const PAe=/^\)\]\}',?\n/,FAe=RegExp(`^${pk}:`,"m");let X$=(()=>{class r{xhrFactory;constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new ee(-2800,!1);const s=this.xhrFactory;return(s.\u0275loadImpl?$r(s.\u0275loadImpl()):Oe(null)).pipe(br(()=>new pi(l=>{const c=s.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((v,y)=>c.setRequestHeader(v,y.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept",V$),!i.headers.has(Tv)){const v=i.detectContentTypeHeader();null!==v&&c.setRequestHeader(Tv,v)}if(i.responseType){const v=i.responseType.toLowerCase();c.responseType="json"!==v?v:"text"}const d=i.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const v=c.statusText||"OK",y=new sa(c.getAllResponseHeaders()),b=function OAe(r){return"responseURL"in r&&r.responseURL?r.responseURL:FAe.test(r.getAllResponseHeaders())?r.getResponseHeader(pk):null}(c)||i.url;return u=new $w({headers:y,status:c.status,statusText:v,url:b}),u},f=()=>{let{headers:v,status:y,statusText:b,url:A}=h(),x=null;204!==y&&(x=typeof c.response>"u"?c.responseText:c.response),0===y&&(y=x?200:0);let w=y>=200&&y<300;if("json"===i.responseType&&"string"==typeof x){const E=x;x=x.replace(PAe,"");try{x=""!==x?JSON.parse(x):null}catch(M){x=E,w&&(w=!1,x={error:M,text:x})}}w?(l.next(new Oh({body:x,headers:v,status:y,statusText:b,url:A||void 0})),l.complete()):l.error(new Nh({error:x,headers:v,status:y,statusText:b,url:A||void 0}))},p=v=>{const{url:y}=h(),b=new Nh({error:v,status:c.status||0,statusText:c.statusText||"Unknown Error",url:y||void 0});l.error(b)};let g=!1;const m=v=>{g||(l.next(h()),g=!0);let y={type:tc.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),"text"===i.responseType&&c.responseText&&(y.partialText=c.responseText),l.next(y)},_=v=>{let y={type:tc.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),l.next(y)};return c.addEventListener("load",f),c.addEventListener("error",p),c.addEventListener("timeout",p),c.addEventListener("abort",p),i.reportProgress&&(c.addEventListener("progress",m),null!==d&&c.upload&&c.upload.addEventListener("progress",_)),c.send(d),l.next({type:tc.Sent}),()=>{c.removeEventListener("error",p),c.removeEventListener("abort",p),c.removeEventListener("load",f),c.removeEventListener("timeout",p),i.reportProgress&&(c.removeEventListener("progress",m),null!==d&&c.upload&&c.upload.removeEventListener("progress",_)),c.readyState!==c.DONE&&c.abort()}})))}static \u0275fac=function(s){return new(s||r)($e(H6))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const vk=new se(""),K$=new se("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Z$=new se("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class J${}let LAe=(()=>{class r{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(i,s,a){this.doc=i,this.platform=s,this.cookieName=a}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=k6(i,this.cookieName),this.lastCookieString=i),this.lastToken}static \u0275fac=function(s){return new(s||r)($e(rn),$e(Ql),$e(K$))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();function UAe(r,n){const i=r.url.toLowerCase();if(!D(vk)||"GET"===r.method||"HEAD"===r.method||i.startsWith("http://")||i.startsWith("https://"))return n(r);const s=D(J$).getToken(),a=D(Z$);return null!=s&&!r.headers.has(a)&&(r=r.clone({headers:r.headers.set(a,s)})),n(r)}var pu=function(r){return r[r.Interceptors=0]="Interceptors",r[r.LegacyInterceptors=1]="LegacyInterceptors",r[r.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",r[r.NoXsrfProtection=3]="NoXsrfProtection",r[r.JsonpSupport=4]="JsonpSupport",r[r.RequestsMadeViaParent=5]="RequestsMadeViaParent",r[r.Fetch=6]="Fetch",r}(pu||{});function Lh(r,n){return{\u0275kind:r,\u0275providers:n}}function zAe(...r){const n=[Bh,X$,q$,{provide:zw,useExisting:q$},{provide:Vw,useFactory:()=>D($$,{optional:!0})??D(X$)},{provide:Dv,useValue:UAe,multi:!0},{provide:vk,useValue:!0},{provide:J$,useClass:LAe}];for(const i of r)n.push(...i.\u0275providers);return function Yd(r){return{\u0275providers:r}}(n)}const eQ=new se("");var Xt=function(r){return r[r.State=0]="State",r[r.Transition=1]="Transition",r[r.Sequence=2]="Sequence",r[r.Group=3]="Group",r[r.Animate=4]="Animate",r[r.Keyframes=5]="Keyframes",r[r.Style=6]="Style",r[r.Trigger=7]="Trigger",r[r.Reference=8]="Reference",r[r.AnimateChild=9]="AnimateChild",r[r.AnimateRef=10]="AnimateRef",r[r.Query=11]="Query",r[r.Stagger=12]="Stagger",r}(Xt||{});const rd="*";function nQ(r){return{type:Xt.Style,styles:r,offset:null}}class Rv{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(n=0,i=0){this.totalTime=n+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class iQ{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(n){this.players=n;let i=0,s=0,a=0;const l=this.players.length;0==l?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++i==l&&this._onFinish()}),c.onDestroy(()=>{++s==l&&this._onDestroy()}),c.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const i=n*this.totalTime;this.players.forEach(s=>{const a=s.totalTime?Math.min(1,i/s.totalTime):1;s.setPosition(a)})}getPosition(){const n=this.players.reduce((i,s)=>null===i||s.totalTime>i.totalTime?s:i,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const i="start"==n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}function rQ(r){return new ee(3e3,!1)}function mu(r){switch(r.length){case 0:return new Rv;case 1:return r[0];default:return new iQ(r)}}function sQ(r,n,i=new Map,s=new Map){const a=[],l=[];let c=-1,d=null;if(n.forEach(u=>{const h=u.get("offset"),f=h==c,p=f&&d||new Map;u.forEach((g,m)=>{let _=m,v=g;if("offset"!==m)switch(_=r.normalizePropertyName(_,a),v){case"!":v=i.get(m);break;case rd:v=s.get(m);break;default:v=r.normalizeStyleValue(m,_,v,a)}p.set(_,v)}),f||l.push(p),d=p,c=h}),a.length)throw function D0e(){return new ee(3502,!1)}();return l}function xk(r,n,i,s){switch(n){case"start":r.onStart(()=>s(i&&wk(i,"start",r)));break;case"done":r.onDone(()=>s(i&&wk(i,"done",r)));break;case"destroy":r.onDestroy(()=>s(i&&wk(i,"destroy",r)))}}function wk(r,n,i){const l=Ck(r.element,r.triggerName,r.fromState,r.toState,n||r.phaseName,i.totalTime??r.totalTime,!!i.disabled),c=r._data;return null!=c&&(l._data=c),l}function Ck(r,n,i,s,a="",l=0,c){return{element:r,triggerName:n,fromState:i,toState:s,phaseName:a,totalTime:l,disabled:!!c}}function ba(r,n,i){let s=r.get(n);return s||r.set(n,s=i),s}function oQ(r){const n=r.indexOf(":");return[r.substring(1,n),r.slice(n+1)]}const H0e=typeof document>"u"?null:document.documentElement;function Ek(r){const n=r.parentNode||r.host||null;return n===H0e?null:n}let Uh=null,aQ=!1;function lQ(r,n){for(;n;){if(n===r)return!0;n=Ek(n)}return!1}function cQ(r,n,i){if(i)return Array.from(r.querySelectorAll(n));const s=r.querySelector(n);return s?[s]:[]}let Mk=(()=>{class r{validateStyleProperty(i){return function $0e(r){Uh||(Uh=function Q0e(){return typeof document<"u"?document.body:null}()||{},aQ=!!Uh.style&&"WebkitAppearance"in Uh.style);let n=!0;return Uh.style&&!function G0e(r){return"ebkit"==r.substring(1,6)}(r)&&(n=r in Uh.style,!n&&aQ&&(n="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in Uh.style)),n}(i)}containsElement(i,s){return lQ(i,s)}getParentElement(i){return Ek(i)}query(i,s,a){return cQ(i,s,a)}computeStyle(i,s,a){return a||""}animate(i,s,a,l,c,d=[],u){return new Rv(a,l)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();class Sk{static NOOP=new Mk}class Ik{}const Tk="ng-enter",Qw="ng-leave",jw="ng-trigger",Ww=".ng-trigger",uQ="ng-animating",Dk=".ng-animating";function sd(r){if("number"==typeof r)return r;const n=r.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:Rk(parseFloat(n[1]),n[2])}function Rk(r,n){return"s"===n?1e3*r:r}function qw(r,n,i){return r.hasOwnProperty("duration")?r:function Y0e(r,n,i){let a,l=0,c="";if("string"==typeof r){const d=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return n.push(rQ()),{duration:0,delay:0,easing:""};a=Rk(parseFloat(d[1]),d[2]);const u=d[3];null!=u&&(l=Rk(parseFloat(u),d[4]));const h=d[5];h&&(c=h)}else a=r;if(!i){let d=!1,u=n.length;a<0&&(n.push(function l0e(){return new ee(3100,!1)}()),d=!0),l<0&&(n.push(function c0e(){return new ee(3101,!1)}()),d=!0),d&&n.splice(u,0,rQ())}return{duration:a,delay:l,easing:c}}(r,n,i)}function nc(r,n,i){n.forEach((s,a)=>{const l=Pk(a);i&&!i.has(a)&&i.set(a,r.style[l]),r.style[l]=s})}function zh(r,n){n.forEach((i,s)=>{const a=Pk(s);r.style[a]=""})}function kv(r){return Array.isArray(r)?1==r.length?r[0]:function i0e(r,n=null){return{type:Xt.Sequence,steps:r,options:n}}(r):r}const kk=new RegExp("{{\\s*(.+?)\\s*}}","g");function fQ(r){let n=[];if("string"==typeof r){let i;for(;i=kk.exec(r);)n.push(i[1]);kk.lastIndex=0}return n}function Pv(r,n,i){const s=`${r}`,a=s.replace(kk,(l,c)=>{let d=n[c];return null==d&&(i.push(function u0e(){return new ee(3003,!1)}()),d=""),d.toString()});return a==s?r:a}const Z0e=/-+([a-z0-9])/g;function Pk(r){return r.replace(Z0e,(...n)=>n[1].toUpperCase())}function Aa(r,n,i){switch(n.type){case Xt.Trigger:return r.visitTrigger(n,i);case Xt.State:return r.visitState(n,i);case Xt.Transition:return r.visitTransition(n,i);case Xt.Sequence:return r.visitSequence(n,i);case Xt.Group:return r.visitGroup(n,i);case Xt.Animate:return r.visitAnimate(n,i);case Xt.Keyframes:return r.visitKeyframes(n,i);case Xt.Style:return r.visitStyle(n,i);case Xt.Reference:return r.visitReference(n,i);case Xt.AnimateChild:return r.visitAnimateChild(n,i);case Xt.AnimateRef:return r.visitAnimateRef(n,i);case Xt.Query:return r.visitQuery(n,i);case Xt.Stagger:return r.visitStagger(n,i);default:throw function h0e(){return new ee(3004,!1)}()}}function Fk(r,n){return window.getComputedStyle(r)[n]}const txe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class pQ extends Ik{normalizePropertyName(n,i){return Pk(n)}normalizeStyleValue(n,i,s,a){let l="";const c=s.toString().trim();if(txe.has(i)&&0!==s&&"0"!==s)if("number"==typeof s)l="px";else{const d=s.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&a.push(function f0e(){return new ee(3005,!1)}())}return c+l}}const Kw=new Set(["true","1"]),Zw=new Set(["false","0"]);function mQ(r,n){const i=Kw.has(r)||Zw.has(r),s=Kw.has(n)||Zw.has(n);return(a,l)=>{let c="*"==r||r==a,d="*"==n||n==l;return!c&&i&&"boolean"==typeof a&&(c=a?Kw.has(r):Zw.has(r)),!d&&s&&"boolean"==typeof l&&(d=l?Kw.has(n):Zw.has(n)),c&&d}}const sxe=new RegExp("s*:selfs*,?","g");function Ok(r,n,i,s){return new oxe(r).build(n,i,s)}class oxe{_driver;constructor(n){this._driver=n}build(n,i,s){const a=new cxe(i);return this._resetContextStyleTimingState(a),Aa(this,kv(n),a)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,i){let s=i.queryCount=0,a=i.depCount=0;const l=[],c=[];return"@"==n.name.charAt(0)&&i.errors.push(function p0e(){return new ee(3006,!1)}()),n.definitions.forEach(d=>{if(this._resetContextStyleTimingState(i),d.type==Xt.State){const u=d,h=u.name;h.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,l.push(this.visitState(u,i))}),u.name=h}else if(d.type==Xt.Transition){const u=this.visitTransition(d,i);s+=u.queryCount,a+=u.depCount,c.push(u)}else i.errors.push(function m0e(){return new ee(3007,!1)}())}),{type:Xt.Trigger,name:n.name,states:l,transitions:c,queryCount:s,depCount:a,options:null}}visitState(n,i){const s=this.visitStyle(n.styles,i),a=n.options&&n.options.params||null;if(s.containsDynamicStyles){const l=new Set,c=a||{};s.styles.forEach(d=>{d instanceof Map&&d.forEach(u=>{fQ(u).forEach(h=>{c.hasOwnProperty(h)||l.add(h)})})}),l.size&&i.errors.push(function g0e(){return new ee(3008,!1)}(0,l.values()))}return{type:Xt.State,name:n.name,style:s,options:a?{params:a}:null}}visitTransition(n,i){i.queryCount=0,i.depCount=0;const s=Aa(this,kv(n.animation),i),a=function nxe(r,n){const i=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function ixe(r,n,i){if(":"==r[0]){const u=function rxe(r,n){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,s)=>parseFloat(s)>parseFloat(i);case":decrement":return(i,s)=>parseFloat(s)<parseFloat(i);default:return n.push(function M0e(){return new ee(3016,!1)}()),"* => *"}}(r,i);if("function"==typeof u)return void n.push(u);r=u}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return i.push(function E0e(){return new ee(3015,!1)}()),n;const a=s[1],l=s[2],c=s[3];n.push(mQ(a,c)),"<"==l[0]&&("*"!=a||"*"!=c)&&n.push(mQ(c,a))}(s,i,n)):i.push(r),i}(n.expr,i.errors);return{type:Xt.Transition,matchers:a,animation:s,queryCount:i.queryCount,depCount:i.depCount,options:Vh(n.options)}}visitSequence(n,i){return{type:Xt.Sequence,steps:n.steps.map(s=>Aa(this,s,i)),options:Vh(n.options)}}visitGroup(n,i){const s=i.currentTime;let a=0;const l=n.steps.map(c=>{i.currentTime=s;const d=Aa(this,c,i);return a=Math.max(a,i.currentTime),d});return i.currentTime=a,{type:Xt.Group,steps:l,options:Vh(n.options)}}visitAnimate(n,i){const s=function uxe(r,n){if(r.hasOwnProperty("duration"))return r;if("number"==typeof r)return Nk(qw(r,n).duration,0,"");const i=r;if(i.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Nk(0,0,"");return l.dynamic=!0,l.strValue=i,l}const a=qw(i,n);return Nk(a.duration,a.delay,a.easing)}(n.timings,i.errors);i.currentAnimateTimings=s;let a,l=n.styles?n.styles:nQ({});if(l.type==Xt.Keyframes)a=this.visitKeyframes(l,i);else{let c=n.styles,d=!1;if(!c){d=!0;const h={};s.easing&&(h.easing=s.easing),c=nQ(h)}i.currentTime+=s.duration+s.delay;const u=this.visitStyle(c,i);u.isEmptyStep=d,a=u}return i.currentAnimateTimings=null,{type:Xt.Animate,timings:s,style:a,options:null}}visitStyle(n,i){const s=this._makeStyleAst(n,i);return this._validateStyleAst(s,i),s}_makeStyleAst(n,i){const s=[],a=Array.isArray(n.styles)?n.styles:[n.styles];for(let d of a)"string"==typeof d?d===rd?s.push(d):i.errors.push(new ee(3002,!1)):s.push(new Map(Object.entries(d)));let l=!1,c=null;return s.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!l))for(let u of d.values())if(u.toString().indexOf("{{")>=0){l=!0;break}}),{type:Xt.Style,styles:s,easing:c,offset:n.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(n,i){const s=i.currentAnimateTimings;let a=i.currentTime,l=i.currentTime;s&&l>0&&(l-=s.duration+s.delay),n.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,u)=>{const h=i.collectedStyles.get(i.currentQuerySelector),f=h.get(u);let p=!0;f&&(l!=a&&l>=f.startTime&&a<=f.endTime&&(i.errors.push(function y0e(){return new ee(3010,!1)}()),p=!1),l=f.startTime),p&&h.set(u,{startTime:l,endTime:a}),i.options&&function K0e(r,n,i){const s=n.params||{},a=fQ(r);a.length&&a.forEach(l=>{s.hasOwnProperty(l)||i.push(function d0e(){return new ee(3001,!1)}())})}(d,i.options,i.errors)})})}visitKeyframes(n,i){const s={type:Xt.Keyframes,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push(function v0e(){return new ee(3011,!1)}()),s;let l=0;const c=[];let d=!1,u=!1,h=0;const f=n.steps.map(b=>{const A=this._makeStyleAst(b,i);let x=null!=A.offset?A.offset:function dxe(r){if("string"==typeof r)return null;let n=null;if(Array.isArray(r))r.forEach(i=>{if(i instanceof Map&&i.has("offset")){const s=i;n=parseFloat(s.get("offset")),s.delete("offset")}});else if(r instanceof Map&&r.has("offset")){const i=r;n=parseFloat(i.get("offset")),i.delete("offset")}return n}(A.styles),w=0;return null!=x&&(l++,w=A.offset=x),u=u||w<0||w>1,d=d||w<h,h=w,c.push(w),A});u&&i.errors.push(function b0e(){return new ee(3012,!1)}()),d&&i.errors.push(function A0e(){return new ee(3200,!1)}());const p=n.steps.length;let g=0;l>0&&l<p?i.errors.push(function x0e(){return new ee(3202,!1)}()):0==l&&(g=1/(p-1));const m=p-1,_=i.currentTime,v=i.currentAnimateTimings,y=v.duration;return f.forEach((b,A)=>{const x=g>0?A==m?1:g*A:c[A],w=x*y;i.currentTime=_+v.delay+w,v.duration=w,this._validateStyleAst(b,i),b.offset=x,s.styles.push(b)}),s}visitReference(n,i){return{type:Xt.Reference,animation:Aa(this,kv(n.animation),i),options:Vh(n.options)}}visitAnimateChild(n,i){return i.depCount++,{type:Xt.AnimateChild,options:Vh(n.options)}}visitAnimateRef(n,i){return{type:Xt.AnimateRef,animation:this.visitReference(n.animation,i),options:Vh(n.options)}}visitQuery(n,i){const s=i.currentQuerySelector,a=n.options||{};i.queryCount++,i.currentQuery=n;const[l,c]=function axe(r){const n=!!r.split(/\s*,\s*/).find(i=>":self"==i);return n&&(r=r.replace(sxe,"")),r=r.replace(/@\*/g,Ww).replace(/@\w+/g,i=>Ww+"-"+i.slice(1)).replace(/:animating/g,Dk),[r,n]}(n.selector);i.currentQuerySelector=s.length?s+" "+l:l,ba(i.collectedStyles,i.currentQuerySelector,new Map);const d=Aa(this,kv(n.animation),i);return i.currentQuery=null,i.currentQuerySelector=s,{type:Xt.Query,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:c,animation:d,originalSelector:n.selector,options:Vh(n.options)}}visitStagger(n,i){i.currentQuery||i.errors.push(function w0e(){return new ee(3013,!1)}());const s="full"===n.timings?{duration:0,delay:0,easing:"full"}:qw(n.timings,i.errors,!0);return{type:Xt.Stagger,animation:Aa(this,kv(n.animation),i),timings:s,options:null}}}class cxe{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(n){this.errors=n}}function Vh(r){return r?(r={...r}).params&&(r.params=function lxe(r){return r?{...r}:null}(r.params)):r={},r}function Nk(r,n,i){return{duration:r,delay:n,easing:i}}function Bk(r,n,i,s,a,l,c=null,d=!1){return{type:1,element:r,keyframes:n,preStyleProps:i,postStyleProps:s,duration:a,delay:l,totalTime:a+l,easing:c,subTimeline:d}}class Jw{_map=new Map;get(n){return this._map.get(n)||[]}append(n,i){let s=this._map.get(n);s||this._map.set(n,s=[]),s.push(...i)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const pxe=new RegExp(":enter","g"),gxe=new RegExp(":leave","g");function Lk(r,n,i,s,a,l=new Map,c=new Map,d,u,h=[]){return(new _xe).buildKeyframes(r,n,i,s,a,l,c,d,u,h)}class _xe{buildKeyframes(n,i,s,a,l,c,d,u,h,f=[]){h=h||new Jw;const p=new Uk(n,i,h,a,l,f,[]);p.options=u;const g=u.delay?sd(u.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([c],null,p.errors,u),Aa(this,s,p);const m=p.timelines.filter(_=>_.containsAnimation());if(m.length&&d.size){let _;for(let v=m.length-1;v>=0;v--){const y=m[v];if(y.element===i){_=y;break}}_&&!_.allowOnlyTimelineStyles()&&_.setStyles([d],null,p.errors,u)}return m.length?m.map(_=>_.buildKeyframes()):[Bk(i,[],[],[],0,g,"",!1)]}visitTrigger(n,i){}visitState(n,i){}visitTransition(n,i){}visitAnimateChild(n,i){const s=i.subInstructions.get(i.element);if(s){const a=i.createSubContext(n.options),l=i.currentTimeline.currentTime,c=this._visitSubInstructions(s,a,a.options);l!=c&&i.transformIntoNewTimeline(c)}i.previousNode=n}visitAnimateRef(n,i){const s=i.createSubContext(n.options);s.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],i,s),this.visitReference(n.animation,s),i.transformIntoNewTimeline(s.currentTimeline.currentTime),i.previousNode=n}_applyAnimationRefDelays(n,i,s){for(const a of n){const l=a?.delay;if(l){const c="number"==typeof l?l:sd(Pv(l,a?.params??{},i.errors));s.delayNextStep(c)}}}_visitSubInstructions(n,i,s){let l=i.currentTimeline.currentTime;const c=null!=s.duration?sd(s.duration):null,d=null!=s.delay?sd(s.delay):null;return 0!==c&&n.forEach(u=>{const h=i.appendInstructionToTimeline(u,c,d);l=Math.max(l,h.duration+h.delay)}),l}visitReference(n,i){i.updateOptions(n.options,!0),Aa(this,n.animation,i),i.previousNode=n}visitSequence(n,i){const s=i.subContextCount;let a=i;const l=n.options;if(l&&(l.params||l.delay)&&(a=i.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){a.previousNode.type==Xt.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=eC);const c=sd(l.delay);a.delayNextStep(c)}n.steps.length&&(n.steps.forEach(c=>Aa(this,c,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>s&&a.transformIntoNewTimeline()),i.previousNode=n}visitGroup(n,i){const s=[];let a=i.currentTimeline.currentTime;const l=n.options&&n.options.delay?sd(n.options.delay):0;n.steps.forEach(c=>{const d=i.createSubContext(n.options);l&&d.delayNextStep(l),Aa(this,c,d),a=Math.max(a,d.currentTimeline.currentTime),s.push(d.currentTimeline)}),s.forEach(c=>i.currentTimeline.mergeTimelineCollectedStyles(c)),i.transformIntoNewTimeline(a),i.previousNode=n}_visitTiming(n,i){if(n.dynamic){const s=n.strValue;return qw(i.params?Pv(s,i.params,i.errors):s,i.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,i){const s=i.currentAnimateTimings=this._visitTiming(n.timings,i),a=i.currentTimeline;s.delay&&(i.incrementTime(s.delay),a.snapshotCurrentStyles());const l=n.style;l.type==Xt.Keyframes?this.visitKeyframes(l,i):(i.incrementTime(s.duration),this.visitStyle(l,i),a.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=n}visitStyle(n,i){const s=i.currentTimeline,a=i.currentAnimateTimings;!a&&s.hasCurrentStyleProperties()&&s.forwardFrame();const l=a&&a.easing||n.easing;n.isEmptyStep?s.applyEmptyStep(l):s.setStyles(n.styles,l,i.errors,i.options),i.previousNode=n}visitKeyframes(n,i){const s=i.currentAnimateTimings,a=i.currentTimeline.duration,l=s.duration,d=i.createSubContext().currentTimeline;d.easing=s.easing,n.styles.forEach(u=>{d.forwardTime((u.offset||0)*l),d.setStyles(u.styles,u.easing,i.errors,i.options),d.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(d),i.transformIntoNewTimeline(a+l),i.previousNode=n}visitQuery(n,i){const s=i.currentTimeline.currentTime,a=n.options||{},l=a.delay?sd(a.delay):0;l&&(i.previousNode.type===Xt.Style||0==s&&i.currentTimeline.hasCurrentStyleProperties())&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=eC);let c=s;const d=i.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!a.optional,i.errors);i.currentQueryTotal=d.length;let u=null;d.forEach((h,f)=>{i.currentQueryIndex=f;const p=i.createSubContext(n.options,h);l&&p.delayNextStep(l),h===i.element&&(u=p.currentTimeline),Aa(this,n.animation,p),p.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,p.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(c),u&&(i.currentTimeline.mergeTimelineCollectedStyles(u),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=n}visitStagger(n,i){const s=i.parentContext,a=i.currentTimeline,l=n.timings,c=Math.abs(l.duration),d=c*(i.currentQueryTotal-1);let u=c*i.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":u=d-u;break;case"full":u=s.currentStaggerTime}const f=i.currentTimeline;u&&f.delayNextStep(u);const p=f.currentTime;Aa(this,n.animation,i),i.previousNode=n,s.currentStaggerTime=a.currentTime-p+(a.startTime-s.currentTimeline.startTime)}}const eC={};class Uk{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=eC;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(n,i,s,a,l,c,d,u){this._driver=n,this.element=i,this.subInstructions=s,this._enterClassName=a,this._leaveClassName=l,this.errors=c,this.timelines=d,this.currentTimeline=u||new tC(this._driver,i,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,i){if(!n)return;const s=n;let a=this.options;null!=s.duration&&(a.duration=sd(s.duration)),null!=s.delay&&(a.delay=sd(s.delay));const l=s.params;if(l){let c=a.params;c||(c=this.options.params={}),Object.keys(l).forEach(d=>{(!i||!c.hasOwnProperty(d))&&(c[d]=Pv(l[d],c,this.errors))})}}_copyOptions(){const n={};if(this.options){const i=this.options.params;if(i){const s=n.params={};Object.keys(i).forEach(a=>{s[a]=i[a]})}}return n}createSubContext(n=null,i,s){const a=i||this.element,l=new Uk(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,s||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(n),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(n){return this.previousNode=eC,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,i,s){const a={duration:i??n.duration,delay:this.currentTimeline.currentTime+(s??0)+n.delay,easing:""},l=new yxe(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,a,n.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,i,s,a,l,c){let d=[];if(a&&d.push(this.element),n.length>0){n=(n=n.replace(pxe,"."+this._enterClassName)).replace(gxe,"."+this._leaveClassName);let h=this._driver.query(this.element,n,1!=s);0!==s&&(h=s<0?h.slice(h.length+s,h.length):h.slice(0,s)),d.push(...h)}return!l&&0==d.length&&c.push(function C0e(){return new ee(3014,!1)}()),d}}class tC{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(n,i,s,a){this._driver=n,this.element=i,this.startTime=s,this._elementTimelineStylesLookup=a,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const i=1===this._keyframes.size&&this._pendingStyles.size;this.duration||i?(this.forwardTime(this.currentTime+n),i&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,i){return this.applyStylesToKeyframe(),new tC(this._driver,n,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,i){this._localTimelineStyles.set(n,i),this._globalTimelineStyles.set(n,i),this._styleSummary.set(n,{time:this.currentTime,value:i})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[i,s]of this._globalTimelineStyles)this._backFill.set(i,s||rd),this._currentKeyframe.set(i,rd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,i,s,a){i&&this._previousKeyframe.set("easing",i);const l=a&&a.params||{},c=function vxe(r,n){const i=new Map;let s;return r.forEach(a=>{if("*"===a){s??=n.keys();for(let l of s)i.set(l,rd)}else for(let[l,c]of a)i.set(l,c)}),i}(n,this._globalTimelineStyles);for(let[d,u]of c){const h=Pv(u,l,s);this._pendingStyles.set(d,h),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??rd),this._updateStyle(d,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,i)=>{this._currentKeyframe.set(i,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,i)=>{this._currentKeyframe.has(i)||this._currentKeyframe.set(i,n)}))}snapshotCurrentStyles(){for(let[n,i]of this._localTimelineStyles)this._pendingStyles.set(n,i),this._updateStyle(n,i)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let i in this._currentKeyframe)n.push(i);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((i,s)=>{const a=this._styleSummary.get(s);(!a||i.time>a.time)&&this._updateStyle(s,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,i=new Set,s=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((d,u)=>{const h=new Map([...this._backFill,...d]);h.forEach((f,p)=>{"!"===f?n.add(p):f===rd&&i.add(p)}),s||h.set("offset",u/this.duration),a.push(h)});const l=[...n.values()],c=[...i.values()];if(s){const d=a[0],u=new Map(d);d.set("offset",0),u.set("offset",1),a=[d,u]}return Bk(this.element,a,l,c,this.duration,this.startTime,this.easing,!1)}}class yxe extends tC{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(n,i,s,a,l,c,d=!1){super(n,i,c.delay),this.keyframes=s,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:i,duration:s,easing:a}=this.timings;if(this._stretchStartingKeyframe&&i){const l=[],c=s+i,d=i/c,u=new Map(n[0]);u.set("offset",0),l.push(u);const h=new Map(n[0]);h.set("offset",yQ(d)),l.push(h);const f=n.length-1;for(let p=1;p<=f;p++){let g=new Map(n[p]);const m=g.get("offset");g.set("offset",yQ((i+m*s)/c)),l.push(g)}s=c,i=0,a="",n=l}return Bk(this.element,n,this.preStyleProps,this.postStyleProps,s,i,a,!0)}}function yQ(r,n=3){const i=Math.pow(10,n-1);return Math.round(r*i)/i}function vQ(r,n,i,s,a,l,c,d,u,h,f,p,g){return{type:0,element:r,triggerName:n,isRemovalTransition:a,fromState:i,fromStyles:l,toState:s,toStyles:c,timelines:d,queriedElements:u,preStyleProps:h,postStyleProps:f,totalTime:p,errors:g}}const zk={};class bQ{_triggerName;ast;_stateStyles;constructor(n,i,s){this._triggerName=n,this.ast=i,this._stateStyles=s}match(n,i,s,a){return function bxe(r,n,i,s,a){return r.some(l=>l(n,i,s,a))}(this.ast.matchers,n,i,s,a)}buildStyles(n,i,s){let a=this._stateStyles.get("*");return void 0!==n&&(a=this._stateStyles.get(n?.toString())||a),a?a.buildStyles(i,s):new Map}build(n,i,s,a,l,c,d,u,h,f){const p=[],g=this.ast.options&&this.ast.options.params||zk,_=this.buildStyles(s,d&&d.params||zk,p),v=u&&u.params||zk,y=this.buildStyles(a,v,p),b=new Set,A=new Map,x=new Map,w="void"===a,E={params:AQ(v,g),delay:this.ast.options?.delay},M=f?[]:Lk(n,i,this.ast.animation,l,c,_,y,E,h,p);let S=0;return M.forEach(T=>{S=Math.max(T.duration+T.delay,S)}),p.length?vQ(i,this._triggerName,s,a,w,_,y,[],[],A,x,S,p):(M.forEach(T=>{const P=T.element,C=ba(A,P,new Set);T.preStyleProps.forEach(k=>C.add(k));const I=ba(x,P,new Set);T.postStyleProps.forEach(k=>I.add(k)),P!==i&&b.add(P)}),vQ(i,this._triggerName,s,a,w,_,y,M,[...b.values()],A,x,S))}}function AQ(r,n){const i={...n};return Object.entries(r).forEach(([s,a])=>{null!=a&&(i[s]=a)}),i}class Axe{styles;defaultParams;normalizer;constructor(n,i,s){this.styles=n,this.defaultParams=i,this.normalizer=s}buildStyles(n,i){const s=new Map,a=AQ(n,this.defaultParams);return this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((c,d)=>{c&&(c=Pv(c,a,i));const u=this.normalizer.normalizePropertyName(d,i);c=this.normalizer.normalizeStyleValue(d,u,c,i),s.set(d,c)})}),s}}class wxe{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(n,i,s){this.name=n,this.ast=i,this._normalizer=s,i.states.forEach(a=>{this.states.set(a.name,new Axe(a.style,a.options&&a.options.params||{},s))}),xQ(this.states,"true","1"),xQ(this.states,"false","0"),i.transitions.forEach(a=>{this.transitionFactories.push(new bQ(n,a,this.states))}),this.fallbackTransition=function Cxe(r,n){return new bQ(r,{type:Xt.Transition,animation:{type:Xt.Sequence,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,i,s,a){return this.transitionFactories.find(c=>c.match(n,i,s,a))||null}matchStyles(n,i,s){return this.fallbackTransition.buildStyles(n,i,s)}}function xQ(r,n,i){r.has(n)?r.has(i)||r.set(i,r.get(n)):r.has(i)&&r.set(n,r.get(i))}const Exe=new Jw;class Mxe{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(n,i,s){this.bodyNode=n,this._driver=i,this._normalizer=s}register(n,i){const s=[],l=Ok(this._driver,i,s,[]);if(s.length)throw function R0e(){return new ee(3503,!1)}();this._animations.set(n,l)}_buildPlayer(n,i,s){const a=n.element,l=sQ(this._normalizer,n.keyframes,i,s);return this._driver.animate(a,l,n.duration,n.delay,n.easing,[],!0)}create(n,i,s={}){const a=[],l=this._animations.get(n);let c;const d=new Map;if(l?(c=Lk(this._driver,i,l,Tk,Qw,new Map,new Map,s,Exe,a),c.forEach(f=>{const p=ba(d,f.element,new Map);f.postStyleProps.forEach(g=>p.set(g,null))})):(a.push(function k0e(){return new ee(3300,!1)}()),c=[]),a.length)throw function P0e(){return new ee(3504,!1)}();d.forEach((f,p)=>{f.forEach((g,m)=>{f.set(m,this._driver.computeStyle(p,m,rd))})});const h=mu(c.map(f=>{const p=d.get(f.element);return this._buildPlayer(f,new Map,p)}));return this._playersById.set(n,h),h.onDestroy(()=>this.destroy(n)),this.players.push(h),h}destroy(n){const i=this._getPlayer(n);i.destroy(),this._playersById.delete(n);const s=this.players.indexOf(i);s>=0&&this.players.splice(s,1)}_getPlayer(n){const i=this._playersById.get(n);if(!i)throw function F0e(){return new ee(3301,!1)}();return i}listen(n,i,s,a){const l=Ck(i,"","","");return xk(this._getPlayer(n),s,l,a),()=>{}}command(n,i,s,a){if("register"==s)return void this.register(n,a[0]);if("create"==s)return void this.create(n,i,a[0]||{});const l=this._getPlayer(n);switch(s){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(n)}}}const wQ="ng-animate-queued",Vk="ng-animate-disabled",Rxe=[],CQ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kxe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gl="__ng_removed";class Hk{namespaceId;value;options;get params(){return this.options.params}constructor(n,i=""){this.namespaceId=i;const s=n&&n.hasOwnProperty("value");if(this.value=function Nxe(r){return r??null}(s?n.value:n),s){const{value:l,...c}=n;this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const i=n.params;if(i){const s=this.options.params;Object.keys(i).forEach(a=>{null==s[a]&&(s[a]=i[a])})}}}const Fv="void",Gk=new Hk(Fv);class Pxe{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(n,i,s){this.id=n,this.hostElement=i,this._engine=s,this._hostClassName="ng-tns-"+n,Ga(i,this._hostClassName)}listen(n,i,s,a){if(!this._triggers.has(i))throw function O0e(){return new ee(3302,!1)}();if(null==s||0==s.length)throw function N0e(){return new ee(3303,!1)}();if(!function Bxe(r){return"start"==r||"done"==r}(s))throw function B0e(){return new ee(3400,!1)}();const l=ba(this._elementListeners,n,[]),c={name:i,phase:s,callback:a};l.push(c);const d=ba(this._engine.statesByElement,n,new Map);return d.has(i)||(Ga(n,jw),Ga(n,jw+"-"+i),d.set(i,Gk)),()=>{this._engine.afterFlush(()=>{const u=l.indexOf(c);u>=0&&l.splice(u,1),this._triggers.has(i)||d.delete(i)})}}register(n,i){return!this._triggers.has(n)&&(this._triggers.set(n,i),!0)}_getTrigger(n){const i=this._triggers.get(n);if(!i)throw function L0e(){return new ee(3401,!1)}();return i}trigger(n,i,s,a=!0){const l=this._getTrigger(i),c=new $k(this.id,i,n);let d=this._engine.statesByElement.get(n);d||(Ga(n,jw),Ga(n,jw+"-"+i),this._engine.statesByElement.set(n,d=new Map));let u=d.get(i);const h=new Hk(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&u&&h.absorbOptions(u.options),d.set(i,h),u||(u=Gk),h.value!==Fv&&u.value===h.value){if(!function zxe(r,n){const i=Object.keys(r),s=Object.keys(n);if(i.length!=s.length)return!1;for(let a=0;a<i.length;a++){const l=i[a];if(!n.hasOwnProperty(l)||r[l]!==n[l])return!1}return!0}(u.params,h.params)){const v=[],y=l.matchStyles(u.value,u.params,v),b=l.matchStyles(h.value,h.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{zh(n,y),nc(n,b)})}return}const g=ba(this._engine.playersByElement,n,[]);g.forEach(v=>{v.namespaceId==this.id&&v.triggerName==i&&v.queued&&v.destroy()});let m=l.matchTransition(u.value,h.value,n,h.params),_=!1;if(!m){if(!a)return;m=l.fallbackTransition,_=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:i,transition:m,fromState:u,toState:h,player:c,isFallbackTransition:_}),_||(Ga(n,wQ),c.onStart(()=>{Om(n,wQ)})),c.onDone(()=>{let v=this.players.indexOf(c);v>=0&&this.players.splice(v,1);const y=this._engine.playersByElement.get(n);if(y){let b=y.indexOf(c);b>=0&&y.splice(b,1)}}),this.players.push(c),g.push(c),c}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(i=>i.delete(n)),this._elementListeners.forEach((i,s)=>{this._elementListeners.set(s,i.filter(a=>a.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const i=this._engine.playersByElement.get(n);i&&(i.forEach(s=>s.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,i){const s=this._engine.driver.query(n,Ww,!0);s.forEach(a=>{if(a[gl])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(c=>c.triggerLeaveAnimation(a,i,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(n,i,s,a){const l=this._engine.statesByElement.get(n),c=new Map;if(l){const d=[];if(l.forEach((u,h)=>{if(c.set(h,u.value),this._triggers.has(h)){const f=this.trigger(n,h,Fv,a);f&&d.push(f)}}),d.length)return this._engine.markElementAsRemoved(this.id,n,!0,i,c),s&&mu(d).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const i=this._elementListeners.get(n),s=this._engine.statesByElement.get(n);if(i&&s){const a=new Set;i.forEach(l=>{const c=l.name;if(a.has(c))return;a.add(c);const u=this._triggers.get(c).fallbackTransition,h=s.get(c)||Gk,f=new Hk(Fv),p=new $k(this.id,c,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:c,transition:u,fromState:h,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(n,i){const s=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,i),this.triggerLeaveAnimation(n,i,!0))return;let a=!1;if(s.totalAnimations){const l=s.players.length?s.playersByQueriedElement.get(n):[];if(l&&l.length)a=!0;else{let c=n;for(;c=c.parentNode;)if(s.statesByElement.get(c)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(n),a)s.markElementAsRemoved(this.id,n,!1,i);else{const l=n[gl];(!l||l===CQ)&&(s.afterFlush(()=>this.clearElementCache(n)),s.destroyInnerAnimations(n),s._onRemovalComplete(n,i))}}insertNode(n,i){Ga(n,this._hostClassName)}drainQueuedTransitions(n){const i=[];return this._queue.forEach(s=>{const a=s.player;if(a.destroyed)return;const l=s.element,c=this._elementListeners.get(l);c&&c.forEach(d=>{if(d.name==s.triggerName){const u=Ck(l,s.triggerName,s.fromState.value,s.toState.value);u._data=n,xk(s.player,d.phase,u,d.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):i.push(s)}),this._queue=[],i.sort((s,a)=>{const l=s.transition.ast.depCount,c=a.transition.ast.depCount;return 0==l||0==c?l-c:this._engine.driver.containsElement(s.element,a.element)?1:-1})}destroy(n){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class Fxe{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(n,i)=>{};_onRemovalComplete(n,i){this.onRemovalComplete(n,i)}constructor(n,i,s){this.bodyNode=n,this.driver=i,this._normalizer=s}get queuedPlayers(){const n=[];return this._namespaceList.forEach(i=>{i.players.forEach(s=>{s.queued&&n.push(s)})}),n}createNamespace(n,i){const s=new Pxe(n,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(s,i):(this.newHostElements.set(i,s),this.collectEnterElement(i)),this._namespaceLookup[n]=s}_balanceNamespaceList(n,i){const s=this._namespaceList,a=this.namespacesByHostElement;if(s.length-1>=0){let c=!1,d=this.driver.getParentElement(i);for(;d;){const u=a.get(d);if(u){const h=s.indexOf(u);s.splice(h+1,0,n),c=!0;break}d=this.driver.getParentElement(d)}c||s.unshift(n)}else s.push(n);return a.set(i,n),n}register(n,i){let s=this._namespaceLookup[n];return s||(s=this.createNamespace(n,i)),s}registerTrigger(n,i,s){let a=this._namespaceLookup[n];a&&a.register(i,s)&&this.totalAnimations++}destroy(n,i){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const s=this._fetchNamespace(n);this.namespacesByHostElement.delete(s.hostElement);const a=this._namespaceList.indexOf(s);a>=0&&this._namespaceList.splice(a,1),s.destroy(i),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const i=new Set,s=this.statesByElement.get(n);if(s)for(let a of s.values())if(a.namespaceId){const l=this._fetchNamespace(a.namespaceId);l&&i.add(l)}return i}trigger(n,i,s,a){if(nC(i)){const l=this._fetchNamespace(n);if(l)return l.trigger(i,s,a),!0}return!1}insertNode(n,i,s,a){if(!nC(i))return;const l=i[gl];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const c=this.collectedLeaveElements.indexOf(i);c>=0&&this.collectedLeaveElements.splice(c,1)}if(n){const c=this._fetchNamespace(n);c&&c.insertNode(i,s)}a&&this.collectEnterElement(i)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,i){i?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Ga(n,Vk)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),Om(n,Vk))}removeNode(n,i,s){if(nC(i)){const a=n?this._fetchNamespace(n):null;a?a.removeNode(i,s):this.markElementAsRemoved(n,i,!1,s);const l=this.namespacesByHostElement.get(i);l&&l.id!==n&&l.removeNode(i,s)}else this._onRemovalComplete(i,s)}markElementAsRemoved(n,i,s,a,l){this.collectedLeaveElements.push(i),i[gl]={namespaceId:n,setForRemoval:a,hasAnimation:s,removedBeforeQueried:!1,previousTriggersValues:l}}listen(n,i,s,a,l){return nC(i)?this._fetchNamespace(n).listen(i,s,a,l):()=>{}}_buildInstruction(n,i,s,a,l){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,s,a,n.fromState.options,n.toState.options,i,l)}destroyInnerAnimations(n){let i=this.driver.query(n,Ww,!0);i.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(n,Dk,!0),i.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(n){const i=this.playersByElement.get(n);i&&i.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(n){const i=this.playersByQueriedElement.get(n);i&&i.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return mu(this.players).onDone(()=>n());n()})}processLeaveNode(n){const i=n[gl];if(i&&i.setForRemoval){if(n[gl]=CQ,i.namespaceId){this.destroyInnerAnimations(n);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(n)}this._onRemovalComplete(n,i.setForRemoval)}n.classList?.contains(Vk)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(n=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,a)=>this._balanceNamespaceList(s,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ga(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{i=this._flushAnimations(s,n)}finally{for(let a=0;a<s.length;a++)s[a]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],i.length?mu(i).onDone(()=>{s.forEach(a=>a())}):s.forEach(a=>a())}}reportError(n){throw function U0e(){return new ee(3402,!1)}()}_flushAnimations(n,i){const s=new Jw,a=[],l=new Map,c=[],d=new Map,u=new Map,h=new Map,f=new Set;this.disabledNodes.forEach(R=>{f.add(R);const V=this.driver.query(R,".ng-animate-queued",!0);for(let U=0;U<V.length;U++)f.add(V[U])});const p=this.bodyNode,g=Array.from(this.statesByElement.keys()),m=SQ(g,this.collectedEnterElements),_=new Map;let v=0;m.forEach((R,V)=>{const U=Tk+v++;_.set(V,U),R.forEach(X=>Ga(X,U))});const y=[],b=new Set,A=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){const V=this.collectedLeaveElements[R],U=V[gl];U&&U.setForRemoval&&(y.push(V),b.add(V),U.hasAnimation?this.driver.query(V,".ng-star-inserted",!0).forEach(X=>b.add(X)):A.add(V))}const x=new Map,w=SQ(g,Array.from(b));w.forEach((R,V)=>{const U=Qw+v++;x.set(V,U),R.forEach(X=>Ga(X,U))}),n.push(()=>{m.forEach((R,V)=>{const U=_.get(V);R.forEach(X=>Om(X,U))}),w.forEach((R,V)=>{const U=x.get(V);R.forEach(X=>Om(X,U))}),y.forEach(R=>{this.processLeaveNode(R)})});const E=[],M=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(i).forEach(U=>{const X=U.player,ae=U.element;if(E.push(X),this.collectedEnterElements.length){const Ee=ae[gl];if(Ee&&Ee.setForMove){if(Ee.previousTriggersValues&&Ee.previousTriggersValues.has(U.triggerName)){const tt=Ee.previousTriggersValues.get(U.triggerName),et=this.statesByElement.get(U.element);if(et&&et.has(U.triggerName)){const mt=et.get(U.triggerName);mt.value=tt,et.set(U.triggerName,mt)}}return void X.destroy()}}const fe=!p||!this.driver.containsElement(p,ae),Pe=x.get(ae),Ve=_.get(ae),ie=this._buildInstruction(U,s,Ve,Pe,fe);if(ie.errors&&ie.errors.length)return void M.push(ie);if(fe)return X.onStart(()=>zh(ae,ie.fromStyles)),X.onDestroy(()=>nc(ae,ie.toStyles)),void a.push(X);if(U.isFallbackTransition)return X.onStart(()=>zh(ae,ie.fromStyles)),X.onDestroy(()=>nc(ae,ie.toStyles)),void a.push(X);const pe=[];ie.timelines.forEach(Ee=>{Ee.stretchStartingKeyframe=!0,this.disabledNodes.has(Ee.element)||pe.push(Ee)}),ie.timelines=pe,s.append(ae,ie.timelines),c.push({instruction:ie,player:X,element:ae}),ie.queriedElements.forEach(Ee=>ba(d,Ee,[]).push(X)),ie.preStyleProps.forEach((Ee,tt)=>{if(Ee.size){let et=u.get(tt);et||u.set(tt,et=new Set),Ee.forEach((mt,Tt)=>et.add(Tt))}}),ie.postStyleProps.forEach((Ee,tt)=>{let et=h.get(tt);et||h.set(tt,et=new Set),Ee.forEach((mt,Tt)=>et.add(Tt))})});if(M.length){const R=[];M.forEach(V=>{R.push(function z0e(){return new ee(3505,!1)}())}),E.forEach(V=>V.destroy()),this.reportError(R)}const S=new Map,T=new Map;c.forEach(R=>{const V=R.element;s.has(V)&&(T.set(V,V),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,S))}),a.forEach(R=>{const V=R.element;this._getPreviousPlayers(V,!1,R.namespaceId,R.triggerName,null).forEach(X=>{ba(S,V,[]).push(X),X.destroy()})});const P=y.filter(R=>TQ(R,u,h)),C=new Map;MQ(C,this.driver,A,h,rd).forEach(R=>{TQ(R,u,h)&&P.push(R)});const k=new Map;m.forEach((R,V)=>{MQ(k,this.driver,new Set(R),u,"!")}),P.forEach(R=>{const V=C.get(R),U=k.get(R);C.set(R,new Map([...V?.entries()??[],...U?.entries()??[]]))});const O=[],z=[],q={};c.forEach(R=>{const{element:V,player:U,instruction:X}=R;if(s.has(V)){if(f.has(V))return U.onDestroy(()=>nc(V,X.toStyles)),U.disabled=!0,U.overrideTotalTime(X.totalTime),void a.push(U);let ae=q;if(T.size>1){let Pe=V;const Ve=[];for(;Pe=Pe.parentNode;){const ie=T.get(Pe);if(ie){ae=ie;break}Ve.push(Pe)}Ve.forEach(ie=>T.set(ie,ae))}const fe=this._buildAnimation(U.namespaceId,X,S,l,k,C);if(U.setRealPlayer(fe),ae===q)O.push(U);else{const Pe=this.playersByElement.get(ae);Pe&&Pe.length&&(U.parentPlayer=mu(Pe)),a.push(U)}}else zh(V,X.fromStyles),U.onDestroy(()=>nc(V,X.toStyles)),z.push(U),f.has(V)&&a.push(U)}),z.forEach(R=>{const V=l.get(R.element);if(V&&V.length){const U=mu(V);R.setRealPlayer(U)}}),a.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<y.length;R++){const V=y[R],U=V[gl];if(Om(V,Qw),U&&U.hasAnimation)continue;let X=[];if(d.size){let fe=d.get(V);fe&&fe.length&&X.push(...fe);let Pe=this.driver.query(V,Dk,!0);for(let Ve=0;Ve<Pe.length;Ve++){let ie=d.get(Pe[Ve]);ie&&ie.length&&X.push(...ie)}}const ae=X.filter(fe=>!fe.destroyed);ae.length?Lxe(this,V,ae):this.processLeaveNode(V)}return y.length=0,O.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();const V=this.players.indexOf(R);this.players.splice(V,1)}),R.play()}),O}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,i,s,a,l){let c=[];if(i){const d=this.playersByQueriedElement.get(n);d&&(c=d)}else{const d=this.playersByElement.get(n);if(d){const u=!l||l==Fv;d.forEach(h=>{h.queued||!u&&h.triggerName!=a||c.push(h)})}}return(s||a)&&(c=c.filter(d=>!(s&&s!=d.namespaceId||a&&a!=d.triggerName))),c}_beforeAnimationBuild(n,i,s){const l=i.element,c=i.isRemovalTransition?void 0:n,d=i.isRemovalTransition?void 0:i.triggerName;for(const u of i.timelines){const h=u.element,f=h!==l,p=ba(s,h,[]);this._getPreviousPlayers(h,f,c,d,i.toState).forEach(m=>{const _=m.getRealPlayer();_.beforeDestroy&&_.beforeDestroy(),m.destroy(),p.push(m)})}zh(l,i.fromStyles)}_buildAnimation(n,i,s,a,l,c){const d=i.triggerName,u=i.element,h=[],f=new Set,p=new Set,g=i.timelines.map(_=>{const v=_.element;f.add(v);const y=v[gl];if(y&&y.removedBeforeQueried)return new Rv(_.duration,_.delay);const b=v!==u,A=function Uxe(r){const n=[];return IQ(r,n),n}((s.get(v)||Rxe).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===v),x=l.get(v),w=c.get(v),E=sQ(this._normalizer,_.keyframes,x,w),M=this._buildPlayer(_,E,A);if(_.subTimeline&&a&&p.add(v),b){const S=new $k(n,d,v);S.setRealPlayer(M),h.push(S)}return M});h.forEach(_=>{ba(this.playersByQueriedElement,_.element,[]).push(_),_.onDone(()=>function Oxe(r,n,i){let s=r.get(n);if(s){if(s.length){const a=s.indexOf(i);s.splice(a,1)}0==s.length&&r.delete(n)}return s}(this.playersByQueriedElement,_.element,_))}),f.forEach(_=>Ga(_,uQ));const m=mu(g);return m.onDestroy(()=>{f.forEach(_=>Om(_,uQ)),nc(u,i.toStyles)}),p.forEach(_=>{ba(a,_,[]).push(m)}),m}_buildPlayer(n,i,s){return i.length>0?this.driver.animate(n.element,i,n.duration,n.delay,n.easing,s):new Rv(n.duration,n.delay)}}class $k{namespaceId;triggerName;element;_player=new Rv;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(n,i,s){this.namespaceId=n,this.triggerName=i,this.element=s}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((i,s)=>{i.forEach(a=>xk(n,s,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const i=this._player;i.triggerCallback&&n.onStart(()=>i.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,i){ba(this._queuedCallbacks,n,[]).push(i)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const i=this._player;i.triggerCallback&&i.triggerCallback(n)}}function nC(r){return r&&1===r.nodeType}function EQ(r,n){const i=r.style.display;return r.style.display=n??"none",i}function MQ(r,n,i,s,a){const l=[];i.forEach(u=>l.push(EQ(u)));const c=[];s.forEach((u,h)=>{const f=new Map;u.forEach(p=>{const g=n.computeStyle(h,p,a);f.set(p,g),(!g||0==g.length)&&(h[gl]=kxe,c.push(h))}),r.set(h,f)});let d=0;return i.forEach(u=>EQ(u,l[d++])),c}function SQ(r,n){const i=new Map;if(r.forEach(d=>i.set(d,[])),0==n.length)return i;const a=new Set(n),l=new Map;function c(d){if(!d)return 1;let u=l.get(d);if(u)return u;const h=d.parentNode;return u=i.has(h)?h:a.has(h)?1:c(h),l.set(d,u),u}return n.forEach(d=>{const u=c(d);1!==u&&i.get(u).push(d)}),i}function Ga(r,n){r.classList?.add(n)}function Om(r,n){r.classList?.remove(n)}function Lxe(r,n,i){mu(i).onDone(()=>r.processLeaveNode(n))}function IQ(r,n){for(let i=0;i<r.length;i++){const s=r[i];s instanceof iQ?IQ(s.players,n):n.push(s)}}function TQ(r,n,i){const s=i.get(r);if(!s)return!1;let a=n.get(r);return a?s.forEach(l=>a.add(l)):n.set(r,s),i.delete(r),!0}class Ov{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(n,i)=>{};constructor(n,i,s){this._driver=i,this._normalizer=s,this._transitionEngine=new Fxe(n.body,i,s),this._timelineEngine=new Mxe(n.body,i,s),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(n,i,s,a,l){const c=n+"-"+a;let d=this._triggerCache[c];if(!d){const u=[],f=Ok(this._driver,l,u,[]);if(u.length)throw function T0e(){return new ee(3404,!1)}();d=function xxe(r,n,i){return new wxe(r,n,i)}(a,f,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(i,a,d)}register(n,i){this._transitionEngine.register(n,i)}destroy(n,i){this._transitionEngine.destroy(n,i)}onInsert(n,i,s,a){this._transitionEngine.insertNode(n,i,s,a)}onRemove(n,i,s){this._transitionEngine.removeNode(n,i,s)}disableAnimations(n,i){this._transitionEngine.markElementAsDisabled(n,i)}process(n,i,s,a){if("@"==s.charAt(0)){const[l,c]=oQ(s);this._timelineEngine.command(l,i,c,a)}else this._transitionEngine.trigger(n,i,s,a)}listen(n,i,s,a,l){if("@"==s.charAt(0)){const[c,d]=oQ(s);return this._timelineEngine.listen(c,i,d,l)}return this._transitionEngine.listen(n,i,s,a,l)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let Hxe=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(i,s,a){this._element=i,this._startStyles=s,this._endStyles=a;let l=r.initialStylesByElement.get(i);l||r.initialStylesByElement.set(i,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&nc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nc(this._element,this._initialStyles),this._endStyles&&(nc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(zh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zh(this._element,this._endStyles),this._endStyles=null),nc(this._element,this._initialStyles),this._state=3)}}return r})();function Qk(r){let n=null;return r.forEach((i,s)=>{(function Gxe(r){return"display"===r||"position"===r})(s)&&(n=n||new Map,n.set(s,i))}),n}class DQ{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(n,i,s,a){this.element=n,this.keyframes=i,this.options=s,this._specialStyles=a,this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map;const i=()=>this._onFinish();this.domPlayer.addEventListener("finish",i),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",i)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const i=[];return n.forEach(s=>{i.push(Object.fromEntries(s))}),i}_triggerWebAnimation(n,i,s){return n.animate(this._convertKeyframesToObject(i),s)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((s,a)=>{"offset"!==a&&n.set(a,this._finished?s:Fk(this.element,a))}),this.currentSnapshot=n}triggerCallback(n){const i="start"===n?this._onStartFns:this._onDoneFns;i.forEach(s=>s()),i.length=0}}class RQ{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}containsElement(n,i){return lQ(n,i)}getParentElement(n){return Ek(n)}query(n,i,s){return cQ(n,i,s)}computeStyle(n,i,s){return Fk(n,i)}animate(n,i,s,a,l,c=[]){const u={duration:s,delay:a,fill:0==a?"both":"forwards"};l&&(u.easing=l);const h=new Map,f=c.filter(m=>m instanceof DQ);(function J0e(r,n){return 0===r||0===n})(s,a)&&f.forEach(m=>{m.currentSnapshot.forEach((_,v)=>h.set(v,_))});let p=function X0e(r){return r.length?r[0]instanceof Map?r:r.map(n=>new Map(Object.entries(n))):[]}(i).map(m=>new Map(m));p=function exe(r,n,i){if(i.size&&n.length){let s=n[0],a=[];if(i.forEach((l,c)=>{s.has(c)||a.push(c),s.set(c,l)}),a.length)for(let l=1;l<n.length;l++){let c=n[l];a.forEach(d=>c.set(d,Fk(r,d)))}}return n}(n,p,h);const g=function Vxe(r,n){let i=null,s=null;return Array.isArray(n)&&n.length?(i=Qk(n[0]),n.length>1&&(s=Qk(n[n.length-1]))):n instanceof Map&&(i=Qk(n)),i||s?new Hxe(r,i,s):null}(n,p);return new DQ(n,p,u,g)}}const kQ="@.disabled";class PQ{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(n,i,s,a){this.namespaceId=n,this.delegate=i,this.engine=s,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,i){return this.delegate.createElement(n,i)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,i){this.delegate.appendChild(n,i),this.engine.onInsert(this.namespaceId,i,n,!1)}insertBefore(n,i,s,a=!0){this.delegate.insertBefore(n,i,s),this.engine.onInsert(this.namespaceId,i,n,a)}removeChild(n,i,s){this.parentNode(i)&&this.engine.onRemove(this.namespaceId,i,this.delegate)}selectRootElement(n,i){return this.delegate.selectRootElement(n,i)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,i,s,a){this.delegate.setAttribute(n,i,s,a)}removeAttribute(n,i,s){this.delegate.removeAttribute(n,i,s)}addClass(n,i){this.delegate.addClass(n,i)}removeClass(n,i){this.delegate.removeClass(n,i)}setStyle(n,i,s,a){this.delegate.setStyle(n,i,s,a)}removeStyle(n,i,s){this.delegate.removeStyle(n,i,s)}setProperty(n,i,s){"@"==i.charAt(0)&&i==kQ?this.disableAnimations(n,!!s):this.delegate.setProperty(n,i,s)}setValue(n,i){this.delegate.setValue(n,i)}listen(n,i,s,a){return this.delegate.listen(n,i,s,a)}disableAnimations(n,i){this.engine.disableAnimations(n,i)}}class $xe extends PQ{factory;constructor(n,i,s,a,l){super(i,s,a,l),this.factory=n,this.namespaceId=i}setProperty(n,i,s){"@"==i.charAt(0)?"."==i.charAt(1)&&i==kQ?this.disableAnimations(n,s=void 0===s||!!s):this.engine.process(this.namespaceId,n,i.slice(1),s):this.delegate.setProperty(n,i,s)}listen(n,i,s,a){if("@"==i.charAt(0)){const l=function Qxe(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(n);let c=i.slice(1),d="";return"@"!=c.charAt(0)&&([c,d]=function jxe(r){const n=r.indexOf(".");return[r.substring(0,n),r.slice(n+1)]}(c)),this.engine.listen(this.namespaceId,l,c,d,u=>{this.factory.scheduleListenerCallback(u._data||-1,s,u)})}return this.delegate.listen(n,i,s,a)}}class Wxe{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(n,i,s){this.delegate=n,this.engine=i,this._zone=s,i.onRemovalComplete=(a,l)=>{l?.removeChild(null,a)}}createRenderer(n,i){const a=this.delegate.createRenderer(n,i);if(!n||!i?.data?.animation){const h=this._rendererCache;let f=h.get(a);return f||(f=new PQ("",a,this.engine,()=>h.delete(a)),h.set(a,f)),f}const l=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,n);const d=h=>{Array.isArray(h)?h.forEach(d):this.engine.registerTrigger(l,c,n,h.name,h)};return i.data.animation.forEach(d),new $xe(this,c,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(n,i,s){if(n>=0&&n<this._microtaskId)return void this._zone.run(()=>i(s));const a=this._animationCallbacksBuffer;0==a.length&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(l=>{const[c,d]=l;c(d)}),this._animationCallbacksBuffer=[]})}),a.push([i,s])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(n){this.engine.flush(),this.delegate.componentReplaced?.(n)}}let qxe=(()=>{class r extends Ov{constructor(i,s,a){super(i,s,a)}ngOnDestroy(){this.flush()}static \u0275fac=function(s){return new(s||r)($e(rn),$e(Sk),$e(Ik))};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();const FQ=[{provide:Ik,useFactory:function Yxe(){return new pQ}},{provide:Ov,useClass:qxe},{provide:dl,useFactory:function Xxe(r,n,i){return new Wxe(r,n,i)},deps:[rk,Ov,_t]}],OQ=[{provide:Sk,useClass:Mk},{provide:xo,useValue:"NoopAnimations"},...FQ],jk=[{provide:Sk,useFactory:()=>new RQ},{provide:xo,useFactory:()=>"BrowserAnimations"},...FQ];let Kxe=(()=>{class r{static withConfig(i){return{ngModule:r,providers:i.disableAnimations?OQ:jk}}static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:jk,imports:[li]})}return r})();function Hh(r){return!!r&&(r instanceof pi||Et(r.lift)&&Et(r.subscribe))}const{isArray:Zxe}=Array,{getPrototypeOf:Jxe,prototype:ewe,keys:twe}=Object;function NQ(r){if(1===r.length){const n=r[0];if(Zxe(n))return{args:n,keys:null};if(function nwe(r){return r&&"object"==typeof r&&Jxe(r)===ewe}(n)){const i=twe(n);return{args:i.map(s=>n[s]),keys:i}}}return{args:r,keys:null}}const{isArray:iwe}=Array;function rC(r){return je(n=>function rwe(r,n){return iwe(n)?r(...n):r(n)}(r,n))}function BQ(r,n){return r.reduce((i,s,a)=>(i[s]=n[a],i),{})}function _l(...r){const n=km(r),i=_$(r),{args:s,keys:a}=NQ(r);if(0===s.length)return $r([],n);const l=new pi(function swe(r,n,i=Qd){return s=>{LQ(n,()=>{const{length:a}=r,l=new Array(a);let c=a,d=a;for(let u=0;u<a;u++)LQ(n,()=>{const h=$r(r[u],n);let f=!1;h.subscribe(Yi(s,p=>{l[u]=p,f||(f=!0,d--),d||s.next(i(l.slice()))},()=>{--c||s.complete()}))},s)},s)}}(s,n,a?c=>BQ(a,c):Qd));return i?l.pipe(rC(i)):l}function LQ(r,n,i){r?id(i,r,n):n()}const sC=gr(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function Gh(r=1/0){return Ss(Qd,r)}function $h(...r){return function owe(){return Gh(1)}()($r(r,km(r)))}function Nv(r){return new pi(n=>{Ks(r()).subscribe(n)})}function Bv(r,n){const i=Et(r)?r:()=>r,s=a=>a.error(i());return new pi(n?a=>n.schedule(s,0,a):s)}const Is=new pi(r=>r.complete());function Wk(){return qi((r,n)=>{let i=null;r._refCount++;const s=Yi(n,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(i=null);const a=r._connection,l=i;i=null,a&&(!l||a===l)&&a.unsubscribe(),n.unsubscribe()});r.subscribe(s),s.closed||(i=r.connect())})}class qk extends pi{constructor(n,i){super(),this.source=n,this.subjectFactory=i,this._subject=null,this._refCount=0,this._connection=null,q3(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new gn;const i=this.getSubject();n.add(this.source.subscribe(Yi(i,void 0,()=>{this._teardown(),i.complete()},s=>{this._teardown(),i.error(s)},()=>this._teardown()))),n.closed&&(this._connection=null,n=gn.EMPTY)}return n}refCount(){return Wk()(this)}}function dr(r){return r<=0?()=>Is:qi((n,i)=>{let s=0;n.subscribe(Yi(i,a=>{++s<=r&&(i.next(a),r<=s&&i.complete())}))})}function Ts(...r){const n=km(r);return qi((i,s)=>{(n?$h(r,i,n):$h(r,i)).subscribe(s)})}function oC(r){return qi((n,i)=>{let s=!1;n.subscribe(Yi(i,a=>{s=!0,i.next(a)},()=>{s||i.next(r),i.complete()}))})}function UQ(r=lwe){return qi((n,i)=>{let s=!1;n.subscribe(Yi(i,a=>{s=!0,i.next(a)},()=>s?i.complete():i.error(r())))})}function lwe(){return new sC}function gu(r,n){const i=arguments.length>=2;return s=>s.pipe(r?ni((a,l)=>r(a,l,s)):Qd,dr(1),i?oC(n):UQ(()=>new sC))}function Ar(r,n,i){const s=Et(r)||n||i?{next:r,error:n,complete:i}:r;return s?qi((a,l)=>{var c;null===(c=s.subscribe)||void 0===c||c.call(s);let d=!0;a.subscribe(Yi(l,u=>{var h;null===(h=s.next)||void 0===h||h.call(s,u),l.next(u)},()=>{var u;d=!1,null===(u=s.complete)||void 0===u||u.call(s),l.complete()},u=>{var h;d=!1,null===(h=s.error)||void 0===h||h.call(s,u),l.error(u)},()=>{var u,h;d&&(null===(u=s.unsubscribe)||void 0===u||u.call(s)),null===(h=s.finalize)||void 0===h||h.call(s)}))}):Qd}function _u(r){return qi((n,i)=>{let l,s=null,a=!1;s=n.subscribe(Yi(i,void 0,void 0,c=>{l=Ks(r(c,_u(r)(n))),s?(s.unsubscribe(),s=null,l.subscribe(i)):a=!0})),a&&(s.unsubscribe(),s=null,l.subscribe(i))})}function zQ(r,n,i,s,a){return(l,c)=>{let d=i,u=n,h=0;l.subscribe(Yi(c,f=>{const p=h++;u=d?r(u,f,p):(d=!0,f),s&&c.next(u)},a&&(()=>{d&&c.next(u),c.complete()})))}}function Yk(r){return r<=0?()=>Is:qi((n,i)=>{let s=[];n.subscribe(Yi(i,a=>{s.push(a),r<s.length&&s.shift()},()=>{for(const a of s)i.next(a);i.complete()},void 0,()=>{s=null}))})}function Nn(r){return qi((n,i)=>{Ks(r).subscribe(Yi(i,()=>i.complete(),rh)),!i.closed&&n.subscribe(i)})}const Cn="primary",Lv=Symbol("RouteTitle");class uwe{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i[0]:i}return null}getAll(n){if(this.has(n)){const i=this.params[n];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Nm(r){return new uwe(r)}function hwe(r,n,i){const s=i.path.split("/");if(s.length>r.length||"full"===i.pathMatch&&(n.hasChildren()||s.length<r.length))return null;const a={};for(let l=0;l<s.length;l++){const c=s[l],d=r[l];if(":"===c[0])a[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:r.slice(0,s.length),posParams:a}}function ic(r,n){const i=r?Xk(r):void 0,s=n?Xk(n):void 0;if(!i||!s||i.length!=s.length)return!1;let a;for(let l=0;l<i.length;l++)if(a=i[l],!VQ(r[a],n[a]))return!1;return!0}function Xk(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function VQ(r,n){if(Array.isArray(r)&&Array.isArray(n)){if(r.length!==n.length)return!1;const i=[...r].sort(),s=[...n].sort();return i.every((a,l)=>s[l]===a)}return r===n}function HQ(r){return r.length>0?r[r.length-1]:null}function yu(r){return Hh(r)?r:Zy(r)?$r(Promise.resolve(r)):Oe(r)}const pwe={exact:function QQ(r,n,i){if(!jh(r.segments,n.segments)||!aC(r.segments,n.segments,i)||r.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!r.children[s]||!QQ(r.children[s],n.children[s],i))return!1;return!0},subset:jQ},GQ={exact:function mwe(r,n){return ic(r,n)},subset:function gwe(r,n){return Object.keys(n).length<=Object.keys(r).length&&Object.keys(n).every(i=>VQ(r[i],n[i]))},ignored:()=>!0};function $Q(r,n,i){return pwe[i.paths](r.root,n.root,i.matrixParams)&&GQ[i.queryParams](r.queryParams,n.queryParams)&&!("exact"===i.fragment&&r.fragment!==n.fragment)}function jQ(r,n,i){return WQ(r,n,n.segments,i)}function WQ(r,n,i,s){if(r.segments.length>i.length){const a=r.segments.slice(0,i.length);return!(!jh(a,i)||n.hasChildren()||!aC(a,i,s))}if(r.segments.length===i.length){if(!jh(r.segments,i)||!aC(r.segments,i,s))return!1;for(const a in n.children)if(!r.children[a]||!jQ(r.children[a],n.children[a],s))return!1;return!0}{const a=i.slice(0,r.segments.length),l=i.slice(r.segments.length);return!!(jh(r.segments,a)&&aC(r.segments,a,s)&&r.children[Cn])&&WQ(r.children[Cn],n,l,s)}}function aC(r,n,i){return n.every((s,a)=>GQ[i](r[a].parameters,s.parameters))}class Qh{root;queryParams;fragment;_queryParamMap;constructor(n=new Ri([],{}),i={},s=null){this.root=n,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap??=Nm(this.queryParams),this._queryParamMap}toString(){return vwe.serialize(this)}}class Ri{segments;children;parent=null;constructor(n,i){this.segments=n,this.children=i,Object.values(i).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cC(this)}}class Uv{path;parameters;_parameterMap;constructor(n,i){this.path=n,this.parameters=i}get parameterMap(){return this._parameterMap??=Nm(this.parameters),this._parameterMap}toString(){return XQ(this)}}function jh(r,n){return r.length===n.length&&r.every((i,s)=>i.path===n[s].path)}let Bm=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>new lC,providedIn:"root"})}return r})();class lC{parse(n){const i=new Dwe(n);return new Qh(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(n){const i=`/${zv(n.root,!0)}`,s=function xwe(r){const n=Object.entries(r).map(([i,s])=>Array.isArray(s)?s.map(a=>`${dC(i)}=${dC(a)}`).join("&"):`${dC(i)}=${dC(s)}`).filter(i=>i);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${i}${s}${"string"==typeof n.fragment?`#${function bwe(r){return encodeURI(r)}(n.fragment)}`:""}`}}const vwe=new lC;function cC(r){return r.segments.map(n=>XQ(n)).join("/")}function zv(r,n){if(!r.hasChildren())return cC(r);if(n){const i=r.children[Cn]?zv(r.children[Cn],!1):"",s=[];return Object.entries(r.children).forEach(([a,l])=>{a!==Cn&&s.push(`${a}:${zv(l,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}{const i=function ywe(r,n){let i=[];return Object.entries(r.children).forEach(([s,a])=>{s===Cn&&(i=i.concat(n(a,s)))}),Object.entries(r.children).forEach(([s,a])=>{s!==Cn&&(i=i.concat(n(a,s)))}),i}(r,(s,a)=>a===Cn?[zv(r.children[Cn],!1)]:[`${a}:${zv(s,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Cn]?`${cC(r)}/${i[0]}`:`${cC(r)}/(${i.join("//")})`}}function qQ(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dC(r){return qQ(r).replace(/%3B/gi,";")}function Kk(r){return qQ(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uC(r){return decodeURIComponent(r)}function YQ(r){return uC(r.replace(/\+/g,"%20"))}function XQ(r){return`${Kk(r.path)}${function Awe(r){return Object.entries(r).map(([n,i])=>`;${Kk(n)}=${Kk(i)}`).join("")}(r.parameters)}`}const wwe=/^[^\/()?;#]+/;function Zk(r){const n=r.match(wwe);return n?n[0]:""}const Cwe=/^[^\/()?;=#]+/,Mwe=/^[^=?&#]+/,Iwe=/^[^&#]+/;class Dwe{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ri([],{}):new Ri([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(i).length>0)&&(s[Cn]=new Ri(n,i)),s}parseSegment(){const n=Zk(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new ee(4009,!1);return this.capture(n),new Uv(uC(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const i=function Ewe(r){const n=r.match(Cwe);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const a=Zk(this.remaining);a&&(s=a,this.capture(s))}n[uC(i)]=uC(s)}parseQueryParam(n){const i=function Swe(r){const n=r.match(Mwe);return n?n[0]:""}(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){const c=function Twe(r){const n=r.match(Iwe);return n?n[0]:""}(this.remaining);c&&(s=c,this.capture(s))}const a=YQ(i),l=YQ(s);if(n.hasOwnProperty(a)){let c=n[a];Array.isArray(c)||(c=[c],n[a]=c),c.push(l)}else n[a]=l}parseParens(n){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Zk(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new ee(4010,!1);let l;s.indexOf(":")>-1?(l=s.slice(0,s.indexOf(":")),this.capture(l),this.capture(":")):n&&(l=Cn);const c=this.parseChildren();i[l]=1===Object.keys(c).length?c[Cn]:new Ri([],c),this.consumeOptional("//")}return i}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new ee(4011,!1)}}function KQ(r){return r.segments.length>0?new Ri([],{[Cn]:r}):r}function ZQ(r){const n={};for(const[s,a]of Object.entries(r.children)){const l=ZQ(a);if(s===Cn&&0===l.segments.length&&l.hasChildren())for(const[c,d]of Object.entries(l.children))n[c]=d;else(l.segments.length>0||l.hasChildren())&&(n[s]=l)}return function Rwe(r){if(1===r.numberOfChildren&&r.children[Cn]){const n=r.children[Cn];return new Ri(r.segments.concat(n.segments),n.children)}return r}(new Ri(r.segments,n))}function Wh(r){return r instanceof Qh}function JQ(r){let n;const s=function i(l){const c={};for(const u of l.children){const h=i(u);c[u.outlet]=h}const d=new Ri(l.url,c);return l===r&&(n=d),d}(r.root),a=KQ(s);return n??a}function ej(r,n,i,s){let a=r;for(;a.parent;)a=a.parent;if(0===n.length)return Jk(a,a,a,i,s);const l=function Pwe(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new nj(!0,0,r);let n=0,i=!1;const s=r.reduce((a,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const d={};return Object.entries(l.outlets).forEach(([u,h])=>{d[u]="string"==typeof h?h.split("/"):h}),[...a,{outlets:d}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===c?(l.split("/").forEach((d,u)=>{0==u&&"."===d||(0==u&&""===d?i=!0:".."===d?n++:""!=d&&a.push(d))}),a):[...a,l]},[]);return new nj(i,n,s)}(n);if(l.toRoot())return Jk(a,a,new Ri([],{}),i,s);const c=function Fwe(r,n,i){if(r.isAbsolute)return new fC(n,!0,0);if(!i)return new fC(n,!1,NaN);if(null===i.parent)return new fC(i,!0,0);const s=hC(r.commands[0])?0:1;return function Owe(r,n,i){let s=r,a=n,l=i;for(;l>a;){if(l-=a,s=s.parent,!s)throw new ee(4005,!1);a=s.segments.length}return new fC(s,!1,a-l)}(i,i.segments.length-1+s,r.numberOfDoubleDots)}(l,a,r),d=c.processChildren?Hv(c.segmentGroup,c.index,l.commands):ij(c.segmentGroup,c.index,l.commands);return Jk(a,c.segmentGroup,d,i,s)}function hC(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Vv(r){return"object"==typeof r&&null!=r&&r.outlets}function Jk(r,n,i,s,a){let c,l={};s&&Object.entries(s).forEach(([u,h])=>{l[u]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`}),c=r===n?i:tj(r,n,i);const d=KQ(ZQ(c));return new Qh(d,l,a)}function tj(r,n,i){const s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=l===n?i:tj(l,n,i)}),new Ri(r.segments,s)}class nj{isAbsolute;numberOfDoubleDots;commands;constructor(n,i,s){if(this.isAbsolute=n,this.numberOfDoubleDots=i,this.commands=s,n&&s.length>0&&hC(s[0]))throw new ee(4003,!1);const a=s.find(Vv);if(a&&a!==HQ(s))throw new ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fC{segmentGroup;processChildren;index;constructor(n,i,s){this.segmentGroup=n,this.processChildren=i,this.index=s}}function ij(r,n,i){if(r??=new Ri([],{}),0===r.segments.length&&r.hasChildren())return Hv(r,n,i);const s=function Bwe(r,n,i){let s=0,a=n;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<r.segments.length;){if(s>=i.length)return l;const c=r.segments[a],d=i[s];if(Vv(d))break;const u=`${d}`,h=s<i.length-1?i[s+1]:null;if(a>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!sj(u,h,c))return l;s+=2}else{if(!sj(u,{},c))return l;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(r,n,i),a=i.slice(s.commandIndex);if(s.match&&s.pathIndex<r.segments.length){const l=new Ri(r.segments.slice(0,s.pathIndex),{});return l.children[Cn]=new Ri(r.segments.slice(s.pathIndex),r.children),Hv(l,0,a)}return s.match&&0===a.length?new Ri(r.segments,{}):s.match&&!r.hasChildren()?eP(r,n,i):s.match?Hv(r,0,a):eP(r,n,i)}function Hv(r,n,i){if(0===i.length)return new Ri(r.segments,{});{const s=function Nwe(r){return Vv(r[0])?r[0].outlets:{[Cn]:r}}(i),a={};if(Object.keys(s).some(l=>l!==Cn)&&r.children[Cn]&&1===r.numberOfChildren&&0===r.children[Cn].segments.length){const l=Hv(r.children[Cn],n,i);return new Ri(r.segments,l.children)}return Object.entries(s).forEach(([l,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(a[l]=ij(r.children[l],n,c))}),Object.entries(r.children).forEach(([l,c])=>{void 0===s[l]&&(a[l]=c)}),new Ri(r.segments,a)}}function eP(r,n,i){const s=r.segments.slice(0,n);let a=0;for(;a<i.length;){const l=i[a];if(Vv(l)){const u=Lwe(l.outlets);return new Ri(s,u)}if(0===a&&hC(i[0])){s.push(new Uv(r.segments[n].path,rj(i[0]))),a++;continue}const c=Vv(l)?l.outlets[Cn]:`${l}`,d=a<i.length-1?i[a+1]:null;c&&d&&hC(d)?(s.push(new Uv(c,rj(d))),a+=2):(s.push(new Uv(c,{})),a++)}return new Ri(s,{})}function Lwe(r){const n={};return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(n[i]=eP(new Ri([],{}),0,s))}),n}function rj(r){const n={};return Object.entries(r).forEach(([i,s])=>n[i]=`${s}`),n}function sj(r,n,i){return r==i.path&&ic(n,i.parameters)}const Gv="imperative";var Gn=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(Gn||{});class rc{id;url;constructor(n,i){this.id=n,this.url=i}}class pC extends rc{type=Gn.NavigationStart;navigationTrigger;restoredState;constructor(n,i,s="imperative",a=null){super(n,i),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sc extends rc{urlAfterRedirects;type=Gn.NavigationEnd;constructor(n,i,s){super(n,i),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var xa=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(xa||{}),mC=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(mC||{});class qh extends rc{reason;code;type=Gn.NavigationCancel;constructor(n,i,s,a){super(n,i),this.reason=s,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lm extends rc{reason;code;type=Gn.NavigationSkipped;constructor(n,i,s,a){super(n,i),this.reason=s,this.code=a}}class tP extends rc{error;target;type=Gn.NavigationError;constructor(n,i,s,a){super(n,i),this.error=s,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oj extends rc{urlAfterRedirects;state;type=Gn.RoutesRecognized;constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uwe extends rc{urlAfterRedirects;state;type=Gn.GuardsCheckStart;constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zwe extends rc{urlAfterRedirects;state;shouldActivate;type=Gn.GuardsCheckEnd;constructor(n,i,s,a,l){super(n,i),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vwe extends rc{urlAfterRedirects;state;type=Gn.ResolveStart;constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hwe extends rc{urlAfterRedirects;state;type=Gn.ResolveEnd;constructor(n,i,s,a){super(n,i),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gwe{route;type=Gn.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $we{route;type=Gn.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qwe{snapshot;type=Gn.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jwe{snapshot;type=Gn.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wwe{snapshot;type=Gn.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qwe{snapshot;type=Gn.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aj{routerEvent;position;anchor;type=Gn.Scroll;constructor(n,i,s){this.routerEvent=n,this.position=i,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class nP{}class gC{url;navigationBehaviorOptions;constructor(n,i){this.url=n,this.navigationBehaviorOptions=i}}function yl(r){return r.outlet||Cn}function $v(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let n=r.parent;n;n=n.parent){const i=n.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}class eCe{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return $v(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Qv(this.rootInjector)}}let Qv=(()=>{class r{rootInjector;contexts=new Map;constructor(i){this.rootInjector=i}onChildOutletCreated(i,s){const a=this.getOrCreateContext(i);a.outlet=s,this.contexts.set(i,a)}onChildOutletDestroyed(i){const s=this.getContext(i);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let s=this.getContext(i);return s||(s=new eCe(this.rootInjector),this.contexts.set(i,s)),s}getContext(i){return this.contexts.get(i)||null}static \u0275fac=function(s){return new(s||r)($e(Ns))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class lj{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){const i=this.pathFromRoot(n);return i.length>1?i[i.length-2]:null}children(n){const i=iP(n,this._root);return i?i.children.map(s=>s.value):[]}firstChild(n){const i=iP(n,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(n){const i=rP(n,this._root);return i.length<2?[]:i[i.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return rP(n,this._root).map(i=>i.value)}}function iP(r,n){if(r===n.value)return n;for(const i of n.children){const s=iP(r,i);if(s)return s}return null}function rP(r,n){if(r===n.value)return[n];for(const i of n.children){const s=rP(r,i);if(s.length)return s.unshift(n),s}return[]}class vl{value;children;constructor(n,i){this.value=n,this.children=i}toString(){return`TreeNode(${this.value})`}}function Um(r){const n={};return r&&r.children.forEach(i=>n[i.value.outlet]=i),n}class cj extends lj{snapshot;constructor(n,i){super(n),this.snapshot=i,sP(this,n)}toString(){return this.snapshot.toString()}}function dj(r){const n=function tCe(r){const l=new yC([],{},{},"",{},Cn,r,null,{});return new uj("",new vl(l,[]))}(r),i=new Fi([new Uv("",{})]),s=new Fi({}),a=new Fi({}),l=new Fi({}),c=new Fi(""),d=new od(i,s,l,c,a,Cn,r,n.root);return d.snapshot=n.root,new cj(new vl(d,[]),n)}class od{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,i,s,a,l,c,d,u){this.urlSubject=n,this.paramsSubject=i,this.queryParamsSubject=s,this.fragmentSubject=a,this.dataSubject=l,this.outlet=c,this.component=d,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(je(h=>h[Lv]))??Oe(void 0),this.url=n,this.params=i,this.queryParams=s,this.fragment=a,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(je(n=>Nm(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(je(n=>Nm(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _C(r,n,i="emptyOnly"){let s;const{routeConfig:a}=r;return s=null===n||"always"!==i&&""!==a?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...r.params},data:{...r.data},resolve:{...r.data,...r._resolvedData??{}}}:{params:{...n.params,...r.params},data:{...n.data,...r.data},resolve:{...r.data,...n.data,...a?.data,...r._resolvedData}},a&&fj(a)&&(s.resolve[Lv]=a.title),s}class yC{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Lv]}constructor(n,i,s,a,l,c,d,u,h){this.url=n,this.params=i,this.queryParams=s,this.fragment=a,this.data=l,this.outlet=c,this.component=d,this.routeConfig=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Nm(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Nm(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uj extends lj{url;constructor(n,i){super(i),this.url=n,sP(this,i)}toString(){return hj(this._root)}}function sP(r,n){n.value._routerState=r,n.children.forEach(i=>sP(r,i))}function hj(r){const n=r.children.length>0?` { ${r.children.map(hj).join(", ")} } `:"";return`${r.value}${n}`}function oP(r){if(r.snapshot){const n=r.snapshot,i=r._futureSnapshot;r.snapshot=i,ic(n.queryParams,i.queryParams)||r.queryParamsSubject.next(i.queryParams),n.fragment!==i.fragment&&r.fragmentSubject.next(i.fragment),ic(n.params,i.params)||r.paramsSubject.next(i.params),function fwe(r,n){if(r.length!==n.length)return!1;for(let i=0;i<r.length;++i)if(!ic(r[i],n[i]))return!1;return!0}(n.url,i.url)||r.urlSubject.next(i.url),ic(n.data,i.data)||r.dataSubject.next(i.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function aP(r,n){const i=ic(r.params,n.params)&&function _we(r,n){return jh(r,n)&&r.every((i,s)=>ic(i.parameters,n[s].parameters))}(r.url,n.url);return i&&!(!r.parent!=!n.parent)&&(!r.parent||aP(r.parent,n.parent))}function fj(r){return"string"==typeof r.title||null===r.title}const nCe=new se("");let lP=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Cn;activateEvents=new ue;deactivateEvents=new ue;attachEvents=new ue;detachEvents=new ue;routerOutletData=CU(void 0);parentContexts=D(Qv);location=D(Ki);changeDetector=D(Zi);inputBinder=D(vC,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(i){if(i.name){const{firstChange:s,previousValue:a}=i.name;if(s)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ee(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ee(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ee(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new ee(4013,!1);this._activatedRoute=i;const a=this.location,c=i.snapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,u=new cP(i,d,a.injector,this.routerOutletData);this.activated=a.createComponent(c,{index:a.length,injector:u,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vr]})}return r})();class cP{route;childContexts;parent;outletData;__ngOutletInjector(n){return new cP(this.route,this.childContexts,n,this.outletData)}constructor(n,i,s,a){this.route=n,this.childContexts=i,this.parent=s,this.outletData=a}get(n,i){return n===od?this.route:n===Qv?this.childContexts:n===nCe?this.outletData:this.parent.get(n,i)}}const vC=new se("");let pj=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:s}=i,a=_l([s.queryParams,s.params,s.data]).pipe(br(([l,c,d],u)=>(d={...l,...c,...d},0===u?Oe(d):Promise.resolve(d)))).subscribe(l=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==s||null===s.component)return void this.unsubscribeFromRouteData(i);const c=function W_e(r){const n=xn(r);if(!n)return null;const i=new Wy(n);return{get selector(){return i.selector},get type(){return i.componentType},get inputs(){return i.inputs},get outputs(){return i.outputs},get ngContentSelectors(){return i.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(s.component);if(c)for(const{templateName:d}of c.inputs)i.activatedComponentRef.setInput(d,l[d]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,a)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();function jv(r,n,i){if(i&&r.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const a=function rCe(r,n,i){return n.children.map(s=>{for(const a of i.children)if(r.shouldReuseRoute(s.value,a.value.snapshot))return jv(r,s,a);return jv(r,s)})}(r,n,i);return new vl(s,a)}{if(r.shouldAttach(n.value)){const l=r.retrieve(n.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=n.value,c.children=n.children.map(d=>jv(r,d)),c}}const s=function sCe(r){return new od(new Fi(r.url),new Fi(r.params),new Fi(r.queryParams),new Fi(r.fragment),new Fi(r.data),r.outlet,r.component,r)}(n.value),a=n.children.map(l=>jv(r,l));return new vl(s,a)}}class dP{redirectTo;navigationBehaviorOptions;constructor(n,i){this.redirectTo=n,this.navigationBehaviorOptions=i}}const mj="ngNavigationCancelingError";function bC(r,n){const{redirectTo:i,navigationBehaviorOptions:s}=Wh(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,a=gj(!1,xa.Redirect);return a.url=i,a.navigationBehaviorOptions=s,a}function gj(r,n){const i=new Error(`NavigationCancelingError: ${r||""}`);return i[mj]=!0,i.cancellationCode=n,i}function _j(r){return!!r&&r[mj]}class lCe{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,i,s,a,l){this.routeReuseStrategy=n,this.futureState=i,this.currState=s,this.forwardEvent=a,this.inputBindingEnabled=l}activate(n){const i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,n),oP(this.futureState.root),this.activateChildRoutes(i,s,n)}deactivateChildRoutes(n,i,s){const a=Um(i);n.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,a[c],s),delete a[c]}),Object.values(a).forEach(l=>{this.deactivateRouteAndItsChildren(l,s)})}deactivateRoutes(n,i,s){const a=n.value,l=i?i.value:null;if(a===l)if(a.component){const c=s.getContext(a.outlet);c&&this.deactivateChildRoutes(n,i,c.children)}else this.deactivateChildRoutes(n,i,s);else l&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(n,i){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,i):this.deactivateRouteAndOutlet(n,i)}detachAndStoreRouteSubtree(n,i){const s=i.getContext(n.value.outlet),a=s&&n.value.component?s.children:i,l=Um(n);for(const c of Object.values(l))this.deactivateRouteAndItsChildren(c,a);if(s&&s.outlet){const c=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:c,route:n,contexts:d})}}deactivateRouteAndOutlet(n,i){const s=i.getContext(n.value.outlet),a=s&&n.value.component?s.children:i,l=Um(n);for(const c of Object.values(l))this.deactivateRouteAndItsChildren(c,a);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(n,i,s){const a=Um(i);n.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],s),this.forwardEvent(new qwe(l.value.snapshot))}),n.children.length&&this.forwardEvent(new jwe(n.value.snapshot))}activateRoutes(n,i,s){const a=n.value,l=i?i.value:null;if(oP(a),a===l)if(a.component){const c=s.getOrCreateContext(a.outlet);this.activateChildRoutes(n,i,c.children)}else this.activateChildRoutes(n,i,s);else if(a.component){const c=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const d=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),oP(d.route.value),this.activateChildRoutes(n,null,c.children)}else c.attachRef=null,c.route=a,c.outlet&&c.outlet.activateWith(a,c.injector),this.activateChildRoutes(n,null,c.children)}else this.activateChildRoutes(n,null,s)}}class yj{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class AC{component;route;constructor(n,i){this.component=n,this.route=i}}function cCe(r,n,i){const s=r._root;return Wv(s,n?n._root:null,i,[s.value])}function zm(r,n){const i=Symbol(),s=n.get(r,i);return s===i?"function"!=typeof r||function Wre(r){return null!==w0(r)}(r)?n.get(r):r:s}function Wv(r,n,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=Um(n);return r.children.forEach(c=>{(function uCe(r,n,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=r.value,c=n?n.value:null,d=i?i.getContext(r.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const u=function hCe(r,n,i){if("function"==typeof i)return i(r,n);switch(i){case"pathParamsChange":return!jh(r.url,n.url);case"pathParamsOrQueryParamsChange":return!jh(r.url,n.url)||!ic(r.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aP(r,n)||!ic(r.queryParams,n.queryParams);default:return!aP(r,n)}}(c,l,l.routeConfig.runGuardsAndResolvers);u?a.canActivateChecks.push(new yj(s)):(l.data=c.data,l._resolvedData=c._resolvedData),Wv(r,n,l.component?d?d.children:null:i,s,a),u&&d&&d.outlet&&d.outlet.isActivated&&a.canDeactivateChecks.push(new AC(d.outlet.component,c))}else c&&qv(n,d,a),a.canActivateChecks.push(new yj(s)),Wv(r,null,l.component?d?d.children:null:i,s,a)})(c,l[c.value.outlet],i,s.concat([c.value]),a),delete l[c.value.outlet]}),Object.entries(l).forEach(([c,d])=>qv(d,i.getContext(c),a)),a}function qv(r,n,i){const s=Um(r),a=r.value;Object.entries(s).forEach(([l,c])=>{qv(c,a.component?n?n.children.getContext(l):null:n,i)}),i.canDeactivateChecks.push(new AC(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}function Yv(r){return"function"==typeof r}function vj(r){return r instanceof sC||"EmptyError"===r?.name}const xC=Symbol("INITIAL_VALUE");function Vm(){return br(r=>_l(r.map(n=>n.pipe(dr(1),Ts(xC)))).pipe(je(n=>{for(const i of n)if(!0!==i){if(i===xC)return xC;if(!1===i||vCe(i))return i}return!0}),ni(n=>n!==xC),dr(1)))}function vCe(r){return Wh(r)||r instanceof dP}function bj(r){return function Bre(...r){return Q3(r)}(Ar(n=>{if("boolean"!=typeof n)throw bC(0,n)}),je(n=>!0===n))}class uP{segmentGroup;constructor(n){this.segmentGroup=n||null}}class wC extends Error{urlTree;constructor(n){super(),this.urlTree=n}}function Hm(r){return Bv(new uP(r))}class kCe{urlSerializer;urlTree;constructor(n,i){this.urlSerializer=n,this.urlTree=i}lineralizeSegments(n,i){let s=[],a=i.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Oe(s);if(a.numberOfChildren>1||!a.children[Cn])return Bv(new ee(4e3,!1));a=a.children[Cn]}}applyRedirectCommands(n,i,s,a,l){if("string"!=typeof i){const d=i,{queryParams:u,fragment:h,routeConfig:f,url:p,outlet:g,params:m,data:_,title:v}=a,y=Na(l,()=>d({params:m,data:_,queryParams:u,fragment:h,routeConfig:f,url:p,outlet:g,title:v}));if(y instanceof Qh)throw new wC(y);i=y}const c=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),n,s);if("/"===i[0])throw new wC(c);return c}applyRedirectCreateUrlTree(n,i,s,a){const l=this.createSegmentGroup(n,i.root,s,a);return new Qh(l,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(n,i){const s={};return Object.entries(n).forEach(([a,l])=>{if("string"==typeof l&&":"===l[0]){const d=l.substring(1);s[a]=i[d]}else s[a]=l}),s}createSegmentGroup(n,i,s,a){const l=this.createSegments(n,i.segments,s,a);let c={};return Object.entries(i.children).forEach(([d,u])=>{c[d]=this.createSegmentGroup(n,u,s,a)}),new Ri(l,c)}createSegments(n,i,s,a){return i.map(l=>":"===l.path[0]?this.findPosParam(n,l,a):this.findOrReturn(l,s))}findPosParam(n,i,s){const a=s[i.path.substring(1)];if(!a)throw new ee(4001,!1);return a}findOrReturn(n,i){let s=0;for(const a of i){if(a.path===n.path)return i.splice(s),a;s++}return n}}const hP={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PCe(r,n,i,s,a){const l=Aj(r,n,i);return l.matched?(s=function Ywe(r,n){return r.providers&&!r._injector&&(r._injector=jx(r.providers,n,`Route: ${r.path}`)),r._injector??n}(n,s),function TCe(r,n,i,s){const a=n.canMatch;return a&&0!==a.length?Oe(a.map(c=>{const d=zm(c,r);return yu(function yCe(r){return r&&Yv(r.canMatch)}(d)?d.canMatch(n,i):Na(r,()=>d(n,i)))})).pipe(Vm(),bj()):Oe(!0)}(s,n,i).pipe(je(c=>!0===c?l:{...hP}))):Oe(l)}function Aj(r,n,i){if("**"===n.path)return function FCe(r){return{matched:!0,parameters:r.length>0?HQ(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}(i);if(""===n.path)return"full"===n.pathMatch&&(r.hasChildren()||i.length>0)?{...hP}:{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};const a=(n.matcher||hwe)(i,r,n);if(!a)return{...hP};const l={};Object.entries(a.posParams??{}).forEach(([d,u])=>{l[d]=u.path});const c=a.consumed.length>0?{...l,...a.consumed[a.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:a.consumed,remainingSegments:i.slice(a.consumed.length),parameters:c,positionalParamSegments:a.posParams??{}}}function xj(r,n,i,s){return i.length>0&&function BCe(r,n,i){return i.some(s=>CC(r,n,s)&&yl(s)!==Cn)}(r,i,s)?{segmentGroup:new Ri(n,NCe(s,new Ri(i,r.children))),slicedSegments:[]}:0===i.length&&function LCe(r,n,i){return i.some(s=>CC(r,n,s))}(r,i,s)?{segmentGroup:new Ri(r.segments,OCe(r,i,s,r.children)),slicedSegments:i}:{segmentGroup:new Ri(r.segments,r.children),slicedSegments:i}}function OCe(r,n,i,s){const a={};for(const l of i)if(CC(r,n,l)&&!s[yl(l)]){const c=new Ri([],{});a[yl(l)]=c}return{...s,...a}}function NCe(r,n){const i={};i[Cn]=n;for(const s of r)if(""===s.path&&yl(s)!==Cn){const a=new Ri([],{});i[yl(s)]=a}return i}function CC(r,n,i){return(!(r.hasChildren()||n.length>0)||"full"!==i.pathMatch)&&""===i.path}class zCe{}class GCe{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,i,s,a,l,c,d){this.injector=n,this.configLoader=i,this.rootComponentType=s,this.config=a,this.urlTree=l,this.paramsInheritanceStrategy=c,this.urlSerializer=d,this.applyRedirects=new kCe(this.urlSerializer,this.urlTree)}noMatchError(n){return new ee(4002,`'${n.segmentGroup}'`)}recognize(){const n=xj(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(je(({children:i,rootSnapshot:s})=>{const a=new vl(s,i),l=new uj("",a),c=function kwe(r,n,i=null,s=null){return ej(JQ(r),n,i,s)}(s,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(c),{state:l,tree:c}}))}match(n){const i=new yC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Cn,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Cn,i).pipe(je(s=>({children:s,rootSnapshot:i})),_u(s=>{if(s instanceof wC)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof uP?this.noMatchError(s):s}))}processSegmentGroup(n,i,s,a,l){return 0===s.segments.length&&s.hasChildren()?this.processChildren(n,i,s,l):this.processSegment(n,i,s,s.segments,a,!0,l).pipe(je(c=>c instanceof vl?[c]:[]))}processChildren(n,i,s,a){const l=[];for(const c of Object.keys(s.children))"primary"===c?l.unshift(c):l.push(c);return $r(l).pipe(fu(c=>{const d=s.children[c],u=function Jwe(r,n){const i=r.filter(s=>yl(s)===n);return i.push(...r.filter(s=>yl(s)!==n)),i}(i,c);return this.processSegmentGroup(n,u,d,c,a)}),function cwe(r,n){return qi(zQ(r,n,arguments.length>=2,!0))}((c,d)=>(c.push(...d),c)),oC(null),function dwe(r,n){const i=arguments.length>=2;return s=>s.pipe(r?ni((a,l)=>r(a,l,s)):Qd,Yk(1),i?oC(n):UQ(()=>new sC))}(),Ss(c=>{if(null===c)return Hm(s);const d=wj(c);return function $Ce(r){r.sort((n,i)=>n.value.outlet===Cn?-1:i.value.outlet===Cn?1:n.value.outlet.localeCompare(i.value.outlet))}(d),Oe(d)}))}processSegment(n,i,s,a,l,c,d){return $r(i).pipe(fu(u=>this.processSegmentAgainstRoute(u._injector??n,i,u,s,a,l,c,d).pipe(_u(h=>{if(h instanceof uP)return Oe(null);throw h}))),gu(u=>!!u),_u(u=>{if(vj(u))return function UCe(r,n,i){return 0===n.length&&!r.children[i]}(s,a,l)?Oe(new zCe):Hm(s);throw u}))}processSegmentAgainstRoute(n,i,s,a,l,c,d,u){return yl(s)===c||c!==Cn&&CC(a,l,s)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(n,a,s,l,c,u):this.allowRedirects&&d?this.expandSegmentAgainstRouteUsingRedirect(n,a,i,s,l,c,u):Hm(a):Hm(a)}expandSegmentAgainstRouteUsingRedirect(n,i,s,a,l,c,d){const{matched:u,parameters:h,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=Aj(i,a,l);if(!u)return Hm(i);"string"==typeof a.redirectTo&&"/"===a.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const m=new yC(l,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cj(a),yl(a),a.component??a._loadedComponent??null,a,Ej(a)),_=_C(m,d,this.paramsInheritanceStrategy);m.params=Object.freeze(_.params),m.data=Object.freeze(_.data);const v=this.applyRedirects.applyRedirectCommands(f,a.redirectTo,p,m,n);return this.applyRedirects.lineralizeSegments(a,v).pipe(Ss(y=>this.processSegment(n,s,i,y.concat(g),c,!1,d)))}matchSegmentAgainstRoute(n,i,s,a,l,c){const d=PCe(i,s,a,n);return"**"===s.path&&(i.children={}),d.pipe(br(u=>u.matched?this.getChildConfig(n=s._injector??n,s,a).pipe(br(({routes:h})=>{const f=s._loadedInjector??n,{parameters:p,consumedSegments:g,remainingSegments:m}=u,_=new yC(g,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Cj(s),yl(s),s.component??s._loadedComponent??null,s,Ej(s)),v=_C(_,c,this.paramsInheritanceStrategy);_.params=Object.freeze(v.params),_.data=Object.freeze(v.data);const{segmentGroup:y,slicedSegments:b}=xj(i,g,m,h);if(0===b.length&&y.hasChildren())return this.processChildren(f,h,y,_).pipe(je(x=>new vl(_,x)));if(0===h.length&&0===b.length)return Oe(new vl(_,[]));const A=yl(s)===l;return this.processSegment(f,h,y,b,A?Cn:l,!0,_).pipe(je(x=>new vl(_,x instanceof vl?[x]:[])))})):Hm(i)))}getChildConfig(n,i,s){return i.children?Oe({routes:i.children,injector:n}):i.loadChildren?void 0!==i._loadedRoutes?Oe({routes:i._loadedRoutes,injector:i._loadedInjector}):function ICe(r,n,i,s){const a=n.canLoad;return void 0===a||0===a.length?Oe(!0):Oe(a.map(c=>{const d=zm(c,r);return yu(function pCe(r){return r&&Yv(r.canLoad)}(d)?d.canLoad(n,i):Na(r,()=>d(n,i)))})).pipe(Vm(),bj())}(n,i,s).pipe(Ss(a=>a?this.configLoader.loadChildren(n,i).pipe(Ar(l=>{i._loadedRoutes=l.routes,i._loadedInjector=l.injector})):function RCe(){return Bv(gj(!1,xa.GuardRejected))}())):Oe({routes:[],injector:n})}}function QCe(r){const n=r.value.routeConfig;return n&&""===n.path}function wj(r){const n=[],i=new Set;for(const s of r){if(!QCe(s)){n.push(s);continue}const a=n.find(l=>s.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...s.children),i.add(a)):n.push(s)}for(const s of i){const a=wj(s.children);n.push(new vl(s.value,a))}return n.filter(s=>!i.has(s))}function Cj(r){return r.data||{}}function Ej(r){return r.resolve||{}}function Mj(r){const n=r.children.map(i=>Mj(i)).flat();return[r,...n]}function fP(r){return br(n=>{const i=r(n);return i?$r(i).pipe(je(()=>n)):Oe(n)})}let Sj=(()=>{class r{buildTitle(i){let s,a=i.root;for(;void 0!==a;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(l=>l.outlet===Cn);return s}getResolvedTitleForRoute(i){return i.data[Lv]}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>D(KCe),providedIn:"root"})}return r})(),KCe=(()=>{class r extends Sj{title;constructor(i){super(),this.title=i}updateTitle(i){const s=this.buildTitle(i);void 0!==s&&this.title.setTitle(s)}static \u0275fac=function(s){return new(s||r)($e(xbe))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Gm=new se("",{providedIn:"root",factory:()=>({})});let Ij=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(s,a){1&s&&Te(0,"router-outlet")},dependencies:[lP],encapsulation:2})}return r})();function pP(r){const n=r.children&&r.children.map(pP),i=n?{...r,children:n}:{...r};return!i.component&&!i.loadComponent&&(n||i.loadChildren)&&i.outlet&&i.outlet!==Cn&&(i.component=Ij),i}const $m=new se("");let mP=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=D(b8);loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Oe(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const s=yu(i.loadComponent()).pipe(je(Tj),Ar(l=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=l}),Pm(()=>{this.componentLoaders.delete(i)})),a=new qk(s,()=>new Qe).pipe(Wk());return this.componentLoaders.set(i,a),a}loadChildren(i,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return Oe({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);const l=function ZCe(r,n,i,s){return yu(r.loadChildren()).pipe(je(Tj),Ss(a=>a instanceof N5||Array.isArray(a)?Oe(a):$r(n.compileModuleAsync(a))),je(a=>{s&&s(r);let l,c,d=!1;return Array.isArray(a)?(c=a,!0):(l=a.create(i).injector,c=l.get($m,[],{optional:!0,self:!0}).flat()),{routes:c.map(pP),injector:l}}))}(s,this.compiler,i,this.onLoadEndListener).pipe(Pm(()=>{this.childrenLoaders.delete(s)})),c=new qk(l,()=>new Qe).pipe(Wk());return this.childrenLoaders.set(s,c),c}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Tj(r){return function JCe(r){return r&&"object"==typeof r&&"default"in r}(r)?r.default:r}let gP=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>D(eEe),providedIn:"root"})}return r})(),eEe=(()=>{class r{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,s){return i}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const Dj=new se(""),Rj=new se("");function tEe(r,n,i){const s=r.get(Rj),a=r.get(rn);return r.get(_t).runOutsideAngular(()=>{if(!a.startViewTransition||s.skipNextTransition)return s.skipNextTransition=!1,new Promise(h=>setTimeout(h));let l;const c=new Promise(h=>{l=h}),d=a.startViewTransition(()=>(l(),function nEe(r){return new Promise(n=>{_a({read:()=>setTimeout(n)},{injector:r})})}(r))),{onViewTransitionCreated:u}=s;return u&&Na(r,()=>u({transition:d,from:n,to:i})),c})}const _P=new se("");let EC=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Qe;transitionAbortSubject=new Qe;configLoader=D(mP);environmentInjector=D(Ns);destroyRef=D(Qc);urlSerializer=D(Bm);rootContexts=D(Qv);location=D(Em);inputBindingEnabled=null!==D(vC,{optional:!0});titleStrategy=D(Sj);options=D(Gm,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=D(gP);createViewTransition=D(Dj,{optional:!0});navigationErrorHandler=D(_P,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>Oe(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=a=>this.events.next(new $we(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new Gwe(a)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(i){const s=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:s})}setupNavigations(i,s,a){return this.transitions=new Fi({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gv,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ni(l=>0!==l.id),je(l=>({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),br(l=>{let c=!1,d=!1;return Oe(l).pipe(br(u=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",xa.SupersededByNewNavigation),Is;this.currentTransition=l,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:"string"==typeof u.extras.browserUrl?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const h=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!h&&"reload"!==(u.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const p="";return this.events.next(new Lm(u.id,this.urlSerializer.serialize(u.rawUrl),p,mC.IgnoredSameUrlNavigation)),u.resolve(!1),Is}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Oe(u).pipe(br(p=>{const g=this.transitions?.getValue();return this.events.next(new pC(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Is:Promise.resolve(p)}),function jCe(r,n,i,s,a,l){return Ss(c=>function VCe(r,n,i,s,a,l,c="emptyOnly"){return new GCe(r,n,i,s,a,c,l).recognize()}(r,n,i,s,c.extractedUrl,a,l).pipe(je(({state:d,tree:u})=>({...c,targetSnapshot:d,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ar(p=>{l.targetSnapshot=p.targetSnapshot,l.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new oj(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:p,extractedUrl:g,source:m,restoredState:_,extras:v}=u,y=new pC(p,this.urlSerializer.serialize(g),m,_);this.events.next(y);const b=dj(this.rootComponentType).snapshot;return this.currentTransition=l={...u,targetSnapshot:b,urlAfterRedirects:g,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=g,Oe(l)}{const p="";return this.events.next(new Lm(u.id,this.urlSerializer.serialize(u.extractedUrl),p,mC.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Is}}),Ar(u=>{const h=new Uwe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),je(u=>(this.currentTransition=l={...u,guards:cCe(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},l)),function bCe(r,n){return Ss(i=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:c}}=i;return 0===c.length&&0===l.length?Oe({...i,guardsResult:!0}):function ACe(r,n,i,s){return $r(r).pipe(Ss(a=>function SCe(r,n,i,s,a){const l=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return l&&0!==l.length?Oe(l.map(d=>{const u=$v(n)??a,h=zm(d,u);return yu(function _Ce(r){return r&&Yv(r.canDeactivate)}(h)?h.canDeactivate(r,n,i,s):Na(u,()=>h(r,n,i,s))).pipe(gu())})).pipe(Vm()):Oe(!0)}(a.component,a.route,i,n,s)),gu(a=>!0!==a,!0))}(c,s,a,r).pipe(Ss(d=>d&&function fCe(r){return"boolean"==typeof r}(d)?function xCe(r,n,i,s){return $r(n).pipe(fu(a=>$h(function CCe(r,n){return null!==r&&n&&n(new Qwe(r)),Oe(!0)}(a.route.parent,s),function wCe(r,n){return null!==r&&n&&n(new Wwe(r)),Oe(!0)}(a.route,s),function MCe(r,n,i){const s=n[n.length-1],l=n.slice(0,n.length-1).reverse().map(c=>function dCe(r){const n=r.routeConfig?r.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:r,guards:n}:null}(c)).filter(c=>null!==c).map(c=>Nv(()=>Oe(c.guards.map(u=>{const h=$v(c.node)??i,f=zm(u,h);return yu(function gCe(r){return r&&Yv(r.canActivateChild)}(f)?f.canActivateChild(s,r):Na(h,()=>f(s,r))).pipe(gu())})).pipe(Vm())));return Oe(l).pipe(Vm())}(r,a.path,i),function ECe(r,n,i){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return Oe(!0);const a=s.map(l=>Nv(()=>{const c=$v(n)??i,d=zm(l,c);return yu(function mCe(r){return r&&Yv(r.canActivate)}(d)?d.canActivate(n,r):Na(c,()=>d(n,r))).pipe(gu())}));return Oe(a).pipe(Vm())}(r,a.route,i))),gu(a=>!0!==a,!0))}(s,l,r,n):Oe(d)),je(d=>({...i,guardsResult:d})))})}(this.environmentInjector,u=>this.events.next(u)),Ar(u=>{if(l.guardsResult=u.guardsResult,u.guardsResult&&"boolean"!=typeof u.guardsResult)throw bC(0,u.guardsResult);const h=new zwe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),ni(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",xa.GuardRejected),!1)),fP(u=>{if(u.guards.canActivateChecks.length)return Oe(u).pipe(Ar(h=>{const f=new Vwe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),br(h=>{let f=!1;return Oe(h).pipe(function WCe(r,n){return Ss(i=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=i;if(!a.length)return Oe(i);const l=new Set(a.map(u=>u.route)),c=new Set;for(const u of l)if(!c.has(u))for(const h of Mj(u))c.add(h);let d=0;return $r(c).pipe(fu(u=>l.has(u)?function qCe(r,n,i,s){const a=r.routeConfig,l=r._resolve;return void 0!==a?.title&&!fj(a)&&(l[Lv]=a.title),function YCe(r,n,i,s){const a=Xk(r);if(0===a.length)return Oe({});const l={};return $r(a).pipe(Ss(c=>function XCe(r,n,i,s){const a=$v(n)??s,l=zm(r,a);return yu(l.resolve?l.resolve(n,i):Na(a,()=>l(n,i)))}(r[c],n,i,s).pipe(gu(),Ar(d=>{if(d instanceof dP)throw bC(new lC,d);l[c]=d}))),Yk(1),je(()=>l),_u(c=>vj(c)?Is:Bv(c)))}(l,r,n,s).pipe(je(c=>(r._resolvedData=c,r.data=_C(r,r.parent,i).resolve,null)))}(u,s,r,n):(u.data=_C(u,u.parent,r).resolve,Oe(void 0))),Ar(()=>d++),Yk(1),Ss(u=>d===c.size?Oe(i):Is))})}(this.paramsInheritanceStrategy,this.environmentInjector),Ar({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",xa.NoDataFromResolver)}}))}),Ar(h=>{const f=new Hwe(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),fP(u=>{const h=f=>{const p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ar(g=>{f.component=g}),je(()=>{})));for(const g of f.children)p.push(...h(g));return p};return _l(h(u.targetSnapshot.root)).pipe(oC(null),dr(1))}),fP(()=>this.afterPreactivation()),br(()=>{const{currentSnapshot:u,targetSnapshot:h}=l,f=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return f?$r(f).pipe(je(()=>l)):Oe(l)}),je(u=>{const h=function iCe(r,n,i){const s=jv(r,n._root,i?i._root:void 0);return new cj(s,n)}(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=l={...u,targetRouterState:h},this.currentNavigation.targetRouterState=h,l}),Ar(()=>{this.events.next(new nP)}),((r,n,i,s)=>je(a=>(new lCe(n,a.targetRouterState,a.currentRouterState,i,s).activate(r),a)))(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),dr(1),Ar({next:u=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{c=!0}}),Nn(this.transitionAbortSubject.pipe(Ar(u=>{throw u}))),Pm(()=>{!c&&!d&&this.cancelNavigationTransition(l,"",xa.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),_u(u=>{if(this.destroyed)return l.resolve(!1),Is;if(d=!0,_j(u))this.events.next(new qh(l.id,this.urlSerializer.serialize(l.extractedUrl),u.message,u.cancellationCode)),function oCe(r){return _j(r)&&Wh(r.url)}(u)?this.events.next(new gC(u.url,u.navigationBehaviorOptions)):l.resolve(!1);else{const h=new tP(l.id,this.urlSerializer.serialize(l.extractedUrl),u,l.targetSnapshot??void 0);try{const f=Na(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(!(f instanceof dP))throw this.events.next(h),u;{const{message:p,cancellationCode:g}=bC(0,f);this.events.next(new qh(l.id,this.urlSerializer.serialize(l.extractedUrl),p,g)),this.events.next(new gC(f.redirectTo,f.navigationBehaviorOptions))}}catch(f){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(f)}}return Is}))}))}cancelNavigationTransition(i,s,a){const l=new qh(i.id,this.urlSerializer.serialize(i.extractedUrl),s,a);this.events.next(l),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function iEe(r){return r!==Gv}let rEe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>D(oEe),providedIn:"root"})}return r})();class sEe{shouldDetach(n){return!1}store(n,i){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,i){return n.routeConfig===i.routeConfig}}let oEe=(()=>{class r extends sEe{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),kj=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:()=>D(aEe),providedIn:"root"})}return r})(),aEe=(()=>{class r extends kj{location=D(Em);urlSerializer=D(Bm);options=D(Gm,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=D(gP);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qh;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=dj(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(s=>{"popstate"===s.type&&i(s.url,s.state)})}handleRouterEvent(i,s){if(i instanceof pC)this.stateMemento=this.createStateMemento();else if(i instanceof Lm)this.rawUrlTree=s.initialUrl;else if(i instanceof oj){if("eager"===this.urlUpdateStrategy&&!s.extras.skipLocationChange){const a=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??a,s)}}else i instanceof nP?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):i instanceof qh&&(i.code===xa.GuardRejected||i.code===xa.NoDataFromResolver)?this.restoreHistory(s):i instanceof tP?this.restoreHistory(s,!0):i instanceof sc&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,s){const a=i instanceof Qh?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl){const c={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId)};this.location.replaceState(a,"",c)}else{const l={...s.extras.state,...this.generateNgRouterState(s.id,this.browserPageId+1)};this.location.go(a,"",l)}}restoreHistory(i,s=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===i.finalUrl&&0===l&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,s){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Pj(r,n){r.events.pipe(ni(i=>i instanceof sc||i instanceof qh||i instanceof tP||i instanceof Lm),je(i=>i instanceof sc||i instanceof Lm?0:i instanceof qh&&(i.code===xa.Redirect||i.code===xa.SupersededByNewNavigation)?2:1),ni(i=>2!==i),dr(1)).subscribe(()=>{n()})}const lEe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cEe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ro=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=D(eH);stateManager=D(kj);options=D(Gm,{optional:!0})||{};pendingTasks=D(ll);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=D(EC);urlSerializer=D(Bm);location=D(Em);urlHandlingStrategy=D(gP);_events=new Qe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=D(rEe);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=D($m,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!D(vC,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}eventsSubscription=new gn;subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(s=>{try{const a=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(null!==a&&null!==l)if(this.stateManager.handleRouterEvent(s,l),s instanceof qh&&s.code!==xa.Redirect&&s.code!==xa.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof sc)this.navigated=!0;else if(s instanceof gC){const c=s.navigationBehaviorOptions,d=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),u={browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||"eager"===this.urlUpdateStrategy||iEe(a.source),...c};this.scheduleNavigation(d,Gv,null,u,{resolve:a.resolve,reject:a.reject,promise:a.promise})}(function uEe(r){return!(r instanceof nP||r instanceof gC)})(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",s)},0)})}navigateToSyncWithBrowser(i,s,a){const l={replaceUrl:!0},c=a?.navigationId?a:null;if(a){const u={...a};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(l.state=u)}const d=this.parseUrl(i);this.scheduleNavigation(d,s,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(pP),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,s={}){const{relativeTo:a,queryParams:l,fragment:c,queryParamsHandling:d,preserveFragment:u}=s,h=u?this.currentUrlTree.fragment:c;let p,f=null;switch(d??this.options.defaultQueryParamsHandling){case"merge":f={...this.currentUrlTree.queryParams,...l};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=l||null}null!==f&&(f=this.removeEmptyProps(f));try{p=JQ(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||"/"!==i[0][0])&&(i=[]),p=this.currentUrlTree.root}return ej(p,i,f,h??null)}navigateByUrl(i,s={skipLocationChange:!1}){const a=Wh(i)?i:this.parseUrl(i),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,Gv,null,s)}navigate(i,s={skipLocationChange:!1}){return function dEe(r){for(let n=0;n<r.length;n++)if(null==r[n])throw new ee(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,s){let a;if(a=!0===s?{...lEe}:!1===s?{...cEe}:s,Wh(i))return $Q(this.currentUrlTree,i,a);const l=this.parseUrl(i);return $Q(this.currentUrlTree,l,a)}removeEmptyProps(i){return Object.entries(i).reduce((s,[a,l])=>(null!=l&&(s[a]=l),s),{})}scheduleNavigation(i,s,a,l,c){if(this.disposed)return Promise.resolve(!1);let d,u,h;c?(d=c.resolve,u=c.reject,h=c.promise):h=new Promise((p,g)=>{d=p,u=g});const f=this.pendingTasks.add();return Pj(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:l,resolve:d,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(p=>Promise.reject(p))}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),oc=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Qe;constructor(i,s,a,l,c,d){this.router=i,this.route=s,this.tabIndexAttribute=a,this.renderer=l,this.el=c,this.locationStrategy=d;const u=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=i.events.subscribe(h=>{h instanceof sc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(i){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(i){null==i?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Wh(i)||Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,s,a,l,c){const d=this.urlTree;return!!(null===d||this.isAnchorElement&&(0!==i||s||a||l||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(d,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const i=this.urlTree;this.href=null!==i&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;const s=null===this.href?null:function Hz(r,n,i){return function Ale(r,n){return"src"===n&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===n&&("base"===r||"link"===r)?Vz:wn}(n,i)(r)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(i,s){const a=this.renderer,l=this.el.nativeElement;null!==s?a.setAttribute(l,i,s):a.removeAttribute(l,i)}get urlTree(){return null===this.routerLinkInput?null:Wh(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(s){return new(s||r)(me(Ro),me(od),hy("tabindex"),me(Ms),me(Mt),me(Fh))};static \u0275dir=_e({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,a){1&s&&ht("click",function(c){return a.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&s&&en("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ct],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ct],replaceUrl:[2,"replaceUrl","replaceUrl",ct],routerLink:"routerLink"},features:[vr]})}return r})();class Fj{}let pEe=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(i,s,a,l,c){this.router=i,this.injector=a,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ni(i=>i instanceof sc),fu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,s){const a=[];for(const l of s){l.providers&&!l._injector&&(l._injector=jx(l.providers,i,`Route: ${l.path}`));const c=l._injector??i,d=l._loadedInjector??c;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&a.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&a.push(this.processRoutes(d,l.children??l._loadedRoutes))}return $r(a).pipe(Gh())}preloadConfig(i,s){return this.preloadingStrategy.preload(s,()=>{let a;a=s.loadChildren&&void 0===s.canLoad?this.loader.loadChildren(i,s):Oe(null);const l=a.pipe(Ss(c=>null===c?Oe(void 0):(s._loadedRoutes=c.routes,s._loadedInjector=c.injector,this.processRoutes(c.injector??i,c.routes))));return s.loadComponent&&!s._loadedComponent?$r([l,this.loader.loadComponent(s)]).pipe(Gh()):l})}static \u0275fac=function(s){return new(s||r)($e(Ro),$e(b8),$e(Ns),$e(Fj),$e(mP))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const yP=new se("");let Oj=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(i,s,a,l,c={}){this.urlSerializer=i,this.transitions=s,this.viewportScroller=a,this.zone=l,this.options=c,c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof pC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof sc?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Lm&&i.code===mC.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof aj&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new aj(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(s){!function s5(){throw new Error("invalid")}()};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})();function ac(r,n){return{\u0275kind:r,\u0275providers:n}}function Bj(){const r=D(On);return n=>{const i=r.get(Co);if(n!==i.components[0])return;const s=r.get(Ro),a=r.get(Lj);1===r.get(vP)&&s.initialNavigation(),r.get(Uj,null,Fn.Optional)?.setUpPreloading(),r.get(yP,null,Fn.Optional)?.init(),s.resetRootComponentType(i.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const Lj=new se("",{factory:()=>new Qe}),vP=new se("",{providedIn:"root",factory:()=>1}),Uj=new se("");function yEe(r){return ac(0,[{provide:Uj,useExisting:pEe},{provide:Fj,useExisting:r}])}function bEe(r){return ac(9,[{provide:Dj,useValue:tEe},{provide:Rj,useValue:{skipNextTransition:!!r?.skipInitialTransition,...r}}])}const AEe=[Em,{provide:Bm,useClass:lC},Ro,Qv,{provide:od,useFactory:function Nj(r){return r.routerState.root},deps:[Ro]},mP,[]];let bl=(()=>{class r{constructor(){}static forRoot(i,s){return{ngModule:r,providers:[AEe,[],{provide:$m,multi:!0,useValue:i},[],s?.errorHandler?{provide:_P,useValue:s.errorHandler}:[],{provide:Gm,useValue:s||{}},s?.useHash?{provide:Fh,useClass:Z_e}:{provide:Fh,useClass:x6},{provide:yP,useFactory:()=>{const r=D(jR),n=D(_t),i=D(Gm),s=D(EC),a=D(Bm);return i.scrollOffset&&r.setOffset(i.scrollOffset),new Oj(a,s,r,n,i)}},s?.preloadingStrategy?yEe(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?EEe(s):[],s?.bindToComponentInputs?ac(8,[pj,{provide:vC,useExisting:pj}]).\u0275providers:[],s?.enableViewTransitions?bEe().\u0275providers:[],[{provide:zj,useFactory:Bj},{provide:dm,multi:!0,useExisting:zj}]]}}static forChild(i){return{ngModule:r,providers:[{provide:$m,multi:!0,useValue:i}]}}static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})();function EEe(r){return["disabled"===r.initialNavigation?ac(3,[{provide:Jy,multi:!0,useFactory:()=>{const n=D(Ro);return()=>{n.setUpLocationChangeListener()}}},{provide:vP,useValue:2}]).\u0275providers:[],"enabledBlocking"===r.initialNavigation?ac(2,[{provide:vP,useValue:0},{provide:Jy,multi:!0,deps:[On],useFactory:n=>{const i=n.get(X_e,Promise.resolve());return()=>i.then(()=>new Promise(s=>{const a=n.get(Ro),l=n.get(Lj);Pj(a,()=>{s(!0)}),n.get(EC).afterPreactivation=()=>(s(!0),l.closed?Oe(void 0):l),a.initialNavigation()}))}}]).\u0275providers:[]]}const zj=new se(""),IEe=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g,TEe=Object.hasOwnProperty;class Vj{constructor(){this.reset()}slug(n,i){const s=this;let a=function DEe(r,n){return"string"!=typeof r?"":(n||(r=r.toLowerCase()),r.replace(IEe,"").replace(/ /g,"-"))}(n,!0===i);const l=a;for(;TEe.call(s.occurrences,a);)s.occurrences[l]++,a=l+"-"+s.occurrences[l];return s.occurrences[a]=0,a}reset(){this.occurrences=Object.create(null)}}let Hj=new Vj,bP=[];const REe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function PEe({prefix:r="",globalSlugs:n=!1}={}){return{headerIds:!1,hooks:{preprocess:i=>(n||function FEe(){bP=[],Hj=new Vj}(),i)},useNewRenderer:!0,renderer:{heading({tokens:i,depth:s}){const a=this.parser.parseInline(i),l=function kEe(r){return r.replace(REe,(n,i)=>"colon"===(i=i.toLowerCase())?":":"#"===i.charAt(0)?"x"===i.charAt(1)?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):"")}(a).trim().replace(/<[!\/a-z].*?>/gi,""),c=s,d=`${r}${Hj.slug(l.toLowerCase())}`;return bP.push({level:c,text:a,id:d,raw:l}),`<h${c} id="${d}">${a}</h${c}>\n`}}}}function MC(r){return ni((n,i)=>r<=i)}const AP=new se("ngx-google-analytics-settings",{factory:()=>({trackingCode:"",enableTracing:!1})}),Gj=new se("ngx-window",{providedIn:"root",factory:()=>{const{defaultView:r}=D(rn);if(!r)throw new Error("Window is not available");return r}}),NEe=new se("ngx-data-layer",{providedIn:"root",factory:()=>function OEe(r){return r?r.dataLayer=r.dataLayer||[]:null}(D(Gj))}),$j=new se("ngx-gtag-fn",{providedIn:"root",factory:()=>function BEe(r,n){return r?r.gtag=r.gtag||function(){n.push(arguments)}:null}(D(Gj),D(NEe))});let LEe=(()=>{class r{constructor(i,s,a){this.settings=i,this._document=s,this._gtag=a}get document(){return this._document}throw(i){this.settings.enableTracing&&console&&console.error&&console.error(i)}toKeyValue(i){return i.size>0?Array.from(i).reduce((s,[a,l])=>Object.defineProperty(s,a,{value:l,enumerable:!0}),{}):void 0}gtag(...i){try{this._gtag(...i.filter(s=>void 0!==s))}catch(s){this.throw(s)}}event(i,s,a,l,c,d){try{const u=new Map;s&&u.set("event_category",s),a&&u.set("event_label",a),l&&u.set("value",l),void 0!==c&&u.set("interaction",c),d&&Object.entries(d).map(([f,p])=>u.set(f,p));const h=this.toKeyValue(u);h?this.gtag("event",i,h):this.gtag("event",i)}catch(u){this.throw(u)}}pageView(i,s,a,l){try{const c=new Map([["page_path",i]]);s&&c.set("page_title",s),(a||this.document)&&c.set("page_location",a||this.document.location.href),l&&Object.entries(l).map(([d,u])=>c.set(d,u)),this.gtag("config",this.settings.trackingCode,this.toKeyValue(c))}catch(c){this.throw(c)}}appView(i,s,a,l,c){try{const d=new Map([["screen_name",i],["app_name",s]]);a&&d.set("app_id",a),l&&d.set("app_version",l),c&&d.set("app_installer_id",c),this.gtag("event","screen_view",this.toKeyValue(d))}catch(d){this.throw(d)}}set(...i){try{this._gtag("set",...i)}catch(s){this.throw(s)}}exception(i,s){try{const a=new Map;i&&a.set("description",i),s&&a.set("fatal",s),this.toKeyValue(a)?this.gtag("event","exception",this.toKeyValue(a)):this.gtag("event","exception")}catch(a){this.throw(a)}}}return r.\u0275fac=function(i){return new(i||r)($e(AP),$e(rn),$e($j))},r.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const zEe={provide:Jy,multi:!0,useFactory:function VEe(r,n,i){return ke(function*(){if(!r.trackingCode)return void console.error("Empty tracking code for Google Analytics. Make sure to provide one when initializing NgxGoogleAnalyticsModule.");if(!n)return void console.error("Was not possible create or read gtag() fn. Make sure this module is running on a Browser w/ access to Window interface.");i||console.error("Was not possible to access Document interface. Make sure this module is running on a Browser w/ access do Document interface."),r.uri=r.uri||`https://www.googletagmanager.com/gtag/js?id=${r.trackingCode}`,r.initCommands=r?.initCommands??[],r.initCommands.find(l=>"config"===l.command)||r.initCommands.unshift({command:"config",values:[r.trackingCode]}),r.initCommands.find(l=>"js"===l.command)||r.initCommands.unshift({command:"js",values:[new Date]});for(const l of r.initCommands)n(l.command,...l.values);const s=i.createElement("script");s.async=!0,s.src=r.uri,r.nonce&&s.setAttribute("nonce",r.nonce),i.getElementsByTagName("head")[0].appendChild(s)})},deps:[AP,$j,rn]},Qj=new se("ngx-google-analytics-routing-settings",{factory:()=>({})}),HEe={provide:dm,multi:!0,useFactory:function GEe(r,n){return function(){var i=ke(function*(s){const a=s.injector.get(Ro),{include:l=[],exclude:c=[]}=r??{},d=jj(l),u=jj(c),h=a.events.pipe(ni(f=>f instanceof sc),MC(1),ni(f=>!(d.length>0)||d.some(p=>p.test(f.urlAfterRedirects))),ni(f=>!(u.length>0&&u.some(p=>p.test(f.urlAfterRedirects))))).subscribe(f=>n.pageView(f.urlAfterRedirects,void 0));s.onDestroy(()=>h.unsubscribe())});return function(s){return i.apply(this,arguments)}}()},deps:[Qj,LEe]};function jj(r){return r.map(n=>n instanceof RegExp?n:new RegExp(`^${n.replace("*",".*")}$`,"i"))}let Wj=(()=>{class r{static forRoot(i,s=[],a,l,c){return{ngModule:r,providers:[{provide:AP,useValue:{trackingCode:i,initCommands:s,uri:a,enableTracing:l,nonce:c}},zEe]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Ze({type:r}),r.\u0275inj=qe({}),r})(),$Ee=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[{provide:Qj,useValue:i??{}}]}}}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Ze({type:r}),r.\u0275inj=qe({providers:[HEe],imports:[Im,Wj]}),r})();function Ds(...r){const n=km(r),i=y$(r,1/0),s=r;return s.length?1===s.length?Ks(s[0]):Gh(i)($r(s,n)):Is}class QEe extends gn{constructor(n,i){super()}schedule(n,i=0){return this}}const SC={setInterval(r,n,...i){const{delegate:s}=SC;return s?.setInterval?s.setInterval(r,n,...i):setInterval(r,n,...i)},clearInterval(r){const{delegate:n}=SC;return(n?.clearInterval||clearInterval)(r)},delegate:void 0};class xP extends QEe{constructor(n,i){super(n,i),this.scheduler=n,this.work=i,this.pending=!1}schedule(n,i=0){var s;if(this.closed)return this;this.state=n;const a=this.id,l=this.scheduler;return null!=a&&(this.id=this.recycleAsyncId(l,a,i)),this.pending=!0,this.delay=i,this.id=null!==(s=this.id)&&void 0!==s?s:this.requestAsyncId(l,this.id,i),this}requestAsyncId(n,i,s=0){return SC.setInterval(n.flush.bind(n,this),s)}recycleAsyncId(n,i,s=0){if(null!=s&&this.delay===s&&!1===this.pending)return i;null!=i&&SC.clearInterval(i)}execute(n,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const s=this._execute(n,i);if(s)return s;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,i){let a,s=!1;try{this.work(n)}catch(l){s=!0,a=l||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),a}unsubscribe(){if(!this.closed){const{id:n,scheduler:i}=this,{actions:s}=i;this.work=this.state=this.scheduler=null,this.pending=!1,mo(s,this),null!=n&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,super.unsubscribe()}}}const wP={now:()=>(wP.delegate||Date).now(),delegate:void 0};class Xv{constructor(n,i=Xv.now){this.schedulerActionCtor=n,this.now=i}schedule(n,i=0,s){return new this.schedulerActionCtor(this,n).schedule(s,i)}}Xv.now=wP.now;class CP extends Xv{constructor(n,i=Xv.now){super(n,i),this.actions=[],this._active=!1}flush(n){const{actions:i}=this;if(this._active)return void i.push(n);let s;this._active=!0;do{if(s=n.execute(n.state,n.delay))break}while(n=i.shift());if(this._active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}}const IC=new CP(xP),jEe=IC;function TC(r=0,n,i=jEe){let s=-1;return null!=n&&(g$(n)?i=n:s=n),new pi(a=>{let l=function WEe(r){return r instanceof Date&&!isNaN(r)}(r)?+r-i.now():r;l<0&&(l=0);let c=0;return i.schedule(function(){a.closed||(a.next(c++),0<=s?this.schedule(void 0,s):a.complete())},l)})}function DC(r){return je(()=>r)}function Kv(r,n=Qd){return r=r??qEe,qi((i,s)=>{let a,l=!0;i.subscribe(Yi(s,c=>{const d=n(c);(l||!r(a,d))&&(l=!1,a=d,s.next(c))}))})}function qEe(r,n){return r===n}class qj extends Qe{constructor(n=1/0,i=1/0,s=wP){super(),this._bufferSize=n,this._windowTime=i,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,i)}next(n){const{isStopped:i,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:l,_windowTime:c}=this;i||(s.push(n),!a&&s.push(l.now()+c)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(n),{_infiniteTimeWindow:s,_buffer:a}=this,l=a.slice();for(let c=0;c<l.length&&!n.closed;c+=s?1:2)n.next(l[c]);return this._checkFinalizedStatuses(n),i}_trimBuffer(){const{_bufferSize:n,_timestampProvider:i,_buffer:s,_infiniteTimeWindow:a}=this,l=(a?1:2)*n;if(n<1/0&&l<s.length&&s.splice(0,s.length-l),!a){const c=i.now();let d=0;for(let u=1;u<s.length&&s[u]<=c;u+=2)d=u;d&&s.splice(0,d+1)}}}function Yj(r={}){const{connector:n=()=>new Qe,resetOnError:i=!0,resetOnComplete:s=!0,resetOnRefCountZero:a=!0}=r;return l=>{let c,d,u,h=0,f=!1,p=!1;const g=()=>{d?.unsubscribe(),d=void 0},m=()=>{g(),c=u=void 0,f=p=!1},_=()=>{const v=c;m(),v?.unsubscribe()};return qi((v,y)=>{h++,!p&&!f&&g();const b=u=u??n();y.add(()=>{h--,0===h&&!p&&!f&&(d=EP(_,a))}),b.subscribe(y),!c&&h>0&&(c=new Z_({next:A=>b.next(A),error:A=>{p=!0,g(),d=EP(m,i,A),b.error(A)},complete:()=>{f=!0,g(),d=EP(m,s),b.complete()}}),Ks(v).subscribe(c))})(l)}}function EP(r,n,...i){if(!0===n)return void r();if(!1===n)return;const s=new Z_({next:()=>{s.unsubscribe(),r()}});return Ks(n(...i)).subscribe(s)}function MP(r,n,i){let s,a=!1;return r&&"object"==typeof r?({bufferSize:s=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:i}=r):s=r??1/0,Yj({connector:()=>new qj(s,n,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}let Yh={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function Xj(r){Yh=r}const Zv={exec:()=>null};function _i(r,n=""){let i="string"==typeof r?r:r.source;const s={replace:(a,l)=>{let c="string"==typeof l?l:l.source;return c=c.replace(ko.caret,"$1"),i=i.replace(a,c),s},getRegex:()=>new RegExp(i,n)};return s}const ko={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},Jv=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,IP=/(?:[*+-]|\d{1,9}[.)])/,Kj=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Zj=_i(Kj).replace(/bull/g,IP).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),JEe=_i(Kj).replace(/bull/g,IP).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),TP=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,DP=/(?!\s*\])(?:\\.|[^\[\]\\])+/,tMe=_i(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",DP).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),nMe=_i(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,IP).getRegex(),RC="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",RP=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,iMe=_i("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",RP).replace("tag",RC).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Jj=_i(TP).replace("hr",Jv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",RC).getRegex(),kP={blockquote:_i(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Jj).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def:tMe,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr:Jv,html:iMe,lheading:Zj,list:nMe,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph:Jj,table:Zv,text:/^[^\n]+/},eW=_i("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Jv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",RC).getRegex(),rMe={...kP,lheading:JEe,table:eW,paragraph:_i(TP).replace("hr",Jv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",eW).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",RC).getRegex()},sMe={...kP,html:_i("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",RP).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Zv,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_i(TP).replace("hr",Jv).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Zj).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},tW=/^( {2,}|\\)\n(?!\s*$)/,kC=/[\p{P}\p{S}]/u,PP=/[\s\p{P}\p{S}]/u,nW=/[^\s\p{P}\p{S}]/u,cMe=_i(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,PP).getRegex(),iW=/(?!~)[\p{P}\p{S}]/u,rW=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,fMe=_i(rW,"u").replace(/punct/g,kC).getRegex(),pMe=_i(rW,"u").replace(/punct/g,iW).getRegex(),sW="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",mMe=_i(sW,"gu").replace(/notPunctSpace/g,nW).replace(/punctSpace/g,PP).replace(/punct/g,kC).getRegex(),gMe=_i(sW,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,iW).getRegex(),_Me=_i("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,nW).replace(/punctSpace/g,PP).replace(/punct/g,kC).getRegex(),yMe=_i(/\\(punct)/,"gu").replace(/punct/g,kC).getRegex(),vMe=_i(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),bMe=_i(RP).replace("(?:--\x3e|$)","--\x3e").getRegex(),AMe=_i("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",bMe).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),PC=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,xMe=_i(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",PC).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),oW=_i(/^!?\[(label)\]\[(ref)\]/).replace("label",PC).replace("ref",DP).getRegex(),aW=_i(/^!?\[(ref)\](?:\[\])?/).replace("ref",DP).getRegex(),FP={_backpedal:Zv,anyPunctuation:yMe,autolink:vMe,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br:tW,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:Zv,emStrongLDelim:fMe,emStrongRDelimAst:mMe,emStrongRDelimUnd:_Me,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:xMe,nolink:aW,punctuation:cMe,reflink:oW,reflinkSearch:_i("reflink|nolink(?!\\()","g").replace("reflink",oW).replace("nolink",aW).getRegex(),tag:AMe,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:Zv},CMe={...FP,link:_i(/^!?\[(label)\]\((.*?)\)/).replace("label",PC).getRegex(),reflink:_i(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",PC).getRegex()},OP={...FP,emStrongRDelimAst:gMe,emStrongLDelim:pMe,url:_i(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},EMe={...OP,br:_i(tW).replace("{2,}","*").getRegex(),text:_i(OP.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},FC={normal:kP,gfm:rMe,pedantic:sMe},eb={normal:FP,gfm:OP,breaks:EMe,pedantic:CMe},MMe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lW=r=>MMe[r];function lc(r,n){if(n){if(ko.escapeTest.test(r))return r.replace(ko.escapeReplace,lW)}else if(ko.escapeTestNoEncode.test(r))return r.replace(ko.escapeReplaceNoEncode,lW);return r}function cW(r){try{r=encodeURI(r).replace(ko.percentDecode,"%")}catch{return null}return r}function dW(r,n){const s=r.replace(ko.findPipe,(l,c,d)=>{let u=!1,h=c;for(;--h>=0&&"\\"===d[h];)u=!u;return u?"|":" |"}).split(ko.splitPipe);let a=0;if(s[0].trim()||s.shift(),s.length>0&&!s.at(-1)?.trim()&&s.pop(),n)if(s.length>n)s.splice(n);else for(;s.length<n;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(ko.slashPipe,"|");return s}function tb(r,n,i){const s=r.length;if(0===s)return"";let a=0;for(;a<s&&r.charAt(s-a-1)===n;)a++;return r.slice(0,s-a)}function uW(r,n,i,s,a){const l=n.href,c=n.title||null,d=r[1].replace(a.other.outputLinkReplace,"$1");if("!"!==r[0].charAt(0)){s.state.inLink=!0;const u={type:"link",raw:i,href:l,title:c,text:d,tokens:s.inlineTokens(d)};return s.state.inLink=!1,u}return{type:"image",raw:i,href:l,title:c,text:d}}class OC{options;rules;lexer;constructor(n){this.options=n||Yh}space(n){const i=this.rules.block.newline.exec(n);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(n){const i=this.rules.block.code.exec(n);if(i){const s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:tb(s,"\n")}}}fences(n){const i=this.rules.block.fences.exec(n);if(i){const s=i[0],a=function IMe(r,n,i){const s=r.match(i.other.indentCodeCompensation);if(null===s)return n;const a=s[1];return n.split("\n").map(l=>{const c=l.match(i.other.beginningSpace);if(null===c)return l;const[d]=c;return d.length>=a.length?l.slice(a.length):l}).join("\n")}(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:a}}}heading(n){const i=this.rules.block.heading.exec(n);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){const a=tb(s,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(s=a.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(n){const i=this.rules.block.hr.exec(n);if(i)return{type:"hr",raw:tb(i[0],"\n")}}blockquote(n){const i=this.rules.block.blockquote.exec(n);if(i){let s=tb(i[0],"\n").split("\n"),a="",l="";const c=[];for(;s.length>0;){let d=!1;const u=[];let h;for(h=0;h<s.length;h++)if(this.rules.other.blockquoteStart.test(s[h]))u.push(s[h]),d=!0;else{if(d)break;u.push(s[h])}s=s.slice(h);const f=u.join("\n"),p=f.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}\n${f}`:f,l=l?`${l}\n${p}`:p;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,c,!0),this.lexer.state.top=g,0===s.length)break;const m=c.at(-1);if("code"===m?.type)break;if("blockquote"===m?.type){const _=m,v=_.raw+"\n"+s.join("\n"),y=this.blockquote(v);c[c.length-1]=y,a=a.substring(0,a.length-_.raw.length)+y.raw,l=l.substring(0,l.length-_.text.length)+y.text;break}if("list"!==m?.type);else{const _=m,v=_.raw+"\n"+s.join("\n"),y=this.list(v);c[c.length-1]=y,a=a.substring(0,a.length-m.raw.length)+y.raw,l=l.substring(0,l.length-_.raw.length)+y.raw,s=v.substring(c.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw:a,tokens:c,text:l}}}list(n){let i=this.rules.block.list.exec(n);if(i){let s=i[1].trim();const a=s.length>1,l={type:"list",raw:"",ordered:a,start:a?+s.slice(0,-1):"",loose:!1,items:[]};s=a?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=a?s:"[*+-]");const c=this.rules.other.listItemRegex(s);let d=!1;for(;n;){let h=!1,f="",p="";if(!(i=c.exec(n))||this.rules.block.hr.test(n))break;f=i[0],n=n.substring(f.length);let g=i[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,A=>" ".repeat(3*A.length)),m=n.split("\n",1)[0],_=!g.trim(),v=0;if(this.options.pedantic?(v=2,p=g.trimStart()):_?v=i[1].length+1:(v=i[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,p=g.slice(v),v+=i[1].length),_&&this.rules.other.blankLine.test(m)&&(f+=m+"\n",n=n.substring(m.length+1),h=!0),!h){const A=this.rules.other.nextBulletRegex(v),x=this.rules.other.hrRegex(v),w=this.rules.other.fencesBeginRegex(v),E=this.rules.other.headingBeginRegex(v),M=this.rules.other.htmlBeginRegex(v);for(;n;){const S=n.split("\n",1)[0];let T;if(m=S,this.options.pedantic?(m=m.replace(this.rules.other.listReplaceNesting,"  "),T=m):T=m.replace(this.rules.other.tabCharGlobal,"    "),w.test(m)||E.test(m)||M.test(m)||A.test(m)||x.test(m))break;if(T.search(this.rules.other.nonSpaceChar)>=v||!m.trim())p+="\n"+T.slice(v);else{if(_||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||w.test(g)||E.test(g)||x.test(g))break;p+="\n"+m}!_&&!m.trim()&&(_=!0),f+=S+"\n",n=n.substring(S.length+1),g=T.slice(v)}}l.loose||(d?l.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(d=!0));let b,y=null;this.options.gfm&&(y=this.rules.other.listIsTask.exec(p),y&&(b="[ ] "!==y[0],p=p.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:f,task:!!y,checked:b,loose:!1,text:p,tokens:[]}),l.raw+=f}const u=l.items.at(-1);if(!u)return;u.raw=u.raw.trimEnd(),u.text=u.text.trimEnd(),l.raw=l.raw.trimEnd();for(let h=0;h<l.items.length;h++)if(this.lexer.state.top=!1,l.items[h].tokens=this.lexer.blockTokens(l.items[h].text,[]),!l.loose){const f=l.items[h].tokens.filter(g=>"space"===g.type),p=f.length>0&&f.some(g=>this.rules.other.anyLine.test(g.raw));l.loose=p}if(l.loose)for(let h=0;h<l.items.length;h++)l.items[h].loose=!0;return l}}html(n){const i=this.rules.block.html.exec(n);if(i)return{type:"html",block:!0,raw:i[0],pre:"pre"===i[1]||"script"===i[1]||"style"===i[1],text:i[0]}}def(n){const i=this.rules.block.def.exec(n);if(i){const s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:a,title:l}}}table(n){const i=this.rules.block.table.exec(n);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;const s=dW(i[1]),a=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=i[3]?.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],c={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===a.length){for(const d of a)this.rules.other.tableAlignRight.test(d)?c.align.push("right"):this.rules.other.tableAlignCenter.test(d)?c.align.push("center"):this.rules.other.tableAlignLeft.test(d)?c.align.push("left"):c.align.push(null);for(let d=0;d<s.length;d++)c.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:c.align[d]});for(const d of l)c.rows.push(dW(d,c.header.length).map((u,h)=>({text:u,tokens:this.lexer.inline(u),header:!1,align:c.align[h]})));return c}}lheading(n){const i=this.rules.block.lheading.exec(n);if(i)return{type:"heading",raw:i[0],depth:"="===i[2].charAt(0)?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(n){const i=this.rules.block.paragraph.exec(n);if(i){const s="\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(n){const i=this.rules.block.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(n){const i=this.rules.inline.escape.exec(n);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(n){const i=this.rules.inline.tag.exec(n);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(n){const i=this.rules.inline.link.exec(n);if(i){const s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const c=tb(s.slice(0,-1),"\\");if((s.length-c.length)%2==0)return}else{const c=function SMe(r,n){if(-1===r.indexOf(n[1]))return-1;let i=0;for(let s=0;s<r.length;s++)if("\\"===r[s])s++;else if(r[s]===n[0])i++;else if(r[s]===n[1]&&(i--,i<0))return s;return-1}(i[2],"()");if(c>-1){const u=(0===i[0].indexOf("!")?5:4)+i[1].length+c;i[2]=i[2].substring(0,c),i[0]=i[0].substring(0,u).trim(),i[3]=""}}let a=i[2],l="";if(this.options.pedantic){const c=this.rules.other.pedanticHrefTitle.exec(a);c&&(a=c[1],l=c[3])}else l=i[3]?i[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(a=this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?a.slice(1):a.slice(1,-1)),uW(i,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(n,i){let s;if((s=this.rules.inline.reflink.exec(n))||(s=this.rules.inline.nolink.exec(n))){const l=i[(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!l){const c=s[0].charAt(0);return{type:"text",raw:c,text:c}}return uW(s,l,s[0],this.lexer,this.rules)}}emStrong(n,i,s=""){let a=this.rules.inline.emStrongLDelim.exec(n);if(!(!a||a[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!a[1]&&!a[2]||!s||this.rules.inline.punctuation.exec(s))){const c=[...a[0]].length-1;let d,u,h=c,f=0;const p="*"===a[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,i=i.slice(-1*n.length+c);null!=(a=p.exec(i));){if(d=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!d)continue;if(u=[...d].length,a[3]||a[4]){h+=u;continue}if((a[5]||a[6])&&c%3&&!((c+u)%3)){f+=u;continue}if(h-=u,h>0)continue;u=Math.min(u,u+h+f);const g=[...a[0]][0].length,m=n.slice(0,c+a.index+g+u);if(Math.min(c,u)%2){const v=m.slice(1,-1);return{type:"em",raw:m,text:v,tokens:this.lexer.inlineTokens(v)}}const _=m.slice(2,-2);return{type:"strong",raw:m,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(n){const i=this.rules.inline.code.exec(n);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," ");const a=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return a&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(n){const i=this.rules.inline.br.exec(n);if(i)return{type:"br",raw:i[0]}}del(n){const i=this.rules.inline.del.exec(n);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(n){const i=this.rules.inline.autolink.exec(n);if(i){let s,a;return"@"===i[2]?(s=i[1],a="mailto:"+s):(s=i[1],a=s),{type:"link",raw:i[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}url(n){let i;if(i=this.rules.inline.url.exec(n)){let s,a;if("@"===i[2])s=i[0],a="mailto:"+s;else{let l;do{l=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])?.[0]??""}while(l!==i[0]);s=i[0],a="www."===i[1]?"http://"+i[0]:i[0]}return{type:"link",raw:i[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(n){const i=this.rules.inline.text.exec(n);if(i)return{type:"text",raw:i[0],text:i[0],escaped:this.lexer.state.inRawBlock}}}class $a{tokens;options;state;tokenizer;inlineQueue;constructor(n){this.tokens=[],this.tokens.links=Object.create(null),this.options=n||Yh,this.options.tokenizer=this.options.tokenizer||new OC,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:ko,block:FC.normal,inline:eb.normal};this.options.pedantic?(i.block=FC.pedantic,i.inline=eb.pedantic):this.options.gfm&&(i.block=FC.gfm,i.inline=this.options.breaks?eb.breaks:eb.gfm),this.tokenizer.rules=i}static get rules(){return{block:FC,inline:eb}}static lex(n,i){return new $a(i).lex(n)}static lexInline(n,i){return new $a(i).inlineTokens(n)}lex(n){n=n.replace(ko.carriageReturn,"\n"),this.blockTokens(n,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(n,i=[],s=!1){for(this.options.pedantic&&(n=n.replace(ko.tabCharGlobal,"    ").replace(ko.spaceLine,""));n;){let a;if(this.options.extensions?.block?.some(c=>!!(a=c.call({lexer:this},n,i))&&(n=n.substring(a.raw.length),i.push(a),!0)))continue;if(a=this.tokenizer.space(n)){n=n.substring(a.raw.length);const c=i.at(-1);1===a.raw.length&&void 0!==c?c.raw+="\n":i.push(a);continue}if(a=this.tokenizer.code(n)){n=n.substring(a.raw.length);const c=i.at(-1);"paragraph"===c?.type||"text"===c?.type?(c.raw+="\n"+a.raw,c.text+="\n"+a.text,this.inlineQueue.at(-1).src=c.text):i.push(a);continue}if(a=this.tokenizer.fences(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.heading(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.hr(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.blockquote(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.list(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.html(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.def(n)){n=n.substring(a.raw.length);const c=i.at(-1);"paragraph"===c?.type||"text"===c?.type?(c.raw+="\n"+a.raw,c.text+="\n"+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(n)){n=n.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.lheading(n)){n=n.substring(a.raw.length),i.push(a);continue}let l=n;if(this.options.extensions?.startBlock){let c=1/0;const d=n.slice(1);let u;this.options.extensions.startBlock.forEach(h=>{u=h.call({lexer:this},d),"number"==typeof u&&u>=0&&(c=Math.min(c,u))}),c<1/0&&c>=0&&(l=n.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){const c=i.at(-1);s&&"paragraph"===c?.type?(c.raw+="\n"+a.raw,c.text+="\n"+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):i.push(a),s=l.length!==n.length,n=n.substring(a.raw.length)}else if(a=this.tokenizer.text(n)){n=n.substring(a.raw.length);const c=i.at(-1);"text"===c?.type?(c.raw+="\n"+a.raw,c.text+="\n"+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):i.push(a)}else if(n){const c="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(c);break}throw new Error(c)}}return this.state.top=!0,i}inline(n,i=[]){return this.inlineQueue.push({src:n,tokens:i}),i}inlineTokens(n,i=[]){let s=n,a=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(s));)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(s));)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.anyPunctuation.exec(s));)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let l=!1,c="";for(;n;){let d;if(l||(c=""),l=!1,this.options.extensions?.inline?.some(h=>!!(d=h.call({lexer:this},n,i))&&(n=n.substring(d.raw.length),i.push(d),!0)))continue;if(d=this.tokenizer.escape(n)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.tag(n)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.link(n)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.reflink(n,this.tokens.links)){n=n.substring(d.raw.length);const h=i.at(-1);"text"===d.type&&"text"===h?.type?(h.raw+=d.raw,h.text+=d.text):i.push(d);continue}if(d=this.tokenizer.emStrong(n,s,c)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.codespan(n)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.br(n)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.del(n)){n=n.substring(d.raw.length),i.push(d);continue}if(d=this.tokenizer.autolink(n)){n=n.substring(d.raw.length),i.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(n))){n=n.substring(d.raw.length),i.push(d);continue}let u=n;if(this.options.extensions?.startInline){let h=1/0;const f=n.slice(1);let p;this.options.extensions.startInline.forEach(g=>{p=g.call({lexer:this},f),"number"==typeof p&&p>=0&&(h=Math.min(h,p))}),h<1/0&&h>=0&&(u=n.substring(0,h+1))}if(d=this.tokenizer.inlineText(u)){n=n.substring(d.raw.length),"_"!==d.raw.slice(-1)&&(c=d.raw.slice(-1)),l=!0;const h=i.at(-1);"text"===h?.type?(h.raw+=d.raw,h.text+=d.text):i.push(d)}else if(n){const h="Infinite loop on byte: "+n.charCodeAt(0);if(this.options.silent){console.error(h);break}throw new Error(h)}}return i}}class Xh{options;parser;constructor(n){this.options=n||Yh}space(n){return""}code({text:n,lang:i,escaped:s}){const a=(i||"").match(ko.notSpaceStart)?.[0],l=n.replace(ko.endingNewline,"")+"\n";return a?'<pre><code class="language-'+lc(a)+'">'+(s?l:lc(l,!0))+"</code></pre>\n":"<pre><code>"+(s?l:lc(l,!0))+"</code></pre>\n"}blockquote({tokens:n}){return`<blockquote>\n${this.parser.parse(n)}</blockquote>\n`}html({text:n}){return n}heading({tokens:n,depth:i}){return`<h${i}>${this.parser.parseInline(n)}</h${i}>\n`}hr(n){return"<hr>\n"}list(n){const i=n.ordered,s=n.start;let a="";for(let d=0;d<n.items.length;d++)a+=this.listitem(n.items[d]);const l=i?"ol":"ul";return"<"+l+(i&&1!==s?' start="'+s+'"':"")+">\n"+a+"</"+l+">\n"}listitem(n){let i="";if(n.task){const s=this.checkbox({checked:!!n.checked});n.loose?"paragraph"===n.tokens[0]?.type?(n.tokens[0].text=s+" "+n.tokens[0].text,n.tokens[0].tokens&&n.tokens[0].tokens.length>0&&"text"===n.tokens[0].tokens[0].type&&(n.tokens[0].tokens[0].text=s+" "+lc(n.tokens[0].tokens[0].text),n.tokens[0].tokens[0].escaped=!0)):n.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):i+=s+" "}return i+=this.parser.parse(n.tokens,!!n.loose),`<li>${i}</li>\n`}checkbox({checked:n}){return"<input "+(n?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:n}){return`<p>${this.parser.parseInline(n)}</p>\n`}table(n){let i="",s="";for(let l=0;l<n.header.length;l++)s+=this.tablecell(n.header[l]);i+=this.tablerow({text:s});let a="";for(let l=0;l<n.rows.length;l++){const c=n.rows[l];s="";for(let d=0;d<c.length;d++)s+=this.tablecell(c[d]);a+=this.tablerow({text:s})}return a&&(a=`<tbody>${a}</tbody>`),"<table>\n<thead>\n"+i+"</thead>\n"+a+"</table>\n"}tablerow({text:n}){return`<tr>\n${n}</tr>\n`}tablecell(n){const i=this.parser.parseInline(n.tokens),s=n.header?"th":"td";return(n.align?`<${s} align="${n.align}">`:`<${s}>`)+i+`</${s}>\n`}strong({tokens:n}){return`<strong>${this.parser.parseInline(n)}</strong>`}em({tokens:n}){return`<em>${this.parser.parseInline(n)}</em>`}codespan({text:n}){return`<code>${lc(n,!0)}</code>`}br(n){return"<br>"}del({tokens:n}){return`<del>${this.parser.parseInline(n)}</del>`}link({href:n,title:i,tokens:s}){const a=this.parser.parseInline(s),l=cW(n);if(null===l)return a;let c='<a href="'+(n=l)+'"';return i&&(c+=' title="'+lc(i)+'"'),c+=">"+a+"</a>",c}image({href:n,title:i,text:s}){const a=cW(n);if(null===a)return lc(s);let l=`<img src="${n=a}" alt="${s}"`;return i&&(l+=` title="${lc(i)}"`),l+=">",l}text(n){return"tokens"in n&&n.tokens?this.parser.parseInline(n.tokens):"escaped"in n&&n.escaped?n.text:lc(n.text)}}class NP{strong({text:n}){return n}em({text:n}){return n}codespan({text:n}){return n}del({text:n}){return n}html({text:n}){return n}text({text:n}){return n}link({text:n}){return""+n}image({text:n}){return""+n}br(){return""}}class Qa{options;renderer;textRenderer;constructor(n){this.options=n||Yh,this.options.renderer=this.options.renderer||new Xh,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new NP}static parse(n,i){return new Qa(i).parse(n)}static parseInline(n,i){return new Qa(i).parseInline(n)}parse(n,i=!0){let s="";for(let a=0;a<n.length;a++){const l=n[a];if(this.options.extensions?.renderers?.[l.type]){const d=l,u=this.options.extensions.renderers[d.type].call({parser:this},d);if(!1!==u||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){s+=u||"";continue}}const c=l;switch(c.type){case"space":s+=this.renderer.space(c);continue;case"hr":s+=this.renderer.hr(c);continue;case"heading":s+=this.renderer.heading(c);continue;case"code":s+=this.renderer.code(c);continue;case"table":s+=this.renderer.table(c);continue;case"blockquote":s+=this.renderer.blockquote(c);continue;case"list":s+=this.renderer.list(c);continue;case"html":s+=this.renderer.html(c);continue;case"paragraph":s+=this.renderer.paragraph(c);continue;case"text":{let d=c,u=this.renderer.text(d);for(;a+1<n.length&&"text"===n[a+1].type;)d=n[++a],u+="\n"+this.renderer.text(d);s+=i?this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):u;continue}default:{const d='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return s}parseInline(n,i=this.renderer){let s="";for(let a=0;a<n.length;a++){const l=n[a];if(this.options.extensions?.renderers?.[l.type]){const d=this.options.extensions.renderers[l.type].call({parser:this},l);if(!1!==d||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type)){s+=d||"";continue}}const c=l;switch(c.type){case"escape":case"text":s+=i.text(c);break;case"html":s+=i.html(c);break;case"link":s+=i.link(c);break;case"image":s+=i.image(c);break;case"strong":s+=i.strong(c);break;case"em":s+=i.em(c);break;case"codespan":s+=i.codespan(c);break;case"br":s+=i.br(c);break;case"del":s+=i.del(c);break;default:{const d='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return s}}class NC{options;block;constructor(n){this.options=n||Yh}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(n){return n}postprocess(n){return n}processAllTokens(n){return n}provideLexer(){return this.block?$a.lex:$a.lexInline}provideParser(){return this.block?Qa.parse:Qa.parseInline}}const Kh=new class TMe{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Qa;Renderer=Xh;TextRenderer=NP;Lexer=$a;Tokenizer=OC;Hooks=NC;constructor(...n){this.use(...n)}walkTokens(n,i){let s=[];for(const a of n)switch(s=s.concat(i.call(this,a)),a.type){case"table":{const l=a;for(const c of l.header)s=s.concat(this.walkTokens(c.tokens,i));for(const c of l.rows)for(const d of c)s=s.concat(this.walkTokens(d.tokens,i));break}case"list":s=s.concat(this.walkTokens(a.items,i));break;default:{const l=a;this.defaults.extensions?.childTokens?.[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const d=l[c].flat(1/0);s=s.concat(this.walkTokens(d,i))}):l.tokens&&(s=s.concat(this.walkTokens(l.tokens,i)))}}return s}use(...n){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return n.forEach(s=>{const a={...s};if(a.async=this.defaults.async||a.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const c=i.renderers[l.name];i.renderers[l.name]=c?function(...d){let u=l.renderer.apply(this,d);return!1===u&&(u=c.apply(this,d)),u}:l.renderer}if("tokenizer"in l){if(!l.level||"block"!==l.level&&"inline"!==l.level)throw new Error("extension level must be 'block' or 'inline'");const c=i[l.level];c?c.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&("block"===l.level?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:"inline"===l.level&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),a.extensions=i),s.renderer){const l=this.defaults.renderer||new Xh(this.defaults);for(const c in s.renderer){if(!(c in l))throw new Error(`renderer '${c}' does not exist`);if(["options","parser"].includes(c))continue;const u=s.renderer[c],h=l[c];l[c]=(...f)=>{let p=u.apply(l,f);return!1===p&&(p=h.apply(l,f)),p||""}}a.renderer=l}if(s.tokenizer){const l=this.defaults.tokenizer||new OC(this.defaults);for(const c in s.tokenizer){if(!(c in l))throw new Error(`tokenizer '${c}' does not exist`);if(["options","rules","lexer"].includes(c))continue;const u=s.tokenizer[c],h=l[c];l[c]=(...f)=>{let p=u.apply(l,f);return!1===p&&(p=h.apply(l,f)),p}}a.tokenizer=l}if(s.hooks){const l=this.defaults.hooks||new NC;for(const c in s.hooks){if(!(c in l))throw new Error(`hook '${c}' does not exist`);if(["options","block"].includes(c))continue;const u=s.hooks[c],h=l[c];l[c]=NC.passThroughHooks.has(c)?f=>{if(this.defaults.async)return Promise.resolve(u.call(l,f)).then(g=>h.call(l,g));const p=u.call(l,f);return h.call(l,p)}:(...f)=>{let p=u.apply(l,f);return!1===p&&(p=h.apply(l,f)),p}}a.hooks=l}if(s.walkTokens){const l=this.defaults.walkTokens,c=s.walkTokens;a.walkTokens=function(d){let u=[];return u.push(c.call(this,d)),l&&(u=u.concat(l.call(this,d))),u}}this.defaults={...this.defaults,...a}}),this}setOptions(n){return this.defaults={...this.defaults,...n},this}lexer(n,i){return $a.lex(n,i??this.defaults)}parser(n,i){return Qa.parse(n,i??this.defaults)}parseMarkdown(n){return(s,a)=>{const l={...a},c={...this.defaults,...l},d=this.onError(!!c.silent,!!c.async);if(!0===this.defaults.async&&!1===l.async)return d(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||null===s)return d(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof s)return d(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));c.hooks&&(c.hooks.options=c,c.hooks.block=n);const u=c.hooks?c.hooks.provideLexer():n?$a.lex:$a.lexInline,h=c.hooks?c.hooks.provideParser():n?Qa.parse:Qa.parseInline;if(c.async)return Promise.resolve(c.hooks?c.hooks.preprocess(s):s).then(f=>u(f,c)).then(f=>c.hooks?c.hooks.processAllTokens(f):f).then(f=>c.walkTokens?Promise.all(this.walkTokens(f,c.walkTokens)).then(()=>f):f).then(f=>h(f,c)).then(f=>c.hooks?c.hooks.postprocess(f):f).catch(d);try{c.hooks&&(s=c.hooks.preprocess(s));let f=u(s,c);c.hooks&&(f=c.hooks.processAllTokens(f)),c.walkTokens&&this.walkTokens(f,c.walkTokens);let p=h(f,c);return c.hooks&&(p=c.hooks.postprocess(p)),p}catch(f){return d(f)}}}onError(n,i){return s=>{if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",n){const a="<p>An error occurred:</p><pre>"+lc(s.message+"",!0)+"</pre>";return i?Promise.resolve(a):a}if(i)return Promise.reject(s);throw s}}};function ii(r,n){return Kh.parse(r,n)}ii.options=ii.setOptions=function(r){return Kh.setOptions(r),Xj(ii.defaults=Kh.defaults),ii},ii.getDefaults=function SP(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}},ii.defaults=Yh,ii.use=function(...r){return Kh.use(...r),Xj(ii.defaults=Kh.defaults),ii},ii.walkTokens=function(r,n){return Kh.walkTokens(r,n)},ii.parseInline=Kh.parseInline,ii.Parser=Qa,ii.parser=Qa.parse,ii.Renderer=Xh,ii.TextRenderer=NP,ii.Lexer=$a,ii.lexer=$a.lex,ii.Tokenizer=OC,ii.Hooks=NC,ii.parse=ii;const DMe=["*"];let hW=(()=>{class r{constructor(){this._buttonClick$=new Qe,this.copied$=this._buttonClick$.pipe(br(()=>Ds(Oe(!0),TC(3e3).pipe(DC(!1)))),Kv(),MP(1)),this.copiedText$=this.copied$.pipe(Ts(!1),je(i=>i?"Copied":"Copy"))}onCopyToClipboardClick(){this._buttonClick$.next()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["markdown-clipboard"]],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(s,a){1&s&&(Y(0,"button",0),Zc(1,"async"),ht("click",function(){return a.onCopyToClipboardClick()}),ce(2),Zc(3,"async"),W()),2&s&&(Lt("copied",Jc(1,3,a.copied$)),L(2),Ut(Jc(3,5,a.copiedText$)))},dependencies:[Sm],encapsulation:2,changeDetection:0})}}return r})();const PMe=new se("CLIPBOARD_OPTIONS");var BP=function(r){return r.CommandLine="command-line",r.LineHighlight="line-highlight",r.LineNumbers="line-numbers",r}(BP||{});const fW=new se("MARKED_EXTENSIONS"),OMe=new se("MARKED_OPTIONS"),NMe=new se("MERMAID_OPTIONS"),pW=new se("SECURITY_CONTEXT");let LP=(()=>{class r{get options(){return this._options}set options(i){this._options={...this.DEFAULT_MARKED_OPTIONS,...i}}get renderer(){return this.options.renderer}set renderer(i){this.options.renderer=i}constructor(i,s,a,l,c,d,u,h){this.clipboardOptions=i,this.extensions=s,this.mermaidOptions=l,this.platform=c,this.securityContext=d,this.http=u,this.sanitizer=h,this.DEFAULT_MARKED_OPTIONS={renderer:new Xh},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new Qe,this.reload$=this._reload$.asObservable(),this.options=a}parse(i,s=this.DEFAULT_PARSE_OPTIONS){const{decodeHtml:a,inline:l,emoji:c,mermaid:d,disableSanitizer:u}=s,h={...this.options,...s.markedOptions},f=h.renderer||this.renderer||new Xh;this.extensions&&(this.renderer=this.extendsRendererForExtensions(f)),d&&(this.renderer=this.extendsRendererForMermaid(f));const p=this.trimIndentation(i),g=a?this.decodeHtml(p):p,m=c?this.parseEmoji(g):g,_=this.parseMarked(m,h,l);return(u?_:this.sanitizer.sanitize(this.securityContext,_))||""}render(i,s=this.DEFAULT_RENDER_OPTIONS,a){const{clipboard:l,clipboardOptions:c,katex:d,katexOptions:u,mermaid:h,mermaidOptions:f}=s;d&&this.renderKatex(i,{...this.DEFAULT_KATEX_OPTIONS,...u}),h&&this.renderMermaid(i,{...this.DEFAULT_MERMAID_OPTIONS,...this.mermaidOptions,...f}),l&&this.renderClipboard(i,a,{...this.DEFAULT_CLIPBOARD_OPTIONS,...this.clipboardOptions,...c}),this.highlight(i)}reload(){this._reload$.next()}getSource(i){if(!this.http)throw new Error("[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information");return this.http.get(i,{responseType:"text"}).pipe(je(s=>this.handleExtension(i,s)))}highlight(i){if(!Jl(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;i||(i=document);const s=i.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(s,a=>a.classList.add("language-none")),Prism.highlightAllUnder(i)}decodeHtml(i){if(!Jl(this.platform))return i;const s=document.createElement("textarea");return s.innerHTML=i,s.value}extendsRendererForExtensions(i){const s=i;return!0===s.\u0275NgxMarkdownRendererExtendedForExtensions||(this.extensions?.length>0&&ii.use(...this.extensions),s.\u0275NgxMarkdownRendererExtendedForExtensions=!0),i}extendsRendererForMermaid(i){const s=i;if(!0===s.\u0275NgxMarkdownRendererExtendedForMermaid)return i;const a=i.code;return i.code=l=>"mermaid"===l.lang?`<div class="mermaid">${l.text}</div>`:a(l),s.\u0275NgxMarkdownRendererExtendedForMermaid=!0,i}handleExtension(i,s){const a=i.lastIndexOf("://"),l=a>-1?i.substring(a+4):i,c=l.lastIndexOf("/"),d=c>-1?l.substring(c+1).split("?")[0]:"",u=d.lastIndexOf("."),h=u>-1?d.substring(u+1):"";return h&&"md"!==h?"```"+h+"\n"+s+"\n```":s}parseMarked(i,s,a=!1){if(s.renderer){const l={...s.renderer};delete l.\u0275NgxMarkdownRendererExtendedForExtensions,delete l.\u0275NgxMarkdownRendererExtendedForMermaid,delete s.renderer,ii.use({renderer:l})}return a?ii.parseInline(i,s):ii.parse(i,s)}parseEmoji(i){if(!Jl(this.platform))return i;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error("[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information");return joypixels.shortnameToUnicode(i)}renderKatex(i,s){if(Jl(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error("[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information");renderMathInElement(i,s)}}renderClipboard(i,s,a){if(!Jl(this.platform))return;if(typeof ClipboardJS>"u")throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information");if(!s)throw new Error("[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function");const{buttonComponent:l,buttonTemplate:c}=a,d=i.querySelectorAll("pre");for(let u=0;u<d.length;u++){const h=d.item(u),f=document.createElement("div");f.style.position="relative",h.parentNode.insertBefore(f,h),f.appendChild(h);const p=document.createElement("div");let g,m;if(p.classList.add("markdown-clipboard-toolbar"),p.style.position="absolute",p.style.top=".5em",p.style.right=".5em",p.style.zIndex="1",f.insertAdjacentElement("beforeend",p),f.onmouseenter=()=>p.classList.add("hover"),f.onmouseleave=()=>p.classList.remove("hover"),l){const _=s.createComponent(l);g=_.hostView,_.changeDetectorRef.markForCheck()}else if(c)g=s.createEmbeddedView(c);else{const _=s.createComponent(hW);g=_.hostView,_.changeDetectorRef.markForCheck()}g.rootNodes.forEach(_=>{p.appendChild(_),m=new ClipboardJS(_,{text:()=>h.innerText})}),g.onDestroy(()=>m.destroy())}}renderMermaid(i,s=this.DEFAULT_MERMAID_OPTIONS){if(!Jl(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error("[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information");const a=i.querySelectorAll(".mermaid");0!==a.length&&(mermaid.initialize(s),mermaid.run({nodes:a}))}trimIndentation(i){if(!i)return"";let s;return i.split("\n").map(a=>{let l=s;return a.length>0&&(l=isNaN(l)?a.search(/\S|$/):Math.min(a.search(/\S|$/),l)),isNaN(s)&&(s=l),l?a.substring(l):a}).join("\n")}static{this.\u0275fac=function(s){return new(s||r)($e(PMe,8),$e(fW,8),$e(OMe,8),$e(NMe,8),$e(Ql),$e(pW),$e(Bh,8),$e(Sv))}}static{this.\u0275prov=we({token:r,factory:r.\u0275fac})}}return r})(),Qm=(()=>{class r{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(i){this._disableSanitizer=this.coerceBooleanProperty(i)}get inline(){return this._inline}set inline(i){this._inline=this.coerceBooleanProperty(i)}get clipboard(){return this._clipboard}set clipboard(i){this._clipboard=this.coerceBooleanProperty(i)}get emoji(){return this._emoji}set emoji(i){this._emoji=this.coerceBooleanProperty(i)}get katex(){return this._katex}set katex(i){this._katex=this.coerceBooleanProperty(i)}get mermaid(){return this._mermaid}set mermaid(i){this._mermaid=this.coerceBooleanProperty(i)}get lineHighlight(){return this._lineHighlight}set lineHighlight(i){this._lineHighlight=this.coerceBooleanProperty(i)}get lineNumbers(){return this._lineNumbers}set lineNumbers(i){this._lineNumbers=this.coerceBooleanProperty(i)}get commandLine(){return this._commandLine}set commandLine(i){this._commandLine=this.coerceBooleanProperty(i)}constructor(i,s,a){this.element=i,this.markdownService=s,this.viewContainerRef=a,this.error=new ue,this.load=new ue,this.ready=new ue,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new Qe}ngOnChanges(){this.loadContent()}loadContent(){null==this.data?null==this.src||this.handleSrc():this.handleData()}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(Nn(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(i,s=!1){var a=this;return ke(function*(){const l={decodeHtml:s,inline:a.inline,emoji:a.emoji,mermaid:a.mermaid,disableSanitizer:a.disableSanitizer},c={clipboard:a.clipboard,clipboardOptions:a.getClipboardOptions(),katex:a.katex,katexOptions:a.katexOptions,mermaid:a.mermaid,mermaidOptions:a.mermaidOptions},d=yield a.markdownService.parse(i,l);a.element.nativeElement.innerHTML=d,a.handlePlugins(),a.markdownService.render(a.element.nativeElement,c,a.viewContainerRef),a.ready.emit()})()}coerceBooleanProperty(i){return null!=i&&"false"!=`${String(i)}`}getClipboardOptions(){if(this.clipboardButtonComponent||this.clipboardButtonTemplate)return{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate}}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:i=>{this.render(i).then(()=>{this.load.emit(i)})},error:i=>this.error.emit(i)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,BP.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,BP.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(i,s){const a=i.querySelectorAll("pre");for(let l=0;l<a.length;l++){const c=s instanceof Array?s:[s];a.item(l).classList.add(...c)}}setPluginOptions(i,s){const a=i.querySelectorAll("pre");for(let l=0;l<a.length;l++)Object.keys(s).forEach(c=>{const d=s[c];if(d){const u=this.toLispCase(c);a.item(l).setAttribute(u,d.toString())}})}toLispCase(i){const s=i.match(/([A-Z])/g);if(!s)return i;let a=i.toString();for(let l=0,c=s.length;l<c;l++)a=a.replace(new RegExp(s[l]),"-"+s[l].toLowerCase());return"-"===a.slice(0,1)&&(a=a.slice(1)),a}static{this.\u0275fac=function(s){return new(s||r)(me(Mt),me(LP),me(Ki))}}static{this.\u0275cmp=Ge({type:r,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},features:[vr],ngContentSelectors:DMe,decls:1,vars:0,template:function(s,a){1&s&&(lr(),cn(0))},encapsulation:2})}}return r})();function $Me(r){return[LP,r?.loader??[],r?.clipboardOptions??[],r?.markedOptions??[],r?.mermaidOptions??[],jMe(r?.markedExtensions)??[],{provide:pW,useValue:r?.sanitize??ps.HTML}]}function jMe(r){if(r)return r.reduce((n,i)=>{const s=function QMe(r){return null!=r&&null!=r.provide}(i)?{...i,multi:!0}:{provide:fW,useValue:i,multi:!0};return[...n,s]},[])}let Zh=(()=>{class r{static forRoot(i){return{ngModule:r,providers:[$Me(i)]}}static forChild(){return{ngModule:r}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[Im]})}}return r})();var _s_isObject=function WMe(r){return"object"==typeof r&&null!==r},_s_repeat=function XMe(r,n){var s,i="";for(s=0;s<n;s+=1)i+=r;return i},_s_isNegativeZero=function KMe(r){return 0===r&&Number.NEGATIVE_INFINITY===1/r};function _W(r,n){var i="",s=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(i+='in "'+r.mark.name+'" '),i+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!n&&r.mark.snippet&&(i+="\n\n"+r.mark.snippet),s+" "+i):s}function nb(r,n){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=n,this.message=_W(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(nb.prototype=Object.create(Error.prototype)).constructor=nb,nb.prototype.toString=function(n){return this.name+": "+_W(this,n)};var Po=nb;function UP(r,n,i,s,a){var l="",c="",d=Math.floor(a/2)-1;return s-n>d&&(n=s-d+(l=" ... ").length),i-s>d&&(i=s+d-(c=" ...").length),{str:l+r.slice(n,i).replace(/\t/g,"\u2192")+c,pos:s-n+l.length}}function zP(r,n){return _s_repeat(" ",n-r.length)+r}var oSe=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],aSe=["scalar","sequence","mapping"],Us=function cSe(r,n){if(n=n||{},Object.keys(n).forEach(function(i){if(-1===oSe.indexOf(i))throw new Po('Unknown option "'+i+'" is met in definition of "'+r+'" YAML type.')}),this.options=n,this.tag=r,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(i){return i},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=function lSe(r){var n={};return null!==r&&Object.keys(r).forEach(function(i){r[i].forEach(function(s){n[String(s)]=i})}),n}(n.styleAliases||null),-1===aSe.indexOf(this.kind))throw new Po('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')};function yW(r,n){var i=[];return r[n].forEach(function(s){var a=i.length;i.forEach(function(l,c){l.tag===s.tag&&l.kind===s.kind&&l.multi===s.multi&&(a=c)}),i[a]=s}),i}function VP(r){return this.extend(r)}VP.prototype.extend=function(n){var i=[],s=[];if(n instanceof Us)s.push(n);else if(Array.isArray(n))s=s.concat(n);else{if(!n||!Array.isArray(n.implicit)&&!Array.isArray(n.explicit))throw new Po("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.implicit&&(i=i.concat(n.implicit)),n.explicit&&(s=s.concat(n.explicit))}i.forEach(function(l){if(!(l instanceof Us))throw new Po("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&"scalar"!==l.loadKind)throw new Po("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new Po("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(l){if(!(l instanceof Us))throw new Po("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(VP.prototype);return a.implicit=(this.implicit||[]).concat(i),a.explicit=(this.explicit||[]).concat(s),a.compiledImplicit=yW(a,"implicit"),a.compiledExplicit=yW(a,"explicit"),a.compiledTypeMap=function dSe(){var n,i,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function s(a){a.multi?(r.multi[a.kind].push(a),r.multi.fallback.push(a)):r[a.kind][a.tag]=r.fallback[a.tag]=a}for(n=0,i=arguments.length;n<i;n+=1)arguments[n].forEach(s);return r}(a.compiledImplicit,a.compiledExplicit),a};var vW=VP,bW=new Us("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return null!==r?r:""}}),AW=new Us("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return null!==r?r:[]}}),xW=new Us("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return null!==r?r:{}}}),wW=new vW({explicit:[bW,AW,xW]}),CW=new Us("tag:yaml.org,2002:null",{kind:"scalar",resolve:function uSe(r){if(null===r)return!0;var n=r.length;return 1===n&&"~"===r||4===n&&("null"===r||"Null"===r||"NULL"===r)},construct:function hSe(){return null},predicate:function fSe(r){return null===r},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),EW=new Us("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function pSe(r){if(null===r)return!1;var n=r.length;return 4===n&&("true"===r||"True"===r||"TRUE"===r)||5===n&&("false"===r||"False"===r||"FALSE"===r)},construct:function mSe(r){return"true"===r||"True"===r||"TRUE"===r},predicate:function gSe(r){return"[object Boolean]"===Object.prototype.toString.call(r)},represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function _Se(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function ySe(r){return 48<=r&&r<=55}function vSe(r){return 48<=r&&r<=57}var MW=new Us("tag:yaml.org,2002:int",{kind:"scalar",resolve:function bSe(r){if(null===r)return!1;var a,n=r.length,i=0,s=!1;if(!n)return!1;if(("-"===(a=r[i])||"+"===a)&&(a=r[++i]),"0"===a){if(i+1===n)return!0;if("b"===(a=r[++i])){for(i++;i<n;i++)if("_"!==(a=r[i])){if("0"!==a&&"1"!==a)return!1;s=!0}return s&&"_"!==a}if("x"===a){for(i++;i<n;i++)if("_"!==(a=r[i])){if(!_Se(r.charCodeAt(i)))return!1;s=!0}return s&&"_"!==a}if("o"===a){for(i++;i<n;i++)if("_"!==(a=r[i])){if(!ySe(r.charCodeAt(i)))return!1;s=!0}return s&&"_"!==a}}if("_"===a)return!1;for(;i<n;i++)if("_"!==(a=r[i])){if(!vSe(r.charCodeAt(i)))return!1;s=!0}return!(!s||"_"===a)},construct:function ASe(r){var s,n=r,i=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),("-"===(s=n[0])||"+"===s)&&("-"===s&&(i=-1),s=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===s){if("b"===n[1])return i*parseInt(n.slice(2),2);if("x"===n[1])return i*parseInt(n.slice(2),16);if("o"===n[1])return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)},predicate:function xSe(r){return"[object Number]"===Object.prototype.toString.call(r)&&r%1==0&&!_s_isNegativeZero(r)},represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wSe=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),MSe=/^[-+]?[0-9]+e/,SW=new Us("tag:yaml.org,2002:float",{kind:"scalar",resolve:function CSe(r){return!(null===r||!wSe.test(r)||"_"===r[r.length-1])},construct:function ESe(r){var n,i;return i="-"===(n=r.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),".inf"===n?1===i?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===n?NaN:i*parseFloat(n,10)},predicate:function ISe(r){return"[object Number]"===Object.prototype.toString.call(r)&&(r%1!=0||_s_isNegativeZero(r))},represent:function SSe(r,n){var i;if(isNaN(r))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(_s_isNegativeZero(r))return"-0.0";return i=r.toString(10),MSe.test(i)?i.replace("e",".e"):i},defaultStyle:"lowercase"}),TW=wW.extend({implicit:[CW,EW,MW,SW]}),DW=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),RW=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),kW=new Us("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function TSe(r){return null!==r&&(null!==DW.exec(r)||null!==RW.exec(r))},construct:function DSe(r){var n,i,s,a,l,c,d,g,u=0,h=null;if(null===(n=DW.exec(r))&&(n=RW.exec(r)),null===n)throw new Error("Date resolve error");if(i=+n[1],s=+n[2]-1,a=+n[3],!n[4])return new Date(Date.UTC(i,s,a));if(l=+n[4],c=+n[5],d=+n[6],n[7]){for(u=n[7].slice(0,3);u.length<3;)u+="0";u=+u}return n[9]&&(h=6e4*(60*+n[10]+ +(n[11]||0)),"-"===n[9]&&(h=-h)),g=new Date(Date.UTC(i,s,a,l,c,d,u)),h&&g.setTime(g.getTime()-h),g},instanceOf:Date,represent:function RSe(r){return r.toISOString()}}),PW=new Us("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function kSe(r){return"<<"===r||null===r}}),HP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",FW=new Us("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function PSe(r){if(null===r)return!1;var n,i,s=0,a=r.length,l=HP;for(i=0;i<a;i++)if(!((n=l.indexOf(r.charAt(i)))>64)){if(n<0)return!1;s+=6}return s%8==0},construct:function FSe(r){var n,i,s=r.replace(/[\r\n=]/g,""),a=s.length,l=HP,c=0,d=[];for(n=0;n<a;n++)n%4==0&&n&&(d.push(c>>16&255),d.push(c>>8&255),d.push(255&c)),c=c<<6|l.indexOf(s.charAt(n));return 0==(i=a%4*6)?(d.push(c>>16&255),d.push(c>>8&255),d.push(255&c)):18===i?(d.push(c>>10&255),d.push(c>>2&255)):12===i&&d.push(c>>4&255),new Uint8Array(d)},predicate:function NSe(r){return"[object Uint8Array]"===Object.prototype.toString.call(r)},represent:function OSe(r){var s,a,n="",i=0,l=r.length,c=HP;for(s=0;s<l;s++)s%3==0&&s&&(n+=c[i>>18&63],n+=c[i>>12&63],n+=c[i>>6&63],n+=c[63&i]),i=(i<<8)+r[s];return 0==(a=l%3)?(n+=c[i>>18&63],n+=c[i>>12&63],n+=c[i>>6&63],n+=c[63&i]):2===a?(n+=c[i>>10&63],n+=c[i>>4&63],n+=c[i<<2&63],n+=c[64]):1===a&&(n+=c[i>>2&63],n+=c[i<<4&63],n+=c[64],n+=c[64]),n}}),BSe=Object.prototype.hasOwnProperty,LSe=Object.prototype.toString,OW=new Us("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function USe(r){if(null===r)return!0;var i,s,a,l,c,n=[],d=r;for(i=0,s=d.length;i<s;i+=1){if(c=!1,"[object Object]"!==LSe.call(a=d[i]))return!1;for(l in a)if(BSe.call(a,l)){if(c)return!1;c=!0}if(!c)return!1;if(-1!==n.indexOf(l))return!1;n.push(l)}return!0},construct:function zSe(r){return null!==r?r:[]}}),VSe=Object.prototype.toString,NW=new Us("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function HSe(r){if(null===r)return!0;var n,i,s,a,l,c=r;for(l=new Array(c.length),n=0,i=c.length;n<i;n+=1){if("[object Object]"!==VSe.call(s=c[n])||1!==(a=Object.keys(s)).length)return!1;l[n]=[a[0],s[a[0]]]}return!0},construct:function GSe(r){if(null===r)return[];var n,i,s,a,l,c=r;for(l=new Array(c.length),n=0,i=c.length;n<i;n+=1)s=c[n],a=Object.keys(s),l[n]=[a[0],s[a[0]]];return l}}),$Se=Object.prototype.hasOwnProperty,BW=new Us("tag:yaml.org,2002:set",{kind:"mapping",resolve:function QSe(r){if(null===r)return!0;var n,i=r;for(n in i)if($Se.call(i,n)&&null!==i[n])return!1;return!0},construct:function jSe(r){return null!==r?r:{}}}),GP=TW.extend({implicit:[kW,PW],explicit:[FW,OW,NW,BW]}),vu=Object.prototype.hasOwnProperty,qSe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,YSe=/[\x85\u2028\u2029]/,XSe=/[,\[\]\{\}]/,VW=/^(?:!|!!|![a-z\-]+!)$/i,HW=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function GW(r){return Object.prototype.toString.call(r)}function cc(r){return 10===r||13===r}function Jh(r){return 9===r||32===r}function oa(r){return 9===r||32===r||10===r||13===r}function jm(r){return 44===r||91===r||93===r||123===r||125===r}function KSe(r){var n;return 48<=r&&r<=57?r-48:97<=(n=32|r)&&n<=102?n-97+10:-1}function ZSe(r){return 120===r?2:117===r?4:85===r?8:0}function JSe(r){return 48<=r&&r<=57?r-48:-1}function $W(r){return 48===r?"\0":97===r?"\x07":98===r?"\b":116===r||9===r?"\t":110===r?"\n":118===r?"\v":102===r?"\f":114===r?"\r":101===r?"\x1b":32===r?" ":34===r?'"':47===r?"/":92===r?"\\":78===r?"\x85":95===r?"\xa0":76===r?"\u2028":80===r?"\u2029":""}function eIe(r){return r<=65535?String.fromCharCode(r):String.fromCharCode(55296+(r-65536>>10),56320+(r-65536&1023))}for(var QW=new Array(256),jW=new Array(256),Wm=0;Wm<256;Wm++)QW[Wm]=$W(Wm)?1:0,jW[Wm]=$W(Wm);function tIe(r,n){this.input=r,this.filename=n.filename||null,this.schema=n.schema||GP,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=r.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function WW(r,n){var i={name:r.filename,buffer:r.input.slice(0,-1),position:r.position,line:r.line,column:r.position-r.lineStart};return i.snippet=function rSe(r,n){if(n=Object.create(n||null),!r.buffer)return null;n.maxLength||(n.maxLength=79),"number"!=typeof n.indent&&(n.indent=1),"number"!=typeof n.linesBefore&&(n.linesBefore=3),"number"!=typeof n.linesAfter&&(n.linesAfter=2);for(var l,i=/\r?\n|\r|\0/g,s=[0],a=[],c=-1;l=i.exec(r.buffer);)a.push(l.index),s.push(l.index+l[0].length),r.position<=l.index&&c<0&&(c=s.length-2);c<0&&(c=s.length-1);var u,h,d="",f=Math.min(r.line+n.linesAfter,a.length).toString().length,p=n.maxLength-(n.indent+f+3);for(u=1;u<=n.linesBefore&&!(c-u<0);u++)h=UP(r.buffer,s[c-u],a[c-u],r.position-(s[c]-s[c-u]),p),d=_s_repeat(" ",n.indent)+zP((r.line-u+1).toString(),f)+" | "+h.str+"\n"+d;for(h=UP(r.buffer,s[c],a[c],r.position,p),d+=_s_repeat(" ",n.indent)+zP((r.line+1).toString(),f)+" | "+h.str+"\n",d+=_s_repeat("-",n.indent+f+3+h.pos)+"^\n",u=1;u<=n.linesAfter&&!(c+u>=a.length);u++)h=UP(r.buffer,s[c+u],a[c+u],r.position-(s[c]-s[c+u]),p),d+=_s_repeat(" ",n.indent)+zP((r.line+u+1).toString(),f)+" | "+h.str+"\n";return d.replace(/\n$/,"")}(i),new Po(n,i)}function kt(r,n){throw WW(r,n)}function UC(r,n){r.onWarning&&r.onWarning.call(null,WW(r,n))}var qW={YAML:function(n,i,s){var a,l,c;null!==n.version&&kt(n,"duplication of %YAML directive"),1!==s.length&&kt(n,"YAML directive accepts exactly one argument"),null===(a=/^([0-9]+)\.([0-9]+)$/.exec(s[0]))&&kt(n,"ill-formed argument of the YAML directive"),l=parseInt(a[1],10),c=parseInt(a[2],10),1!==l&&kt(n,"unacceptable YAML version of the document"),n.version=s[0],n.checkLineBreaks=c<2,1!==c&&2!==c&&UC(n,"unsupported YAML version of the document")},TAG:function(n,i,s){var a,l;2!==s.length&&kt(n,"TAG directive accepts exactly two arguments"),l=s[1],VW.test(a=s[0])||kt(n,"ill-formed tag handle (first argument) of the TAG directive"),vu.call(n.tagMap,a)&&kt(n,'there is a previously declared suffix for "'+a+'" tag handle'),HW.test(l)||kt(n,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{kt(n,"tag prefix is malformed: "+l)}n.tagMap[a]=l}};function bu(r,n,i,s){var a,l,c,d;if(n<i){if(d=r.input.slice(n,i),s)for(a=0,l=d.length;a<l;a+=1)9===(c=d.charCodeAt(a))||32<=c&&c<=1114111||kt(r,"expected valid JSON character");else qSe.test(d)&&kt(r,"the stream contains non-printable characters");r.result+=d}}function YW(r,n,i,s){var a,l,c,d;for(_s_isObject(i)||kt(r,"cannot merge mappings; the provided source object is unacceptable"),c=0,d=(a=Object.keys(i)).length;c<d;c+=1)vu.call(n,l=a[c])||(n[l]=i[l],s[l]=!0)}function qm(r,n,i,s,a,l,c,d,u){var h,f;if(Array.isArray(a))for(h=0,f=(a=Array.prototype.slice.call(a)).length;h<f;h+=1)Array.isArray(a[h])&&kt(r,"nested arrays are not supported inside keys"),"object"==typeof a&&"[object Object]"===GW(a[h])&&(a[h]="[object Object]");if("object"==typeof a&&"[object Object]"===GW(a)&&(a="[object Object]"),a=String(a),null===n&&(n={}),"tag:yaml.org,2002:merge"===s)if(Array.isArray(l))for(h=0,f=l.length;h<f;h+=1)YW(r,n,l[h],i);else YW(r,n,l,i);else!r.json&&!vu.call(i,a)&&vu.call(n,a)&&(r.line=c||r.line,r.lineStart=d||r.lineStart,r.position=u||r.position,kt(r,"duplicated mapping key")),"__proto__"===a?Object.defineProperty(n,a,{configurable:!0,enumerable:!0,writable:!0,value:l}):n[a]=l,delete i[a];return n}function QP(r){var n;10===(n=r.input.charCodeAt(r.position))?r.position++:13===n?(r.position++,10===r.input.charCodeAt(r.position)&&r.position++):kt(r,"a line break is expected"),r.line+=1,r.lineStart=r.position,r.firstTabInLine=-1}function ns(r,n,i){for(var s=0,a=r.input.charCodeAt(r.position);0!==a;){for(;Jh(a);)9===a&&-1===r.firstTabInLine&&(r.firstTabInLine=r.position),a=r.input.charCodeAt(++r.position);if(n&&35===a)do{a=r.input.charCodeAt(++r.position)}while(10!==a&&13!==a&&0!==a);if(!cc(a))break;for(QP(r),a=r.input.charCodeAt(r.position),s++,r.lineIndent=0;32===a;)r.lineIndent++,a=r.input.charCodeAt(++r.position)}return-1!==i&&0!==s&&r.lineIndent<i&&UC(r,"deficient indentation"),s}function zC(r){var i,n=r.position;return!(45!==(i=r.input.charCodeAt(n))&&46!==i||i!==r.input.charCodeAt(n+1)||i!==r.input.charCodeAt(n+2)||(n+=3,i=r.input.charCodeAt(n),0!==i&&!oa(i)))}function jP(r,n){1===n?r.result+=" ":n>1&&(r.result+=_s_repeat("\n",n-1))}function XW(r,n){var i,u,s=r.tag,a=r.anchor,l=[],d=!1;if(-1!==r.firstTabInLine)return!1;for(null!==r.anchor&&(r.anchorMap[r.anchor]=l),u=r.input.charCodeAt(r.position);0!==u&&(-1!==r.firstTabInLine&&(r.position=r.firstTabInLine,kt(r,"tab characters must not be used in indentation")),45===u&&oa(r.input.charCodeAt(r.position+1)));)if(d=!0,r.position++,ns(r,!0,-1)&&r.lineIndent<=n)l.push(null),u=r.input.charCodeAt(r.position);else if(i=r.line,Ym(r,n,3,!1,!0),l.push(r.result),ns(r,!0,-1),u=r.input.charCodeAt(r.position),(r.line===i||r.lineIndent>n)&&0!==u)kt(r,"bad indentation of a sequence entry");else if(r.lineIndent<n)break;return!!d&&(r.tag=s,r.anchor=a,r.kind="sequence",r.result=l,!0)}function lIe(r){var n,a,l,c,i=!1,s=!1;if(33!==(c=r.input.charCodeAt(r.position)))return!1;if(null!==r.tag&&kt(r,"duplication of a tag property"),60===(c=r.input.charCodeAt(++r.position))?(i=!0,c=r.input.charCodeAt(++r.position)):33===c?(s=!0,a="!!",c=r.input.charCodeAt(++r.position)):a="!",n=r.position,i){do{c=r.input.charCodeAt(++r.position)}while(0!==c&&62!==c);r.position<r.length?(l=r.input.slice(n,r.position),c=r.input.charCodeAt(++r.position)):kt(r,"unexpected end of the stream within a verbatim tag")}else{for(;0!==c&&!oa(c);)33===c&&(s?kt(r,"tag suffix cannot contain exclamation marks"):(a=r.input.slice(n-1,r.position+1),VW.test(a)||kt(r,"named tag handle cannot contain such characters"),s=!0,n=r.position+1)),c=r.input.charCodeAt(++r.position);l=r.input.slice(n,r.position),XSe.test(l)&&kt(r,"tag suffix cannot contain flow indicator characters")}l&&!HW.test(l)&&kt(r,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{kt(r,"tag name is malformed: "+l)}return i?r.tag=l:vu.call(r.tagMap,a)?r.tag=r.tagMap[a]+l:"!"===a?r.tag="!"+l:"!!"===a?r.tag="tag:yaml.org,2002:"+l:kt(r,'undeclared tag handle "'+a+'"'),!0}function cIe(r){var n,i;if(38!==(i=r.input.charCodeAt(r.position)))return!1;for(null!==r.anchor&&kt(r,"duplication of an anchor property"),i=r.input.charCodeAt(++r.position),n=r.position;0!==i&&!oa(i)&&!jm(i);)i=r.input.charCodeAt(++r.position);return r.position===n&&kt(r,"name of an anchor node must contain at least one character"),r.anchor=r.input.slice(n,r.position),!0}function Ym(r,n,i,s,a){var l,c,d,p,g,m,_,v,y,u=1,h=!1,f=!1;if(null!==r.listener&&r.listener("open",r),r.tag=null,r.anchor=null,r.kind=null,r.result=null,l=c=d=4===i||3===i,s&&ns(r,!0,-1)&&(h=!0,r.lineIndent>n?u=1:r.lineIndent===n?u=0:r.lineIndent<n&&(u=-1)),1===u)for(;lIe(r)||cIe(r);)ns(r,!0,-1)?(h=!0,d=l,r.lineIndent>n?u=1:r.lineIndent===n?u=0:r.lineIndent<n&&(u=-1)):d=!1;if(d&&(d=h||a),(1===u||4===i)&&(v=1===i||2===i?n:n+1,y=r.position-r.lineStart,1===u?d&&(XW(r,y)||function aIe(r,n,i){var s,a,l,c,d,u,A,h=r.tag,f=r.anchor,p={},g=Object.create(null),m=null,_=null,v=null,y=!1,b=!1;if(-1!==r.firstTabInLine)return!1;for(null!==r.anchor&&(r.anchorMap[r.anchor]=p),A=r.input.charCodeAt(r.position);0!==A;){if(!y&&-1!==r.firstTabInLine&&(r.position=r.firstTabInLine,kt(r,"tab characters must not be used in indentation")),s=r.input.charCodeAt(r.position+1),l=r.line,63!==A&&58!==A||!oa(s)){if(c=r.line,d=r.lineStart,u=r.position,!Ym(r,i,2,!1,!0))break;if(r.line===l){for(A=r.input.charCodeAt(r.position);Jh(A);)A=r.input.charCodeAt(++r.position);if(58===A)oa(A=r.input.charCodeAt(++r.position))||kt(r,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(qm(r,p,g,m,_,null,c,d,u),m=_=v=null),b=!0,y=!1,a=!1,m=r.tag,_=r.result;else{if(!b)return r.tag=h,r.anchor=f,!0;kt(r,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return r.tag=h,r.anchor=f,!0;kt(r,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===A?(y&&(qm(r,p,g,m,_,null,c,d,u),m=_=v=null),b=!0,y=!0,a=!0):y?(y=!1,a=!0):kt(r,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),r.position+=1,A=s;if((r.line===l||r.lineIndent>n)&&(y&&(c=r.line,d=r.lineStart,u=r.position),Ym(r,n,4,!0,a)&&(y?_=r.result:v=r.result),y||(qm(r,p,g,m,_,v,c,d,u),m=_=v=null),ns(r,!0,-1),A=r.input.charCodeAt(r.position)),(r.line===l||r.lineIndent>n)&&0!==A)kt(r,"bad indentation of a mapping entry");else if(r.lineIndent<n)break}return y&&qm(r,p,g,m,_,null,c,d,u),b&&(r.tag=h,r.anchor=f,r.kind="mapping",r.result=p),b}(r,y,v))||function sIe(r,n){var s,a,l,d,f,p,g,m,v,y,b,A,i=!0,c=r.tag,u=r.anchor,_=Object.create(null);if(91===(A=r.input.charCodeAt(r.position)))f=93,m=!1,d=[];else{if(123!==A)return!1;f=125,m=!0,d={}}for(null!==r.anchor&&(r.anchorMap[r.anchor]=d),A=r.input.charCodeAt(++r.position);0!==A;){if(ns(r,!0,n),(A=r.input.charCodeAt(r.position))===f)return r.position++,r.tag=c,r.anchor=u,r.kind=m?"mapping":"sequence",r.result=d,!0;i?44===A&&kt(r,"expected the node content, but found ','"):kt(r,"missed comma between flow collection entries"),b=null,p=g=!1,63===A&&oa(r.input.charCodeAt(r.position+1))&&(p=g=!0,r.position++,ns(r,!0,n)),s=r.line,a=r.lineStart,l=r.position,Ym(r,n,1,!1,!0),y=r.tag,v=r.result,ns(r,!0,n),A=r.input.charCodeAt(r.position),(g||r.line===s)&&58===A&&(p=!0,A=r.input.charCodeAt(++r.position),ns(r,!0,n),Ym(r,n,1,!1,!0),b=r.result),m?qm(r,d,_,y,v,b,s,a,l):d.push(p?qm(r,null,_,y,v,b,s,a,l):v),ns(r,!0,n),44===(A=r.input.charCodeAt(r.position))?(i=!0,A=r.input.charCodeAt(++r.position)):i=!1}kt(r,"unexpected end of the stream within a flow collection")}(r,v)?f=!0:(c&&function oIe(r,n){var i,s,f,p,a=1,l=!1,c=!1,d=n,u=0,h=!1;if(124===(p=r.input.charCodeAt(r.position)))s=!1;else{if(62!==p)return!1;s=!0}for(r.kind="scalar",r.result="";0!==p;)if(43===(p=r.input.charCodeAt(++r.position))||45===p)1===a?a=43===p?3:2:kt(r,"repeat of a chomping mode identifier");else{if(!((f=JSe(p))>=0))break;0===f?kt(r,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?kt(r,"repeat of an indentation width identifier"):(d=n+f-1,c=!0)}if(Jh(p)){do{p=r.input.charCodeAt(++r.position)}while(Jh(p));if(35===p)do{p=r.input.charCodeAt(++r.position)}while(!cc(p)&&0!==p)}for(;0!==p;){for(QP(r),r.lineIndent=0,p=r.input.charCodeAt(r.position);(!c||r.lineIndent<d)&&32===p;)r.lineIndent++,p=r.input.charCodeAt(++r.position);if(!c&&r.lineIndent>d&&(d=r.lineIndent),cc(p))u++;else{if(r.lineIndent<d){3===a?r.result+=_s_repeat("\n",l?1+u:u):1===a&&l&&(r.result+="\n");break}for(s?Jh(p)?(h=!0,r.result+=_s_repeat("\n",l?1+u:u)):h?(h=!1,r.result+=_s_repeat("\n",u+1)):0===u?l&&(r.result+=" "):r.result+=_s_repeat("\n",u):r.result+=_s_repeat("\n",l?1+u:u),l=!0,c=!0,u=0,i=r.position;!cc(p)&&0!==p;)p=r.input.charCodeAt(++r.position);bu(r,i,r.position,!1)}}return!0}(r,v)||function iIe(r,n){var i,s,a;if(39!==(i=r.input.charCodeAt(r.position)))return!1;for(r.kind="scalar",r.result="",r.position++,s=a=r.position;0!==(i=r.input.charCodeAt(r.position));)if(39===i){if(bu(r,s,r.position,!0),39!==(i=r.input.charCodeAt(++r.position)))return!0;s=r.position,r.position++,a=r.position}else cc(i)?(bu(r,s,a,!0),jP(r,ns(r,!1,n)),s=a=r.position):r.position===r.lineStart&&zC(r)?kt(r,"unexpected end of the document within a single quoted scalar"):(r.position++,a=r.position);kt(r,"unexpected end of the stream within a single quoted scalar")}(r,v)||function rIe(r,n){var i,s,a,l,c,d;if(34!==(d=r.input.charCodeAt(r.position)))return!1;for(r.kind="scalar",r.result="",r.position++,i=s=r.position;0!==(d=r.input.charCodeAt(r.position));){if(34===d)return bu(r,i,r.position,!0),r.position++,!0;if(92===d){if(bu(r,i,r.position,!0),cc(d=r.input.charCodeAt(++r.position)))ns(r,!1,n);else if(d<256&&QW[d])r.result+=jW[d],r.position++;else if((c=ZSe(d))>0){for(a=c,l=0;a>0;a--)(c=KSe(d=r.input.charCodeAt(++r.position)))>=0?l=(l<<4)+c:kt(r,"expected hexadecimal character");r.result+=eIe(l),r.position++}else kt(r,"unknown escape sequence");i=s=r.position}else cc(d)?(bu(r,i,s,!0),jP(r,ns(r,!1,n)),i=s=r.position):r.position===r.lineStart&&zC(r)?kt(r,"unexpected end of the document within a double quoted scalar"):(r.position++,s=r.position)}kt(r,"unexpected end of the stream within a double quoted scalar")}(r,v)?f=!0:function dIe(r){var n,i,s;if(42!==(s=r.input.charCodeAt(r.position)))return!1;for(s=r.input.charCodeAt(++r.position),n=r.position;0!==s&&!oa(s)&&!jm(s);)s=r.input.charCodeAt(++r.position);return r.position===n&&kt(r,"name of an alias node must contain at least one character"),i=r.input.slice(n,r.position),vu.call(r.anchorMap,i)||kt(r,'unidentified alias "'+i+'"'),r.result=r.anchorMap[i],ns(r,!0,-1),!0}(r)?(f=!0,(null!==r.tag||null!==r.anchor)&&kt(r,"alias node should not have any properties")):function nIe(r,n,i){var a,l,c,d,u,h,f,m,p=r.kind,g=r.result;if(oa(m=r.input.charCodeAt(r.position))||jm(m)||35===m||38===m||42===m||33===m||124===m||62===m||39===m||34===m||37===m||64===m||96===m||(63===m||45===m)&&(oa(a=r.input.charCodeAt(r.position+1))||i&&jm(a)))return!1;for(r.kind="scalar",r.result="",l=c=r.position,d=!1;0!==m;){if(58===m){if(oa(a=r.input.charCodeAt(r.position+1))||i&&jm(a))break}else if(35===m){if(oa(r.input.charCodeAt(r.position-1)))break}else{if(r.position===r.lineStart&&zC(r)||i&&jm(m))break;if(cc(m)){if(u=r.line,h=r.lineStart,f=r.lineIndent,ns(r,!1,-1),r.lineIndent>=n){d=!0,m=r.input.charCodeAt(r.position);continue}r.position=c,r.line=u,r.lineStart=h,r.lineIndent=f;break}}d&&(bu(r,l,c,!1),jP(r,r.line-u),l=c=r.position,d=!1),Jh(m)||(c=r.position+1),m=r.input.charCodeAt(++r.position)}return bu(r,l,c,!1),!!r.result||(r.kind=p,r.result=g,!1)}(r,v,1===i)&&(f=!0,null===r.tag&&(r.tag="?")),null!==r.anchor&&(r.anchorMap[r.anchor]=r.result)):0===u&&(f=d&&XW(r,y))),null===r.tag)null!==r.anchor&&(r.anchorMap[r.anchor]=r.result);else if("?"===r.tag){for(null!==r.result&&"scalar"!==r.kind&&kt(r,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+r.kind+'"'),p=0,g=r.implicitTypes.length;p<g;p+=1)if((_=r.implicitTypes[p]).resolve(r.result)){r.result=_.construct(r.result),r.tag=_.tag,null!==r.anchor&&(r.anchorMap[r.anchor]=r.result);break}}else if("!"!==r.tag){if(vu.call(r.typeMap[r.kind||"fallback"],r.tag))_=r.typeMap[r.kind||"fallback"][r.tag];else for(_=null,p=0,g=(m=r.typeMap.multi[r.kind||"fallback"]).length;p<g;p+=1)if(r.tag.slice(0,m[p].tag.length)===m[p].tag){_=m[p];break}_||kt(r,"unknown tag !<"+r.tag+">"),null!==r.result&&_.kind!==r.kind&&kt(r,"unacceptable node kind for !<"+r.tag+'> tag; it should be "'+_.kind+'", not "'+r.kind+'"'),_.resolve(r.result,r.tag)?(r.result=_.construct(r.result,r.tag),null!==r.anchor&&(r.anchorMap[r.anchor]=r.result)):kt(r,"cannot resolve a node with !<"+r.tag+"> explicit tag")}return null!==r.listener&&r.listener("close",r),null!==r.tag||null!==r.anchor||f}function uIe(r){var i,s,a,c,n=r.position,l=!1;for(r.version=null,r.checkLineBreaks=r.legacy,r.tagMap=Object.create(null),r.anchorMap=Object.create(null);0!==(c=r.input.charCodeAt(r.position))&&(ns(r,!0,-1),c=r.input.charCodeAt(r.position),!(r.lineIndent>0||37!==c));){for(l=!0,c=r.input.charCodeAt(++r.position),i=r.position;0!==c&&!oa(c);)c=r.input.charCodeAt(++r.position);for(a=[],(s=r.input.slice(i,r.position)).length<1&&kt(r,"directive name must not be less than one character in length");0!==c;){for(;Jh(c);)c=r.input.charCodeAt(++r.position);if(35===c){do{c=r.input.charCodeAt(++r.position)}while(0!==c&&!cc(c));break}if(cc(c))break;for(i=r.position;0!==c&&!oa(c);)c=r.input.charCodeAt(++r.position);a.push(r.input.slice(i,r.position))}0!==c&&QP(r),vu.call(qW,s)?qW[s](r,s,a):UC(r,'unknown document directive "'+s+'"')}ns(r,!0,-1),0===r.lineIndent&&45===r.input.charCodeAt(r.position)&&45===r.input.charCodeAt(r.position+1)&&45===r.input.charCodeAt(r.position+2)?(r.position+=3,ns(r,!0,-1)):l&&kt(r,"directives end mark is expected"),Ym(r,r.lineIndent-1,4,!1,!0),ns(r,!0,-1),r.checkLineBreaks&&YSe.test(r.input.slice(n,r.position))&&UC(r,"non-ASCII line breaks are interpreted as content"),r.documents.push(r.result),r.position===r.lineStart&&zC(r)?46===r.input.charCodeAt(r.position)&&(r.position+=3,ns(r,!0,-1)):r.position<r.length-1&&kt(r,"end of the stream or a document separator is expected")}function KW(r,n){n=n||{},0!==(r=String(r)).length&&(10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),65279===r.charCodeAt(0)&&(r=r.slice(1)));var i=new tIe(r,n),s=r.indexOf("\0");for(-1!==s&&(i.position=s,kt(i,"null byte is not allowed in input")),i.input+="\0";32===i.input.charCodeAt(i.position);)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)uIe(i);return i.documents}var ZW_load=function fIe(r,n){var i=KW(r,n);if(0!==i.length){if(1===i.length)return i[0];throw new Po("expected a single document in the stream, but found more")}};function ZP(r,n){return function(){throw new Error("Function yaml."+r+" is removed in js-yaml 4. Use yaml."+n+" instead, which is now safe by default.")}}var Qn,r,y9=ZW_load;ZP("safeLoad","load"),ZP("safeLoadAll","loadAll"),ZP("safeDump","dump"),(r=Qn||(Qn={})).assertEqual=a=>a,r.assertIs=function n(a){},r.assertNever=function i(a){throw new Error},r.arrayToEnum=a=>{const l={};for(const c of a)l[c]=c;return l},r.getValidEnumValues=a=>{const l=r.objectKeys(a).filter(d=>"number"!=typeof a[a[d]]),c={};for(const d of l)c[d]=a[d];return r.objectValues(c)},r.objectValues=a=>r.objectKeys(a).map(function(l){return a[l]}),r.objectKeys="function"==typeof Object.keys?a=>Object.keys(a):a=>{const l=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&l.push(c);return l},r.find=(a,l)=>{for(const c of a)if(l(c))return c},r.isInteger="function"==typeof Number.isInteger?a=>Number.isInteger(a):a=>"number"==typeof a&&isFinite(a)&&Math.floor(a)===a,r.joinValues=function s(a,l=" | "){return a.map(c=>"string"==typeof c?`'${c}'`:c).join(l)},r.jsonStringifyReplacer=(a,l)=>"bigint"==typeof l?l.toString():l;var v9=function(r){return r.mergeShapes=(n,i)=>({...n,...i}),r}(v9||{});const it=Qn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ld=r=>{switch(typeof r){case"undefined":return it.undefined;case"string":return it.string;case"number":return isNaN(r)?it.nan:it.number;case"boolean":return it.boolean;case"function":return it.function;case"bigint":return it.bigint;case"symbol":return it.symbol;case"object":return Array.isArray(r)?it.array:null===r?it.null:r.then&&"function"==typeof r.then&&r.catch&&"function"==typeof r.catch?it.promise:typeof Map<"u"&&r instanceof Map?it.map:typeof Set<"u"&&r instanceof Set?it.set:typeof Date<"u"&&r instanceof Date?it.date:it.object;default:return it.unknown}},Re=Qn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let cd=(()=>{class r extends Error{get errors(){return this.issues}constructor(i){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=i}format(i){const s=i||function(c){return c.message},a={_errors:[]},l=c=>{for(const d of c.issues)if("invalid_union"===d.code)d.unionErrors.map(l);else if("invalid_return_type"===d.code)l(d.returnTypeError);else if("invalid_arguments"===d.code)l(d.argumentsError);else if(0===d.path.length)a._errors.push(s(d));else{let u=a,h=0;for(;h<d.path.length;){const f=d.path[h];h===d.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(s(d))):u[f]=u[f]||{_errors:[]},u=u[f],h++}}};return l(this),a}static assert(i){if(!(i instanceof r))throw new Error(`Not a ZodError: ${i}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qn.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(i=s=>s.message){const s={},a=[];for(const l of this.issues)l.path.length>0?(s[l.path[0]]=s[l.path[0]]||[],s[l.path[0]].push(i(l))):a.push(i(l));return{formErrors:a,fieldErrors:s}}get formErrors(){return this.flatten()}}return r.create=n=>new r(n),r})();const Km=(r,n)=>{let i;switch(r.code){case Re.invalid_type:i=r.received===it.undefined?"Required":`Expected ${r.expected}, received ${r.received}`;break;case Re.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(r.expected,Qn.jsonStringifyReplacer)}`;break;case Re.unrecognized_keys:i=`Unrecognized key(s) in object: ${Qn.joinValues(r.keys,", ")}`;break;case Re.invalid_union:i="Invalid input";break;case Re.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Qn.joinValues(r.options)}`;break;case Re.invalid_enum_value:i=`Invalid enum value. Expected ${Qn.joinValues(r.options)}, received '${r.received}'`;break;case Re.invalid_arguments:i="Invalid function arguments";break;case Re.invalid_return_type:i="Invalid function return type";break;case Re.invalid_date:i="Invalid date";break;case Re.invalid_string:"object"==typeof r.validation?"includes"in r.validation?(i=`Invalid input: must include "${r.validation.includes}"`,"number"==typeof r.validation.position&&(i=`${i} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?i=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?i=`Invalid input: must end with "${r.validation.endsWith}"`:Qn.assertNever(r.validation):i="regex"!==r.validation?`Invalid ${r.validation}`:"Invalid";break;case Re.too_small:i="array"===r.type?`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:"string"===r.type?`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:"number"===r.type?`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:"date"===r.type?`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:"Invalid input";break;case Re.too_big:i="array"===r.type?`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:"string"===r.type?`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:"number"===r.type?`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:"bigint"===r.type?`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:"date"===r.type?`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:"Invalid input";break;case Re.custom:i="Invalid input";break;case Re.invalid_intersection_types:i="Intersection results could not be merged";break;case Re.not_multiple_of:i=`Number must be a multiple of ${r.multipleOf}`;break;case Re.not_finite:i="Number must be finite";break;default:i=n.defaultError,Qn.assertNever(r)}return{message:i}};let b9=Km;function GC(){return b9}const $C=r=>{const{data:n,path:i,errorMaps:s,issueData:a}=r,l=[...i,...a.path||[]],c={...a,path:l};if(void 0!==a.message)return{...a,path:l,message:a.message};let d="";const u=s.filter(h=>!!h).slice().reverse();for(const h of u)d=h(c,{data:n,defaultError:d}).message;return{...a,path:l,message:d}};function Ye(r,n){const i=GC(),s=$C({issueData:n,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,i,i===Km?void 0:Km].filter(a=>!!a)});r.common.issues.push(s)}class Js{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(n,i){const s=[];for(const a of i){if("aborted"===a.status)return Kt;"dirty"===a.status&&n.dirty(),s.push(a.value)}return{status:n.value,value:s}}static mergeObjectAsync(n,i){return ke(function*(){const s=[];for(const a of i){const l=yield a.key,c=yield a.value;s.push({key:l,value:c})}return Js.mergeObjectSync(n,s)})()}static mergeObjectSync(n,i){const s={};for(const a of i){const{key:l,value:c}=a;if("aborted"===l.status||"aborted"===c.status)return Kt;"dirty"===l.status&&n.dirty(),"dirty"===c.status&&n.dirty(),"__proto__"!==l.value&&(typeof c.value<"u"||a.alwaysSet)&&(s[l.value]=c.value)}return{status:n.value,value:s}}}const Kt=Object.freeze({status:"aborted"}),Zm=r=>({status:"dirty",value:r}),Fo=r=>({status:"valid",value:r}),JP=r=>"aborted"===r.status,eF=r=>"dirty"===r.status,ef=r=>"valid"===r.status,ab=r=>typeof Promise<"u"&&r instanceof Promise;function QC(r,n,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof n?r!==n||!s:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(r):s?s.value:n.get(r)}function A9(r,n,i,s,a){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof n?r!==n||!a:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(r,i):a?a.value=i:n.set(r,i),i}"function"==typeof SuppressedError&&SuppressedError;var lb,cb,wt=function(r){return r.errToObj=n=>"string"==typeof n?{message:n}:n||{},r.toString=n=>"string"==typeof n?n:n?.message,r}(wt||{});class dc{constructor(n,i,s,a){this._cachedPath=[],this.parent=n,this.data=i,this._path=s,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const x9=(r,n)=>{if(ef(n))return{success:!0,data:n.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new cd(r.common.issues);return this._error=i,this._error}}};function _n(r){if(!r)return{};const{errorMap:n,invalid_type_error:i,required_error:s,description:a}=r;if(n&&(i||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return n?{errorMap:n,description:a}:{errorMap:(c,d)=>{var u,h;const{message:f}=r;return"invalid_enum_value"===c.code?{message:f??d.defaultError}:typeof d.data>"u"?{message:null!==(u=f??s)&&void 0!==u?u:d.defaultError}:"invalid_type"!==c.code?{message:d.defaultError}:{message:null!==(h=f??i)&&void 0!==h?h:d.defaultError}},description:a}}class Sn{get description(){return this._def.description}_getType(n){return ld(n.data)}_getOrReturnCtx(n,i){return i||{common:n.parent.common,data:n.data,parsedType:ld(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new Js,ctx:{common:n.parent.common,data:n.data,parsedType:ld(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){const i=this._parse(n);if(ab(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(n){const i=this._parse(n);return Promise.resolve(i)}parse(n,i){const s=this.safeParse(n,i);if(s.success)return s.data;throw s.error}safeParse(n,i){var s;const a={common:{issues:[],async:null!==(s=i?.async)&&void 0!==s&&s,contextualErrorMap:i?.errorMap},path:i?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:ld(n)},l=this._parseSync({data:n,path:a.path,parent:a});return x9(a,l)}"~validate"(n){var i,s;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:ld(n)};if(!this["~standard"].async)try{const l=this._parseSync({data:n,path:[],parent:a});return ef(l)?{value:l.value}:{issues:a.common.issues}}catch(l){!(null===(s=null===(i=l?.message)||void 0===i?void 0:i.toLowerCase())||void 0===s)&&s.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:a}).then(l=>ef(l)?{value:l.value}:{issues:a.common.issues})}parseAsync(n,i){var s=this;return ke(function*(){const a=yield s.safeParseAsync(n,i);if(a.success)return a.data;throw a.error})()}safeParseAsync(n,i){var s=this;return ke(function*(){const a={common:{issues:[],contextualErrorMap:i?.errorMap,async:!0},path:i?.path||[],schemaErrorMap:s._def.errorMap,parent:null,data:n,parsedType:ld(n)},l=s._parse({data:n,path:a.path,parent:a}),c=yield ab(l)?l:Promise.resolve(l);return x9(a,c)})()}refine(n,i){const s=a=>"string"==typeof i||typeof i>"u"?{message:i}:"function"==typeof i?i(a):i;return this._refinement((a,l)=>{const c=n(a),d=()=>l.addIssue({code:Re.custom,...s(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(u=>!!u||(d(),!1)):!!c||(d(),!1)})}refinement(n,i){return this._refinement((s,a)=>!!n(s)||(a.addIssue("function"==typeof i?i(s,a):i),!1))}_refinement(n){return new nf({schema:this,typeName:Zt.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return xu.create(this,this._def)}nullable(){return ig.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ub.create(this)}promise(){return YC.create(this,this._def)}or(n){return lF.create([this,n],this._def)}and(n){return dF.create(this,n,this._def)}transform(n){return new nf({..._n(this._def),schema:this,typeName:Zt.ZodEffects,effect:{type:"transform",transform:n}})}default(n){const i="function"==typeof n?n:()=>n;return new fF({..._n(this._def),innerType:this,defaultValue:i,typeName:Zt.ZodDefault})}brand(){return new mF({typeName:Zt.ZodBranded,type:this,..._n(this._def)})}catch(n){const i="function"==typeof n?n:()=>n;return new pF({..._n(this._def),innerType:this,catchValue:i,typeName:Zt.ZodCatch})}describe(n){return new(0,this.constructor)({...this._def,description:n})}pipe(n){return pb.create(this,n)}readonly(){return gF.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p1e=/^c[^\s-]{8,}$/i,m1e=/^[0-9a-z]+$/,g1e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_1e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y1e=/^[a-z0-9_-]{21}$/i,v1e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b1e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,A1e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let tF;const w1e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,C1e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E1e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M1e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,S1e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I1e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",T1e=new RegExp(`^${w9}$`);function C9(r){let n="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?n=`${n}\\.\\d{${r.precision}}`:null==r.precision&&(n=`${n}(\\.\\d+)?`),n}function D1e(r){return new RegExp(`^${C9(r)}$`)}function E9(r){let n=`${w9}T${C9(r)}`;const i=[];return i.push(r.local?"Z?":"Z"),r.offset&&i.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${i.join("|")})`,new RegExp(`^${n}$`)}function R1e(r,n){return!(("v4"!==n&&n||!w1e.test(r))&&("v6"!==n&&n||!E1e.test(r)))}function k1e(r,n){if(!v1e.test(r))return!1;try{const[i]=r.split("."),s=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),a=JSON.parse(atob(s));return!("object"!=typeof a||null===a||!a.typ||!a.alg||n&&a.alg!==n)}catch{return!1}}function P1e(r,n){return!(("v4"!==n&&n||!C1e.test(r))&&("v6"!==n&&n||!M1e.test(r)))}let jC=(()=>{class r extends Sn{_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==it.string){const c=this._getOrReturnCtx(i);return Ye(c,{code:Re.invalid_type,expected:it.string,received:c.parsedType}),Kt}const a=new Js;let l;for(const c of this._def.checks)if("min"===c.kind)i.data.length<c.value&&(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if("max"===c.kind)i.data.length>c.value&&(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),a.dirty());else if("length"===c.kind){const d=i.data.length>c.value,u=i.data.length<c.value;(d||u)&&(l=this._getOrReturnCtx(i,l),d?Ye(l,{code:Re.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):u&&Ye(l,{code:Re.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),a.dirty())}else if("email"===c.kind)A1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"email",code:Re.invalid_string,message:c.message}),a.dirty());else if("emoji"===c.kind)tF||(tF=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),tF.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"emoji",code:Re.invalid_string,message:c.message}),a.dirty());else if("uuid"===c.kind)_1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"uuid",code:Re.invalid_string,message:c.message}),a.dirty());else if("nanoid"===c.kind)y1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"nanoid",code:Re.invalid_string,message:c.message}),a.dirty());else if("cuid"===c.kind)p1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"cuid",code:Re.invalid_string,message:c.message}),a.dirty());else if("cuid2"===c.kind)m1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"cuid2",code:Re.invalid_string,message:c.message}),a.dirty());else if("ulid"===c.kind)g1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"ulid",code:Re.invalid_string,message:c.message}),a.dirty());else if("url"===c.kind)try{new URL(i.data)}catch{l=this._getOrReturnCtx(i,l),Ye(l,{validation:"url",code:Re.invalid_string,message:c.message}),a.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"regex",code:Re.invalid_string,message:c.message}),a.dirty())):"trim"===c.kind?i.data=i.data.trim():"includes"===c.kind?i.data.includes(c.value,c.position)||(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),a.dirty()):"toLowerCase"===c.kind?i.data=i.data.toLowerCase():"toUpperCase"===c.kind?i.data=i.data.toUpperCase():"startsWith"===c.kind?i.data.startsWith(c.value)||(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.invalid_string,validation:{startsWith:c.value},message:c.message}),a.dirty()):"endsWith"===c.kind?i.data.endsWith(c.value)||(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.invalid_string,validation:{endsWith:c.value},message:c.message}),a.dirty()):"datetime"===c.kind?E9(c).test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.invalid_string,validation:"datetime",message:c.message}),a.dirty()):"date"===c.kind?T1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.invalid_string,validation:"date",message:c.message}),a.dirty()):"time"===c.kind?D1e(c).test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.invalid_string,validation:"time",message:c.message}),a.dirty()):"duration"===c.kind?b1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"duration",code:Re.invalid_string,message:c.message}),a.dirty()):"ip"===c.kind?R1e(i.data,c.version)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"ip",code:Re.invalid_string,message:c.message}),a.dirty()):"jwt"===c.kind?k1e(i.data,c.alg)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"jwt",code:Re.invalid_string,message:c.message}),a.dirty()):"cidr"===c.kind?P1e(i.data,c.version)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"cidr",code:Re.invalid_string,message:c.message}),a.dirty()):"base64"===c.kind?S1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"base64",code:Re.invalid_string,message:c.message}),a.dirty()):"base64url"===c.kind?I1e.test(i.data)||(l=this._getOrReturnCtx(i,l),Ye(l,{validation:"base64url",code:Re.invalid_string,message:c.message}),a.dirty()):Qn.assertNever(c);return{status:a.value,value:i.data}}_regex(i,s,a){return this.refinement(l=>i.test(l),{validation:s,code:Re.invalid_string,...wt.errToObj(a)})}_addCheck(i){return new r({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...wt.errToObj(i)})}url(i){return this._addCheck({kind:"url",...wt.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...wt.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...wt.errToObj(i)})}nanoid(i){return this._addCheck({kind:"nanoid",...wt.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...wt.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...wt.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...wt.errToObj(i)})}base64(i){return this._addCheck({kind:"base64",...wt.errToObj(i)})}base64url(i){return this._addCheck({kind:"base64url",...wt.errToObj(i)})}jwt(i){return this._addCheck({kind:"jwt",...wt.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...wt.errToObj(i)})}cidr(i){return this._addCheck({kind:"cidr",...wt.errToObj(i)})}datetime(i){var s,a;return this._addCheck("string"==typeof i?{kind:"datetime",precision:null,offset:!1,local:!1,message:i}:{kind:"datetime",precision:typeof i?.precision>"u"?null:i?.precision,offset:null!==(s=i?.offset)&&void 0!==s&&s,local:null!==(a=i?.local)&&void 0!==a&&a,...wt.errToObj(i?.message)})}date(i){return this._addCheck({kind:"date",message:i})}time(i){return this._addCheck("string"==typeof i?{kind:"time",precision:null,message:i}:{kind:"time",precision:typeof i?.precision>"u"?null:i?.precision,...wt.errToObj(i?.message)})}duration(i){return this._addCheck({kind:"duration",...wt.errToObj(i)})}regex(i,s){return this._addCheck({kind:"regex",regex:i,...wt.errToObj(s)})}includes(i,s){return this._addCheck({kind:"includes",value:i,position:s?.position,...wt.errToObj(s?.message)})}startsWith(i,s){return this._addCheck({kind:"startsWith",value:i,...wt.errToObj(s)})}endsWith(i,s){return this._addCheck({kind:"endsWith",value:i,...wt.errToObj(s)})}min(i,s){return this._addCheck({kind:"min",value:i,...wt.errToObj(s)})}max(i,s){return this._addCheck({kind:"max",value:i,...wt.errToObj(s)})}length(i,s){return this._addCheck({kind:"length",value:i,...wt.errToObj(s)})}nonempty(i){return this.min(1,wt.errToObj(i))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(i=>"datetime"===i.kind)}get isDate(){return!!this._def.checks.find(i=>"date"===i.kind)}get isTime(){return!!this._def.checks.find(i=>"time"===i.kind)}get isDuration(){return!!this._def.checks.find(i=>"duration"===i.kind)}get isEmail(){return!!this._def.checks.find(i=>"email"===i.kind)}get isURL(){return!!this._def.checks.find(i=>"url"===i.kind)}get isEmoji(){return!!this._def.checks.find(i=>"emoji"===i.kind)}get isUUID(){return!!this._def.checks.find(i=>"uuid"===i.kind)}get isNANOID(){return!!this._def.checks.find(i=>"nanoid"===i.kind)}get isCUID(){return!!this._def.checks.find(i=>"cuid"===i.kind)}get isCUID2(){return!!this._def.checks.find(i=>"cuid2"===i.kind)}get isULID(){return!!this._def.checks.find(i=>"ulid"===i.kind)}get isIP(){return!!this._def.checks.find(i=>"ip"===i.kind)}get isCIDR(){return!!this._def.checks.find(i=>"cidr"===i.kind)}get isBase64(){return!!this._def.checks.find(i=>"base64"===i.kind)}get isBase64url(){return!!this._def.checks.find(i=>"base64url"===i.kind)}get minLength(){let i=null;for(const s of this._def.checks)"min"===s.kind&&(null===i||s.value>i)&&(i=s.value);return i}get maxLength(){let i=null;for(const s of this._def.checks)"max"===s.kind&&(null===i||s.value<i)&&(i=s.value);return i}}return r.create=n=>{var i;return new r({checks:[],typeName:Zt.ZodString,coerce:null!==(i=n?.coerce)&&void 0!==i&&i,..._n(n)})},r})();function F1e(r,n){const i=(r.toString().split(".")[1]||"").length,s=(n.toString().split(".")[1]||"").length,a=i>s?i:s;return parseInt(r.toFixed(a).replace(".",""))%parseInt(n.toFixed(a).replace(".",""))/Math.pow(10,a)}let nF=(()=>{class r extends Sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==it.number){const c=this._getOrReturnCtx(i);return Ye(c,{code:Re.invalid_type,expected:it.number,received:c.parsedType}),Kt}let a;const l=new Js;for(const c of this._def.checks)"int"===c.kind?Qn.isInteger(i.data)||(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.invalid_type,expected:"integer",received:"float",message:c.message}),l.dirty()):"min"===c.kind?(c.inclusive?i.data<c.value:i.data<=c.value)&&(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.too_small,minimum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):"max"===c.kind?(c.inclusive?i.data>c.value:i.data>=c.value)&&(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.too_big,maximum:c.value,type:"number",inclusive:c.inclusive,exact:!1,message:c.message}),l.dirty()):"multipleOf"===c.kind?0!==F1e(i.data,c.value)&&(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):"finite"===c.kind?Number.isFinite(i.data)||(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.not_finite,message:c.message}),l.dirty()):Qn.assertNever(c);return{status:l.value,value:i.data}}gte(i,s){return this.setLimit("min",i,!0,wt.toString(s))}gt(i,s){return this.setLimit("min",i,!1,wt.toString(s))}lte(i,s){return this.setLimit("max",i,!0,wt.toString(s))}lt(i,s){return this.setLimit("max",i,!1,wt.toString(s))}setLimit(i,s,a,l){return new r({...this._def,checks:[...this._def.checks,{kind:i,value:s,inclusive:a,message:wt.toString(l)}]})}_addCheck(i){return new r({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:wt.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:wt.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:wt.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:wt.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:wt.toString(i)})}multipleOf(i,s){return this._addCheck({kind:"multipleOf",value:i,message:wt.toString(s)})}finite(i){return this._addCheck({kind:"finite",message:wt.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:wt.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:wt.toString(i)})}get minValue(){let i=null;for(const s of this._def.checks)"min"===s.kind&&(null===i||s.value>i)&&(i=s.value);return i}get maxValue(){let i=null;for(const s of this._def.checks)"max"===s.kind&&(null===i||s.value<i)&&(i=s.value);return i}get isInt(){return!!this._def.checks.find(i=>"int"===i.kind||"multipleOf"===i.kind&&Qn.isInteger(i.value))}get isFinite(){let i=null,s=null;for(const a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===s||a.value>s)&&(s=a.value):"max"===a.kind&&(null===i||a.value<i)&&(i=a.value)}return Number.isFinite(s)&&Number.isFinite(i)}}return r.create=n=>new r({checks:[],typeName:Zt.ZodNumber,coerce:n?.coerce||!1,..._n(n)}),r})(),iF=(()=>{class r extends Sn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce)try{i.data=BigInt(i.data)}catch{return this._getInvalidInput(i)}if(this._getType(i)!==it.bigint)return this._getInvalidInput(i);let a;const l=new Js;for(const c of this._def.checks)"min"===c.kind?(c.inclusive?i.data<c.value:i.data<=c.value)&&(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.too_small,type:"bigint",minimum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):"max"===c.kind?(c.inclusive?i.data>c.value:i.data>=c.value)&&(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.too_big,type:"bigint",maximum:c.value,inclusive:c.inclusive,message:c.message}),l.dirty()):"multipleOf"===c.kind?i.data%c.value!==BigInt(0)&&(a=this._getOrReturnCtx(i,a),Ye(a,{code:Re.not_multiple_of,multipleOf:c.value,message:c.message}),l.dirty()):Qn.assertNever(c);return{status:l.value,value:i.data}}_getInvalidInput(i){const s=this._getOrReturnCtx(i);return Ye(s,{code:Re.invalid_type,expected:it.bigint,received:s.parsedType}),Kt}gte(i,s){return this.setLimit("min",i,!0,wt.toString(s))}gt(i,s){return this.setLimit("min",i,!1,wt.toString(s))}lte(i,s){return this.setLimit("max",i,!0,wt.toString(s))}lt(i,s){return this.setLimit("max",i,!1,wt.toString(s))}setLimit(i,s,a,l){return new r({...this._def,checks:[...this._def.checks,{kind:i,value:s,inclusive:a,message:wt.toString(l)}]})}_addCheck(i){return new r({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:wt.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:wt.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:wt.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:wt.toString(i)})}multipleOf(i,s){return this._addCheck({kind:"multipleOf",value:i,message:wt.toString(s)})}get minValue(){let i=null;for(const s of this._def.checks)"min"===s.kind&&(null===i||s.value>i)&&(i=s.value);return i}get maxValue(){let i=null;for(const s of this._def.checks)"max"===s.kind&&(null===i||s.value<i)&&(i=s.value);return i}}return r.create=n=>{var i;return new r({checks:[],typeName:Zt.ZodBigInt,coerce:null!==(i=n?.coerce)&&void 0!==i&&i,..._n(n)})},r})(),rF=(()=>{class r extends Sn{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==it.boolean){const a=this._getOrReturnCtx(i);return Ye(a,{code:Re.invalid_type,expected:it.boolean,received:a.parsedType}),Kt}return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodBoolean,coerce:n?.coerce||!1,..._n(n)}),r})(),sF=(()=>{class r extends Sn{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==it.date){const c=this._getOrReturnCtx(i);return Ye(c,{code:Re.invalid_type,expected:it.date,received:c.parsedType}),Kt}if(isNaN(i.data.getTime()))return Ye(this._getOrReturnCtx(i),{code:Re.invalid_date}),Kt;const a=new Js;let l;for(const c of this._def.checks)"min"===c.kind?i.data.getTime()<c.value&&(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.too_small,message:c.message,inclusive:!0,exact:!1,minimum:c.value,type:"date"}),a.dirty()):"max"===c.kind?i.data.getTime()>c.value&&(l=this._getOrReturnCtx(i,l),Ye(l,{code:Re.too_big,message:c.message,inclusive:!0,exact:!1,maximum:c.value,type:"date"}),a.dirty()):Qn.assertNever(c);return{status:a.value,value:new Date(i.data.getTime())}}_addCheck(i){return new r({...this._def,checks:[...this._def.checks,i]})}min(i,s){return this._addCheck({kind:"min",value:i.getTime(),message:wt.toString(s)})}max(i,s){return this._addCheck({kind:"max",value:i.getTime(),message:wt.toString(s)})}get minDate(){let i=null;for(const s of this._def.checks)"min"===s.kind&&(null===i||s.value>i)&&(i=s.value);return null!=i?new Date(i):null}get maxDate(){let i=null;for(const s of this._def.checks)"max"===s.kind&&(null===i||s.value<i)&&(i=s.value);return null!=i?new Date(i):null}}return r.create=n=>new r({checks:[],coerce:n?.coerce||!1,typeName:Zt.ZodDate,..._n(n)}),r})(),M9=(()=>{class r extends Sn{_parse(i){if(this._getType(i)!==it.symbol){const a=this._getOrReturnCtx(i);return Ye(a,{code:Re.invalid_type,expected:it.symbol,received:a.parsedType}),Kt}return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodSymbol,..._n(n)}),r})(),oF=(()=>{class r extends Sn{_parse(i){if(this._getType(i)!==it.undefined){const a=this._getOrReturnCtx(i);return Ye(a,{code:Re.invalid_type,expected:it.undefined,received:a.parsedType}),Kt}return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodUndefined,..._n(n)}),r})(),aF=(()=>{class r extends Sn{_parse(i){if(this._getType(i)!==it.null){const a=this._getOrReturnCtx(i);return Ye(a,{code:Re.invalid_type,expected:it.null,received:a.parsedType}),Kt}return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodNull,..._n(n)}),r})(),WC=(()=>{class r extends Sn{constructor(){super(...arguments),this._any=!0}_parse(i){return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodAny,..._n(n)}),r})(),db=(()=>{class r extends Sn{constructor(){super(...arguments),this._unknown=!0}_parse(i){return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodUnknown,..._n(n)}),r})(),tf=(()=>{class r extends Sn{_parse(i){const s=this._getOrReturnCtx(i);return Ye(s,{code:Re.invalid_type,expected:it.never,received:s.parsedType}),Kt}}return r.create=n=>new r({typeName:Zt.ZodNever,..._n(n)}),r})(),S9=(()=>{class r extends Sn{_parse(i){if(this._getType(i)!==it.undefined){const a=this._getOrReturnCtx(i);return Ye(a,{code:Re.invalid_type,expected:it.void,received:a.parsedType}),Kt}return Fo(i.data)}}return r.create=n=>new r({typeName:Zt.ZodVoid,..._n(n)}),r})(),ub=(()=>{class r extends Sn{_parse(i){const{ctx:s,status:a}=this._processInputParams(i),l=this._def;if(s.parsedType!==it.array)return Ye(s,{code:Re.invalid_type,expected:it.array,received:s.parsedType}),Kt;if(null!==l.exactLength){const d=s.data.length>l.exactLength.value,u=s.data.length<l.exactLength.value;(d||u)&&(Ye(s,{code:d?Re.too_big:Re.too_small,minimum:u?l.exactLength.value:void 0,maximum:d?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),a.dirty())}if(null!==l.minLength&&s.data.length<l.minLength.value&&(Ye(s,{code:Re.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),a.dirty()),null!==l.maxLength&&s.data.length>l.maxLength.value&&(Ye(s,{code:Re.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),a.dirty()),s.common.async)return Promise.all([...s.data].map((d,u)=>l.type._parseAsync(new dc(s,d,s.path,u)))).then(d=>Js.mergeArray(a,d));const c=[...s.data].map((d,u)=>l.type._parseSync(new dc(s,d,s.path,u)));return Js.mergeArray(a,c)}get element(){return this._def.type}min(i,s){return new r({...this._def,minLength:{value:i,message:wt.toString(s)}})}max(i,s){return new r({...this._def,maxLength:{value:i,message:wt.toString(s)}})}length(i,s){return new r({...this._def,exactLength:{value:i,message:wt.toString(s)}})}nonempty(i){return this.min(1,i)}}return r.create=(n,i)=>new r({type:n,minLength:null,maxLength:null,exactLength:null,typeName:Zt.ZodArray,..._n(i)}),r})();function Jm(r){if(r instanceof eg){const n={};for(const i in r.shape)n[i]=xu.create(Jm(r.shape[i]));return new eg({...r._def,shape:()=>n})}return r instanceof ub?new ub({...r._def,type:Jm(r.element)}):r instanceof xu?xu.create(Jm(r.unwrap())):r instanceof ig?ig.create(Jm(r.unwrap())):r instanceof tg?tg.create(r.items.map(n=>Jm(n))):r}let eg=(()=>{class r extends Sn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const i=this._def.shape(),s=Qn.objectKeys(i);return this._cached={shape:i,keys:s}}_parse(i){if(this._getType(i)!==it.object){const f=this._getOrReturnCtx(i);return Ye(f,{code:Re.invalid_type,expected:it.object,received:f.parsedType}),Kt}const{status:a,ctx:l}=this._processInputParams(i),{shape:c,keys:d}=this._getCached(),u=[];if(!(this._def.catchall instanceof tf&&"strip"===this._def.unknownKeys))for(const f in l.data)d.includes(f)||u.push(f);const h=[];for(const f of d)h.push({key:{status:"valid",value:f},value:c[f]._parse(new dc(l,l.data[f],l.path,f)),alwaysSet:f in l.data});if(this._def.catchall instanceof tf){const f=this._def.unknownKeys;if("passthrough"===f)for(const p of u)h.push({key:{status:"valid",value:p},value:{status:"valid",value:l.data[p]}});else if("strict"===f)u.length>0&&(Ye(l,{code:Re.unrecognized_keys,keys:u}),a.dirty());else if("strip"!==f)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const p of u)h.push({key:{status:"valid",value:p},value:f._parse(new dc(l,l.data[p],l.path,p)),alwaysSet:p in l.data})}return l.common.async?Promise.resolve().then(ke(function*(){const f=[];for(const p of h){const g=yield p.key,m=yield p.value;f.push({key:g,value:m,alwaysSet:p.alwaysSet})}return f})).then(f=>Js.mergeObjectSync(a,f)):Js.mergeObjectSync(a,h)}get shape(){return this._def.shape()}strict(i){return new r({...this._def,unknownKeys:"strict",...void 0!==i?{errorMap:(s,a)=>{var l,c,d,u;const h=null!==(d=null===(c=(l=this._def).errorMap)||void 0===c?void 0:c.call(l,s,a).message)&&void 0!==d?d:a.defaultError;return"unrecognized_keys"===s.code?{message:null!==(u=wt.errToObj(i).message)&&void 0!==u?u:h}:{message:h}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(i){return new r({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new r({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:Zt.ZodObject})}setKey(i,s){return this.augment({[i]:s})}catchall(i){return new r({...this._def,catchall:i})}pick(i){const s={};return Qn.objectKeys(i).forEach(a=>{i[a]&&this.shape[a]&&(s[a]=this.shape[a])}),new r({...this._def,shape:()=>s})}omit(i){const s={};return Qn.objectKeys(this.shape).forEach(a=>{i[a]||(s[a]=this.shape[a])}),new r({...this._def,shape:()=>s})}deepPartial(){return Jm(this)}partial(i){const s={};return Qn.objectKeys(this.shape).forEach(a=>{const l=this.shape[a];s[a]=i&&!i[a]?l:l.optional()}),new r({...this._def,shape:()=>s})}required(i){const s={};return Qn.objectKeys(this.shape).forEach(a=>{if(i&&!i[a])s[a]=this.shape[a];else{let c=this.shape[a];for(;c instanceof xu;)c=c._def.innerType;s[a]=c}}),new r({...this._def,shape:()=>s})}keyof(){return D9(Qn.objectKeys(this.shape))}}return r.create=(n,i)=>new r({shape:()=>n,unknownKeys:"strip",catchall:tf.create(),typeName:Zt.ZodObject,..._n(i)}),r.strictCreate=(n,i)=>new r({shape:()=>n,unknownKeys:"strict",catchall:tf.create(),typeName:Zt.ZodObject,..._n(i)}),r.lazycreate=(n,i)=>new r({shape:n,unknownKeys:"strip",catchall:tf.create(),typeName:Zt.ZodObject,..._n(i)}),r})(),lF=(()=>{class r extends Sn{_parse(i){const{ctx:s}=this._processInputParams(i),a=this._def.options;if(s.common.async)return Promise.all(a.map(function(){var c=ke(function*(d){const u={...s,common:{...s.common,issues:[]},parent:null};return{result:yield d._parseAsync({data:s.data,path:s.path,parent:u}),ctx:u}});return function(d){return c.apply(this,arguments)}}())).then(function l(c){for(const u of c)if("valid"===u.result.status)return u.result;for(const u of c)if("dirty"===u.result.status)return s.common.issues.push(...u.ctx.common.issues),u.result;const d=c.map(u=>new cd(u.ctx.common.issues));return Ye(s,{code:Re.invalid_union,unionErrors:d}),Kt});{let c;const d=[];for(const h of a){const f={...s,common:{...s.common,issues:[]},parent:null},p=h._parseSync({data:s.data,path:s.path,parent:f});if("valid"===p.status)return p;"dirty"===p.status&&!c&&(c={result:p,ctx:f}),f.common.issues.length&&d.push(f.common.issues)}if(c)return s.common.issues.push(...c.ctx.common.issues),c.result;const u=d.map(h=>new cd(h));return Ye(s,{code:Re.invalid_union,unionErrors:u}),Kt}}get options(){return this._def.options}}return r.create=(n,i)=>new r({options:n,typeName:Zt.ZodUnion,..._n(i)}),r})();const dd=r=>r instanceof uF?dd(r.schema):r instanceof nf?dd(r.innerType()):r instanceof hF?[r.value]:r instanceof Au?r.options:r instanceof fb?Qn.objectValues(r.enum):r instanceof fF?dd(r._def.innerType):r instanceof oF?[void 0]:r instanceof aF?[null]:r instanceof xu?[void 0,...dd(r.unwrap())]:r instanceof ig?[null,...dd(r.unwrap())]:r instanceof mF||r instanceof gF?dd(r.unwrap()):r instanceof pF?dd(r._def.innerType):[];class qC extends Sn{_parse(n){const{ctx:i}=this._processInputParams(n);if(i.parsedType!==it.object)return Ye(i,{code:Re.invalid_type,expected:it.object,received:i.parsedType}),Kt;const s=this.discriminator,l=this.optionsMap.get(i.data[s]);return l?i.common.async?l._parseAsync({data:i.data,path:i.path,parent:i}):l._parseSync({data:i.data,path:i.path,parent:i}):(Ye(i,{code:Re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Kt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,i,s){const a=new Map;for(const l of i){const c=dd(l.shape[n]);if(!c.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(const d of c){if(a.has(d))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(d)}`);a.set(d,l)}}return new qC({typeName:Zt.ZodDiscriminatedUnion,discriminator:n,options:i,optionsMap:a,..._n(s)})}}function cF(r,n){const i=ld(r),s=ld(n);if(r===n)return{valid:!0,data:r};if(i===it.object&&s===it.object){const a=Qn.objectKeys(n),l=Qn.objectKeys(r).filter(d=>-1!==a.indexOf(d)),c={...r,...n};for(const d of l){const u=cF(r[d],n[d]);if(!u.valid)return{valid:!1};c[d]=u.data}return{valid:!0,data:c}}if(i===it.array&&s===it.array){if(r.length!==n.length)return{valid:!1};const a=[];for(let l=0;l<r.length;l++){const u=cF(r[l],n[l]);if(!u.valid)return{valid:!1};a.push(u.data)}return{valid:!0,data:a}}return i===it.date&&s===it.date&&+r==+n?{valid:!0,data:r}:{valid:!1}}let dF=(()=>{class r extends Sn{_parse(i){const{status:s,ctx:a}=this._processInputParams(i),l=(c,d)=>{if(JP(c)||JP(d))return Kt;const u=cF(c.value,d.value);return u.valid?((eF(c)||eF(d))&&s.dirty(),{status:s.value,value:u.data}):(Ye(a,{code:Re.invalid_intersection_types}),Kt)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([c,d])=>l(c,d)):l(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}return r.create=(n,i,s)=>new r({left:n,right:i,typeName:Zt.ZodIntersection,..._n(s)}),r})(),tg=(()=>{class r extends Sn{_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==it.array)return Ye(a,{code:Re.invalid_type,expected:it.array,received:a.parsedType}),Kt;if(a.data.length<this._def.items.length)return Ye(a,{code:Re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kt;!this._def.rest&&a.data.length>this._def.items.length&&(Ye(a,{code:Re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const c=[...a.data].map((d,u)=>{const h=this._def.items[u]||this._def.rest;return h?h._parse(new dc(a,d,a.path,u)):null}).filter(d=>!!d);return a.common.async?Promise.all(c).then(d=>Js.mergeArray(s,d)):Js.mergeArray(s,c)}get items(){return this._def.items}rest(i){return new r({...this._def,rest:i})}}return r.create=(n,i)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new r({items:n,typeName:Zt.ZodTuple,rest:null,..._n(i)})},r})();class hb extends Sn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){const{status:i,ctx:s}=this._processInputParams(n);if(s.parsedType!==it.object)return Ye(s,{code:Re.invalid_type,expected:it.object,received:s.parsedType}),Kt;const a=[],l=this._def.keyType,c=this._def.valueType;for(const d in s.data)a.push({key:l._parse(new dc(s,d,s.path,d)),value:c._parse(new dc(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?Js.mergeObjectAsync(i,a):Js.mergeObjectSync(i,a)}get element(){return this._def.valueType}static create(n,i,s){return new hb(i instanceof Sn?{keyType:n,valueType:i,typeName:Zt.ZodRecord,..._n(s)}:{keyType:jC.create(),valueType:n,typeName:Zt.ZodRecord,..._n(i)})}}let I9=(()=>{class r extends Sn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==it.map)return Ye(a,{code:Re.invalid_type,expected:it.map,received:a.parsedType}),Kt;const l=this._def.keyType,c=this._def.valueType,d=[...a.data.entries()].map(([u,h],f)=>({key:l._parse(new dc(a,u,a.path,[f,"key"])),value:c._parse(new dc(a,h,a.path,[f,"value"]))}));if(a.common.async){const u=new Map;return Promise.resolve().then(ke(function*(){for(const h of d){const f=yield h.key,p=yield h.value;if("aborted"===f.status||"aborted"===p.status)return Kt;("dirty"===f.status||"dirty"===p.status)&&s.dirty(),u.set(f.value,p.value)}return{status:s.value,value:u}}))}{const u=new Map;for(const h of d){const f=h.key,p=h.value;if("aborted"===f.status||"aborted"===p.status)return Kt;("dirty"===f.status||"dirty"===p.status)&&s.dirty(),u.set(f.value,p.value)}return{status:s.value,value:u}}}}return r.create=(n,i,s)=>new r({valueType:i,keyType:n,typeName:Zt.ZodMap,..._n(s)}),r})(),T9=(()=>{class r extends Sn{_parse(i){const{status:s,ctx:a}=this._processInputParams(i);if(a.parsedType!==it.set)return Ye(a,{code:Re.invalid_type,expected:it.set,received:a.parsedType}),Kt;const l=this._def;null!==l.minSize&&a.data.size<l.minSize.value&&(Ye(a,{code:Re.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),s.dirty()),null!==l.maxSize&&a.data.size>l.maxSize.value&&(Ye(a,{code:Re.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),s.dirty());const c=this._def.valueType;function d(h){const f=new Set;for(const p of h){if("aborted"===p.status)return Kt;"dirty"===p.status&&s.dirty(),f.add(p.value)}return{status:s.value,value:f}}const u=[...a.data.values()].map((h,f)=>c._parse(new dc(a,h,a.path,f)));return a.common.async?Promise.all(u).then(h=>d(h)):d(u)}min(i,s){return new r({...this._def,minSize:{value:i,message:wt.toString(s)}})}max(i,s){return new r({...this._def,maxSize:{value:i,message:wt.toString(s)}})}size(i,s){return this.min(i,s).max(i,s)}nonempty(i){return this.min(1,i)}}return r.create=(n,i)=>new r({valueType:n,minSize:null,maxSize:null,typeName:Zt.ZodSet,..._n(i)}),r})();class ng extends Sn{constructor(){super(...arguments),this.validate=this.implement}_parse(n){const{ctx:i}=this._processInputParams(n);if(i.parsedType!==it.function)return Ye(i,{code:Re.invalid_type,expected:it.function,received:i.parsedType}),Kt;function s(d,u){return $C({data:d,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,GC(),Km].filter(h=>!!h),issueData:{code:Re.invalid_arguments,argumentsError:u}})}function a(d,u){return $C({data:d,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,GC(),Km].filter(h=>!!h),issueData:{code:Re.invalid_return_type,returnTypeError:u}})}const l={errorMap:i.common.contextualErrorMap},c=i.data;if(this._def.returns instanceof YC){const d=this;return Fo(ke(function*(...u){const h=new cd([]),f=yield d._def.args.parseAsync(u,l).catch(m=>{throw h.addIssue(s(u,m)),h}),p=yield Reflect.apply(c,this,f);return yield d._def.returns._def.type.parseAsync(p,l).catch(m=>{throw h.addIssue(a(p,m)),h})}))}{const d=this;return Fo(function(...u){const h=d._def.args.safeParse(u,l);if(!h.success)throw new cd([s(u,h.error)]);const f=Reflect.apply(c,this,h.data),p=d._def.returns.safeParse(f,l);if(!p.success)throw new cd([a(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new ng({...this._def,args:tg.create(n).rest(db.create())})}returns(n){return new ng({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,i,s){return new ng({args:n||tg.create([]).rest(db.create()),returns:i||db.create(),typeName:Zt.ZodFunction,..._n(s)})}}let uF=(()=>{class r extends Sn{get schema(){return this._def.getter()}_parse(i){const{ctx:s}=this._processInputParams(i);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}return r.create=(n,i)=>new r({getter:n,typeName:Zt.ZodLazy,..._n(i)}),r})(),hF=(()=>{class r extends Sn{_parse(i){if(i.data!==this._def.value){const s=this._getOrReturnCtx(i);return Ye(s,{received:s.data,code:Re.invalid_literal,expected:this._def.value}),Kt}return{status:"valid",value:i.data}}get value(){return this._def.value}}return r.create=(n,i)=>new r({value:n,typeName:Zt.ZodLiteral,..._n(i)}),r})();function D9(r,n){return new Au({values:r,typeName:Zt.ZodEnum,..._n(n)})}class Au extends Sn{constructor(){super(...arguments),lb.set(this,void 0)}_parse(n){if("string"!=typeof n.data){const i=this._getOrReturnCtx(n);return Ye(i,{expected:Qn.joinValues(this._def.values),received:i.parsedType,code:Re.invalid_type}),Kt}if(QC(this,lb,"f")||A9(this,lb,new Set(this._def.values),"f"),!QC(this,lb,"f").has(n.data)){const i=this._getOrReturnCtx(n);return Ye(i,{received:i.data,code:Re.invalid_enum_value,options:this._def.values}),Kt}return Fo(n.data)}get options(){return this._def.values}get enum(){const n={};for(const i of this._def.values)n[i]=i;return n}get Values(){const n={};for(const i of this._def.values)n[i]=i;return n}get Enum(){const n={};for(const i of this._def.values)n[i]=i;return n}extract(n,i=this._def){return Au.create(n,{...this._def,...i})}exclude(n,i=this._def){return Au.create(this.options.filter(s=>!n.includes(s)),{...this._def,...i})}}lb=new WeakMap,Au.create=D9;class fb extends Sn{constructor(){super(...arguments),cb.set(this,void 0)}_parse(n){const i=Qn.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(n);if(s.parsedType!==it.string&&s.parsedType!==it.number){const a=Qn.objectValues(i);return Ye(s,{expected:Qn.joinValues(a),received:s.parsedType,code:Re.invalid_type}),Kt}if(QC(this,cb,"f")||A9(this,cb,new Set(Qn.getValidEnumValues(this._def.values)),"f"),!QC(this,cb,"f").has(n.data)){const a=Qn.objectValues(i);return Ye(s,{received:s.data,code:Re.invalid_enum_value,options:a}),Kt}return Fo(n.data)}get enum(){return this._def.values}}cb=new WeakMap,fb.create=(r,n)=>new fb({values:r,typeName:Zt.ZodNativeEnum,..._n(n)});let YC=(()=>{class r extends Sn{unwrap(){return this._def.type}_parse(i){const{ctx:s}=this._processInputParams(i);if(s.parsedType!==it.promise&&!1===s.common.async)return Ye(s,{code:Re.invalid_type,expected:it.promise,received:s.parsedType}),Kt;const a=s.parsedType===it.promise?s.data:Promise.resolve(s.data);return Fo(a.then(l=>this._def.type.parseAsync(l,{path:s.path,errorMap:s.common.contextualErrorMap})))}}return r.create=(n,i)=>new r({type:n,typeName:Zt.ZodPromise,..._n(i)}),r})(),nf=(()=>{class r extends Sn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Zt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){var s=this;const{status:a,ctx:l}=this._processInputParams(i),c=this._def.effect||null,d={addIssue:u=>{Ye(l,u),u.fatal?a.abort():a.dirty()},get path(){return l.path}};if(d.addIssue=d.addIssue.bind(d),"preprocess"===c.type){const u=c.transform(l.data,d);if(l.common.async)return Promise.resolve(u).then(function(){var h=ke(function*(f){if("aborted"===a.value)return Kt;const p=yield s._def.schema._parseAsync({data:f,path:l.path,parent:l});return"aborted"===p.status?Kt:"dirty"===p.status||"dirty"===a.value?Zm(p.value):p});return function(f){return h.apply(this,arguments)}}());{if("aborted"===a.value)return Kt;const h=this._def.schema._parseSync({data:u,path:l.path,parent:l});return"aborted"===h.status?Kt:"dirty"===h.status||"dirty"===a.value?Zm(h.value):h}}if("refinement"===c.type){const u=h=>{const f=c.refinement(h,d);if(l.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(!1===l.common.async){const h=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});return"aborted"===h.status?Kt:("dirty"===h.status&&a.dirty(),u(h.value),{status:a.value,value:h.value})}return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(h=>"aborted"===h.status?Kt:("dirty"===h.status&&a.dirty(),u(h.value).then(()=>({status:a.value,value:h.value}))))}if("transform"===c.type){if(!1===l.common.async){const u=this._def.schema._parseSync({data:l.data,path:l.path,parent:l});if(!ef(u))return u;const h=c.transform(u.value,d);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:h}}return this._def.schema._parseAsync({data:l.data,path:l.path,parent:l}).then(u=>ef(u)?Promise.resolve(c.transform(u.value,d)).then(h=>({status:a.value,value:h})):u)}Qn.assertNever(c)}}return r.create=(n,i,s)=>new r({schema:n,typeName:Zt.ZodEffects,effect:i,..._n(s)}),r.createWithPreprocess=(n,i,s)=>new r({schema:i,effect:{type:"preprocess",transform:n},typeName:Zt.ZodEffects,..._n(s)}),r})(),xu=(()=>{class r extends Sn{_parse(i){return this._getType(i)===it.undefined?Fo(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}return r.create=(n,i)=>new r({innerType:n,typeName:Zt.ZodOptional,..._n(i)}),r})(),ig=(()=>{class r extends Sn{_parse(i){return this._getType(i)===it.null?Fo(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}return r.create=(n,i)=>new r({innerType:n,typeName:Zt.ZodNullable,..._n(i)}),r})(),fF=(()=>{class r extends Sn{_parse(i){const{ctx:s}=this._processInputParams(i);let a=s.data;return s.parsedType===it.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}return r.create=(n,i)=>new r({innerType:n,typeName:Zt.ZodDefault,defaultValue:"function"==typeof i.default?i.default:()=>i.default,..._n(i)}),r})(),pF=(()=>{class r extends Sn{_parse(i){const{ctx:s}=this._processInputParams(i),a={...s,common:{...s.common,issues:[]}},l=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return ab(l)?l.then(c=>({status:"valid",value:"valid"===c.status?c.value:this._def.catchValue({get error(){return new cd(a.common.issues)},input:a.data})})):{status:"valid",value:"valid"===l.status?l.value:this._def.catchValue({get error(){return new cd(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}return r.create=(n,i)=>new r({innerType:n,typeName:Zt.ZodCatch,catchValue:"function"==typeof i.catch?i.catch:()=>i.catch,..._n(i)}),r})(),R9=(()=>{class r extends Sn{_parse(i){if(this._getType(i)!==it.nan){const a=this._getOrReturnCtx(i);return Ye(a,{code:Re.invalid_type,expected:it.nan,received:a.parsedType}),Kt}return{status:"valid",value:i.data}}}return r.create=n=>new r({typeName:Zt.ZodNaN,..._n(n)}),r})();const O1e=Symbol("zod_brand");class mF extends Sn{_parse(n){const{ctx:i}=this._processInputParams(n);return this._def.type._parse({data:i.data,path:i.path,parent:i})}unwrap(){return this._def.type}}class pb extends Sn{_parse(n){var i=this;const{status:s,ctx:a}=this._processInputParams(n);if(a.common.async)return function(){var c=ke(function*(){const d=yield i._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===d.status?Kt:"dirty"===d.status?(s.dirty(),Zm(d.value)):i._def.out._parseAsync({data:d.value,path:a.path,parent:a})});return function(){return c.apply(this,arguments)}}()();{const l=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===l.status?Kt:"dirty"===l.status?(s.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:a.path,parent:a})}}static create(n,i){return new pb({in:n,out:i,typeName:Zt.ZodPipeline})}}let gF=(()=>{class r extends Sn{_parse(i){const s=this._def.innerType._parse(i),a=l=>(ef(l)&&(l.value=Object.freeze(l.value)),l);return ab(s)?s.then(l=>a(l)):a(s)}unwrap(){return this._def.innerType}}return r.create=(n,i)=>new r({innerType:n,typeName:Zt.ZodReadonly,..._n(i)}),r})();function k9(r,n){const i="function"==typeof r?r(n):"string"==typeof r?{message:r}:r;return"string"==typeof i?{message:i}:i}function P9(r,n={},i){return r?WC.create().superRefine((s,a)=>{var l,c;const d=r(s);if(d instanceof Promise)return d.then(u=>{var h,f;if(!u){const p=k9(n,s),g=null===(f=null!==(h=p.fatal)&&void 0!==h?h:i)||void 0===f||f;a.addIssue({code:"custom",...p,fatal:g})}});if(!d){const u=k9(n,s),h=null===(c=null!==(l=u.fatal)&&void 0!==l?l:i)||void 0===c||c;a.addIssue({code:"custom",...u,fatal:h})}}):WC.create()}const N1e={object:eg.lazycreate};var Zt=function(r){return r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly",r}(Zt||{});const F9=jC.create,O9=nF.create,L1e=R9.create,U1e=iF.create,N9=rF.create,z1e=sF.create,V1e=M9.create,H1e=oF.create,G1e=aF.create,$1e=WC.create,Q1e=db.create,j1e=tf.create,W1e=S9.create,q1e=ub.create,Y1e=eg.create,X1e=eg.strictCreate,K1e=lF.create,Z1e=qC.create,J1e=dF.create,eTe=tg.create,tTe=hb.create,nTe=I9.create,iTe=T9.create,rTe=ng.create,sTe=uF.create,oTe=hF.create,aTe=Au.create,lTe=fb.create,cTe=YC.create,B9=nf.create,dTe=xu.create,uTe=ig.create,hTe=nf.createWithPreprocess,fTe=pb.create;var Q=Object.freeze({__proto__:null,defaultErrorMap:Km,setErrorMap:function h1e(r){b9=r},getErrorMap:GC,makeIssue:$C,EMPTY_PATH:[],addIssueToContext:Ye,ParseStatus:Js,INVALID:Kt,DIRTY:Zm,OK:Fo,isAborted:JP,isDirty:eF,isValid:ef,isAsync:ab,get util(){return Qn},get objectUtil(){return v9},ZodParsedType:it,getParsedType:ld,ZodType:Sn,datetimeRegex:E9,ZodString:jC,ZodNumber:nF,ZodBigInt:iF,ZodBoolean:rF,ZodDate:sF,ZodSymbol:M9,ZodUndefined:oF,ZodNull:aF,ZodAny:WC,ZodUnknown:db,ZodNever:tf,ZodVoid:S9,ZodArray:ub,ZodObject:eg,ZodUnion:lF,ZodDiscriminatedUnion:qC,ZodIntersection:dF,ZodTuple:tg,ZodRecord:hb,ZodMap:I9,ZodSet:T9,ZodFunction:ng,ZodLazy:uF,ZodLiteral:hF,ZodEnum:Au,ZodNativeEnum:fb,ZodPromise:YC,ZodEffects:nf,ZodTransformer:nf,ZodOptional:xu,ZodNullable:ig,ZodDefault:fF,ZodCatch:pF,ZodNaN:R9,BRAND:O1e,ZodBranded:mF,ZodPipeline:pb,ZodReadonly:gF,custom:P9,Schema:Sn,ZodSchema:Sn,late:N1e,get ZodFirstPartyTypeKind(){return Zt},coerce:{string:r=>jC.create({...r,coerce:!0}),number:r=>nF.create({...r,coerce:!0}),boolean:r=>rF.create({...r,coerce:!0}),bigint:r=>iF.create({...r,coerce:!0}),date:r=>sF.create({...r,coerce:!0})},any:$1e,array:q1e,bigint:U1e,boolean:N9,date:z1e,discriminatedUnion:Z1e,effect:B9,enum:aTe,function:rTe,instanceof:(r,n={message:`Input not instance of ${r.name}`})=>P9(i=>i instanceof r,n),intersection:J1e,lazy:sTe,literal:oTe,map:nTe,nan:L1e,nativeEnum:lTe,never:j1e,null:G1e,nullable:uTe,number:O9,object:Y1e,oboolean:()=>N9().optional(),onumber:()=>O9().optional(),optional:dTe,ostring:()=>F9().optional(),pipeline:fTe,preprocess:hTe,promise:cTe,record:tTe,set:iTe,strictObject:X1e,string:F9,symbol:V1e,transformer:B9,tuple:eTe,undefined:H1e,union:K1e,unknown:Q1e,void:W1e,NEVER:Kt,ZodIssueCode:Re,quotelessJson:r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:cd});const L9=Q.string({description:"Column name"}),aa=Q.record(Q.union([Q.string(),Q.number()])),pTe=Q.object({release:Q.string(),version:Q.string()}),_F="Class name defined in the css file",gTe=Q.object({type:Q.literal("announcement"),announcementCard:Q.object({message:Q.string({description:"The message to be displayed on the card"}),route:Q.string({description:"Route for another release notes page"}),routeText:Q.string({description:"Text to be clicked to redirect to different route"}),emoji:Q.string({description:"To add emoji if required"})}).describe("The announcementCard field has three optional fields:\n            - route: Route of the page where user will be redirected to when clicked on it.\n            - routeText: Label for the route where we want the user to click.\n            - emoji: Paste any emoji in this field if required.").partial({route:!0,routeText:!0,emoji:!0}).array()}),_Te=Q.object({type:Q.literal("board-members"),boardMembersData:Q.object({image:Q.string({description:"URL for the image of the board member"}),description:Q.string({description:"Introduction of the board member"}),alt:Q.string({description:"alternate text for image"})}).array()}),U9="This object has the following properties as optional.\n- url: External link to redirect the page to when button is pressed.\n- route: Route Name of the page to redirect to when the button is pressed.\n- icon: icon name for the icon to be displayed on the button.\n- styles: Additional styling for the button.",yF="Text for the button",vF="External URL for the button",yTe=Q.object({type:Q.literal("button",{description:U9}),text:Q.string({description:"Text on the button"}),url:Q.string({description:vF}),route:Q.string({description:"Route for the another page in current project"}),icon:Q.string({description:"Icon on the button"}),small:Q.boolean({description:"Smaller version of button "}),styles:aa.optional()}).partial({url:!0,route:!0,icon:!0,styles:!0,small:!0}).describe(U9),vTe=Q.object({type:Q.literal("carousel"),carouselContainerStyles:Q.object({width:Q.string().describe("Width of the container for carousel")}),carouselInfo:Q.object({title:Q.string({description:"Title of the slide"}),body:Q.string({description:"Subtitle of the slide"}),image:Q.string({description:"Image of the slide"}),url:Q.string({description:vF}).optional(),route:Q.string({description:"Route of the page for the button"}).optional(),buttonText:Q.string({description:yF}),alt:Q.string({description:"Alternative text for the carousel image."})}).describe("This object has the following optional fields.\n    - url: External Link to redirect to when the button is pressed.\n    - route: Name of the route of the page to be loaded when button is pressed.\n\n    Enter either url or route.").array()}),bTe=Q.object({type:Q.literal("contact-card"),contactData:Q.object({field:Q.string({description:"Field of work of the contact"}),name:Q.string({description:"Name of the contact"}),role:Q.string({description:"Role/ Position of the contact"}),email:Q.string({description:"Email ID of the contact"}),image:Q.string({description:"Image of the contact"}),alt:Q.string({description:"Alternate text for image"})}).array()}),ATe=Q.object({type:Q.literal("copy-clipboard"),clipboardData:Q.object({url:Q.string({description:"URL/Text to be displayed inside the card"}),borderColor:Q.string({description:"Border color of card according to the request type"}).optional(),plainButton:Q.object({icon:Q.string({description:"Icon name for the button"}),label:Q.string({description:yF})}),dynamicButton:Q.object({label:Q.string({description:yF}),url:Q.string({description:vF})})}).array(),styles:aa.optional()}),rg="Title of the card",bF="Subtitle of the card",AF="To add components recursively",xTe=Q.object({type:Q.literal("count-card"),countCardInfo:Q.object({image:Q.string({description:"Icon for the card"}),count:Q.number({description:"Count of the card"}).or(Q.string()),text:Q.string({description:rg}),alt:Q.string({description:"Alternative text for the image"})}).array()}),wTe=Q.object({type:Q.literal("datasets"),links:Q.object({class:Q.string({description:_F}).default("datasets"),href:Q.string({description:"URL of the items"}),title:Q.string({description:"Tooltip title for the item"}),data:Q.string({description:"Label for the item"})}).array(),styles:aa.default({display:"flex","flex-flow":"row wrap","justify-content":"space-between","padding-bottom":"2.5rem"})}).required({styles:!0}),CTe=Q.object({type:Q.literal("divider"),styles:aa.optional()}),z9="This object has the following fields as optional.\n- displayMetaData: True if you want to display Release Version and Digital Object type. If you set this to true, make sure to add releaseVersion and dot properties in rows object.\n- downloadIcon: name of the icon you want to display in download column header\n- columnLabels: Object of column definition and column headers for the table\n",ETe=Q.object({type:Q.literal("download-ftu",{description:z9}),versions:pTe.array().describe("Release name and version number."),displayMetadata:Q.boolean({description:"Flag to display the Release Version and Digital Object type"}).optional(),downloadIcon:Q.string({description:"Icon name to display the icon"}).optional(),columnLabels:Q.record(Q.string(),Q.string(),{description:"Object of column definition and column header label"}).optional().default({type:"Type",download:"Download",releaseVersion:"Release Version",digitalObjectType:"Digital Object Type"}),versionedData:Q.object({version:Q.string({description:"Version Number of the data"}),rows:Q.object({label:Q.string({description:"Label for the Organ/Type column"}),links:Q.object({label:Q.string({description:"Label for the link in the download column"}),link:Q.string({description:"URL for the label in the download column"})}).array(),releaseVersion:Q.string({description:"Table Data for release version column."}).optional(),dot:Q.string().optional().describe("Table data for Digital Object Type column."),url:Q.string({description:"URL for Organ or its type"}).optional()}).describe("Following properties in this object are optional:\n        - releaseVersion: Release version of the organ.\n        - dot: Digital object type of the organ.\n        - url: External link to be embedded in the organ.").array()}).describe("Add version and rows data for the table").array()}).describe(z9),MTe=Q.object({type:Q.literal("drawer"),navigationItems:Q.object({menuName:Q.string({description:"Label of the menu item"}),id:Q.string({description:"ID of the menu item"})}).array(),drawerStyles:aa,components:Q.lazy(()=>XC).describe(AF)}),V9=Q.object({columnDef:Q.string({description:"Definition of the column"}),header:L9,colspan:Q.number().optional().describe("Number of columns to span"),rowspan:Q.number().optional().describe("Number of rows to span")}).describe("colspan and rowspan are optional fields. Add appropriate number to span the cells accordingly."),H9=Q.object({header:L9,columnDef:Q.string({description:"Definition of the column"}),cell:Q.unknown().describe("Code to display the cell data"),isTotalRequired:Q.boolean({description:"True of want the total to be displayed"}),sorting:Q.boolean({description:"True if sorting is required"}),alignment:Q.string({description:"Alignment of the data (start or end)"}),totalLabel:Q.string({description:"Label for the first column in Total row"}).optional()}).partial({isTotalRequired:!0,sorting:!0,alignment:!0}).array().describe("The following fields are optional in this object.\n- isTotalRequired: True if want to display the sum of column numbers below the table.\n- sorting: True if sorting required on the column.\n- alignment: Alignment of the data (start or end)"),STe=Q.object({type:Q.literal("image"),class:Q.string({description:"Class name of the class defined in the CSS file"}).optional(),imageSource:Q.string({description:"URL for the image"}),alt:Q.string({description:"Alternative text for the image"}),styles:aa.optional()}).describe("Property 'class' is optional. It is the class name for the image. Define this class in page-element.component.scss"),ITe=Q.object({type:Q.literal("simple-image"),imageData:Q.object({title:Q.string({description:"Title of the image on the card"}),description:Q.string({description:"Description of the image"}),image:Q.string({description:"URL of the image"}),imageDialog:Q.string({description:"URL of the image to be displayed on the dialog"}),alt:Q.string({description:"Alternate text for image"})}).array(),headerData:Q.object({title:Q.string({description:rg}),buttonData:Q.object({text:Q.string({description:"Label for the button"}),url:Q.string({description:"Url for the button"})}),subtitle:Q.string({description:"Subtitle for the card"})}).optional(),customModalClass:Q.string({description:"Custom class for the modal"}).optional()}),G9=Q.object({icon:Q.string({description:"Icon of the card"}),title:Q.string({description:rg}),body:Q.string({description:bF}),route:Q.string({description:"Route for the card to be redirected"}),color:Q.string({description:"Background color for the icon if necessary"}),externalLink:Q.string({description:"External URL to be redirected"}),alt:Q.string({description:"alternate text for card icon"})}).partial({route:!0,externalLink:!0,color:!0,body:!0}).describe("Properties mentioned here are optional. Either use route or externalLink\n- route: route for the page to be redirected\n- externalLink: URL of the page to be opened when the card is clicked\n- color: background color of the image\n- body: Subtitle for the card").array(),TTe=Q.object({type:Q.literal("long-card"),longCardItems:G9}),DTe=Q.object({type:Q.literal("long-card-with-title"),longCardWithTitleData:Q.object({heading:Q.string({description:rg}),headerSize:aa.describe("Inline styles for the title of the card"),id:Q.string({description:"Unique ID for the title of the card"}),cardData:G9}).partial({headerSize:!0,id:!0}).describe("Properties mentioned here are optional\n    - headerSize: Pass inline styles for the header of the card\n    - id: Pass id as an attribute to the title of the card").array()}),RTe=Q.object({type:Q.literal("margin"),top:Q.string(),bottom:Q.string(),left:Q.string(),right:Q.string()},{description:"To add margin around any component. Add top/ bottom/ left/ right and margin value"}).partial({top:!0,bottom:!0,left:!0,right:!0}),kTe=Q.object({type:Q.literal("mat-card"),components:Q.lazy(()=>XC).describe(AF),styles:aa.optional()}),PTe=Q.object({type:Q.literal("menu-tree"),overlayClass:Q.string(),positions:Q.object({originX:Q.string(),originY:Q.string(),overlayX:Q.string(),overlayY:Q.string(),offsetX:Q.number(),offsetY:Q.number()}).array(),mobileNavigationItems:Q.object({menuName:Q.string(),id:Q.string()}).array(),styles:aa.optional()}),FTe=Q.object({name:Q.string({description:"Name of the organ"}),image:Q.string({description:"Path to the Icon/Image of the organ"}),alt:Q.string({description:"Alternate text for icon"}),tissueData:Q.lazy(()=>jTe).array().optional().describe("Tissue data for the above organ.\n    Following properties are optional in this object.\n    - image: URL of the image of the tissue.\n    - expandedImage: URL of the image to be shown in the modal, when it is clicked.\n    - threeDimImage: URL of the 3D object (.glb) file.\n    - alt: Alternate text for the image.\n    - url: URL for the metadata button.\n    - svg: URL to download the SVG file of the tissue.\n    - ai: URL to download the AI file of the tissue.\n    - png: URL to download the PNG file of the tissue.")}),$9="This object has the following fields as optional\n- headerInfo: this is the data about column headers and their definition. Add this data if you want to display data table",OTe=Q.object({type:Q.literal("organ-version",{description:$9}),isMultiRow:Q.boolean({description:"True if want to display organs one below other. False if want to display organs beside one another"}),tableRequired:Q.boolean({description:"True of want to display data table"}),versionData:Q.lazy(()=>W9).array().describe("Release name, source csv file and version number\n    Property 'file' is optional. If required, add property 'file' ans pass the path to the CSV file. It is only required if tableRequired is True."),headerInfo:H9.optional().describe("Names of columns and their definitions\n        There are three optional values in this object:\n        - isTotalRequired: To display total at the end of the table\n        - sorting: To enable sorting in the table\n        - alignment: start or end to align data left or right"),organInfo:Q.lazy(()=>qTe).array().describe($9)}),NTe=Q.object({type:Q.literal("page-data"),pageData:Q.object({id:Q.string().optional(),heading:Q.string({description:"Title of the data"}),descriptions:Q.string({description:"Description of the data"})}).array(),styles:aa.optional()}),BTe=Q.object({type:Q.literal("header"),headerCard:Q.object({title:Q.string({description:rg}),subtitle:Q.string({description:bF}),image:Q.string({description:"Icon of the card"}),alt:Q.string({description:"Text Alternative for card image"})}).array(),styles:aa.optional()}),LTe=Q.object({label:Q.string({description:"Text on the button"}),link:Q.string({description:"URL for the button"})}),UTe=Q.object({winner:Q.string({description:"Name of the winner"}),kaggleId:Q.string({description:"Kaggle ID of the winner"}),button:LTe.array()}).partial({button:!0,kaggleId:!0}),zTe=Q.object({type:Q.literal("prize-card"),prizeCard:Q.object({title:Q.string({description:"Title of the card (eg. Position in the competition)"}),presentedBy:Q.string({description:"Name of the person who presented"}),orgImage:Q.string({description:"Logo/Image of the organization"}),winner:UTe.describe("\n                The following properties are optional in this object:\n                - button: Data of buttons to show on the Prize Card.\n                - kaggleId: kaggle id's of the winners.").array(),userImage:Q.object({image:Q.string({description:"Images of all the participants"}),alt:Q.string({description:"Alternate text for user image"})}).array(),matDivider:Q.boolean({description:"True if divider is needed"}),alt:Q.string({description:"Alternate text for the org image"})}).partial({presentedBy:!0,orgImage:!0,userImage:!0,alt:!0}).describe("\n        The following properties are optional in this object:\n        - presentedBy: Name of the presenter.\n        - orgImage: URL to the image of the organization.\n        - userImage: URL(s) to the image of the participants.").array(),styles:aa.optional()}),VTe=Q.object({type:Q.literal("section-card"),cardsInfo:Q.object({title:Q.string({description:rg}),description:Q.string({description:bF}),image:Q.string({description:"URL of the Image of the card"}),gif:Q.string({description:"URL for the GIF on the card"}),route:Q.string({description:"Route to redirect the card"})}).array()}),HTe=Q.object({type:Q.literal("simple-tile"),description:Q.object({title:Q.string({description:"Message to be displayed inside the tile"})}).array()}),GTe=Q.object({type:Q.literal("sop-links"),sopData:Q.object({sopTitle:Q.string({description:"Title of the links"}),href:Q.object({title:Q.string({description:"Label for the link"}),href:Q.string({description:"URL for the link"})}).array()})}),Q9="This object has the following properties as optional:\n- id: Label for the id attribute for the component\n- class: Class name defined in the css file for this component.",$Te=Q.object({type:Q.literal("styled-group",{description:Q9}),components:Q.lazy(()=>XC).describe(AF),id:Q.string({description:"ID of the page element"}).optional(),class:Q.string({description:_F}).optional(),styles:aa.optional()}).describe(Q9),QTe=Q.object({type:Q.literal("table-version"),isTotal:Q.boolean({description:"True if want to display total below the table in the last row"}),isDownload:Q.boolean({description:"True if want to download the table data csv file"}),versionChooserDisabled:Q.boolean({description:"To show/hide the version select input"}),headerInfo:H9.describe("The following fields are optional in this object.\n    - isTotalRequired: True if want to display the sum of column numbers below the table.\n    - sorting: True if sorting required on the column.\n    - alignment: Alignment of the data (start or end)"),versionData:Q.lazy(()=>W9.array()).describe("Release name, source csv file and version number"),additionalHeaders:V9.array().optional().describe("Additional column names and definitions if any"),cellHeaders:V9.array().optional().describe("Additional column names and definitions if any")}).describe("This object has the following properties as optional:\n- additionalHeaders: Add details here to display additional table header for the table.\n- cellHeaders: Add details here to display cell headers for the table."),jTe=Q.object({name:Q.string({description:"Name of the Tissue"}),image:Q.string({description:"URL of the image of the Tissue"}),expandedImage:Q.string({description:"URL of the image of the Tissue when dialog is open"}),threeDimImage:Q.string({description:"URL of the 3D model file (.glb)"}),alt:Q.string({description:"Alternate text for the image"}),url:Q.string({description:"URL for the metadata button"}),svg:Q.string({description:"URL to download the SVG file of the tissue"}),ai:Q.string({description:"URL to download the AI file of the tissue"}),png:Q.string({description:"URL to download the PNG file of the tissue"})}).partial({image:!0,expandedImage:!0,threeDimImage:!0,alt:!0,svg:!0,ai:!0,png:!0}),j9="Properties 'class' and 'styles' are optional. Add styling in styles to apply styles to the title.",WTe=Q.object({type:Q.literal("title",{description:j9}),title:Q.string({description:"Title/Text to be displayed"}),class:Q.string().optional().describe(_F),styles:aa.optional()}).describe(j9),qTe=Q.object({version:Q.string({description:"HRA Release version (1.3/1.4/etc)"}),organData:FTe.array().optional().describe("Organ data for the version.\n        Property tissueData in this object is optional. Add tissue data to display details about tissues for each organ.")}),W9=Q.object({release:Q.string({description:"Label for release and release date,year"}),version:Q.number().or(Q.string()).describe("Version Number of the release"),file:Q.string().optional().describe("Name of the csv file")}),YTe=Q.object({type:Q.literal("player"),youtubePlayer:Q.object({height:Q.number({description:"Height of the youtube player"}).default(584),width:Q.number({description:"Width of the youtube player"}).default(1232),videoId:Q.string({description:"ID of the youtube video"}),playerTitle:Q.string({description:"Title of the player"})})}),XC=Q.discriminatedUnion("type",[gTe,_Te,yTe,vTe,bTe,ATe,xTe,wTe,CTe,ETe,MTe,STe,ITe,TTe,DTe,RTe,kTe,PTe,OTe,NTe,BTe,zTe,VTe,HTe,GTe,$Te,QTe,WTe,YTe]).array();let xF,XTe=(()=>{class r{constructor(i){this.http=i}getContent(i){return this.http.get(`assets/content/pages/${i}.yaml`,{observe:"body",responseType:"text"}).pipe(je(s=>y9(s)),je(s=>XC.parse(s)))}static{this.\u0275fac=function(s){return new(s||r)($e(Bh))}}static{this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function q9(r,n){return n?i=>$h(n.pipe(dr(1),function KTe(){return qi((r,n)=>{r.subscribe(Yi(n,rh))})}()),i.pipe(q9(r))):Ss((i,s)=>Ks(r(i,s)).pipe(dr(1),DC(i)))}function Y9(r,n=IC){const i=TC(r,n);return q9(()=>i)}try{xF=typeof Intl<"u"&&Intl.v8BreakIterator}catch{xF=!1}let mb,Qr=(()=>{class r{_platformId=D(Ql);isBrowser=this._platformId?Jl(this._platformId):"object"==typeof document&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!(!window.chrome&&!xF)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function wF(r){return function ZTe(){if(null==mb&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>mb=!0}))}finally{mb=mb||!1}return mb}()?r:!!r.capture}var uc=function(r){return r[r.NORMAL=0]="NORMAL",r[r.NEGATED=1]="NEGATED",r[r.INVERTED=2]="INVERTED",r}(uc||{});let KC,rf,CF;function K9(){if(null==rf){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return rf=!1,rf;if("scrollBehavior"in document.documentElement.style)rf=!0;else{const r=Element.prototype.scrollTo;rf=!!r&&!/\{\s*\[native code\]\s*\}/.test(r.toString())}}return rf}function gb(){if("object"!=typeof document||!document)return uc.NORMAL;if(null==KC){const r=document.createElement("div"),n=r.style;r.dir="rtl",n.width="1px",n.overflow="auto",n.visibility="hidden",n.pointerEvents="none",n.position="absolute";const i=document.createElement("div"),s=i.style;s.width="2px",s.height="1px",r.appendChild(i),document.body.appendChild(r),KC=uc.NORMAL,0===r.scrollLeft&&(r.scrollLeft=1,KC=0===r.scrollLeft?uc.NEGATED:uc.INVERTED),r.remove()}return KC}function EF(){let r=typeof document<"u"&&document?document.activeElement:null;for(;r&&r.shadowRoot;){const n=r.shadowRoot.activeElement;if(n===r)break;r=n}return r}function hc(r){return r.composedPath?r.composedPath()[0]:r.target}function Z9(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Al(r,n,i,s,a){const l=parseInt(v8.major),c=parseInt(v8.minor);return l>19||19===l&&c>0||0===l&&0===c?r.listen(n,i,s,a):(n.addEventListener(i,s,a),()=>{n.removeEventListener(i,s,a)})}const ZC=new WeakMap;let fc=(()=>{class r{_appRef;_injector=D(On);_environmentInjector=D(Ns);load(i){const s=this._appRef=this._appRef||this._injector.get(Co);let a=ZC.get(s);a||(a={loaders:new Set,refs:[]},ZC.set(s,a),s.onDestroy(()=>{ZC.get(s)?.refs.forEach(l=>l.destroy()),ZC.delete(s)})),a.loaders.has(i)||(a.loaders.add(i),a.refs.push(y6(i,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),MF=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(s,a){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return r})();function xl(r,...n){return n.length?n.some(i=>r[i]):r.altKey||r.shiftKey||r.ctrlKey||r.metaKey}function _b(r,n=IC){return qi((i,s)=>{let a=null,l=null,c=null;const d=()=>{if(a){a.unsubscribe(),a=null;const h=l;l=null,s.next(h)}};function u(){const h=c+r,f=n.now();if(f<h)return a=this.schedule(void 0,h-f),void s.add(a);d()}i.subscribe(Yi(s,h=>{l=h,c=n.now(),a||(a=n.schedule(u,r),s.add(a))},()=>{d(),s.complete()},void 0,()=>{l=a=null}))})}function yb(r){return Hh(r)?r:Oe(r)}function sf(r){return null!=r&&"false"!=`${r}`}function SF(r,n=0){return e7(r)?Number(r):2===arguments.length?n:0}function e7(r){return!isNaN(parseFloat(r))&&!isNaN(Number(r))}function iE(r){return Array.isArray(r)?r:[r]}function is(r){return null==r?"":"string"==typeof r?r:`${r}px`}function af(r){return r instanceof Mt?r.nativeElement:r}let t7=(()=>{class r{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),mDe=(()=>{class r{_mutationObserverFactory=D(t7);_observedElements=new Map;_ngZone=D(_t);constructor(){}ngOnDestroy(){this._observedElements.forEach((i,s)=>this._cleanupObserver(s))}observe(i){const s=af(i);return new pi(a=>{const c=this._observeElement(s).pipe(je(d=>d.filter(u=>!function pDe(r){if("characterData"===r.type&&r.target instanceof Comment)return!0;if("childList"===r.type){for(let n=0;n<r.addedNodes.length;n++)if(!(r.addedNodes[n]instanceof Comment))return!1;for(let n=0;n<r.removedNodes.length;n++)if(!(r.removedNodes[n]instanceof Comment))return!1;return!0}return!1}(u))),ni(d=>!!d.length)).subscribe(d=>{this._ngZone.run(()=>{a.next(d)})});return()=>{c.unsubscribe(),this._unobserveElement(s)}})}_observeElement(i){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(i))this._observedElements.get(i).count++;else{const s=new Qe,a=this._mutationObserverFactory.create(l=>s.next(l));a&&a.observe(i,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(i,{observer:a,stream:s,count:1})}return this._observedElements.get(i).stream})}_unobserveElement(i){this._observedElements.has(i)&&(this._observedElements.get(i).count--,this._observedElements.get(i).count||this._cleanupObserver(i))}_cleanupObserver(i){if(this._observedElements.has(i)){const{observer:s,stream:a}=this._observedElements.get(i);s&&s.disconnect(),a.complete(),this._observedElements.delete(i)}}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),gDe=(()=>{class r{_contentObserver=D(mDe);_elementRef=D(Mt);event=new ue;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(i){this._debounce=SF(i),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const i=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?i.pipe(_b(this.debounce)):i).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ct],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return r})(),n7=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[t7]})}return r})();const i7=new Set;let lf,_De=(()=>{class r{_platform=D(Qr);_nonce=D(ax,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vDe}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function yDe(r,n){if(!i7.has(r))try{lf||(lf=document.createElement("style"),n&&lf.setAttribute("nonce",n),lf.setAttribute("type","text/css"),document.head.appendChild(lf)),lf.sheet&&(lf.sheet.insertRule(`@media ${r} {body{ }}`,0),i7.add(r))}catch(i){console.error(i)}}(i,this._nonce),this._matchMedia(i)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function vDe(r){return{matches:"all"===r||""===r,media:r,addListener:()=>{},removeListener:()=>{}}}let bDe=(()=>{class r{_mediaMatcher=D(_De);_zone=D(_t);_queries=new Map;_destroySubject=new Qe;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return r7(iE(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let l=_l(r7(iE(i)).map(c=>this._registerQuery(c).observable));return l=$h(l.pipe(dr(1)),l.pipe(MC(1),_b(0))),l.pipe(je(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:u,query:h})=>{d.matches=d.matches||u,d.breakpoints[h]=u}),d}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const s=this._mediaMatcher.matchMedia(i),l={observable:new pi(c=>{const d=u=>this._zone.run(()=>c.next(u));return s.addListener(d),()=>{s.removeListener(d)}}).pipe(Ts(s),je(({matches:c})=>({query:i,matches:c})),Nn(this._destroySubject)),mql:s};return this._queries.set(i,l),l}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function r7(r){return r.map(n=>n.split(",")).reduce((n,i)=>n.concat(i)).map(n=>n.trim())}function o7(r,n,i){const s=rE(r,n);i=i.trim(),!s.some(a=>a.trim()===i)&&(s.push(i),r.setAttribute(n,s.join(" ")))}function IF(r,n,i){const s=rE(r,n);i=i.trim();const a=s.filter(l=>l!==i);a.length?r.setAttribute(n,a.join(" ")):r.removeAttribute(n)}function rE(r,n){return r.getAttribute(n)?.match(/\S+/g)??[]}const a7="cdk-describedby-message",sE="cdk-describedby-host";let TF=0,ADe=(()=>{class r{_platform=D(Qr);_document=D(rn);_messageRegistry=new Map;_messagesContainer=null;_id=""+TF++;constructor(){D(fc).load(MF),this._id=D(Wc)+"-"+TF++}describe(i,s,a){if(!this._canBeDescribed(i,s))return;const l=DF(s,a);"string"!=typeof s?(l7(s,this._id),this._messageRegistry.set(l,{messageElement:s,referenceCount:0})):this._messageRegistry.has(l)||this._createMessageElement(s,a),this._isElementDescribedByMessage(i,l)||this._addMessageReference(i,l)}removeDescription(i,s,a){if(!s||!this._isElementNode(i))return;const l=DF(s,a);if(this._isElementDescribedByMessage(i,l)&&this._removeMessageReference(i,l),"string"==typeof s){const c=this._messageRegistry.get(l);c&&0===c.referenceCount&&this._deleteMessageElement(l)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const i=this._document.querySelectorAll(`[${sE}="${this._id}"]`);for(let s=0;s<i.length;s++)this._removeCdkDescribedByReferenceIds(i[s]),i[s].removeAttribute(sE);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(i,s){const a=this._document.createElement("div");l7(a,this._id),a.textContent=i,s&&a.setAttribute("role",s),this._createMessagesContainer(),this._messagesContainer.appendChild(a),this._messageRegistry.set(DF(i,s),{messageElement:a,referenceCount:0})}_deleteMessageElement(i){this._messageRegistry.get(i)?.messageElement?.remove(),this._messageRegistry.delete(i)}_createMessagesContainer(){if(this._messagesContainer)return;const i="cdk-describedby-message-container",s=this._document.querySelectorAll(`.${i}[platform="server"]`);for(let l=0;l<s.length;l++)s[l].remove();const a=this._document.createElement("div");a.style.visibility="hidden",a.classList.add(i),a.classList.add("cdk-visually-hidden"),this._platform.isBrowser||a.setAttribute("platform","server"),this._document.body.appendChild(a),this._messagesContainer=a}_removeCdkDescribedByReferenceIds(i){const s=rE(i,"aria-describedby").filter(a=>0!=a.indexOf(a7));i.setAttribute("aria-describedby",s.join(" "))}_addMessageReference(i,s){const a=this._messageRegistry.get(s);o7(i,"aria-describedby",a.messageElement.id),i.setAttribute(sE,this._id),a.referenceCount++}_removeMessageReference(i,s){const a=this._messageRegistry.get(s);a.referenceCount--,IF(i,"aria-describedby",a.messageElement.id),i.removeAttribute(sE)}_isElementDescribedByMessage(i,s){const a=rE(i,"aria-describedby"),l=this._messageRegistry.get(s),c=l&&l.messageElement.id;return!!c&&-1!=a.indexOf(c)}_canBeDescribed(i,s){if(!this._isElementNode(i))return!1;if(s&&"object"==typeof s)return!0;const a=null==s?"":`${s}`.trim(),l=i.getAttribute("aria-label");return!(!a||l&&l.trim()===a)}_isElementNode(i){return i.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function DF(r,n){return"string"==typeof r?`${n||""}/${r}`:r}function l7(r,n){r.id||(r.id=`${a7}-${n}-${TF++}`)}class c7{_letterKeyStream=new Qe;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Qe;selectedItem=this._selectedItem;constructor(n,i){const s="number"==typeof i?.debounceInterval?i.debounceInterval:200;i?.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),this.setItems(n),this._setupKeyHandler(s)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(n){this._selectedItemIndex=n}setItems(n){this._items=n}handleKey(n){const i=n.keyCode;n.key&&1===n.key.length?this._letterKeyStream.next(n.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(n){this._letterKeyStream.pipe(Ar(i=>this._pressedLetters.push(i)),_b(n),ni(()=>this._pressedLetters.length>0),je(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(i=>{for(let s=1;s<this._items.length+1;s++){const l=this._items[(this._selectedItemIndex+s)%this._items.length];if(!this._skipPredicateFn?.(l)&&0===l.getLabel?.().toLocaleUpperCase().trim().indexOf(i)){this._selectedItem.next(l);break}}this._pressedLetters=[]})}}class d7{_items;_activeItemIndex=-1;_activeItem=ga(null);_wrap=!1;_typeaheadSubscription=gn.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=n=>n.disabled;constructor(n,i){this._items=n,n instanceof bh?this._itemChangesSubscription=n.changes.subscribe(s=>this._itemsChanged(s.toArray())):my(n)&&(this._effectRef=function MR(r,n){!n?.injector&&Ip();const i=n?.injector??D(On);let a,s=!0!==n?.manualCleanup?i.get(Qc):null;const l=i.get(hx,null,{optional:!0}),c=i.get(jc);return null===l||n?.forceRoot?a=function N_e(r,n,i){const s=Object.create(P_e);return s.fn=r,s.scheduler=n,s.notifier=i,s.zone=typeof Zone<"u"?Zone.current:null,s.scheduler.schedule(s),s.notifier.notify(12),s}(r,i.get(QD),c):(a=function O_e(r,n,i){const s=Object.create(F_e);return s.view=r,s.zone=typeof Zone<"u"?Zone.current:null,s.notifier=n,s.fn=i,r[23]??=new Set,r[23].add(s),s.consumerMarkedDirty(s),s}(l.view,c,r),s instanceof mU&&s._lView===l.view&&(s=null)),a.injector=i,null!==s&&(a.onDestroyFn=s.onDestroy(()=>a.destroy())),new k_e(a)}(()=>this._itemsChanged(n()),{injector:i}))}tabOut=new Qe;change=new Qe;skipPredicate(n){return this._skipPredicateFn=n,this}withWrap(n=!0){return this._wrap=n,this}withVerticalOrientation(n=!0){return this._vertical=n,this}withHorizontalOrientation(n){return this._horizontal=n,this}withAllowedModifierKeys(n){return this._allowedModifierKeys=n,this}withTypeAhead(n=200){this._typeaheadSubscription.unsubscribe();const i=this._getItemsArray();return this._typeahead=new c7(i,{debounceInterval:"number"==typeof n?n:void 0,skipPredicate:s=>this._skipPredicateFn(s)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(s=>{this.setActiveItem(s)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(n=!0){return this._homeAndEnd=n,this}withPageUpDown(n=!0,i=10){return this._pageUpAndDown={enabled:n,delta:i},this}setActiveItem(n){const i=this._activeItem();this.updateActiveItem(n),this._activeItem()!==i&&this.change.next(this._activeItemIndex)}onKeydown(n){const i=n.keyCode,a=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!n[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(i){case 9:return void this.tabOut.next();case 40:if(this._vertical&&a){this.setNextItemActive();break}return;case 38:if(this._vertical&&a){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&a){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&a){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&a){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&a){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&a){const l=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(l>0?l:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&a){const l=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(l<c?l:c-1,-1);break}return;default:return void((a||xl(n,"shiftKey"))&&this._typeahead?.handleKey(n))}this._typeahead?.reset(),n.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(n){const i=this._getItemsArray(),s="number"==typeof n?n:i.indexOf(n);this._activeItem.set(i[s]??null),this._activeItemIndex=s,this._typeahead?.setCurrentSelectedItemIndex(s)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(n){this._wrap?this._setActiveInWrapMode(n):this._setActiveInDefaultMode(n)}_setActiveInWrapMode(n){const i=this._getItemsArray();for(let s=1;s<=i.length;s++){const a=(this._activeItemIndex+n*s+i.length)%i.length;if(!this._skipPredicateFn(i[a]))return void this.setActiveItem(a)}}_setActiveInDefaultMode(n){this._setActiveItemByIndex(this._activeItemIndex+n,n)}_setActiveItemByIndex(n,i){const s=this._getItemsArray();if(s[n]){for(;this._skipPredicateFn(s[n]);)if(!s[n+=i])return;this.setActiveItem(n)}}_getItemsArray(){return my(this._items)?this._items():this._items instanceof bh?this._items.toArray():this._items}_itemsChanged(n){this._typeahead?.setItems(n);const i=this._activeItem();if(i){const s=n.indexOf(i);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s,this._typeahead?.setCurrentSelectedItemIndex(s))}}}class wDe extends d7{setActiveItem(n){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(n),this.activeItem&&this.activeItem.setActiveStyles()}}class u7 extends d7{_origin="program";setFocusOrigin(n){return this._origin=n,this}setActiveItem(n){super.setActiveItem(n),this.activeItem&&this.activeItem.focus(this._origin)}}class CDe{_activeItemIndex=-1;_activeItem=null;_shouldActivationFollowFocus=!1;_horizontalOrientation="ltr";_skipPredicateFn=n=>!1;_trackByFn=n=>n;_items=[];_typeahead;_typeaheadSubscription=gn.EMPTY;_hasInitialFocused=!1;_initializeFocus(){if(this._hasInitialFocused||0===this._items.length)return;let n=0;for(let s=0;s<this._items.length;s++)if(!this._skipPredicateFn(this._items[s])&&!this._isItemDisabled(this._items[s])){n=s;break}const i=this._items[n];i.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=n,this._activeItem=i,this._typeahead?.setCurrentSelectedItemIndex(n),i.makeFocusable()):this.focusItem(n),this._hasInitialFocused=!0}constructor(n,i){n instanceof bh?(this._items=n.toArray(),n.changes.subscribe(s=>{this._items=s.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):Hh(n)?n.subscribe(s=>{this._items=s,this._typeahead?.setItems(s),this._updateActiveItemIndex(s),this._initializeFocus()}):(this._items=n,this._initializeFocus()),"boolean"==typeof i.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=i.shouldActivationFollowFocus),i.horizontalOrientation&&(this._horizontalOrientation=i.horizontalOrientation),i.skipPredicate&&(this._skipPredicateFn=i.skipPredicate),i.trackBy&&(this._trackByFn=i.trackBy),typeof i.typeAheadDebounceInterval<"u"&&this._setTypeAhead(i.typeAheadDebounceInterval)}change=new Qe;destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(n){switch(n.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===n.key){this._expandAllItemsAtCurrentItemLevel();break}return void this._typeahead?.handleKey(n)}this._typeahead?.reset(),n.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(n,i={}){i.emitChangeEvent??=!0;let s="number"==typeof n?n:this._items.findIndex(c=>this._trackByFn(c)===this._trackByFn(n));if(s<0||s>=this._items.length)return;const a=this._items[s];if(null!==this._activeItem&&this._trackByFn(a)===this._trackByFn(this._activeItem))return;const l=this._activeItem;this._activeItem=a??null,this._activeItemIndex=s,this._typeahead?.setCurrentSelectedItemIndex(s),this._activeItem?.focus(),l?.unfocus(),i.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(n){const i=this._activeItem;if(!i)return;const s=n.findIndex(a=>this._trackByFn(a)===this._trackByFn(i));s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s,this._typeahead?.setCurrentSelectedItemIndex(s))}_setTypeAhead(n){this._typeahead=new c7(this._items,{debounceInterval:"number"==typeof n?n:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.focusItem(i)})}_findNextAvailableItemIndex(n){for(let i=n+1;i<this._items.length;i++)if(!this._skipPredicateFn(this._items[i]))return i;return n}_findPreviousAvailableItemIndex(n){for(let i=n-1;i>=0;i--)if(!this._skipPredicateFn(this._items[i]))return i;return n}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const n=this._activeItem.getParent();if(!n||this._skipPredicateFn(n))return;this.focusItem(n)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?yb(this._activeItem.getChildren()).pipe(dr(1)).subscribe(n=>{const i=n.find(s=>!this._skipPredicateFn(s));i&&this.focusItem(i)}):this._activeItem.expand())}_isCurrentItemExpanded(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}_isItemDisabled(n){return"boolean"==typeof n.isDisabled?n.isDisabled:n.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const n=this._activeItem.getParent();let i;i=n?yb(n.getChildren()):Oe(this._items.filter(s=>null===s.getParent())),i.pipe(dr(1)).subscribe(s=>{for(const a of s)a.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}const RF=new se("tree-key-manager",{providedIn:"root",factory:function h7(){return(r,n)=>new CDe(r,n)}});let kF=(()=>{class r{_platform=D(Qr);constructor(){}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return function IDe(r){return!!(r.offsetWidth||r.offsetHeight||"function"==typeof r.getClientRects&&r.getClientRects().length)}(i)&&"visible"===getComputedStyle(i).visibility}isTabbable(i){if(!this._platform.isBrowser)return!1;const s=function SDe(r){try{return r.frameElement}catch{return null}}(function NDe(r){return r.ownerDocument&&r.ownerDocument.defaultView||window}(i));if(s&&(-1===p7(s)||!this.isVisible(s)))return!1;let a=i.nodeName.toLowerCase(),l=p7(i);return i.hasAttribute("contenteditable")?-1!==l:!("iframe"===a||"object"===a||this._platform.WEBKIT&&this._platform.IOS&&!function FDe(r){let n=r.nodeName.toLowerCase(),i="input"===n&&r.type;return"text"===i||"password"===i||"select"===n||"textarea"===n}(i))&&("audio"===a?!!i.hasAttribute("controls")&&-1!==l:"video"===a?-1!==l&&(null!==l||this._platform.FIREFOX||i.hasAttribute("controls")):i.tabIndex>=0)}isFocusable(i,s){return function ODe(r){return!function DDe(r){return function kDe(r){return"input"==r.nodeName.toLowerCase()}(r)&&"hidden"==r.type}(r)&&(function TDe(r){let n=r.nodeName.toLowerCase();return"input"===n||"select"===n||"button"===n||"textarea"===n}(r)||function RDe(r){return function PDe(r){return"a"==r.nodeName.toLowerCase()}(r)&&r.hasAttribute("href")}(r)||r.hasAttribute("contenteditable")||f7(r))}(i)&&!this.isDisabled(i)&&(s?.ignoreVisibility||this.isVisible(i))}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function f7(r){if(!r.hasAttribute("tabindex")||void 0===r.tabIndex)return!1;let n=r.getAttribute("tabindex");return!(!n||isNaN(parseInt(n,10)))}function p7(r){if(!f7(r))return null;const n=parseInt(r.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}class m7{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,i,s,a,l=!1,c){this._element=n,this._checker=i,this._ngZone=s,this._document=a,this._injector=c,l||this.attachAnchors()}destroy(){const n=this._startAnchor,i=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){const i=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return"start"==n?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){const s=this._getFirstTabbableElement(i);return s?.focus(n),!!s}return i.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){const i=this._getRegionBoundary("start");return i&&i.focus(n),!!i}focusLastTabbableElement(n){const i=this._getRegionBoundary("end");return i&&i.focus(n),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=0;s<i.length;s++){const a=i[s].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[s]):null;if(a)return a}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;const i=n.children;for(let s=i.length-1;s>=0;s--){const a=i[s].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[s]):null;if(a)return a}return null}_createAnchor(){const n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,i){n?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?_a(n,{injector:this._injector}):setTimeout(n)}}let g7=(()=>{class r{_checker=D(kF);_ngZone=D(_t);_document=D(rn);_injector=D(On);constructor(){D(fc).load(MF)}create(i,s=!1){return new m7(i,this._checker,this._ngZone,this._document,s,this._injector)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function PF(r){return 0===r.buttons||0===r.detail}function FF(r){const n=r.touches&&r.touches[0]||r.changedTouches&&r.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const BDe=new se("cdk-input-modality-detector-options"),LDe={ignoreKeys:[18,17,224,91,16]},OF={passive:!0,capture:!0};let UDe=(()=>{class r{_platform=D(Qr);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Fi(null);_options;_lastTouchMs=0;_onKeydown=i=>{this._options?.ignoreKeys?.some(s=>s===i.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hc(i))};_onMousedown=i=>{Date.now()-this._lastTouchMs<650||(this._modality.next(PF(i)?"keyboard":"mouse"),this._mostRecentTarget=hc(i))};_onTouchstart=i=>{FF(i)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hc(i))};constructor(){const i=D(_t),s=D(rn),a=D(BDe,{optional:!0});if(this._options={...LDe,...a},this.modalityDetected=this._modality.pipe(MC(1)),this.modalityChanged=this.modalityDetected.pipe(Kv()),this._platform.isBrowser){const l=D(dl).createRenderer(null,null);this._listenerCleanups=i.runOutsideAngular(()=>[Al(l,s,"keydown",this._onKeydown,OF),Al(l,s,"mousedown",this._onMousedown,OF),Al(l,s,"touchstart",this._onTouchstart,OF)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(i=>i())}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const zDe=new se("liveAnnouncerElement",{providedIn:"root",factory:function VDe(){return null}}),HDe=new se("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let GDe=0,$De=(()=>{class r{_ngZone=D(_t);_defaultOptions=D(HDe,{optional:!0});_liveElement;_document=D(rn);_previousTimeout;_currentPromise;_currentResolve;constructor(){const i=D(zDe,{optional:!0});this._liveElement=i||this._createLiveElement()}announce(i,...s){const a=this._defaultOptions;let l,c;return 1===s.length&&"number"==typeof s[0]?c=s[0]:[l,c]=s,this.clear(),clearTimeout(this._previousTimeout),l||(l=a&&a.politeness?a.politeness:"polite"),null==c&&a&&(c=a.duration),this._liveElement.setAttribute("aria-live",l),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const i="cdk-live-announcer-element",s=this._document.getElementsByClassName(i),a=this._document.createElement("div");for(let l=0;l<s.length;l++)s[l].remove();return a.classList.add(i),a.classList.add("cdk-visually-hidden"),a.setAttribute("aria-atomic","true"),a.setAttribute("aria-live","polite"),a.id="cdk-live-announcer-"+GDe++,this._document.body.appendChild(a),a}_exposeAnnouncerToModals(i){const s=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let a=0;a<s.length;a++){const l=s[a],c=l.getAttribute("aria-owns");c?-1===c.indexOf(i)&&l.setAttribute("aria-owns",c+" "+i):l.setAttribute("aria-owns",i)}}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var oE=function(r){return r[r.IMMEDIATE=0]="IMMEDIATE",r[r.EVENTUAL=1]="EVENTUAL",r}(oE||{});const QDe=new se("cdk-focus-monitor-default-options"),aE=wF({passive:!0,capture:!0});let cf=(()=>{class r{_ngZone=D(_t);_platform=D(Qr);_inputModalityDetector=D(UDe);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=D(rn,{optional:!0});_stopInputModalityDetector=new Qe;constructor(){const i=D(QDe,{optional:!0});this._detectionMode=i?.detectionMode||oE.IMMEDIATE}_rootNodeFocusAndBlurListener=i=>{for(let a=hc(i);a;a=a.parentElement)"focus"===i.type?this._onFocus(i,a):this._onBlur(i,a)};monitor(i,s=!1){const a=af(i);if(!this._platform.isBrowser||1!==a.nodeType)return Oe();const l=function eDe(r){if(function JTe(){if(null==CF){const r=typeof document<"u"?document.head:null;CF=!(!r||!r.createShadowRoot&&!r.attachShadow)}return CF}()){const n=r.getRootNode?r.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}(a)||this._getDocument(),c=this._elementInfo.get(a);if(c)return s&&(c.checkChildren=!0),c.subject;const d={checkChildren:s,subject:new Qe,rootNode:l};return this._elementInfo.set(a,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(i){const s=af(i),a=this._elementInfo.get(s);a&&(a.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(a))}focusVia(i,s,a){const l=af(i);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([d,u])=>this._originChanged(d,s,u)):(this._setOrigin(s),"function"==typeof l.focus&&l.focus(a))}ngOnDestroy(){this._elementInfo.forEach((i,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===oE.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,s){i.classList.toggle("cdk-focused",!!s),i.classList.toggle("cdk-touch-focused","touch"===s),i.classList.toggle("cdk-keyboard-focused","keyboard"===s),i.classList.toggle("cdk-mouse-focused","mouse"===s),i.classList.toggle("cdk-program-focused","program"===s)}_setOrigin(i,s=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&s,this._detectionMode===oE.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,s){const a=this._elementInfo.get(s),l=hc(i);!a||!a.checkChildren&&s!==l||this._originChanged(s,this._getFocusOrigin(l),a)}_onBlur(i,s){const a=this._elementInfo.get(s);!a||a.checkChildren&&i.relatedTarget instanceof Node&&s.contains(i.relatedTarget)||(this._setClasses(s),this._emitOrigin(a,null))}_emitOrigin(i,s){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(s))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const s=i.rootNode,a=this._rootNodeFocusListenerCount.get(s)||0;a||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,aE),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,aE)}),this._rootNodeFocusListenerCount.set(s,a+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Nn(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(i){const s=i.rootNode;if(this._rootNodeFocusListenerCount.has(s)){const a=this._rootNodeFocusListenerCount.get(s);a>1?this._rootNodeFocusListenerCount.set(s,a-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,aE),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,aE),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,s,a){this._setClasses(i,s),this._emitOrigin(a,s),this._lastFocusOrigin=s}_getClosestElementsInfo(i){const s=[];return this._elementInfo.forEach((a,l)=>{(l===i||a.checkChildren&&l.contains(i))&&s.push([l,a])}),s}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:s,mostRecentModality:a}=this._inputModalityDetector;if("mouse"!==a||!s||s===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const l=i.labels;if(l)for(let c=0;c<l.length;c++)if(l[c].contains(s))return!0;return!1}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),jDe=(()=>{class r{_elementRef=D(Mt);_focusMonitor=D(cf);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ue;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const i=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(i,1===i.nodeType&&i.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>{this._focusOrigin=s,this.cdkFocusChange.emit(s)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return r})();var df=function(r){return r[r.NONE=0]="NONE",r[r.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",r[r.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",r}(df||{});const y7="cdk-high-contrast-black-on-white",v7="cdk-high-contrast-white-on-black",NF="cdk-high-contrast-active";let b7=(()=>{class r{_platform=D(Qr);_hasCheckedHighContrastMode;_document=D(rn);_breakpointSubscription;constructor(){this._breakpointSubscription=D(bDe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return df.NONE;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(i):null,l=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return df.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return df.BLACK_ON_WHITE}return df.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(NF,y7,v7),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();s===df.BLACK_ON_WHITE?i.add(NF,y7):s===df.WHITE_ON_BLACK&&i.add(NF,v7)}}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),WDe=(()=>{class r{constructor(){D(b7)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[n7]})}return r})();const BF={};let wu=(()=>{class r{_appId=D(Wc);getId(i){return"ng"!==this._appId&&(i+=this._appId),BF.hasOwnProperty(i)||(BF[i]=0),`${i}${BF[i]++}`}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const qDe=new se("cdk-dir-doc",{providedIn:"root",factory:function YDe(){return D(rn)}}),XDe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wa=(()=>{class r{value="ltr";change=new ue;constructor(){const i=D(qDe,{optional:!0});i&&(this.value=function KDe(r){const n=r?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?XDe.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),vb=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})();const ZDe=["text"],JDe=[[["mat-icon"]],"*"],eRe=["mat-icon","*"];function tRe(r,n){if(1&r&&Te(0,"mat-pseudo-checkbox",1),2&r){const i=J();j("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function nRe(r,n){1&r&&Te(0,"mat-pseudo-checkbox",3),2&r&&j("disabled",J().disabled)}function iRe(r,n){if(1&r&&(Y(0,"span",4),ce(1),W()),2&r){const i=J();L(),jt("(",i.group.label,")")}}let ci=(()=>{class r{constructor(){D(b7)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[vb,vb]})}return r})();class rRe{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(n,i,s,a,l){this._defaultMatcher=n,this.ngControl=i,this._parentFormGroup=s,this._parentForm=a,this._stateChanges=l}updateErrorState(){const n=this.errorState,i=this._parentFormGroup||this._parentForm,s=this.matcher||this._defaultMatcher,a=this.ngControl?this.ngControl.control:null,l=s?.isErrorState(a,i)??!1;l!==n&&(this.errorState=l,this._stateChanges.next())}}let dRe=(()=>{class r{isErrorState(i,s){return!!(i&&i.invalid&&(i.touched||s&&s.submitted))}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),bb=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["structural-styles"]],decls:0,vars:0,template:function(s,a){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return r})();var ja=function(r){return r[r.FADING_IN=0]="FADING_IN",r[r.VISIBLE=1]="VISIBLE",r[r.FADING_OUT=2]="FADING_OUT",r[r.HIDDEN=3]="HIDDEN",r}(ja||{});class uRe{_renderer;element;config;_animationForciblyDisabledThroughCss;state=ja.HIDDEN;constructor(n,i,s,a=!1){this._renderer=n,this.element=i,this.config=s,this._animationForciblyDisabledThroughCss=a}fadeOut(){this._renderer.fadeOutRipple(this)}}const A7=wF({passive:!0,capture:!0});class hRe{_events=new Map;addHandler(n,i,s,a){const l=this._events.get(i);if(l){const c=l.get(s);c?c.add(a):l.set(s,new Set([a]))}else this._events.set(i,new Map([[s,new Set([a])]])),n.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,A7)})}removeHandler(n,i,s){const a=this._events.get(n);if(!a)return;const l=a.get(i);l&&(l.delete(s),0===l.size&&a.delete(i),0===a.size&&(this._events.delete(n),document.removeEventListener(n,this._delegateEventHandler,A7)))}_delegateEventHandler=n=>{const i=hc(n);i&&this._events.get(n.type)?.forEach((s,a)=>{(a===i||a.contains(i))&&s.forEach(l=>l.handleEvent(n))})}}const lE={enterDuration:225,exitDuration:150},x7=wF({passive:!0,capture:!0}),w7=["mousedown","touchstart"],C7=["mouseup","mouseleave","touchend","touchcancel"];let pRe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(s,a){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return r})();class xb{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new hRe;constructor(n,i,s,a,l){this._target=n,this._ngZone=i,this._platform=a,a.isBrowser&&(this._containerElement=af(s)),l&&l.get(fc).load(pRe)}fadeInRipple(n,i,s={}){const a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...lE,...s.animation};s.centered&&(n=a.left+a.width/2,i=a.top+a.height/2);const c=s.radius||function mRe(r,n,i){const s=Math.max(Math.abs(r-i.left),Math.abs(r-i.right)),a=Math.max(Math.abs(n-i.top),Math.abs(n-i.bottom));return Math.sqrt(s*s+a*a)}(n,i,a),d=n-a.left,u=i-a.top,h=l.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=d-c+"px",f.style.top=u-c+"px",f.style.height=2*c+"px",f.style.width=2*c+"px",null!=s.color&&(f.style.backgroundColor=s.color),f.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(f);const p=window.getComputedStyle(f),m=p.transitionDuration,_="none"===p.transitionProperty||"0s"===m||"0s, 0s"===m||0===a.width&&0===a.height,v=new uRe(this,f,s,_);f.style.transform="scale3d(1, 1, 1)",v.state=ja.FADING_IN,s.persistent||(this._mostRecentTransientRipple=v);let y=null;return!_&&(h||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>{y&&(y.fallbackTimer=null),clearTimeout(x),this._finishRippleTransition(v)},A=()=>this._destroyRipple(v),x=setTimeout(A,h+100);f.addEventListener("transitionend",b),f.addEventListener("transitioncancel",A),y={onTransitionEnd:b,onTransitionCancel:A,fallbackTimer:x}}),this._activeRipples.set(v,y),(_||!h)&&this._finishRippleTransition(v),v}fadeOutRipple(n){if(n.state===ja.FADING_OUT||n.state===ja.HIDDEN)return;const i=n.element,s={...lE,...n.config.animation};i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",n.state=ja.FADING_OUT,(n._animationForciblyDisabledThroughCss||!s.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const i=af(n);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,w7.forEach(s=>{xb._eventManager.addHandler(this._ngZone,s,i,this)}))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{C7.forEach(i=>{this._triggerElement.addEventListener(i,this,x7)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){n.state===ja.FADING_IN?this._startFadeOutTransition(n):n.state===ja.FADING_OUT&&this._destroyRipple(n)}_startFadeOutTransition(n){const i=n===this._mostRecentTransientRipple,{persistent:s}=n.config;n.state=ja.VISIBLE,!s&&(!i||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const i=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=ja.HIDDEN,null!==i&&(n.element.removeEventListener("transitionend",i.onTransitionEnd),n.element.removeEventListener("transitioncancel",i.onTransitionCancel),null!==i.fallbackTimer&&clearTimeout(i.fallbackTimer)),n.element.remove()}_onMousedown(n){const i=PF(n),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!FF(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const i=n.changedTouches;if(i)for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(n.state===ja.VISIBLE||n.config.terminateOnPointerUp&&n.state===ja.FADING_IN)&&n.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const n=this._triggerElement;n&&(w7.forEach(i=>xb._eventManager.removeHandler(i,n,this)),this._pointerUpEventsRegistered&&(C7.forEach(i=>n.removeEventListener(i,this,x7)),this._pointerUpEventsRegistered=!1))}}const E7=new se("mat-ripple-global-options");let cE=(()=>{class r{_elementRef=D(Mt);_animationMode=D(xo,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){const i=D(_t),s=D(Qr),a=D(E7,{optional:!0}),l=D(On);this._globalOptions=a||{},this._rippleRenderer=new xb(this,i,this._elementRef,s,l)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,a){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,s,{...this.rippleConfig,...a}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(s,a){2&s&&Lt("mat-ripple-unbounded",a.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return r})(),dE=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,ci]})}return r})(),gRe=(()=>{class r{_animationMode=D(xo,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(s,a){2&s&&Lt("mat-pseudo-checkbox-indeterminate","indeterminate"===a.state)("mat-pseudo-checkbox-checked","checked"===a.state)("mat-pseudo-checkbox-disabled",a.disabled)("mat-pseudo-checkbox-minimal","minimal"===a.appearance)("mat-pseudo-checkbox-full","full"===a.appearance)("_mat-animation-noopable","NoopAnimations"===a._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(s,a){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return r})(),_Re=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci]})}return r})();const M7=new se("MAT_OPTION_PARENT_COMPONENT"),S7=new se("MatOptgroup");class yRe{source;isUserInput;constructor(n,i=!1){this.source=n,this.isUserInput=i}}let LF=(()=>{class r{_element=D(Mt);_changeDetectorRef=D(Zi);_parent=D(M7,{optional:!0});group=D(S7,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=D(wu).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(i){this._disabled=i}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ue;_text;_stateChanges=new Qe;constructor(){const i=D(fc);i.load(bb),i.load(MF),this._signalDisableRipple=!!this._parent&&my(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(i=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}deselect(i=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),i&&this._emitSelectionChangeEvent())}focus(i,s){const a=this._getHostElement();"function"==typeof a.focus&&a.focus(s)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(i){(13===i.keyCode||32===i.keyCode)&&!xl(i)&&(this._selectViaInteraction(),i.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const i=this.viewValue;i!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=i)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(i=!1){this.onSelectionChange.emit(new yRe(this,i))}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-option"]],viewQuery:function(s,a){if(1&s&&Kn(ZDe,7),2&s){let l;St(l=It())&&(a._text=l.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(s,a){1&s&&ht("click",function(){return a._selectViaInteraction()})("keydown",function(c){return a._handleKeydown(c)}),2&s&&(Rh("id",a.id),en("aria-selected",a.selected)("aria-disabled",a.disabled.toString()),Lt("mdc-list-item--selected",a.selected)("mat-mdc-option-multiple",a.multiple)("mat-mdc-option-active",a.active)("mdc-list-item--disabled",a.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ct]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:eRe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(s,a){1&s&&(lr(JDe),ge(0,tRe,1,2,"mat-pseudo-checkbox",1),cn(1),Y(2,"span",2,0),cn(4,1),W(),ge(5,nRe,1,1,"mat-pseudo-checkbox",3)(6,iRe,2,1,"span",4),Te(7,"div",5)),2&s&&(Vr(a.multiple?0:-1),L(5),Vr(a.multiple||!a.selected||a.hideSingleSelectionIndicator?-1:5),L(),Vr(a.group&&a.group._inert?6:-1),L(),j("matRippleTrigger",a._getHostElement())("matRippleDisabled",a.disabled||a.disableRipple))},dependencies:[gRe,cE],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return r})(),I7=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[dE,ci,_Re]})}return r})();const ARe={capture:!0},xRe=["focus","mousedown","mouseenter","touchstart"],UF="mat-ripple-loader-uninitialized",zF="mat-ripple-loader-class-name",T7="mat-ripple-loader-centered",uE="mat-ripple-loader-disabled";let wRe=(()=>{class r{_document=D(rn);_animationMode=D(xo,{optional:!0});_globalRippleOptions=D(E7,{optional:!0});_platform=D(Qr);_ngZone=D(_t);_injector=D(On);_eventCleanups;_hosts=new Map;constructor(){const i=D(dl).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>xRe.map(s=>Al(i,this._document,s,this._onInteraction,ARe)))}ngOnDestroy(){const i=this._hosts.keys();for(const s of i)this.destroyRipple(s);this._eventCleanups.forEach(s=>s())}configureRipple(i,s){i.setAttribute(UF,this._globalRippleOptions?.namespace??""),(s.className||!i.hasAttribute(zF))&&i.setAttribute(zF,s.className||""),s.centered&&i.setAttribute(T7,""),s.disabled&&i.setAttribute(uE,"")}setDisabled(i,s){const a=this._hosts.get(i);a?(a.target.rippleDisabled=s,!s&&!a.hasSetUpEvents&&(a.hasSetUpEvents=!0,a.renderer.setupTriggerEvents(i))):s?i.setAttribute(uE,""):i.removeAttribute(uE)}_onInteraction=i=>{const s=hc(i);if(s instanceof HTMLElement){const a=s.closest(`[${UF}="${this._globalRippleOptions?.namespace??""}"]`);a&&this._createRipple(a)}};_createRipple(i){if(!this._document||this._hosts.has(i))return;i.querySelector(".mat-ripple")?.remove();const s=this._document.createElement("span");s.classList.add("mat-ripple",i.getAttribute(zF)),i.append(s);const a="NoopAnimations"===this._animationMode,l=this._globalRippleOptions,c=a?0:l?.animation?.enterDuration??lE.enterDuration,d=a?0:l?.animation?.exitDuration??lE.exitDuration,u={rippleDisabled:a||l?.disabled||i.hasAttribute(uE),rippleConfig:{centered:i.hasAttribute(T7),terminateOnPointerUp:l?.terminateOnPointerUp,animation:{enterDuration:c,exitDuration:d}}},h=new xb(u,this._ngZone,s,this._platform,this._injector),f=!u.rippleDisabled;f&&h.setupTriggerEvents(i),this._hosts.set(i,{target:u,renderer:h,hasSetUpEvents:f}),i.removeAttribute(UF)}destroyRipple(i){const s=this._hosts.get(i);s&&(s.renderer._removeTriggerEvents(),this._hosts.delete(i))}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const CRe=["*"],SRe=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],IRe=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],TRe=new se("MAT_CARD_CONFIG");let Ca=(()=>{class r{appearance;constructor(){const i=D(TRe,{optional:!0});this.appearance=i?.appearance||"raised"}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(s,a){2&s&&Lt("mat-mdc-card-outlined","outlined"===a.appearance)("mdc-card--outlined","outlined"===a.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:CRe,decls:1,vars:0,template:function(s,a){1&s&&(lr(),cn(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-sys-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-sys-corner-medium));border-width:var(--mdc-outlined-card-outline-width, 1px);border-color:var(--mdc-outlined-card-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return r})(),D7=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return r})(),dg=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return r})(),VF=(()=>{class r{align="start";static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(s,a){2&s&&Lt("mat-mdc-card-actions-align-end","end"===a.align)},inputs:{align:"align"},exportAs:["matCardActions"]})}return r})(),R7=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:IRe,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(s,a){1&s&&(lr(SRe),cn(0),Y(1,"div",0),cn(2,1),W(),cn(3,2))},encapsulation:2,changeDetection:0})}return r})(),k7=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"]})}return r})(),Wa=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,ci]})}return r})();function PRe(r,n){if(1&r&&(Y(0,"mat-card",1)(1,"div",2),Te(2,"img",3),W(),Y(3,"div",4)(4,"div",5),ce(5),W(),Y(6,"div",6),ce(7),W()()()),2&r){const i=n.$implicit;L(2),j("src",i.image,wn)("alt",i.alt),L(3),jt(" ",i.title," "),L(2),jt(" ",i.subtitle," ")}}let FRe=(()=>{class r{constructor(){this.headerCard=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-page-header"]],inputs:{headerCard:"headerCard"},standalone:!1,decls:1,vars:1,consts:[["class","header-card",4,"ngFor","ngForOf"],[1,"header-card"],[1,"icon"],[1,"card-image",3,"src","alt"],[1,"body"],[1,"card-heading"],[1,"card-subheading"]],template:function(s,a){1&s&&ge(0,PRe,8,4,"mat-card",0),2&s&&j("ngForOf",a.headerCard)},dependencies:[Ji,Ca],styles:["[_nghost-%COMP%]   .header-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;max-width:77rem}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{height:10rem;background-color:#444a65}[_nghost-%COMP%]   .card-image[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding-left:1.5rem;align-self:center}[_nghost-%COMP%]   .card-heading[_ngcontent-%COMP%]{display:flex;flex-direction:column wrap;font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   .card-subheading[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:2.5rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0rem 1rem 0rem 0rem;flex-direction:row;display:flex;overflow:hidden}@media (max-width: 62.5rem){[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   .card-image[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .card-heading[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.75rem}[_nghost-%COMP%]   .card-subheading[_ngcontent-%COMP%]{line-height:1.5rem}}"]})}}return r})();function ORe(r,n){if(1&r&&(Y(0,"div",1),ce(1),W()),2&r){let i;const s=J().$implicit;en("id",null!==(i=s.id)&&void 0!==i?i:null),L(),Ut(s.heading)}}function NRe(r,n){if(1&r&&(Y(0,"div"),ge(1,ORe,2,2,"div",1),Y(2,"div",2)(3,"markdown"),ce(4),W()()()),2&r){const i=n.$implicit;L(),Vr(i.heading?1:-1),L(3),Ut(i.descriptions)}}let BRe=(()=>{class r{constructor(){this.data=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-page-data"]],inputs:{data:"data"},standalone:!1,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"body-title"],[1,"body-description"]],template:function(s,a){1&s&&ge(0,NRe,5,2,"div",0),2&s&&j("ngForOf",a.data)},dependencies:[Ji,Qm],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .body-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:2.125rem;color:#000;padding-bottom:2rem}[_nghost-%COMP%]   .body-description[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#000;text-decoration:none;overflow-wrap:anywhere}[_nghost-%COMP%]     a:-webkit-any-link{color:#054f89;cursor:pointer;text-decoration:none;font-weight:500}[_nghost-%COMP%]     a:-webkit-any-link:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}[_nghost-%COMP%]     h2, [_nghost-%COMP%]     h4{margin:0}[_nghost-%COMP%]     h4{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#000;text-decoration:none}[_nghost-%COMP%]     p{margin:0 0 1rem}[_nghost-%COMP%]     .body-description ul{margin:0}"]})}}return r})();const P7=["mat-button",""],F7=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],O7=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],N7="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}",URe=["mat-icon-button",""],zRe=["*"],VRe=new se("MAT_BUTTON_CONFIG"),HRe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let HF=(()=>{class r{_elementRef=D(Mt);_ngZone=D(_t);_animationMode=D(xo,{optional:!0});_focusMonitor=D(cf);_rippleLoader=D(wRe);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){D(fc).load(bb);const i=D(VRe,{optional:!0}),s=this._elementRef.nativeElement,a=s.classList;this.disabledInteractive=i?.disabledInteractive??!1,this.color=i?.color??null,this._rippleLoader?.configureRipple(s,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:c}of HRe)s.hasAttribute(l)&&a.add(...c)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",s){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,s):this._elementRef.nativeElement.focus(s)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ct],disabled:[2,"disabled","disabled",ct],ariaDisabled:[2,"aria-disabled","ariaDisabled",ct],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ct]}})}return r})(),GRe=(()=>{class r extends HF{_renderer=D(Ms);_cleanupClick;tabIndex;ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._elementRef.nativeElement,"click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._cleanupClick?.()}_haltDisabledEvents=i=>{this.disabled&&(i.preventDefault(),i.stopImmediatePropagation())};_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:this.disabled||null}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,inputs:{tabIndex:[2,"tabIndex","tabIndex",i=>null==i?void 0:Ls(i)]},features:[Je]})}return r})(),hE=(()=>{class r extends HF{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(s,a){2&s&&(en("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled()),Jr(a.color?"mat-"+a.color:""),Lt("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Je],attrs:P7,ngContentSelectors:O7,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(s,a){1&s&&(lr(F7),Te(0,"span",0),cn(1),Y(2,"span",1),cn(3,1),W(),cn(4,2),Te(5,"span",2)(6,"span",3)),2&s&&Lt("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return r})(),uf=(()=>{class r extends GRe{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(s,a){2&s&&(en("disabled",a._getDisabledAttribute())("tabindex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex)("aria-disabled",a._getAriaDisabled()),Jr(a.color?"mat-"+a.color:""),Lt("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],features:[Je],attrs:P7,ngContentSelectors:O7,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(s,a){1&s&&(lr(F7),Te(0,"span",0),cn(1),Y(2,"span",1),cn(3,1),W(),cn(4,2),Te(5,"span",2)(6,"span",3)),2&s&&Lt("mdc-button__ripple",!a._isFab)("mdc-fab__ripple",a._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',N7],encapsulation:2,changeDetection:0})}return r})(),B7=(()=>{class r extends HF{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(s,a){2&s&&(en("disabled",a._getDisabledAttribute())("aria-disabled",a._getAriaDisabled()),Jr(a.color?"mat-"+a.color:""),Lt("mat-mdc-button-disabled",a.disabled)("mat-mdc-button-disabled-interactive",a.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===a._animationMode)("mat-unthemed",!a.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Je],attrs:URe,ngContentSelectors:zRe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(s,a){1&s&&(lr(),Te(0,"span",0),cn(1),Te(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',N7],encapsulation:2,changeDetection:0})}return r})(),ud=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,dE,ci]})}return r})();const QRe=r=>["",r];function jRe(r,n){if(1&r&&(Y(0,"span",4),ce(1),W()),2&r){const i=J(2);L(),Ut(i.buttonData.icon)}}function WRe(r,n){if(1&r&&(Y(0,"a",2),ge(1,jRe,2,1,"span",3),ce(2),W()),2&r){const i=J();en("href",i.buttonData.url,wn)("download","download"===i.buttonData.icon?"":null),L(),j("ngIf",i.buttonData.icon),L(),jt(" ",i.buttonData.text.trim(),"\n")}}function qRe(r,n){if(1&r&&(Y(0,"span",4),ce(1),W()),2&r){const i=J(2);L(),Ut(i.buttonData.icon)}}function YRe(r,n){if(1&r&&(Y(0,"a",5),ge(1,qRe,2,1,"span",3),ce(2),W()),2&r){const i=J();j("routerLink",ra(3,QRe,i.buttonData.route)),L(),j("ngIf",i.buttonData.icon),L(),jt(" ",i.buttonData.text.trim()," ")}}let XRe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-use-button"]],hostVars:2,hostBindings:function(s,a){2&s&&Lt("small",a.buttonData.small)},inputs:{buttonData:"buttonData"},standalone:!1,decls:3,vars:2,consts:[["route",""],["mat-raised-button","","target","_blank","disableRipple","",4,"ngIf","ngIfElse"],["mat-raised-button","","target","_blank","disableRipple",""],["class","material-symbols-outlined icon",4,"ngIf"],[1,"material-symbols-outlined","icon"],["mat-raised-button","",3,"routerLink"]],template:function(s,a){if(1&s&&ge(0,WRe,3,4,"a",1)(1,YRe,3,5,"ng-template",null,0,So),2&s){const l=cr(2);j("ngIf",a.buttonData.url)("ngIfElse",l)}},dependencies:[Do,uf,oc],styles:["[_nghost-%COMP%]{display:block;width:fit-content}[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]:hover{background:#6750a414}[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]:active{background:#6750a41f}[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]:disabled{background:#1d1b201f}[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]{font-weight:500;font-size:1.125rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:3.5rem;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;white-space:normal;letter-spacing:0;line-height:1.6875rem}.small[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;height:2.5rem}[_nghost-%COMP%]     .mat-mdc-raised-button .mdc-button__label{display:flex;align-items:center}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:5px}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:unset!important}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]{width:calc(100vw - 2.5rem);line-height:1.25rem;padding:.5rem 1rem}}"]})}}return r})();function KRe(r,n){if(1&r&&(Y(0,"li")(1,"a",3),ce(2),W()()),2&r){const i=n.$implicit;L(),fl("href",i.href,wn),L(),Ut(i.title)}}let ZRe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-sop-links"]],inputs:{links:"links"},standalone:!1,decls:5,vars:2,consts:[[1,"sop-title"],[1,"sop-items"],[4,"ngFor","ngForOf"],["target","_blank",1,"text",3,"href"]],template:function(s,a){1&s&&(Y(0,"div",0),ce(1),W(),Y(2,"div",1)(3,"ul"),ge(4,KRe,3,2,"li",2),W()()),2&s&&(L(),jt(" ",a.links.sopTitle,"\n"),L(3),j("ngForOf",a.links.href))},dependencies:[Ji],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .sop-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.5rem;letter-spacing:.005rem;color:#000;margin-bottom:2rem}[_nghost-%COMP%]   .sop-items[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;color:#054f89}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#054f89}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:link{color:#054f89}@media (max-width: 26.75rem){[_nghost-%COMP%]   .sop-title[_ngcontent-%COMP%]{line-height:2.125rem}}"]})}}return r})();function JRe(r,n){if(1&r&&(Y(0,"div",3)(1,"div",4),Te(2,"img",5),W(),Y(3,"div",6)(4,"markdown"),ce(5),W()()()),2&r){const i=n.$implicit;L(2),j("src",i.image,wn)("alt",i.alt),L(3),Ut(i.description)}}let eke=(()=>{class r{constructor(){this.membersData=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-board-members"]],inputs:{membersData:"membersData"},standalone:!1,decls:4,vars:1,consts:[[1,"member-container"],[1,"members-title"],["class","member",4,"ngFor","ngForOf"],[1,"member"],[1,"image"],[3,"src","alt"],[1,"about"]],template:function(s,a){1&s&&(Y(0,"div",0)(1,"p",1),ce(2,"Board Members"),W(),ge(3,JRe,6,3,"div",2),W()),2&s&&(L(3),j("ngForOf",a.membersData))},dependencies:[Ji,Qm],styles:["[_nghost-%COMP%]   .member[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:1rem}[_nghost-%COMP%]   .members-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.5rem;letter-spacing:.005em}[_nghost-%COMP%]   .member-container[_ngcontent-%COMP%]{padding-bottom:2.5rem}[_nghost-%COMP%]   .about[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;margin-left:2.5rem}@media (max-width: 26.75rem){[_nghost-%COMP%]   .member[_ngcontent-%COMP%]{align-items:flex-start}}  .about a:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}"]})}}return r})();function L7(...r){const n=_$(r),{args:i,keys:s}=NQ(r),a=new pi(l=>{const{length:c}=i;if(!c)return void l.complete();const d=new Array(c);let u=c,h=c;for(let f=0;f<c;f++){let p=!1;Ks(i[f]).subscribe(Yi(l,g=>{p||(p=!0,h--),d[f]=g},()=>u--,void 0,()=>{(!u||!p)&&(h||l.next(s?BQ(s,d):d),l.complete())}))}});return n?a.pipe(rC(n)):a}const tke=["*"];let fE;function wb(r){return function nke(){if(void 0===fE&&(fE=null,typeof window<"u")){const r=window;void 0!==r.trustedTypes&&(fE=r.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return fE}()?.createHTML(r)||r}function U7(r){return Error(`Unable to find icon with the name "${r}"`)}function z7(r){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${r}".`)}function V7(r){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${r}".`)}class hf{url;svgText;options;svgElement;constructor(n,i,s){this.url=n,this.svgText=i,this.options=s}}let pE=(()=>{class r{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(i,s,a,l){this._httpClient=i,this._sanitizer=s,this._errorHandler=l,this._document=a}addSvgIcon(i,s,a){return this.addSvgIconInNamespace("",i,s,a)}addSvgIconLiteral(i,s,a){return this.addSvgIconLiteralInNamespace("",i,s,a)}addSvgIconInNamespace(i,s,a,l){return this._addSvgIconConfig(i,s,new hf(a,null,l))}addSvgIconResolver(i){return this._resolvers.push(i),this}addSvgIconLiteralInNamespace(i,s,a,l){const c=this._sanitizer.sanitize(ps.HTML,a);if(!c)throw V7(a);const d=wb(c);return this._addSvgIconConfig(i,s,new hf("",d,l))}addSvgIconSet(i,s){return this.addSvgIconSetInNamespace("",i,s)}addSvgIconSetLiteral(i,s){return this.addSvgIconSetLiteralInNamespace("",i,s)}addSvgIconSetInNamespace(i,s,a){return this._addSvgIconSetConfig(i,new hf(s,null,a))}addSvgIconSetLiteralInNamespace(i,s,a){const l=this._sanitizer.sanitize(ps.HTML,s);if(!l)throw V7(s);const c=wb(l);return this._addSvgIconSetConfig(i,new hf("",c,a))}registerFontClassAlias(i,s=i){return this._fontCssClassesByAlias.set(i,s),this}classNameForFontAlias(i){return this._fontCssClassesByAlias.get(i)||i}setDefaultFontSetClass(...i){return this._defaultFontSetClass=i,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(i){const s=this._sanitizer.sanitize(ps.RESOURCE_URL,i);if(!s)throw z7(i);const a=this._cachedIconsByUrl.get(s);return a?Oe(mE(a)):this._loadSvgIconFromConfig(new hf(i,null)).pipe(Ar(l=>this._cachedIconsByUrl.set(s,l)),je(l=>mE(l)))}getNamedSvgIcon(i,s=""){const a=H7(s,i);let l=this._svgIconConfigs.get(a);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(s,i),l)return this._svgIconConfigs.set(a,l),this._getSvgFromConfig(l);const c=this._iconSetConfigs.get(s);return c?this._getSvgFromIconSetConfigs(i,c):Bv(U7(a))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(i){return i.svgText?Oe(mE(this._svgElementFromConfig(i))):this._loadSvgIconFromConfig(i).pipe(je(s=>mE(s)))}_getSvgFromIconSetConfigs(i,s){const a=this._extractIconWithNameFromAnySet(i,s);return a?Oe(a):L7(s.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(_u(d=>{const h=`Loading icon set URL: ${this._sanitizer.sanitize(ps.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(h)),Oe(null)})))).pipe(je(()=>{const c=this._extractIconWithNameFromAnySet(i,s);if(!c)throw U7(i);return c}))}_extractIconWithNameFromAnySet(i,s){for(let a=s.length-1;a>=0;a--){const l=s[a];if(l.svgText&&l.svgText.toString().indexOf(i)>-1){const c=this._svgElementFromConfig(l),d=this._extractSvgIconFromSet(c,i,l.options);if(d)return d}}return null}_loadSvgIconFromConfig(i){return this._fetchIcon(i).pipe(Ar(s=>i.svgText=s),je(()=>this._svgElementFromConfig(i)))}_loadSvgIconSetFromConfig(i){return i.svgText?Oe(null):this._fetchIcon(i).pipe(Ar(s=>i.svgText=s))}_extractSvgIconFromSet(i,s,a){const l=i.querySelector(`[id="${s}"]`);if(!l)return null;const c=l.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,a);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),a);const d=this._svgElementFromString(wb("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,a)}_svgElementFromString(i){const s=this._document.createElement("DIV");s.innerHTML=i;const a=s.querySelector("svg");if(!a)throw Error("<svg> tag not found");return a}_toSvgElement(i){const s=this._svgElementFromString(wb("<svg></svg>")),a=i.attributes;for(let l=0;l<a.length;l++){const{name:c,value:d}=a[l];"id"!==c&&s.setAttribute(c,d)}for(let l=0;l<i.childNodes.length;l++)i.childNodes[l].nodeType===this._document.ELEMENT_NODE&&s.appendChild(i.childNodes[l].cloneNode(!0));return s}_setSvgAttributes(i,s){return i.setAttribute("fit",""),i.setAttribute("height","100%"),i.setAttribute("width","100%"),i.setAttribute("preserveAspectRatio","xMidYMid meet"),i.setAttribute("focusable","false"),s&&s.viewBox&&i.setAttribute("viewBox",s.viewBox),i}_fetchIcon(i){const{url:s,options:a}=i,l=a?.withCredentials??!1;if(!this._httpClient)throw function ike(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const c=this._sanitizer.sanitize(ps.RESOURCE_URL,s);if(!c)throw z7(s);const d=this._inProgressUrlFetches.get(c);if(d)return d;const u=this._httpClient.get(c,{responseType:"text",withCredentials:l}).pipe(je(h=>wb(h)),Pm(()=>this._inProgressUrlFetches.delete(c)),Yj());return this._inProgressUrlFetches.set(c,u),u}_addSvgIconConfig(i,s,a){return this._svgIconConfigs.set(H7(i,s),a),this}_addSvgIconSetConfig(i,s){const a=this._iconSetConfigs.get(i);return a?a.push(s):this._iconSetConfigs.set(i,[s]),this}_svgElementFromConfig(i){if(!i.svgElement){const s=this._svgElementFromString(i.svgText);this._setSvgAttributes(s,i.options),i.svgElement=s}return i.svgElement}_getIconConfigFromResolvers(i,s){for(let a=0;a<this._resolvers.length;a++){const l=this._resolvers[a](s,i);if(l)return ske(l)?new hf(l.url,null,l.options):new hf(l,null)}}static \u0275fac=function(s){return new(s||r)($e(Bh,8),$e(Sv),$e(rn,8),$e(bo))};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function mE(r){return r.cloneNode(!0)}function H7(r,n){return r+":"+n}function ske(r){return!(!r.url||!r.options)}const oke=new se("MAT_ICON_DEFAULT_OPTIONS"),ake=new se("mat-icon-location",{providedIn:"root",factory:function lke(){const r=D(rn),n=r?r.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),G7=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],cke=G7.map(r=>`[${r}]`).join(", "),dke=/^url\(['"]?#(.*?)['"]?\)$/;let ff=(()=>{class r{_elementRef=D(Mt);_iconRegistry=D(pE);_location=D(ake);_errorHandler=D(bo);_defaultColor;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(i){i!==this._svgIcon&&(i?this._updateSvgIcon(i):this._svgIcon&&this._clearSvgElement(),this._svgIcon=i)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(i){const s=this._cleanupFontValue(i);s!==this._fontSet&&(this._fontSet=s,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(i){const s=this._cleanupFontValue(i);s!==this._fontIcon&&(this._fontIcon=s,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=gn.EMPTY;constructor(){const i=D(new ex("aria-hidden"),{optional:!0}),s=D(oke,{optional:!0});s&&(s.color&&(this.color=this._defaultColor=s.color),s.fontSet&&(this.fontSet=s.fontSet)),i||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(i){if(!i)return["",""];const s=i.split(":");switch(s.length){case 1:return["",s[0]];case 2:return s;default:throw Error(`Invalid icon name: "${i}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const i=this._elementsWithExternalReferences;if(i&&i.size){const s=this._location.getPathname();s!==this._previousPath&&(this._previousPath=s,this._prependPathToReferences(s))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(i){this._clearSvgElement();const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(i),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(i)}_clearSvgElement(){const i=this._elementRef.nativeElement;let s=i.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();s--;){const a=i.childNodes[s];(1!==a.nodeType||"svg"===a.nodeName.toLowerCase())&&a.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const i=this._elementRef.nativeElement,s=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(a=>a.length>0);this._previousFontSetClass.forEach(a=>i.classList.remove(a)),s.forEach(a=>i.classList.add(a)),this._previousFontSetClass=s,this.fontIcon!==this._previousFontIconClass&&!s.includes("mat-ligature-font")&&(this._previousFontIconClass&&i.classList.remove(this._previousFontIconClass),this.fontIcon&&i.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(i){return"string"==typeof i?i.trim().split(" ")[0]:i}_prependPathToReferences(i){const s=this._elementsWithExternalReferences;s&&s.forEach((a,l)=>{a.forEach(c=>{l.setAttribute(c.name,`url('${i}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(i){const s=i.querySelectorAll(cke),a=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<s.length;l++)G7.forEach(c=>{const d=s[l],u=d.getAttribute(c),h=u?u.match(dke):null;if(h){let f=a.get(d);f||(f=[],a.set(d,f)),f.push({name:c,value:h[1]})}})}_updateSvgIcon(i){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),i){const[s,a]=this._splitIconName(i);s&&(this._svgNamespace=s),a&&(this._svgName=a),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,s).pipe(dr(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${s}:${a}! ${l.message}`))})}}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(s,a){2&s&&(en("data-mat-icon-type",a._usingFontIcon()?"font":"svg")("data-mat-icon-name",a._svgName||a.fontIcon)("data-mat-icon-namespace",a._svgNamespace||a.fontSet)("fontIcon",a._usingFontIcon()?a.fontIcon:null),Jr(a.color?"mat-"+a.color:""),Lt("mat-icon-inline",a.inline)("mat-icon-no-color","primary"!==a.color&&"accent"!==a.color&&"warn"!==a.color))},inputs:{color:"color",inline:[2,"inline","inline",ct],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:tke,decls:1,vars:0,template:function(s,a){1&s&&(lr(),cn(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return r})(),pc=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,ci]})}return r})();const uke=()=>({$implicit:!0});function hke(r,n){1&r&&Hr(0)}function fke(r,n){if(1&r&&(Y(0,"a",5),ge(1,hke,1,0,"ng-container",6),W()),2&r){const i=J().$implicit,s=cr(5);j("href",i.externalLink,wn),L(),j("ngTemplateOutlet",s)("ngTemplateOutletContext",Xl(3,uke))}}function pke(r,n){1&r&&Hr(0)}function mke(r,n){1&r&&ge(0,pke,1,0,"ng-container",7),2&r&&(J(),j("ngTemplateOutlet",cr(5)))}function gke(r,n){1&r&&(Y(0,"mat-icon",14),ce(1,"open_in_new"),W())}function _ke(r,n){if(1&r&&(Y(0,"div",8),Te(1,"img",9),W(),Y(2,"div",10)(3,"div",11)(4,"span"),ce(5),ge(6,gke,2,0,"mat-icon",12),W()(),Y(7,"div",13),ce(8),W()()),2&r){const i=n.$implicit,s=J().$implicit;Eo("background-color",s.color),L(),j("src",s.icon,wn)("alt",s.alt),L(4),jt("",s.title," "),L(),j("ngIf",i),L(2),jt(" ",s.body," ")}}function yke(r,n){if(1&r){const i=Xn();Y(0,"mat-card",3),ht("click",function(){const a=Vt(i).$implicit;return Ht(J().cardRoutes.emit(a))}),ge(1,fke,2,4,"a",4)(2,mke,1,1,"ng-template",null,0,So)(4,_ke,9,7,"ng-template",null,1,So),W()}if(2&r){const i=n.$implicit,s=cr(3);L(),j("ngIf",i.externalLink)("ngIfElse",s)}}let $7=(()=>{class r{constructor(){this.longButtonItems=[],this.cardRoutes=new ue}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-card-button-long"]],inputs:{longButtonItems:"longButtonItems"},outputs:{cardRoutes:"cardRoutes"},standalone:!1,decls:1,vars:1,consts:[["route",""],["content",""],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["target","_blank",3,"href"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[1,"symbol"],[1,"card-image",3,"src","alt"],[1,"body"],[1,"nav-card-title"],["class","external-icon",4,"ngIf"],[1,"nav-card-description"],[1,"external-icon"]],template:function(s,a){1&s&&ge(0,yke,6,2,"mat-card",2),2&s&&j("ngForOf",a.longButtonItems)},dependencies:[Ji,Do,GR,Ca,ff],styles:["[_nghost-%COMP%]{padding-bottom:2rem;display:flex;flex-direction:column;cursor:pointer;box-sizing:content-box}[_nghost-%COMP%]   .symbol[_ngcontent-%COMP%]{height:8rem;max-width:8rem}[_nghost-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:fill}[_nghost-%COMP%]   .mdc-card[_ngcontent-%COMP%]{padding:unset;margin-bottom:.063rem;display:flex;flex-direction:row}[_nghost-%COMP%]   .mdc-card[_ngcontent-%COMP%]:hover{background:#0000000a}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{width:100%;display:flex}[_nghost-%COMP%]   .body[_ngcontent-%COMP%], [_nghost-%COMP%]   a[_ngcontent-%COMP%] > .body[_ngcontent-%COMP%]{margin-left:1.5rem;overflow-x:hidden;display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   .nav-card-title[_ngcontent-%COMP%]{display:flex;font-weight:400;font-size:1.25rem;line-height:1.75rem;letter-spacing:.005em;color:#054f89}[_nghost-%COMP%]   .nav-card-description[_ngcontent-%COMP%]{padding-top:.5rem;font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#212121}[_nghost-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#054f89;font-weight:unset}[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:1.313rem}@media (max-width: 26.75rem){[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem 1rem 1rem 0rem}[_nghost-%COMP%]   .symbol[_ngcontent-%COMP%]{height:auto;width:80px;min-width:80px;background-color:#444c65}}@media (max-width: 80rem){[_nghost-%COMP%]   .symbol[_ngcontent-%COMP%]{height:auto;width:80px;min-width:80px;background-color:#444c65}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{padding:1rem}}"]})}}return r})();function vke(r,n){if(1&r&&(Y(0,"mat-card",1)(1,"mat-card-content"),Te(2,"markdown",2),W()()),2&r){const i=n.$implicit;L(2),j("data",i.title)}}let bke=(()=>{class r{constructor(){this.definitions=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-simple-tile"]],inputs:{definitions:"definitions"},standalone:!1,decls:1,vars:1,consts:[["class","mat-card",4,"ngFor","ngForOf"],[1,"mat-card"],[3,"data"]],template:function(s,a){1&s&&ge(0,vke,3,1,"mat-card",0),2&s&&j("ngForOf",a.definitions)},dependencies:[Ca,dg,Ji,Qm],styles:["[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;letter-spacing:.005em;line-height:1.5rem;margin-bottom:.5rem}[_nghost-%COMP%]     markdown p{margin:0!important}"]})}}return r})();const Ake=r=>["/release-notes/",r];function xke(r,n){if(1&r&&(Y(0,"a",3),ce(1),W()),2&r){const i=J().$implicit;j("routerLink",ra(2,Ake,i.route)),L(),Ut(i.routeText)}}function wke(r,n){if(1&r&&(Y(0,"mat-card",1)(1,"mat-card-content")(2,"div"),ce(3),ge(4,xke,2,4,"a",2),ce(5),W()()()),2&r){const i=n.$implicit;L(3),jt(" ",i.message," "),L(),j("ngIf",i.route),L(),jt(" ",i.emoji," ")}}let Cke=(()=>{class r{constructor(){this.messages=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["announcement-card"]],inputs:{messages:"messages"},standalone:!1,decls:1,vars:1,consts:[["class","mat-card",4,"ngFor","ngForOf"],[1,"mat-card"],[3,"routerLink",4,"ngIf"],[3,"routerLink"]],template:function(s,a){1&s&&ge(0,wke,6,3,"mat-card",0),2&s&&j("ngForOf",a.messages)},dependencies:[Ji,Do,Ca,dg,oc],styles:["[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{font-size:1rem;font-weight:300;letter-spacing:.005em;line-height:1.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}[_nghost-%COMP%]     p{margin:0}"]})}}return r})();function Q7(r,n,i){return i?Q7(r,n).pipe(rC(i)):new pi(s=>{const a=(...c)=>s.next(1===c.length?c[0]:c),l=r(a);return Et(n)?()=>n(a,l):void 0})}const Eke=["youtubeContainer"];function Mke(r,n){if(1&r){const i=Xn();Y(0,"youtube-player-placeholder",2),ht("click",function(){return Vt(i),Ht(J()._load(!0))}),W()}if(2&r){const i=J();j("videoId",i.videoId)("width",i.width)("height",i.height)("isLoading",i._isLoading)("buttonLabel",i.placeholderButtonLabel)("quality",i.placeholderImageQuality)}}let Ske=(()=>{class r{videoId;width;height;isLoading;buttonLabel;quality;_getBackgroundImage(){let i;return i="low"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/hqdefault.jpg`:"high"===this.quality?`https://i.ytimg.com/vi/${this.videoId}/maxresdefault.jpg`:`https://i.ytimg.com/vi_webp/${this.videoId}/sddefault.webp`,`url(${i})`}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["youtube-player-placeholder"]],hostAttrs:[1,"youtube-player-placeholder"],hostVars:8,hostBindings:function(s,a){2&s&&(Eo("background-image",a._getBackgroundImage())("width",a.width,"px")("height",a.height,"px"),Lt("youtube-player-placeholder-loading",a.isLoading))},inputs:{videoId:"videoId",width:"width",height:"height",isLoading:"isLoading",buttonLabel:"buttonLabel",quality:"quality"},decls:4,vars:1,consts:[["type","button",1,"youtube-player-placeholder-button"],["height","100%","version","1.1","viewBox","0 0 68 48","focusable","false","aria-hidden","true"],["d","M66.52,7.74c-0.78-2.93-2.49-5.41-5.42-6.19C55.79,.13,34,0,34,0S12.21,.13,6.9,1.55 C3.97,2.33,2.27,4.81,1.48,7.74C0.06,13.05,0,24,0,24s0.06,10.95,1.48,16.26c0.78,2.93,2.49,5.41,5.42,6.19 C12.21,47.87,34,48,34,48s21.79-0.13,27.1-1.55c2.93-0.78,4.64-3.26,5.42-6.19C67.94,34.95,68,24,68,24S67.94,13.05,66.52,7.74z","fill","#f00"],["d","M 45,24 27,14 27,34","fill","#fff"]],template:function(s,a){1&s&&(Y(0,"button",0),oy(),Y(1,"svg",1),Te(2,"path",2)(3,"path",3),W()()),2&s&&en("aria-label",a.buttonLabel)},styles:[".youtube-player-placeholder{display:flex;align-items:center;justify-content:center;width:100%;overflow:hidden;cursor:pointer;background-color:#000;background-position:center center;background-size:cover;transition:box-shadow 300ms ease;box-shadow:inset 0 120px 90px -90px rgba(0,0,0,.8)}:fullscreen .youtube-player-placeholder{min-width:100vw;min-height:100vh}.youtube-player-placeholder-button{transition:opacity 300ms ease;-moz-appearance:none;-webkit-appearance:none;background:none;border:none;padding:0;display:flex}.youtube-player-placeholder-button svg{width:68px;height:48px}.youtube-player-placeholder-loading{box-shadow:none}.youtube-player-placeholder-loading .youtube-player-placeholder-button{opacity:0}"],encapsulation:2,changeDetection:0})}return r})();const Ike=new se("YOUTUBE_PLAYER_CONFIG");function q7(r){return null==r?r:Ls(r,0)}var mc=function(r){return r[r.UNSTARTED=-1]="UNSTARTED",r[r.ENDED=0]="ENDED",r[r.PLAYING=1]="PLAYING",r[r.PAUSED=2]="PAUSED",r[r.BUFFERING=3]="BUFFERING",r[r.CUED=5]="CUED",r}(mc||{});let Tke=(()=>{class r{_ngZone=D(_t);_nonce=D(ax,{optional:!0});_changeDetectorRef=D(Zi);_elementRef=D(Mt);_player;_pendingPlayer;_existingApiReadyCallback;_pendingPlayerState;_destroyed=new Qe;_playerChanges=new Fi(void 0);_isLoading=!1;_hasPlaceholder=!0;_isBrowser;videoId;get height(){return this._height}set height(i){this._height=null==i||isNaN(i)?390:i}_height=390;get width(){return this._width}set width(i){this._width=null==i||isNaN(i)?640:i}_width=640;startSeconds;endSeconds;suggestedQuality;playerVars;disableCookies=!1;loadApi;disablePlaceholder=!1;showBeforeIframeApiLoads=!1;placeholderButtonLabel;placeholderImageQuality;ready=new ue;stateChange=this._getLazyEmitter("onStateChange");error=this._getLazyEmitter("onError");apiChange=this._getLazyEmitter("onApiChange");playbackQualityChange=this._getLazyEmitter("onPlaybackQualityChange");playbackRateChange=this._getLazyEmitter("onPlaybackRateChange");youtubeContainer;constructor(){const i=D(Ql),s=D(Ike,{optional:!0});this.loadApi=s?.loadApi??!0,this.disablePlaceholder=!!s?.disablePlaceholder,this.placeholderButtonLabel=s?.placeholderButtonLabel||"Play video",this.placeholderImageQuality=s?.placeholderImageQuality||"standard",this._isBrowser=Jl(i)}ngAfterViewInit(){this._conditionallyLoad()}ngOnChanges(i){this._shouldRecreatePlayer(i)?this._conditionallyLoad():this._player&&((i.width||i.height)&&this._setSize(),i.suggestedQuality&&this._setQuality(),(i.startSeconds||i.endSeconds||i.suggestedQuality)&&this._cuePlayer())}ngOnDestroy(){this._pendingPlayer?.destroy(),this._player&&(this._player.destroy(),window.onYouTubeIframeAPIReady=this._existingApiReadyCallback),this._playerChanges.complete(),this._destroyed.next(),this._destroyed.complete()}playVideo(){this._player?this._player.playVideo():(this._getPendingState().playbackState=mc.PLAYING,this._load(!0))}pauseVideo(){this._player?this._player.pauseVideo():this._getPendingState().playbackState=mc.PAUSED}stopVideo(){this._player?this._player.stopVideo():this._getPendingState().playbackState=mc.CUED}seekTo(i,s){this._player?this._player.seekTo(i,s):this._getPendingState().seek={seconds:i,allowSeekAhead:s}}mute(){this._player?this._player.mute():this._getPendingState().muted=!0}unMute(){this._player?this._player.unMute():this._getPendingState().muted=!1}isMuted(){return this._player?this._player.isMuted():!!this._pendingPlayerState&&!!this._pendingPlayerState.muted}setVolume(i){this._player?this._player.setVolume(i):this._getPendingState().volume=i}getVolume(){return this._player?this._player.getVolume():this._pendingPlayerState&&null!=this._pendingPlayerState.volume?this._pendingPlayerState.volume:0}setPlaybackRate(i){if(this._player)return this._player.setPlaybackRate(i);this._getPendingState().playbackRate=i}getPlaybackRate(){return this._player?this._player.getPlaybackRate():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackRate?this._pendingPlayerState.playbackRate:0}getAvailablePlaybackRates(){return this._player?this._player.getAvailablePlaybackRates():[]}getVideoLoadedFraction(){return this._player?this._player.getVideoLoadedFraction():0}getPlayerState(){if(this._isBrowser&&window.YT)return this._player?this._player.getPlayerState():this._pendingPlayerState&&null!=this._pendingPlayerState.playbackState?this._pendingPlayerState.playbackState:mc.UNSTARTED}getCurrentTime(){return this._player?this._player.getCurrentTime():this._pendingPlayerState&&this._pendingPlayerState.seek?this._pendingPlayerState.seek.seconds:0}getPlaybackQuality(){return this._player?this._player.getPlaybackQuality():"default"}getAvailableQualityLevels(){return this._player?this._player.getAvailableQualityLevels():[]}getDuration(){return this._player?this._player.getDuration():0}getVideoUrl(){return this._player?this._player.getVideoUrl():""}getVideoEmbedCode(){return this._player?this._player.getVideoEmbedCode():""}requestFullscreen(i){var s=this;return ke(function*(){const a=s._elementRef.nativeElement;return a.requestFullscreen?a.requestFullscreen(i):Promise.reject(new Error("Fullscreen API not supported by browser."))})()}_load(i){this._isBrowser&&(window.YT&&window.YT.Player?this._createPlayer(i):(this.loadApi&&(this._isLoading=!0,function Dke(r){if(GF)return;const i=document.createElement("script"),s=a=>{i.removeEventListener("load",s),i.removeEventListener("error",s),"error"===a.type&&(GF=!1)};i.addEventListener("load",s),i.addEventListener("error",s),i.src="https://www.youtube.com/iframe_api",i.async=!0,r&&i.setAttribute("nonce",r),GF=!0,document.body.appendChild(i)}(this._nonce)),this._existingApiReadyCallback=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=()=>{this._existingApiReadyCallback?.(),this._ngZone.run(()=>this._createPlayer(i))}))}_conditionallyLoad(){this._shouldShowPlaceholder()?1===this.playerVars?.autoplay&&this._load(!0):this._load(!1)}_shouldShowPlaceholder(){return!this.disablePlaceholder&&(!this._isBrowser||this._hasPlaceholder&&!!this.videoId&&!this._player)}_getPendingState(){return this._pendingPlayerState||(this._pendingPlayerState={}),this._pendingPlayerState}_shouldRecreatePlayer(i){const s=i.videoId||i.playerVars||i.disableCookies||i.disablePlaceholder;return!!s&&!s.isFirstChange()}_createPlayer(i){if(this._player?.destroy(),this._pendingPlayer?.destroy(),typeof YT>"u"||!this.videoId&&!this.playerVars?.list)return;const s=this._ngZone.runOutsideAngular(()=>new YT.Player(this.youtubeContainer.nativeElement,{videoId:this.videoId,host:this.disableCookies?"https://www.youtube-nocookie.com":void 0,width:this.width,height:this.height,playerVars:i?{...this.playerVars||{},autoplay:1}:this.playerVars})),a=l=>{this._ngZone.run(()=>{this._isLoading=!1,this._hasPlaceholder=!1,this._player=s,this._pendingPlayer=void 0,s.removeEventListener("onReady",a),this._playerChanges.next(s),this.ready.emit(l),this._setSize(),this._setQuality(),this._pendingPlayerState&&(this._applyPendingPlayerState(s,this._pendingPlayerState),this._pendingPlayerState=void 0);const c=s.getPlayerState();c===mc.UNSTARTED||c===mc.CUED||null==c?this._cuePlayer():i&&this.startSeconds&&this.startSeconds>0&&s.seekTo(this.startSeconds,!0),this._changeDetectorRef.markForCheck()})};this._pendingPlayer=s,s.addEventListener("onReady",a)}_applyPendingPlayerState(i,s){const{playbackState:a,playbackRate:l,volume:c,muted:d,seek:u}=s;switch(a){case mc.PLAYING:i.playVideo();break;case mc.PAUSED:i.pauseVideo();break;case mc.CUED:i.stopVideo()}null!=l&&i.setPlaybackRate(l),null!=c&&i.setVolume(c),null!=d&&(d?i.mute():i.unMute()),null!=u&&i.seekTo(u.seconds,u.allowSeekAhead)}_cuePlayer(){this._player&&this.videoId&&this._player.cueVideoById({videoId:this.videoId,startSeconds:this.startSeconds,endSeconds:this.endSeconds,suggestedQuality:this.suggestedQuality})}_setSize(){this._player?.setSize(this.width,this.height)}_setQuality(){this._player&&this.suggestedQuality&&this._player.setPlaybackQuality(this.suggestedQuality)}_getLazyEmitter(i){return this._playerChanges.pipe(br(s=>s?Q7(a=>{s.addEventListener(i,a)},a=>{try{s?.removeEventListener?.(i,a)}catch{}}):Oe()),s=>new pi(a=>s.subscribe({next:l=>this._ngZone.run(()=>a.next(l)),error:l=>a.error(l),complete:()=>a.complete()})),Nn(this._destroyed))}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["youtube-player"]],viewQuery:function(s,a){if(1&s&&Kn(Eke,7),2&s){let l;St(l=It())&&(a.youtubeContainer=l.first)}},inputs:{videoId:"videoId",height:[2,"height","height",Ls],width:[2,"width","width",Ls],startSeconds:[2,"startSeconds","startSeconds",q7],endSeconds:[2,"endSeconds","endSeconds",q7],suggestedQuality:"suggestedQuality",playerVars:"playerVars",disableCookies:[2,"disableCookies","disableCookies",ct],loadApi:[2,"loadApi","loadApi",ct],disablePlaceholder:[2,"disablePlaceholder","disablePlaceholder",ct],showBeforeIframeApiLoads:[2,"showBeforeIframeApiLoads","showBeforeIframeApiLoads",ct],placeholderButtonLabel:"placeholderButtonLabel",placeholderImageQuality:"placeholderImageQuality"},outputs:{ready:"ready",stateChange:"stateChange",error:"error",apiChange:"apiChange",playbackQualityChange:"playbackQualityChange",playbackRateChange:"playbackRateChange"},features:[vr],decls:4,vars:3,consts:[["youtubeContainer",""],[3,"videoId","width","height","isLoading","buttonLabel","quality"],[3,"click","videoId","width","height","isLoading","buttonLabel","quality"]],template:function(s,a){1&s&&(ge(0,Mke,1,6,"youtube-player-placeholder",1),Y(1,"div"),Te(2,"div",null,0),W()),2&s&&(Vr(a._shouldShowPlaceholder()?0:-1),L(),Eo("display",a._shouldShowPlaceholder()?"none":""))},dependencies:[Ske],styles:["youtube-player:fullscreen,youtube-player:fullscreen iframe{min-width:100vw;min-height:100vh}"],encapsulation:2,changeDetection:0})}return r})(),GF=!1,Rke=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})();function kke(r,n){if(1&r&&(Y(0,"p",0),ce(1),W()),2&r){const i=J();L(),Ut(i.playerData.playerTitle)}}let Pke=(()=>{class r{constructor(){this.apiLoaded=!1}ngOnInit(){if(!this.apiLoaded){const i=document.createElement("script");i.src="https://www.youtube.com/iframe_api",document.body.appendChild(i),this.apiLoaded=!0}this.playerSize()}onResize(){this.playerSize()}playerSize(){this.playerData.width=Math.min(552,.85*window.innerWidth),this.playerData.height=Math.min(311,.5625*this.playerData.width)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["youtube-model"]],hostBindings:function(s,a){1&s&&ht("resize",function(c){return a.onResize(c)},0,Wz)},inputs:{playerData:"playerData"},standalone:!1,decls:2,vars:4,consts:[[1,"player-title"],[3,"height","width","videoId"]],template:function(s,a){1&s&&(ge(0,kke,2,1,"p",0),Te(1,"youtube-player",1)),2&s&&(Vr(a.playerData.playerTitle?0:-1),L(),j("height",a.playerData.height)("width",a.playerData.width)("videoId",a.playerData.videoId))},dependencies:[Tke],styles:["[_nghost-%COMP%]   .player-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:2.125rem;letter-spacing:.005rem;margin-bottom:2rem}[_nghost-%COMP%]     youtube-player iframe{max-height:584px}@media (max-width: 26.75rem){[_nghost-%COMP%]     youtube-player iframe{height:232px}}"]})}}return r})();function Fke(r,n){if(1&r){const i=Xn();ei(0),Y(1,"div",1),ce(2),W(),Y(3,"ccf-card-button-long",2),ht("cardRoutes",function(a){return Vt(i),Ht(J().router.navigate([a.route]))}),W(),ti()}if(2&r){const i=n.$implicit;L(),Vi(i.headerSize),fl("id",i.id),L(),jt(" ",i.heading," "),L(),j("longButtonItems",i.cardData)}}let Oke=(()=>{class r{constructor(){this.cardBlockData=[],this.router=D(Ro)}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["card-with-header"]],inputs:{cardBlockData:"cardBlockData"},standalone:!1,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"heading",3,"id"],[3,"cardRoutes","longButtonItems"]],template:function(s,a){1&s&&ge(0,Fke,4,5,"ng-container",0),2&s&&j("ngForOf",a.cardBlockData)},dependencies:[Ji,$7],styles:["[_nghost-%COMP%]   .heading[_ngcontent-%COMP%]{font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005rem;padding-bottom:2rem}"]})}}return r})();const Cb={schedule(r){let n=requestAnimationFrame,i=cancelAnimationFrame;const{delegate:s}=Cb;s&&(n=s.requestAnimationFrame,i=s.cancelAnimationFrame);const a=n(l=>{i=void 0,r(l)});return new gn(()=>i?.(a))},requestAnimationFrame(...r){const{delegate:n}=Cb;return(n?.requestAnimationFrame||requestAnimationFrame)(...r)},cancelAnimationFrame(...r){const{delegate:n}=Cb;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...r)},delegate:void 0};new class Bke extends CP{flush(n){let i;this._active=!0,n?i=n.id:(i=this._scheduled,this._scheduled=void 0);const{actions:s}=this;let a;n=n||s.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===i&&s.shift());if(this._active=!1,a){for(;(n=s[0])&&n.id===i&&s.shift();)n.unsubscribe();throw a}}}(class Nke extends xP{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=Cb.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,i,s=0){var a;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(n,i,s);const{actions:l}=n;null!=i&&i===n._scheduled&&(null===(a=l[l.length-1])||void 0===a?void 0:a.id)!==i&&(Cb.cancelAnimationFrame(i),n._scheduled=void 0)}});let $F,Uke=1;const gE={};function Y7(r){return r in gE&&(delete gE[r],!0)}const zke={setImmediate(r){const n=Uke++;return gE[n]=!0,$F||($F=Promise.resolve()),$F.then(()=>Y7(n)&&r()),n},clearImmediate(r){Y7(r)}},{setImmediate:Vke,clearImmediate:Hke}=zke,_E={setImmediate(...r){const{delegate:n}=_E;return(n?.setImmediate||Vke)(...r)},clearImmediate(r){const{delegate:n}=_E;return(n?.clearImmediate||Hke)(r)},delegate:void 0};new class $ke extends CP{flush(n){this._active=!0;const i=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let a;n=n||s.shift();do{if(a=n.execute(n.state,n.delay))break}while((n=s[0])&&n.id===i&&s.shift());if(this._active=!1,a){for(;(n=s[0])&&n.id===i&&s.shift();)n.unsubscribe();throw a}}}(class Gke extends xP{constructor(n,i){super(n,i),this.scheduler=n,this.work=i}requestAsyncId(n,i,s=0){return null!==s&&s>0?super.requestAsyncId(n,i,s):(n.actions.push(this),n._scheduled||(n._scheduled=_E.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,i,s=0){var a;if(null!=s?s>0:this.delay>0)return super.recycleAsyncId(n,i,s);const{actions:l}=n;null!=i&&(null===(a=l[l.length-1])||void 0===a?void 0:a.id)!==i&&(_E.clearImmediate(i),n._scheduled===i&&(n._scheduled=void 0))}});function X7(r,n=IC){return function jke(r){return qi((n,i)=>{let s=!1,a=null,l=null,c=!1;const d=()=>{if(l?.unsubscribe(),l=null,s){s=!1;const h=a;a=null,i.next(h)}c&&i.complete()},u=()=>{l=null,c&&i.complete()};n.subscribe(Yi(i,h=>{s=!0,a=h,l||Ks(r(h)).subscribe(l=Yi(i,d,u))},()=>{c=!0,(!s||!l||l.closed)&&i.complete()}))})}(()=>TC(r,n))}let QF=(()=>{class r{_ngZone=D(_t);_platform=D(Qr);_renderer=D(dl).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Qe;_scrolledCount=0;scrollContainers=new Map;register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const s=this.scrollContainers.get(i);s&&(s.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new pi(s=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));const a=i>0?this._scrolled.pipe(X7(i)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{a.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Oe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((i,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(i,s){const a=this.getAncestorScrollContainers(i);return this.scrolled(s).pipe(ni(l=>!l||a.indexOf(l)>-1))}getAncestorScrollContainers(i){const s=[];return this.scrollContainers.forEach((a,l)=>{this._scrollableContainsElement(l,i)&&s.push(l)}),s}_scrollableContainsElement(i,s){let a=af(s),l=i.getElementRef().nativeElement;do{if(a==l)return!0}while(a=a.parentElement);return!1}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Cu=(()=>{class r{elementRef=D(Mt);scrollDispatcher=D(QF);ngZone=D(_t);dir=D(wa,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Qe;_renderer=D(Ms);_cleanupScroll;_elementScrolled=new Qe;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",i=>this._elementScrolled.next(i))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(i){const s=this.elementRef.nativeElement,a=this.dir&&"rtl"==this.dir.value;null==i.left&&(i.left=a?i.end:i.start),null==i.right&&(i.right=a?i.start:i.end),null!=i.bottom&&(i.top=s.scrollHeight-s.clientHeight-i.bottom),a&&gb()!=uc.NORMAL?(null!=i.left&&(i.right=s.scrollWidth-s.clientWidth-i.left),gb()==uc.INVERTED?i.left=i.right:gb()==uc.NEGATED&&(i.left=i.right?-i.right:i.right)):null!=i.right&&(i.left=s.scrollWidth-s.clientWidth-i.right),this._applyScrollToOptions(i)}_applyScrollToOptions(i){const s=this.elementRef.nativeElement;K9()?s.scrollTo(i):(null!=i.top&&(s.scrollTop=i.top),null!=i.left&&(s.scrollLeft=i.left))}measureScrollOffset(i){const s="left",a="right",l=this.elementRef.nativeElement;if("top"==i)return l.scrollTop;if("bottom"==i)return l.scrollHeight-l.clientHeight-l.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==i?i=c?a:s:"end"==i&&(i=c?s:a),c&&gb()==uc.INVERTED?i==s?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:c&&gb()==uc.NEGATED?i==s?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:i==s?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return r})(),ug=(()=>{class r{_platform=D(Qr);_listeners;_viewportSize;_change=new Qe;_document=D(rn,{optional:!0});constructor(){const i=D(_t),s=D(dl).createRenderer(null,null);i.runOutsideAngular(()=>{if(this._platform.isBrowser){const a=l=>this._change.next(l);this._listeners=[s.listen("window","resize",a),s.listen("window","orientationchange",a)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(i=>i()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:s,height:a}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+a,right:i.left+s,height:a,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,s=this._getWindow(),a=i.documentElement,l=a.getBoundingClientRect();return{top:-l.top||i.body.scrollTop||s.scrollY||a.scrollTop||0,left:-l.left||i.body.scrollLeft||s.scrollX||a.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(X7(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),pf=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})(),yE=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[vb,pf,vb,pf]})}return r})();class jF{_attachedHost;attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class WF extends jF{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(n,i,s,a,l){super(),this.component=n,this.viewContainerRef=i,this.injector=s,this.projectableNodes=l}}class hg extends jF{templateRef;viewContainerRef;context;injector;constructor(n,i,s,a){super(),this.templateRef=n,this.viewContainerRef=i,this.context=s,this.injector=a}get origin(){return this.templateRef.elementRef}attach(n,i=this.context){return this.context=i,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class Xke extends jF{element;constructor(n){super(),this.element=n instanceof Mt?n.nativeElement:n}}class qF{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof WF?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof hg?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof Xke?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Kke extends qF{outletElement;_appRef;_defaultInjector;_document;constructor(n,i,s,a,l){super(),this.outletElement=n,this._appRef=s,this._defaultInjector=a,this._document=l}attachComponentPortal(n){let i;if(n.viewContainerRef){const s=n.injector||n.viewContainerRef.injector,a=s.get(Xc,null,{optional:!0})||void 0;i=n.viewContainerRef.createComponent(n.component,{index:n.viewContainerRef.length,injector:s,ngModuleRef:a,projectableNodes:n.projectableNodes||void 0}),this.setDisposeFn(()=>i.destroy())}else i=y6(n.component,{elementInjector:n.injector||this._defaultInjector||On.NULL,environmentInjector:this._appRef.injector,projectableNodes:n.projectableNodes||void 0}),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=n,i}attachTemplatePortal(n){let i=n.viewContainerRef,s=i.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return s.rootNodes.forEach(a=>this.outletElement.appendChild(a)),s.detectChanges(),this.setDisposeFn(()=>{let a=i.indexOf(s);-1!==a&&i.remove(a)}),this._attachedPortal=n,s}attachDomPortal=n=>{const i=n.element,s=this._document.createComment("dom-portal");i.parentNode.insertBefore(s,i),this.outletElement.appendChild(i),this._attachedPortal=n,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(i,s)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}let Zke=(()=>{class r extends hg{constructor(){super(D(zi),D(Ki))}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Je]})}return r})(),Eb=(()=>{class r extends qF{_moduleRef=D(Xc,{optional:!0});_document=D(rn);_viewContainerRef=D(Ki);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}attached=new ue;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);const s=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,a=s.createComponent(i.component,{index:s.length,injector:i.injector||s.injector,projectableNodes:i.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return s!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=i,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(i){i.setAttachedHost(this);const s=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=s,this.attached.emit(s),s}attachDomPortal=i=>{const s=i.element,a=this._document.createComment("dom-portal");i.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=i,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})};_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Je]})}return r})(),vE=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})();const K7=K9();class Jke{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(n,i){this._viewportRuler=n,this._document=i}attach(){}enable(){if(this._canBeEnabled()){const n=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=n.style.left||"",this._previousHTMLStyles.top=n.style.top||"",n.style.left=is(-this._previousScrollPosition.left),n.style.top=is(-this._previousScrollPosition.top),n.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const n=this._document.documentElement,s=n.style,a=this._document.body.style,l=s.scrollBehavior||"",c=a.scrollBehavior||"";this._isEnabled=!1,s.left=this._previousHTMLStyles.left,s.top=this._previousHTMLStyles.top,n.classList.remove("cdk-global-scrollblock"),K7&&(s.scrollBehavior=a.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),K7&&(s.scrollBehavior=l,a.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const i=this._document.body,s=this._viewportRuler.getViewportSize();return i.scrollHeight>s.height||i.scrollWidth>s.width}}class ePe{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(n,i,s,a){this._scrollDispatcher=n,this._ngZone=i,this._viewportRuler=s,this._config=a}attach(n){this._overlayRef=n}enable(){if(this._scrollSubscription)return;const n=this._scrollDispatcher.scrolled(0).pipe(ni(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=n.subscribe(()=>{const i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=n.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}class Z7{enable(){}disable(){}attach(){}}function YF(r,n){return n.some(i=>r.bottom<i.top||r.top>i.bottom||r.right<i.left||r.left>i.right)}function J7(r,n){return n.some(i=>r.top<i.top||r.bottom>i.bottom||r.left<i.left||r.right>i.right)}class tPe{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(n,i,s,a){this._scrollDispatcher=n,this._viewportRuler=i,this._ngZone=s,this._config=a}attach(n){this._overlayRef=n}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:s,height:a}=this._viewportRuler.getViewportSize();YF(i,[{width:s,height:a,bottom:a,right:s,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let nPe=(()=>{class r{_scrollDispatcher=D(QF);_viewportRuler=D(ug);_ngZone=D(_t);_document=D(rn);constructor(){}noop=()=>new Z7;close=i=>new ePe(this._scrollDispatcher,this._ngZone,this._viewportRuler,i);block=()=>new Jke(this._viewportRuler,this._document);reposition=i=>new tPe(this._scrollDispatcher,this._viewportRuler,this._ngZone,i);static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class bE{positionStrategy;scrollStrategy=new Z7;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(n){if(n){const i=Object.keys(n);for(const s of i)void 0!==n[s]&&(this[s]=n[s])}}}class iPe{connectionPair;scrollableViewProperties;constructor(n,i){this.connectionPair=n,this.scrollableViewProperties=i}}let eq=(()=>{class r{_attachedOverlays=[];_document=D(rn);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const s=this._attachedOverlays.indexOf(i);s>-1&&this._attachedOverlays.splice(s,1),0===this._attachedOverlays.length&&this.detach()}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),rPe=(()=>{class r extends eq{_ngZone=D(_t);_renderer=D(dl).createRenderer(null,null);_cleanupKeydown;add(i){super.add(i),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=i=>{const s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){this._ngZone.run(()=>s[a]._keydownEvents.next(i));break}};static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),sPe=(()=>{class r extends eq{_platform=D(Qr);_ngZone=D(_t);_renderer=D(dl).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(i){if(super.add(i),!this._isAttached){const s=this._document.body,a={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[Al(this._renderer,s,"pointerdown",this._pointerDownListener,a),Al(this._renderer,s,"click",this._clickListener,a),Al(this._renderer,s,"auxclick",this._clickListener,a),Al(this._renderer,s,"contextmenu",this._clickListener,a)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(i=>i()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=i=>{this._pointerDownEventTarget=hc(i)};_clickListener=i=>{const s=hc(i),a="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(tq(d.overlayElement,s)||tq(d.overlayElement,a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(i)):u.next(i)}};static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function tq(r,n){const i=typeof ShadowRoot<"u"&&ShadowRoot;let s=n;for(;s;){if(s===r)return!0;s=i&&s instanceof ShadowRoot?s.host:s.parentNode}return!1}let nq=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(s,a){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return r})(),XF=(()=>{class r{_platform=D(Qr);_containerElement;_document=D(rn);_styleLoader=D(fc);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||Z9()){const a=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let l=0;l<a.length;l++)a[l].remove()}const s=this._document.createElement("div");s.classList.add(i),Z9()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}_loadStyles(){this._styleLoader.load(nq)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class oPe{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(n,i,s,a){this._renderer=i,this._ngZone=s,this.element=n.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=i.listen(this.element,"click",a)}detach(){this._ngZone.runOutsideAngular(()=>{const n=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(n,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),n.style.pointerEvents="none",n.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}}class KF{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Qe;_attachments=new Qe;_detachments=new Qe;_positionStrategy;_scrollStrategy;_locationChanges=gn.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new Qe;_outsidePointerEvents=new Qe;_renders=new Qe;_afterRenderRef;_afterNextRenderRef;constructor(n,i,s,a,l,c,d,u,h,f=!1,p,g){this._portalOutlet=n,this._host=i,this._pane=s,this._config=a,this._ngZone=l,this._keyboardDispatcher=c,this._document=d,this._location=u,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._injector=p,this._renderer=g,a.scrollStrategy&&(this._scrollStrategy=a.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=a.positionStrategy,this._afterRenderRef=Gr(()=>function yT(r,n){!n?.injector&&Ip();const i=n?.injector??D(On);return ea("NgAfterRender"),rz(r,i,n,!1)}(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(n){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const i=this._portalOutlet.attach(n);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=_a(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof i?.onDestroy&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const n=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),n}dispose(){const n=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,n&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(n){n!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=n,this.hasAttached()&&(n.attach(this),this.updatePosition()))}updateSize(n){this._config={...this._config,...n},this._updateElementSize()}setDirection(n){this._config={...this._config,direction:n},this._updateElementDirection()}addPanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!0)}removePanelClass(n){this._pane&&this._toggleClasses(this._pane,n,!1)}getDirection(){const n=this._config.direction;return n?"string"==typeof n?n:n.value:"ltr"}updateScrollStrategy(n){n!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=n,this.hasAttached()&&(n.attach(this),n.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const n=this._pane.style;n.width=is(this._config.width),n.height=is(this._config.height),n.minWidth=is(this._config.minWidth),n.minHeight=is(this._config.minHeight),n.maxWidth=is(this._config.maxWidth),n.maxHeight=is(this._config.maxHeight)}_togglePointerEvents(n){this._pane.style.pointerEvents=n?"":"none"}_attachBackdrop(){const n="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new oPe(this._document,this._renderer,this._ngZone,i=>{this._backdropClick.next(i)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(n))}):this._backdropRef.element.classList.add(n)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(n,i,s){const a=iE(i||[]).filter(l=>!!l);a.length&&(s?n.classList.add(...a):n.classList.remove(...a))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const n=this._renders.pipe(Nn(Ds(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),n.unsubscribe())})})}_disposeScrollStrategy(){const n=this._scrollStrategy;n?.disable(),n?.detach?.()}}const iq="cdk-overlay-connected-position-bounding-box",aPe=/([A-Za-z%]+)$/;class lPe{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Qe;_resizeSubscription=gn.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(n,i,s,a,l){this._viewportRuler=i,this._document=s,this._platform=a,this._overlayContainer=l,this.setOrigin(n)}attach(n){this._validatePositions(),n.hostElement.classList.add(iq),this._overlayRef=n,this._boundingBox=n.hostElement,this._pane=n.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._originRect,i=this._overlayRect,s=this._viewportRect,a=this._containerRect,l=[];let c;for(let d of this._preferredPositions){let u=this._getOriginPoint(n,a,d),h=this._getOverlayPoint(u,i,d),f=this._getOverlayFit(h,i,s,d);if(f.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,u);this._canFitWithFlexibleDimensions(f,h,s)?l.push({position:d,origin:u,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(u,d)}):(!c||c.overlayFit.visibleArea<f.visibleArea)&&(c={overlayFit:f,overlayPoint:h,originPoint:u,position:d,overlayRect:i})}if(l.length){let d=null,u=-1;for(const h of l){const f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>u&&(u=f,d=h)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&mf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(iq),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const n=this._lastPosition;if(n){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._getOriginPoint(this._originRect,this._containerRect,n);this._applyPosition(n,i)}else this.apply()}withScrollableContainers(n){return this._scrollables=n,this}withPositions(n){return this._preferredPositions=n,-1===n.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(n){return this._viewportMargin=n,this}withFlexibleDimensions(n=!0){return this._hasFlexibleDimensions=n,this}withGrowAfterOpen(n=!0){return this._growAfterOpen=n,this}withPush(n=!0){return this._canPush=n,this}withLockedPosition(n=!0){return this._positionLocked=n,this}setOrigin(n){return this._origin=n,this}withDefaultOffsetX(n){return this._offsetX=n,this}withDefaultOffsetY(n){return this._offsetY=n,this}withTransformOriginOn(n){return this._transformOriginSelector=n,this}_getOriginPoint(n,i,s){let a,l;if("center"==s.originX)a=n.left+n.width/2;else{const c=this._isRtl()?n.right:n.left,d=this._isRtl()?n.left:n.right;a="start"==s.originX?c:d}return i.left<0&&(a-=i.left),l="center"==s.originY?n.top+n.height/2:"top"==s.originY?n.top:n.bottom,i.top<0&&(l-=i.top),{x:a,y:l}}_getOverlayPoint(n,i,s){let a,l;return a="center"==s.overlayX?-i.width/2:"start"===s.overlayX?this._isRtl()?-i.width:0:this._isRtl()?0:-i.width,l="center"==s.overlayY?-i.height/2:"top"==s.overlayY?0:-i.height,{x:n.x+a,y:n.y+l}}_getOverlayFit(n,i,s,a){const l=sq(i);let{x:c,y:d}=n,u=this._getOffset(a,"x"),h=this._getOffset(a,"y");u&&(c+=u),h&&(d+=h);let g=0-d,m=d+l.height-s.height,_=this._subtractOverflows(l.width,0-c,c+l.width-s.width),v=this._subtractOverflows(l.height,g,m),y=_*v;return{visibleArea:y,isCompletelyWithinViewport:l.width*l.height===y,fitsInViewportVertically:v===l.height,fitsInViewportHorizontally:_==l.width}}_canFitWithFlexibleDimensions(n,i,s){if(this._hasFlexibleDimensions){const a=s.bottom-i.y,l=s.right-i.x,c=rq(this._overlayRef.getConfig().minHeight),d=rq(this._overlayRef.getConfig().minWidth);return(n.fitsInViewportVertically||null!=c&&c<=a)&&(n.fitsInViewportHorizontally||null!=d&&d<=l)}return!1}_pushOverlayOnScreen(n,i,s){if(this._previousPushAmount&&this._positionLocked)return{x:n.x+this._previousPushAmount.x,y:n.y+this._previousPushAmount.y};const a=sq(i),l=this._viewportRect,c=Math.max(n.x+a.width-l.width,0),d=Math.max(n.y+a.height-l.height,0),u=Math.max(l.top-s.top-n.y,0),h=Math.max(l.left-s.left-n.x,0);let f=0,p=0;return f=a.width<=l.width?h||-c:n.x<this._viewportMargin?l.left-s.left-n.x:0,p=a.height<=l.height?u||-d:n.y<this._viewportMargin?l.top-s.top-n.y:0,this._previousPushAmount={x:f,y:p},{x:n.x+f,y:n.y+p}}_applyPosition(n,i){if(this._setTransformOrigin(n),this._setOverlayElementStyles(i,n),this._setBoundingBoxStyles(i,n),n.panelClass&&this._addPanelClasses(n.panelClass),this._positionChanges.observers.length){const s=this._getScrollVisibility();if(n!==this._lastPosition||!this._lastScrollVisibility||!function cPe(r,n){return r===n||r.isOriginClipped===n.isOriginClipped&&r.isOriginOutsideView===n.isOriginOutsideView&&r.isOverlayClipped===n.isOverlayClipped&&r.isOverlayOutsideView===n.isOverlayOutsideView}(this._lastScrollVisibility,s)){const a=new iPe(n,s);this._positionChanges.next(a)}this._lastScrollVisibility=s}this._lastPosition=n,this._isInitialRender=!1}_setTransformOrigin(n){if(!this._transformOriginSelector)return;const i=this._boundingBox.querySelectorAll(this._transformOriginSelector);let s,a=n.overlayY;s="center"===n.overlayX?"center":this._isRtl()?"start"===n.overlayX?"right":"left":"start"===n.overlayX?"left":"right";for(let l=0;l<i.length;l++)i[l].style.transformOrigin=`${s} ${a}`}_calculateBoundingBoxRect(n,i){const s=this._viewportRect,a=this._isRtl();let l,c,d,f,p,g;if("top"===i.overlayY)c=n.y,l=s.height-c+this._viewportMargin;else if("bottom"===i.overlayY)d=s.height-n.y+2*this._viewportMargin,l=s.height-d+this._viewportMargin;else{const m=Math.min(s.bottom-n.y+s.top,n.y),_=this._lastBoundingBoxSize.height;l=2*m,c=n.y-m,l>_&&!this._isInitialRender&&!this._growAfterOpen&&(c=n.y-_/2)}if("end"===i.overlayX&&!a||"start"===i.overlayX&&a)g=s.width-n.x+2*this._viewportMargin,f=n.x-this._viewportMargin;else if("start"===i.overlayX&&!a||"end"===i.overlayX&&a)p=n.x,f=s.right-n.x;else{const m=Math.min(s.right-n.x+s.left,n.x),_=this._lastBoundingBoxSize.width;f=2*m,p=n.x-m,f>_&&!this._isInitialRender&&!this._growAfterOpen&&(p=n.x-_/2)}return{top:c,left:p,bottom:d,right:g,width:f,height:l}}_setBoundingBoxStyles(n,i){const s=this._calculateBoundingBoxRect(n,i);!this._isInitialRender&&!this._growAfterOpen&&(s.height=Math.min(s.height,this._lastBoundingBoxSize.height),s.width=Math.min(s.width,this._lastBoundingBoxSize.width));const a={};if(this._hasExactPosition())a.top=a.left="0",a.bottom=a.right=a.maxHeight=a.maxWidth="",a.width=a.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;a.height=is(s.height),a.top=is(s.top),a.bottom=is(s.bottom),a.width=is(s.width),a.left=is(s.left),a.right=is(s.right),a.alignItems="center"===i.overlayX?"center":"end"===i.overlayX?"flex-end":"flex-start",a.justifyContent="center"===i.overlayY?"center":"bottom"===i.overlayY?"flex-end":"flex-start",l&&(a.maxHeight=is(l)),c&&(a.maxWidth=is(c))}this._lastBoundingBoxSize=s,mf(this._boundingBox.style,a)}_resetBoundingBoxStyles(){mf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){mf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(n,i){const s={},a=this._hasExactPosition(),l=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(a){const f=this._viewportRuler.getViewportScrollPosition();mf(s,this._getExactOverlayY(i,n,f)),mf(s,this._getExactOverlayX(i,n,f))}else s.position="static";let d="",u=this._getOffset(i,"x"),h=this._getOffset(i,"y");u&&(d+=`translateX(${u}px) `),h&&(d+=`translateY(${h}px)`),s.transform=d.trim(),c.maxHeight&&(a?s.maxHeight=is(c.maxHeight):l&&(s.maxHeight="")),c.maxWidth&&(a?s.maxWidth=is(c.maxWidth):l&&(s.maxWidth="")),mf(this._pane.style,s)}_getExactOverlayY(n,i,s){let a={top:"",bottom:""},l=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),"bottom"===n.overlayY?a.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":a.top=is(l.y),a}_getExactOverlayX(n,i,s){let c,a={left:"",right:""},l=this._getOverlayPoint(i,this._overlayRect,n);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,s)),c=this._isRtl()?"end"===n.overlayX?"left":"right":"end"===n.overlayX?"right":"left","right"===c?a.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":a.left=is(l.x),a}_getScrollVisibility(){const n=this._getOriginRect(),i=this._pane.getBoundingClientRect(),s=this._scrollables.map(a=>a.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:J7(n,s),isOriginOutsideView:YF(n,s),isOverlayClipped:J7(i,s),isOverlayOutsideView:YF(i,s)}}_subtractOverflows(n,...i){return i.reduce((s,a)=>s-Math.max(a,0),n)}_getNarrowedViewportRect(){const n=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,s=this._viewportRuler.getViewportScrollPosition();return{top:s.top+this._viewportMargin,left:s.left+this._viewportMargin,right:s.left+n-this._viewportMargin,bottom:s.top+i-this._viewportMargin,width:n-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(n,i){return"x"===i?null==n.offsetX?this._offsetX:n.offsetX:null==n.offsetY?this._offsetY:n.offsetY}_validatePositions(){}_addPanelClasses(n){this._pane&&iE(n).forEach(i=>{""!==i&&-1===this._appliedPanelClasses.indexOf(i)&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(n=>{this._pane.classList.remove(n)}),this._appliedPanelClasses=[])}_getOriginRect(){const n=this._origin;if(n instanceof Mt)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();const i=n.width||0,s=n.height||0;return{top:n.y,bottom:n.y+s,left:n.x,right:n.x+i,height:s,width:i}}}function mf(r,n){for(let i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r}function rq(r){if("number"!=typeof r&&null!=r){const[n,i]=r.split(aPe);return i&&"px"!==i?null:parseFloat(n)}return r||null}function sq(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}const oq="cdk-global-overlay-wrapper";class dPe{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(n){const i=n.getConfig();this._overlayRef=n,this._width&&!i.width&&n.updateSize({width:this._width}),this._height&&!i.height&&n.updateSize({height:this._height}),n.hostElement.classList.add(oq),this._isDisposed=!1}top(n=""){return this._bottomOffset="",this._topOffset=n,this._alignItems="flex-start",this}left(n=""){return this._xOffset=n,this._xPosition="left",this}bottom(n=""){return this._topOffset="",this._bottomOffset=n,this._alignItems="flex-end",this}right(n=""){return this._xOffset=n,this._xPosition="right",this}start(n=""){return this._xOffset=n,this._xPosition="start",this}end(n=""){return this._xOffset=n,this._xPosition="end",this}width(n=""){return this._overlayRef?this._overlayRef.updateSize({width:n}):this._width=n,this}height(n=""){return this._overlayRef?this._overlayRef.updateSize({height:n}):this._height=n,this}centerHorizontally(n=""){return this.left(n),this._xPosition="center",this}centerVertically(n=""){return this.top(n),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,s=this._overlayRef.getConfig(),{width:a,height:l,maxWidth:c,maxHeight:d}=s,u=!("100%"!==a&&"100vw"!==a||c&&"100%"!==c&&"100vw"!==c),h=!("100%"!==l&&"100vh"!==l||d&&"100%"!==d&&"100vh"!==d),f=this._xPosition,p=this._xOffset,g="rtl"===this._overlayRef.getConfig().direction;let m="",_="",v="";u?v="flex-start":"center"===f?(v="center",g?_=p:m=p):g?"left"===f||"end"===f?(v="flex-end",m=p):("right"===f||"start"===f)&&(v="flex-start",_=p):"left"===f||"start"===f?(v="flex-start",m=p):("right"===f||"end"===f)&&(v="flex-end",_=p),n.position=this._cssPosition,n.marginLeft=u?"0":m,n.marginTop=h?"0":this._topOffset,n.marginBottom=this._bottomOffset,n.marginRight=u?"0":_,i.justifyContent=v,i.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const n=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,s=i.style;i.classList.remove(oq),s.justifyContent=s.alignItems=n.marginTop=n.marginBottom=n.marginLeft=n.marginRight=n.position="",this._overlayRef=null,this._isDisposed=!0}}let uPe=(()=>{class r{_viewportRuler=D(ug);_document=D(rn);_platform=D(Qr);_overlayContainer=D(XF);constructor(){}global(){return new dPe}flexibleConnectedTo(i){return new lPe(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),eo=(()=>{class r{scrollStrategies=D(nPe);_overlayContainer=D(XF);_positionBuilder=D(uPe);_keyboardDispatcher=D(rPe);_injector=D(On);_ngZone=D(_t);_document=D(rn);_directionality=D(wa);_location=D(Em);_outsideClickDispatcher=D(sPe);_animationsModuleType=D(xo,{optional:!0});_idGenerator=D(wu);_renderer=D(dl).createRenderer(null,null);_appRef;_styleLoader=D(fc);constructor(){}create(i){this._styleLoader.load(nq);const s=this._createHostElement(),a=this._createPaneElement(s),l=this._createPortalOutlet(a),c=new bE(i);return c.direction=c.direction||this._directionality.value,new KF(l,s,a,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(Ns),this._renderer)}position(){return this._positionBuilder}_createPaneElement(i){const s=this._document.createElement("div");return s.id=this._idGenerator.getId("cdk-overlay-"),s.classList.add("cdk-overlay-pane"),i.appendChild(s),s}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(Co)),new Kke(i,null,this._appRef,this._injector,this._document)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const hPe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],aq=new se("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const r=D(eo);return()=>r.scrollStrategies.reposition()}});let Mb=(()=>{class r{elementRef=D(Mt);constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return r})(),ZF=(()=>{class r{_overlay=D(eo);_dir=D(wa,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=gn.EMPTY;_attachSubscription=gn.EMPTY;_detachSubscription=gn.EMPTY;_positionSubscription=gn.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=D(aq);_disposeOnNavigation=!1;_ngZone=D(_t);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(i){this._offsetX=i,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(i){this._offsetY=i,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(i){this._disposeOnNavigation=i}backdropClick=new ue;positionChange=new ue;attach=new ue;detach=new ue;overlayKeydown=new ue;overlayOutsideClick=new ue;constructor(){const i=D(zi),s=D(Ki);this._templatePortal=new hg(i,s),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(i){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),i.origin&&this.open&&this._position.apply()),i.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=hPe);const i=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=i.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=i.detachments().subscribe(()=>this.detach.emit()),i.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),27===s.keyCode&&!this.disableClose&&!xl(s)&&(s.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{const a=this._getOriginElement(),l=hc(s);(!a||a!==l&&!a.contains(l))&&this.overlayOutsideClick.next(s)})}_buildConfig(){const i=this._position=this.positionStrategy||this._createPositionStrategy(),s=new bE({direction:this._dir||"ltr",positionStrategy:i,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(s.width=this.width),(this.height||0===this.height)&&(s.height=this.height),(this.minWidth||0===this.minWidth)&&(s.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(i){const s=this.positions.map(a=>({originX:a.originX,originY:a.originY,overlayX:a.overlayX,overlayY:a.overlayY,offsetX:a.offsetX||this.offsetX,offsetY:a.offsetY||this.offsetY,panelClass:a.panelClass||void 0}));return i.setOrigin(this._getOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const i=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(i),i}_getOrigin(){return this.origin instanceof Mb?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Mb?this.origin.elementRef.nativeElement:this.origin instanceof Mt?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(i=>{this.backdropClick.emit(i)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Yke(r,n=!1){return qi((i,s)=>{let a=0;i.subscribe(Yi(s,l=>{const c=r(l,a++);(c||n)&&s.next(l),!c&&s.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(i=>{this._ngZone.run(()=>this.positionChange.emit(i)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ct],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ct],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ct],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ct],push:[2,"cdkConnectedOverlayPush","push",ct],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ct]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[vr]})}return r})();const pPe={provide:aq,deps:[eo],useFactory:function fPe(r){return()=>r.scrollStrategies.reposition()}};let Sb=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[eo,pPe],imports:[vb,vE,yE,yE]})}return r})();function mPe(r,n){}class Ib{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext}let lq=(()=>{class r extends qF{_elementRef=D(Mt);_focusTrapFactory=D(g7);_config;_interactivityChecker=D(kF);_ngZone=D(_t);_overlayRef=D(KF);_focusMonitor=D(cf);_renderer=D(Ms);_platform=D(Qr);_document=D(rn,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=D(Zi);_injector=D(On);_isDestroyed=!1;constructor(){super(),this._config=D(Ib,{optional:!0})||new Ib,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){const s=this._ariaLabelledByQueue.indexOf(i);s>-1&&(this._ariaLabelledByQueue.splice(s,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),s}attachTemplatePortal(i){this._portalOutlet.hasAttached();const s=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),s}attachDomPortal=i=>{this._portalOutlet.hasAttached();const s=this._portalOutlet.attachDomPortal(i);return this._contentAttached(),s};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{l(),c(),i.removeAttribute("tabindex")},l=this._renderer.listen(i,"blur",a),c=this._renderer.listen(i,"mousedown",a)})),i.focus(s)}_focusByCssSelector(i,s){let a=this._elementRef.nativeElement.querySelector(i);a&&this._forceFocus(a,s)}_trapFocus(){this._isDestroyed||_a(()=>{const i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const i=this._config.restoreFocus;let s=null;if("string"==typeof i?s=this._document.querySelector(i):"boolean"==typeof i?s=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(s=i),this._config.restoreFocus&&s&&"function"==typeof s.focus){const a=EF(),l=this._elementRef.nativeElement;(!a||a===this._document.body||a===l||l.contains(a))&&(this._focusMonitor?(this._focusMonitor.focusVia(s,this._closeInteractionType),this._closeInteractionType=null):s.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const i=this._elementRef.nativeElement,s=EF();return i===s||i.contains(s)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=EF()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["cdk-dialog-container"]],viewQuery:function(s,a){if(1&s&&Kn(Eb,7),2&s){let l;St(l=It())&&(a._portalOutlet=l.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(s,a){2&s&&en("id",a._config.id||null)("role",a._config.role)("aria-modal",a._config.ariaModal)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null)},features:[Je],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(s,a){1&s&&ge(0,mPe,0,0,"ng-template",0)},dependencies:[Eb],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return r})();class JF{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Qe;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,i){this.overlayRef=n,this.config=i,this.disableClose=i.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(s=>{27===s.keyCode&&!this.disableClose&&!xl(s)&&(s.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=n.detachments().subscribe(()=>{!1!==i.closeOnOverlayDetachments&&this.close()})}close(n,i){if(this.containerInstance){const s=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),s.next(n),s.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",i=""){return this.overlayRef.updateSize({width:n,height:i}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}}const cq=new se("DialogScrollStrategy",{providedIn:"root",factory:()=>{const r=D(eo);return()=>r.scrollStrategies.block()}}),gPe=new se("DialogData"),_Pe=new se("DefaultDialogConfig");let dq=(()=>{class r{_overlay=D(eo);_injector=D(On);_defaultOptions=D(_Pe,{optional:!0});_parentDialog=D(r,{optional:!0,skipSelf:!0});_overlayContainer=D(XF);_idGenerator=D(wu);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Qe;_afterOpenedAtThisLevel=new Qe;_ariaHiddenElements=new Map;_scrollStrategy=D(cq);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Nv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ts(void 0)));constructor(){}open(i,s){(s={...this._defaultOptions||new Ib,...s}).id=s.id||this._idGenerator.getId("cdk-dialog-"),s.id&&this.getDialogById(s.id);const l=this._getOverlayConfig(s),c=this._overlay.create(l),d=new JF(c,s),u=this._attachContainer(c,d,s);return d.containerInstance=u,this._attachDialogContent(i,d,u,s),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){eO(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(s=>s.id===i)}ngOnDestroy(){eO(this._openDialogsAtThisLevel,i=>{!1===i.config.closeOnDestroy&&this._removeOpenDialog(i,!1)}),eO(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){const s=new bE({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(s.backdropClass=i.backdropClass),s}_attachContainer(i,s,a){const l=a.injector||a.viewContainerRef?.injector,c=[{provide:Ib,useValue:a},{provide:JF,useValue:s},{provide:KF,useValue:i}];let d;a.container?"function"==typeof a.container?d=a.container:(d=a.container.type,c.push(...a.container.providers(a))):d=lq;const u=new WF(d,a.viewContainerRef,On.create({parent:l||this._injector,providers:c}));return i.attach(u).instance}_attachDialogContent(i,s,a,l){if(i instanceof zi){const c=this._createInjector(l,s,a,void 0);let d={$implicit:l.data,dialogRef:s};l.templateContext&&(d={...d,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),a.attachTemplatePortal(new hg(i,null,d,c))}else{const c=this._createInjector(l,s,a,this._injector),d=a.attachComponentPortal(new WF(i,l.viewContainerRef,c));s.componentRef=d,s.componentInstance=d.instance}}_createInjector(i,s,a,l){const c=i.injector||i.viewContainerRef?.injector,d=[{provide:gPe,useValue:i.data},{provide:JF,useValue:s}];return i.providers&&("function"==typeof i.providers?d.push(...i.providers(s,i,a)):d.push(...i.providers)),i.direction&&(!c||!c.get(wa,null,{optional:!0}))&&d.push({provide:wa,useValue:{value:i.direction,change:Oe()}}),On.create({parent:c||l,providers:d})}_removeOpenDialog(i,s){const a=this.openDialogs.indexOf(i);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,c)=>{l?c.setAttribute("aria-hidden",l):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),s&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const i=this._overlayContainer.getContainerElement();if(i.parentElement){const s=i.parentElement.children;for(let a=s.length-1;a>-1;a--){const l=s[a];l!==i&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function eO(r,n){let i=r.length;for(;i--;)n(r[i])}let vPe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[dq],imports:[Sb,vE,WDe,vE]})}return r})();function bPe(r,n){}class uq{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration}const tO="mdc-dialog--open",hq="mdc-dialog--opening",fq="mdc-dialog--closing";let pq=(()=>{class r extends lq{_animationMode=D(xo,{optional:!0});_animationStateChanged=new ue;_animationsEnabled="NoopAnimations"!==this._animationMode;_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?gq(this._config.enterAnimationDuration)??150:0;_exitAnimationDuration=this._animationsEnabled?gq(this._config.exitAnimationDuration)??75:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(mq,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(hq,tO)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(tO),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(tO),this._animationsEnabled?(this._hostElement.style.setProperty(mq,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(fq)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(hq,fq)}_waitForAnimationToComplete(i,s){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(s,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(i){const s=super.attachComponentPortal(i);return s.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),s}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(s,a){2&s&&(Rh("id",a._config.id),en("aria-modal",a._config.ariaModal)("role",a._config.role)("aria-labelledby",a._config.ariaLabel?null:a._ariaLabelledByQueue[0])("aria-label",a._config.ariaLabel)("aria-describedby",a._config.ariaDescribedBy||null),Lt("_mat-animation-noopable",!a._animationsEnabled)("mat-mdc-dialog-container-with-actions",a._actionSectionCount>0))},features:[Je],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(s,a){1&s&&(Y(0,"div",0)(1,"div",1),ge(2,bPe,0,0,"ng-template",2),W()())},dependencies:[Eb],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return r})();const mq="--mat-dialog-transition-duration";function gq(r){return null==r?null:"number"==typeof r?r:r.endsWith("ms")?SF(r.substring(0,r.length-2)):r.endsWith("s")?1e3*SF(r.substring(0,r.length-1)):"0"===r?0:null}var AE=function(r){return r[r.OPEN=0]="OPEN",r[r.CLOSING=1]="CLOSING",r[r.CLOSED=2]="CLOSED",r}(AE||{});class nO{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Qe;_beforeClosed=new Qe;_result;_closeFallbackTimeout;_state=AE.OPEN;_closeInteractionType;constructor(n,i,s){this._ref=n,this._containerInstance=s,this.disableClose=i.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),s._animationStateChanged.pipe(ni(a=>"opened"===a.state),dr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),s._animationStateChanged.pipe(ni(a=>"closed"===a.state),dr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ds(this.backdropClick(),this.keydownEvents().pipe(ni(a=>27===a.keyCode&&!this.disableClose&&!xl(a)))).subscribe(a=>{this.disableClose||(a.preventDefault(),_q(this,"keydown"===a.type?"keyboard":"mouse"))})}close(n){this._result=n,this._containerInstance._animationStateChanged.pipe(ni(i=>"closing"===i.state),dr(1)).subscribe(i=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=AE.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let i=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?i.left(n.left):i.right(n.right):i.centerHorizontally(),n&&(n.top||n.bottom)?n.top?i.top(n.top):i.bottom(n.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",i=""){return this._ref.updateSize(n,i),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=AE.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function _q(r,n,i){return r._closeInteractionType=n,r.close(i)}const wPe=new se("MatMdcDialogData"),CPe=new se("mat-mdc-dialog-default-options"),yq=new se("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const r=D(eo);return()=>r.scrollStrategies.block()}});let Tb=(()=>{class r{_overlay=D(eo);_defaultOptions=D(CPe,{optional:!0});_scrollStrategy=D(yq);_parentDialog=D(r,{optional:!0,skipSelf:!0});_idGenerator=D(wu);_dialog=D(dq);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Qe;_afterOpenedAtThisLevel=new Qe;dialogConfigClass=uq;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Nv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ts(void 0)));constructor(){this._dialogRefConstructor=nO,this._dialogContainerType=pq,this._dialogDataToken=wPe}open(i,s){let a;(s={...this._defaultOptions||new uq,...s}).id=s.id||this._idGenerator.getId("mat-mdc-dialog-"),s.scrollStrategy=s.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(i,{...s,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:s},{provide:Ib,useValue:s}]},templateContext:()=>({dialogRef:a}),providers:(c,d,u)=>(a=new this._dialogRefConstructor(c,s,u),a.updatePosition(s?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:a}])});return a.componentRef=l.componentRef,a.componentInstance=l.componentInstance,this.openDialogs.push(a),this.afterOpened.next(a),a.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(a);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(s=>s.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let s=i.length;for(;s--;)i[s].close()}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),iO=(()=>{class r{dialogRef=D(nO,{optional:!0});_elementRef=D(Mt);_dialog=D(Tb);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=bq(this._elementRef,this._dialog.openDialogs))}ngOnChanges(i){const s=i._matDialogClose||i._matDialogCloseResult;s&&(this.dialogResult=s.currentValue)}_onButtonClick(i){_q(this.dialogRef,0===i.screenX&&0===i.screenY?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(s,a){1&s&&ht("click",function(c){return a._onButtonClick(c)}),2&s&&en("aria-label",a.ariaLabel||null)("type",a.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[vr]})}return r})(),vq=(()=>{class r{_dialogRef=D(nO,{optional:!0});_elementRef=D(Mt);_dialog=D(Tb);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=bq(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r})}return r})(),rO=(()=>{class r extends vq{id=D(wu).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(s,a){2&s&&Rh("id",a.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Je]})}return r})();function bq(r,n){let i=r.nativeElement.parentElement;for(;i&&!i.classList.contains("mat-mdc-dialog-container");)i=i.parentElement;return i?n.find(s=>s.id===i.id):null}let Aq=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[Tb],imports:[vPe,Sb,vE,ci,ci]})}return r})(),gf=(()=>{class r{get vertical(){return this._vertical}set vertical(i){this._vertical=sf(i)}_vertical=!1;get inset(){return this._inset}set inset(i){this._inset=sf(i)}_inset=!1;static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(s,a){2&s&&(en("aria-orientation",a.vertical?"vertical":"horizontal"),Lt("mat-divider-vertical",a.vertical)("mat-divider-horizontal",!a.vertical)("mat-divider-inset",a.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(s,a){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-sys-outline));border-top-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-sys-outline));border-right-width:var(--mat-divider-width, 1px)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0})}return r})(),_f=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,ci]})}return r})();function IPe(r,n){if(1&r&&(Y(0,"div"),ce(1),W()),2&r){const i=J().$implicit;L(),jt(" ",i.title," ")}}function TPe(r,n){if(1&r&&(Y(0,"div",7)(1,"div",8)(2,"div"),ce(3),W(),Y(4,"a",9),ce(5),W()(),Y(6,"div",10),ce(7),W()()),2&r){const i=J(2);L(3),Ut(i.headerData.title),L(),fl("href",i.headerData.buttonData.url,wn),L(),jt(" ",i.headerData.buttonData.text," "),L(2),Ut(i.headerData.subtitle)}}function DPe(r,n){if(1&r&&(Y(0,"div",11)(1,"markdown"),ce(2),W()()),2&r){const i=J().$implicit;L(2),Ut(i.description)}}function RPe(r,n){if(1&r&&(Y(0,"span",14),ce(1),W()),2&r){const i=J(3);L(),Ut(null==i.headerData?null:i.headerData.title)}}function kPe(r,n){1&r&&Te(0,"mat-divider")}function PPe(r,n){if(1&r&&(Y(0,"div",12),ge(1,RPe,2,1,"span",13),Y(2,"span",14),ce(3),W(),Te(4,"div",15),Y(5,"button",16)(6,"mat-icon"),ce(7,"close"),W()()(),ge(8,kPe,1,0,"mat-divider",3),Te(9,"img",17)),2&r){const i=J().$implicit,s=J();L(),j("ngIf",null==s.headerData?null:s.headerData.title),L(2),Ut(i.title),L(2),j("disableRipple",!0),L(3),j("ngIf",s.headerData),L(),j("src",i.imageDialog,wn)("alt",i.alt)}}function FPe(r,n){if(1&r){const i=Xn();Y(0,"mat-card",2)(1,"mat-card-header"),ge(2,IPe,2,1,"div",3)(3,TPe,8,4,"div",4),W(),Te(4,"mat-divider"),ge(5,DPe,3,1,"div",5),Y(6,"mat-card-actions")(7,"img",6),ht("click",function(){Vt(i);const a=cr(9);return Ht(J().openImageViewer(a))}),W(),ge(8,PPe,10,6,"ng-template",null,0,So),W()()}if(2&r){const i=n.$implicit,s=J();L(2),j("ngIf",i.title),L(),j("ngIf",s.headerData),L(2),j("ngIf",i.description),L(2),j("src",i.image,wn)("alt",i.alt)}}let OPe=(()=>{class r{constructor(i){this.dialog=i,this.imageInfo=[],this.customModalClass=""}openImageViewer(i){const s=parseFloat(getComputedStyle(document.documentElement).fontSize);window.innerWidth/s<63||this.dialog.open(i,{panelClass:["custom-modal",this.customModalClass]})}static{this.\u0275fac=function(s){return new(s||r)(me(Tb))}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-simple-image"]],inputs:{imageInfo:"imageInfo",headerData:"headerData",customModalClass:"customModalClass"},standalone:!1,decls:1,vars:1,consts:[["imageViewerContent",""],["class","simple-image-card",4,"ngFor","ngForOf"],[1,"simple-image-card"],[4,"ngIf"],["class","header-container",4,"ngIf"],["class","description",4,"ngIf"],[3,"click","src","alt"],[1,"header-container"],[1,"title-btn"],["mat-raised-button","","disableRipple","","target","_blank",3,"href"],[1,"header-subtitle"],[1,"description"],[1,"dialog-header"],["mat-dialog-title","",4,"ngIf"],["mat-dialog-title",""],[2,"flex-grow","1"],["mat-dialog-close","","mat-button","",1,"open-button",3,"disableRipple"],[3,"src","alt"]],template:function(s,a){1&s&&ge(0,FPe,10,5,"mat-card",1),2&s&&j("ngForOf",a.imageInfo)},dependencies:[Ji,Do,Ca,VF,R7,gf,iO,rO,uf,hE,ff,Qm],styles:["[_nghost-%COMP%]{display:block;padding-bottom:2rem}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{padding:1.5rem 2rem;font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em}[_nghost-%COMP%]   mat-card-header[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.5rem;letter-spacing:.005rem;padding:1rem 2rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:center}[_nghost-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:unset;padding-bottom:1rem!important}[_nghost-%COMP%]   .header-container[_ngcontent-%COMP%]{width:100%;margin:1rem 0}[_nghost-%COMP%]   .title-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1rem;flex-wrap:wrap;gap:2rem}[_nghost-%COMP%]   .mat-mdc-raised-button[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;white-space:normal;letter-spacing:0;line-height:20px}[_nghost-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{font-size:1rem}[_nghost-%COMP%]   .simple-image-card[_ngcontent-%COMP%]{padding:unset}[_nghost-%COMP%]     .mat-card-header-text{margin:unset!important}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{font-size:1.125rem;padding:1rem}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{padding:1rem}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .title-btn[_ngcontent-%COMP%]{flex-wrap:unset;flex-direction:column}}  .custom-modal .mat-mdc-dialog-container .mdc-dialog__surface{display:flex;flex-direction:column;padding:1.5rem}  .custom-modal .mat-icon{padding-bottom:.625rem;height:1.75rem}  .custom-modal .dialog-header{display:flex;flex-direction:row;width:100%}  .custom-modal .mat-button-toggle-focus-overlay{display:none}  .custom-modal .mdc-dialog__title{display:flex;--mdc-dialog-subhead-weight: 300;--mdc-dialog-subhead-size: 1.5rem;--mdc-dialog-subhead-line-height: 1.5rem;--mdc-dialog-subhead-tracking: .005rem;margin:unset;padding:0}  .modal{padding:1rem;max-width:calc(100vw - 1rem)!important}  .modal img{max-height:calc(100vh - 7.5rem - 1px)}  .modal .mat-divider{margin:0 -1.5rem 0 -2rem}"]})}}return r})();function xq(r){return null!==r&&"object"==typeof r&&"constructor"in r&&r.constructor===Object}function sO(r={},n={}){Object.keys(n).forEach(i=>{typeof r[i]>"u"?r[i]=n[i]:xq(n[i])&&xq(r[i])&&Object.keys(n[i]).length>0&&sO(r[i],n[i])})}const wq={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function zs(){const r=typeof document<"u"?document:{};return sO(r,wq),r}const NPe={document:wq,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:r=>typeof setTimeout>"u"?(r(),null):setTimeout(r,0),cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function Rs(){const r=typeof window<"u"?window:{};return sO(r,NPe),r}class Eu extends Array{constructor(n){"number"==typeof n?super(n):(super(...n||[]),function BPe(r){const n=r.__proto__;Object.defineProperty(r,"__proto__",{get:()=>n,set(i){n.__proto__=i}})}(this))}}function Db(r=[]){const n=[];return r.forEach(i=>{Array.isArray(i)?n.push(...Db(i)):n.push(i)}),n}function Cq(r,n){return Array.prototype.filter.call(r,n)}function hn(r,n){const i=Rs(),s=zs();let a=[];if(!n&&r instanceof Eu)return r;if(!r)return new Eu(a);if("string"==typeof r){const l=r.trim();if(l.indexOf("<")>=0&&l.indexOf(">")>=0){let c="div";0===l.indexOf("<li")&&(c="ul"),0===l.indexOf("<tr")&&(c="tbody"),(0===l.indexOf("<td")||0===l.indexOf("<th"))&&(c="tr"),0===l.indexOf("<tbody")&&(c="table"),0===l.indexOf("<option")&&(c="select");const d=s.createElement(c);d.innerHTML=l;for(let u=0;u<d.childNodes.length;u+=1)a.push(d.childNodes[u])}else a=function zPe(r,n){if("string"!=typeof r)return[r];const i=[],s=n.querySelectorAll(r);for(let a=0;a<s.length;a+=1)i.push(s[a]);return i}(r.trim(),n||s)}else if(r.nodeType||r===i||r===s)a.push(r);else if(Array.isArray(r)){if(r instanceof Eu)return r;a=r}return new Eu(function LPe(r){const n=[];for(let i=0;i<r.length;i+=1)-1===n.indexOf(r[i])&&n.push(r[i]);return n}(a))}hn.fn=Eu.prototype;const wFe="resize scroll".split(" ");function Fr(r){return function n(...i){if(typeof i[0]>"u"){for(let s=0;s<this.length;s+=1)wFe.indexOf(r)<0&&(r in this[s]?this[s][r]():hn(this[s]).trigger(r));return this}return this.on(r,...i)}}Fr("click"),Fr("blur"),Fr("focus"),Fr("focusin"),Fr("focusout"),Fr("keyup"),Fr("keydown"),Fr("keypress"),Fr("submit"),Fr("change"),Fr("mousedown"),Fr("mousemove"),Fr("mouseup"),Fr("mouseenter"),Fr("mouseleave"),Fr("mouseout"),Fr("mouseover"),Fr("touchstart"),Fr("touchend"),Fr("touchmove"),Fr("resize"),Fr("scroll");const Eq={addClass:function VPe(...r){const n=Db(r.map(i=>i.split(" ")));return this.forEach(i=>{i.classList.add(...n)}),this},removeClass:function HPe(...r){const n=Db(r.map(i=>i.split(" ")));return this.forEach(i=>{i.classList.remove(...n)}),this},hasClass:function $Pe(...r){const n=Db(r.map(i=>i.split(" ")));return Cq(this,i=>n.filter(s=>i.classList.contains(s)).length>0).length>0},toggleClass:function GPe(...r){const n=Db(r.map(i=>i.split(" ")));this.forEach(i=>{n.forEach(s=>{i.classList.toggle(s)})})},attr:function QPe(r,n){if(1===arguments.length&&"string"==typeof r)return this[0]?this[0].getAttribute(r):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(r,n);else for(const s in r)this[i][s]=r[s],this[i].setAttribute(s,r[s]);return this},removeAttr:function jPe(r){for(let n=0;n<this.length;n+=1)this[n].removeAttribute(r);return this},transform:function WPe(r){for(let n=0;n<this.length;n+=1)this[n].style.transform=r;return this},transition:function qPe(r){for(let n=0;n<this.length;n+=1)this[n].style.transitionDuration="string"!=typeof r?`${r}ms`:r;return this},on:function YPe(...r){let[n,i,s,a]=r;function l(h){const f=h.target;if(!f)return;const p=h.target.dom7EventData||[];if(p.indexOf(h)<0&&p.unshift(h),hn(f).is(i))s.apply(f,p);else{const g=hn(f).parents();for(let m=0;m<g.length;m+=1)hn(g[m]).is(i)&&s.apply(g[m],p)}}function c(h){const f=h&&h.target&&h.target.dom7EventData||[];f.indexOf(h)<0&&f.unshift(h),s.apply(this,f)}"function"==typeof r[1]&&([n,s,a]=r,i=void 0),a||(a=!1);const d=n.split(" ");let u;for(let h=0;h<this.length;h+=1){const f=this[h];if(i)for(u=0;u<d.length;u+=1){const p=d[u];f.dom7LiveListeners||(f.dom7LiveListeners={}),f.dom7LiveListeners[p]||(f.dom7LiveListeners[p]=[]),f.dom7LiveListeners[p].push({listener:s,proxyListener:l}),f.addEventListener(p,l,a)}else for(u=0;u<d.length;u+=1){const p=d[u];f.dom7Listeners||(f.dom7Listeners={}),f.dom7Listeners[p]||(f.dom7Listeners[p]=[]),f.dom7Listeners[p].push({listener:s,proxyListener:c}),f.addEventListener(p,c,a)}}return this},off:function XPe(...r){let[n,i,s,a]=r;"function"==typeof r[1]&&([n,s,a]=r,i=void 0),a||(a=!1);const l=n.split(" ");for(let c=0;c<l.length;c+=1){const d=l[c];for(let u=0;u<this.length;u+=1){const h=this[u];let f;if(!i&&h.dom7Listeners?f=h.dom7Listeners[d]:i&&h.dom7LiveListeners&&(f=h.dom7LiveListeners[d]),f&&f.length)for(let p=f.length-1;p>=0;p-=1){const g=f[p];s&&g.listener===s||s&&g.listener&&g.listener.dom7proxy&&g.listener.dom7proxy===s?(h.removeEventListener(d,g.proxyListener,a),f.splice(p,1)):s||(h.removeEventListener(d,g.proxyListener,a),f.splice(p,1))}}}return this},trigger:function KPe(...r){const n=Rs(),i=r[0].split(" "),s=r[1];for(let a=0;a<i.length;a+=1){const l=i[a];for(let c=0;c<this.length;c+=1){const d=this[c];if(n.CustomEvent){const u=new n.CustomEvent(l,{detail:s,bubbles:!0,cancelable:!0});d.dom7EventData=r.filter((h,f)=>f>0),d.dispatchEvent(u),d.dom7EventData=[],delete d.dom7EventData}}}return this},transitionEnd:function ZPe(r){const n=this;return r&&n.on("transitionend",function i(s){s.target===this&&(r.call(this,s),n.off("transitionend",i))}),this},outerWidth:function JPe(r){if(this.length>0){if(r){const n=this.styles();return this[0].offsetWidth+parseFloat(n.getPropertyValue("margin-right"))+parseFloat(n.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function eFe(r){if(this.length>0){if(r){const n=this.styles();return this[0].offsetHeight+parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function nFe(){const r=Rs();return this[0]?r.getComputedStyle(this[0],null):{}},offset:function tFe(){if(this.length>0){const r=Rs(),n=zs(),i=this[0],s=i.getBoundingClientRect(),a=n.body;return{top:s.top+(i===r?r.scrollY:i.scrollTop)-(i.clientTop||a.clientTop||0),left:s.left+(i===r?r.scrollX:i.scrollLeft)-(i.clientLeft||a.clientLeft||0)}}return null},css:function iFe(r,n){const i=Rs();let s;if(1===arguments.length){if("string"!=typeof r){for(s=0;s<this.length;s+=1)for(const a in r)this[s].style[a]=r[a];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(r)}if(2===arguments.length&&"string"==typeof r){for(s=0;s<this.length;s+=1)this[s].style[r]=n;return this}return this},each:function rFe(r){return r?(this.forEach((n,i)=>{r.apply(n,[n,i])}),this):this},html:function oFe(r){if(typeof r>"u")return this[0]?this[0].innerHTML:null;for(let n=0;n<this.length;n+=1)this[n].innerHTML=r;return this},text:function aFe(r){if(typeof r>"u")return this[0]?this[0].textContent.trim():null;for(let n=0;n<this.length;n+=1)this[n].textContent=r;return this},is:function lFe(r){const n=Rs(),i=zs(),s=this[0];let a,l;if(!s||typeof r>"u")return!1;if("string"==typeof r){if(s.matches)return s.matches(r);if(s.webkitMatchesSelector)return s.webkitMatchesSelector(r);if(s.msMatchesSelector)return s.msMatchesSelector(r);for(a=hn(r),l=0;l<a.length;l+=1)if(a[l]===s)return!0;return!1}if(r===i)return s===i;if(r===n)return s===n;if(r.nodeType||r instanceof Eu){for(a=r.nodeType?[r]:r,l=0;l<a.length;l+=1)if(a[l]===s)return!0;return!1}return!1},index:function cFe(){let n,r=this[0];if(r){for(n=0;null!==(r=r.previousSibling);)1===r.nodeType&&(n+=1);return n}},eq:function dFe(r){if(typeof r>"u")return this;const n=this.length;if(r>n-1)return hn([]);if(r<0){const i=n+r;return hn(i<0?[]:[this[i]])}return hn([this[r]])},append:function uFe(...r){let n;const i=zs();for(let s=0;s<r.length;s+=1){n=r[s];for(let a=0;a<this.length;a+=1)if("string"==typeof n){const l=i.createElement("div");for(l.innerHTML=n;l.firstChild;)this[a].appendChild(l.firstChild)}else if(n instanceof Eu)for(let l=0;l<n.length;l+=1)this[a].appendChild(n[l]);else this[a].appendChild(n)}return this},prepend:function hFe(r){const n=zs();let i,s;for(i=0;i<this.length;i+=1)if("string"==typeof r){const a=n.createElement("div");for(a.innerHTML=r,s=a.childNodes.length-1;s>=0;s-=1)this[i].insertBefore(a.childNodes[s],this[i].childNodes[0])}else if(r instanceof Eu)for(s=0;s<r.length;s+=1)this[i].insertBefore(r[s],this[i].childNodes[0]);else this[i].insertBefore(r,this[i].childNodes[0]);return this},next:function fFe(r){return this.length>0?r?this[0].nextElementSibling&&hn(this[0].nextElementSibling).is(r)?hn([this[0].nextElementSibling]):hn([]):hn(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):hn([])},nextAll:function pFe(r){const n=[];let i=this[0];if(!i)return hn([]);for(;i.nextElementSibling;){const s=i.nextElementSibling;r?hn(s).is(r)&&n.push(s):n.push(s),i=s}return hn(n)},prev:function mFe(r){if(this.length>0){const n=this[0];return r?n.previousElementSibling&&hn(n.previousElementSibling).is(r)?hn([n.previousElementSibling]):hn([]):hn(n.previousElementSibling?[n.previousElementSibling]:[])}return hn([])},prevAll:function gFe(r){const n=[];let i=this[0];if(!i)return hn([]);for(;i.previousElementSibling;){const s=i.previousElementSibling;r?hn(s).is(r)&&n.push(s):n.push(s),i=s}return hn(n)},parent:function _Fe(r){const n=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(r?hn(this[i].parentNode).is(r)&&n.push(this[i].parentNode):n.push(this[i].parentNode));return hn(n)},parents:function yFe(r){const n=[];for(let i=0;i<this.length;i+=1){let s=this[i].parentNode;for(;s;)r?hn(s).is(r)&&n.push(s):n.push(s),s=s.parentNode}return hn(n)},closest:function vFe(r){let n=this;return typeof r>"u"?hn([]):(n.is(r)||(n=n.parents(r).eq(0)),n)},find:function bFe(r){const n=[];for(let i=0;i<this.length;i+=1){const s=this[i].querySelectorAll(r);for(let a=0;a<s.length;a+=1)n.push(s[a])}return hn(n)},children:function AFe(r){const n=[];for(let i=0;i<this.length;i+=1){const s=this[i].children;for(let a=0;a<s.length;a+=1)(!r||hn(s[a]).is(r))&&n.push(s[a])}return hn(n)},filter:function sFe(r){return hn(Cq(this,r))},remove:function xFe(){for(let r=0;r<this.length;r+=1)this[r].parentNode&&this[r].parentNode.removeChild(this[r]);return this}};Object.keys(Eq).forEach(r=>{Object.defineProperty(hn.fn,r,{value:Eq[r],writable:!0})});const ri=hn;function xE(r,n=0){return setTimeout(r,n)}function Rb(){return Date.now()}function wE(r){return"object"==typeof r&&null!==r&&r.constructor&&"Object"===Object.prototype.toString.call(r).slice(8,-1)}function SFe(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(1===r.nodeType||11===r.nodeType)}function Ea(...r){const n=Object(r[0]),i=["__proto__","constructor","prototype"];for(let s=1;s<r.length;s+=1){const a=r[s];if(null!=a&&!SFe(a)){const l=Object.keys(Object(a)).filter(c=>i.indexOf(c)<0);for(let c=0,d=l.length;c<d;c+=1){const u=l[c],h=Object.getOwnPropertyDescriptor(a,u);void 0!==h&&h.enumerable&&(wE(n[u])&&wE(a[u])?a[u].__swiper__?n[u]=a[u]:Ea(n[u],a[u]):!wE(n[u])&&wE(a[u])?(n[u]={},a[u].__swiper__?n[u]=a[u]:Ea(n[u],a[u])):n[u]=a[u])}}}return n}function CE(r,n,i){r.style.setProperty(n,i)}function Mq({swiper:r,targetPosition:n,side:i}){const s=Rs(),a=-r.translate;let c,l=null;const d=r.params.speed;r.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(r.cssModeFrameID);const u=n>a?"next":"prev",h=(p,g)=>"next"===u&&p>=g||"prev"===u&&p<=g,f=()=>{c=(new Date).getTime(),null===l&&(l=c);const p=Math.max(Math.min((c-l)/d,1),0),g=.5-Math.cos(p*Math.PI)/2;let m=a+g*(n-a);if(h(m,n)&&(m=n),r.wrapperEl.scrollTo({[i]:m}),h(m,n))return r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[i]:m})}),void s.cancelAnimationFrame(r.cssModeFrameID);r.cssModeFrameID=s.requestAnimationFrame(f)};f()}let oO,aO,lO;function Sq(){return oO||(oO=function IFe(){const r=Rs(),n=zs();return{smoothScroll:n.documentElement&&"scrollBehavior"in n.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&n instanceof r.DocumentTouch),passiveListener:function(){let s=!1;try{const a=Object.defineProperty({},"passive",{get(){s=!0}});r.addEventListener("testPassiveListener",null,a)}catch{}return s}(),gestures:"ongesturestart"in r}}()),oO}const OFe={on(r,n,i){const s=this;if(!s.eventsListeners||s.destroyed||"function"!=typeof n)return s;const a=i?"unshift":"push";return r.split(" ").forEach(l=>{s.eventsListeners[l]||(s.eventsListeners[l]=[]),s.eventsListeners[l][a](n)}),s},once(r,n,i){const s=this;if(!s.eventsListeners||s.destroyed||"function"!=typeof n)return s;function a(...l){s.off(r,a),a.__emitterProxy&&delete a.__emitterProxy,n.apply(s,l)}return a.__emitterProxy=n,s.on(r,a,i)},onAny(r,n){const i=this;if(!i.eventsListeners||i.destroyed||"function"!=typeof r)return i;const s=n?"unshift":"push";return i.eventsAnyListeners.indexOf(r)<0&&i.eventsAnyListeners[s](r),i},offAny(r){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsAnyListeners)return n;const i=n.eventsAnyListeners.indexOf(r);return i>=0&&n.eventsAnyListeners.splice(i,1),n},off(r,n){const i=this;return!i.eventsListeners||i.destroyed||!i.eventsListeners||r.split(" ").forEach(s=>{typeof n>"u"?i.eventsListeners[s]=[]:i.eventsListeners[s]&&i.eventsListeners[s].forEach((a,l)=>{(a===n||a.__emitterProxy&&a.__emitterProxy===n)&&i.eventsListeners[s].splice(l,1)})}),i},emit(...r){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let i,s,a;return"string"==typeof r[0]||Array.isArray(r[0])?(i=r[0],s=r.slice(1,r.length),a=n):(i=r[0].events,s=r[0].data,a=r[0].context||n),s.unshift(a),(Array.isArray(i)?i:i.split(" ")).forEach(c=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(d=>{d.apply(a,[c,...s])}),n.eventsListeners&&n.eventsListeners[c]&&n.eventsListeners[c].forEach(d=>{d.apply(a,s)})}),n}},QFe={updateSize:function NFe(){const r=this;let n,i;const s=r.$el;n=typeof r.params.width<"u"&&null!==r.params.width?r.params.width:s[0].clientWidth,i=typeof r.params.height<"u"&&null!==r.params.height?r.params.height:s[0].clientHeight,!(0===n&&r.isHorizontal()||0===i&&r.isVertical())&&(n=n-parseInt(s.css("padding-left")||0,10)-parseInt(s.css("padding-right")||0,10),i=i-parseInt(s.css("padding-top")||0,10)-parseInt(s.css("padding-bottom")||0,10),Number.isNaN(n)&&(n=0),Number.isNaN(i)&&(i=0),Object.assign(r,{width:n,height:i,size:r.isHorizontal()?n:i}))},updateSlides:function BFe(){const r=this;function n(C){return r.isHorizontal()?C:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[C]}function i(C,I){return parseFloat(C.getPropertyValue(n(I))||0)}const s=r.params,{$wrapperEl:a,size:l,rtlTranslate:c,wrongRTL:d}=r,u=r.virtual&&s.virtual.enabled,h=u?r.virtual.slides.length:r.slides.length,f=a.children(`.${r.params.slideClass}`),p=u?r.virtual.slides.length:f.length;let g=[];const m=[],_=[];let v=s.slidesOffsetBefore;"function"==typeof v&&(v=s.slidesOffsetBefore.call(r));let y=s.slidesOffsetAfter;"function"==typeof y&&(y=s.slidesOffsetAfter.call(r));const b=r.snapGrid.length,A=r.slidesGrid.length;let x=s.spaceBetween,w=-v,E=0,M=0;if(typeof l>"u")return;"string"==typeof x&&x.indexOf("%")>=0&&(x=parseFloat(x.replace("%",""))/100*l),r.virtualSize=-x,f.css(c?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),s.centeredSlides&&s.cssMode&&(CE(r.wrapperEl,"--swiper-centered-offset-before",""),CE(r.wrapperEl,"--swiper-centered-offset-after",""));const S=s.grid&&s.grid.rows>1&&r.grid;let T;S&&r.grid.initSlides(p);const P="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(C=>typeof s.breakpoints[C].slidesPerView<"u").length>0;for(let C=0;C<p;C+=1){T=0;const I=f.eq(C);if(S&&r.grid.updateSlide(C,I,p,n),"none"!==I.css("display")){if("auto"===s.slidesPerView){P&&(f[C].style[n("width")]="");const k=getComputedStyle(I[0]),O=I[0].style.transform,z=I[0].style.webkitTransform;if(O&&(I[0].style.transform="none"),z&&(I[0].style.webkitTransform="none"),s.roundLengths)T=r.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{const q=i(k,"width"),R=i(k,"padding-left"),V=i(k,"padding-right"),U=i(k,"margin-left"),X=i(k,"margin-right"),ae=k.getPropertyValue("box-sizing");if(ae&&"border-box"===ae)T=q+U+X;else{const{clientWidth:fe,offsetWidth:Pe}=I[0];T=q+R+V+U+X+(Pe-fe)}}O&&(I[0].style.transform=O),z&&(I[0].style.webkitTransform=z),s.roundLengths&&(T=Math.floor(T))}else T=(l-(s.slidesPerView-1)*x)/s.slidesPerView,s.roundLengths&&(T=Math.floor(T)),f[C]&&(f[C].style[n("width")]=`${T}px`);f[C]&&(f[C].swiperSlideSize=T),_.push(T),s.centeredSlides?(w=w+T/2+E/2+x,0===E&&0!==C&&(w=w-l/2-x),0===C&&(w=w-l/2-x),Math.abs(w)<.001&&(w=0),s.roundLengths&&(w=Math.floor(w)),M%s.slidesPerGroup==0&&g.push(w),m.push(w)):(s.roundLengths&&(w=Math.floor(w)),(M-Math.min(r.params.slidesPerGroupSkip,M))%r.params.slidesPerGroup==0&&g.push(w),m.push(w),w=w+T+x),r.virtualSize+=T+x,E=T,M+=1}}if(r.virtualSize=Math.max(r.virtualSize,l)+y,c&&d&&("slide"===s.effect||"coverflow"===s.effect)&&a.css({width:`${r.virtualSize+s.spaceBetween}px`}),s.setWrapperSize&&a.css({[n("width")]:`${r.virtualSize+s.spaceBetween}px`}),S&&r.grid.updateWrapperSize(T,g,n),!s.centeredSlides){const C=[];for(let I=0;I<g.length;I+=1){let k=g[I];s.roundLengths&&(k=Math.floor(k)),g[I]<=r.virtualSize-l&&C.push(k)}g=C,Math.floor(r.virtualSize-l)-Math.floor(g[g.length-1])>1&&g.push(r.virtualSize-l)}if(0===g.length&&(g=[0]),0!==s.spaceBetween){const C=r.isHorizontal()&&c?"marginLeft":n("marginRight");f.filter((I,k)=>!s.cssMode||k!==f.length-1).css({[C]:`${x}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let C=0;_.forEach(k=>{C+=k+(s.spaceBetween?s.spaceBetween:0)}),C-=s.spaceBetween;const I=C-l;g=g.map(k=>k<0?-v:k>I?I+y:k)}if(s.centerInsufficientSlides){let C=0;if(_.forEach(I=>{C+=I+(s.spaceBetween?s.spaceBetween:0)}),C-=s.spaceBetween,C<l){const I=(l-C)/2;g.forEach((k,O)=>{g[O]=k-I}),m.forEach((k,O)=>{m[O]=k+I})}}if(Object.assign(r,{slides:f,snapGrid:g,slidesGrid:m,slidesSizesGrid:_}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){CE(r.wrapperEl,"--swiper-centered-offset-before",-g[0]+"px"),CE(r.wrapperEl,"--swiper-centered-offset-after",r.size/2-_[_.length-1]/2+"px");const C=-r.snapGrid[0],I=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(k=>k+C),r.slidesGrid=r.slidesGrid.map(k=>k+I)}if(p!==h&&r.emit("slidesLengthChange"),g.length!==b&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),m.length!==A&&r.emit("slidesGridLengthChange"),s.watchSlidesProgress&&r.updateSlidesOffset(),!(u||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const C=`${s.containerModifierClass}backface-hidden`,I=r.$el.hasClass(C);p<=s.maxBackfaceHiddenSlides?I||r.$el.addClass(C):I&&r.$el.removeClass(C)}},updateAutoHeight:function LFe(r){const n=this,i=[],s=n.virtual&&n.params.virtual.enabled;let l,a=0;"number"==typeof r?n.setTransition(r):!0===r&&n.setTransition(n.params.speed);const c=d=>s?n.slides.filter(u=>parseInt(u.getAttribute("data-swiper-slide-index"),10)===d)[0]:n.slides.eq(d)[0];if("auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)(n.visibleSlides||ri([])).each(d=>{i.push(d)});else for(l=0;l<Math.ceil(n.params.slidesPerView);l+=1){const d=n.activeIndex+l;if(d>n.slides.length&&!s)break;i.push(c(d))}else i.push(c(n.activeIndex));for(l=0;l<i.length;l+=1)if(typeof i[l]<"u"){const d=i[l].offsetHeight;a=d>a?d:a}(a||0===a)&&n.$wrapperEl.css("height",`${a}px`)},updateSlidesOffset:function UFe(){const r=this,n=r.slides;for(let i=0;i<n.length;i+=1)n[i].swiperSlideOffset=r.isHorizontal()?n[i].offsetLeft:n[i].offsetTop},updateSlidesProgress:function zFe(r=this&&this.translate||0){const n=this,i=n.params,{slides:s,rtlTranslate:a,snapGrid:l}=n;if(0===s.length)return;typeof s[0].swiperSlideOffset>"u"&&n.updateSlidesOffset();let c=-r;a&&(c=r),s.removeClass(i.slideVisibleClass),n.visibleSlidesIndexes=[],n.visibleSlides=[];for(let d=0;d<s.length;d+=1){const u=s[d];let h=u.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(h-=s[0].swiperSlideOffset);const f=(c+(i.centeredSlides?n.minTranslate():0)-h)/(u.swiperSlideSize+i.spaceBetween),p=(c-l[0]+(i.centeredSlides?n.minTranslate():0)-h)/(u.swiperSlideSize+i.spaceBetween),g=-(c-h),m=g+n.slidesSizesGrid[d];(g>=0&&g<n.size-1||m>1&&m<=n.size||g<=0&&m>=n.size)&&(n.visibleSlides.push(u),n.visibleSlidesIndexes.push(d),s.eq(d).addClass(i.slideVisibleClass)),u.progress=a?-f:f,u.originalProgress=a?-p:p}n.visibleSlides=ri(n.visibleSlides)},updateProgress:function VFe(r){const n=this;typeof r>"u"&&(r=n&&n.translate&&n.translate*(n.rtlTranslate?-1:1)||0);const i=n.params,s=n.maxTranslate()-n.minTranslate();let{progress:a,isBeginning:l,isEnd:c}=n;const d=l,u=c;0===s?(a=0,l=!0,c=!0):(a=(r-n.minTranslate())/s,l=a<=0,c=a>=1),Object.assign(n,{progress:a,isBeginning:l,isEnd:c}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&n.updateSlidesProgress(r),l&&!d&&n.emit("reachBeginning toEdge"),c&&!u&&n.emit("reachEnd toEdge"),(d&&!l||u&&!c)&&n.emit("fromEdge"),n.emit("progress",a)},updateSlidesClasses:function HFe(){const r=this,{slides:n,params:i,$wrapperEl:s,activeIndex:a,realIndex:l}=r,c=r.virtual&&i.virtual.enabled;let d;n.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),d=c?r.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${a}"]`):n.eq(a),d.addClass(i.slideActiveClass),i.loop&&(d.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l}"]`).addClass(i.slideDuplicateActiveClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l}"]`).addClass(i.slideDuplicateActiveClass));let u=d.nextAll(`.${i.slideClass}`).eq(0).addClass(i.slideNextClass);i.loop&&0===u.length&&(u=n.eq(0),u.addClass(i.slideNextClass));let h=d.prevAll(`.${i.slideClass}`).eq(0).addClass(i.slidePrevClass);i.loop&&0===h.length&&(h=n.eq(-1),h.addClass(i.slidePrevClass)),i.loop&&(u.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),h.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),r.emitSlidesClasses()},updateActiveIndex:function GFe(r){const n=this,i=n.rtlTranslate?n.translate:-n.translate,{slidesGrid:s,snapGrid:a,params:l,activeIndex:c,realIndex:d,snapIndex:u}=n;let f,h=r;if(typeof h>"u"){for(let g=0;g<s.length;g+=1)typeof s[g+1]<"u"?i>=s[g]&&i<s[g+1]-(s[g+1]-s[g])/2?h=g:i>=s[g]&&i<s[g+1]&&(h=g+1):i>=s[g]&&(h=g);l.normalizeSlideIndex&&(h<0||typeof h>"u")&&(h=0)}if(a.indexOf(i)>=0)f=a.indexOf(i);else{const g=Math.min(l.slidesPerGroupSkip,h);f=g+Math.floor((h-g)/l.slidesPerGroup)}if(f>=a.length&&(f=a.length-1),h===c)return void(f!==u&&(n.snapIndex=f,n.emit("snapIndexChange")));const p=parseInt(n.slides.eq(h).attr("data-swiper-slide-index")||h,10);Object.assign(n,{snapIndex:f,realIndex:p,previousIndex:c,activeIndex:h}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),d!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")},updateClickedSlide:function $Fe(r){const n=this,i=n.params,s=ri(r).closest(`.${i.slideClass}`)[0];let l,a=!1;if(s)for(let c=0;c<n.slides.length;c+=1)if(n.slides[c]===s){a=!0,l=c;break}if(!s||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.clickedIndex=n.virtual&&n.params.virtual.enabled?parseInt(ri(s).attr("data-swiper-slide-index"),10):l,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},KFe={getTranslate:function jFe(r=(this.isHorizontal()?"x":"y")){const{params:i,rtlTranslate:s,translate:a,$wrapperEl:l}=this;if(i.virtualTranslate)return s?-a:a;if(i.cssMode)return a;let c=function MFe(r,n="x"){const i=Rs();let s,a,l;const c=function EFe(r){const n=Rs();let i;return n.getComputedStyle&&(i=n.getComputedStyle(r,null)),!i&&r.currentStyle&&(i=r.currentStyle),i||(i=r.style),i}(r);return i.WebKitCSSMatrix?(a=c.transform||c.webkitTransform,a.split(",").length>6&&(a=a.split(", ").map(d=>d.replace(",",".")).join(", ")),l=new i.WebKitCSSMatrix("none"===a?"":a)):(l=c.MozTransform||c.OTransform||c.MsTransform||c.msTransform||c.transform||c.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=l.toString().split(",")),"x"===n&&(a=i.WebKitCSSMatrix?l.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===n&&(a=i.WebKitCSSMatrix?l.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),a||0}(l[0],r);return s&&(c=-c),c||0},setTranslate:function WFe(r,n){const i=this,{rtlTranslate:s,params:a,$wrapperEl:l,wrapperEl:c,progress:d}=i;let p,u=0,h=0;i.isHorizontal()?u=s?-r:r:h=r,a.roundLengths&&(u=Math.floor(u),h=Math.floor(h)),a.cssMode?c[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-u:-h:a.virtualTranslate||l.transform(`translate3d(${u}px, ${h}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?u:h;const g=i.maxTranslate()-i.minTranslate();p=0===g?0:(r-i.minTranslate())/g,p!==d&&i.updateProgress(r),i.emit("setTranslate",i.translate,n)},minTranslate:function qFe(){return-this.snapGrid[0]},maxTranslate:function YFe(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function XFe(r=0,n=this.params.speed,i=!0,s=!0,a){const l=this,{params:c,wrapperEl:d}=l;if(l.animating&&c.preventInteractionOnTransition)return!1;const u=l.minTranslate(),h=l.maxTranslate();let f;if(f=s&&r>u?u:s&&r<h?h:r,l.updateProgress(f),c.cssMode){const p=l.isHorizontal();if(0===n)d[p?"scrollLeft":"scrollTop"]=-f;else{if(!l.support.smoothScroll)return Mq({swiper:l,targetPosition:-f,side:p?"left":"top"}),!0;d.scrollTo({[p?"left":"top"]:-f,behavior:"smooth"})}return!0}return 0===n?(l.setTransition(0),l.setTranslate(f),i&&(l.emit("beforeTransitionStart",n,a),l.emit("transitionEnd"))):(l.setTransition(n),l.setTranslate(f),i&&(l.emit("beforeTransitionStart",n,a),l.emit("transitionStart")),l.animating||(l.animating=!0,l.onTranslateToWrapperTransitionEnd||(l.onTranslateToWrapperTransitionEnd=function(g){!l||l.destroyed||g.target===this&&(l.$wrapperEl[0].removeEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.$wrapperEl[0].removeEventListener("webkitTransitionEnd",l.onTranslateToWrapperTransitionEnd),l.onTranslateToWrapperTransitionEnd=null,delete l.onTranslateToWrapperTransitionEnd,i&&l.emit("transitionEnd"))}),l.$wrapperEl[0].addEventListener("transitionend",l.onTranslateToWrapperTransitionEnd),l.$wrapperEl[0].addEventListener("webkitTransitionEnd",l.onTranslateToWrapperTransitionEnd))),!0}};function Iq({swiper:r,runCallbacks:n,direction:i,step:s}){const{activeIndex:a,previousIndex:l}=r;let c=i;if(c||(c=a>l?"next":a<l?"prev":"reset"),r.emit(`transition${s}`),n&&a!==l){if("reset"===c)return void r.emit(`slideResetTransition${s}`);r.emit(`slideChangeTransition${s}`),r.emit("next"===c?`slideNextTransition${s}`:`slidePrevTransition${s}`)}}const tOe={setTransition:function ZFe(r,n){const i=this;i.params.cssMode||i.$wrapperEl.transition(r),i.emit("setTransition",r,n)},transitionStart:function JFe(r=!0,n){const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),Iq({swiper:i,runCallbacks:r,direction:n,step:"Start"}))},transitionEnd:function eOe(r=!0,n){const i=this,{params:s}=i;i.animating=!1,!s.cssMode&&(i.setTransition(0),Iq({swiper:i,runCallbacks:r,direction:n,step:"End"}))}},cOe={slideTo:function nOe(r=0,n=this.params.speed,i=!0,s,a){if("number"!=typeof r&&"string"!=typeof r)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof r}] given.`);if("string"==typeof r){const x=parseInt(r,10);if(!isFinite(x))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=x}const l=this;let c=r;c<0&&(c=0);const{params:d,snapGrid:u,slidesGrid:h,previousIndex:f,activeIndex:p,rtlTranslate:g,wrapperEl:m,enabled:_}=l;if(l.animating&&d.preventInteractionOnTransition||!_&&!s&&!a)return!1;const v=Math.min(l.params.slidesPerGroupSkip,c);let y=v+Math.floor((c-v)/l.params.slidesPerGroup);y>=u.length&&(y=u.length-1);const b=-u[y];if(d.normalizeSlideIndex)for(let x=0;x<h.length;x+=1){const w=-Math.floor(100*b),E=Math.floor(100*h[x]),M=Math.floor(100*h[x+1]);typeof h[x+1]<"u"?w>=E&&w<M-(M-E)/2?c=x:w>=E&&w<M&&(c=x+1):w>=E&&(c=x)}if(l.initialized&&c!==p&&(!l.allowSlideNext&&b<l.translate&&b<l.minTranslate()||!l.allowSlidePrev&&b>l.translate&&b>l.maxTranslate()&&(p||0)!==c))return!1;let A;if(c!==(f||0)&&i&&l.emit("beforeSlideChangeStart"),l.updateProgress(b),A=c>p?"next":c<p?"prev":"reset",g&&-b===l.translate||!g&&b===l.translate)return l.updateActiveIndex(c),d.autoHeight&&l.updateAutoHeight(),l.updateSlidesClasses(),"slide"!==d.effect&&l.setTranslate(b),"reset"!==A&&(l.transitionStart(i,A),l.transitionEnd(i,A)),!1;if(d.cssMode){const x=l.isHorizontal(),w=g?b:-b;if(0===n){const E=l.virtual&&l.params.virtual.enabled;E&&(l.wrapperEl.style.scrollSnapType="none",l._immediateVirtual=!0),m[x?"scrollLeft":"scrollTop"]=w,E&&requestAnimationFrame(()=>{l.wrapperEl.style.scrollSnapType="",l._swiperImmediateVirtual=!1})}else{if(!l.support.smoothScroll)return Mq({swiper:l,targetPosition:w,side:x?"left":"top"}),!0;m.scrollTo({[x?"left":"top"]:w,behavior:"smooth"})}return!0}return l.setTransition(n),l.setTranslate(b),l.updateActiveIndex(c),l.updateSlidesClasses(),l.emit("beforeTransitionStart",n,s),l.transitionStart(i,A),0===n?l.transitionEnd(i,A):l.animating||(l.animating=!0,l.onSlideToWrapperTransitionEnd||(l.onSlideToWrapperTransitionEnd=function(w){!l||l.destroyed||w.target===this&&(l.$wrapperEl[0].removeEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.$wrapperEl[0].removeEventListener("webkitTransitionEnd",l.onSlideToWrapperTransitionEnd),l.onSlideToWrapperTransitionEnd=null,delete l.onSlideToWrapperTransitionEnd,l.transitionEnd(i,A))}),l.$wrapperEl[0].addEventListener("transitionend",l.onSlideToWrapperTransitionEnd),l.$wrapperEl[0].addEventListener("webkitTransitionEnd",l.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function iOe(r=0,n=this.params.speed,i=!0,s){if("string"==typeof r){const c=parseInt(r,10);if(!isFinite(c))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${r}] given.`);r=c}const a=this;let l=r;return a.params.loop&&(l+=a.loopedSlides),a.slideTo(l,n,i,s)},slideNext:function rOe(r=this.params.speed,n=!0,i){const s=this,{animating:a,enabled:l,params:c}=s;if(!l)return s;let d=c.slidesPerGroup;"auto"===c.slidesPerView&&1===c.slidesPerGroup&&c.slidesPerGroupAuto&&(d=Math.max(s.slidesPerViewDynamic("current",!0),1));const u=s.activeIndex<c.slidesPerGroupSkip?1:d;if(c.loop){if(a&&c.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}return s.slideTo(c.rewind&&s.isEnd?0:s.activeIndex+u,r,n,i)},slidePrev:function sOe(r=this.params.speed,n=!0,i){const s=this,{params:a,animating:l,snapGrid:c,slidesGrid:d,rtlTranslate:u,enabled:h}=s;if(!h)return s;if(a.loop){if(l&&a.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function p(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const g=p(u?s.translate:-s.translate),m=c.map(y=>p(y));let _=c[m.indexOf(g)-1];if(typeof _>"u"&&a.cssMode){let y;c.forEach((b,A)=>{g>=b&&(y=A)}),typeof y<"u"&&(_=c[y>0?y-1:y])}let v=0;return typeof _<"u"&&(v=d.indexOf(_),v<0&&(v=s.activeIndex-1),"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(v=v-s.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),s.slideTo(a.rewind&&s.isBeginning?s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1:v,r,n,i)},slideReset:function oOe(r=this.params.speed,n=!0,i){return this.slideTo(this.activeIndex,r,n,i)},slideToClosest:function aOe(r=this.params.speed,n=!0,i,s=.5){const a=this;let l=a.activeIndex;const c=Math.min(a.params.slidesPerGroupSkip,l),d=c+Math.floor((l-c)/a.params.slidesPerGroup),u=a.rtlTranslate?a.translate:-a.translate;if(u>=a.snapGrid[d]){const h=a.snapGrid[d];u-h>(a.snapGrid[d+1]-h)*s&&(l+=a.params.slidesPerGroup)}else{const h=a.snapGrid[d-1];u-h<=(a.snapGrid[d]-h)*s&&(l-=a.params.slidesPerGroup)}return l=Math.max(l,0),l=Math.min(l,a.slidesGrid.length-1),a.slideTo(l,r,n,i)},slideToClickedSlide:function lOe(){const r=this,{params:n,$wrapperEl:i}=r,s="auto"===n.slidesPerView?r.slidesPerViewDynamic():n.slidesPerView;let l,a=r.clickedIndex;if(n.loop){if(r.animating)return;l=parseInt(ri(r.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<r.loopedSlides-s/2||a>r.slides.length-r.loopedSlides+s/2?(r.loopFix(),a=i.children(`.${n.slideClass}[data-swiper-slide-index="${l}"]:not(.${n.slideDuplicateClass})`).eq(0).index(),xE(()=>{r.slideTo(a)})):r.slideTo(a):a>r.slides.length-s?(r.loopFix(),a=i.children(`.${n.slideClass}[data-swiper-slide-index="${l}"]:not(.${n.slideDuplicateClass})`).eq(0).index(),xE(()=>{r.slideTo(a)})):r.slideTo(a)}else r.slideTo(a)}},fOe={loopCreate:function dOe(){const r=this,n=zs(),{params:i,$wrapperEl:s}=r,a=s.children().length>0?ri(s.children()[0].parentNode):s;a.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let l=a.children(`.${i.slideClass}`);if(i.loopFillGroupWithBlank){const u=i.slidesPerGroup-l.length%i.slidesPerGroup;if(u!==i.slidesPerGroup){for(let h=0;h<u;h+=1){const f=ri(n.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);a.append(f)}l=a.children(`.${i.slideClass}`)}}"auto"===i.slidesPerView&&!i.loopedSlides&&(i.loopedSlides=l.length),r.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),r.loopedSlides+=i.loopAdditionalSlides,r.loopedSlides>l.length&&r.params.loopedSlidesLimit&&(r.loopedSlides=l.length);const c=[],d=[];l.each((u,h)=>{ri(u).attr("data-swiper-slide-index",h)});for(let u=0;u<r.loopedSlides;u+=1){const h=u-Math.floor(u/l.length)*l.length;d.push(l.eq(h)[0]),c.unshift(l.eq(l.length-h-1)[0])}for(let u=0;u<d.length;u+=1)a.append(ri(d[u].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let u=c.length-1;u>=0;u-=1)a.prepend(ri(c[u].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function uOe(){const r=this;r.emit("beforeLoopFix");const{activeIndex:n,slides:i,loopedSlides:s,allowSlidePrev:a,allowSlideNext:l,snapGrid:c,rtlTranslate:d}=r;let u;r.allowSlidePrev=!0,r.allowSlideNext=!0;const f=-c[n]-r.getTranslate();n<s?(u=i.length-3*s+n,u+=s,r.slideTo(u,0,!1,!0)&&0!==f&&r.setTranslate((d?-r.translate:r.translate)-f)):n>=i.length-s&&(u=-i.length+n+s,u+=s,r.slideTo(u,0,!1,!0)&&0!==f&&r.setTranslate((d?-r.translate:r.translate)-f)),r.allowSlidePrev=a,r.allowSlideNext=l,r.emit("loopFix")},loopDestroy:function hOe(){const{$wrapperEl:n,params:i,slides:s}=this;n.children(`.${i.slideClass}.${i.slideDuplicateClass},.${i.slideClass}.${i.slideBlankClass}`).remove(),s.removeAttr("data-swiper-slide-index")}};function yOe(r){const n=this,i=zs(),s=Rs(),a=n.touchEventsData,{params:l,touches:c,enabled:d}=n;if(!d||n.animating&&l.preventInteractionOnTransition)return;!n.animating&&l.cssMode&&l.loop&&n.loopFix();let u=r;u.originalEvent&&(u=u.originalEvent);let h=ri(u.target);if("wrapper"===l.touchEventsTarget&&!h.closest(n.wrapperEl).length||(a.isTouchEvent="touchstart"===u.type,!a.isTouchEvent&&"which"in u&&3===u.which)||!a.isTouchEvent&&"button"in u&&u.button>0||a.isTouched&&a.isMoved)return;const f=!!l.noSwipingClass&&""!==l.noSwipingClass,p=r.composedPath?r.composedPath():r.path;f&&u.target&&u.target.shadowRoot&&p&&(h=ri(p[0]));const g=l.noSwipingSelector?l.noSwipingSelector:`.${l.noSwipingClass}`;if(l.noSwiping&&(u.target&&u.target.shadowRoot?function _Oe(r,n=this){return function i(s){if(!s||s===zs()||s===Rs())return null;s.assignedSlot&&(s=s.assignedSlot);const a=s.closest(r);return a||s.getRootNode?a||i(s.getRootNode().host):null}(n)}(g,h[0]):h.closest(g)[0]))return void(n.allowClick=!0);if(l.swipeHandler&&!h.closest(l.swipeHandler)[0])return;c.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,c.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;const _=c.currentX,v=c.currentY,y=l.edgeSwipeDetection||l.iOSEdgeSwipeDetection,b=l.edgeSwipeThreshold||l.iOSEdgeSwipeThreshold;if(y&&(_<=b||_>=s.innerWidth-b)){if("prevent"!==y)return;r.preventDefault()}if(Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),c.startX=_,c.startY=v,a.touchStartTime=Rb(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==u.type){let A=!0;h.is(a.focusableElements)&&(A=!1,"SELECT"===h[0].nodeName&&(a.isTouched=!1)),i.activeElement&&ri(i.activeElement).is(a.focusableElements)&&i.activeElement!==h[0]&&i.activeElement.blur(),(l.touchStartForcePreventDefault||A&&n.allowTouchMove&&l.touchStartPreventDefault)&&!h[0].isContentEditable&&u.preventDefault()}n.params.freeMode&&n.params.freeMode.enabled&&n.freeMode&&n.animating&&!l.cssMode&&n.freeMode.onTouchStart(),n.emit("touchStart",u)}function vOe(r){const n=zs(),i=this,s=i.touchEventsData,{params:a,touches:l,rtlTranslate:c,enabled:d}=i;if(!d)return;let u=r;if(u.originalEvent&&(u=u.originalEvent),!s.isTouched)return void(s.startMoving&&s.isScrolling&&i.emit("touchMoveOpposite",u));if(s.isTouchEvent&&"touchmove"!==u.type)return;const h="touchmove"===u.type&&u.targetTouches&&(u.targetTouches[0]||u.changedTouches[0]),f="touchmove"===u.type?h.pageX:u.pageX,p="touchmove"===u.type?h.pageY:u.pageY;if(u.preventedByNestedSwiper)return l.startX=f,void(l.startY=p);if(!i.allowTouchMove)return ri(u.target).is(s.focusableElements)||(i.allowClick=!1),void(s.isTouched&&(Object.assign(l,{startX:f,startY:p,currentX:f,currentY:p}),s.touchStartTime=Rb()));if(s.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop)if(i.isVertical()){if(p<l.startY&&i.translate<=i.maxTranslate()||p>l.startY&&i.translate>=i.minTranslate())return s.isTouched=!1,void(s.isMoved=!1)}else if(f<l.startX&&i.translate<=i.maxTranslate()||f>l.startX&&i.translate>=i.minTranslate())return;if(s.isTouchEvent&&n.activeElement&&u.target===n.activeElement&&ri(u.target).is(s.focusableElements))return s.isMoved=!0,void(i.allowClick=!1);if(s.allowTouchCallbacks&&i.emit("touchMove",u),u.targetTouches&&u.targetTouches.length>1)return;l.currentX=f,l.currentY=p;const g=l.currentX-l.startX,m=l.currentY-l.startY;if(i.params.threshold&&Math.sqrt(g**2+m**2)<i.params.threshold)return;if(typeof s.isScrolling>"u"){let b;i.isHorizontal()&&l.currentY===l.startY||i.isVertical()&&l.currentX===l.startX?s.isScrolling=!1:g*g+m*m>=25&&(b=180*Math.atan2(Math.abs(m),Math.abs(g))/Math.PI,s.isScrolling=i.isHorizontal()?b>a.touchAngle:90-b>a.touchAngle)}if(s.isScrolling&&i.emit("touchMoveOpposite",u),typeof s.startMoving>"u"&&(l.currentX!==l.startX||l.currentY!==l.startY)&&(s.startMoving=!0),s.isScrolling)return void(s.isTouched=!1);if(!s.startMoving)return;i.allowClick=!1,!a.cssMode&&u.cancelable&&u.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&u.stopPropagation(),s.isMoved||(a.loop&&!a.cssMode&&i.loopFix(),s.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),s.allowMomentumBounce=!1,a.grabCursor&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!0),i.emit("sliderFirstMove",u)),i.emit("sliderMove",u),s.isMoved=!0;let _=i.isHorizontal()?g:m;l.diff=_,_*=a.touchRatio,c&&(_=-_),i.swipeDirection=_>0?"prev":"next",s.currentTranslate=_+s.startTranslate;let v=!0,y=a.resistanceRatio;if(a.touchReleaseOnEdges&&(y=0),_>0&&s.currentTranslate>i.minTranslate()?(v=!1,a.resistance&&(s.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+s.startTranslate+_)**y)):_<0&&s.currentTranslate<i.maxTranslate()&&(v=!1,a.resistance&&(s.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-s.startTranslate-_)**y)),v&&(u.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!i.allowSlidePrev&&!i.allowSlideNext&&(s.currentTranslate=s.startTranslate),a.threshold>0){if(!(Math.abs(_)>a.threshold||s.allowThresholdMove))return void(s.currentTranslate=s.startTranslate);if(!s.allowThresholdMove)return s.allowThresholdMove=!0,l.startX=l.currentX,l.startY=l.currentY,s.currentTranslate=s.startTranslate,void(l.diff=i.isHorizontal()?l.currentX-l.startX:l.currentY-l.startY)}!a.followFinger||a.cssMode||((a.freeMode&&a.freeMode.enabled&&i.freeMode||a.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&a.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(s.currentTranslate),i.setTranslate(s.currentTranslate))}function bOe(r){const n=this,i=n.touchEventsData,{params:s,touches:a,rtlTranslate:l,slidesGrid:c,enabled:d}=n;if(!d)return;let u=r;if(u.originalEvent&&(u=u.originalEvent),i.allowTouchCallbacks&&n.emit("touchEnd",u),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&n.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!1);const h=Rb(),f=h-i.touchStartTime;if(n.allowClick){const A=u.path||u.composedPath&&u.composedPath();n.updateClickedSlide(A&&A[0]||u.target),n.emit("tap click",u),f<300&&h-i.lastClickTime<300&&n.emit("doubleTap doubleClick",u)}if(i.lastClickTime=Rb(),xE(()=>{n.destroyed||(n.allowClick=!0)}),!i.isTouched||!i.isMoved||!n.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let p;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,p=s.followFinger?l?n.translate:-n.translate:-i.currentTranslate,s.cssMode)return;if(n.params.freeMode&&s.freeMode.enabled)return void n.freeMode.onTouchEnd({currentPos:p});let g=0,m=n.slidesSizesGrid[0];for(let A=0;A<c.length;A+=A<s.slidesPerGroupSkip?1:s.slidesPerGroup){const x=A<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof c[A+x]<"u"?p>=c[A]&&p<c[A+x]&&(g=A,m=c[A+x]-c[A]):p>=c[A]&&(g=A,m=c[c.length-1]-c[c.length-2])}let _=null,v=null;s.rewind&&(n.isBeginning?v=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1:n.isEnd&&(_=0));const y=(p-c[g])/m,b=g<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(f>s.longSwipesMs){if(!s.longSwipes)return void n.slideTo(n.activeIndex);"next"===n.swipeDirection&&n.slideTo(y>=s.longSwipesRatio?s.rewind&&n.isEnd?_:g+b:g),"prev"===n.swipeDirection&&(y>1-s.longSwipesRatio?n.slideTo(g+b):null!==v&&y<0&&Math.abs(y)>s.longSwipesRatio?n.slideTo(v):n.slideTo(g))}else{if(!s.shortSwipes)return void n.slideTo(n.activeIndex);!n.navigation||u.target!==n.navigation.nextEl&&u.target!==n.navigation.prevEl?("next"===n.swipeDirection&&n.slideTo(null!==_?_:g+b),"prev"===n.swipeDirection&&n.slideTo(null!==v?v:g)):n.slideTo(u.target===n.navigation.nextEl?g+b:g)}}function Tq(){const r=this,{params:n,el:i}=r;if(i&&0===i.offsetWidth)return;n.breakpoints&&r.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:a,snapGrid:l}=r;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses(),r.slideTo(("auto"===n.slidesPerView||n.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides?r.slides.length-1:r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.run(),r.allowSlidePrev=a,r.allowSlideNext=s,r.params.watchOverflow&&l!==r.snapGrid&&r.checkOverflow()}function AOe(r){const n=this;n.enabled&&(n.allowClick||(n.params.preventClicks&&r.preventDefault(),n.params.preventClicksPropagation&&n.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function xOe(){const r=this,{wrapperEl:n,rtlTranslate:i,enabled:s}=r;if(!s)return;let a;r.previousTranslate=r.translate,r.translate=r.isHorizontal()?-n.scrollLeft:-n.scrollTop,0===r.translate&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();const l=r.maxTranslate()-r.minTranslate();a=0===l?0:(r.translate-r.minTranslate())/l,a!==r.progress&&r.updateProgress(i?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}let Dq=!1;function wOe(){}const Rq=(r,n)=>{const i=zs(),{params:s,touchEvents:a,el:l,wrapperEl:c,device:d,support:u}=r,h=!!s.nested,f="on"===n?"addEventListener":"removeEventListener",p=n;if(u.touch){const g=!("touchstart"!==a.start||!u.passiveListener||!s.passiveListeners)&&{passive:!0,capture:!1};l[f](a.start,r.onTouchStart,g),l[f](a.move,r.onTouchMove,u.passiveListener?{passive:!1,capture:h}:h),l[f](a.end,r.onTouchEnd,g),a.cancel&&l[f](a.cancel,r.onTouchEnd,g)}else l[f](a.start,r.onTouchStart,!1),i[f](a.move,r.onTouchMove,h),i[f](a.end,r.onTouchEnd,!1);(s.preventClicks||s.preventClicksPropagation)&&l[f]("click",r.onClick,!0),s.cssMode&&c[f]("scroll",r.onScroll),r[p](s.updateOnWindowResize?d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",Tq,!0)},MOe={attachEvents:function COe(){const r=this,n=zs(),{params:i,support:s}=r;r.onTouchStart=yOe.bind(r),r.onTouchMove=vOe.bind(r),r.onTouchEnd=bOe.bind(r),i.cssMode&&(r.onScroll=xOe.bind(r)),r.onClick=AOe.bind(r),s.touch&&!Dq&&(n.addEventListener("touchstart",wOe),Dq=!0),Rq(r,"on")},detachEvents:function EOe(){Rq(this,"off")}},kq=(r,n)=>r.grid&&n.grid&&n.grid.rows>1,TOe={setBreakpoint:function SOe(){const r=this,{activeIndex:n,initialized:i,loopedSlides:s=0,params:a,$el:l}=r,c=a.breakpoints;if(!c||c&&0===Object.keys(c).length)return;const d=r.getBreakpoint(c,r.params.breakpointsBase,r.el);if(!d||r.currentBreakpoint===d)return;const h=(d in c?c[d]:void 0)||r.originalParams,f=kq(r,a),p=kq(r,h),g=a.enabled;f&&!p?(l.removeClass(`${a.containerModifierClass}grid ${a.containerModifierClass}grid-column`),r.emitContainerClasses()):!f&&p&&(l.addClass(`${a.containerModifierClass}grid`),(h.grid.fill&&"column"===h.grid.fill||!h.grid.fill&&"column"===a.grid.fill)&&l.addClass(`${a.containerModifierClass}grid-column`),r.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{const b=a[y]&&a[y].enabled,A=h[y]&&h[y].enabled;b&&!A&&r[y].disable(),!b&&A&&r[y].enable()});const m=h.direction&&h.direction!==a.direction,_=a.loop&&(h.slidesPerView!==a.slidesPerView||m);m&&i&&r.changeDirection(),Ea(r.params,h);const v=r.params.enabled;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),g&&!v?r.disable():!g&&v&&r.enable(),r.currentBreakpoint=d,r.emit("_beforeBreakpoint",h),_&&i&&(r.loopDestroy(),r.loopCreate(),r.updateSlides(),r.slideTo(n-s+r.loopedSlides,0,!1)),r.emit("breakpoint",h)},getBreakpoint:function IOe(r,n="window",i){if(!r||"container"===n&&!i)return;let s=!1;const a=Rs(),l="window"===n?a.innerHeight:i.clientHeight,c=Object.keys(r).map(d=>{if("string"==typeof d&&0===d.indexOf("@")){const u=parseFloat(d.substr(1));return{value:l*u,point:d}}return{value:d,point:d}});c.sort((d,u)=>parseInt(d.value,10)-parseInt(u.value,10));for(let d=0;d<c.length;d+=1){const{point:u,value:h}=c[d];"window"===n?a.matchMedia(`(min-width: ${h}px)`).matches&&(s=u):h<=i.clientWidth&&(s=u)}return s||"max"}},POe={addClasses:function ROe(){const r=this,{classNames:n,params:i,rtl:s,$el:a,device:l,support:c}=r,d=function DOe(r,n){const i=[];return r.forEach(s=>{"object"==typeof s?Object.keys(s).forEach(a=>{s[a]&&i.push(n+a)}):"string"==typeof s&&i.push(n+s)}),i}(["initialized",i.direction,{"pointer-events":!c.touch},{"free-mode":r.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:s},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:l.android},{ios:l.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);n.push(...d),a.addClass([...n].join(" ")),r.emitContainerClasses()},removeClasses:function kOe(){const{$el:n,classNames:i}=this;n.removeClass(i.join(" ")),this.emitContainerClasses()}},NOe={loadImage:function FOe(r,n,i,s,a,l){const c=Rs();let d;function u(){l&&l()}ri(r).parent("picture")[0]||r.complete&&a||!n?u():(d=new c.Image,d.onload=u,d.onerror=u,s&&(d.sizes=s),i&&(d.srcset=i),n&&(d.src=n))},preloadImages:function OOe(){const r=this;function n(){typeof r>"u"||null===r||!r||r.destroyed||(void 0!==r.imagesLoaded&&(r.imagesLoaded+=1),r.imagesLoaded===r.imagesToLoad.length&&(r.params.updateOnImagesReady&&r.update(),r.emit("imagesReady")))}r.imagesToLoad=r.$el.find("img");for(let i=0;i<r.imagesToLoad.length;i+=1){const s=r.imagesToLoad[i];r.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,n)}}},Pq={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function UOe(r,n){return function(s={}){const a=Object.keys(s)[0],l=s[a];"object"==typeof l&&null!==l?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===r[a]&&(r[a]={auto:!0}),a in r&&"enabled"in l?(!0===r[a]&&(r[a]={enabled:!0}),"object"==typeof r[a]&&!("enabled"in r[a])&&(r[a].enabled=!0),r[a]||(r[a]={enabled:!1}),Ea(n,s)):Ea(n,s)):Ea(n,s)}}const cO={eventsEmitter:OFe,update:QFe,translate:KFe,transition:tOe,slide:cOe,loop:fOe,grabCursor:{setGrabCursor:function pOe(r){const n=this;if(n.support.touch||!n.params.simulateTouch||n.params.watchOverflow&&n.isLocked||n.params.cssMode)return;const i="container"===n.params.touchEventsTarget?n.el:n.wrapperEl;i.style.cursor="move",i.style.cursor=r?"grabbing":"grab"},unsetGrabCursor:function mOe(){const r=this;r.support.touch||r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r["container"===r.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:MOe,breakpoints:TOe,checkOverflow:{checkOverflow:function BOe(){const r=this,{isLocked:n,params:i}=r,{slidesOffsetBefore:s}=i;if(s){const a=r.slides.length-1;r.isLocked=r.size>r.slidesGrid[a]+r.slidesSizesGrid[a]+2*s}else r.isLocked=1===r.snapGrid.length;!0===i.allowSlideNext&&(r.allowSlideNext=!r.isLocked),!0===i.allowSlidePrev&&(r.allowSlidePrev=!r.isLocked),n&&n!==r.isLocked&&(r.isEnd=!1),n!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}},classes:POe,images:NOe},dO={};class qa{constructor(...n){let i,s;if(1===n.length&&n[0].constructor&&"Object"===Object.prototype.toString.call(n[0]).slice(8,-1)?s=n[0]:[i,s]=n,s||(s={}),s=Ea({},s),i&&!s.el&&(s.el=i),s.el&&ri(s.el).length>1){const d=[];return ri(s.el).each(u=>{const h=Ea({},s,{el:u});d.push(new qa(h))}),d}const a=this;a.__swiper__=!0,a.support=Sq(),a.device=function DFe(r={}){return aO||(aO=function TFe({userAgent:r}={}){const n=Sq(),i=Rs(),s=i.navigator.platform,a=r||i.navigator.userAgent,l={ios:!1,android:!1},c=i.screen.width,d=i.screen.height,u=a.match(/(Android);?[\s\/]+([\d.]+)?/);let h=a.match(/(iPad).*OS\s([\d_]+)/);const f=a.match(/(iPod)(.*OS\s([\d_]+))?/),p=!h&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g="Win32"===s;let m="MacIntel"===s;return!h&&m&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${c}x${d}`)>=0&&(h=a.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),m=!1),u&&!g&&(l.os="android",l.android=!0),(h||p||f)&&(l.os="ios",l.ios=!0),l}(r)),aO}({userAgent:s.userAgent}),a.browser=function kFe(){return lO||(lO=function RFe(){const r=Rs();return{isSafari:function n(){const i=r.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent)}}()),lO}(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],s.modules&&Array.isArray(s.modules)&&a.modules.push(...s.modules);const l={};a.modules.forEach(d=>{d({swiper:a,extendParams:UOe(s,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Ea({},Pq,l);return a.params=Ea({},c,dO,s),a.originalParams=Ea({},a.params),a.passedParams=Ea({},s),a.params&&a.params.on&&Object.keys(a.params.on).forEach(d=>{a.on(d,a.params.on[d])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=ri,Object.assign(a,{enabled:a.params.enabled,el:i,classNames:[],slides:ri(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:function(){const u=["touchstart","touchmove","touchend","touchcancel"],h=["pointerdown","pointermove","pointerup"];return a.touchEventsTouch={start:u[0],move:u[1],end:u[2],cancel:u[3]},a.touchEventsDesktop={start:h[0],move:h[1],end:h[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:Rb(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}enable(){const n=this;n.enabled||(n.enabled=!0,n.params.grabCursor&&n.setGrabCursor(),n.emit("enable"))}disable(){const n=this;n.enabled&&(n.enabled=!1,n.params.grabCursor&&n.unsetGrabCursor(),n.emit("disable"))}setProgress(n,i){const s=this;n=Math.min(Math.max(n,0),1);const a=s.minTranslate(),c=(s.maxTranslate()-a)*n+a;s.translateTo(c,typeof i>"u"?0:i),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const i=n.el.className.split(" ").filter(s=>0===s.indexOf("swiper")||0===s.indexOf(n.params.containerModifierClass));n.emit("_containerClasses",i.join(" "))}getSlideClasses(n){const i=this;return i.destroyed?"":n.className.split(" ").filter(s=>0===s.indexOf("swiper-slide")||0===s.indexOf(i.params.slideClass)).join(" ")}emitSlidesClasses(){const n=this;if(!n.params._emitClasses||!n.el)return;const i=[];n.slides.each(s=>{const a=n.getSlideClasses(s);i.push({slideEl:s,classNames:a}),n.emit("_slideClass",s,a)}),n.emit("_slideClasses",i)}slidesPerViewDynamic(n="current",i=!1){const{params:a,slides:l,slidesGrid:c,slidesSizesGrid:d,size:u,activeIndex:h}=this;let f=1;if(a.centeredSlides){let g,p=l[h].swiperSlideSize;for(let m=h+1;m<l.length;m+=1)l[m]&&!g&&(p+=l[m].swiperSlideSize,f+=1,p>u&&(g=!0));for(let m=h-1;m>=0;m-=1)l[m]&&!g&&(p+=l[m].swiperSlideSize,f+=1,p>u&&(g=!0))}else if("current"===n)for(let p=h+1;p<l.length;p+=1)(i?c[p]+d[p]-c[h]<u:c[p]-c[h]<u)&&(f+=1);else for(let p=h-1;p>=0;p-=1)c[h]-c[p]<u&&(f+=1);return f}update(){const n=this;if(!n||n.destroyed)return;const{snapGrid:i,params:s}=n;function a(){const d=Math.min(Math.max(n.rtlTranslate?-1*n.translate:n.translate,n.maxTranslate()),n.minTranslate());n.setTranslate(d),n.updateActiveIndex(),n.updateSlidesClasses()}let l;s.breakpoints&&n.setBreakpoint(),n.updateSize(),n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.params.freeMode&&n.params.freeMode.enabled?(a(),n.params.autoHeight&&n.updateAutoHeight()):(l=n.slideTo(("auto"===n.params.slidesPerView||n.params.slidesPerView>1)&&n.isEnd&&!n.params.centeredSlides?n.slides.length-1:n.activeIndex,0,!1,!0),l||a()),s.watchOverflow&&i!==n.snapGrid&&n.checkOverflow(),n.emit("update")}changeDirection(n,i=!0){const s=this,a=s.params.direction;return n||(n="horizontal"===a?"vertical":"horizontal"),n===a||"horizontal"!==n&&"vertical"!==n||(s.$el.removeClass(`${s.params.containerModifierClass}${a}`).addClass(`${s.params.containerModifierClass}${n}`),s.emitContainerClasses(),s.params.direction=n,s.slides.each(l=>{"vertical"===n?l.style.width="":l.style.height=""}),s.emit("changeDirection"),i&&s.update()),s}changeLanguageDirection(n){const i=this;i.rtl&&"rtl"===n||!i.rtl&&"ltr"===n||(i.rtl="rtl"===n,i.rtlTranslate="horizontal"===i.params.direction&&i.rtl,i.rtl?(i.$el.addClass(`${i.params.containerModifierClass}rtl`),i.el.dir="rtl"):(i.$el.removeClass(`${i.params.containerModifierClass}rtl`),i.el.dir="ltr"),i.update())}mount(n){const i=this;if(i.mounted)return!0;const s=ri(n||i.params.el);if(!(n=s[0]))return!1;n.swiper=i;const a=()=>`.${(i.params.wrapperClass||"").trim().split(" ").join(".")}`;let c=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){const d=ri(n.shadowRoot.querySelector(a()));return d.children=u=>s.children(u),d}return s.children?s.children(a()):ri(s).children(a())})();if(0===c.length&&i.params.createElements){const u=zs().createElement("div");c=ri(u),u.className=i.params.wrapperClass,s.append(u),s.children(`.${i.params.slideClass}`).each(h=>{c.append(h)})}return Object.assign(i,{$el:s,el:n,$wrapperEl:c,wrapperEl:c[0],mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===i.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===c.css("display")}),!0}init(n){const i=this;return i.initialized||!1===i.mount(n)||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.params.loop&&i.loopCreate(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.enabled&&i.setGrabCursor(),i.params.preloadImages&&i.preloadImages(),i.slideTo(i.params.loop?i.params.initialSlide+i.loopedSlides:i.params.initialSlide,0,i.params.runCallbacksOnInit,!1,!0),i.attachEvents(),i.initialized=!0,i.emit("init"),i.emit("afterInit")),i}destroy(n=!0,i=!0){const s=this,{params:a,$el:l,$wrapperEl:c,slides:d}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),i&&(s.removeClasses(),l.removeAttr("style"),c.removeAttr("style"),d&&d.length&&d.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(u=>{s.off(u)}),!1!==n&&(s.$el[0].swiper=null,function CFe(r){const n=r;Object.keys(n).forEach(i=>{try{n[i]=null}catch{}try{delete n[i]}catch{}})}(s)),s.destroyed=!0),null}static extendDefaults(n){Ea(dO,n)}static get extendedDefaults(){return dO}static get defaults(){return Pq}static installModule(n){qa.prototype.__modules__||(qa.prototype.__modules__=[]);const i=qa.prototype.__modules__;"function"==typeof n&&i.indexOf(n)<0&&i.push(n)}static use(n){return Array.isArray(n)?(n.forEach(i=>qa.installModule(i)),qa):(qa.installModule(n),qa)}}Object.keys(cO).forEach(r=>{Object.keys(cO[r]).forEach(n=>{qa.prototype[n]=cO[r][n]})}),qa.use([function PFe({swiper:r,on:n,emit:i}){const s=Rs();let a=null,l=null;const c=()=>{!r||r.destroyed||!r.initialized||(i("beforeResize"),i("resize"))},h=()=>{!r||r.destroyed||!r.initialized||i("orientationchange")};n("init",()=>{r.params.resizeObserver&&typeof s.ResizeObserver<"u"?!r||r.destroyed||!r.initialized||(a=new ResizeObserver(f=>{l=s.requestAnimationFrame(()=>{const{width:p,height:g}=r;let m=p,_=g;f.forEach(({contentBoxSize:v,contentRect:y,target:b})=>{b&&b!==r.el||(m=y?y.width:(v[0]||v).inlineSize,_=y?y.height:(v[0]||v).blockSize)}),(m!==p||_!==g)&&c()})}),a.observe(r.el)):(s.addEventListener("resize",c),s.addEventListener("orientationchange",h))}),n("destroy",()=>{l&&s.cancelAnimationFrame(l),a&&a.unobserve&&r.el&&(a.unobserve(r.el),a=null),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",h)})},function FFe({swiper:r,extendParams:n,on:i,emit:s}){const a=[],l=Rs(),c=(h,f={})=>{const g=new(l.MutationObserver||l.WebkitMutationObserver)(m=>{if(1===m.length)return void s("observerUpdate",m[0]);const _=function(){s("observerUpdate",m[0])};l.requestAnimationFrame?l.requestAnimationFrame(_):l.setTimeout(_,0)});g.observe(h,{attributes:typeof f.attributes>"u"||f.attributes,childList:typeof f.childList>"u"||f.childList,characterData:typeof f.characterData>"u"||f.characterData}),a.push(g)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",()=>{if(r.params.observer){if(r.params.observeParents){const h=r.$el.parents();for(let f=0;f<h.length;f+=1)c(h[f])}c(r.$el[0],{childList:r.params.observeSlideChildren}),c(r.$wrapperEl[0],{attributes:!1})}}),i("destroy",()=>{a.forEach(h=>{h.disconnect()}),a.splice(0,a.length)})}]);const kb=qa;function Fq(r,n,i,s){const a=zs();return r.params.createElements&&Object.keys(s).forEach(l=>{if(!i[l]&&!0===i.auto){let c=r.$el.children(`.${s[l]}`)[0];c||(c=a.createElement("div"),c.className=s[l],r.$el.append(c)),i[l]=c,n[l]=c}}),i}function fg(r=""){return`.${r.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function $Oe(r,n){return r.transformEl?n.find(r.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):n}const WOe=["prevElRef"],qOe=["nextElRef"],YOe=["scrollbarElRef"],XOe=["paginationElRef"],KOe=[[["","slot","container-start"]],[["","slot","wrapper-start"]],[["","slot","wrapper-end"]],[["","slot","container-end"]]],ZOe=["[slot=container-start]","[slot=wrapper-start]","[slot=wrapper-end]","[slot=container-end]"],JOe=r=>({loopSlides:r,key:"prepend"}),e2e=r=>({loopSlides:r,key:""}),t2e=r=>({loopSlides:r,key:"append"}),Oq=r=>({$implicit:r});function n2e(r,n){1&r&&(ei(0),Te(1,"div",10,1)(3,"div",11,2),ti())}function i2e(r,n){1&r&&Te(0,"div",12,3)}function r2e(r,n){1&r&&Te(0,"div",13,4)}function s2e(r,n){}function o2e(r,n){1&r&&ge(0,s2e,0,0,"ng-template")}function a2e(r,n){}function l2e(r,n){1&r&&ge(0,a2e,0,0,"ng-template")}function c2e(r,n){}function d2e(r,n){1&r&&ge(0,c2e,0,0,"ng-template")}function u2e(r,n){}function h2e(r,n){if(1&r&&(Y(0,"div",8),ge(1,u2e,0,0,"ng-template",18),W()),2&r){const i=J().$implicit;j("ngClass",J(2).zoomContainerClass),L(),j("ngTemplateOutlet",i.template)("ngTemplateOutletContext",ra(3,Oq,i.slideData))}}function f2e(r,n){}function p2e(r,n){if(1&r&&(ei(0),ge(1,f2e,0,0,"ng-template",18),ti()),2&r){const i=J().$implicit;L(),j("ngTemplateOutlet",i.template)("ngTemplateOutletContext",ra(2,Oq,i.slideData))}}function m2e(r,n){if(1&r&&(Y(0,"div",15),ge(1,h2e,2,5,"div",16)(2,p2e,2,4,"ng-container",17),W()),2&r){const i=n.$implicit,s=J().key,a=J();Vi(a.style),j("ngClass",(i.class?i.class+" ":"")+a.slideClass+(""!==s?" "+a.slideDuplicateClass:""))("ngSwitch",i.zoom),en("data-swiper-slide-index",i.virtualIndex?i.virtualIndex:i.slideIndex)("data-swiper-autoplay",i.autoplayDelay),L(),j("ngSwitchCase",!0)}}function g2e(r,n){1&r&&(ge(0,m2e,3,7,"div",14),Zc(1,"async")),2&r&&j("ngForOf",Jc(1,1,n.loopSlides))}const Nq=["init","enabled","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","on"];function pg(r){return"object"==typeof r&&null!==r&&r.constructor&&"Object"===Object.prototype.toString.call(r).slice(8,-1)}function uO(r){return typeof r<"u"&&"boolean"!=typeof r&&!0===r.enabled}function Bq(r,n,i){return!0===EE(r)&&n&&!n.el||!("boolean"!=typeof n&&n.el!==i?.nativeElement&&("string"==typeof n.el||"object"==typeof n.el))}function Mu(r,n){const i=["__proto__","constructor","prototype"];Object.keys(n).filter(s=>i.indexOf(s)<0).forEach(s=>{typeof r[s]>"u"?r[s]=n[s]:r[s]&&!n[s]||(pg(n[s])&&pg(r[s])&&Object.keys(n[s]).length>0?n[s].__swiper__?r[s]=n[s]:Mu(r[s],n[s]):r[s]=n[s])})}function EE(r){return null!=r&&"false"!=`${r}`}const _2e=["pagination","navigation","scrollbar","virtual"];function ME(r,n={}){return pg(r)?r:!0===EE(r)&&n}function hO(r={}){const n={on:{}},i={};Mu(n,kb.defaults),Mu(n,kb.extendedDefaults),n._emitClasses=!0,n.init=!1;const s={},a=Nq.map(l=>l.replace(/_/,""));return Object.keys(r).forEach(l=>{const c=l.replace(/^_/,"");a.indexOf(c)>=0?pg(r[l])?(n[c]={},i[c]={},Mu(n[c],r[l]),Mu(i[c],r[l])):(n[c]=r[l],i[c]=r[l]):s[c]=r[l]}),["navigation","pagination","scrollbar"].forEach(l=>{!0===n[l]&&(n[l]={}),!1===n[l]&&delete n[l]}),{params:n,passedParams:i,rest:s}}Nq.map(r=>r.replace(/_/,""));let Lq=(()=>{class r{constructor(i){this.template=i,this.class="",this.autoplayDelay=null,this.slideData={isActive:!1,isPrev:!1,isNext:!1,isVisible:!1,isDuplicate:!1}}set ngClass(i){this.class=[this.class||"",i].join(" ")}set zoom(i){this._zoom=EE(i)}get zoom(){return this._zoom}get classNames(){return this._classNames}set classNames(i){this._classNames!==i&&(this._classNames=i,this.slideData={isActive:this._hasClass(["swiper-slide-active","swiper-slide-duplicate-active"]),isVisible:this._hasClass(["swiper-slide-visible"]),isDuplicate:this._hasClass(["swiper-slide-duplicate"]),isPrev:this._hasClass(["swiper-slide-prev","swiper-slide-duplicate-prev"]),isNext:this._hasClass(["swiper-slide-next","swiper-slide-duplicate-next"])})}_hasClass(i){return i.some(s=>this._classNames.indexOf(s)>=0)}}return r.\u0275fac=function(i){return new(i||r)(me(zi))},r.\u0275dir=_e({type:r,selectors:[["ng-template","swiperSlide",""]],inputs:{virtualIndex:"virtualIndex",class:"class",ngClass:"ngClass",autoplayDelay:[0,"data-swiper-autoplay","autoplayDelay"],zoom:"zoom"},standalone:!1}),r})(),y2e=(()=>{class r{constructor(i,s,a,l){this._ngZone=i,this.elementRef=s,this._changeDetectorRef=a,this._platformId=l,this.slideClass="swiper-slide",this.wrapperClass="swiper-wrapper",this.showNavigation=!0,this.showPagination=!0,this.showScrollbar=!0,this.s__beforeBreakpoint=new ue,this.s__containerClasses=new ue,this.s__slideClass=new ue,this.s__swiper=new ue,this.s_activeIndexChange=new ue,this.s_afterInit=new ue,this.s_autoplay=new ue,this.s_autoplayStart=new ue,this.s_autoplayStop=new ue,this.s_autoplayPause=new ue,this.s_autoplayResume=new ue,this.s_beforeDestroy=new ue,this.s_beforeInit=new ue,this.s_beforeLoopFix=new ue,this.s_beforeResize=new ue,this.s_beforeSlideChangeStart=new ue,this.s_beforeTransitionStart=new ue,this.s_breakpoint=new ue,this.s_changeDirection=new ue,this.s_click=new ue,this.s_doubleTap=new ue,this.s_doubleClick=new ue,this.s_destroy=new ue,this.s_fromEdge=new ue,this.s_hashChange=new ue,this.s_hashSet=new ue,this.s_imagesReady=new ue,this.s_init=new ue,this.s_keyPress=new ue,this.s_lazyImageLoad=new ue,this.s_lazyImageReady=new ue,this.s_loopFix=new ue,this.s_momentumBounce=new ue,this.s_navigationHide=new ue,this.s_navigationShow=new ue,this.s_navigationPrev=new ue,this.s_navigationNext=new ue,this.s_observerUpdate=new ue,this.s_orientationchange=new ue,this.s_paginationHide=new ue,this.s_paginationRender=new ue,this.s_paginationShow=new ue,this.s_paginationUpdate=new ue,this.s_progress=new ue,this.s_reachBeginning=new ue,this.s_reachEnd=new ue,this.s_realIndexChange=new ue,this.s_resize=new ue,this.s_scroll=new ue,this.s_scrollbarDragEnd=new ue,this.s_scrollbarDragMove=new ue,this.s_scrollbarDragStart=new ue,this.s_setTransition=new ue,this.s_setTranslate=new ue,this.s_slideChange=new ue,this.s_slideChangeTransitionEnd=new ue,this.s_slideChangeTransitionStart=new ue,this.s_slideNextTransitionEnd=new ue,this.s_slideNextTransitionStart=new ue,this.s_slidePrevTransitionEnd=new ue,this.s_slidePrevTransitionStart=new ue,this.s_slideResetTransitionStart=new ue,this.s_slideResetTransitionEnd=new ue,this.s_sliderMove=new ue,this.s_sliderFirstMove=new ue,this.s_slidesLengthChange=new ue,this.s_slidesGridLengthChange=new ue,this.s_snapGridLengthChange=new ue,this.s_snapIndexChange=new ue,this.s_tap=new ue,this.s_toEdge=new ue,this.s_touchEnd=new ue,this.s_touchMove=new ue,this.s_touchMoveOpposite=new ue,this.s_touchStart=new ue,this.s_transitionEnd=new ue,this.s_transitionStart=new ue,this.s_update=new ue,this.s_zoomChange=new ue,this.s_swiper=new ue,this.s_lock=new ue,this.s_unlock=new ue,this._activeSlides=new Qe,this.containerClasses="swiper",this.slidesChanges=c=>{this.slides=c.map((d,u)=>(d.slideIndex=u,d.classNames=this.slideClass||"",d)),this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.virtual?this.swiperRef&&this.swiperRef.virtual&&this._ngZone.runOutsideAngular(()=>{this.swiperRef.virtual.slides=this.slides,this.swiperRef.virtual.update(!0)}):this.loopedSlides&&(this.prependSlides=Oe(this.slides.slice(this.slides.length-this.loopedSlides)),this.appendSlides=Oe(this.slides.slice(0,this.loopedSlides))),this._changeDetectorRef.detectChanges()},this.style=null,this.updateVirtualSlides=c=>{!this.swiperRef||this.currentVirtualData&&this.currentVirtualData.from===c.from&&this.currentVirtualData.to===c.to&&this.currentVirtualData.offset===c.offset||(this.style=this.swiperRef.isHorizontal()?{[this.swiperRef.rtlTranslate?"right":"left"]:`${c.offset}px`}:{top:`${c.offset}px`},this.currentVirtualData=c,this._activeSlides.next(c.slides),this._ngZone.run(()=>{this._changeDetectorRef.detectChanges()}),this._ngZone.runOutsideAngular(()=>{this.swiperRef.updateSlides(),this.swiperRef.updateProgress(),this.swiperRef.updateSlidesClasses(),uO(this.swiperRef.params.lazy)&&this.swiperRef.lazy.load(),this.swiperRef.virtual.update(!0)}))}}set navigation(i){var s,a,l;const c="boolean"!=typeof this._navigation&&""!==this._navigation?null===(s=this._navigation)||void 0===s?void 0:s.nextEl:null,d="boolean"!=typeof this._navigation&&""!==this._navigation?null===(a=this._navigation)||void 0===a?void 0:a.prevEl:null;this._navigation=ME(i,{nextEl:c||null,prevEl:d||null}),this.showNavigation=!(!0!==EE(i)||this._navigation&&"boolean"!=typeof this._navigation&&this._navigation.prevEl!==(null===(l=this._prevElRef)||void 0===l?void 0:l.nativeElement)&&(null!==this._navigation.prevEl||null!==this._navigation.nextEl)&&("string"==typeof this._navigation.nextEl||"string"==typeof this._navigation.prevEl||"object"==typeof this._navigation.nextEl||"object"==typeof this._navigation.prevEl))}get navigation(){return this._navigation}set pagination(i){var s;const a="boolean"!=typeof this._pagination&&""!==this._pagination?null===(s=this._pagination)||void 0===s?void 0:s.el:null;this._pagination=ME(i,{el:a||null}),this.showPagination=Bq(i,this._pagination,this._paginationElRef)}get pagination(){return this._pagination}set scrollbar(i){var s;const a="boolean"!=typeof this._scrollbar&&""!==this._scrollbar?null===(s=this._scrollbar)||void 0===s?void 0:s.el:null;this._scrollbar=ME(i,{el:a||null}),this.showScrollbar=Bq(i,this._scrollbar,this._scrollbarElRef)}get scrollbar(){return this._scrollbar}set virtual(i){this._virtual=ME(i)}get virtual(){return this._virtual}set config(i){this.updateSwiper(i);const{params:s}=hO(i);Object.assign(this,s)}set prevElRef(i){this._prevElRef=i,this._setElement(i,this.navigation,"navigation","prevEl")}set nextElRef(i){this._nextElRef=i,this._setElement(i,this.navigation,"navigation","nextEl")}set scrollbarElRef(i){this._scrollbarElRef=i,this._setElement(i,this.scrollbar,"scrollbar")}set paginationElRef(i){this._paginationElRef=i,this._setElement(i,this.pagination,"pagination")}get activeSlides(){return this.virtual?this._activeSlides:Oe(this.slides)}get zoomContainerClass(){return this.zoom&&"boolean"!=typeof this.zoom?this.zoom.containerClass:"swiper-zoom-container"}_setElement(i,s,a,l="el"){if(!s||!i)return;if(i.nativeElement){if(s[l]===i.nativeElement)return;s[l]=i.nativeElement}const c={};c[a]=!0,this.updateInitSwiper(c)}ngOnInit(){const{params:i}=hO(this);Object.assign(this,i)}ngAfterViewInit(){this.childrenSlidesInit(),this.initSwiper(),this._changeDetectorRef.detectChanges(),setTimeout(()=>{this.s_swiper.emit(this.swiperRef)})}childrenSlidesInit(){this.slidesChanges(this.slidesEl),this.slidesEl.changes.subscribe(this.slidesChanges)}get isSwiperActive(){return this.swiperRef&&!this.swiperRef.destroyed}initSwiper(){const{params:i}=hO(this);Object.assign(this,i),this._ngZone.runOutsideAngular(()=>{i.init=!1,i.virtual||(i.observer=!0),i.onAny=(u,...h)=>{const f=this["s_"+u];f&&f.emit([...h])},Object.assign(i.on,{_containerClasses:(u,h)=>{setTimeout(()=>{this.containerClasses=h})},_slideClasses:(u,h)=>{h.forEach(({slideEl:f,classNames:p},g)=>{const m=f.getAttribute("data-swiper-slide-index"),_=m?parseInt(m):g;if(this.virtual){const v=this.slides.find(y=>y.virtualIndex&&y.virtualIndex===_);if(v)return void(v.classNames=p)}this.slides[_]&&(this.slides[_].classNames=p)}),this._changeDetectorRef.detectChanges()}});const c=new kb(i);c.loopCreate=()=>{},c.loopDestroy=()=>{},i.loop&&(c.loopedSlides=this.loopedSlides);const d=uO(c.params.virtual);if(c.virtual&&d){c.virtual.slides=this.slides;const u={cache:!1,slides:this.slides,renderExternal:this.updateVirtualSlides,renderExternalUpdate:!1};Mu(c.params.virtual,u),Mu(c.originalParams.virtual,u)}if(Jl(this._platformId)){this.swiperRef=c.init(this.elementRef.nativeElement);const u=uO(this.swiperRef.params.virtual);this.swiperRef.virtual&&u&&this.swiperRef.virtual.update(!0),this._changeDetectorRef.detectChanges()}})}ngOnChanges(i){this.updateSwiper(i),this._changeDetectorRef.detectChanges()}updateInitSwiper(i){i&&this.swiperRef&&!this.swiperRef.destroyed&&this._ngZone.runOutsideAngular(()=>{const{pagination:a,navigation:l,scrollbar:c,thumbs:u}=this.swiperRef;i.pagination&&(this.pagination&&"boolean"!=typeof this.pagination&&this.pagination.el&&a&&!a.el?(this.updateParameter("pagination",this.pagination),a.init(),a.render(),a.update()):(a.destroy(),a.el=null)),i.scrollbar&&(this.scrollbar&&"boolean"!=typeof this.scrollbar&&this.scrollbar.el&&c&&!c.el?(this.updateParameter("scrollbar",this.scrollbar),c.init(),c.updateSize(),c.setTranslate()):(c.destroy(),c.el=null)),i.navigation&&(this.navigation&&"boolean"!=typeof this.navigation&&this.navigation.prevEl&&this.navigation.nextEl&&l&&!l.prevEl&&!l.nextEl?(this.updateParameter("navigation",this.navigation),l.init(),l.update()):l.prevEl&&l.nextEl&&(l.destroy(),l.nextEl=null,l.prevEl=null)),i.thumbs&&this.thumbs&&this.thumbs.swiper&&(this.updateParameter("thumbs",this.thumbs),u.init()&&u.update(!0)),i.controller&&this.controller&&this.controller.control&&(this.swiperRef.controller.control=this.controller.control),this.swiperRef.update()})}updateSwiper(i){this._ngZone.runOutsideAngular(()=>{var s,a;if(!i.config&&i&&this.swiperRef&&!this.swiperRef.destroyed){for(const l in i){if(_2e.indexOf(l)>=0)continue;const c=null!==(a=null===(s=i[l])||void 0===s?void 0:s.currentValue)&&void 0!==a?a:i[l];this.updateParameter(l,c)}i.allowSlideNext&&(this.swiperRef.allowSlideNext=this.allowSlideNext),i.allowSlidePrev&&(this.swiperRef.allowSlidePrev=this.allowSlidePrev),i.direction&&this.swiperRef.changeDirection(this.direction,!1),i.breakpoints&&(this.loop&&!this.loopedSlides&&this.calcLoopedSlides(),this.swiperRef.currentBreakpoint=null,this.swiperRef.setBreakpoint()),(i.thumbs||i.controller)&&this.updateInitSwiper(i),this.swiperRef.update()}})}calcLoopedSlides(){if(!this.loop)return!1;let i=this.slidesPerView;if(this.breakpoints){const a=kb.prototype.getBreakpoint(this.breakpoints),l=a in this.breakpoints?this.breakpoints[a]:void 0;l&&l.slidesPerView&&(i=l.slidesPerView)}if("auto"===i)return this.loopedSlides=this.slides.length,this.slides.length;let s=this.loopedSlides||i;return!!s&&(this.loopAdditionalSlides&&(s+=this.loopAdditionalSlides),s>this.slides.length&&(s=this.slides.length),this.loopedSlides=s,!0)}updateParameter(i,s){if(!this.swiperRef||this.swiperRef.destroyed)return;const a=i.replace(/^_/,""),l=pg(this.swiperRef.params[a]);"enabled"!==a?l&&pg(s)?Mu(this.swiperRef.params[a],s):this.swiperRef.params[a]=s:!0===s?this.swiperRef.enable():!1===s&&this.swiperRef.disable()}ngOnDestroy(){this._ngZone.runOutsideAngular(()=>{var i;null===(i=this.swiperRef)||void 0===i||i.destroy(!0,!1)})}}return r.\u0275fac=function(i){return new(i||r)(me(_t),me(Mt),me(Zi),me(Ql))},r.\u0275cmp=Ge({type:r,selectors:[["swiper"],["","swiper",""]],contentQueries:function(i,s,a){if(1&i&&Gi(a,Lq,4),2&i){let l;St(l=It())&&(s.slidesEl=l)}},viewQuery:function(i,s){if(1&i&&(Kn(WOe,5),Kn(qOe,5),Kn(YOe,5),Kn(XOe,5)),2&i){let a;St(a=It())&&(s.prevElRef=a.first),St(a=It())&&(s.nextElRef=a.first),St(a=It())&&(s.scrollbarElRef=a.first),St(a=It())&&(s.paginationElRef=a.first)}},hostVars:2,hostBindings:function(i,s){2&i&&Jr(s.containerClasses)},inputs:{enabled:"enabled",on:"on",direction:"direction",touchEventsTarget:"touchEventsTarget",initialSlide:"initialSlide",speed:"speed",cssMode:"cssMode",updateOnWindowResize:"updateOnWindowResize",resizeObserver:"resizeObserver",nested:"nested",focusableElements:"focusableElements",width:"width",height:"height",preventInteractionOnTransition:"preventInteractionOnTransition",userAgent:"userAgent",url:"url",edgeSwipeDetection:"edgeSwipeDetection",edgeSwipeThreshold:"edgeSwipeThreshold",freeMode:"freeMode",autoHeight:"autoHeight",setWrapperSize:"setWrapperSize",virtualTranslate:"virtualTranslate",effect:"effect",breakpoints:"breakpoints",spaceBetween:"spaceBetween",slidesPerView:"slidesPerView",maxBackfaceHiddenSlides:"maxBackfaceHiddenSlides",grid:"grid",slidesPerGroup:"slidesPerGroup",slidesPerGroupSkip:"slidesPerGroupSkip",centeredSlides:"centeredSlides",centeredSlidesBounds:"centeredSlidesBounds",slidesOffsetBefore:"slidesOffsetBefore",slidesOffsetAfter:"slidesOffsetAfter",normalizeSlideIndex:"normalizeSlideIndex",centerInsufficientSlides:"centerInsufficientSlides",watchOverflow:"watchOverflow",roundLengths:"roundLengths",touchRatio:"touchRatio",touchAngle:"touchAngle",simulateTouch:"simulateTouch",shortSwipes:"shortSwipes",longSwipes:"longSwipes",longSwipesRatio:"longSwipesRatio",longSwipesMs:"longSwipesMs",followFinger:"followFinger",allowTouchMove:"allowTouchMove",threshold:"threshold",touchMoveStopPropagation:"touchMoveStopPropagation",touchStartPreventDefault:"touchStartPreventDefault",touchStartForcePreventDefault:"touchStartForcePreventDefault",touchReleaseOnEdges:"touchReleaseOnEdges",uniqueNavElements:"uniqueNavElements",resistance:"resistance",resistanceRatio:"resistanceRatio",watchSlidesProgress:"watchSlidesProgress",grabCursor:"grabCursor",preventClicks:"preventClicks",preventClicksPropagation:"preventClicksPropagation",slideToClickedSlide:"slideToClickedSlide",preloadImages:"preloadImages",updateOnImagesReady:"updateOnImagesReady",loop:"loop",loopAdditionalSlides:"loopAdditionalSlides",loopedSlides:"loopedSlides",loopedSlidesLimit:"loopedSlidesLimit",loopFillGroupWithBlank:"loopFillGroupWithBlank",loopPreventsSlide:"loopPreventsSlide",rewind:"rewind",allowSlidePrev:"allowSlidePrev",allowSlideNext:"allowSlideNext",swipeHandler:"swipeHandler",noSwiping:"noSwiping",noSwipingClass:"noSwipingClass",noSwipingSelector:"noSwipingSelector",passiveListeners:"passiveListeners",containerModifierClass:"containerModifierClass",slideClass:"slideClass",slideBlankClass:"slideBlankClass",slideActiveClass:"slideActiveClass",slideDuplicateActiveClass:"slideDuplicateActiveClass",slideVisibleClass:"slideVisibleClass",slideDuplicateClass:"slideDuplicateClass",slideNextClass:"slideNextClass",slideDuplicateNextClass:"slideDuplicateNextClass",slidePrevClass:"slidePrevClass",slideDuplicatePrevClass:"slideDuplicatePrevClass",wrapperClass:"wrapperClass",runCallbacksOnInit:"runCallbacksOnInit",observeParents:"observeParents",observeSlideChildren:"observeSlideChildren",a11y:"a11y",autoplay:"autoplay",controller:"controller",coverflowEffect:"coverflowEffect",cubeEffect:"cubeEffect",fadeEffect:"fadeEffect",flipEffect:"flipEffect",creativeEffect:"creativeEffect",cardsEffect:"cardsEffect",hashNavigation:"hashNavigation",history:"history",keyboard:"keyboard",lazy:"lazy",mousewheel:"mousewheel",parallax:"parallax",thumbs:"thumbs",zoom:"zoom",slidesPerGroupAuto:"slidesPerGroupAuto",class:"class",id:"id",navigation:"navigation",pagination:"pagination",scrollbar:"scrollbar",virtual:"virtual",config:"config"},outputs:{s__beforeBreakpoint:"_beforeBreakpoint",s__containerClasses:"_containerClasses",s__slideClass:"_slideClass",s__swiper:"_swiper",s_activeIndexChange:"activeIndexChange",s_afterInit:"afterInit",s_autoplay:"autoplay",s_autoplayStart:"autoplayStart",s_autoplayStop:"autoplayStop",s_autoplayPause:"autoplayPause",s_autoplayResume:"autoplayResume",s_beforeDestroy:"beforeDestroy",s_beforeInit:"beforeInit",s_beforeLoopFix:"beforeLoopFix",s_beforeResize:"beforeResize",s_beforeSlideChangeStart:"beforeSlideChangeStart",s_beforeTransitionStart:"beforeTransitionStart",s_breakpoint:"breakpoint",s_changeDirection:"changeDirection",s_click:"click",s_doubleTap:"doubleTap",s_doubleClick:"doubleClick",s_destroy:"destroy",s_fromEdge:"fromEdge",s_hashChange:"hashChange",s_hashSet:"hashSet",s_imagesReady:"imagesReady",s_init:"init",s_keyPress:"keyPress",s_lazyImageLoad:"lazyImageLoad",s_lazyImageReady:"lazyImageReady",s_loopFix:"loopFix",s_momentumBounce:"momentumBounce",s_navigationHide:"navigationHide",s_navigationShow:"navigationShow",s_navigationPrev:"navigationPrev",s_navigationNext:"navigationNext",s_observerUpdate:"observerUpdate",s_orientationchange:"orientationchange",s_paginationHide:"paginationHide",s_paginationRender:"paginationRender",s_paginationShow:"paginationShow",s_paginationUpdate:"paginationUpdate",s_progress:"progress",s_reachBeginning:"reachBeginning",s_reachEnd:"reachEnd",s_realIndexChange:"realIndexChange",s_resize:"resize",s_scroll:"scroll",s_scrollbarDragEnd:"scrollbarDragEnd",s_scrollbarDragMove:"scrollbarDragMove",s_scrollbarDragStart:"scrollbarDragStart",s_setTransition:"setTransition",s_setTranslate:"setTranslate",s_slideChange:"slideChange",s_slideChangeTransitionEnd:"slideChangeTransitionEnd",s_slideChangeTransitionStart:"slideChangeTransitionStart",s_slideNextTransitionEnd:"slideNextTransitionEnd",s_slideNextTransitionStart:"slideNextTransitionStart",s_slidePrevTransitionEnd:"slidePrevTransitionEnd",s_slidePrevTransitionStart:"slidePrevTransitionStart",s_slideResetTransitionStart:"slideResetTransitionStart",s_slideResetTransitionEnd:"slideResetTransitionEnd",s_sliderMove:"sliderMove",s_sliderFirstMove:"sliderFirstMove",s_slidesLengthChange:"slidesLengthChange",s_slidesGridLengthChange:"slidesGridLengthChange",s_snapGridLengthChange:"snapGridLengthChange",s_snapIndexChange:"snapIndexChange",s_tap:"tap",s_toEdge:"toEdge",s_touchEnd:"touchEnd",s_touchMove:"touchMove",s_touchMoveOpposite:"touchMoveOpposite",s_touchStart:"touchStart",s_transitionEnd:"transitionEnd",s_transitionStart:"transitionStart",s_update:"update",s_zoomChange:"zoomChange",s_swiper:"swiper",s_lock:"lock",s_unlock:"unlock"},standalone:!1,features:[vr],ngContentSelectors:ZOe,decls:13,vars:17,consts:[["slidesTemplate",""],["prevElRef",""],["nextElRef",""],["scrollbarElRef",""],["paginationElRef",""],[4,"ngIf"],["class","swiper-scrollbar",4,"ngIf"],["class","swiper-pagination",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"swiper-button-prev"],[1,"swiper-button-next"],[1,"swiper-scrollbar"],[1,"swiper-pagination"],[3,"ngClass","style","ngSwitch",4,"ngFor","ngForOf"],[3,"ngClass","ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,s){if(1&i&&(lr(KOe),cn(0),ge(1,n2e,5,0,"ng-container",5)(2,i2e,2,0,"div",6)(3,r2e,2,0,"div",7),Y(4,"div",8),cn(5,1),ge(6,o2e,1,0,null,9)(7,l2e,1,0,null,9)(8,d2e,1,0,null,9),cn(9,2),W(),cn(10,3),ge(11,g2e,2,3,"ng-template",null,0,So)),2&i){const a=cr(12);L(),j("ngIf",s.navigation&&s.showNavigation),L(),j("ngIf",s.scrollbar&&s.showScrollbar),L(),j("ngIf",s.pagination&&s.showPagination),L(),j("ngClass",s.wrapperClass),en("id",s.id),L(2),j("ngTemplateOutlet",a)("ngTemplateOutletContext",ra(11,JOe,s.prependSlides)),L(),j("ngTemplateOutlet",a)("ngTemplateOutletContext",ra(13,e2e,s.activeSlides)),L(),j("ngTemplateOutlet",a)("ngTemplateOutletContext",ra(15,t2e,s.appendSlides))}},dependencies:[Do,Ow,GR,Ji,Cv,HR,B6,Sm],styles:["swiper{display:block}\n"],encapsulation:2,changeDetection:0}),r})(),v2e=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Ze({type:r}),r.\u0275inj=qe({imports:[[Im]]}),r})();const b2e=r=>["",r];function A2e(r,n){if(1&r&&(Y(0,"a",11),ce(1),W()),2&r){const i=J(2).$implicit;j("href",i.url,wn),L(),Ut(i.buttonText)}}function x2e(r,n){if(1&r&&(Y(0,"a",12),ce(1),W()),2&r){const i=J(2).$implicit;j("routerLink",ra(2,b2e,i.route)),L(),Ut(i.buttonText)}}function w2e(r,n){if(1&r&&(Y(0,"div",4)(1,"div",5)(2,"div",6),ce(3),W(),Y(4,"div",7),ce(5),W(),ge(6,A2e,2,2,"a",8)(7,x2e,2,4,"ng-template",null,0,So),W(),Y(9,"div",9),Te(10,"img",10),W()()),2&r){const i=cr(8),s=J().$implicit;L(3),Ut(s.title),L(2),Ut(s.body),L(),j("ngIf",s.url)("ngIfElse",i),L(4),j("src",s.image,wn)("alt",s.alt)}}function C2e(r,n){1&r&&ge(0,w2e,11,6,"ng-template",3)}kb.use([function HOe({swiper:r,extendParams:n,on:i,emit:s}){let a;function l(){if(!r.size)return r.autoplay.running=!1,void(r.autoplay.paused=!1);const v=r.slides.eq(r.activeIndex);let y=r.params.autoplay.delay;v.attr("data-swiper-autoplay")&&(y=v.attr("data-swiper-autoplay")||r.params.autoplay.delay),clearTimeout(a),a=xE(()=>{let b;r.params.autoplay.reverseDirection?r.params.loop?(r.loopFix(),b=r.slidePrev(r.params.speed,!0,!0),s("autoplay")):r.isBeginning?r.params.autoplay.stopOnLastSlide?d():(b=r.slideTo(r.slides.length-1,r.params.speed,!0,!0),s("autoplay")):(b=r.slidePrev(r.params.speed,!0,!0),s("autoplay")):r.params.loop?(r.loopFix(),b=r.slideNext(r.params.speed,!0,!0),s("autoplay")):r.isEnd?r.params.autoplay.stopOnLastSlide?d():(b=r.slideTo(0,r.params.speed,!0,!0),s("autoplay")):(b=r.slideNext(r.params.speed,!0,!0),s("autoplay")),(r.params.cssMode&&r.autoplay.running||!1===b)&&l()},y)}function c(){return!(typeof a<"u"||r.autoplay.running||(r.autoplay.running=!0,s("autoplayStart"),l(),0))}function d(){return!(!r.autoplay.running||typeof a>"u"||(a&&(clearTimeout(a),a=void 0),r.autoplay.running=!1,s("autoplayStop"),0))}function u(v){r.autoplay.running&&(r.autoplay.paused||(a&&clearTimeout(a),r.autoplay.paused=!0,0!==v&&r.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(y=>{r.$wrapperEl[0].addEventListener(y,f)}):(r.autoplay.paused=!1,l())))}function h(){const v=zs();"hidden"===v.visibilityState&&r.autoplay.running&&u(),"visible"===v.visibilityState&&r.autoplay.paused&&(l(),r.autoplay.paused=!1)}function f(v){!r||r.destroyed||!r.$wrapperEl||v.target===r.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(y=>{r.$wrapperEl[0].removeEventListener(y,f)}),r.autoplay.paused=!1,r.autoplay.running?l():d())}function p(){r.params.autoplay.disableOnInteraction?d():(s("autoplayPause"),u()),["transitionend","webkitTransitionEnd"].forEach(v=>{r.$wrapperEl[0].removeEventListener(v,f)})}function g(){r.params.autoplay.disableOnInteraction||(r.autoplay.paused=!1,s("autoplayResume"),l())}r.autoplay={running:!1,paused:!1},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),i("init",()=>{r.params.autoplay.enabled&&(c(),zs().addEventListener("visibilitychange",h),function m(){r.params.autoplay.pauseOnMouseEnter&&(r.$el.on("mouseenter",p),r.$el.on("mouseleave",g))}())}),i("beforeTransitionStart",(v,y,b)=>{r.autoplay.running&&(b||!r.params.autoplay.disableOnInteraction?r.autoplay.pause(y):d())}),i("sliderFirstMove",()=>{r.autoplay.running&&(r.params.autoplay.disableOnInteraction?d():u())}),i("touchEnd",()=>{r.params.cssMode&&r.autoplay.paused&&!r.params.autoplay.disableOnInteraction&&l()}),i("destroy",()=>{(function _(){r.$el.off("mouseenter",p),r.$el.off("mouseleave",g)})(),r.autoplay.running&&d(),zs().removeEventListener("visibilitychange",h)}),Object.assign(r.autoplay,{pause:u,run:l,start:c,stop:d})},function VOe({swiper:r,extendParams:n,on:i,emit:s}){const a="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),r.pagination={el:null,$el:null,bullets:[]};let l,c=0;function d(){return!r.params.pagination.el||!r.pagination.el||!r.pagination.$el||0===r.pagination.$el.length}function u(v,y){const{bulletActiveClass:b}=r.params.pagination;v[y]().addClass(`${b}-${y}`)[y]().addClass(`${b}-${y}-${y}`)}function h(){const v=r.rtl,y=r.params.pagination;if(d())return;const b=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,A=r.pagination.$el;let x;const w=r.params.loop?Math.ceil((b-2*r.loopedSlides)/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(x=Math.ceil((r.activeIndex-r.loopedSlides)/r.params.slidesPerGroup),x>b-1-2*r.loopedSlides&&(x-=b-2*r.loopedSlides),x>w-1&&(x-=w),x<0&&"bullets"!==r.params.paginationType&&(x=w+x)):x=typeof r.snapIndex<"u"?r.snapIndex:r.activeIndex||0,"bullets"===y.type&&r.pagination.bullets&&r.pagination.bullets.length>0){const E=r.pagination.bullets;let M,S,T;if(y.dynamicBullets&&(l=E.eq(0)[r.isHorizontal()?"outerWidth":"outerHeight"](!0),A.css(r.isHorizontal()?"width":"height",l*(y.dynamicMainBullets+4)+"px"),y.dynamicMainBullets>1&&void 0!==r.previousIndex&&(c+=x-(r.previousIndex-r.loopedSlides||0),c>y.dynamicMainBullets-1?c=y.dynamicMainBullets-1:c<0&&(c=0)),M=Math.max(x-c,0),S=M+(Math.min(E.length,y.dynamicMainBullets)-1),T=(S+M)/2),E.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(P=>`${y.bulletActiveClass}${P}`).join(" ")),A.length>1)E.each(P=>{const C=ri(P),I=C.index();I===x&&C.addClass(y.bulletActiveClass),y.dynamicBullets&&(I>=M&&I<=S&&C.addClass(`${y.bulletActiveClass}-main`),I===M&&u(C,"prev"),I===S&&u(C,"next"))});else{const P=E.eq(x),C=P.index();if(P.addClass(y.bulletActiveClass),y.dynamicBullets){const I=E.eq(M),k=E.eq(S);for(let O=M;O<=S;O+=1)E.eq(O).addClass(`${y.bulletActiveClass}-main`);if(r.params.loop)if(C>=E.length){for(let O=y.dynamicMainBullets;O>=0;O-=1)E.eq(E.length-O).addClass(`${y.bulletActiveClass}-main`);E.eq(E.length-y.dynamicMainBullets-1).addClass(`${y.bulletActiveClass}-prev`)}else u(I,"prev"),u(k,"next");else u(I,"prev"),u(k,"next")}}if(y.dynamicBullets){const P=Math.min(E.length,y.dynamicMainBullets+4),C=(l*P-l)/2-T*l,I=v?"right":"left";E.css(r.isHorizontal()?I:"top",`${C}px`)}}if("fraction"===y.type&&(A.find(fg(y.currentClass)).text(y.formatFractionCurrent(x+1)),A.find(fg(y.totalClass)).text(y.formatFractionTotal(w))),"progressbar"===y.type){let E;E=y.progressbarOpposite?r.isHorizontal()?"vertical":"horizontal":r.isHorizontal()?"horizontal":"vertical";const M=(x+1)/w;let S=1,T=1;"horizontal"===E?S=M:T=M,A.find(fg(y.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${S}) scaleY(${T})`).transition(r.params.speed)}"custom"===y.type&&y.renderCustom?(A.html(y.renderCustom(r,x+1,w)),s("paginationRender",A[0])):s("paginationUpdate",A[0]),r.params.watchOverflow&&r.enabled&&A[r.isLocked?"addClass":"removeClass"](y.lockClass)}function f(){const v=r.params.pagination;if(d())return;const y=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,b=r.pagination.$el;let A="";if("bullets"===v.type){let x=r.params.loop?Math.ceil((y-2*r.loopedSlides)/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&!r.params.loop&&x>y&&(x=y);for(let w=0;w<x;w+=1)A+=v.renderBullet?v.renderBullet.call(r,w,v.bulletClass):`<${v.bulletElement} class="${v.bulletClass}"></${v.bulletElement}>`;b.html(A),r.pagination.bullets=b.find(fg(v.bulletClass))}"fraction"===v.type&&(A=v.renderFraction?v.renderFraction.call(r,v.currentClass,v.totalClass):`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`,b.html(A)),"progressbar"===v.type&&(A=v.renderProgressbar?v.renderProgressbar.call(r,v.progressbarFillClass):`<span class="${v.progressbarFillClass}"></span>`,b.html(A)),"custom"!==v.type&&s("paginationRender",r.pagination.$el[0])}function p(){r.params.pagination=Fq(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const v=r.params.pagination;if(!v.el)return;let y=ri(v.el);0!==y.length&&(r.params.uniqueNavElements&&"string"==typeof v.el&&y.length>1&&(y=r.$el.find(v.el),y.length>1&&(y=y.filter(b=>ri(b).parents(".swiper")[0]===r.el))),"bullets"===v.type&&v.clickable&&y.addClass(v.clickableClass),y.addClass(v.modifierClass+v.type),y.addClass(r.isHorizontal()?v.horizontalClass:v.verticalClass),"bullets"===v.type&&v.dynamicBullets&&(y.addClass(`${v.modifierClass}${v.type}-dynamic`),c=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),"progressbar"===v.type&&v.progressbarOpposite&&y.addClass(v.progressbarOppositeClass),v.clickable&&y.on("click",fg(v.bulletClass),function(A){A.preventDefault();let x=ri(this).index()*r.params.slidesPerGroup;r.params.loop&&(x+=r.loopedSlides),r.slideTo(x)}),Object.assign(r.pagination,{$el:y,el:y[0]}),r.enabled||y.addClass(v.lockClass))}function g(){const v=r.params.pagination;if(d())return;const y=r.pagination.$el;y.removeClass(v.hiddenClass),y.removeClass(v.modifierClass+v.type),y.removeClass(r.isHorizontal()?v.horizontalClass:v.verticalClass),r.pagination.bullets&&r.pagination.bullets.removeClass&&r.pagination.bullets.removeClass(v.bulletActiveClass),v.clickable&&y.off("click",fg(v.bulletClass))}i("init",()=>{!1===r.params.pagination.enabled?_():(p(),f(),h())}),i("activeIndexChange",()=>{(r.params.loop||typeof r.snapIndex>"u")&&h()}),i("snapIndexChange",()=>{r.params.loop||h()}),i("slidesLengthChange",()=>{r.params.loop&&(f(),h())}),i("snapGridLengthChange",()=>{r.params.loop||(f(),h())}),i("destroy",()=>{g()}),i("enable disable",()=>{const{$el:v}=r.pagination;v&&v[r.enabled?"removeClass":"addClass"](r.params.pagination.lockClass)}),i("lock unlock",()=>{h()}),i("click",(v,y)=>{const b=y.target,{$el:A}=r.pagination;if(r.params.pagination.el&&r.params.pagination.hideOnClick&&A&&A.length>0&&!ri(b).hasClass(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&b===r.navigation.nextEl||r.navigation.prevEl&&b===r.navigation.prevEl))return;const x=A.hasClass(r.params.pagination.hiddenClass);s(!0===x?"paginationShow":"paginationHide"),A.toggleClass(r.params.pagination.hiddenClass)}});const _=()=>{r.$el.addClass(r.params.pagination.paginationDisabledClass),r.pagination.$el&&r.pagination.$el.addClass(r.params.pagination.paginationDisabledClass),g()};Object.assign(r.pagination,{enable:()=>{r.$el.removeClass(r.params.pagination.paginationDisabledClass),r.pagination.$el&&r.pagination.$el.removeClass(r.params.pagination.paginationDisabledClass),p(),f(),h()},disable:_,render:f,update:h,init:p,destroy:g})},function zOe({swiper:r,extendParams:n,on:i,emit:s}){function a(m){let _;return m&&(_=ri(m),r.params.uniqueNavElements&&"string"==typeof m&&_.length>1&&1===r.$el.find(m).length&&(_=r.$el.find(m))),_}function l(m,_){const v=r.params.navigation;m&&m.length>0&&(m[_?"addClass":"removeClass"](v.disabledClass),m[0]&&"BUTTON"===m[0].tagName&&(m[0].disabled=_),r.params.watchOverflow&&r.enabled&&m[r.isLocked?"addClass":"removeClass"](v.lockClass))}function c(){if(r.params.loop)return;const{$nextEl:m,$prevEl:_}=r.navigation;l(_,r.isBeginning&&!r.params.rewind),l(m,r.isEnd&&!r.params.rewind)}function d(m){m.preventDefault(),(!r.isBeginning||r.params.loop||r.params.rewind)&&(r.slidePrev(),s("navigationPrev"))}function u(m){m.preventDefault(),(!r.isEnd||r.params.loop||r.params.rewind)&&(r.slideNext(),s("navigationNext"))}function h(){const m=r.params.navigation;if(r.params.navigation=Fq(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!m.nextEl&&!m.prevEl)return;const _=a(m.nextEl),v=a(m.prevEl);_&&_.length>0&&_.on("click",u),v&&v.length>0&&v.on("click",d),Object.assign(r.navigation,{$nextEl:_,nextEl:_&&_[0],$prevEl:v,prevEl:v&&v[0]}),r.enabled||(_&&_.addClass(m.lockClass),v&&v.addClass(m.lockClass))}function f(){const{$nextEl:m,$prevEl:_}=r.navigation;m&&m.length&&(m.off("click",u),m.removeClass(r.params.navigation.disabledClass)),_&&_.length&&(_.off("click",d),_.removeClass(r.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},i("init",()=>{!1===r.params.navigation.enabled?g():(h(),c())}),i("toEdge fromEdge lock unlock",()=>{c()}),i("destroy",()=>{f()}),i("enable disable",()=>{const{$nextEl:m,$prevEl:_}=r.navigation;m&&m[r.enabled?"removeClass":"addClass"](r.params.navigation.lockClass),_&&_[r.enabled?"removeClass":"addClass"](r.params.navigation.lockClass)}),i("click",(m,_)=>{const{$nextEl:v,$prevEl:y}=r.navigation,b=_.target;if(r.params.navigation.hideOnClick&&!ri(b).is(y)&&!ri(b).is(v)){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===b||r.pagination.el.contains(b)))return;let A;v?A=v.hasClass(r.params.navigation.hiddenClass):y&&(A=y.hasClass(r.params.navigation.hiddenClass)),s(!0===A?"navigationShow":"navigationHide"),v&&v.toggleClass(r.params.navigation.hiddenClass),y&&y.toggleClass(r.params.navigation.hiddenClass)}});const g=()=>{r.$el.addClass(r.params.navigation.navigationDisabledClass),f()};Object.assign(r.navigation,{enable:()=>{r.$el.removeClass(r.params.navigation.navigationDisabledClass),h(),c()},disable:g,update:c,init:h,destroy:f})},function jOe({swiper:r,extendParams:n,on:i}){n({fadeEffect:{crossFade:!1,transformEl:null}}),function GOe(r){const{effect:n,swiper:i,on:s,setTranslate:a,setTransition:l,overwriteParams:c,perspective:d,recreateShadows:u,getEffectParams:h}=r;let f;s("beforeInit",()=>{if(i.params.effect!==n)return;i.classNames.push(`${i.params.containerModifierClass}${n}`),d&&d()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const p=c?c():{};Object.assign(i.params,p),Object.assign(i.originalParams,p)}),s("setTranslate",()=>{i.params.effect===n&&a()}),s("setTransition",(p,g)=>{i.params.effect===n&&l(g)}),s("transitionEnd",()=>{if(i.params.effect===n&&u){if(!h||!h().slideShadows)return;i.slides.each(p=>{i.$(p).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),u()}}),s("virtualUpdate",()=>{i.params.effect===n&&(i.slides.length||(f=!0),requestAnimationFrame(()=>{f&&i.slides&&i.slides.length&&(a(),f=!1)}))})}({effect:"fade",swiper:r,on:i,setTranslate:()=>{const{slides:l}=r,c=r.params.fadeEffect;for(let d=0;d<l.length;d+=1){const u=r.slides.eq(d);let f=-u[0].swiperSlideOffset;r.params.virtualTranslate||(f-=r.translate);let p=0;r.isHorizontal()||(p=f,f=0);const g=r.params.fadeEffect.crossFade?Math.max(1-Math.abs(u[0].progress),0):1+Math.min(Math.max(u[0].progress,-1),0);$Oe(c,u).css({opacity:g}).transform(`translate3d(${f}px, ${p}px, 0px)`)}},setTransition:l=>{const{transformEl:c}=r.params.fadeEffect;(c?r.slides.find(c):r.slides).transition(l),function QOe({swiper:r,duration:n,transformEl:i,allSlides:s}){const{slides:a,activeIndex:l,$wrapperEl:c}=r;if(r.params.virtualTranslate&&0!==n){let u,d=!1;u=s?i?a.find(i):a:i?a.eq(l).find(i):a.eq(l),u.transitionEnd(()=>{if(d||!r||r.destroyed)return;d=!0,r.animating=!1;const h=["webkitTransitionEnd","transitionend"];for(let f=0;f<h.length;f+=1)c.trigger(h[f])})}}({swiper:r,duration:l,transformEl:c,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!r.params.cssMode})})}]);let E2e=(()=>{class r{constructor(){this.carouselInfo=[],this.config={autoplay:{delay:1e4,disableOnInteraction:!1},effect:"fade",fadeEffect:{crossFade:!0},navigation:!0,pagination:{enabled:!0,clickable:!0},resizeObserver:!1,rewind:!0}}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-carousel"]],inputs:{carouselInfo:"carouselInfo"},standalone:!1,decls:2,vars:2,consts:[["route",""],[1,"carousel",3,"config"],[4,"ngFor","ngForOf"],["swiperSlide",""],[1,"slide"],[1,"slide-info"],[1,"content-titles"],[1,"content-body"],["mat-stroked-button","","class","get-button","target","_blank",3,"href",4,"ngIf","ngIfElse"],[1,"slide-image"],[3,"src","alt"],["mat-stroked-button","","target","_blank",1,"get-button",3,"href"],["mat-stroked-button","",1,"get-button",3,"routerLink"]],template:function(s,a){1&s&&(Y(0,"swiper",1),ge(1,C2e,1,0,null,2),W()),2&s&&(j("config",a.config),L(),j("ngForOf",a.carouselInfo))},dependencies:[y2e,Lq,oc,uf,Ji,Do],styles:['@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);backface-visibility:hidden}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:#00000026}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,#00000080,#0000)}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,#00000080,#0000)}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,#00000080,#0000)}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,#00000080,#0000)}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}html{--mat-badge-text-font: Inter, sans-serif;--mat-badge-line-height: 22px;--mat-badge-text-size: 12px;--mat-badge-text-weight: 600;--mat-badge-small-size-text-size: 9px;--mat-badge-small-size-line-height: 16px;--mat-badge-large-size-text-size: 24px;--mat-badge-large-size-line-height: 28px}.mat-h1,.mat-headline-5,.mat-typography .mat-h1,.mat-typography .mat-headline-5,.mat-typography h1{font:400 24px/32px Inter,sans-serif;letter-spacing:normal;margin:0 0 16px}.mat-h2,.mat-headline-6,.mat-typography .mat-h2,.mat-typography .mat-headline-6,.mat-typography h2{font:500 20px/32px Inter,sans-serif;letter-spacing:.0125em;margin:0 0 16px}.mat-h3,.mat-subtitle-1,.mat-typography .mat-h3,.mat-typography .mat-subtitle-1,.mat-typography h3{font:400 16px/28px Inter,sans-serif;letter-spacing:.009375em;margin:0 0 16px}.mat-h4,.mat-body-1,.mat-typography .mat-h4,.mat-typography .mat-body-1,.mat-typography h4{font:400 16px/24px Inter,sans-serif;letter-spacing:.03125em;margin:0 0 16px}.mat-h5,.mat-typography .mat-h5,.mat-typography h5{font:400 11.62px/20px Inter,sans-serif;margin:0 0 12px}.mat-h6,.mat-typography .mat-h6,.mat-typography h6{font:400 9.38px/20px Inter,sans-serif;margin:0 0 12px}.mat-body-strong,.mat-subtitle-2,.mat-typography .mat-body-strong,.mat-typography .mat-subtitle-2{font:500 14px/22px Inter,sans-serif;letter-spacing:.0071428571em}.mat-body,.mat-body-2,.mat-typography .mat-body,.mat-typography .mat-body-2,.mat-typography{font:400 14px/20px Inter,sans-serif;letter-spacing:.0178571429em}.mat-body p,.mat-body-2 p,.mat-typography .mat-body p,.mat-typography .mat-body-2 p,.mat-typography p{margin:0 0 12px}.mat-small,.mat-caption,.mat-typography .mat-small,.mat-typography .mat-caption{font:400 12px/20px Inter,sans-serif;letter-spacing:.0333333333em}.mat-headline-1,.mat-typography .mat-headline-1{font:300 96px/96px Inter,sans-serif;letter-spacing:-.015625em;margin:0 0 56px}.mat-headline-2,.mat-typography .mat-headline-2{font:300 60px/60px Inter,sans-serif;letter-spacing:-.0083333333em;margin:0 0 64px}.mat-headline-3,.mat-typography .mat-headline-3{font:400 48px/50px Inter,sans-serif;letter-spacing:normal;margin:0 0 64px}.mat-headline-4,.mat-typography .mat-headline-4{font:400 34px/40px Inter,sans-serif;letter-spacing:.0073529412em;margin:0 0 64px}html{--mat-bottom-sheet-container-text-font: Inter, sans-serif;--mat-bottom-sheet-container-text-line-height: 20px;--mat-bottom-sheet-container-text-size: 14px;--mat-bottom-sheet-container-text-tracking: .0178571429em;--mat-bottom-sheet-container-text-weight: 400}html{--mat-legacy-button-toggle-label-text-font: Inter, sans-serif;--mat-legacy-button-toggle-label-text-line-height: 24px;--mat-legacy-button-toggle-label-text-size: 16px;--mat-legacy-button-toggle-label-text-tracking: .03125em;--mat-legacy-button-toggle-label-text-weight: 400}html{--mat-standard-button-toggle-label-text-font: Inter, sans-serif;--mat-standard-button-toggle-label-text-line-height: 24px;--mat-standard-button-toggle-label-text-size: 16px;--mat-standard-button-toggle-label-text-tracking: .03125em;--mat-standard-button-toggle-label-text-weight: 400}html{--mat-datepicker-calendar-text-font: Inter, sans-serif;--mat-datepicker-calendar-text-size: 13px;--mat-datepicker-calendar-body-label-text-size: 14px;--mat-datepicker-calendar-body-label-text-weight: 500;--mat-datepicker-calendar-period-button-text-size: 14px;--mat-datepicker-calendar-period-button-text-weight: 500;--mat-datepicker-calendar-header-text-size: 11px;--mat-datepicker-calendar-header-text-weight: 400}html{--mat-expansion-header-text-font: Inter, sans-serif;--mat-expansion-header-text-size: 14px;--mat-expansion-header-text-weight: 500;--mat-expansion-header-text-line-height: inherit;--mat-expansion-header-text-tracking: inherit;--mat-expansion-container-text-font: Inter, sans-serif;--mat-expansion-container-text-line-height: 20px;--mat-expansion-container-text-size: 14px;--mat-expansion-container-text-tracking: .0178571429em;--mat-expansion-container-text-weight: 400}html{--mat-grid-list-tile-header-primary-text-size: 14px;--mat-grid-list-tile-header-secondary-text-size: 12px;--mat-grid-list-tile-footer-primary-text-size: 14px;--mat-grid-list-tile-footer-secondary-text-size: 12px}html{--mat-stepper-container-text-font: Inter, sans-serif;--mat-stepper-header-label-text-font: Inter, sans-serif;--mat-stepper-header-label-text-size: 14px;--mat-stepper-header-label-text-weight: 400;--mat-stepper-header-error-state-label-text-size: 16px;--mat-stepper-header-selected-state-label-text-size: 16px;--mat-stepper-header-selected-state-label-text-weight: 400}html{--mat-toolbar-title-text-font: Inter, sans-serif;--mat-toolbar-title-text-line-height: 32px;--mat-toolbar-title-text-size: 20px;--mat-toolbar-title-text-tracking: .0125em;--mat-toolbar-title-text-weight: 500}html{--mat-tree-node-text-font: Inter, sans-serif;--mat-tree-node-text-size: 14px;--mat-tree-node-text-weight: 400}html{--mat-option-label-text-font: Inter, sans-serif;--mat-option-label-text-line-height: 24px;--mat-option-label-text-size: 16px;--mat-option-label-text-tracking: .03125em;--mat-option-label-text-weight: 400}html{--mat-optgroup-label-text-font: Inter, sans-serif;--mat-optgroup-label-text-line-height: 24px;--mat-optgroup-label-text-size: 16px;--mat-optgroup-label-text-tracking: .03125em;--mat-optgroup-label-text-weight: 400}html{--mat-card-title-text-font: Inter, sans-serif;--mat-card-title-text-line-height: 32px;--mat-card-title-text-size: 20px;--mat-card-title-text-tracking: .0125em;--mat-card-title-text-weight: 500;--mat-card-subtitle-text-font: Inter, sans-serif;--mat-card-subtitle-text-line-height: 22px;--mat-card-subtitle-text-size: 14px;--mat-card-subtitle-text-tracking: .0071428571em;--mat-card-subtitle-text-weight: 500}html{--mdc-plain-tooltip-supporting-text-font: Inter, sans-serif;--mdc-plain-tooltip-supporting-text-size: 12px;--mdc-plain-tooltip-supporting-text-weight: 400;--mdc-plain-tooltip-supporting-text-tracking: .0333333333em}html{--mdc-filled-text-field-label-text-font: Inter, sans-serif;--mdc-filled-text-field-label-text-size: 16px;--mdc-filled-text-field-label-text-tracking: .03125em;--mdc-filled-text-field-label-text-weight: 400}html{--mdc-outlined-text-field-label-text-font: Inter, sans-serif;--mdc-outlined-text-field-label-text-size: 16px;--mdc-outlined-text-field-label-text-tracking: .03125em;--mdc-outlined-text-field-label-text-weight: 400}html{--mat-form-field-container-text-font: Inter, sans-serif;--mat-form-field-container-text-line-height: 24px;--mat-form-field-container-text-size: 16px;--mat-form-field-container-text-tracking: .03125em;--mat-form-field-container-text-weight: 400;--mat-form-field-outlined-label-text-populated-size: 16px;--mat-form-field-subscript-text-font: Inter, sans-serif;--mat-form-field-subscript-text-line-height: 20px;--mat-form-field-subscript-text-size: 12px;--mat-form-field-subscript-text-tracking: .0333333333em;--mat-form-field-subscript-text-weight: 400}html{--mat-select-trigger-text-font: Inter, sans-serif;--mat-select-trigger-text-line-height: 24px;--mat-select-trigger-text-size: 16px;--mat-select-trigger-text-tracking: .03125em;--mat-select-trigger-text-weight: 400}html{--mdc-dialog-subhead-font: Inter, sans-serif;--mdc-dialog-subhead-line-height: 32px;--mdc-dialog-subhead-size: 20px;--mdc-dialog-subhead-weight: 500;--mdc-dialog-subhead-tracking: .0125em;--mdc-dialog-supporting-text-font: Inter, sans-serif;--mdc-dialog-supporting-text-line-height: 24px;--mdc-dialog-supporting-text-size: 16px;--mdc-dialog-supporting-text-weight: 400;--mdc-dialog-supporting-text-tracking: .03125em}.mat-mdc-standard-chip{--mdc-chip-label-text-font: Inter, sans-serif;--mdc-chip-label-text-line-height: 20px;--mdc-chip-label-text-size: 14px;--mdc-chip-label-text-tracking: .0178571429em;--mdc-chip-label-text-weight: 400}html .mat-mdc-slide-toggle{--mat-switch-label-text-font: Inter, sans-serif;--mat-switch-label-text-line-height: 20px;--mat-switch-label-text-size: 14px;--mat-switch-label-text-tracking: .0178571429em;--mat-switch-label-text-weight: 400}html{--mat-radio-label-text-font: Inter, sans-serif;--mat-radio-label-text-line-height: 20px;--mat-radio-label-text-size: 14px;--mat-radio-label-text-tracking: .0178571429em;--mat-radio-label-text-weight: 400}html{--mdc-slider-label-label-text-font: Inter, sans-serif;--mdc-slider-label-label-text-size: 14px;--mdc-slider-label-label-text-line-height: 22px;--mdc-slider-label-label-text-tracking: .0071428571em;--mdc-slider-label-label-text-weight: 500}html{--mat-menu-item-label-text-font: Inter, sans-serif;--mat-menu-item-label-text-size: 16px;--mat-menu-item-label-text-tracking: .03125em;--mat-menu-item-label-text-line-height: 24px;--mat-menu-item-label-text-weight: 400}html{--mdc-list-list-item-label-text-font: Inter, sans-serif;--mdc-list-list-item-label-text-line-height: 24px;--mdc-list-list-item-label-text-size: 16px;--mdc-list-list-item-label-text-tracking: .03125em;--mdc-list-list-item-label-text-weight: 400;--mdc-list-list-item-supporting-text-font: Inter, sans-serif;--mdc-list-list-item-supporting-text-line-height: 20px;--mdc-list-list-item-supporting-text-size: 14px;--mdc-list-list-item-supporting-text-tracking: .0178571429em;--mdc-list-list-item-supporting-text-weight: 400;--mdc-list-list-item-trailing-supporting-text-font: Inter, sans-serif;--mdc-list-list-item-trailing-supporting-text-line-height: 20px;--mdc-list-list-item-trailing-supporting-text-size: 12px;--mdc-list-list-item-trailing-supporting-text-tracking: .0333333333em;--mdc-list-list-item-trailing-supporting-text-weight: 400}.mdc-list-group__subheader{font:400 16px/28px Inter,sans-serif;letter-spacing:.009375em}html{--mat-paginator-container-text-font: Inter, sans-serif;--mat-paginator-container-text-line-height: 20px;--mat-paginator-container-text-size: 12px;--mat-paginator-container-text-tracking: .0333333333em;--mat-paginator-container-text-weight: 400;--mat-paginator-select-trigger-text-size: 12px}.mat-mdc-tab-header{--mat-tab-header-label-text-font: Inter, sans-serif;--mat-tab-header-label-text-size: 14px;--mat-tab-header-label-text-tracking: .0892857143em;--mat-tab-header-label-text-line-height: 36px;--mat-tab-header-label-text-weight: 500}html{--mat-checkbox-label-text-font: Inter, sans-serif;--mat-checkbox-label-text-line-height: 20px;--mat-checkbox-label-text-size: 14px;--mat-checkbox-label-text-tracking: .0178571429em;--mat-checkbox-label-text-weight: 400}html{--mdc-text-button-label-text-font: Inter, sans-serif;--mdc-text-button-label-text-size: 14px;--mdc-text-button-label-text-tracking: .0892857143em;--mdc-text-button-label-text-weight: 500;--mdc-text-button-label-text-transform: none}html{--mdc-filled-button-label-text-font: Inter, sans-serif;--mdc-filled-button-label-text-size: 14px;--mdc-filled-button-label-text-tracking: .0892857143em;--mdc-filled-button-label-text-weight: 500;--mdc-filled-button-label-text-transform: none}html{--mdc-protected-button-label-text-font: Inter, sans-serif;--mdc-protected-button-label-text-size: 14px;--mdc-protected-button-label-text-tracking: .0892857143em;--mdc-protected-button-label-text-weight: 500;--mdc-protected-button-label-text-transform: none}html{--mdc-outlined-button-label-text-font: Inter, sans-serif;--mdc-outlined-button-label-text-size: 14px;--mdc-outlined-button-label-text-tracking: .0892857143em;--mdc-outlined-button-label-text-weight: 500;--mdc-outlined-button-label-text-transform: none}html{--mdc-extended-fab-label-text-font: Inter, sans-serif;--mdc-extended-fab-label-text-size: 14px;--mdc-extended-fab-label-text-tracking: .0892857143em;--mdc-extended-fab-label-text-weight: 500}html{--mdc-snackbar-supporting-text-font: Inter, sans-serif;--mdc-snackbar-supporting-text-line-height: 20px;--mdc-snackbar-supporting-text-size: 14px;--mdc-snackbar-supporting-text-weight: 400}html{--mat-table-header-headline-font: Inter, sans-serif;--mat-table-header-headline-line-height: 22px;--mat-table-header-headline-size: 14px;--mat-table-header-headline-weight: 500;--mat-table-header-headline-tracking: .0071428571em;--mat-table-row-item-label-text-font: Inter, sans-serif;--mat-table-row-item-label-text-line-height: 20px;--mat-table-row-item-label-text-size: 14px;--mat-table-row-item-label-text-weight: 400;--mat-table-row-item-label-text-tracking: .0178571429em;--mat-table-footer-supporting-text-font: Inter, sans-serif;--mat-table-footer-supporting-text-line-height: 20px;--mat-table-footer-supporting-text-size: 14px;--mat-table-footer-supporting-text-weight: 400;--mat-table-footer-supporting-text-tracking: .0178571429em}.mat-elevation-z0,.mat-mdc-elevation-specific.mat-elevation-z0{box-shadow:var(--mat-app-elevation-shadow-level-0, none)}.mat-elevation-z1,.mat-mdc-elevation-specific.mat-elevation-z1{box-shadow:var(--mat-app-elevation-shadow-level-1, none)}.mat-elevation-z2,.mat-mdc-elevation-specific.mat-elevation-z2{box-shadow:var(--mat-app-elevation-shadow-level-2, none)}.mat-elevation-z3,.mat-mdc-elevation-specific.mat-elevation-z3{box-shadow:var(--mat-app-elevation-shadow-level-3, none)}.mat-elevation-z4,.mat-mdc-elevation-specific.mat-elevation-z4{box-shadow:var(--mat-app-elevation-shadow-level-4, none)}.mat-elevation-z5,.mat-mdc-elevation-specific.mat-elevation-z5{box-shadow:var(--mat-app-elevation-shadow-level-5, none)}.mat-elevation-z6,.mat-mdc-elevation-specific.mat-elevation-z6{box-shadow:var(--mat-app-elevation-shadow-level-6, none)}.mat-elevation-z7,.mat-mdc-elevation-specific.mat-elevation-z7{box-shadow:var(--mat-app-elevation-shadow-level-7, none)}.mat-elevation-z8,.mat-mdc-elevation-specific.mat-elevation-z8{box-shadow:var(--mat-app-elevation-shadow-level-8, none)}.mat-elevation-z9,.mat-mdc-elevation-specific.mat-elevation-z9{box-shadow:var(--mat-app-elevation-shadow-level-9, none)}.mat-elevation-z10,.mat-mdc-elevation-specific.mat-elevation-z10{box-shadow:var(--mat-app-elevation-shadow-level-10, none)}.mat-elevation-z11,.mat-mdc-elevation-specific.mat-elevation-z11{box-shadow:var(--mat-app-elevation-shadow-level-11, none)}.mat-elevation-z12,.mat-mdc-elevation-specific.mat-elevation-z12{box-shadow:var(--mat-app-elevation-shadow-level-12, none)}.mat-elevation-z13,.mat-mdc-elevation-specific.mat-elevation-z13{box-shadow:var(--mat-app-elevation-shadow-level-13, none)}.mat-elevation-z14,.mat-mdc-elevation-specific.mat-elevation-z14{box-shadow:var(--mat-app-elevation-shadow-level-14, none)}.mat-elevation-z15,.mat-mdc-elevation-specific.mat-elevation-z15{box-shadow:var(--mat-app-elevation-shadow-level-15, none)}.mat-elevation-z16,.mat-mdc-elevation-specific.mat-elevation-z16{box-shadow:var(--mat-app-elevation-shadow-level-16, none)}.mat-elevation-z17,.mat-mdc-elevation-specific.mat-elevation-z17{box-shadow:var(--mat-app-elevation-shadow-level-17, none)}.mat-elevation-z18,.mat-mdc-elevation-specific.mat-elevation-z18{box-shadow:var(--mat-app-elevation-shadow-level-18, none)}.mat-elevation-z19,.mat-mdc-elevation-specific.mat-elevation-z19{box-shadow:var(--mat-app-elevation-shadow-level-19, none)}.mat-elevation-z20,.mat-mdc-elevation-specific.mat-elevation-z20{box-shadow:var(--mat-app-elevation-shadow-level-20, none)}.mat-elevation-z21,.mat-mdc-elevation-specific.mat-elevation-z21{box-shadow:var(--mat-app-elevation-shadow-level-21, none)}.mat-elevation-z22,.mat-mdc-elevation-specific.mat-elevation-z22{box-shadow:var(--mat-app-elevation-shadow-level-22, none)}.mat-elevation-z23,.mat-mdc-elevation-specific.mat-elevation-z23{box-shadow:var(--mat-app-elevation-shadow-level-23, none)}.mat-elevation-z24,.mat-mdc-elevation-specific.mat-elevation-z24{box-shadow:var(--mat-app-elevation-shadow-level-24, none)}html{--mat-sys-on-surface: initial}.mat-app-background{background-color:var(--mat-app-background-color, var(--mat-sys-background, transparent));color:var(--mat-app-text-color, var(--mat-sys-on-background, inherit))}html{--mat-ripple-color: rgba(0, 0, 0, .1)}html,.mat-accent{--mat-option-selected-state-label-text-color: #444c65;--mat-option-label-text-color: rgba(0, 0, 0, .87);--mat-option-hover-state-layer-color: rgba(0, 0, 0, .04);--mat-option-focus-state-layer-color: rgba(0, 0, 0, .04);--mat-option-selected-state-layer-color: rgba(0, 0, 0, .04)}.mat-warn{--mat-option-selected-state-label-text-color: #f44336;--mat-option-label-text-color: rgba(0, 0, 0, .87);--mat-option-hover-state-layer-color: rgba(0, 0, 0, .04);--mat-option-focus-state-layer-color: rgba(0, 0, 0, .04);--mat-option-selected-state-layer-color: rgba(0, 0, 0, .04)}html{--mat-optgroup-label-text-color: rgba(0, 0, 0, .87)}html{--mat-full-pseudo-checkbox-selected-icon-color: #444c65;--mat-full-pseudo-checkbox-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color: #b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color: #b0b0b0}html{--mat-minimal-pseudo-checkbox-selected-checkmark-color: #444c65;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: #b0b0b0}.mat-primary{--mat-full-pseudo-checkbox-selected-icon-color: #444c65;--mat-full-pseudo-checkbox-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color: #b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color: #b0b0b0}.mat-primary{--mat-minimal-pseudo-checkbox-selected-checkmark-color: #444c65;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: #b0b0b0}.mat-accent{--mat-full-pseudo-checkbox-selected-icon-color: #444c65;--mat-full-pseudo-checkbox-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color: #b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color: #b0b0b0}.mat-accent{--mat-minimal-pseudo-checkbox-selected-checkmark-color: #444c65;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: #b0b0b0}.mat-warn{--mat-full-pseudo-checkbox-selected-icon-color: #f44336;--mat-full-pseudo-checkbox-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mat-full-pseudo-checkbox-disabled-selected-checkmark-color: #fafafa;--mat-full-pseudo-checkbox-disabled-unselected-icon-color: #b0b0b0;--mat-full-pseudo-checkbox-disabled-selected-icon-color: #b0b0b0}.mat-warn{--mat-minimal-pseudo-checkbox-selected-checkmark-color: #f44336;--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: #b0b0b0}html{--mat-app-background-color: #fafafa;--mat-app-text-color: rgba(0, 0, 0, .87);--mat-app-elevation-shadow-level-0: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-1: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-2: 0px 3px 1px -2px rgba(0, 0, 0, .2), 0px 2px 2px 0px rgba(0, 0, 0, .14), 0px 1px 5px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-3: 0px 3px 3px -2px rgba(0, 0, 0, .2), 0px 3px 4px 0px rgba(0, 0, 0, .14), 0px 1px 8px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-4: 0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-5: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 5px 8px 0px rgba(0, 0, 0, .14), 0px 1px 14px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-6: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-7: 0px 4px 5px -2px rgba(0, 0, 0, .2), 0px 7px 10px 1px rgba(0, 0, 0, .14), 0px 2px 16px 1px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-8: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-9: 0px 5px 6px -3px rgba(0, 0, 0, .2), 0px 9px 12px 1px rgba(0, 0, 0, .14), 0px 3px 16px 2px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-10: 0px 6px 6px -3px rgba(0, 0, 0, .2), 0px 10px 14px 1px rgba(0, 0, 0, .14), 0px 4px 18px 3px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-11: 0px 6px 7px -4px rgba(0, 0, 0, .2), 0px 11px 15px 1px rgba(0, 0, 0, .14), 0px 4px 20px 3px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-12: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-13: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 13px 19px 2px rgba(0, 0, 0, .14), 0px 5px 24px 4px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-14: 0px 7px 9px -4px rgba(0, 0, 0, .2), 0px 14px 21px 2px rgba(0, 0, 0, .14), 0px 5px 26px 4px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-15: 0px 8px 9px -5px rgba(0, 0, 0, .2), 0px 15px 22px 2px rgba(0, 0, 0, .14), 0px 6px 28px 5px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-16: 0px 8px 10px -5px rgba(0, 0, 0, .2), 0px 16px 24px 2px rgba(0, 0, 0, .14), 0px 6px 30px 5px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-17: 0px 8px 11px -5px rgba(0, 0, 0, .2), 0px 17px 26px 2px rgba(0, 0, 0, .14), 0px 6px 32px 5px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-18: 0px 9px 11px -5px rgba(0, 0, 0, .2), 0px 18px 28px 2px rgba(0, 0, 0, .14), 0px 7px 34px 6px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-19: 0px 9px 12px -6px rgba(0, 0, 0, .2), 0px 19px 29px 2px rgba(0, 0, 0, .14), 0px 7px 36px 6px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-20: 0px 10px 13px -6px rgba(0, 0, 0, .2), 0px 20px 31px 3px rgba(0, 0, 0, .14), 0px 8px 38px 7px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-21: 0px 10px 13px -6px rgba(0, 0, 0, .2), 0px 21px 33px 3px rgba(0, 0, 0, .14), 0px 8px 40px 7px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-22: 0px 10px 14px -6px rgba(0, 0, 0, .2), 0px 22px 35px 3px rgba(0, 0, 0, .14), 0px 8px 42px 7px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-23: 0px 11px 14px -7px rgba(0, 0, 0, .2), 0px 23px 36px 3px rgba(0, 0, 0, .14), 0px 9px 44px 8px rgba(0, 0, 0, .12);--mat-app-elevation-shadow-level-24: 0px 11px 15px -7px rgba(0, 0, 0, .2), 0px 24px 38px 3px rgba(0, 0, 0, .14), 0px 9px 46px 8px rgba(0, 0, 0, .12)}html{--mdc-elevated-card-container-shape: 4px}html{--mdc-outlined-card-container-shape: 4px;--mdc-outlined-card-outline-width: 1px}html{--mdc-elevated-card-container-color: white;--mdc-elevated-card-container-elevation: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12)}html{--mdc-outlined-card-container-color: white;--mdc-outlined-card-outline-color: rgba(0, 0, 0, .12);--mdc-outlined-card-container-elevation: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12)}html{--mat-card-subtitle-text-color: rgba(0, 0, 0, .54)}html{--mdc-linear-progress-active-indicator-height: 4px;--mdc-linear-progress-track-height: 4px;--mdc-linear-progress-track-shape: 0}.mat-mdc-progress-bar,.mat-mdc-progress-bar.mat-accent{--mdc-linear-progress-active-indicator-color: #444c65;--mdc-linear-progress-track-color: rgba(68, 76, 101, .25)}.mat-mdc-progress-bar.mat-warn{--mdc-linear-progress-active-indicator-color: #f44336;--mdc-linear-progress-track-color: rgba(244, 67, 54, .25)}html{--mdc-plain-tooltip-container-shape: 4px;--mdc-plain-tooltip-supporting-text-line-height: 16px}html{--mdc-plain-tooltip-container-color: #616161;--mdc-plain-tooltip-supporting-text-color: #fff}html{--mdc-filled-text-field-active-indicator-height: 1px;--mdc-filled-text-field-focus-active-indicator-height: 2px;--mdc-filled-text-field-container-shape: 4px}html{--mdc-outlined-text-field-outline-width: 1px;--mdc-outlined-text-field-focus-outline-width: 2px;--mdc-outlined-text-field-container-shape: 4px}html{--mdc-filled-text-field-caret-color: #444c65;--mdc-filled-text-field-focus-active-indicator-color: #444c65;--mdc-filled-text-field-focus-label-text-color: rgba(68, 76, 101, .87);--mdc-filled-text-field-container-color: rgb(244.8, 244.8, 244.8);--mdc-filled-text-field-disabled-container-color: rgb(249.9, 249.9, 249.9);--mdc-filled-text-field-label-text-color: rgba(0, 0, 0, .6);--mdc-filled-text-field-hover-label-text-color: rgba(0, 0, 0, .6);--mdc-filled-text-field-disabled-label-text-color: rgba(0, 0, 0, .38);--mdc-filled-text-field-input-text-color: rgba(0, 0, 0, .87);--mdc-filled-text-field-disabled-input-text-color: rgba(0, 0, 0, .38);--mdc-filled-text-field-input-text-placeholder-color: rgba(0, 0, 0, .6);--mdc-filled-text-field-error-hover-label-text-color: #f44336;--mdc-filled-text-field-error-focus-label-text-color: #f44336;--mdc-filled-text-field-error-label-text-color: #f44336;--mdc-filled-text-field-error-caret-color: #f44336;--mdc-filled-text-field-active-indicator-color: rgba(0, 0, 0, .42);--mdc-filled-text-field-disabled-active-indicator-color: rgba(0, 0, 0, .06);--mdc-filled-text-field-hover-active-indicator-color: rgba(0, 0, 0, .87);--mdc-filled-text-field-error-active-indicator-color: #f44336;--mdc-filled-text-field-error-focus-active-indicator-color: #f44336;--mdc-filled-text-field-error-hover-active-indicator-color: #f44336}html{--mdc-outlined-text-field-caret-color: #444c65;--mdc-outlined-text-field-focus-outline-color: #444c65;--mdc-outlined-text-field-focus-label-text-color: rgba(68, 76, 101, .87);--mdc-outlined-text-field-label-text-color: rgba(0, 0, 0, .6);--mdc-outlined-text-field-hover-label-text-color: rgba(0, 0, 0, .6);--mdc-outlined-text-field-disabled-label-text-color: rgba(0, 0, 0, .38);--mdc-outlined-text-field-input-text-color: rgba(0, 0, 0, .87);--mdc-outlined-text-field-disabled-input-text-color: rgba(0, 0, 0, .38);--mdc-outlined-text-field-input-text-placeholder-color: rgba(0, 0, 0, .6);--mdc-outlined-text-field-error-caret-color: #f44336;--mdc-outlined-text-field-error-focus-label-text-color: #f44336;--mdc-outlined-text-field-error-label-text-color: #f44336;--mdc-outlined-text-field-error-hover-label-text-color: #f44336;--mdc-outlined-text-field-outline-color: rgba(0, 0, 0, .38);--mdc-outlined-text-field-disabled-outline-color: rgba(0, 0, 0, .06);--mdc-outlined-text-field-hover-outline-color: rgba(0, 0, 0, .87);--mdc-outlined-text-field-error-focus-outline-color: #f44336;--mdc-outlined-text-field-error-hover-outline-color: #f44336;--mdc-outlined-text-field-error-outline-color: #f44336}html{--mat-form-field-focus-select-arrow-color: rgba(68, 76, 101, .87);--mat-form-field-disabled-input-text-placeholder-color: rgba(0, 0, 0, .38);--mat-form-field-state-layer-color: rgba(0, 0, 0, .87);--mat-form-field-error-text-color: #f44336;--mat-form-field-select-option-text-color: inherit;--mat-form-field-select-disabled-option-text-color: GrayText;--mat-form-field-leading-icon-color: unset;--mat-form-field-disabled-leading-icon-color: unset;--mat-form-field-trailing-icon-color: unset;--mat-form-field-disabled-trailing-icon-color: unset;--mat-form-field-error-focus-trailing-icon-color: unset;--mat-form-field-error-hover-trailing-icon-color: unset;--mat-form-field-error-trailing-icon-color: unset;--mat-form-field-enabled-select-arrow-color: rgba(0, 0, 0, .54);--mat-form-field-disabled-select-arrow-color: rgba(0, 0, 0, .38);--mat-form-field-hover-state-layer-opacity: .04;--mat-form-field-focus-state-layer-opacity: .08}.mat-mdc-form-field.mat-accent{--mdc-filled-text-field-caret-color: #444c65;--mdc-filled-text-field-focus-active-indicator-color: #444c65;--mdc-filled-text-field-focus-label-text-color: rgba(68, 76, 101, .87)}.mat-mdc-form-field.mat-accent{--mdc-outlined-text-field-caret-color: #444c65;--mdc-outlined-text-field-focus-outline-color: #444c65;--mdc-outlined-text-field-focus-label-text-color: rgba(68, 76, 101, .87)}.mat-mdc-form-field.mat-accent{--mat-form-field-focus-select-arrow-color: rgba(68, 76, 101, .87)}.mat-mdc-form-field.mat-warn{--mdc-filled-text-field-caret-color: #f44336;--mdc-filled-text-field-focus-active-indicator-color: #f44336;--mdc-filled-text-field-focus-label-text-color: rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-warn{--mdc-outlined-text-field-caret-color: #f44336;--mdc-outlined-text-field-focus-outline-color: #f44336;--mdc-outlined-text-field-focus-label-text-color: rgba(244, 67, 54, .87)}.mat-mdc-form-field.mat-warn{--mat-form-field-focus-select-arrow-color: rgba(244, 67, 54, .87)}html{--mat-form-field-container-height: 56px;--mat-form-field-filled-label-display: block;--mat-form-field-container-vertical-padding: 16px;--mat-form-field-filled-with-label-container-padding-top: 24px;--mat-form-field-filled-with-label-container-padding-bottom: 8px}html{--mat-select-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html,html .mat-mdc-form-field.mat-accent{--mat-select-panel-background-color: white;--mat-select-enabled-trigger-text-color: rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color: rgba(0, 0, 0, .38);--mat-select-placeholder-text-color: rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color: rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color: rgba(0, 0, 0, .38);--mat-select-focused-arrow-color: rgba(68, 76, 101, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html .mat-mdc-form-field.mat-warn{--mat-select-panel-background-color: white;--mat-select-enabled-trigger-text-color: rgba(0, 0, 0, .87);--mat-select-disabled-trigger-text-color: rgba(0, 0, 0, .38);--mat-select-placeholder-text-color: rgba(0, 0, 0, .6);--mat-select-enabled-arrow-color: rgba(0, 0, 0, .54);--mat-select-disabled-arrow-color: rgba(0, 0, 0, .38);--mat-select-focused-arrow-color: rgba(244, 67, 54, .87);--mat-select-invalid-arrow-color: rgba(244, 67, 54, .87)}html{--mat-select-arrow-transform: translateY(-8px)}html{--mat-autocomplete-container-shape: 4px;--mat-autocomplete-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html{--mat-autocomplete-background-color: white}html{--mdc-dialog-container-shape: 4px}html{--mat-dialog-container-elevation-shadow: 0px 11px 15px -7px rgba(0, 0, 0, .2), 0px 24px 38px 3px rgba(0, 0, 0, .14), 0px 9px 46px 8px rgba(0, 0, 0, .12);--mat-dialog-container-max-width: 80vw;--mat-dialog-container-small-max-width: 80vw;--mat-dialog-container-min-width: 0;--mat-dialog-actions-alignment: start;--mat-dialog-actions-padding: 8px;--mat-dialog-content-padding: 20px 24px;--mat-dialog-with-actions-content-padding: 20px 24px;--mat-dialog-headline-padding: 0 24px 9px}html{--mdc-dialog-container-color: white;--mdc-dialog-subhead-color: rgba(0, 0, 0, .87);--mdc-dialog-supporting-text-color: rgba(0, 0, 0, .6)}.mat-mdc-standard-chip{--mdc-chip-container-shape-radius: 16px;--mdc-chip-with-avatar-avatar-shape-radius: 14px;--mdc-chip-with-avatar-avatar-size: 28px;--mdc-chip-with-icon-icon-size: 18px;--mdc-chip-outline-width: 0;--mdc-chip-outline-color: transparent;--mdc-chip-disabled-outline-color: transparent;--mdc-chip-focus-outline-color: transparent;--mdc-chip-hover-state-layer-opacity: .04;--mdc-chip-with-avatar-disabled-avatar-opacity: 1;--mdc-chip-flat-selected-outline-width: 0;--mdc-chip-selected-hover-state-layer-opacity: .04;--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity: 1;--mdc-chip-with-icon-disabled-icon-opacity: 1}.mat-mdc-standard-chip{--mat-chip-disabled-container-opacity: .4;--mat-chip-trailing-action-opacity: .54;--mat-chip-trailing-action-focus-opacity: 1;--mat-chip-trailing-action-state-layer-color: transparent;--mat-chip-selected-trailing-action-state-layer-color: transparent;--mat-chip-trailing-action-hover-state-layer-opacity: 0;--mat-chip-trailing-action-focus-state-layer-opacity: 0}.mat-mdc-standard-chip{--mdc-chip-disabled-label-text-color: #212121;--mdc-chip-elevated-container-color: rgb(224.4, 224.4, 224.4);--mdc-chip-elevated-selected-container-color: rgb(224.4, 224.4, 224.4);--mdc-chip-elevated-disabled-container-color: rgb(224.4, 224.4, 224.4);--mdc-chip-flat-disabled-selected-container-color: rgb(224.4, 224.4, 224.4);--mdc-chip-focus-state-layer-color: black;--mdc-chip-hover-state-layer-color: black;--mdc-chip-selected-hover-state-layer-color: black;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-selected-focus-state-layer-color: black;--mdc-chip-selected-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: #212121;--mdc-chip-selected-label-text-color: #212121;--mdc-chip-with-icon-icon-color: #212121;--mdc-chip-with-icon-disabled-icon-color: #212121;--mdc-chip-with-icon-selected-icon-color: #212121;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: #212121;--mdc-chip-with-trailing-icon-trailing-icon-color: #212121}.mat-mdc-standard-chip{--mat-chip-selected-disabled-trailing-icon-color: #212121;--mat-chip-selected-trailing-icon-color: #212121}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #444c65;--mdc-chip-elevated-selected-container-color: #444c65;--mdc-chip-elevated-disabled-container-color: #444c65;--mdc-chip-flat-disabled-selected-container-color: #444c65;--mdc-chip-focus-state-layer-color: black;--mdc-chip-hover-state-layer-color: black;--mdc-chip-selected-hover-state-layer-color: black;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-selected-focus-state-layer-color: black;--mdc-chip-selected-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-selected-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-primary,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-primary{--mat-chip-selected-disabled-trailing-icon-color: white;--mat-chip-selected-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #444c65;--mdc-chip-elevated-selected-container-color: #444c65;--mdc-chip-elevated-disabled-container-color: #444c65;--mdc-chip-flat-disabled-selected-container-color: #444c65;--mdc-chip-focus-state-layer-color: black;--mdc-chip-hover-state-layer-color: black;--mdc-chip-selected-hover-state-layer-color: black;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-selected-focus-state-layer-color: black;--mdc-chip-selected-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-selected-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-accent,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-accent{--mat-chip-selected-disabled-trailing-icon-color: white;--mat-chip-selected-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn{--mdc-chip-disabled-label-text-color: white;--mdc-chip-elevated-container-color: #f44336;--mdc-chip-elevated-selected-container-color: #f44336;--mdc-chip-elevated-disabled-container-color: #f44336;--mdc-chip-flat-disabled-selected-container-color: #f44336;--mdc-chip-focus-state-layer-color: black;--mdc-chip-hover-state-layer-color: black;--mdc-chip-selected-hover-state-layer-color: black;--mdc-chip-focus-state-layer-opacity: .12;--mdc-chip-selected-focus-state-layer-color: black;--mdc-chip-selected-focus-state-layer-opacity: .12;--mdc-chip-label-text-color: white;--mdc-chip-selected-label-text-color: white;--mdc-chip-with-icon-icon-color: white;--mdc-chip-with-icon-disabled-icon-color: white;--mdc-chip-with-icon-selected-icon-color: white;--mdc-chip-with-trailing-icon-disabled-trailing-icon-color: white;--mdc-chip-with-trailing-icon-trailing-icon-color: white}.mat-mdc-standard-chip.mat-mdc-chip-selected.mat-warn,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mat-warn{--mat-chip-selected-disabled-trailing-icon-color: white;--mat-chip-selected-trailing-icon-color: white}.mat-mdc-chip.mat-mdc-standard-chip{--mdc-chip-container-height: 32px}html{--mdc-switch-disabled-selected-icon-opacity: .38;--mdc-switch-disabled-track-opacity: .12;--mdc-switch-disabled-unselected-icon-opacity: .38;--mdc-switch-handle-height: 20px;--mdc-switch-handle-shape: 10px;--mdc-switch-handle-width: 20px;--mdc-switch-selected-icon-size: 18px;--mdc-switch-track-height: 14px;--mdc-switch-track-shape: 7px;--mdc-switch-track-width: 36px;--mdc-switch-unselected-icon-size: 18px;--mdc-switch-selected-focus-state-layer-opacity: .12;--mdc-switch-selected-hover-state-layer-opacity: .04;--mdc-switch-selected-pressed-state-layer-opacity: .1;--mdc-switch-unselected-focus-state-layer-opacity: .12;--mdc-switch-unselected-hover-state-layer-opacity: .04;--mdc-switch-unselected-pressed-state-layer-opacity: .1}html .mat-mdc-slide-toggle{--mat-switch-disabled-selected-handle-opacity: .38;--mat-switch-disabled-unselected-handle-opacity: .38;--mat-switch-unselected-handle-size: 20px;--mat-switch-selected-handle-size: 20px;--mat-switch-pressed-handle-size: 20px;--mat-switch-with-icon-handle-size: 20px;--mat-switch-selected-handle-horizontal-margin: 0;--mat-switch-selected-with-icon-handle-horizontal-margin: 0;--mat-switch-selected-pressed-handle-horizontal-margin: 0;--mat-switch-unselected-handle-horizontal-margin: 0;--mat-switch-unselected-with-icon-handle-horizontal-margin: 0;--mat-switch-unselected-pressed-handle-horizontal-margin: 0;--mat-switch-visible-track-opacity: 1;--mat-switch-hidden-track-opacity: 1;--mat-switch-visible-track-transition: transform 75ms 0ms cubic-bezier(0, 0, .2, 1);--mat-switch-hidden-track-transition: transform 75ms 0ms cubic-bezier(.4, 0, .6, 1);--mat-switch-track-outline-width: 1px;--mat-switch-track-outline-color: transparent;--mat-switch-selected-track-outline-width: 1px;--mat-switch-selected-track-outline-color: transparent;--mat-switch-disabled-unselected-track-outline-width: 1px;--mat-switch-disabled-unselected-track-outline-color: transparent}html{--mdc-switch-selected-focus-state-layer-color: #667393;--mdc-switch-selected-handle-color: #667393;--mdc-switch-selected-hover-state-layer-color: #667393;--mdc-switch-selected-pressed-state-layer-color: #667393;--mdc-switch-selected-focus-handle-color: #30374d;--mdc-switch-selected-hover-handle-color: #30374d;--mdc-switch-selected-pressed-handle-color: #30374d;--mdc-switch-selected-focus-track-color: #9ea8c6;--mdc-switch-selected-hover-track-color: #9ea8c6;--mdc-switch-selected-pressed-track-color: #9ea8c6;--mdc-switch-selected-track-color: #9ea8c6;--mdc-switch-disabled-selected-handle-color: #424242;--mdc-switch-disabled-selected-icon-color: #fff;--mdc-switch-disabled-selected-track-color: #424242;--mdc-switch-disabled-unselected-handle-color: #424242;--mdc-switch-disabled-unselected-icon-color: #fff;--mdc-switch-disabled-unselected-track-color: #424242;--mdc-switch-handle-surface-color: #fff;--mdc-switch-selected-icon-color: #fff;--mdc-switch-unselected-focus-handle-color: #212121;--mdc-switch-unselected-focus-state-layer-color: #424242;--mdc-switch-unselected-focus-track-color: #e0e0e0;--mdc-switch-unselected-handle-color: #616161;--mdc-switch-unselected-hover-handle-color: #212121;--mdc-switch-unselected-hover-state-layer-color: #424242;--mdc-switch-unselected-hover-track-color: #e0e0e0;--mdc-switch-unselected-icon-color: #fff;--mdc-switch-unselected-pressed-handle-color: #212121;--mdc-switch-unselected-pressed-state-layer-color: #424242;--mdc-switch-unselected-pressed-track-color: #e0e0e0;--mdc-switch-unselected-track-color: #e0e0e0;--mdc-switch-handle-elevation-shadow: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12);--mdc-switch-disabled-handle-elevation-shadow: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12)}html{--mdc-switch-disabled-label-text-color: rgba(0, 0, 0, .38)}html .mat-mdc-slide-toggle{--mat-switch-label-text-color: rgba(0, 0, 0, .87)}html .mat-mdc-slide-toggle.mat-accent{--mdc-switch-selected-focus-state-layer-color: #667393;--mdc-switch-selected-handle-color: #667393;--mdc-switch-selected-hover-state-layer-color: #667393;--mdc-switch-selected-pressed-state-layer-color: #667393;--mdc-switch-selected-focus-handle-color: #30374d;--mdc-switch-selected-hover-handle-color: #30374d;--mdc-switch-selected-pressed-handle-color: #30374d;--mdc-switch-selected-focus-track-color: #9ea8c6;--mdc-switch-selected-hover-track-color: #9ea8c6;--mdc-switch-selected-pressed-track-color: #9ea8c6;--mdc-switch-selected-track-color: #9ea8c6}html .mat-mdc-slide-toggle.mat-warn{--mdc-switch-selected-focus-state-layer-color: #e53935;--mdc-switch-selected-handle-color: #e53935;--mdc-switch-selected-hover-state-layer-color: #e53935;--mdc-switch-selected-pressed-state-layer-color: #e53935;--mdc-switch-selected-focus-handle-color: #b71c1c;--mdc-switch-selected-hover-handle-color: #b71c1c;--mdc-switch-selected-pressed-handle-color: #b71c1c;--mdc-switch-selected-focus-track-color: #e57373;--mdc-switch-selected-hover-track-color: #e57373;--mdc-switch-selected-pressed-track-color: #e57373;--mdc-switch-selected-track-color: #e57373}html{--mdc-switch-state-layer-size: 40px}html{--mdc-radio-disabled-selected-icon-opacity: .38;--mdc-radio-disabled-unselected-icon-opacity: .38;--mdc-radio-state-layer-size: 40px}.mat-mdc-radio-button.mat-primary{--mdc-radio-disabled-selected-icon-color: black;--mdc-radio-disabled-unselected-icon-color: black;--mdc-radio-unselected-hover-icon-color: #212121;--mdc-radio-unselected-focus-icon-color: #212121;--mdc-radio-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color: rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color: #444c65;--mdc-radio-selected-hover-icon-color: #444c65;--mdc-radio-selected-icon-color: #444c65;--mdc-radio-selected-pressed-icon-color: #444c65}.mat-mdc-radio-button.mat-primary{--mat-radio-ripple-color: black;--mat-radio-checked-ripple-color: #444c65;--mat-radio-disabled-label-color: rgba(0, 0, 0, .38);--mat-radio-label-text-color: rgba(0, 0, 0, .87)}.mat-mdc-radio-button.mat-accent{--mdc-radio-disabled-selected-icon-color: black;--mdc-radio-disabled-unselected-icon-color: black;--mdc-radio-unselected-hover-icon-color: #212121;--mdc-radio-unselected-focus-icon-color: #212121;--mdc-radio-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color: rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color: #444c65;--mdc-radio-selected-hover-icon-color: #444c65;--mdc-radio-selected-icon-color: #444c65;--mdc-radio-selected-pressed-icon-color: #444c65}.mat-mdc-radio-button.mat-accent{--mat-radio-ripple-color: black;--mat-radio-checked-ripple-color: #444c65;--mat-radio-disabled-label-color: rgba(0, 0, 0, .38);--mat-radio-label-text-color: rgba(0, 0, 0, .87)}.mat-mdc-radio-button.mat-warn{--mdc-radio-disabled-selected-icon-color: black;--mdc-radio-disabled-unselected-icon-color: black;--mdc-radio-unselected-hover-icon-color: #212121;--mdc-radio-unselected-focus-icon-color: #212121;--mdc-radio-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color: rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color: #f44336;--mdc-radio-selected-hover-icon-color: #f44336;--mdc-radio-selected-icon-color: #f44336;--mdc-radio-selected-pressed-icon-color: #f44336}.mat-mdc-radio-button.mat-warn{--mat-radio-ripple-color: black;--mat-radio-checked-ripple-color: #f44336;--mat-radio-disabled-label-color: rgba(0, 0, 0, .38);--mat-radio-label-text-color: rgba(0, 0, 0, .87)}html{--mdc-radio-state-layer-size: 40px}html{--mat-radio-touch-target-display: block}html{--mdc-slider-active-track-height: 6px;--mdc-slider-active-track-shape: 9999px;--mdc-slider-handle-height: 20px;--mdc-slider-handle-shape: 50%;--mdc-slider-handle-width: 20px;--mdc-slider-inactive-track-height: 4px;--mdc-slider-inactive-track-shape: 9999px;--mdc-slider-with-overlap-handle-outline-width: 1px;--mdc-slider-with-tick-marks-active-container-opacity: .6;--mdc-slider-with-tick-marks-container-shape: 50%;--mdc-slider-with-tick-marks-container-size: 2px;--mdc-slider-with-tick-marks-inactive-container-opacity: .6;--mdc-slider-handle-elevation: 0px 2px 1px -1px rgba(0, 0, 0, .2), 0px 1px 1px 0px rgba(0, 0, 0, .14), 0px 1px 3px 0px rgba(0, 0, 0, .12)}html{--mat-slider-value-indicator-width: auto;--mat-slider-value-indicator-height: 32px;--mat-slider-value-indicator-caret-display: block;--mat-slider-value-indicator-border-radius: 4px;--mat-slider-value-indicator-padding: 0 12px;--mat-slider-value-indicator-text-transform: none;--mat-slider-value-indicator-container-transform: translateX(-50%)}html{--mdc-slider-handle-color: #444c65;--mdc-slider-focus-handle-color: #444c65;--mdc-slider-hover-handle-color: #444c65;--mdc-slider-active-track-color: #444c65;--mdc-slider-inactive-track-color: #444c65;--mdc-slider-with-tick-marks-inactive-container-color: #444c65;--mdc-slider-with-tick-marks-active-container-color: white;--mdc-slider-disabled-active-track-color: #000;--mdc-slider-disabled-handle-color: #000;--mdc-slider-disabled-inactive-track-color: #000;--mdc-slider-label-container-color: #000;--mdc-slider-label-label-text-color: #fff;--mdc-slider-with-overlap-handle-outline-color: #fff;--mdc-slider-with-tick-marks-disabled-container-color: #000}html{--mat-slider-ripple-color: #444c65;--mat-slider-hover-state-layer-color: rgba(68, 76, 101, .05);--mat-slider-focus-state-layer-color: rgba(68, 76, 101, .2);--mat-slider-value-indicator-opacity: .6}html .mat-accent{--mdc-slider-handle-color: #444c65;--mdc-slider-focus-handle-color: #444c65;--mdc-slider-hover-handle-color: #444c65;--mdc-slider-active-track-color: #444c65;--mdc-slider-inactive-track-color: #444c65;--mdc-slider-with-tick-marks-inactive-container-color: #444c65;--mdc-slider-with-tick-marks-active-container-color: white}html .mat-accent{--mat-slider-ripple-color: #444c65;--mat-slider-hover-state-layer-color: rgba(68, 76, 101, .05);--mat-slider-focus-state-layer-color: rgba(68, 76, 101, .2)}html .mat-warn{--mdc-slider-handle-color: #f44336;--mdc-slider-focus-handle-color: #f44336;--mdc-slider-hover-handle-color: #f44336;--mdc-slider-active-track-color: #f44336;--mdc-slider-inactive-track-color: #f44336;--mdc-slider-with-tick-marks-inactive-container-color: #f44336;--mdc-slider-with-tick-marks-active-container-color: white}html .mat-warn{--mat-slider-ripple-color: #f44336;--mat-slider-hover-state-layer-color: rgba(244, 67, 54, .05);--mat-slider-focus-state-layer-color: rgba(244, 67, 54, .2)}html{--mat-menu-container-shape: 4px;--mat-menu-divider-bottom-spacing: 0;--mat-menu-divider-top-spacing: 0;--mat-menu-item-spacing: 16px;--mat-menu-item-icon-size: 24px;--mat-menu-item-leading-spacing: 16px;--mat-menu-item-trailing-spacing: 16px;--mat-menu-item-with-icon-leading-spacing: 16px;--mat-menu-item-with-icon-trailing-spacing: 16px;--mat-menu-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html{--mat-menu-item-label-text-color: rgba(0, 0, 0, .87);--mat-menu-item-icon-color: rgba(0, 0, 0, .87);--mat-menu-item-hover-state-layer-color: rgba(0, 0, 0, .04);--mat-menu-item-focus-state-layer-color: rgba(0, 0, 0, .04);--mat-menu-container-color: white;--mat-menu-divider-color: rgba(0, 0, 0, .12)}html{--mdc-list-list-item-container-shape: 0;--mdc-list-list-item-leading-avatar-shape: 50%;--mdc-list-list-item-container-color: transparent;--mdc-list-list-item-selected-container-color: transparent;--mdc-list-list-item-leading-avatar-color: transparent;--mdc-list-list-item-leading-icon-size: 24px;--mdc-list-list-item-leading-avatar-size: 40px;--mdc-list-list-item-trailing-icon-size: 24px;--mdc-list-list-item-disabled-state-layer-color: transparent;--mdc-list-list-item-disabled-state-layer-opacity: 0;--mdc-list-list-item-disabled-label-text-opacity: .38;--mdc-list-list-item-disabled-leading-icon-opacity: .38;--mdc-list-list-item-disabled-trailing-icon-opacity: .38}html{--mat-list-active-indicator-color: transparent;--mat-list-active-indicator-shape: 4px}html{--mdc-list-list-item-label-text-color: rgba(0, 0, 0, .87);--mdc-list-list-item-supporting-text-color: rgba(0, 0, 0, .54);--mdc-list-list-item-leading-icon-color: rgba(0, 0, 0, .38);--mdc-list-list-item-trailing-supporting-text-color: rgba(0, 0, 0, .38);--mdc-list-list-item-trailing-icon-color: rgba(0, 0, 0, .38);--mdc-list-list-item-selected-trailing-icon-color: rgba(0, 0, 0, .38);--mdc-list-list-item-disabled-label-text-color: black;--mdc-list-list-item-disabled-leading-icon-color: black;--mdc-list-list-item-disabled-trailing-icon-color: black;--mdc-list-list-item-hover-label-text-color: rgba(0, 0, 0, .87);--mdc-list-list-item-hover-leading-icon-color: rgba(0, 0, 0, .38);--mdc-list-list-item-hover-trailing-icon-color: rgba(0, 0, 0, .38);--mdc-list-list-item-focus-label-text-color: rgba(0, 0, 0, .87);--mdc-list-list-item-hover-state-layer-color: black;--mdc-list-list-item-hover-state-layer-opacity: .04;--mdc-list-list-item-focus-state-layer-color: black;--mdc-list-list-item-focus-state-layer-opacity: .12}.mdc-list-item__start,.mdc-list-item__end,.mat-accent .mdc-list-item__start,.mat-accent .mdc-list-item__end{--mdc-radio-disabled-selected-icon-color: black;--mdc-radio-disabled-unselected-icon-color: black;--mdc-radio-unselected-hover-icon-color: #212121;--mdc-radio-unselected-focus-icon-color: #212121;--mdc-radio-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color: rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color: #444c65;--mdc-radio-selected-hover-icon-color: #444c65;--mdc-radio-selected-icon-color: #444c65;--mdc-radio-selected-pressed-icon-color: #444c65}.mat-warn .mdc-list-item__start,.mat-warn .mdc-list-item__end{--mdc-radio-disabled-selected-icon-color: black;--mdc-radio-disabled-unselected-icon-color: black;--mdc-radio-unselected-hover-icon-color: #212121;--mdc-radio-unselected-focus-icon-color: #212121;--mdc-radio-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-radio-unselected-pressed-icon-color: rgba(0, 0, 0, .54);--mdc-radio-selected-focus-icon-color: #f44336;--mdc-radio-selected-hover-icon-color: #f44336;--mdc-radio-selected-icon-color: #f44336;--mdc-radio-selected-pressed-icon-color: #f44336}.mat-mdc-list-option,.mat-mdc-list-option.mat-accent{--mdc-checkbox-disabled-selected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color: white;--mdc-checkbox-selected-focus-icon-color: #444c65;--mdc-checkbox-selected-hover-icon-color: #444c65;--mdc-checkbox-selected-icon-color: #444c65;--mdc-checkbox-selected-pressed-icon-color: #444c65;--mdc-checkbox-unselected-focus-icon-color: #212121;--mdc-checkbox-unselected-hover-icon-color: #212121;--mdc-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color: #444c65;--mdc-checkbox-selected-hover-state-layer-color: #444c65;--mdc-checkbox-selected-pressed-state-layer-color: #444c65;--mdc-checkbox-unselected-focus-state-layer-color: black;--mdc-checkbox-unselected-hover-state-layer-color: black;--mdc-checkbox-unselected-pressed-state-layer-color: black}.mat-mdc-list-option.mat-warn{--mdc-checkbox-disabled-selected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color: white;--mdc-checkbox-selected-focus-icon-color: #f44336;--mdc-checkbox-selected-hover-icon-color: #f44336;--mdc-checkbox-selected-icon-color: #f44336;--mdc-checkbox-selected-pressed-icon-color: #f44336;--mdc-checkbox-unselected-focus-icon-color: #212121;--mdc-checkbox-unselected-hover-icon-color: #212121;--mdc-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color: #f44336;--mdc-checkbox-selected-hover-state-layer-color: #f44336;--mdc-checkbox-selected-pressed-state-layer-color: #f44336;--mdc-checkbox-unselected-focus-state-layer-color: black;--mdc-checkbox-unselected-hover-state-layer-color: black;--mdc-checkbox-unselected-pressed-state-layer-color: black}.mat-mdc-list-base.mat-mdc-list-base .mdc-list-item--selected .mdc-list-item__primary-text,.mat-mdc-list-base.mat-mdc-list-base .mdc-list-item--selected .mdc-list-item__start,.mat-mdc-list-base.mat-mdc-list-base .mdc-list-item--activated .mdc-list-item__primary-text,.mat-mdc-list-base.mat-mdc-list-base .mdc-list-item--activated .mdc-list-item__start{color:#444c65}.mat-mdc-list-base .mdc-list-item--disabled .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item--disabled .mdc-list-item__content,.mat-mdc-list-base .mdc-list-item--disabled .mdc-list-item__end{opacity:1}html{--mdc-list-list-item-one-line-container-height: 48px;--mdc-list-list-item-two-line-container-height: 64px;--mdc-list-list-item-three-line-container-height: 88px}html{--mat-list-list-item-leading-icon-start-space: 16px;--mat-list-list-item-leading-icon-end-space: 32px}.mdc-list-item__start,.mdc-list-item__end{--mdc-radio-state-layer-size: 40px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line,.mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line,.mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mat-mdc-list-item.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines,.mat-mdc-list-item.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines,.mat-mdc-list-item.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}html{--mat-paginator-container-text-color: rgba(0, 0, 0, .87);--mat-paginator-container-background-color: white;--mat-paginator-enabled-icon-color: rgba(0, 0, 0, .54);--mat-paginator-disabled-icon-color: rgba(0, 0, 0, .12)}html{--mat-paginator-container-size: 56px;--mat-paginator-form-field-container-height: 40px;--mat-paginator-form-field-container-vertical-padding: 8px;--mat-paginator-touch-target-display: block}html{--mdc-secondary-navigation-tab-container-height: 48px}html{--mdc-tab-indicator-active-indicator-height: 2px;--mdc-tab-indicator-active-indicator-shape: 0}html{--mat-tab-header-divider-color: transparent;--mat-tab-header-divider-height: 0}.mat-mdc-tab-group,.mat-mdc-tab-nav-bar{--mdc-tab-indicator-active-indicator-color: #444c65}.mat-mdc-tab-group,.mat-mdc-tab-nav-bar{--mat-tab-header-disabled-ripple-color: rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color: black;--mat-tab-header-inactive-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color: #444c65;--mat-tab-header-active-ripple-color: #444c65;--mat-tab-header-inactive-ripple-color: #444c65;--mat-tab-header-inactive-focus-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color: #444c65;--mat-tab-header-active-hover-label-text-color: #444c65;--mat-tab-header-active-focus-indicator-color: #444c65;--mat-tab-header-active-hover-indicator-color: #444c65}.mat-mdc-tab-group.mat-accent,.mat-mdc-tab-nav-bar.mat-accent{--mdc-tab-indicator-active-indicator-color: #444c65}.mat-mdc-tab-group.mat-accent,.mat-mdc-tab-nav-bar.mat-accent{--mat-tab-header-disabled-ripple-color: rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color: black;--mat-tab-header-inactive-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color: #444c65;--mat-tab-header-active-ripple-color: #444c65;--mat-tab-header-inactive-ripple-color: #444c65;--mat-tab-header-inactive-focus-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color: #444c65;--mat-tab-header-active-hover-label-text-color: #444c65;--mat-tab-header-active-focus-indicator-color: #444c65;--mat-tab-header-active-hover-indicator-color: #444c65}.mat-mdc-tab-group.mat-warn,.mat-mdc-tab-nav-bar.mat-warn{--mdc-tab-indicator-active-indicator-color: #f44336}.mat-mdc-tab-group.mat-warn,.mat-mdc-tab-nav-bar.mat-warn{--mat-tab-header-disabled-ripple-color: rgba(0, 0, 0, .38);--mat-tab-header-pagination-icon-color: black;--mat-tab-header-inactive-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-active-label-text-color: #f44336;--mat-tab-header-active-ripple-color: #f44336;--mat-tab-header-inactive-ripple-color: #f44336;--mat-tab-header-inactive-focus-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-inactive-hover-label-text-color: rgba(0, 0, 0, .6);--mat-tab-header-active-focus-label-text-color: #f44336;--mat-tab-header-active-hover-label-text-color: #f44336;--mat-tab-header-active-focus-indicator-color: #f44336;--mat-tab-header-active-hover-indicator-color: #f44336}.mat-mdc-tab-group.mat-background-primary,.mat-mdc-tab-nav-bar.mat-background-primary,.mat-mdc-tab-group.mat-background-accent,.mat-mdc-tab-nav-bar.mat-background-accent{--mat-tab-header-with-background-background-color: #444c65;--mat-tab-header-with-background-foreground-color: white}.mat-mdc-tab-group.mat-background-warn,.mat-mdc-tab-nav-bar.mat-background-warn{--mat-tab-header-with-background-background-color: #f44336;--mat-tab-header-with-background-foreground-color: white}.mat-mdc-tab-header{--mdc-secondary-navigation-tab-container-height: 48px}html{--mdc-checkbox-disabled-selected-checkmark-color: #fff;--mdc-checkbox-selected-focus-state-layer-opacity: .16;--mdc-checkbox-selected-hover-state-layer-opacity: .04;--mdc-checkbox-selected-pressed-state-layer-opacity: .16;--mdc-checkbox-unselected-focus-state-layer-opacity: .16;--mdc-checkbox-unselected-hover-state-layer-opacity: .04;--mdc-checkbox-unselected-pressed-state-layer-opacity: .16}html{--mdc-checkbox-disabled-selected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color: white;--mdc-checkbox-selected-focus-icon-color: #444c65;--mdc-checkbox-selected-hover-icon-color: #444c65;--mdc-checkbox-selected-icon-color: #444c65;--mdc-checkbox-selected-pressed-icon-color: #444c65;--mdc-checkbox-unselected-focus-icon-color: #212121;--mdc-checkbox-unselected-hover-icon-color: #212121;--mdc-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color: #444c65;--mdc-checkbox-selected-hover-state-layer-color: #444c65;--mdc-checkbox-selected-pressed-state-layer-color: #444c65;--mdc-checkbox-unselected-focus-state-layer-color: black;--mdc-checkbox-unselected-hover-state-layer-color: black;--mdc-checkbox-unselected-pressed-state-layer-color: black}html{--mat-checkbox-disabled-label-color: rgba(0, 0, 0, .38);--mat-checkbox-label-text-color: rgba(0, 0, 0, .87)}.mat-mdc-checkbox.mat-primary{--mdc-checkbox-disabled-selected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color: white;--mdc-checkbox-selected-focus-icon-color: #444c65;--mdc-checkbox-selected-hover-icon-color: #444c65;--mdc-checkbox-selected-icon-color: #444c65;--mdc-checkbox-selected-pressed-icon-color: #444c65;--mdc-checkbox-unselected-focus-icon-color: #212121;--mdc-checkbox-unselected-hover-icon-color: #212121;--mdc-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color: #444c65;--mdc-checkbox-selected-hover-state-layer-color: #444c65;--mdc-checkbox-selected-pressed-state-layer-color: #444c65;--mdc-checkbox-unselected-focus-state-layer-color: black;--mdc-checkbox-unselected-hover-state-layer-color: black;--mdc-checkbox-unselected-pressed-state-layer-color: black}.mat-mdc-checkbox.mat-warn{--mdc-checkbox-disabled-selected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-disabled-unselected-icon-color: rgba(0, 0, 0, .38);--mdc-checkbox-selected-checkmark-color: white;--mdc-checkbox-selected-focus-icon-color: #f44336;--mdc-checkbox-selected-hover-icon-color: #f44336;--mdc-checkbox-selected-icon-color: #f44336;--mdc-checkbox-selected-pressed-icon-color: #f44336;--mdc-checkbox-unselected-focus-icon-color: #212121;--mdc-checkbox-unselected-hover-icon-color: #212121;--mdc-checkbox-unselected-icon-color: rgba(0, 0, 0, .54);--mdc-checkbox-selected-focus-state-layer-color: #f44336;--mdc-checkbox-selected-hover-state-layer-color: #f44336;--mdc-checkbox-selected-pressed-state-layer-color: #f44336;--mdc-checkbox-unselected-focus-state-layer-color: black;--mdc-checkbox-unselected-hover-state-layer-color: black;--mdc-checkbox-unselected-pressed-state-layer-color: black}html{--mdc-checkbox-state-layer-size: 40px}html{--mat-checkbox-touch-target-display: block}html{--mdc-text-button-container-shape: 4px;--mdc-text-button-keep-touch-target: false}html{--mdc-filled-button-container-shape: 4px;--mdc-filled-button-keep-touch-target: false}html{--mdc-protected-button-container-shape: 4px;--mdc-protected-button-container-elevation-shadow: 0px 3px 1px -2px rgba(0, 0, 0, .2), 0px 2px 2px 0px rgba(0, 0, 0, .14), 0px 1px 5px 0px rgba(0, 0, 0, .12);--mdc-protected-button-disabled-container-elevation-shadow: 0px 0px 0px 0px rgba(0, 0, 0, .2), 0px 0px 0px 0px rgba(0, 0, 0, .14), 0px 0px 0px 0px rgba(0, 0, 0, .12);--mdc-protected-button-focus-container-elevation-shadow: 0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mdc-protected-button-hover-container-elevation-shadow: 0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mdc-protected-button-pressed-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html{--mdc-outlined-button-keep-touch-target: false;--mdc-outlined-button-outline-width: 1px;--mdc-outlined-button-container-shape: 4px}html{--mat-text-button-horizontal-padding: 8px;--mat-text-button-with-icon-horizontal-padding: 8px;--mat-text-button-icon-spacing: 8px;--mat-text-button-icon-offset: 0}html{--mat-filled-button-horizontal-padding: 16px;--mat-filled-button-icon-spacing: 8px;--mat-filled-button-icon-offset: -4px}html{--mat-protected-button-horizontal-padding: 16px;--mat-protected-button-icon-spacing: 8px;--mat-protected-button-icon-offset: -4px}html{--mat-outlined-button-horizontal-padding: 15px;--mat-outlined-button-icon-spacing: 8px;--mat-outlined-button-icon-offset: -4px}html{--mdc-text-button-label-text-color: black;--mdc-text-button-disabled-label-text-color: rgba(0, 0, 0, .38)}html{--mat-text-button-state-layer-color: black;--mat-text-button-disabled-state-layer-color: black;--mat-text-button-ripple-color: rgba(0, 0, 0, .1);--mat-text-button-hover-state-layer-opacity: .04;--mat-text-button-focus-state-layer-opacity: .12;--mat-text-button-pressed-state-layer-opacity: .12}html{--mdc-filled-button-container-color: white;--mdc-filled-button-label-text-color: black;--mdc-filled-button-disabled-container-color: rgba(0, 0, 0, .12);--mdc-filled-button-disabled-label-text-color: rgba(0, 0, 0, .38)}html{--mat-filled-button-state-layer-color: black;--mat-filled-button-disabled-state-layer-color: black;--mat-filled-button-ripple-color: rgba(0, 0, 0, .1);--mat-filled-button-hover-state-layer-opacity: .04;--mat-filled-button-focus-state-layer-opacity: .12;--mat-filled-button-pressed-state-layer-opacity: .12}html{--mdc-protected-button-container-color: white;--mdc-protected-button-label-text-color: black;--mdc-protected-button-disabled-container-color: rgba(0, 0, 0, .12);--mdc-protected-button-disabled-label-text-color: rgba(0, 0, 0, .38)}html{--mat-protected-button-state-layer-color: black;--mat-protected-button-disabled-state-layer-color: black;--mat-protected-button-ripple-color: rgba(0, 0, 0, .1);--mat-protected-button-hover-state-layer-opacity: .04;--mat-protected-button-focus-state-layer-opacity: .12;--mat-protected-button-pressed-state-layer-opacity: .12}html{--mdc-outlined-button-disabled-outline-color: rgba(0, 0, 0, .12);--mdc-outlined-button-disabled-label-text-color: rgba(0, 0, 0, .38);--mdc-outlined-button-label-text-color: black;--mdc-outlined-button-outline-color: rgba(0, 0, 0, .12)}html{--mat-outlined-button-state-layer-color: black;--mat-outlined-button-disabled-state-layer-color: black;--mat-outlined-button-ripple-color: rgba(0, 0, 0, .1);--mat-outlined-button-hover-state-layer-opacity: .04;--mat-outlined-button-focus-state-layer-opacity: .12;--mat-outlined-button-pressed-state-layer-opacity: .12}.mat-mdc-button.mat-primary{--mdc-text-button-label-text-color: #444c65}.mat-mdc-button.mat-primary{--mat-text-button-state-layer-color: #444c65;--mat-text-button-ripple-color: rgba(68, 76, 101, .1)}.mat-mdc-button.mat-accent{--mdc-text-button-label-text-color: #444c65}.mat-mdc-button.mat-accent{--mat-text-button-state-layer-color: #444c65;--mat-text-button-ripple-color: rgba(68, 76, 101, .1)}.mat-mdc-button.mat-warn{--mdc-text-button-label-text-color: #f44336}.mat-mdc-button.mat-warn{--mat-text-button-state-layer-color: #f44336;--mat-text-button-ripple-color: rgba(244, 67, 54, .1)}.mat-mdc-unelevated-button.mat-primary{--mdc-filled-button-container-color: #444c65;--mdc-filled-button-label-text-color: white}.mat-mdc-unelevated-button.mat-primary{--mat-filled-button-state-layer-color: white;--mat-filled-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-unelevated-button.mat-accent{--mdc-filled-button-container-color: #444c65;--mdc-filled-button-label-text-color: white}.mat-mdc-unelevated-button.mat-accent{--mat-filled-button-state-layer-color: white;--mat-filled-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-unelevated-button.mat-warn{--mdc-filled-button-container-color: #f44336;--mdc-filled-button-label-text-color: white}.mat-mdc-unelevated-button.mat-warn{--mat-filled-button-state-layer-color: white;--mat-filled-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-raised-button.mat-primary{--mdc-protected-button-container-color: #444c65;--mdc-protected-button-label-text-color: white}.mat-mdc-raised-button.mat-primary{--mat-protected-button-state-layer-color: white;--mat-protected-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-raised-button.mat-accent{--mdc-protected-button-container-color: #444c65;--mdc-protected-button-label-text-color: white}.mat-mdc-raised-button.mat-accent{--mat-protected-button-state-layer-color: white;--mat-protected-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-raised-button.mat-warn{--mdc-protected-button-container-color: #f44336;--mdc-protected-button-label-text-color: white}.mat-mdc-raised-button.mat-warn{--mat-protected-button-state-layer-color: white;--mat-protected-button-ripple-color: rgba(255, 255, 255, .1)}.mat-mdc-outlined-button.mat-primary{--mdc-outlined-button-label-text-color: #444c65;--mdc-outlined-button-outline-color: rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-primary{--mat-outlined-button-state-layer-color: #444c65;--mat-outlined-button-ripple-color: rgba(68, 76, 101, .1)}.mat-mdc-outlined-button.mat-accent{--mdc-outlined-button-label-text-color: #444c65;--mdc-outlined-button-outline-color: rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-accent{--mat-outlined-button-state-layer-color: #444c65;--mat-outlined-button-ripple-color: rgba(68, 76, 101, .1)}.mat-mdc-outlined-button.mat-warn{--mdc-outlined-button-label-text-color: #f44336;--mdc-outlined-button-outline-color: rgba(0, 0, 0, .12)}.mat-mdc-outlined-button.mat-warn{--mat-outlined-button-state-layer-color: #f44336;--mat-outlined-button-ripple-color: rgba(244, 67, 54, .1)}html{--mdc-text-button-container-height: 36px}html{--mdc-filled-button-container-height: 36px}html{--mdc-protected-button-container-height: 36px}html{--mdc-outlined-button-container-height: 36px}html{--mat-text-button-touch-target-display: block}html{--mat-filled-button-touch-target-display: block}html{--mat-protected-button-touch-target-display: block}html{--mat-outlined-button-touch-target-display: block}html{--mdc-icon-button-icon-size: 24px}html{--mdc-icon-button-icon-color: inherit;--mdc-icon-button-disabled-icon-color: rgba(0, 0, 0, .38)}html{--mat-icon-button-state-layer-color: black;--mat-icon-button-disabled-state-layer-color: black;--mat-icon-button-ripple-color: rgba(0, 0, 0, .1);--mat-icon-button-hover-state-layer-opacity: .04;--mat-icon-button-focus-state-layer-opacity: .12;--mat-icon-button-pressed-state-layer-opacity: .12}html .mat-mdc-icon-button.mat-primary{--mdc-icon-button-icon-color: #444c65}html .mat-mdc-icon-button.mat-primary{--mat-icon-button-state-layer-color: #444c65;--mat-icon-button-ripple-color: rgba(68, 76, 101, .1)}html .mat-mdc-icon-button.mat-accent{--mdc-icon-button-icon-color: #444c65}html .mat-mdc-icon-button.mat-accent{--mat-icon-button-state-layer-color: #444c65;--mat-icon-button-ripple-color: rgba(68, 76, 101, .1)}html .mat-mdc-icon-button.mat-warn{--mdc-icon-button-icon-color: #f44336}html .mat-mdc-icon-button.mat-warn{--mat-icon-button-state-layer-color: #f44336;--mat-icon-button-ripple-color: rgba(244, 67, 54, .1)}html{--mat-icon-button-touch-target-display: block}.mat-mdc-icon-button.mat-mdc-button-base{--mdc-icon-button-state-layer-size: 48px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:12px}html{--mdc-fab-container-shape: 50%;--mdc-fab-container-elevation-shadow: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mdc-fab-focus-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-hover-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-pressed-container-elevation-shadow: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12)}html{--mdc-fab-small-container-shape: 50%;--mdc-fab-small-container-elevation-shadow: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mdc-fab-small-focus-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-small-hover-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-fab-small-pressed-container-elevation-shadow: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12)}html{--mdc-extended-fab-container-height: 48px;--mdc-extended-fab-container-shape: 24px;--mdc-extended-fab-container-elevation-shadow: 0px 3px 5px -1px rgba(0, 0, 0, .2), 0px 6px 10px 0px rgba(0, 0, 0, .14), 0px 1px 18px 0px rgba(0, 0, 0, .12);--mdc-extended-fab-focus-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-extended-fab-hover-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12);--mdc-extended-fab-pressed-container-elevation-shadow: 0px 7px 8px -4px rgba(0, 0, 0, .2), 0px 12px 17px 2px rgba(0, 0, 0, .14), 0px 5px 22px 4px rgba(0, 0, 0, .12)}html{--mdc-fab-container-color: white}html{--mat-fab-foreground-color: black;--mat-fab-state-layer-color: black;--mat-fab-disabled-state-layer-color: black;--mat-fab-ripple-color: rgba(0, 0, 0, .1);--mat-fab-hover-state-layer-opacity: .04;--mat-fab-focus-state-layer-opacity: .12;--mat-fab-pressed-state-layer-opacity: .12;--mat-fab-disabled-state-container-color: rgba(0, 0, 0, .12);--mat-fab-disabled-state-foreground-color: rgba(0, 0, 0, .38)}html{--mdc-fab-small-container-color: white}html{--mat-fab-small-foreground-color: black;--mat-fab-small-state-layer-color: black;--mat-fab-small-disabled-state-layer-color: black;--mat-fab-small-ripple-color: rgba(0, 0, 0, .1);--mat-fab-small-hover-state-layer-opacity: .04;--mat-fab-small-focus-state-layer-opacity: .12;--mat-fab-small-pressed-state-layer-opacity: .12;--mat-fab-small-disabled-state-container-color: rgba(0, 0, 0, .12);--mat-fab-small-disabled-state-foreground-color: rgba(0, 0, 0, .38)}html .mat-mdc-fab.mat-primary{--mdc-fab-container-color: #444c65}html .mat-mdc-fab.mat-primary{--mat-fab-foreground-color: white;--mat-fab-state-layer-color: white;--mat-fab-ripple-color: rgba(255, 255, 255, .1)}html .mat-mdc-fab.mat-accent{--mdc-fab-container-color: #444c65}html .mat-mdc-fab.mat-accent{--mat-fab-foreground-color: white;--mat-fab-state-layer-color: white;--mat-fab-ripple-color: rgba(255, 255, 255, .1)}html .mat-mdc-fab.mat-warn{--mdc-fab-container-color: #f44336}html .mat-mdc-fab.mat-warn{--mat-fab-foreground-color: white;--mat-fab-state-layer-color: white;--mat-fab-ripple-color: rgba(255, 255, 255, .1)}html .mat-mdc-mini-fab.mat-primary{--mdc-fab-small-container-color: #444c65}html .mat-mdc-mini-fab.mat-primary{--mat-fab-small-foreground-color: white;--mat-fab-small-state-layer-color: white;--mat-fab-small-ripple-color: rgba(255, 255, 255, .1)}html .mat-mdc-mini-fab.mat-accent{--mdc-fab-small-container-color: #444c65}html .mat-mdc-mini-fab.mat-accent{--mat-fab-small-foreground-color: white;--mat-fab-small-state-layer-color: white;--mat-fab-small-ripple-color: rgba(255, 255, 255, .1)}html .mat-mdc-mini-fab.mat-warn{--mdc-fab-small-container-color: #f44336}html .mat-mdc-mini-fab.mat-warn{--mat-fab-small-foreground-color: white;--mat-fab-small-state-layer-color: white;--mat-fab-small-ripple-color: rgba(255, 255, 255, .1)}html{--mat-fab-touch-target-display: block}html{--mat-fab-small-touch-target-display: block}html{--mdc-snackbar-container-shape: 4px}html{--mdc-snackbar-container-color: #333333;--mdc-snackbar-supporting-text-color: rgba(255, 255, 255, .87)}html{--mat-snack-bar-button-color: #d1daef}html{--mat-table-row-item-outline-width: 1px}html{--mat-table-background-color: white;--mat-table-header-headline-color: rgba(0, 0, 0, .87);--mat-table-row-item-label-text-color: rgba(0, 0, 0, .87);--mat-table-row-item-outline-color: rgba(0, 0, 0, .12)}html{--mat-table-header-container-height: 56px;--mat-table-footer-container-height: 52px;--mat-table-row-item-container-height: 52px}html{--mdc-circular-progress-active-indicator-width: 4px;--mdc-circular-progress-size: 48px}html,html .mat-accent{--mdc-circular-progress-active-indicator-color: #444c65}html .mat-warn{--mdc-circular-progress-active-indicator-color: #f44336}html{--mat-badge-container-shape: 50%;--mat-badge-container-size: unset;--mat-badge-small-size-container-size: unset;--mat-badge-large-size-container-size: unset;--mat-badge-legacy-container-size: 22px;--mat-badge-legacy-small-size-container-size: 16px;--mat-badge-legacy-large-size-container-size: 28px;--mat-badge-container-offset: -11px 0;--mat-badge-small-size-container-offset: -8px 0;--mat-badge-large-size-container-offset: -14px 0;--mat-badge-container-overlap-offset: -11px;--mat-badge-small-size-container-overlap-offset: -8px;--mat-badge-large-size-container-overlap-offset: -14px;--mat-badge-container-padding: 0;--mat-badge-small-size-container-padding: 0;--mat-badge-large-size-container-padding: 0}html{--mat-badge-background-color: #444c65;--mat-badge-text-color: white;--mat-badge-disabled-state-background-color: #b9b9b9;--mat-badge-disabled-state-text-color: rgba(0, 0, 0, .38)}.mat-badge-accent{--mat-badge-background-color: #444c65;--mat-badge-text-color: white}.mat-badge-warn{--mat-badge-background-color: #f44336;--mat-badge-text-color: white}html{--mat-bottom-sheet-container-shape: 4px}html{--mat-bottom-sheet-container-text-color: rgba(0, 0, 0, .87);--mat-bottom-sheet-container-background-color: white}html{--mat-legacy-button-toggle-height: 36px;--mat-legacy-button-toggle-shape: 2px;--mat-legacy-button-toggle-focus-state-layer-opacity: 1}html{--mat-standard-button-toggle-shape: 4px;--mat-standard-button-toggle-hover-state-layer-opacity: .04;--mat-standard-button-toggle-focus-state-layer-opacity: .12}html{--mat-legacy-button-toggle-text-color: rgba(0, 0, 0, .38);--mat-legacy-button-toggle-state-layer-color: rgba(0, 0, 0, .12);--mat-legacy-button-toggle-selected-state-text-color: rgba(0, 0, 0, .54);--mat-legacy-button-toggle-selected-state-background-color: #e0e0e0;--mat-legacy-button-toggle-disabled-state-text-color: rgba(0, 0, 0, .26);--mat-legacy-button-toggle-disabled-state-background-color: #eeeeee;--mat-legacy-button-toggle-disabled-selected-state-background-color: #bdbdbd}html{--mat-standard-button-toggle-text-color: rgba(0, 0, 0, .87);--mat-standard-button-toggle-background-color: white;--mat-standard-button-toggle-state-layer-color: black;--mat-standard-button-toggle-selected-state-background-color: #e0e0e0;--mat-standard-button-toggle-selected-state-text-color: rgba(0, 0, 0, .87);--mat-standard-button-toggle-disabled-state-text-color: rgba(0, 0, 0, .26);--mat-standard-button-toggle-disabled-state-background-color: white;--mat-standard-button-toggle-disabled-selected-state-text-color: rgba(0, 0, 0, .87);--mat-standard-button-toggle-disabled-selected-state-background-color: #bdbdbd;--mat-standard-button-toggle-divider-color: rgb(224.4, 224.4, 224.4)}html{--mat-standard-button-toggle-height: 48px}html{--mat-datepicker-calendar-container-shape: 4px;--mat-datepicker-calendar-container-touch-shape: 4px;--mat-datepicker-calendar-container-elevation-shadow: 0px 2px 4px -1px rgba(0, 0, 0, .2), 0px 4px 5px 0px rgba(0, 0, 0, .14), 0px 1px 10px 0px rgba(0, 0, 0, .12);--mat-datepicker-calendar-container-touch-elevation-shadow: 0px 11px 15px -7px rgba(0, 0, 0, .2), 0px 24px 38px 3px rgba(0, 0, 0, .14), 0px 9px 46px 8px rgba(0, 0, 0, .12)}html{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #444c65;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(68, 76, 101, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(68, 76, 101, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(68, 76, 101, .3);--mat-datepicker-toggle-active-state-icon-color: #444c65;--mat-datepicker-calendar-date-in-range-state-background-color: rgba(68, 76, 101, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: rgb(69.5241935484, 163.4758064516, 93.9516129032);--mat-datepicker-toggle-icon-color: rgba(0, 0, 0, .54);--mat-datepicker-calendar-body-label-text-color: rgba(0, 0, 0, .54);--mat-datepicker-calendar-period-button-text-color: black;--mat-datepicker-calendar-period-button-icon-color: rgba(0, 0, 0, .54);--mat-datepicker-calendar-navigation-button-icon-color: rgba(0, 0, 0, .54);--mat-datepicker-calendar-header-divider-color: rgba(0, 0, 0, .12);--mat-datepicker-calendar-header-text-color: rgba(0, 0, 0, .54);--mat-datepicker-calendar-date-today-outline-color: rgba(0, 0, 0, .38);--mat-datepicker-calendar-date-today-disabled-state-outline-color: rgba(0, 0, 0, .18);--mat-datepicker-calendar-date-text-color: rgba(0, 0, 0, .87);--mat-datepicker-calendar-date-outline-color: transparent;--mat-datepicker-calendar-date-disabled-state-text-color: rgba(0, 0, 0, .38);--mat-datepicker-calendar-date-preview-state-outline-color: rgba(0, 0, 0, .24);--mat-datepicker-range-input-separator-color: rgba(0, 0, 0, .87);--mat-datepicker-range-input-disabled-state-separator-color: rgba(0, 0, 0, .38);--mat-datepicker-range-input-disabled-state-text-color: rgba(0, 0, 0, .38);--mat-datepicker-calendar-container-background-color: white;--mat-datepicker-calendar-container-text-color: rgba(0, 0, 0, .87)}.mat-datepicker-content.mat-accent{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #444c65;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(68, 76, 101, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(68, 76, 101, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(68, 76, 101, .3);--mat-datepicker-calendar-date-in-range-state-background-color: rgba(68, 76, 101, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: rgb(69.5241935484, 163.4758064516, 93.9516129032)}.mat-datepicker-content.mat-warn{--mat-datepicker-calendar-date-selected-state-text-color: white;--mat-datepicker-calendar-date-selected-state-background-color: #f44336;--mat-datepicker-calendar-date-selected-disabled-state-background-color: rgba(244, 67, 54, .4);--mat-datepicker-calendar-date-today-selected-state-outline-color: white;--mat-datepicker-calendar-date-focus-state-background-color: rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-hover-state-background-color: rgba(244, 67, 54, .3);--mat-datepicker-calendar-date-in-range-state-background-color: rgba(244, 67, 54, .2);--mat-datepicker-calendar-date-in-comparison-range-state-background-color: rgba(249, 171, 0, .2);--mat-datepicker-calendar-date-in-overlap-range-state-background-color: #a8dab5;--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color: rgb(69.5241935484, 163.4758064516, 93.9516129032)}.mat-datepicker-toggle-active.mat-accent{--mat-datepicker-toggle-active-state-icon-color: #444c65}.mat-datepicker-toggle-active.mat-warn{--mat-datepicker-toggle-active-state-icon-color: #f44336}.mat-calendar-controls{--mat-icon-button-touch-target-display: none}.mat-calendar-controls .mat-mdc-icon-button.mat-mdc-button-base{--mdc-icon-button-state-layer-size: 40px;width:var(--mdc-icon-button-state-layer-size);height:var(--mdc-icon-button-state-layer-size);padding:8px}html{--mat-divider-width: 1px}html{--mat-divider-color: rgba(0, 0, 0, .12)}html{--mat-expansion-container-shape: 4px;--mat-expansion-legacy-header-indicator-display: inline-block;--mat-expansion-header-indicator-display: none}html{--mat-expansion-container-background-color: white;--mat-expansion-container-text-color: rgba(0, 0, 0, .87);--mat-expansion-actions-divider-color: rgba(0, 0, 0, .12);--mat-expansion-header-hover-state-layer-color: rgba(0, 0, 0, .04);--mat-expansion-header-focus-state-layer-color: rgba(0, 0, 0, .04);--mat-expansion-header-disabled-state-text-color: rgba(0, 0, 0, .26);--mat-expansion-header-text-color: rgba(0, 0, 0, .87);--mat-expansion-header-description-color: rgba(0, 0, 0, .54);--mat-expansion-header-indicator-color: rgba(0, 0, 0, .54)}html{--mat-expansion-header-collapsed-state-height: 48px;--mat-expansion-header-expanded-state-height: 64px}html{--mat-icon-color: inherit}.mat-icon.mat-primary,.mat-icon.mat-accent{--mat-icon-color: #444c65}.mat-icon.mat-warn{--mat-icon-color: #f44336}html{--mat-sidenav-container-shape: 0;--mat-sidenav-container-elevation-shadow: 0px 8px 10px -5px rgba(0, 0, 0, .2), 0px 16px 24px 2px rgba(0, 0, 0, .14), 0px 6px 30px 5px rgba(0, 0, 0, .12);--mat-sidenav-container-width: auto}html{--mat-sidenav-container-divider-color: rgba(0, 0, 0, .12);--mat-sidenav-container-background-color: white;--mat-sidenav-container-text-color: rgba(0, 0, 0, .87);--mat-sidenav-content-background-color: #fafafa;--mat-sidenav-content-text-color: rgba(0, 0, 0, .87);--mat-sidenav-scrim-color: rgba(0, 0, 0, .6)}html{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #444c65;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #444c65;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #444c65;--mat-stepper-header-edit-state-icon-foreground-color: white;--mat-stepper-container-color: white;--mat-stepper-line-color: rgba(0, 0, 0, .12);--mat-stepper-header-hover-state-layer-color: rgba(0, 0, 0, .04);--mat-stepper-header-focus-state-layer-color: rgba(0, 0, 0, .04);--mat-stepper-header-label-text-color: rgba(0, 0, 0, .54);--mat-stepper-header-optional-label-text-color: rgba(0, 0, 0, .54);--mat-stepper-header-selected-state-label-text-color: rgba(0, 0, 0, .87);--mat-stepper-header-error-state-label-text-color: #f44336;--mat-stepper-header-icon-background-color: rgba(0, 0, 0, .54);--mat-stepper-header-error-state-icon-foreground-color: #f44336;--mat-stepper-header-error-state-icon-background-color: transparent}html .mat-step-header.mat-accent{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #444c65;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #444c65;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #444c65;--mat-stepper-header-edit-state-icon-foreground-color: white}html .mat-step-header.mat-warn{--mat-stepper-header-icon-foreground-color: white;--mat-stepper-header-selected-state-icon-background-color: #f44336;--mat-stepper-header-selected-state-icon-foreground-color: white;--mat-stepper-header-done-state-icon-background-color: #f44336;--mat-stepper-header-done-state-icon-foreground-color: white;--mat-stepper-header-edit-state-icon-background-color: #f44336;--mat-stepper-header-edit-state-icon-foreground-color: white}html{--mat-stepper-header-height: 72px}html{--mat-sort-arrow-color: rgb(117.3, 117.3, 117.3)}html{--mat-toolbar-container-background-color: whitesmoke;--mat-toolbar-container-text-color: rgba(0, 0, 0, .87)}.mat-toolbar.mat-primary,.mat-toolbar.mat-accent{--mat-toolbar-container-background-color: #444c65;--mat-toolbar-container-text-color: white}.mat-toolbar.mat-warn{--mat-toolbar-container-background-color: #f44336;--mat-toolbar-container-text-color: white}html{--mat-toolbar-standard-height: 64px;--mat-toolbar-mobile-height: 56px}html{--mat-tree-container-background-color: white;--mat-tree-node-text-color: rgba(0, 0, 0, .87)}html{--mat-tree-node-min-height: 48px}html{--mat-timepicker-container-shape: 4px;--mat-timepicker-container-elevation-shadow: 0px 5px 5px -3px rgba(0, 0, 0, .2), 0px 8px 10px 1px rgba(0, 0, 0, .14), 0px 3px 14px 2px rgba(0, 0, 0, .12)}html{--mat-timepicker-container-background-color: white}html{box-sizing:border-box}*,*:before,*:after{box-sizing:inherit}html,body{height:100%;background-color:#fafafa;scroll-behavior:smooth}body{margin:0;font-family:Inter,sans-serif;font-style:normal}a:-webkit-any-link{color:#054f89;cursor:pointer;text-decoration:none;font-weight:500}.content-title{font-weight:300;font-size:1.5rem}.release-title{font-size:28px;line-height:42px;font-weight:300}.page-data{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem}.accuracy-prizes{font-weight:400;font-size:1.25rem;line-height:1.5rem;padding-bottom:1rem;padding-top:1.5rem}.list-links{font-weight:500;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;color:#054f89}.list-links:hover{text-decoration:underline;text-decoration-thickness:2px}.mb-2r{margin-bottom:2rem}.description{margin-bottom:5rem}.button-container{margin-bottom:2.5rem}.page-title{font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005rem;padding-top:2rem;padding-bottom:1rem}.hra-bold{font-weight:500}strong{font-weight:400;font-weight:500}.page-header{display:block;margin-top:3.5rem;margin-bottom:1.5rem}.datasets{font-size:1rem;line-height:.5rem;flex-basis:0%;padding-bottom:2rem;min-width:200px;letter-spacing:.005rem;flex-grow:1}@media (max-width: 28.75rem){.datasets{text-align:center}}@media (max-width: 38.5rem){.landing-title{font-size:1.75rem!important}.landing-subtitle{font-size:1.25rem!important;line-height:1.5rem!important}.landing-img{width:48px!important;height:112px!important;max-height:unset!important}.card-title{font-size:1.375rem!important;margin-bottom:1rem!important}}@media (max-width: 80rem){.page-title{font-size:1.75rem}}:root{--swiper-navigation-size: .6rem;--swiper-theme-color: #444a65}.carousel{min-height:30.5rem;margin-bottom:1rem}.carousel .slide{display:grid;grid-template-columns:24rem auto;grid-template-areas:"info image"}.carousel .slide-image{display:block;grid-area:image}.carousel .slide-image img{width:100%}.carousel .slide-info{grid-area:info;margin-right:.5rem}.carousel .swiper-slide{width:unset;min-width:unset;max-width:unset}.carousel .content-titles{font-weight:300;font-size:1.75rem;margin-bottom:1rem;line-height:2.625rem;letter-spacing:.25px}.carousel .content-body{font-weight:300;font-size:1rem;line-height:1.5rem;padding-bottom:1rem;letter-spacing:.005em}.carousel .swiper-horizontal>.swiper-pagination-bullets,.carousel .swiper-pagination-bullets.swiper-pagination-horizontal{width:unset;left:20px;bottom:0;position:absolute;display:inline-flex;z-index:2}.carousel .swiper-pagination-bullet-active{background-color:#444a65!important;box-sizing:border-box;width:1rem;height:1rem}.carousel .swiper-pagination-bullet{border:.125rem solid #444a65!important;box-sizing:border-box;width:1rem;height:1rem;background:unset;opacity:unset;border-radius:50%}.carousel .swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.carousel .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0rem .5rem}.carousel .get-button{display:flex;align-items:center;justify-content:center;width:fit-content;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;letter-spacing:0;margin-bottom:2rem}.carousel .swiper-button-prev{position:absolute;top:97%;color:#444a65;left:.313rem;background-image:url(swiper_left.svg);background-repeat:no-repeat;background-size:100% auto;background-position:center;width:6.59px;height:11.17px}.carousel .swiper-button-prev:hover{outline:.3rem solid rgba(0,0,0,.04);background-color:#0000000a;border-radius:.25rem}.carousel .swiper-button-next{position:absolute;top:97%;left:13%;color:#444a65;background-image:url(swiper_right.svg);background-repeat:no-repeat;background-size:100% auto;background-position:center;width:6.59px;height:11.17px;z-index:1000}.carousel .swiper-button-next:hover{outline:.3rem solid rgba(0,0,0,.04);background-color:#0000000a;border-radius:.25rem}.carousel .swiper-pagination-bullet:not(.swiper-pagination-bullet-active):hover{outline:.3rem solid rgba(0,0,0,.04);background-color:#0000000a}.carousel .swiper-slide:not(.swiper-slide-visible){visibility:hidden}.carousel .swiper-slide-active{z-index:1000}@media (max-width: 75rem){.carousel .swiper-button-next{right:calc(100vw - 196px);left:unset}}@media (max-width: 38.5rem){.carousel .slide-image{width:100%;max-height:216px;margin-bottom:1rem}.carousel .slide-image img{height:100%}.carousel .slide{grid-template-columns:1fr;grid-template-rows:1fr 1fr;grid-template-areas:"image" "info"}.carousel .swiper-button-prev{top:97.5%}.carousel .swiper-button-next{left:unset;right:calc(100vw - 302px);top:97.5%}.carousel .swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.carousel .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0rem 1.3rem}.carousel .swiper-horizontal>.swiper-pagination-bullets,.carousel .swiper-pagination-bullets.swiper-pagination-horizontal{width:unset;left:19px}}@media (max-width: 26.125rem){.carousel .swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.carousel .swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0rem 1rem}.carousel .swiper-button-next{left:15rem;right:unset}.carousel .swiper-horizontal>.swiper-pagination-bullets,.carousel .swiper-pagination-bullets.swiper-pagination-horizontal{width:unset;left:29px;bottom:3px}}\n'],encapsulation:2})}}return r})();function M2e(r,n){if(1&r&&(Y(0,"mat-card",1)(1,"mat-card-content"),Te(2,"img",2),Y(3,"p",3),ce(4),W(),Y(5,"p",4),ce(6),W()()()),2&r){const i=n.$implicit;L(2),j("src",i.image,wn)("alt",i.alt),L(2),Ut(i.count),L(2),Ut(i.text)}}let S2e=(()=>{class r{constructor(){this.cardInformation=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["count-info-card"]],inputs:{cardInformation:"cardInformation"},standalone:!1,decls:1,vars:1,consts:[["class","count-card",4,"ngFor","ngForOf"],[1,"count-card"],[3,"src","alt"],[1,"card-count"],[1,"card-text"]],template:function(s,a){1&s&&ge(0,M2e,7,4,"mat-card",0),2&s&&j("ngForOf",a.cardInformation)},dependencies:[Ji,Ca,dg],styles:["[_nghost-%COMP%]{display:flex;font-weight:300;flex-wrap:wrap}[_nghost-%COMP%]   .count-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;height:11.5rem;width:7.6rem;justify-content:center;border:.0625rem solid #e0e0e0;box-shadow:0 .125rem .0625rem #00000029;border-radius:.25rem;margin-right:1rem;margin-bottom:1rem;padding:unset}[_nghost-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]:last-child{margin-right:unset}[_nghost-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{height:2.5rem;width:2.3125rem;margin-top:1.5rem;margin-bottom:1rem}[_nghost-%COMP%]   .card-count[_ngcontent-%COMP%]{font-size:1.5rem;line-height:1.5rem;text-align:center;margin:0}[_nghost-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:.875rem;padding:0rem .5rem;margin:0}@media (max-width: 80rem){[_nghost-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;width:unset}[_nghost-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{width:unset;margin-right:.5rem;margin-bottom:.5rem}[_nghost-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]:nth-child(3n){margin-right:unset}}@media (max-width: 25.125rem){[_nghost-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{height:14rem}}"]})}}return r})();const I2e=r=>["",r];function T2e(r,n){if(1&r&&(Y(0,"mat-card",1)(1,"div",2),Te(2,"img",3)(3,"img",4),W(),Y(4,"mat-card-content")(5,"p",5),ce(6),W(),Y(7,"p",6),ce(8),W()()()),2&r){const i=n.$implicit;L(),j("routerLink",ra(5,I2e,i.route)),L(),j("src",i.image,wn),L(),j("src",i.gif,wn),L(3),Ut(i.title),L(2),Ut(i.description)}}let D2e=(()=>{class r{constructor(){this.cards=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-section-card"]],inputs:{cards:"cards"},standalone:!1,decls:1,vars:1,consts:[["class","card-button",4,"ngFor","ngForOf"],[1,"card-button"],[1,"image-container",3,"routerLink"],["alt","Images of Card",1,"static",3,"src"],["alt","Images of Card",1,"gif",3,"src"],[1,"nav-card-title"],[1,"section-card-description"]],template:function(s,a){1&s&&ge(0,T2e,9,7,"mat-card",0),2&s&&j("ngForOf",a.cards)},dependencies:[Ca,dg,Ji,oc],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;line-height:normal;flex-wrap:wrap;justify-content:space-between}[_nghost-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{padding:0rem}[_nghost-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:2.21875rem 2rem}[_nghost-%COMP%]   .card-button[_ngcontent-%COMP%]{flex-direction:column;margin-bottom:2rem;cursor:pointer;display:flex;height:28rem;width:37.3125rem}[_nghost-%COMP%]   .card-button[_ngcontent-%COMP%]:hover{box-shadow:0 .25rem .5rem #0003,0 .375rem 1.25rem #00000030}[_nghost-%COMP%]   .nav-card-title[_ngcontent-%COMP%]{font-size:1.125rem;letter-spacing:.5%;color:#054f89;font-weight:400;line-height:1.5rem;text-decoration:none;margin:0;margin-bottom:.5rem}[_nghost-%COMP%]   .section-card-description[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;margin:0}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .static[_ngcontent-%COMP%], [_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:99.7%;height:20rem;border:solid 1px #e0e0e0;border-top-left-radius:.25rem;border-top-right-radius:.25rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:hover   .static[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]:hover   .gif[_ngcontent-%COMP%]{display:unset}@media (max-width: 26.75rem){[_nghost-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:1.5rem 2rem}[_nghost-%COMP%]   .card-button[_ngcontent-%COMP%]{width:auto;height:auto}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   .static[_ngcontent-%COMP%]{height:13rem}}"]})}}return r})();var P2e=th(262);let Uq=(()=>{class r{constructor(i){this.http=i}getData(i,s){const a={header:!0,dynamicTyping:!0,skipEmptyLines:"greedy"};return this.http.get(`assets/table-data/${i}`,{responseType:"text"}).pipe(je(u=>(0,P2e.parse)(u,a))).pipe(je(u=>({columns:this.filterColumns(u.meta.fields??[],s),data:u.data}))).pipe(MP(1))}filterColumns(i,s){const a=new Set(s);return i.filter(l=>a.has(l))}static{this.\u0275fac=function(s){return new(s||r)($e(Bh))}}static{this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),V2e=(()=>{class r{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r})}return r})();const H2e=new se("MatFormField");let fO=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,n7,ci]})}return r})();class SE{}function IE(r){return r&&"function"==typeof r.connect&&!(r instanceof qk)}var hd=function(r){return r[r.REPLACED=0]="REPLACED",r[r.INSERTED=1]="INSERTED",r[r.MOVED=2]="MOVED",r[r.REMOVED=3]="REMOVED",r}(hd||{});const Pb=new se("_ViewRepeater");class zq{applyChanges(n,i,s,a,l){n.forEachOperation((c,d,u)=>{let h,f;if(null==c.previousIndex){const p=s(c,d,u);h=i.createEmbeddedView(p.templateRef,p.context,p.index),f=hd.INSERTED}else null==u?(i.remove(d),f=hd.REMOVED):(h=i.get(d),i.move(h,u),f=hd.MOVED);l&&l({context:h?.context,operation:f,record:c})})}detach(){}}class pO{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Qe;constructor(n=!1,i,s=!0,a){this._multiple=n,this._emitChanges=s,this.compareWith=a,i&&i.length&&(n?i.forEach(l=>this._markSelected(l)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(s=>this._markSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...n){this._verifyValueAssignment(n),n.forEach(s=>this._unmarkSelected(s));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...n){this._verifyValueAssignment(n);const i=this.selected,s=new Set(n.map(l=>this._getConcreteValue(l)));n.forEach(l=>this._markSelected(l)),i.filter(l=>!s.has(this._getConcreteValue(l,s))).forEach(l=>this._unmarkSelected(l));const a=this._hasQueuedChanges();return this._emitChangeEvent(),a}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();const i=this._hasQueuedChanges();return n&&this._emitChangeEvent(),i}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(n,i){if(this.compareWith){i=i??this._selection;for(let s of i)if(this.compareWith(n,s))return s;return n}return n}}function gO(r){return null==r||0===_O(r)}function _O(r){return null==r?null:Array.isArray(r)||"string"==typeof r?r.length:r instanceof Set?r.size:null}const to=new se(""),Su=new se(""),W2e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class q2e{static min(n){return function $q(r){return n=>{if(null==n.value||null==r)return null;const i=parseFloat(n.value);return!isNaN(i)&&i<r?{min:{min:r,actual:n.value}}:null}}(n)}static max(n){return function Qq(r){return n=>{if(null==n.value||null==r)return null;const i=parseFloat(n.value);return!isNaN(i)&&i>r?{max:{max:r,actual:n.value}}:null}}(n)}static required(n){return function jq(r){return gO(r.value)?{required:!0}:null}(n)}static requiredTrue(n){return function Wq(r){return!0===r.value?null:{required:!0}}(n)}static email(n){return function qq(r){return gO(r.value)||W2e.test(r.value)?null:{email:!0}}(n)}static minLength(n){return function Yq(r){return n=>{const i=n.value?.length??_O(n.value);return null===i||0===i?null:i<r?{minlength:{requiredLength:r,actualLength:i}}:null}}(n)}static maxLength(n){return function Xq(r){return n=>{const i=n.value?.length??_O(n.value);return null!==i&&i>r?{maxlength:{requiredLength:r,actualLength:i}}:null}}(n)}static pattern(n){return function Kq(r){if(!r)return TE;let n,i;return"string"==typeof r?(i="","^"!==r.charAt(0)&&(i+="^"),i+=r,"$"!==r.charAt(r.length-1)&&(i+="$"),n=new RegExp(i)):(i=r.toString(),n=r),s=>{if(gO(s.value))return null;const a=s.value;return n.test(a)?null:{pattern:{requiredPattern:i,actualValue:a}}}}(n)}static nullValidator(n){return null}static compose(n){return iY(n)}static composeAsync(n){return rY(n)}}function TE(r){return null}function Zq(r){return null!=r}function Jq(r){return Zy(r)?$r(r):r}function eY(r){let n={};return r.forEach(i=>{n=null!=i?{...n,...i}:n}),0===Object.keys(n).length?null:n}function tY(r,n){return n.map(i=>i(r))}function nY(r){return r.map(n=>function Y2e(r){return!r.validate}(n)?n:i=>n.validate(i))}function iY(r){if(!r)return null;const n=r.filter(Zq);return 0==n.length?null:function(i){return eY(tY(i,n))}}function yO(r){return null!=r?iY(nY(r)):null}function rY(r){if(!r)return null;const n=r.filter(Zq);return 0==n.length?null:function(i){return L7(tY(i,n).map(Jq)).pipe(je(eY))}}function vO(r){return null!=r?rY(nY(r)):null}function sY(r,n){return null===r?[n]:Array.isArray(r)?[...r,n]:[r,n]}function oY(r){return r._rawValidators}function aY(r){return r._rawAsyncValidators}function bO(r){return r?Array.isArray(r)?r:[r]:[]}function DE(r,n){return Array.isArray(r)?r.includes(n):r===n}function lY(r,n){const i=bO(n);return bO(r).forEach(a=>{DE(i,a)||i.push(a)}),i}function cY(r,n){return bO(n).filter(i=>!DE(r,i))}class dY{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=yO(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=vO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,i){return!!this.control&&this.control.hasError(n,i)}getError(n,i){return this.control?this.control.getError(n,i):null}}class Oo extends dY{name;get formDirective(){return null}get path(){return null}}class fd extends dY{_parent=null;name=null;valueAccessor=null}const Fb="VALID",kE="INVALID",mg="PENDING",Ob="DISABLED";class gg{}class fY extends gg{value;source;constructor(n,i){super(),this.value=n,this.source=i}}class wO extends gg{pristine;source;constructor(n,i){super(),this.pristine=n,this.source=i}}class CO extends gg{touched;source;constructor(n,i){super(),this.touched=n,this.source=i}}class PE extends gg{status;source;constructor(n,i){super(),this.status=n,this.source=i}}class rNe extends gg{source;constructor(n){super(),this.source=n}}class sNe extends gg{source;constructor(n){super(),this.source=n}}function EO(r){return(FE(r)?r.validators:r)||null}function MO(r,n){return(FE(n)?n.asyncValidators:r)||null}function FE(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class SO{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,i){this._assignValidators(n),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Gr(this.statusReactive)}set status(n){Gr(()=>this.statusReactive.set(n))}_status=Zl(()=>this.statusReactive());statusReactive=ga(void 0);get valid(){return this.status===Fb}get invalid(){return this.status===kE}get pending(){return this.status==mg}get disabled(){return this.status===Ob}get enabled(){return this.status!==Ob}errors;get pristine(){return Gr(this.pristineReactive)}set pristine(n){Gr(()=>this.pristineReactive.set(n))}_pristine=Zl(()=>this.pristineReactive());pristineReactive=ga(!0);get dirty(){return!this.pristine}get touched(){return Gr(this.touchedReactive)}set touched(n){Gr(()=>this.touchedReactive.set(n))}_touched=Zl(()=>this.touchedReactive());touchedReactive=ga(!1);get untouched(){return!this.touched}_events=new Qe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(lY(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(lY(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(cY(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(cY(n,this._rawAsyncValidators))}hasValidator(n){return DE(this._rawValidators,n)}hasAsyncValidator(n){return DE(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const i=!1===this.touched;this.touched=!0;const s=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:s}),i&&!1!==n.emitEvent&&this._events.next(new CO(!0,s))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(n))}markAsUntouched(n={}){const i=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const s=n.sourceControl??this;this._forEachChild(a=>{a.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:s})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,s),i&&!1!==n.emitEvent&&this._events.next(new CO(!1,s))}markAsDirty(n={}){const i=!0===this.pristine;this.pristine=!1;const s=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:s}),i&&!1!==n.emitEvent&&this._events.next(new wO(!1,s))}markAsPristine(n={}){const i=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const s=n.sourceControl??this;this._forEachChild(a=>{a.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,s),i&&!1!==n.emitEvent&&this._events.next(new wO(!0,s))}markAsPending(n={}){this.status=mg;const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new PE(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:i})}disable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=Ob,this.errors=null,this._forEachChild(a=>{a.disable({...n,onlySelf:!0})}),this._updateValue();const s=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new fY(this.value,s)),this._events.next(new PE(this.status,s)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:i},this),this._onDisabledChange.forEach(a=>a(!0))}enable(n={}){const i=this._parentMarkedDirty(n.onlySelf);this.status=Fb,this._forEachChild(s=>{s.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:i},this),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(n,i){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const s=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fb||this.status===mg)&&this._runAsyncValidator(s,n.emitEvent)}const i=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new fY(this.value,i)),this._events.next(new PE(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:i})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ob:Fb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,i){if(this.asyncValidator){this.status=mg,this._hasOwnPendingAsyncValidator={emitEvent:!1!==i};const s=Jq(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(a=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(a,{emitEvent:i,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,i={}){this.errors=n,this._updateControlsErrors(!1!==i.emitEvent,this,i.shouldHaveEmitted)}get(n){let i=n;return null==i||(Array.isArray(i)||(i=i.split(".")),0===i.length)?null:i.reduce((s,a)=>s&&s._find(a),this)}getError(n,i){const s=i?this.get(i):this;return s&&s.errors?s.errors[n]:null}hasError(n,i){return!!this.getError(n,i)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,i,s){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||s)&&this._events.next(new PE(this.status,i)),this._parent&&this._parent._updateControlsErrors(n,i,s)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?Ob:this.errors?kE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mg)?mg:this._anyControlsHaveStatus(kE)?kE:Fb}_anyControlsHaveStatus(n){return this._anyControls(i=>i.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,i){const s=!this._anyControlsDirty(),a=this.pristine!==s;this.pristine=s,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),a&&this._events.next(new wO(this.pristine,i))}_updateTouched(n={},i){this.touched=this._anyControlsTouched(),this._events.next(new CO(this.touched,i)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){FE(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function oNe(r){return Array.isArray(r)?yO(r):r||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function aNe(r){return Array.isArray(r)?vO(r):r||null}(this._rawAsyncValidators)}}class IO extends SO{constructor(n,i,s){super(EO(i),MO(s,i)),this.controls=n,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,i){return this.controls[n]?this.controls[n]:(this.controls[n]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(n,i,s={}){this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(n,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(n,i,s={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],i&&this.registerControl(n,i),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,i={}){(function mY(r,n,i){r._forEachChild((s,a)=>{if(void 0===i[a])throw new ee(1002,"")})})(this,0,n),Object.keys(n).forEach(s=>{(function pY(r,n,i){const s=r.controls;if(!(n?Object.keys(s):s).length)throw new ee(1e3,"");if(!s[i])throw new ee(1001,"")})(this,!0,s),this.controls[s].setValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(n,i={}){null!=n&&(Object.keys(n).forEach(s=>{const a=this.controls[s];a&&a.patchValue(n[s],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(n={},i={}){this._forEachChild((s,a)=>{s.reset(n?n[a]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(n,i,s)=>(n[s]=i.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(i,s)=>!!s._syncPendingControls()||i);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(i=>{const s=this.controls[i];s&&n(s,i)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[i,s]of Object.entries(this.controls))if(this.contains(i)&&n(s))return!0;return!1}_reduceValue(){return this._reduceChildren({},(i,s,a)=>((s.enabled||this.disabled)&&(i[a]=s.value),i))}_reduceChildren(n,i){let s=n;return this._forEachChild((a,l)=>{s=i(s,a,l)}),s}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}const Nb=new se("",{providedIn:"root",factory:()=>TO}),TO="always";function Bb(r,n,i=TO){DO(r,n),n.valueAccessor.writeValue(r.value),(r.disabled||"always"===i)&&n.valueAccessor.setDisabledState?.(r.disabled),function dNe(r,n){n.valueAccessor.registerOnChange(i=>{r._pendingValue=i,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&gY(r,n)})}(r,n),function hNe(r,n){const i=(s,a)=>{n.valueAccessor.writeValue(s),a&&n.viewToModelUpdate(s)};r.registerOnChange(i),n._registerOnDestroy(()=>{r._unregisterOnChange(i)})}(r,n),function uNe(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&gY(r,n),"submit"!==r.updateOn&&r.markAsTouched()})}(r,n),function cNe(r,n){if(n.valueAccessor.setDisabledState){const i=s=>{n.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(i),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(i)})}}(r,n)}function NE(r,n,i=!0){const s=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(s),n.valueAccessor.registerOnTouched(s)),LE(r,n),r&&(n._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function BE(r,n){r.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(n)})}function DO(r,n){const i=oY(r);null!==n.validator?r.setValidators(sY(i,n.validator)):"function"==typeof i&&r.setValidators([i]);const s=aY(r);null!==n.asyncValidator?r.setAsyncValidators(sY(s,n.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const a=()=>r.updateValueAndValidity();BE(n._rawValidators,a),BE(n._rawAsyncValidators,a)}function LE(r,n){let i=!1;if(null!==r){if(null!==n.validator){const a=oY(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(c=>c!==n.validator);l.length!==a.length&&(i=!0,r.setValidators(l))}}if(null!==n.asyncValidator){const a=aY(r);if(Array.isArray(a)&&a.length>0){const l=a.filter(c=>c!==n.asyncValidator);l.length!==a.length&&(i=!0,r.setAsyncValidators(l))}}}const s=()=>{};return BE(n._rawValidators,s),BE(n._rawAsyncValidators,s),i}function gY(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function _Y(r,n){DO(r,n)}function yY(r,n){r._syncPendingControls(),n.forEach(i=>{const s=i.control;"submit"===s.updateOn&&s._pendingChange&&(i.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}const _Ne={provide:Oo,useExisting:Ui(()=>Ub)},Lb=Promise.resolve();let Ub=(()=>{class r extends Oo{callSetDisabledState;get submitted(){return Gr(this.submittedReactive)}_submitted=Zl(()=>this.submittedReactive());submittedReactive=ga(!1);_directives=new Set;form;ngSubmit=new ue;options;constructor(i,s,a){super(),this.callSetDisabledState=a,this.form=new IO({},yO(i),vO(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Lb.then(()=>{const s=this._findContainer(i.path);i.control=s.registerControl(i.name,i.control),Bb(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Lb.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Lb.then(()=>{const s=this._findContainer(i.path),a=new IO({});_Y(a,i),s.registerControl(i.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Lb.then(()=>{const s=this._findContainer(i.path);s&&s.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,s){Lb.then(()=>{this.form.get(i.path).setValue(s)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submittedReactive.set(!0),yY(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}static \u0275fac=function(s){return new(s||r)(me(to,10),me(Su,10),me(Nb,8))};static \u0275dir=_e({type:r,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(s,a){1&s&&ht("submit",function(c){return a.onSubmit(c)})("reset",function(){return a.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rt([_Ne]),Je]})}return r})();function vY(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}function bY(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}const AY=class extends SO{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,i,s){super(EO(i),MO(s,i)),this._applyFormState(n),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),FE(i)&&(i.nonNullable||i.initialValueIsDefault)&&(this.defaultValue=bY(n)?n.value:n)}setValue(n,i={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(n,i={}){this.setValue(n,i)}reset(n=this.defaultValue,i={}){this._applyFormState(n),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){vY(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){vY(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){bY(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};Promise.resolve();const TNe={provide:Oo,useExisting:Ui(()=>zb)};let zb=(()=>{class r extends Oo{callSetDisabledState;get submitted(){return Gr(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}_submitted=Zl(()=>this._submittedReactive());_submittedReactive=ga(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ue;constructor(i,s,a){super(),this.callSetDisabledState=a,this._setValidators(i),this._setAsyncValidators(s)}ngOnChanges(i){i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const s=this.form.get(i.path);return Bb(s,i,this.callSetDisabledState),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),s}getControl(i){return this.form.get(i.path)}removeControl(i){NE(i.control||null,i,!1),function gNe(r,n){const i=r.indexOf(n);i>-1&&r.splice(i,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,s){this.form.get(i.path).setValue(s)}onSubmit(i){return this._submittedReactive.set(!0),yY(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new rNe(this.control)),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new sNe(this.form))}_updateDomValue(){this.directives.forEach(i=>{const s=i.control,a=this.form.get(i.path);s!==a&&(NE(s||null,i),(r=>r instanceof AY)(a)&&(Bb(a,i,this.callSetDisabledState),i.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const s=this.form.get(i.path);_Y(s,i),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const s=this.form.get(i.path);s&&function fNe(r,n){return LE(r,n)}(s,i)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DO(this.form,this),this._oldForm&&LE(this._oldForm,this)}static \u0275fac=function(s){return new(s||r)(me(to,10),me(Su,10),me(Nb,8))};static \u0275dir=_e({type:r,selectors:[["","formGroup",""]],hostBindings:function(s,a){1&s&&ht("submit",function(c){return a.onSubmit(c)})("reset",function(){return a.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Rt([TNe]),Je,vr]})}return r})();const qNe=["trigger"],YNe=["panel"],XNe=[[["mat-select-trigger"]],"*"],KNe=["mat-select-trigger","*"];function ZNe(r,n){if(1&r&&(Y(0,"span",4),ce(1),W()),2&r){const i=J();L(),Ut(i.placeholder)}}function JNe(r,n){1&r&&cn(0)}function eBe(r,n){if(1&r&&(Y(0,"span",11),ce(1),W()),2&r){const i=J(2);L(),Ut(i.triggerValue)}}function tBe(r,n){if(1&r&&(Y(0,"span",5),ge(1,JNe,1,0)(2,eBe,2,1,"span",11),W()),2&r){const i=J();L(),Vr(i.customTrigger?1:2)}}function nBe(r,n){if(1&r){const i=Xn();Y(0,"div",12,1),ht("keydown",function(a){return Vt(i),Ht(J()._handleKeydown(a))}),cn(2,1),W()}if(2&r){const i=J();(function VH(r,n,i){hl(pa,Yl,hm(de(),r,n,i),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),Lt("mat-select-panel-animations-enabled",!i._animationsDisabled),j("ngClass",i.panelClass),en("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}const HY=new se("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const r=D(eo);return()=>r.scrollStrategies.reposition()}}),rBe=new se("MAT_SELECT_CONFIG"),sBe={provide:HY,deps:[eo],useFactory:function iBe(r){return()=>r.scrollStrategies.reposition()}},oBe=new se("MatSelectTrigger");class aBe{source;value;constructor(n,i){this.source=n,this.value=i}}let GY=(()=>{class r{_viewportRuler=D(ug);_changeDetectorRef=D(Zi);_elementRef=D(Mt);_dir=D(wa,{optional:!0});_idGenerator=D(wu);_renderer=D(Ms);_parentFormField=D(H2e,{optional:!0});ngControl=D(fd,{self:!0,optional:!0});_liveAnnouncer=D($De);_defaultOptions=D(rBe,{optional:!0});_animationsDisabled="NoopAnimations"===D(xo,{optional:!0});_initialized=new Qe;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(i){const s=this.options.toArray()[i];if(s){const a=this.panel.nativeElement,l=function vRe(r,n,i){if(i.length){let s=n.toArray(),a=i.toArray(),l=0;for(let c=0;c<r+1;c++)s[c].group&&s[c].group===a[l]&&l++;return l}return 0}(i,this.options,this.optionGroups),c=s._getHostElement();a.scrollTop=0===i&&1===l?0:function bRe(r,n,i,s){return r<i?r:r+n>i+s?Math.max(0,r-s+n):i}(c.offsetTop,c.offsetHeight,a.scrollTop,a.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(i){return new aBe(this,i)}_scrollStrategyFactory=D(HY);_panelOpen=!1;_compareWith=(i,s)=>i===s;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Qe;_errorStateTracker;stateChanges=new Qe;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(i){this._hideSingleSelectionIndicator=i,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(i){this._placeholder=i,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(q2e.required)??!1}set required(i){this._required=i,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(i){this._multiple=i}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(i){this._compareWith=i,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(i){this._assignValue(i)&&this._onChange(i)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(i){this._errorStateTracker.matcher=i}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(i){this._id=i||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(i){this._errorStateTracker.errorState=i}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Nv(()=>{const i=this.options;return i?i.changes.pipe(Ts(i),br(()=>Ds(...i.map(s=>s.onSelectionChange)))):this._initialized.pipe(br(()=>this.optionSelectionChanges))});openedChange=new ue;_openedStream=this.openedChange.pipe(ni(i=>i),je(()=>{}));_closedStream=this.openedChange.pipe(ni(i=>!i),je(()=>{}));selectionChange=new ue;valueChange=new ue;constructor(){const i=D(dRe),s=D(Ub,{optional:!0}),a=D(zb,{optional:!0}),l=D(new ex("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),null!=this._defaultOptions?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new rRe(i,this.ngControl,a,s,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=null==l?0:parseInt(l)||0,this.id=this.id}ngOnInit(){this._selectionModel=new pO(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Nn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Nn(this._destroy)).subscribe(i=>{i.added.forEach(s=>s.select()),i.removed.forEach(s=>s.deselect())}),this.options.changes.pipe(Ts(null),Nn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const i=this._getTriggerAriaLabelledby(),s=this.ngControl;if(i!==this._triggerAriaLabelledBy){const a=this._elementRef.nativeElement;this._triggerAriaLabelledBy=i,i?a.setAttribute("aria-labelledby",i):a.removeAttribute("aria-labelledby")}s&&(this._previousControl!==s.control&&(void 0!==this._previousControl&&null!==s.disabled&&s.disabled!==this.disabled&&(this.disabled=s.disabled),this._previousControl=s.control),this.updateErrorState())}ngOnChanges(i){(i.disabled||i.userAriaDescribedBy)&&this.stateChanges.next(),i.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(dr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){const i=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!i)return;const s=`${this.id}-panel`;this._trackedModal&&IF(this._trackedModal,"aria-owns",s),o7(i,"aria-owns",s),this._trackedModal=i}_clearFromModal(){this._trackedModal&&(IF(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel)return void this._detachOverlay();this._cleanupDetach?.(),this._cleanupDetach=()=>{s(),clearTimeout(a),this._cleanupDetach=void 0};const i=this.panel.nativeElement,s=this._renderer.listen(i,"animationend",l=>{"_mat-select-exit"===l.animationName&&(this._cleanupDetach?.(),this._detachOverlay())}),a=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);i.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(i){this._assignValue(i)}registerOnChange(i){this._onChange=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const i=this._selectionModel.selected.map(s=>s.viewValue);return this._isRtl()&&i.reverse(),i.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(i){this.disabled||(this.panelOpen?this._handleOpenKeydown(i):this._handleClosedKeydown(i))}_handleClosedKeydown(i){const s=i.keyCode,a=40===s||38===s||37===s||39===s,l=13===s||32===s,c=this._keyManager;if(!c.isTyping()&&l&&!xl(i)||(this.multiple||i.altKey)&&a)i.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(i);const u=this.selected;u&&d!==u&&this._liveAnnouncer.announce(u.viewValue,1e4)}}_handleOpenKeydown(i){const s=this._keyManager,a=i.keyCode,l=40===a||38===a,c=s.isTyping();if(l&&i.altKey)i.preventDefault(),this.close();else if(c||13!==a&&32!==a||!s.activeItem||xl(i))if(!c&&this._multiple&&65===a&&i.ctrlKey){i.preventDefault();const d=this.options.some(u=>!u.disabled&&!u.selected);this.options.forEach(u=>{u.disabled||(d?u.select():u.deselect())})}else{const d=s.activeItemIndex;s.onKeydown(i),this._multiple&&l&&i.shiftKey&&s.activeItem&&s.activeItemIndex!==d&&s.activeItem._selectViaInteraction()}else i.preventDefault(),s.activeItem._selectViaInteraction()}_handleOverlayKeydown(i){27===i.keyCode&&!xl(i)&&(i.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(i){if(this.options.forEach(s=>s.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&i)Array.isArray(i),i.forEach(s=>this._selectOptionByValue(s)),this._sortValues();else{const s=this._selectOptionByValue(i);s?this._keyManager.updateActiveItem(s):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(i){const s=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return(null!=a.value||this.canSelectNullableOptions)&&this._compareWith(a.value,i)}catch{return!1}});return s&&this._selectionModel.select(s),s}_assignValue(i){return!!(i!==this._value||this._multiple&&Array.isArray(i))&&(this.options&&this._setSelectionByValue(i),this._value=i,!0)}_skipPredicate=i=>!this.panelOpen&&i.disabled;_getOverlayWidth(i){return"auto"===this.panelWidth?(i instanceof Mb?i.elementRef:i||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const i of this.options)i._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new wDe(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const i=Ds(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Nn(i)).subscribe(s=>{this._onSelect(s.source,s.isUserInput),s.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ds(...this.options.map(s=>s._stateChanges)).pipe(Nn(i)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(i,s){const a=this._selectionModel.isSelected(i);this.canSelectNullableOptions||null!=i.value||this._multiple?(a!==i.selected&&(i.selected?this._selectionModel.select(i):this._selectionModel.deselect(i)),s&&this._keyManager.setActiveItem(i),this.multiple&&(this._sortValues(),s&&this.focus())):(i.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(i.value)),a!==this._selectionModel.isSelected(i)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const i=this.options.toArray();this._selectionModel.sort((s,a)=>this.sortComparator?this.sortComparator(s,a,i):i.indexOf(s)-i.indexOf(a)),this.stateChanges.next()}}_propagateChanges(i){let s;s=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:i,this._value=s,this.valueChange.emit(s),this._onChange(s),this.selectionChange.emit(this._getChangeEvent(s)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let i=-1;for(let s=0;s<this.options.length;s++)if(!this.options.get(s).disabled){i=s;break}this._keyManager.setActiveItem(i)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(i){this._elementRef.nativeElement.focus(i)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const i=this._parentFormField?.getLabelId()||null;return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const i=this._parentFormField?.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-select"]],contentQueries:function(s,a,l){if(1&s&&(Gi(l,oBe,5),Gi(l,LF,5),Gi(l,S7,5)),2&s){let c;St(c=It())&&(a.customTrigger=c.first),St(c=It())&&(a.options=c),St(c=It())&&(a.optionGroups=c)}},viewQuery:function(s,a){if(1&s&&(Kn(qNe,5),Kn(YNe,5),Kn(ZF,5)),2&s){let l;St(l=It())&&(a.trigger=l.first),St(l=It())&&(a.panel=l.first),St(l=It())&&(a._overlayDir=l.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(s,a){1&s&&ht("keydown",function(c){return a._handleKeydown(c)})("focus",function(){return a._onFocus()})("blur",function(){return a._onBlur()}),2&s&&(en("id",a.id)("tabindex",a.disabled?-1:a.tabIndex)("aria-controls",a.panelOpen?a.id+"-panel":null)("aria-expanded",a.panelOpen)("aria-label",a.ariaLabel||null)("aria-required",a.required.toString())("aria-disabled",a.disabled.toString())("aria-invalid",a.errorState)("aria-activedescendant",a._getAriaActiveDescendant()),Lt("mat-mdc-select-disabled",a.disabled)("mat-mdc-select-invalid",a.errorState)("mat-mdc-select-required",a.required)("mat-mdc-select-empty",a.empty)("mat-mdc-select-multiple",a.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ct],disableRipple:[2,"disableRipple","disableRipple",ct],tabIndex:[2,"tabIndex","tabIndex",i=>null==i?0:Ls(i)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ct],placeholder:"placeholder",required:[2,"required","required",ct],multiple:[2,"multiple","multiple",ct],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ct],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Ls],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",ct]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Rt([{provide:V2e,useExisting:r},{provide:M7,useExisting:r}]),vr],ngContentSelectors:KNe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(s,a){if(1&s){const l=Xn();lr(XNe),Y(0,"div",2,0),ht("click",function(){return Vt(l),Ht(a.open())}),Y(3,"div",3),ge(4,ZNe,2,1,"span",4)(5,tBe,3,1,"span",5),W(),Y(6,"div",6)(7,"div",7),oy(),Y(8,"svg",8),Te(9,"path",9),W()()()(),ge(10,nBe,3,10,"ng-template",10),ht("backdropClick",function(){return Vt(l),Ht(a.close())})("overlayKeydown",function(d){return Vt(l),Ht(a._handleOverlayKeydown(d))})}if(2&s){const l=cr(1);L(3),en("id",a._valueId),L(),Vr(a.empty?4:5),L(6),j("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",a._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",a._scrollStrategy)("cdkConnectedOverlayOrigin",a._preferredOverlayOrigin||l)("cdkConnectedOverlayPositions",a._positions)("cdkConnectedOverlayWidth",a._overlayWidth)}},dependencies:[Mb,ZF,Ow],styles:['@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,changeDetection:0})}return r})(),$Y=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[sBe],imports:[Sb,I7,ci,pf,fO,I7,ci]})}return r})();function lBe(r,n){if(1&r){const i=Xn();Y(0,"mat-option",2),ht("click",function(){const a=Vt(i).$implicit;return Ht(J().selectedVersion.emit(a))}),ce(1),W()}if(2&r){const i=n.$implicit;dv("id","'option-text-",n.index,""),j("value",i),L(),jt(" ",i.release," ")}}let BO=(()=>{class r{constructor(){this.releaseDate=[],this.selectedVersion=new ue}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-choose-version"]],inputs:{releaseDate:"releaseDate",selectedDate:"selectedDate"},outputs:{selectedVersion:"selectedVersion"},standalone:!1,decls:2,vars:2,consts:[["panelClass","versions-panel","disableOptionCentering","","disableRipple","","hideSingleSelectionIndicator","",1,"versions",3,"value"],["class","mat-select-value-text",3,"value","id","click",4,"ngFor","ngForOf"],[1,"mat-select-value-text",3,"click","value","id"]],template:function(s,a){1&s&&(Y(0,"mat-select",0),ge(1,lBe,2,4,"mat-option",1),W()),2&s&&(j("value",a.selectedDate),L(),j("ngForOf",a.releaseDate))},dependencies:[Ji,GY,LF],styles:["[_nghost-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]{max-width:22rem;height:2.5rem;font-weight:400;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;color:#444c65;border:1px solid #444c65;border-radius:2px}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]:hover{background:#0000000a}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:100%;justify-content:space-between;padding:0rem 1rem;letter-spacing:.5px}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-mdc-select-trigger .mat-mdc-select-value{width:unset}[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]     .mat-mdc-select-arrow-wrapper{padding-left:12px}@media (max-width: 26.75rem){[_nghost-%COMP%]   .versions[_ngcontent-%COMP%]{max-width:unset;width:calc(100vw - 2rem)}}.mat-select-value-text[_ngcontent-%COMP%]{font-weight:400;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;color:#444a65;min-height:42px}  .versions-panel{position:relative!important;top:1px}  #option-text.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:unset}  .mat-select-panel{max-width:unset!important}"]})}}return r})();const cBe=["mat-sort-header",""],dBe=["*"];function uBe(r,n){1&r&&(Y(0,"div",2),oy(),Y(1,"svg",3),Te(2,"path",4),W()())}const QY=new se("MAT_SORT_DEFAULT_OPTIONS");let Hb=(()=>{class r{_defaultOptions;_initializedStream=new qj(1);sortables=new Map;_stateChanges=new Qe;active;start="asc";get direction(){return this._direction}set direction(i){this._direction=i}_direction="";disableClear;disabled=!1;sortChange=new ue;initialized=this._initializedStream;constructor(i){this._defaultOptions=i}register(i){this.sortables.set(i.id,i)}deregister(i){this.sortables.delete(i.id)}sort(i){this.active!=i.id?(this.active=i.id,this.direction=i.start?i.start:this.start):this.direction=this.getNextSortDirection(i),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(i){if(!i)return"";let a=function hBe(r,n){let i=["asc","desc"];return"desc"==r&&i.reverse(),n||i.push(""),i}(i.start||this.start,i?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear),l=a.indexOf(this.direction)+1;return l>=a.length&&(l=0),a[l]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static \u0275fac=function(s){return new(s||r)(me(QY,8))};static \u0275dir=_e({type:r,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",ct],disabled:[2,"matSortDisabled","disabled",ct]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[vr]})}return r})(),HE=(()=>{class r{changes=new Qe;static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const pBe={provide:HE,deps:[[new ah,new ny,HE]],useFactory:function fBe(r){return r||new HE}};let jY=(()=>{class r{_intl=D(HE);_sort=D(Hb,{optional:!0});_columnDef=D("MAT_SORT_HEADER_COLUMN_DEF",{optional:!0});_changeDetectorRef=D(Zi);_focusMonitor=D(cf);_elementRef=D(Mt);_ariaDescriber=D(ADe,{optional:!0});_renderChanges;_animationModule=D(xo,{optional:!0});_recentlyCleared=ga(null);_sortButton;id;arrowPosition="after";start;disabled=!1;get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(i){this._updateSortActionDescription(i)}_sortActionDescription="Sort";disableClear;constructor(){D(fc).load(bb);const i=D(QY,{optional:!0});i?.arrowPosition&&(this.arrowPosition=i?.arrowPosition)}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._sort.register(this),this._renderChanges=Ds(this._sort._stateChanges,this._sort.sortChange).subscribe(()=>this._changeDetectorRef.markForCheck()),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(()=>this._recentlyCleared.set(null))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._renderChanges?.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_toggleOnInteraction(){if(!this._isDisabled()){const i=this._isSorted(),s=this._sort.direction;this._sort.sort(this),this._recentlyCleared.set(i&&!this._isSorted()?s:null)}}_handleKeydown(i){(32===i.keyCode||13===i.keyCode)&&(i.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&("asc"===this._sort.direction||"desc"===this._sort.direction)}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?"asc"==this._sort.direction?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(i){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,i)),this._sortActionDescription=i}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(s,a){1&s&&ht("click",function(){return a._toggleOnInteraction()})("keydown",function(c){return a._handleKeydown(c)})("mouseleave",function(){return a._recentlyCleared.set(!1)}),2&s&&(en("aria-sort",a._getAriaSortAttribute()),Lt("mat-sort-header-disabled",a._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",ct],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",ct]},exportAs:["matSortHeader"],attrs:cBe,ngContentSelectors:dBe,decls:4,vars:17,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],["viewBox","0 -960 960 960","focusable","false","aria-hidden","true"],["d","M440-240v-368L296-464l-56-56 240-240 240 240-56 56-144-144v368h-80Z"]],template:function(s,a){1&s&&(lr(),Y(0,"div",0)(1,"div",1),cn(2),W(),ge(3,uBe,3,0,"div",2),W()),2&s&&(Lt("mat-sort-header-sorted",a._isSorted())("mat-sort-header-position-before","before"===a.arrowPosition)("mat-sort-header-descending","desc"===a._sort.direction)("mat-sort-header-ascending","asc"===a._sort.direction)("mat-sort-header-recently-cleared-ascending","asc"===a._recentlyCleared())("mat-sort-header-recently-cleared-descending","desc"===a._recentlyCleared())("mat-sort-header-animations-disabled","NoopAnimations"===a._animationModule),en("tabindex",a._isDisabled()?null:0)("role",a._isDisabled()?null:"button"),L(3),Vr(a._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}@keyframes _mat-sort-header-recently-cleared-ascending{from{transform:translateY(0);opacity:1}to{transform:translateY(-25%);opacity:0}}@keyframes _mat-sort-header-recently-cleared-descending{from{transform:translateY(0) rotate(180deg);opacity:1}to{transform:translateY(25%) rotate(180deg);opacity:0}}.mat-sort-header-arrow{height:12px;width:12px;position:relative;transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1),opacity 225ms cubic-bezier(0.4, 0, 0.2, 1);opacity:0;overflow:visible;color:var(--mat-sort-arrow-color, var(--mat-sys-on-surface))}.mat-sort-header.cdk-keyboard-focused .mat-sort-header-arrow,.mat-sort-header.cdk-program-focused .mat-sort-header-arrow,.mat-sort-header:hover .mat-sort-header-arrow{opacity:.54}.mat-sort-header .mat-sort-header-sorted .mat-sort-header-arrow{opacity:1}.mat-sort-header-descending .mat-sort-header-arrow{transform:rotate(180deg)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transform:translateY(-25%)}.mat-sort-header-recently-cleared-ascending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-ascending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-recently-cleared-descending .mat-sort-header-arrow{transition:none;animation:_mat-sort-header-recently-cleared-descending 225ms cubic-bezier(0.4, 0, 0.2, 1) forwards}.mat-sort-header-animations-disabled .mat-sort-header-arrow{transition-duration:0ms;animation-duration:0ms}.mat-sort-header-arrow svg{width:24px;height:24px;fill:currentColor;position:absolute;top:50%;left:50%;margin:-12px 0 0 -12px;transform:translateZ(0)}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}"],encapsulation:2,changeDetection:0})}return r})(),LO=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[pBe],imports:[ci]})}return r})();const mBe=[[["caption"]],[["colgroup"],["col"]],"*"],gBe=["caption","colgroup, col","*"];function _Be(r,n){1&r&&cn(0,2)}function yBe(r,n){1&r&&(Y(0,"thead",0),Hr(1,1),W(),Y(2,"tbody",0),Hr(3,2)(4,3),W(),Y(5,"tfoot",0),Hr(6,4),W())}function vBe(r,n){1&r&&Hr(0,1)(1,2)(2,3)(3,4)}const _c=new se("CDK_TABLE");let _g=(()=>{class r{template=D(zi);constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkCellDef",""]]})}return r})(),yg=(()=>{class r{template=D(zi);constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkHeaderCellDef",""]]})}return r})(),GE=(()=>{class r{template=D(zi);constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkFooterCellDef",""]]})}return r})(),pd=(()=>{class r{_table=D(_c,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(i){this._setNameInput(i)}_name;get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(i){i!==this._stickyEnd&&(this._stickyEnd=i,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){const i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(i){i&&(this._name=i,this.cssClassFriendlyName=i.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkColumnDef",""]],contentQueries:function(s,a,l){if(1&s&&(Gi(l,_g,5),Gi(l,yg,5),Gi(l,GE,5)),2&s){let c;St(c=It())&&(a.cell=c.first),St(c=It())&&(a.headerCell=c.first),St(c=It())&&(a.footerCell=c.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",ct],stickyEnd:[2,"stickyEnd","stickyEnd",ct]},features:[Rt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}])]})}return r})();class UO{constructor(n,i){i.nativeElement.classList.add(...n._columnCssClassName)}}let zO=(()=>{class r extends UO{constructor(){super(D(pd),D(Mt))}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Je]})}return r})(),WY=(()=>{class r extends UO{constructor(){const i=D(pd),s=D(Mt);super(i,s);const a=i._table?._getCellRole();a&&s.nativeElement.setAttribute("role",a)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[Je]})}return r})(),VO=(()=>{class r extends UO{constructor(){const i=D(pd),s=D(Mt);super(i,s);const a=i._table?._getCellRole();a&&s.nativeElement.setAttribute("role",a)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Je]})}return r})();class qY{tasks=[];endTasks=[]}const HO=new se("_COALESCED_STYLE_SCHEDULER");let YY=(()=>{class r{_currentSchedule=null;_ngZone=D(_t);constructor(){}schedule(i){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(i)}scheduleEnd(i){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(i)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new qY,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const i=this._currentSchedule;this._currentSchedule=new qY;for(const s of i.tasks)s();for(const s of i.endTasks)s()}this._currentSchedule=null})))}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac})}return r})(),GO=(()=>{class r{template=D(zi);_differs=D(Kl);columns;_columnsDiffer;constructor(){}ngOnChanges(i){if(!this._columnsDiffer){const s=i.columns&&i.columns.currentValue||[];this._columnsDiffer=this._differs.find(s).create(),this._columnsDiffer.diff(s)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(i){return this instanceof Gb?i.headerCell.template:this instanceof $b?i.footerCell.template:i.cell.template}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,features:[vr]})}return r})(),Gb=(()=>{class r extends GO{_table=D(_c,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(D(zi),D(Kl))}ngOnChanges(i){super.ngOnChanges(i)}hasStickyChanged(){const i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",ct]},features:[Je,vr]})}return r})(),$b=(()=>{class r extends GO{_table=D(_c,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(i){i!==this._sticky&&(this._sticky=i,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(D(zi),D(Kl))}ngOnChanges(i){super.ngOnChanges(i)}hasStickyChanged(){const i=this._hasStickyChanged;return this.resetStickyChanged(),i}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",ct]},features:[Je,vr]})}return r})(),$E=(()=>{class r extends GO{_table=D(_c,{optional:!0});when;constructor(){super(D(zi),D(Kl))}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[Je]})}return r})(),md=(()=>{class r{_viewContainer=D(Ki);cells;context;static mostRecentCellOutlet=null;constructor(){r.mostRecentCellOutlet=this}ngOnDestroy(){r.mostRecentCellOutlet===this&&(r.mostRecentCellOutlet=null)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkCellOutlet",""]]})}return r})(),$O=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[md],encapsulation:2})}return r})(),QO=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[md],encapsulation:2})}return r})(),jO=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[md],encapsulation:2})}return r})(),QE=(()=>{class r{templateRef=D(zi);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["ng-template","cdkNoDataRow",""]]})}return r})();const XY=["top","bottom","left","right"];class wBe{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(n=>this._updateCachedSizes(n)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(n,i,s,a,l=!0,c=!0,d,u){this._isNativeHtmlTable=n,this._stickCellCss=i,this.direction=s,this._coalescedStyleScheduler=a,this._isBrowser=l,this._needsPositionStickyOnElement=c,this._positionListener=d,this._tableInjector=u,this._borderCellCss={top:`${i}-border-elem-top`,bottom:`${i}-border-elem-bottom`,left:`${i}-border-elem-left`,right:`${i}-border-elem-right`}}clearStickyPositioning(n,i){(i.includes("left")||i.includes("right"))&&this._removeFromStickyColumnReplayQueue(n);const s=[];for(const a of n)a.nodeType===a.ELEMENT_NODE&&s.push(a,...Array.from(a.children));this._afterNextRender({write:()=>{for(const a of s)this._removeStickyStyle(a,i)}})}updateStickyColumns(n,i,s,a=!0,l=!0){if(!n.length||!this._isBrowser||!i.some(y=>y)&&!s.some(y=>y))return this._positionListener?.stickyColumnsUpdated({sizes:[]}),void this._positionListener?.stickyEndColumnsUpdated({sizes:[]});const c=n[0],d=c.children.length,u="rtl"===this.direction,h=u?"right":"left",f=u?"left":"right",p=i.lastIndexOf(!0),g=s.indexOf(!0);let m,_,v;l&&this._updateStickyColumnReplayQueue({rows:[...n],stickyStartStates:[...i],stickyEndStates:[...s]}),this._afterNextRender({earlyRead:()=>{m=this._getCellWidths(c,a),_=this._getStickyStartColumnPositions(m,i),v=this._getStickyEndColumnPositions(m,s)},write:()=>{for(const y of n)for(let b=0;b<d;b++){const A=y.children[b];i[b]&&this._addStickyStyle(A,h,_[b],b===p),s[b]&&this._addStickyStyle(A,f,v[b],b===g)}this._positionListener&&m.some(y=>!!y)&&(this._positionListener.stickyColumnsUpdated({sizes:-1===p?[]:m.slice(0,p+1).map((y,b)=>i[b]?y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===g?[]:m.slice(g).map((y,b)=>s[b+g]?y:null).reverse()}))}})}stickRows(n,i,s){if(!this._isBrowser)return;const a="bottom"===s?n.slice().reverse():n,l="bottom"===s?i.slice().reverse():i,c=[],d=[],u=[];this._afterNextRender({earlyRead:()=>{for(let h=0,f=0;h<a.length;h++){if(!l[h])continue;c[h]=f;const p=a[h];u[h]=this._isNativeHtmlTable?Array.from(p.children):[p];const g=this._retrieveElementSize(p).height;f+=g,d[h]=g}},write:()=>{const h=l.lastIndexOf(!0);for(let f=0;f<a.length;f++){if(!l[f])continue;const p=c[f],g=f===h;for(const m of u[f])this._addStickyStyle(m,s,p,g)}"top"===s?this._positionListener?.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:u}):this._positionListener?.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:u})}})}updateStickyFooterContainer(n,i){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{const s=n.querySelector("tfoot");s&&(i.some(a=>!a)?this._removeStickyStyle(s,["bottom"]):this._addStickyStyle(s,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(n,i){if(n.classList.contains(this._stickCellCss)){for(const a of i)n.style[a]="",n.classList.remove(this._borderCellCss[a]);XY.some(a=>-1===i.indexOf(a)&&n.style[a])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}}_addStickyStyle(n,i,s,a){n.classList.add(this._stickCellCss),a&&n.classList.add(this._borderCellCss[i]),n.style[i]=`${s}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){const i={top:100,bottom:10,left:1,right:1};let s=0;for(const a of XY)n.style[a]&&(s+=i[a]);return s?`${s}`:""}_getCellWidths(n,i=!0){if(!i&&this._cachedCellWidths.length)return this._cachedCellWidths;const s=[],a=n.children;for(let l=0;l<a.length;l++)s.push(this._retrieveElementSize(a[l]).width);return this._cachedCellWidths=s,s}_getStickyStartColumnPositions(n,i){const s=[];let a=0;for(let l=0;l<n.length;l++)i[l]&&(s[l]=a,a+=n[l]);return s}_getStickyEndColumnPositions(n,i){const s=[];let a=0;for(let l=n.length;l>0;l--)i[l]&&(s[l]=a,a+=n[l]);return s}_retrieveElementSize(n){const i=this._elemSizeCache.get(n);if(i)return i;const s=n.getBoundingClientRect(),a={width:s.width,height:s.height};return this._resizeObserver&&(this._elemSizeCache.set(n,a),this._resizeObserver.observe(n,{box:"border-box"})),a}_updateStickyColumnReplayQueue(n){this._removeFromStickyColumnReplayQueue(n.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(n)}_removeFromStickyColumnReplayQueue(n){const i=new Set(n);for(const s of this._updatedStickyColumnsParamsToReplay)s.rows=s.rows.filter(a=>!i.has(a));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(s=>!!s.rows.length)}_updateCachedSizes(n){let i=!1;for(const s of n){const a=s.borderBoxSize?.length?{width:s.borderBoxSize[0].inlineSize,height:s.borderBoxSize[0].blockSize}:{width:s.contentRect.width,height:s.contentRect.height};a.width!==this._elemSizeCache.get(s.target)?.width&&CBe(s.target)&&(i=!0),this._elemSizeCache.set(s.target,a)}i&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(const s of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(s.rows,s.stickyStartStates,s.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(n){this._tableInjector?_a(n,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{n.earlyRead?.(),n.write()})}}function CBe(r){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(n=>r.classList.contains(n))}const WO=new se("CDK_SPL");let qO=(()=>{class r{viewContainer=D(Ki);elementRef=D(Mt);constructor(){const i=D(_c);i._rowOutlet=this,i._outletAssigned()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","rowOutlet",""]]})}return r})(),YO=(()=>{class r{viewContainer=D(Ki);elementRef=D(Mt);constructor(){const i=D(_c);i._headerRowOutlet=this,i._outletAssigned()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","headerRowOutlet",""]]})}return r})(),XO=(()=>{class r{viewContainer=D(Ki);elementRef=D(Mt);constructor(){const i=D(_c);i._footerRowOutlet=this,i._outletAssigned()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","footerRowOutlet",""]]})}return r})(),KO=(()=>{class r{viewContainer=D(Ki);elementRef=D(Mt);constructor(){const i=D(_c);i._noDataRowOutlet=this,i._outletAssigned()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","noDataRowOutlet",""]]})}return r})(),jE=(()=>{class r{_differs=D(Kl);_changeDetectorRef=D(Zi);_elementRef=D(Mt);_dir=D(wa,{optional:!0});_platform=D(Qr);_viewRepeater=D(Pb);_coalescedStyleScheduler=D(HO);_viewportRuler=D(ug);_stickyPositioningListener=D(WO,{optional:!0,skipSelf:!0});_document=D(rn);_data;_onDestroy=new Qe;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(void 0===this._cellRoleInternal){const i=this._elementRef.nativeElement.getAttribute("role");return"grid"===i||"treegrid"===i?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(i){this._trackByFn=i}_trackByFn;get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(i){this._multiTemplateDataRows=i,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(i){this._fixedLayout=i,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new ue;viewChange=new Fi({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=D(On);constructor(){D(new ex("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((i,s)=>this.trackBy?this.trackBy(s.dataIndex,s.data):s),this._viewportRuler.change().pipe(Nn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(i=>{i?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),IE(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const i=this._dataDiffer.diff(this._renderRows);if(!i)return this._updateNoDataRow(),void this.contentChanged.next();const s=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(i,s,(a,l,c)=>this._getEmbeddedViewArgs(a.item,c),a=>a.item.data,a=>{a.operation===hd.INSERTED&&a.context&&this._renderCellTemplateForItem(a.record.item.rowDef,a.context)}),this._updateRowIndexContext(),i.forEachIdentityChange(a=>{s.get(a.currentIndex).context.$implicit=a.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(i){this._customColumnDefs.add(i)}removeColumnDef(i){this._customColumnDefs.delete(i)}addRowDef(i){this._customRowDefs.add(i)}removeRowDef(i){this._customRowDefs.delete(i)}addHeaderRowDef(i){this._customHeaderRowDefs.add(i),this._headerRowDefChanged=!0}removeHeaderRowDef(i){this._customHeaderRowDefs.delete(i),this._headerRowDefChanged=!0}addFooterRowDef(i){this._customFooterRowDefs.add(i),this._footerRowDefChanged=!0}removeFooterRowDef(i){this._customFooterRowDefs.delete(i),this._footerRowDefChanged=!0}setNoDataRow(i){this._customNoDataRow=i}updateStickyHeaderRowStyles(){const i=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const a=KY(this._headerRowOutlet,"thead");a&&(a.style.display=i.length?"":"none")}const s=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(i,["top"]),this._stickyStyler.stickRows(i,s,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const i=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const a=KY(this._footerRowOutlet,"tfoot");a&&(a.style.display=i.length?"":"none")}const s=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(i,["bottom"]),this._stickyStyler.stickRows(i,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const i=this._getRenderedRows(this._headerRowOutlet),s=this._getRenderedRows(this._rowOutlet),a=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...i,...s,...a],["left","right"]),this._stickyColumnStylesNeedReset=!1),i.forEach((l,c)=>{this._addStickyColumnStyles([l],this._headerRowDefs[c])}),this._rowDefs.forEach(l=>{const c=[];for(let d=0;d<s.length;d++)this._renderRows[d].rowDef===l&&c.push(s[d]);this._addStickyColumnStyles(c,l)}),a.forEach((l,c)=>{this._addStickyColumnStyles([l],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(l=>l.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const s=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||s,this._forceRecalculateCellWidths=s,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const i=[],s=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let a=0;a<this._data.length;a++){let l=this._data[a];const c=this._getRenderRowsForData(l,a,s.get(l));this._cachedRenderRowsMap.has(l)||this._cachedRenderRowsMap.set(l,new WeakMap);for(let d=0;d<c.length;d++){let u=c[d];const h=this._cachedRenderRowsMap.get(u.data);h.has(u.rowDef)?h.get(u.rowDef).push(u):h.set(u.rowDef,[u]),i.push(u)}}return i}_getRenderRowsForData(i,s,a){return this._getRowDefs(i,s).map(c=>{const d=a&&a.has(c)?a.get(c):[];if(d.length){const u=d.shift();return u.dataIndex=s,u}return{data:i,rowDef:c,dataIndex:s}})}_cacheColumnDefs(){this._columnDefsByName.clear(),WE(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(s=>{this._columnDefsByName.has(s.name),this._columnDefsByName.set(s.name,s)})}_cacheRowDefs(){this._headerRowDefs=WE(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=WE(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=WE(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const i=this._rowDefs.filter(s=>!s.when);this._defaultRowDef=i[0]}_renderUpdatedColumns(){const i=(c,d)=>{const u=!!d.getColumnsDiff();return c||u},s=this._rowDefs.reduce(i,!1);s&&this._forceRenderDataRows();const a=this._headerRowDefs.reduce(i,!1);a&&this._forceRenderHeaderRows();const l=this._footerRowDefs.reduce(i,!1);return l&&this._forceRenderFooterRows(),s||a||l}_switchDataSource(i){this._data=[],IE(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),i||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=i}_observeRenderChanges(){if(!this.dataSource)return;let i;IE(this.dataSource)?i=this.dataSource.connect(this):Hh(this.dataSource)?i=this.dataSource:Array.isArray(this.dataSource)&&(i=Oe(this.dataSource)),this._renderChangeSubscription=i.pipe(Nn(this._onDestroy)).subscribe(s=>{this._data=s||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((i,s)=>this._renderRow(this._headerRowOutlet,i,s)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((i,s)=>this._renderRow(this._footerRowOutlet,i,s)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(i,s){const a=Array.from(s?.columns||[]).map(d=>this._columnDefsByName.get(d)),l=a.map(d=>d.sticky),c=a.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(i,l,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(i){const s=[];for(let a=0;a<i.viewContainer.length;a++){const l=i.viewContainer.get(a);s.push(l.rootNodes[0])}return s}_getRowDefs(i,s){if(1==this._rowDefs.length)return[this._rowDefs[0]];let a=[];if(this.multiTemplateDataRows)a=this._rowDefs.filter(l=>!l.when||l.when(s,i));else{let l=this._rowDefs.find(c=>c.when&&c.when(s,i))||this._defaultRowDef;l&&a.push(l)}return a}_getEmbeddedViewArgs(i,s){return{templateRef:i.rowDef.template,context:{$implicit:i.data},index:s}}_renderRow(i,s,a,l={}){const c=i.viewContainer.createEmbeddedView(s.template,l,a);return this._renderCellTemplateForItem(s,l),c}_renderCellTemplateForItem(i,s){for(let a of this._getCellTemplates(i))md.mostRecentCellOutlet&&md.mostRecentCellOutlet._viewContainer.createEmbeddedView(a,s);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const i=this._rowOutlet.viewContainer;for(let s=0,a=i.length;s<a;s++){const c=i.get(s).context;c.count=a,c.first=0===s,c.last=s===a-1,c.even=s%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[s].dataIndex,c.renderIndex=s):c.index=this._renderRows[s].dataIndex}}_getCellTemplates(i){return i&&i.columns?Array.from(i.columns,s=>{const a=this._columnDefsByName.get(s);return i.extractCellTemplate(a)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const i=(s,a)=>s||a.hasStickyChanged();this._headerRowDefs.reduce(i,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(i,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(i,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new wBe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Oe()).pipe(Nn(this._onDestroy)).subscribe(s=>{this._stickyStyler.direction=s,this.updateStickyColumnStyles()})}_getOwnDefs(i){return i.filter(s=>!s._table||s._table===this)}_updateNoDataRow(){const i=this._customNoDataRow||this._noDataRow;if(!i)return;const s=0===this._rowOutlet.viewContainer.length;if(s===this._isShowingNoDataRow)return;const a=this._noDataRowOutlet.viewContainer;if(s){const l=a.createEmbeddedView(i.templateRef),c=l.rootNodes[0];1===l.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(i._contentClassName))}else a.clear();this._isShowingNoDataRow=s,this._changeDetectorRef.markForCheck()}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(s,a,l){if(1&s&&(Gi(l,QE,5),Gi(l,pd,5),Gi(l,$E,5),Gi(l,Gb,5),Gi(l,$b,5)),2&s){let c;St(c=It())&&(a._noDataRow=c.first),St(c=It())&&(a._contentColumnDefs=c),St(c=It())&&(a._contentRowDefs=c),St(c=It())&&(a._contentHeaderRowDefs=c),St(c=It())&&(a._contentFooterRowDefs=c)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(s,a){2&s&&Lt("cdk-table-fixed-layout",a.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",ct],fixedLayout:[2,"fixedLayout","fixedLayout",ct]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Rt([{provide:_c,useExisting:r},{provide:Pb,useClass:zq},{provide:HO,useClass:YY},{provide:WO,useValue:null}])],ngContentSelectors:gBe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(s,a){1&s&&(lr(mBe),cn(0),cn(1,1),ge(2,_Be,1,0)(3,yBe,7,0)(4,vBe,4,0)),2&s&&(L(2),Vr(a._isServer?2:-1),L(),Vr(a._isNativeHtmlTable?3:4))},dependencies:[YO,qO,KO,XO],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}return r})();function WE(r,n){return r.concat(Array.from(n))}function KY(r,n){const i=n.toUpperCase();let s=r.viewContainer.element.nativeElement;for(;s;){const a=1===s.nodeType?s.nodeName:null;if(a===i)return s;if("TABLE"===a)break;s=s.parentNode}return null}let MBe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[yE]})}return r})();const SBe=[[["caption"]],[["colgroup"],["col"]],"*"],IBe=["caption","colgroup, col","*"];function TBe(r,n){1&r&&cn(0,2)}function DBe(r,n){1&r&&(Y(0,"thead",0),Hr(1,1),W(),Y(2,"tbody",2),Hr(3,3)(4,4),W(),Y(5,"tfoot",0),Hr(6,5),W())}function RBe(r,n){1&r&&Hr(0,1)(1,3)(2,4)(3,5)}let ZO=(()=>{class r extends jE{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(s,a){2&s&&Lt("mdc-table-fixed-layout",a.fixedLayout)},exportAs:["matTable"],features:[Rt([{provide:jE,useExisting:r},{provide:_c,useExisting:r},{provide:HO,useClass:YY},{provide:Pb,useClass:zq},{provide:WO,useValue:null}]),Je],ngContentSelectors:IBe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(s,a){1&s&&(lr(SBe),cn(0),cn(1,1),ge(2,TBe,1,0)(3,DBe,7,0)(4,RBe,4,0)),2&s&&(L(2),Vr(a._isServer?2:-1),L(),Vr(a._isNativeHtmlTable?3:4))},dependencies:[YO,qO,KO,XO],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}return r})(),qE=(()=>{class r extends _g{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matCellDef",""]],features:[Rt([{provide:_g,useExisting:r}]),Je]})}return r})(),YE=(()=>{class r extends yg{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matHeaderCellDef",""]],features:[Rt([{provide:yg,useExisting:r}]),Je]})}return r})(),JY=(()=>{class r extends GE{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matFooterCellDef",""]],features:[Rt([{provide:GE,useExisting:r}]),Je]})}return r})(),XE=(()=>{class r extends pd{get name(){return this._name}set name(i){this._setNameInput(i)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[Rt([{provide:pd,useExisting:r},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:r}]),Je]})}return r})(),KE=(()=>{class r extends zO{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[Je]})}return r})(),eX=(()=>{class r extends WY{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:[1,"mat-mdc-footer-cell","mdc-data-table__cell"],features:[Je]})}return r})(),ZE=(()=>{class r extends VO{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[Je]})}return r})(),JO=(()=>{class r extends Gb{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",ct]},features:[Rt([{provide:Gb,useExisting:r}]),Je]})}return r})(),tX=(()=>{class r extends $b{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matFooterRowDef",""]],inputs:{columns:[0,"matFooterRowDef","columns"],sticky:[2,"matFooterRowDefSticky","sticky",ct]},features:[Rt([{provide:$b,useExisting:r}]),Je]})}return r})(),e2=(()=>{class r extends $E{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[Rt([{provide:$E,useExisting:r}]),Je]})}return r})(),t2=(()=>{class r extends $O{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[Rt([{provide:$O,useExisting:r}]),Je],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[md],encapsulation:2})}return r})(),nX=(()=>{class r extends QO{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-mdc-footer-row","mdc-data-table__row"],exportAs:["matFooterRow"],features:[Rt([{provide:QO,useExisting:r}]),Je],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[md],encapsulation:2})}return r})(),n2=(()=>{class r extends jO{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[Rt([{provide:jO,useExisting:r}]),Je],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[md],encapsulation:2})}return r})(),i2=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,MBe,ci]})}return r})();class iX extends SE{_data;_renderData=new Fi([]);_filter=new Fi("");_internalPageChanges=new Qe;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(n){n=Array.isArray(n)?n:[],this._data.next(n),this._renderChangesSubscription||this._filterData(n)}get filter(){return this._filter.value}set filter(n){this._filter.next(n),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(n){this._sort=n,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(n){this._paginator=n,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(n,i)=>{const s=n[i];if(e7(s)){const a=Number(s);return a<9007199254740991?a:s}return s};sortData=(n,i)=>{const s=i.active,a=i.direction;return s&&""!=a?n.sort((l,c)=>{let d=this.sortingDataAccessor(l,s),u=this.sortingDataAccessor(c,s);const h=typeof d,f=typeof u;h!==f&&("number"===h&&(d+=""),"number"===f&&(u+=""));let p=0;return null!=d&&null!=u?d>u?p=1:d<u&&(p=-1):null!=d?p=1:null!=u&&(p=-1),p*("asc"==a?1:-1)}):n};filterPredicate=(n,i)=>{const s=i.trim().toLowerCase();return Object.values(n).some(a=>`${a}`.toLowerCase().includes(s))};constructor(n=[]){super(),this._data=new Fi(n),this._updateChangeSubscription()}_updateChangeSubscription(){const n=this._sort?Ds(this._sort.sortChange,this._sort.initialized):Oe(null),i=this._paginator?Ds(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Oe(null),a=_l([this._data,this._filter]).pipe(je(([d])=>this._filterData(d))),l=_l([a,n]).pipe(je(([d])=>this._orderData(d))),c=_l([l,i]).pipe(je(([d])=>this._pageData(d)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(d=>this._renderData.next(d))}_filterData(n){return this.filteredData=null==this.filter||""===this.filter?n:n.filter(i=>this.filterPredicate(i,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(n){return this.sort?this.sortData(n.slice(),this.sort):n}_pageData(n){if(!this.paginator)return n;const i=this.paginator.pageIndex*this.paginator.pageSize;return n.slice(i,i+this.paginator.pageSize)}_updatePaginator(n){Promise.resolve().then(()=>{const i=this.paginator;if(i&&(i.length=n,i.pageIndex>0)){const s=Math.ceil(i.length/i.pageSize)-1||0,a=Math.min(i.pageIndex,s);a!==i.pageIndex&&(i.pageIndex=a,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}function NBe(r,n){if(1&r&&(Y(0,"th",10),ce(1),W()),2&r){let i,s;const a=J().$implicit;en("colspan",null!==(i=a.colspan)&&void 0!==i?i:1)("rowspan",null!==(s=a.rowspan)&&void 0!==s?s:1),L(),jt(" ",a.header," ")}}function BBe(r,n){1&r&&(ei(0,8),ge(1,NBe,2,3,"th",9),ti()),2&r&&j("matColumnDef",n.$implicit.columnDef)}function LBe(r,n){if(1&r&&(ei(0),ge(1,BBe,2,1,"ng-container",4),ti()),2&r){const i=J();L(),j("ngForOf",i.cellHeaders)}}function UBe(r,n){if(1&r&&(Y(0,"th",10),ce(1),W()),2&r){let i,s;const a=J().$implicit;en("colspan",null!==(i=a.colspan)&&void 0!==i?i:1)("rowspan",null!==(s=a.rowspan)&&void 0!==s?s:1),L(),jt(" ",a.header," ")}}function zBe(r,n){1&r&&(ei(0,8),ge(1,UBe,2,3,"th",9),ti()),2&r&&j("matColumnDef",n.$implicit.columnDef)}function VBe(r,n){if(1&r&&(ei(0),ge(1,zBe,2,1,"ng-container",4),ti()),2&r){const i=J();L(),j("ngForOf",i.additionalHeaders)}}function HBe(r,n){if(1&r&&(Y(0,"th",14),ce(1),W()),2&r){const i=J(2).$implicit;Jr(J().getAlignmentClass(i)),L(),jt(" ",i.header," ")}}function GBe(r,n){1&r&&(ei(0),ge(1,HBe,2,3,"th",13),ti())}function $Be(r,n){if(1&r&&(Y(0,"th",16),ce(1),W()),2&r){const i=J(2).$implicit;Jr(J().getAlignmentClass(i)),L(),jt(" ",i.header," ")}}function QBe(r,n){1&r&&ge(0,$Be,2,3,"th",15)}function jBe(r,n){if(1&r&&Te(0,"td",17),2&r){const i=n.$implicit,s=J().$implicit,a=J();Jr(a.getAlignmentClass(s)),Lt("transform",a.isOrgan),j("innerHtml",a.formatData(s.cell(i)),zz)}}function WBe(r,n){if(1&r&&(ei(0),ce(1),ti()),2&r){const i=J(3).$implicit,s=J();L(),jt(" ",s.getTotal(i.columnDef)," ")}}function qBe(r,n){if(1&r&&(ei(0),ce(1),ti()),2&r){let i;const s=J(4).$implicit;L(),Ut(null!==(i=s.totalLabel)&&void 0!==i?i:"Totals")}}function YBe(r,n){1&r&&ge(0,qBe,2,1,"ng-container",3),2&r&&j("ngIf",J(3).$implicit.isTotalRequired)}function XBe(r,n){if(1&r&&(Y(0,"td",19),ge(1,WBe,2,1,"ng-container",11)(2,YBe,1,1,"ng-template",null,1,So),W()),2&r){const i=cr(3),s=J(2).$implicit,a=J();L(),j("ngIf",a.isNumericColumn(s.columnDef))("ngIfElse",i)}}function KBe(r,n){1&r&&(ei(0),ge(1,XBe,4,2,"td",18),ti())}function ZBe(r,n){if(1&r&&(ei(0,8),ge(1,GBe,2,0,"ng-container",11)(2,QBe,1,0,"ng-template",null,0,So)(4,jBe,1,5,"td",12)(5,KBe,2,0,"ng-container",3),ti()),2&r){let i;const s=n.$implicit,a=cr(3),l=J();j("matColumnDef",s.columnDef),L(),j("ngIf",null===(i=s.sorting)||void 0===i||i)("ngIfElse",a),L(4),j("ngIf",l.isTotal)}}function JBe(r,n){1&r&&Te(0,"tr",21)}function eLe(r,n){if(1&r&&(ei(0),ge(1,JBe,1,0,"tr",20),ti()),2&r){const i=J();L(),j("matHeaderRowDef",i.cellHeadersData)}}function tLe(r,n){1&r&&Te(0,"tr",21)}function nLe(r,n){if(1&r&&(ei(0),ge(1,tLe,1,0,"tr",20),ti()),2&r){const i=J();L(),j("matHeaderRowDef",i.additionalColumnsData)}}function iLe(r,n){1&r&&Te(0,"tr",22)}function rLe(r,n){1&r&&Te(0,"tr",23)}function sLe(r,n){1&r&&Te(0,"tr",25)}function oLe(r,n){if(1&r&&(Y(0,"div"),ge(1,sLe,1,0,"tr",24),W()),2&r){const i=J();L(),j("matFooterRowDef",i.displayedColumns)}}let rX=(()=>{class r{constructor(){this.isOrgan=!1,this.displayedColumns=[],this.columns=[],this.isTotal=!1,this.dataSource=new iX([])}set sort(i){this.dataSource.sort=i}set typeCount(i){this.dataSource.data=i}get firstColumnId(){return this.columns[0]?.columnDef??""}getTotal(i){return this.dataSource.data.filter(a=>"number"==typeof a[i]).reduce((a,l)=>a+l[i],0).toLocaleString()}isNumericColumn(i){if("table_version"===i)return!1;let s=!1;for(const{[i]:a}of this.dataSource.data)if(null!==a){if("number"!=typeof a)return!1;s=!0}return s}getAlignmentClass(i){return`alignment-${i.alignment??"default"}`}formatData(i){return null!==i?`${i}`:"no data"}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-table"]],viewQuery:function(s,a){if(1&s&&Kn(Hb,7),2&s){let l;St(l=It())&&(a.sort=l.first)}},inputs:{isOrgan:"isOrgan",typeCount:"typeCount",displayedColumns:"displayedColumns",columns:"columns",isTotal:"isTotal",additionalHeaders:"additionalHeaders",additionalColumnsData:"additionalColumnsData",cellHeaders:"cellHeaders",cellHeadersData:"cellHeadersData"},standalone:!1,decls:10,vars:10,consts:[["noSortHeader",""],["totalLabel",""],["mat-table","","matSort","","matSortDirection","",1,"mat-elevation-z8","data-table",3,"dataSource","matSortActive"],[4,"ngIf"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","","class","row-one",4,"matHeaderRowDef"],[1,"first-column"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"matColumnDef"],["mat-header-cell","","class","table-title additional-header",4,"matHeaderCellDef"],["mat-header-cell","",1,"table-title","additional-header"],[4,"ngIf","ngIfElse"],["mat-cell","","class","table-cell",3,"innerHtml","transform","class",4,"matCellDef"],["mat-header-cell","","class","table-title","mat-sort-header","",3,"class",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","",1,"table-title"],["mat-header-cell","","class","table-title",3,"class",4,"matHeaderCellDef"],["mat-header-cell","",1,"table-title"],["mat-cell","",1,"table-cell",3,"innerHtml"],["mat-footer-cell","","class","table-footer",4,"matFooterCellDef"],["mat-footer-cell","",1,"table-footer"],["mat-header-row","",4,"matHeaderRowDef"],["mat-header-row",""],["mat-header-row","",1,"row-one"],["mat-row",""],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""]],template:function(s,a){1&s&&(Y(0,"table",2),ge(1,LBe,2,1,"ng-container",3)(2,VBe,2,1,"ng-container",3)(3,ZBe,6,4,"ng-container",4)(4,eLe,2,1,"ng-container",3)(5,nLe,2,1,"ng-container",3)(6,iLe,1,0,"tr",5),Y(7,"div",6),ge(8,rLe,1,0,"tr",7),W(),ge(9,oLe,2,1,"div",3),W()),2&s&&(j("dataSource",a.dataSource)("matSortActive",a.firstColumnId),L(),j("ngIf",null==a.cellHeaders?null:a.cellHeaders.length),L(),j("ngIf",null==a.additionalHeaders?null:a.additionalHeaders.length),L(),j("ngForOf",a.columns),L(),j("ngIf",null==a.cellHeaders?null:a.cellHeaders.length),L(),j("ngIf",null==a.additionalHeaders?null:a.additionalHeaders.length),L(),j("matHeaderRowDef",a.displayedColumns),L(2),j("matRowDefColumns",a.displayedColumns),L(),j("ngIf",a.isTotal))},dependencies:[Ji,Do,ZO,YE,JO,XE,qE,e2,JY,tX,KE,ZE,eX,t2,n2,nX,Hb,jY],styles:['[_nghost-%COMP%]{display:block;width:100%;overflow-x:auto}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]{table-layout:fixed;min-width:100%;background-color:#fff;border:.063rem solid #e0e0e0;box-shadow:0 .125rem .063rem #00000029}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]{font-family:Inter;font-style:normal;font-weight:500;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;color:#212121;text-overflow:ellipsis;white-space:normal}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{vertical-align:text-top;padding:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:first-of-type{padding-left:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-cell[_ngcontent-%COMP%]{font-weight:300;box-sizing:border-box}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]:not(:first-child){text-align:right;box-sizing:border-box;white-space:unset;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-cell[_ngcontent-%COMP%]:last-of-type{box-sizing:border-box;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]:last-of-type{box-sizing:border-box;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-default[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-default>*{justify-content:end}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-default>* .mat-sort-header-content{text-align:right}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-start[_ngcontent-%COMP%]{text-align:left;padding-left:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-start>*{justify-content:start}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-start>* .mat-sort-header-content{text-align:left}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-end[_ngcontent-%COMP%]{text-align:right;padding-right:1rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-end>*{justify-content:end}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-end>* .mat-sort-header-content{text-align:right}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .alignment-center[_ngcontent-%COMP%]{text-align:""}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-center>*{justify-content:center}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     th.alignment-center>* .mat-sort-header-content{text-align:""}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-arrow{color:#212121!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-arrow:hover{transform:rotate(180deg)!important;color:#ebebeb!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]   .additional-header[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow{opacity:.54!important;transform:rotate(180deg)!important;color:#ebebeb!important;size:3rem}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-container:not(.mat-sort-header-sorted) .mat-sort-header-arrow:hover{color:#8b8383!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-sort-header-content{white-space:normal}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-column-csv{white-space:nowrap!important;align-items:center}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     td.mat-column-csv{text-align:left!important;padding-left:1rem;padding-right:unset!important}[_nghost-%COMP%]   .data-table[_ngcontent-%COMP%]     .mat-column-Organ{min-width:12rem}']})}}return r})();const aLe=["table"],sX=()=>[];function lLe(r,n){if(1&r){const i=Xn();Y(0,"ccf-choose-version",6),ht("selectedVersion",function(a){return Vt(i),Ht(J().setData(a))}),W()}if(2&r){const i=J();j("releaseDate",i.versionData)("selectedDate",i.release)}}function cLe(r,n){1&r&&(Y(0,"a",7)(1,"span",8),ce(2,"download"),W(),ce(3,"Download CSV"),W()),2&r&&j("href","assets/table-data/"+J().release.file,wn)}let uLe=(()=>{class r{set tableScroller(i){const s=()=>i.measureScrollOffset("end")<=10,a=Oe(void 0).pipe(Y9(100),je(s));i.elementScrolled().pipe(je(s),function k2e(...r){return function R2e(...r){const n=km(r),i=y$(r,1/0);return qi((s,a)=>{Gh(i)($r([s,...r],n)).subscribe(a)})}(...r)}(a),Ts(!0),Kv(),function F2e(r){return n=>new pi(i=>n.subscribe({next:c=>r.run(()=>i.next(c)),error:c=>r.run(()=>i.error(c)),complete:()=>r.run(()=>i.complete())}))}(this.zone)).subscribe(c=>this.tableScrollAtEnd=c)}set headerInfo(i){this._headerInfo=this.createCellFunctions(i),this.displayedColumnsData=this.getColumnDefs(i)}get headerInfo(){return this._headerInfo}set additionalHeaders(i){this._additionalHeaders=i??[],this.additionalColumnsData=this.getColumnDefs(i)}get additionalHeaders(){return this._additionalHeaders}set cellHeaders(i){this._cellHeaders=i??[],this.cellHeadersData=this.getColumnDefs(i)}get cellHeaders(){return this._cellHeaders}constructor(i,s){this.dataService=i,this.zone=s,this.tableScrollAtEnd=!1,this.versionData=[],this.versionChooserDisabled=!1,this.isTotal=!1,this.isDownload=!1,this.displayedColumnsData=[],this.additionalColumnsData=[],this.cellHeadersData=[],this.tableData=Is,this.columns=Is,this._headerInfo=[],this._additionalHeaders=[],this._cellHeaders=[]}ngOnInit(){this.release=this.versionData[0],this.setData(this.release)}setData(i){const s=this.dataService.getData(i.file,this.displayedColumnsData);this.release=i,this.tableData=s.pipe(je(a=>a.data)),this.columns=s.pipe(je(a=>a.columns))}createCellFunctions(i){return i.map(s=>({...s,cell:new Function("element",`return ${s.cell}`)}))}getColumnDefs(i){return i?.map(s=>s.columnDef)??[]}static{this.\u0275fac=function(s){return new(s||r)(me(Uq),me(_t))}}static{this.\u0275cmp=Ge({type:r,selectors:[["table-version"]],viewQuery:function(s,a){if(1&s&&Kn(aLe,7,Cu),2&s){let l;St(l=It())&&(a.tableScroller=l.first)}},hostVars:2,hostBindings:function(s,a){2&s&&Lt("scroll-end",a.tableScrollAtEnd)},inputs:{versionData:"versionData",versionChooserDisabled:"versionChooserDisabled",isTotal:"isTotal",isDownload:"isDownload",headerInfo:"headerInfo",additionalHeaders:"additionalHeaders",cellHeaders:"cellHeaders"},standalone:!1,decls:8,vars:17,consts:[["table",""],[1,"download-csv-xlsx"],["class","mb-2r",3,"releaseDate","selectedDate","selectedVersion",4,"ngIf"],[2,"flex-grow","1"],["mat-raised-button","","download","","class","download-btn",3,"href",4,"ngIf"],["cdkScrollable","",1,"table",3,"typeCount","displayedColumns","columns","isTotal","isOrgan","additionalHeaders","additionalColumnsData","cellHeaders","cellHeadersData"],[1,"mb-2r",3,"selectedVersion","releaseDate","selectedDate"],["mat-raised-button","","download","",1,"download-btn",3,"href"],[1,"material-symbols-outlined"]],template:function(s,a){if(1&s&&(Y(0,"div",1),ge(1,lLe,1,2,"ccf-choose-version",2),Te(2,"div",3),ge(3,cLe,4,1,"a",4),W(),Te(4,"ccf-table",5,0),Zc(6,"async"),Zc(7,"async")),2&s){let l,c;L(),j("ngIf",!a.versionChooserDisabled),L(2),j("ngIf",a.isDownload),L(),j("typeCount",null!==(l=Jc(6,11,a.tableData))&&void 0!==l?l:Xl(15,sX))("displayedColumns",null!==(c=Jc(7,13,a.columns))&&void 0!==c?c:Xl(16,sX))("columns",a.headerInfo)("isTotal",a.isTotal)("isOrgan",!0)("additionalHeaders",a.additionalHeaders)("additionalColumnsData",a.additionalColumnsData)("cellHeaders",a.cellHeaders)("cellHeadersData",a.cellHeadersData)}},dependencies:[Do,Cu,BO,rX,Sm],styles:['[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   .version[_ngcontent-%COMP%], [_nghost-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:5rem}[_nghost-%COMP%]:not(.scroll-end):after{position:absolute;content:"";width:50px;top:5rem;bottom:0;right:0;pointer-events:none;background:linear-gradient(to left,#fff,#fff0)}[_nghost-%COMP%]   .download-csv-xlsx[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}[_nghost-%COMP%]   .download-btn[_ngcontent-%COMP%]:hover{background:#6750a414}[_nghost-%COMP%]   .download-btn[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .download-btn[_ngcontent-%COMP%]:active{background:#6750a41f}[_nghost-%COMP%]   .download-btn[_ngcontent-%COMP%]:disabled{background:#1d1b201f}[_nghost-%COMP%]   .margin[_ngcontent-%COMP%]{margin-right:1rem}@media (max-width: 26.75rem){[_nghost-%COMP%]:not(.scroll-end):after{top:8rem}[_nghost-%COMP%]   .download-csv-xlsx[_ngcontent-%COMP%]{flex-wrap:wrap}[_nghost-%COMP%]   .version[_ngcontent-%COMP%]{margin-bottom:2rem}[_nghost-%COMP%]   .download-btn[_ngcontent-%COMP%]{margin-bottom:1rem;width:100%}}']})}}return r})();function hLe(r,n){if(1&r&&(Y(0,"div",7)(1,"div",8)(2,"strong"),ce(3,"Presented by:"),W(),ce(4),W(),Y(5,"div"),Te(6,"img",9),W()()),2&r){const i=J().$implicit;L(4),jt(" ",i.presentedBy,""),L(2),j("src",i.orgImage,wn)("alt",i.alt)}}function fLe(r,n){1&r&&Te(0,"mat-divider")}function pLe(r,n){if(1&r&&(Y(0,"a",15),ce(1),W()),2&r){const i=n.$implicit;j("href",i.link,wn),L(),Ut(i.label)}}function mLe(r,n){if(1&r&&(Y(0,"div",13),ge(1,pLe,2,2,"a",14),W()),2&r){const i=J().$implicit;L(),j("ngForOf",i.button)}}function gLe(r,n){if(1&r&&(Y(0,"div",10)(1,"div",11)(2,"markdown")(3,"strong"),ce(4,"Winner: "),W(),ce(5),W()(),Y(6,"div")(7,"markdown"),ce(8),W()(),ge(9,mLe,2,1,"div",12),W()),2&r){const i=n.$implicit;L(5),Ut(i.winner),L(3),Ut(i.kaggleId),L(),j("ngIf",i.button)}}function _Le(r,n){if(1&r&&Te(0,"img",18),2&r){const i=n.$implicit;j("src",i.image,wn)("alt",i.alt)}}function yLe(r,n){if(1&r&&(Y(0,"div",16),ge(1,_Le,1,2,"img",17),W()),2&r){const i=J().$implicit;L(),j("ngForOf",i.userImage)}}function vLe(r,n){if(1&r&&(Y(0,"mat-card")(1,"div",1)(2,"div",2),ce(3),W(),ge(4,hLe,7,3,"div",3)(5,fLe,1,0,"mat-divider",4)(6,gLe,10,3,"div",5),W(),ge(7,yLe,2,1,"div",6),W()),2&r){const i=n.$implicit;L(3),Ut(i.title),L(),j("ngIf",i.presentedBy),L(),j("ngIf",i.matDivider),L(),j("ngForOf",i.winner),L(),j("ngIf",i.userImage)}}let bLe=(()=>{class r{constructor(){this.prizeCard=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-prize-card"]],inputs:{prizeCard:"prizeCard"},standalone:!1,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"content"],[1,"prize-place"],["class","presented-container",4,"ngIf"],[4,"ngIf"],["class","winner",4,"ngFor","ngForOf"],["class","users",4,"ngIf"],[1,"presented-container"],[1,"presented"],[3,"src","alt"],[1,"winner"],[1,"kaggle-id"],["class","buttons",4,"ngIf"],[1,"buttons"],["mat-stroked-button","","class","solution-button","target","_blank",3,"href",4,"ngFor","ngForOf"],["mat-stroked-button","","target","_blank",1,"solution-button",3,"href"],[1,"users"],["class","user-image",3,"src","alt",4,"ngFor","ngForOf"],[1,"user-image",3,"src","alt"]],template:function(s,a){1&s&&ge(0,vLe,8,5,"mat-card",0),2&s&&j("ngForOf",a.prizeCard)},dependencies:[Ji,Do,Ca,uf,gf,Qm],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;padding:2rem;margin-bottom:1rem}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{max-width:20rem}[_nghost-%COMP%]   .presented-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;max-width:inherit}[_nghost-%COMP%]   .presented[_ngcontent-%COMP%]{max-width:8.438rem;display:flex;flex-direction:column;align-items:flex-start;gap:.5rem;font-weight:300;font-size:1rem;padding-bottom:1rem}[_nghost-%COMP%]   .winner[_ngcontent-%COMP%]{padding-top:1rem;gap:.5rem;font-size:1rem;max-width:20rem;font-weight:300;display:flex;flex-direction:column}[_nghost-%COMP%]   .prize-place[_ngcontent-%COMP%]{font-weight:400;font-size:20px;line-height:1.5rem;letter-spacing:.005rem;padding-bottom:1rem}[_nghost-%COMP%]   .solution-button[_ngcontent-%COMP%]{margin-top:1rem;margin-right:1rem;display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;letter-spacing:0}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .users[_ngcontent-%COMP%]{padding-left:3rem}[_nghost-%COMP%]   .user-image[_ngcontent-%COMP%]{padding-right:1rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:none}[_nghost-%COMP%]     p{margin-block-start:unset;margin-block-end:unset;margin-inline-start:unset;margin-inline-end:unset}@media (max-width: 26.75rem){[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{flex-wrap:wrap;flex-direction:column}[_nghost-%COMP%]   .users[_ngcontent-%COMP%]{padding:unset;padding-top:3rem}}  .kaggle-id a:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}"]})}}return r})();const ALe=["addListener","removeListener"],xLe=["addEventListener","removeEventListener"],wLe=["on","off"];function r2(r,n,i,s){if(Et(i)&&(s=i,i=void 0),s)return r2(r,n,i).pipe(rC(s));const[a,l]=function MLe(r){return Et(r.addEventListener)&&Et(r.removeEventListener)}(r)?xLe.map(c=>d=>r[c](n,d,i)):function CLe(r){return Et(r.addListener)&&Et(r.removeListener)}(r)?ALe.map(oX(r,n)):function ELe(r){return Et(r.on)&&Et(r.off)}(r)?wLe.map(oX(r,n)):[];if(!a&&fk(r))return Ss(c=>r2(c,n,i))(Ks(r));if(!a)throw new TypeError("Invalid event target");return new pi(c=>{const d=(...u)=>c.next(1<u.length?u:u[0]);return a(d),()=>l(d)})}function oX(r,n){return i=>s=>r[i](n,s)}const aX=["*"],SLe=["content"],ILe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],TLe=["mat-drawer","mat-drawer-content","*"];function DLe(r,n){if(1&r){const i=Xn();Y(0,"div",1),ht("click",function(){return Vt(i),Ht(J()._onBackdropClicked())}),W()}2&r&&Lt("mat-drawer-shown",J()._isShowingBackdrop())}function RLe(r,n){1&r&&(Y(0,"mat-drawer-content"),cn(1,2),W())}const kLe=new se("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function PLe(){return!1}}),lX=new se("MAT_DRAWER_CONTAINER");let JE=(()=>{class r extends Cu{_platform=D(Qr);_changeDetectorRef=D(Zi);_container=D(dX);constructor(){super(D(Mt),D(QF),D(_t))}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;const{start:i,end:s}=this._container;return null!=i&&"over"!==i.mode&&i.opened||null!=s&&"over"!==s.mode&&s.opened}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(s,a){2&s&&(Eo("margin-left",a._container._contentMargins.left,"px")("margin-right",a._container._contentMargins.right,"px"),Lt("mat-drawer-content-hidden",a._shouldBeHidden()))},features:[Rt([{provide:Cu,useExisting:r}]),Je],ngContentSelectors:aX,decls:1,vars:0,template:function(s,a){1&s&&(lr(),cn(0))},encapsulation:2,changeDetection:0})}return r})(),cX=(()=>{class r{_elementRef=D(Mt);_focusTrapFactory=D(g7);_focusMonitor=D(cf);_platform=D(Qr);_ngZone=D(_t);_renderer=D(Ms);_interactivityChecker=D(kF);_doc=D(rn,{optional:!0});_container=D(lX,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(i){(i="end"===i?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(i),this._position=i,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(i){this._mode=i,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(i){this._disableClose=sf(i)}_disableClose=!1;get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(i){("true"===i||"false"===i||null==i)&&(i=sf(i)),this._autoFocus=i}_autoFocus;get opened(){return this._opened}set opened(i){this.toggle(sf(i))}_opened=!1;_openedVia;_animationStarted=new Qe;_animationEnd=new Qe;openedChange=new ue(!0);_openedStream=this.openedChange.pipe(ni(i=>i),je(()=>{}));openedStart=this._animationStarted.pipe(ni(()=>this.opened),DC(void 0));_closedStream=this.openedChange.pipe(ni(i=>!i),je(()=>{}));closedStart=this._animationStarted.pipe(ni(()=>!this.opened),DC(void 0));_destroyed=new Qe;onPositionChanged=new ue;_content;_modeChanged=new Qe;_injector=D(On);_changeDetectorRef=D(Zi);constructor(){this.openedChange.pipe(Nn(this._destroyed)).subscribe(i=>{i?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{const i=this._elementRef.nativeElement;r2(i,"keydown").pipe(ni(s=>27===s.keyCode&&!this.disableClose&&!xl(s)),Nn(this._destroyed)).subscribe(s=>this._ngZone.run(()=>{this.close(),s.stopPropagation(),s.preventDefault()})),this._eventCleanups=[this._renderer.listen(i,"transitionrun",this._handleTransitionEvent),this._renderer.listen(i,"transitionend",this._handleTransitionEvent),this._renderer.listen(i,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(i,s){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const a=()=>{l(),c(),i.removeAttribute("tabindex")},l=this._renderer.listen(i,"blur",a),c=this._renderer.listen(i,"mousedown",a)})),i.focus(s)}_focusByCssSelector(i,s){let a=this._elementRef.nativeElement.querySelector(i);a&&this._forceFocus(a,s)}_takeFocus(){if(!this._focusTrap)return;const i=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":_a(()=>{!this._focusTrap.focusInitialElement()&&"function"==typeof i.focus&&i.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(i){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,i):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const i=this._doc.activeElement;return!!i&&this._elementRef.nativeElement.contains(i)}ngAfterViewInit(){this._isAttached=!0,"end"===this._position&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(i=>i()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(i){return this.toggle(!0,i)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(i=!this.opened,s){i&&s&&(this._openedVia=s);const a=this._setOpen(i,!i&&this._isFocusWithinDrawer(),this._openedVia||"program");return i||(this._openedVia=null),a}_setOpen(i,s,a){return i===this._opened?Promise.resolve(i?"open":"close"):(this._opened=i,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",i),!i&&s&&this._restoreFocus(a),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe(dr(1)).subscribe(c=>l(c?"open":"close"))}))}_setIsAnimating(i){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",i)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(i){if(!this._platform.isBrowser)return;const s=this._elementRef.nativeElement,a=s.parentNode;"end"===i?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),a.insertBefore(this._anchor,s)),a.appendChild(s)):this._anchor&&this._anchor.parentNode.insertBefore(s,this._anchor)}_handleTransitionEvent=i=>{i.target===this._elementRef.nativeElement&&this._ngZone.run(()=>{"transitionrun"===i.type?this._animationStarted.next(i):("transitionend"===i.type&&this._setIsAnimating(!1),this._animationEnd.next(i))})};static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-drawer"]],viewQuery:function(s,a){if(1&s&&Kn(SLe,5),2&s){let l;St(l=It())&&(a._content=l.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:11,hostBindings:function(s,a){2&s&&(en("align",null),Eo("visibility",a._container||a.opened?null:"hidden"),Lt("mat-drawer-end","end"===a.position)("mat-drawer-over","over"===a.mode)("mat-drawer-push","push"===a.mode)("mat-drawer-side","side"===a.mode))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:aX,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(s,a){1&s&&(lr(),Y(0,"div",1,0),cn(2),W())},dependencies:[Cu],encapsulation:2,changeDetection:0})}return r})(),dX=(()=>{class r{_dir=D(wa,{optional:!0});_element=D(Mt);_ngZone=D(_t);_changeDetectorRef=D(Zi);_animationMode=D(xo,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new bh;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(i){this._autosize=sf(i)}_autosize=D(kLe);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(i){this._backdropOverride=null==i?null:sf(i)}_backdropOverride;backdropClick=new ue;_start;_end;_left;_right;_destroyed=new Qe;_doCheckSubject=new Qe;_contentMargins={left:null,right:null};_contentMarginChanges=new Qe;get scrollable(){return this._userContent||this._content}_injector=D(On);constructor(){const i=D(Qr),s=D(ug);this._dir?.change.pipe(Nn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),s.change().pipe(Nn(this._destroyed)).subscribe(()=>this.updateContentMargins()),"NoopAnimations"!==this._animationMode&&i.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Ts(this._allDrawers),Nn(this._destroyed)).subscribe(i=>{this._drawers.reset(i.filter(s=>!s._container||s._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ts(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(i=>{this._watchDrawerToggle(i),this._watchDrawerPosition(i),this._watchDrawerMode(i)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(_b(10),Nn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(i=>i.open())}close(){this._drawers.forEach(i=>i.close())}updateContentMargins(){let i=0,s=0;if(this._left&&this._left.opened)if("side"==this._left.mode)i+=this._left._getWidth();else if("push"==this._left.mode){const a=this._left._getWidth();i+=a,s-=a}if(this._right&&this._right.opened)if("side"==this._right.mode)s+=this._right._getWidth();else if("push"==this._right.mode){const a=this._right._getWidth();s+=a,i-=a}i=i||null,s=s||null,(i!==this._contentMargins.left||s!==this._contentMargins.right)&&(this._contentMargins={left:i,right:s},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(i){i._animationStarted.pipe(Nn(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==i.mode&&i.openedChange.pipe(Nn(this._drawers.changes)).subscribe(()=>this._setContainerClass(i.opened))}_watchDrawerPosition(i){i.onPositionChanged.pipe(Nn(this._drawers.changes)).subscribe(()=>{_a({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(i){i._modeChanged.pipe(Nn(Ds(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(i){const s=this._element.nativeElement.classList,a="mat-drawer-container-has-open";i?s.add(a):s.remove(a)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(i=>{"end"==i.position?this._end=i:this._start=i}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(i=>i&&!i.disableClose&&this._drawerHasBackdrop(i)).forEach(i=>i._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(i){return null!=i&&i.opened}_drawerHasBackdrop(i){return null==this._backdropOverride?!!i&&"side"!==i.mode:this._backdropOverride}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(s,a,l){if(1&s&&(Gi(l,JE,5),Gi(l,cX,5)),2&s){let c;St(c=It())&&(a._content=c.first),St(c=It())&&(a._allDrawers=c)}},viewQuery:function(s,a){if(1&s&&Kn(JE,5),2&s){let l;St(l=It())&&(a._userContent=l.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(s,a){2&s&&Lt("mat-drawer-container-explicit-backdrop",a._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Rt([{provide:lX,useExisting:r}])],ngContentSelectors:TLe,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(s,a){1&s&&(lr(ILe),ge(0,DLe,1,2,"div",0),cn(1),cn(2,1),ge(3,RLe,2,0,"mat-drawer-content")),2&s&&(Vr(a.hasBackdrop?0:-1),L(3),Vr(a._content?-1:3))},dependencies:[JE],styles:[".mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}"],encapsulation:2,changeDetection:0})}return r})(),FLe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,pf,pf,ci]})}return r})();function uX(r,n){return qi(zQ(r,n,arguments.length>=2,!1,!0))}class hX{dataNodes;expansionModel=new pO(!0);trackBy;getLevel;isExpandable;getChildren;toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let i=[n];i.push(...this.getDescendants(n)),this.expansionModel.select(...i.map(s=>this._trackByValue(s)))}collapseDescendants(n){let i=[n];i.push(...this.getDescendants(n)),this.expansionModel.deselect(...i.map(s=>this._trackByValue(s)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}}class OLe extends hX{getChildren;options;constructor(n,i){super(),this.getChildren=n,this.options=i,this.options&&(this.trackBy=this.options.trackBy),this.options?.isExpandable&&(this.isExpandable=this.options.isExpandable)}expandAll(){this.expansionModel.clear();const n=this.dataNodes.reduce((i,s)=>[...i,...this.getDescendants(s),s],[]);this.expansionModel.select(...n.map(i=>this._trackByValue(i)))}getDescendants(n){const i=[];return this._getDescendants(i,n),i.splice(1)}_getDescendants(n,i){n.push(i);const s=this.getChildren(i);Array.isArray(s)?s.forEach(a=>this._getDescendants(n,a)):Hh(s)&&s.pipe(dr(1),ni(Boolean)).subscribe(a=>{for(const l of a)this._getDescendants(n,l)})}}const eM=new se("CDK_TREE_NODE_OUTLET_NODE");let Qb=(()=>{class r{viewContainer=D(Ki);_node=D(eM,{optional:!0});constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkTreeNodeOutlet",""]]})}return r})();class NLe{$implicit;level;index;count;constructor(n){this.$implicit=n}}let tM=(()=>{class r{template=D(zi);when;constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return r})();function fX(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}let vg=(()=>{class r{_differs=D(Kl);_changeDetectorRef=D(Zi);_elementRef=D(Mt);_dir=D(wa);_onDestroy=new Qe;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(i){this._dataSource!==i&&this._switchDataSource(i)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new Fi({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new Fi([]);_nodeType=new Fi(null);_nodes=new Fi(new Map);_keyManagerNodes=new Fi([]);_keyManagerFactory=D(RF);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){const i=this._nodeDefs.filter(s=>!s.when);this._defaultNodeDef=i[0]}_setNodeTypeIfUnset(i){null===this._nodeType.value&&this._nodeType.next(i)}_switchDataSource(i){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),i||this._nodeOutlet.viewContainer.clear(),this._dataSource=i,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new pO(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let i;IE(this._dataSource)?i=this._dataSource.connect(this):Hh(this._dataSource)?i=this._dataSource:Array.isArray(this._dataSource)&&(i=Oe(this._dataSource)),i&&(this._dataSubscription=this._getRenderData(i).pipe(Nn(this._onDestroy)).subscribe(s=>{this._renderDataChanges(s)}))}_getRenderData(i){const s=this._getExpansionModel();return _l([i,this._nodeType,s.changed.pipe(Ts(null),Ar(a=>{this._emitExpansionChanges(a)}))]).pipe(br(([a,l])=>null===l?Oe({renderNodes:a,flattenedNodes:null,nodeType:l}):this._computeRenderingData(a,l).pipe(je(c=>({...c,nodeType:l})))))}_renderDataChanges(i){null!==i.nodeType?(this._updateCachedData(i.flattenedNodes),this.renderNodeChanges(i.renderNodes),this._updateKeyManagerItems(i.flattenedNodes)):this.renderNodeChanges(i.renderNodes)}_emitExpansionChanges(i){if(!i)return;const s=this._nodes.value;for(const a of i.added)s.get(a)?._emitExpansionState(!0);for(const a of i.removed)s.get(a)?._emitExpansionState(!1)}_initializeKeyManager(){const i=_l([this._keyManagerNodes,this._nodes]).pipe(je(([a,l])=>a.reduce((c,d)=>{const u=l.get(this._getExpansionKey(d));return u&&c.push(u),c},[])));this._keyManager=this._keyManagerFactory(i,{trackBy:a=>this._getExpansionKey(a.data),skipPredicate:a=>!!a.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value})}_initializeDataDiffer(){const i=this.trackBy??((s,a)=>this._getExpansionKey(a));this._dataDiffer=this._differs.find([]).create(i)}_checkTreeControlUsage(){}renderNodeChanges(i,s=this._dataDiffer,a=this._nodeOutlet.viewContainer,l){const c=s.diff(i);!c&&!this._viewInit||(c?.forEachOperation((d,u,h)=>{if(null==d.previousIndex)this.insertNode(i[h],h,a,l);else if(null==h)a.remove(u);else{const f=a.get(u);a.move(f,h)}}),c?.forEachIdentityChange(d=>{const u=d.item;null!=d.currentIndex&&(a.get(d.currentIndex).context.$implicit=u)}),l?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(i,s){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(l=>l.when&&l.when(s,i))||this._defaultNodeDef}insertNode(i,s,a,l){const c=this._getLevelAccessor(),d=this._getNodeDef(i,s),u=this._getExpansionKey(i),h=new NLe(i);l??=this._parents.get(u)??void 0,h.level=c?c(i):void 0!==l&&this._levels.has(this._getExpansionKey(l))?this._levels.get(this._getExpansionKey(l))+1:0,this._levels.set(u,h.level),(a||this._nodeOutlet.viewContainer).createEmbeddedView(d.template,h,s),yc.mostRecentTreeNode&&(yc.mostRecentTreeNode.data=i)}isExpanded(i){return!(!this.treeControl?.isExpanded(i)&&!this._expansionModel?.isSelected(this._getExpansionKey(i)))}toggle(i){this.treeControl?this.treeControl.toggle(i):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(i))}expand(i){this.treeControl?this.treeControl.expand(i):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(i))}collapse(i){this.treeControl?this.treeControl.collapse(i):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(i))}toggleDescendants(i){this.treeControl?this.treeControl.toggleDescendants(i):this._expansionModel&&(this.isExpanded(i)?this.collapseDescendants(i):this.expandDescendants(i))}expandDescendants(i){if(this.treeControl)this.treeControl.expandDescendants(i);else if(this._expansionModel){const s=this._expansionModel;s.select(this._getExpansionKey(i)),this._getDescendants(i).pipe(dr(1),Nn(this._onDestroy)).subscribe(a=>{s.select(...a.map(l=>this._getExpansionKey(l)))})}}collapseDescendants(i){if(this.treeControl)this.treeControl.collapseDescendants(i);else if(this._expansionModel){const s=this._expansionModel;s.deselect(this._getExpansionKey(i)),this._getDescendants(i).pipe(dr(1),Nn(this._onDestroy)).subscribe(a=>{s.deselect(...a.map(l=>this._getExpansionKey(l)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(i=>this._expansionModel?.select(...i))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(i=>this._expansionModel?.deselect(...i))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(i){const s=this._getLevelAccessor(),a=this._expansionModel??this.treeControl?.expansionModel;if(!a)return Oe([]);const l=this._getExpansionKey(i),c=a.changed.pipe(br(u=>u.added.includes(l)?Oe(!0):u.removed.includes(l)?Oe(!1):Is),Ts(this.isExpanded(i)));if(s)return _l([c,this._flattenedNodes]).pipe(je(([u,h])=>u?this._findChildrenByLevel(s,h,i,1):[]));const d=this._getChildrenAccessor();if(d)return yb(d(i)??[]);throw fX()}_findChildrenByLevel(i,s,a,l){const c=this._getExpansionKey(a),d=s.findIndex(p=>this._getExpansionKey(p)===c),u=i(a),h=u+l,f=[];for(let p=d+1;p<s.length;p++){const g=i(s[p]);if(g<=u)break;g<=h&&f.push(s[p])}return f}_registerNode(i){this._nodes.value.set(this._getExpansionKey(i.data),i),this._nodes.next(this._nodes.value)}_unregisterNode(i){this._nodes.value.delete(this._getExpansionKey(i.data)),this._nodes.next(this._nodes.value)}_getLevel(i){return this._levels.get(this._getExpansionKey(i))}_getSetSize(i){return this._getAriaSet(i).length}_getPositionInSet(i){const s=this._getAriaSet(i),a=this._getExpansionKey(i);return s.findIndex(l=>this._getExpansionKey(l)===a)+1}_getNodeParent(i){const s=this._parents.get(this._getExpansionKey(i.data));return s&&this._nodes.value.get(this._getExpansionKey(s))}_getNodeChildren(i){return this._getDirectChildren(i.data).pipe(je(s=>s.reduce((a,l)=>{const c=this._nodes.value.get(this._getExpansionKey(l));return c&&a.push(c),a},[])))}_sendKeydownToKeyManager(i){if(i.target===this._elementRef.nativeElement)this._keyManager.onKeydown(i);else{const s=this._nodes.getValue();for(const[,a]of s)if(i.target===a._elementRef.nativeElement){this._keyManager.onKeydown(i);break}}}_getDescendants(i){if(this.treeControl)return Oe(this.treeControl.getDescendants(i));if(this.levelAccessor)return Oe(this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,i,1/0));if(this.childrenAccessor)return this._getAllChildrenRecursively(i).pipe(uX((s,a)=>(s.push(...a),s),[]));throw fX()}_getAllChildrenRecursively(i){return this.childrenAccessor?yb(this.childrenAccessor(i)).pipe(dr(1),br(s=>{for(const a of s)this._parents.set(this._getExpansionKey(a),i);return Oe(...s).pipe(fu(a=>$h(Oe([a]),this._getAllChildrenRecursively(a))))})):Oe([])}_getExpansionKey(i){return this.expansionKey?.(i)??i}_getAriaSet(i){const s=this._getExpansionKey(i),a=this._parents.get(s),l=a?this._getExpansionKey(a):null;return this._ariaSets.get(l)??[i]}_findParentForNode(i,s,a){if(!a.length)return null;const l=this._levels.get(this._getExpansionKey(i))??0;for(let c=s-1;c>=0;c--){const d=a[c];if((this._levels.get(this._getExpansionKey(d))??0)<l)return d}return null}_flattenNestedNodesWithExpansion(i,s=0){const a=this._getChildrenAccessor();return a?Oe(...i).pipe(fu(l=>{const c=this._getExpansionKey(l);this._parents.has(c)||this._parents.set(c,null),this._levels.set(c,s);const d=yb(a(l));return $h(Oe([l]),d.pipe(dr(1),Ar(u=>{this._ariaSets.set(c,[...u??[]]);for(const h of u??[]){const f=this._getExpansionKey(h);this._parents.set(f,l),this._levels.set(f,s+1)}}),br(u=>u?this._flattenNestedNodesWithExpansion(u,s+1).pipe(je(h=>this.isExpanded(l)?h:[])):Oe([]))))}),uX((l,c)=>(l.push(...c),l),[])):Oe([...i])}_computeRenderingData(i,s){if(this.childrenAccessor&&"flat"===s)return this._ariaSets.set(null,[...i]),this._flattenNestedNodesWithExpansion(i).pipe(je(a=>({renderNodes:a,flattenedNodes:a})));if(this.levelAccessor&&"nested"===s){const a=this.levelAccessor;return Oe(i.filter(l=>0===a(l))).pipe(je(l=>({renderNodes:l,flattenedNodes:i})),Ar(({flattenedNodes:l})=>{this._calculateParents(l)}))}return"flat"===s?Oe({renderNodes:i,flattenedNodes:i}).pipe(Ar(({flattenedNodes:a})=>{this._calculateParents(a)})):(this._ariaSets.set(null,[...i]),this._flattenNestedNodesWithExpansion(i).pipe(je(a=>({renderNodes:i,flattenedNodes:a}))))}_updateCachedData(i){this._flattenedNodes.next(i)}_updateKeyManagerItems(i){this._keyManagerNodes.next(i)}_calculateParents(i){const s=this._getLevelAccessor();if(s){this._parents.clear(),this._ariaSets.clear();for(let a=0;a<i.length;a++){const l=i[a],c=this._getExpansionKey(l);this._levels.set(c,s(l));const d=this._findParentForNode(l,a,i);this._parents.set(c,d);const u=d?this._getExpansionKey(d):null,h=this._ariaSets.get(u)??[];h.splice(a,0,l),this._ariaSets.set(u,h)}}}_forEachExpansionKey(i){const s=[],a=[];this._nodes.value.forEach(l=>{s.push(this._getExpansionKey(l.data)),a.push(this._getDescendants(l.data))}),a.length>0?_l(a).pipe(dr(1),Nn(this._onDestroy)).subscribe(l=>{l.forEach(c=>c.forEach(d=>s.push(this._getExpansionKey(d)))),i(s)}):i(s)}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["cdk-tree"]],contentQueries:function(s,a,l){if(1&s&&Gi(l,tM,5),2&s){let c;St(c=It())&&(a._nodeDefs=c)}},viewQuery:function(s,a){if(1&s&&Kn(Qb,7),2&s){let l;St(l=It())&&(a._nodeOutlet=l.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(s,a){1&s&&ht("keydown",function(c){return a._sendKeydownToKeyManager(c)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[Qb],encapsulation:2})}return r})(),yc=(()=>{class r{_elementRef=D(Mt);_tree=D(vg);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(i){}get isExpandable(){return this._isExpandable()}set isExpandable(i){this._inputIsExpandable=i,(!this.data||this._isExpandable)&&this._inputIsExpandable&&(this._inputIsExpanded?this.expand():!1===this._inputIsExpanded&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(i){this._inputIsExpanded=i,i?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new ue;expandedChange=new ue;static mostRecentTreeNode=null;_destroyed=new Qe;_dataChanges=new Qe;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(i){i!==this._data&&(this._data=i,this._dataChanges.next())}_data;get isLeafNode(){return void 0!==this._tree.treeControl?.isExpandable&&!this._tree.treeControl.isExpandable(this._data)||void 0===this._tree.treeControl?.isExpandable&&0===this._tree.treeControl?.getDescendants(this._data).length}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=D(Zi);constructor(){r.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=function BLe(r){let n=r.parentElement;for(;n&&!LLe(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?Ls(n.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(je(()=>this.isExpanded),Kv()).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){r.mostRecentTreeNode===this&&(r.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(i){this.expandedChange.emit(i)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(s,a){1&s&&ht("click",function(){return a._setActiveItem()})("focus",function(){return a._focusItem()}),2&s&&(Rh("tabindex",a._tabindex),en("aria-expanded",a._getAriaExpanded())("aria-level",a.level+1)("aria-posinset",a._getPositionInSet())("aria-setsize",a._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",ct],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",ct],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return r})();function LLe(r){const n=r.classList;return!(!n?.contains("cdk-nested-tree-node")&&!n?.contains("cdk-tree"))}let s2=(()=>{class r extends yc{_type="nested";_differs=D(Kl);_dataDiffer;_children;nodeOutlet;constructor(){super()}ngAfterContentInit(){this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),this._tree._getDirectChildren(this.data).pipe(Nn(this._destroyed)).subscribe(i=>this.updateChildrenNodes(i)),this.nodeOutlet.changes.pipe(Nn(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(i){const s=this._getNodeOutlet();i&&(this._children=i),s&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,s.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const i=this._getNodeOutlet();i&&(i.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const i=this.nodeOutlet;return i&&i.find(s=>!s._node||s._node===this)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["cdk-nested-tree-node"]],contentQueries:function(s,a,l){if(1&s&&Gi(l,Qb,5),2&s){let c;St(c=It())&&(a.nodeOutlet=c)}},hostAttrs:[1,"cdk-nested-tree-node"],exportAs:["cdkNestedTreeNode"],features:[Rt([{provide:yc,useExisting:r},{provide:eM,useExisting:r}]),Je]})}return r})(),a2=(()=>{class r{_tree=D(vg);_treeNode=D(yc);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(s,a){1&s&&ht("click",function(c){return a._toggle(),c.stopPropagation()})("keydown.Enter",function(c){return a._toggle(),c.preventDefault()})("keydown.Space",function(c){return a._toggle(),c.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",ct]}})}return r})(),pX=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({})}return r})(),mX=(()=>{class r extends yc{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(i){this._tabIndexInputBinding=i}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return function zLe(r){return!!r._isNoopTreeKeyManager}(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(i){this.isDisabled=i}constructor(){super();const i=D(new ex("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(i)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(s,a){1&s&&ht("click",function(){return a._focusItem()}),2&s&&(Rh("tabindex",a._getTabindexAttribute()),en("aria-expanded",a._getAriaExpanded())("aria-level",a.level+1)("aria-posinset",a._getPositionInSet())("aria-setsize",a._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",i=>null==i?0:Ls(i)],disabled:[2,"disabled","disabled",ct]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[Rt([{provide:yc,useExisting:r}]),Je]})}return r})(),gX=(()=>{class r extends tM{data;static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[Rt([{provide:tM,useExisting:r}]),Je]})}return r})(),_X=(()=>{class r extends s2{node;get disabled(){return this.isDisabled}set disabled(i){this.isDisabled=i}get tabIndex(){return this.isDisabled?-1:this._tabIndex}set tabIndex(i){this._tabIndex=i}_tabIndex;ngOnInit(){super.ngOnInit()}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],inputs:{node:[0,"matNestedTreeNode","node"],disabled:[2,"disabled","disabled",ct],tabIndex:[2,"tabIndex","tabIndex",i=>null==i?0:Ls(i)]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matNestedTreeNode"],features:[Rt([{provide:s2,useExisting:r},{provide:yc,useExisting:r},{provide:eM,useExisting:r}]),Je]})}return r})(),nM=(()=>{class r{viewContainer=D(Ki);_node=D(eM,{optional:!0});static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","matTreeNodeOutlet",""]],features:[Rt([{provide:Qb,useExisting:r}])]})}return r})(),yX=(()=>{class r extends vg{_nodeOutlet=void 0;static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-tree"]],viewQuery:function(s,a){if(1&s&&Kn(nM,7),2&s){let l;St(l=It())&&(a._nodeOutlet=l.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[Rt([{provide:vg,useExisting:r}]),Je],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(s,a){1&s&&Hr(0,0)},dependencies:[nM],styles:[".mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}"],encapsulation:2})}return r})(),vX=(()=>{class r extends a2{static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[Rt([{provide:a2,useExisting:r}]),Je]})}return r})(),HLe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[pX,ci,ci]})}return r})();class GLe extends SE{get data(){return this._data.value}set data(n){this._data.next(n)}_data=new Fi([]);connect(n){return Ds(n.viewChange,this._data).pipe(je(()=>this.data))}disconnect(){}}const bX=[{menuName:"About",card:[{icon:"assets/images/hubmap-consortium.svg",title:"HuBMAP Consortium",url:"https://hubmapconsortium.org/",description:"HuBMAP all access: Learn about us, our policies, data, and tools. Explore our publications and how to work with us."}]},{menuName:"Data",card:[{icon:"assets/images/hubmap-portal.svg",title:"HuBMAP Data Portal",url:"https://portal.hubmapconsortium.org/",description:"Explore, visualize and download consortium-generated spatial and single cell data for the human body."},{icon:"assets/images/hubmap-portal.svg",title:"Data Portal Workspaces",url:"https://portal.hubmapconsortium.org/workspaces",description:"Access HuBMAP data in a lightweight exploration platform and perform analyses directly within the portal."}]},{menuName:"Atlas",card:[{icon:"assets/images/hra.svg",title:"Human Reference Atlas",url:"https://humanatlas.io/",description:"Use the HRA Portal to access atlas data, explore atlas functionality, and contribute to the Human Reference Atlas."},{icon:"assets/images/hubmap-eui.svg",title:"Exploration User Interface",url:"https://apps.humanatlas.io/eui/",description:"Explore and validate spatially registered single-cell datasets in three-dimensions across organs."},{icon:"assets/images/reporter.svg",title:"ASCT+B Reporter",url:"https://hubmapconsortium.github.io/ccf-asct-reporter/",description:"Explore and compare ASCT+B tables and construct validated panels for multiplexed antibody-based imaging (OMAPs) tables."}]},{menuName:"Analytics Tools",card:[{icon:"assets/images/azimuth.svg",title:"Azimuth",url:"https://azimuth.hubmapconsortium.org/",description:"Azimuth uses a reference dataset to process, analyze, and interpret single-cell RNA-seq or ATAC-seq experiments."},{icon:"assets/images/fusion.svg",title:"FUSION",url:"http://fusion.hubmapconsortium.org/?utm_source=hubmap",description:"Functional Unit State Identification and Navigation with WSI."},{icon:"assets/images/antibody.svg",title:"Antibody Validation Reports",url:"https://avr.hubmapconsortium.org/",description:"Provide antibody details for multiplex imaging assays and capture data requested by journals for manuscript submission."}]}];function $Le(r,n){if(1&r&&(Y(0,"a",2),Te(1,"img"),Y(2,"span")(3,"div",3),ce(4),W(),Y(5,"div",4),ce(6),W()()()),2&r){const i=n.$implicit;j("href",i.url,wn),L(),en("src",i.icon,wn)("alt",i.title),L(3),Ut(i.title),L(2),Ut(i.description)}}function QLe(r,n){1&r&&iv(0,$Le,7,5,"a",2,nv),2&r&&rv(J().$implicit.card)}function jLe(r,n){if(1&r&&(Y(0,"div",0)(1,"div",1),ce(2),W(),ge(3,QLe,2,0),W()),2&r){const i=n.$implicit;L(2),Ut(i.menuName),L(),Vr(i.card?3:-1)}}let AX=(()=>{class r{constructor(){this.navItems=CU()}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["hubmap-nav"]],inputs:{navItems:[1,"navItems"]},standalone:!1,decls:2,vars:0,consts:[[1,"item-wrapper"],[1,"menu-name"],["target","_blank","rel","noopener noreferrer",1,"app-card",3,"href"],[1,"app-title"],[1,"app-description"]],template:function(s,a){1&s&&iv(0,jLe,4,2,"div",0,nv),2&s&&rv(a.navItems())},styles:["[_nghost-%COMP%]{display:block;width:100%;font-size:.875rem;line-height:1.3125rem;font-weight:300;letter-spacing:.005em}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]{padding:.5rem 0}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]:not(:last-child){border-bottom:solid 1px rgba(0,0,0,.1215686275)}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .menu-name[_ngcontent-%COMP%]{margin-bottom:2px;margin-left:1.5rem;color:#444c65}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .app-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:3.5rem auto;gap:.75rem;padding:.25rem 1.25rem;font-weight:inherit}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .app-card[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .app-card[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{color:#444a65}[_nghost-%COMP%]   .item-wrapper[_ngcontent-%COMP%]   .app-card[_ngcontent-%COMP%]   .app-description[_ngcontent-%COMP%]{color:#212121;font-size:.75rem;line-height:1.125rem;font-weight:300;letter-spacing:.005em}"],changeDetection:0})}}return r})();const WLe=()=>["cdk-overlay-dark-backdrop","menu-tree-backdrop"],qLe=r=>["menu-tree-panel",r],YLe=r=>[r];function XLe(r,n){if(1&r&&(Y(0,"mat-icon",5),ce(1),W()),2&r){const i=J();L(),Ut(i.icon)}}function KLe(r,n){1&r&&(Y(0,"mat-icon"),ce(1),W()),2&r&&(J(),L(),Ut("menu"))}function ZLe(r,n){if(1&r&&(Y(0,"div",16),ce(1),W()),2&r){const i=J().$implicit;j("routerLink",ra(2,YLe,i.route)),L(),jt(" ",i.menuName," ")}}function JLe(r,n){1&r&&Te(0,"mat-divider",17)}function e3e(r,n){if(1&r){const i=Xn();Y(0,"div",18),ht("click",function(){Vt(i);const a=J().$implicit;return Ht(J(2).externalWindow(a.url))}),ce(1),W()}if(2&r){const i=J().$implicit;L(),jt(" ",i.menuName," ")}}function t3e(r,n){if(1&r){const i=Xn();Y(0,"div",19),ht("click",function(){Vt(i);const a=J().$implicit;return Ht(J(2).scrollTo(a.id))}),ce(1),W()}if(2&r){const i=J().$implicit;L(),jt(" ",i.menuName," ")}}function n3e(r,n){1&r&&Te(0,"mat-divider")}function i3e(r,n){if(1&r){const i=Xn();Y(0,"mat-tree-node",10),ht("click",function(){Vt(i);const a=J(2);return Ht(a.isOpen=!a.isOpen)}),ge(1,ZLe,2,4,"div",11)(2,JLe,1,0,"mat-divider",12)(3,e3e,2,1,"div",13)(4,t3e,2,1,"div",14)(5,n3e,1,0,"mat-divider",15),W()}if(2&r){const i=n.$implicit;L(),j("ngIf",i.route),L(),j("ngIf",i.divider),L(),j("ngIf",i.url),L(),j("ngIf",i.id),L(),j("ngIf",i.id)}}function r3e(r,n){if(1&r){const i=Xn();Y(0,"mat-nested-tree-node")(1,"div",20),ht("click",function(){const a=Vt(i).$implicit;return Ht(J(2).collapseNonActiveNodes(a))}),ce(2),Y(3,"button",21)(4,"mat-icon"),ce(5,"arrow_drop_down"),W()()(),Y(6,"div",22),Hr(7,23),W()()}if(2&r){const i=n.$implicit,s=J(2);L(),en("aria-label","Toggle "+i.menuName),L(),jt(" ",i.menuName," "),L(2),Lt("inverse",s.treeControl.isExpanded(i)),L(2),Lt("example-tree-invisible",!s.treeControl.isExpanded(i))}}function s3e(r,n){1&r&&Te(0,"hubmap-nav",25),2&r&&j("navItems",J(3).hubmapNavData)}function o3e(r,n){if(1&r){const i=Xn();Y(0,"mat-tree-node",24)(1,"div",20),ht("click",function(){const a=Vt(i).$implicit;return Ht(J(2).collapseNonActiveNodes(a))}),ce(2),Y(3,"button",21)(4,"mat-icon"),ce(5,"arrow_drop_down"),W()()(),ge(6,s3e,1,1,"hubmap-nav",25),W()}if(2&r){const i=n.$implicit,s=J(2);L(),en("aria-label","Toggle "+i.menuName),L(),jt(" ",i.menuName," "),L(2),Lt("inverse",s.treeControl.isExpanded(i)),L(2),Vr(s.treeControl.isExpanded(i)?6:-1)}}function a3e(r,n){if(1&r&&(Y(0,"mat-tree",6),ge(1,i3e,6,5,"mat-tree-node",7)(2,r3e,8,6,"mat-nested-tree-node",8)(3,o3e,7,5,"mat-tree-node",9),W()),2&r){const i=J();Jr(i.treeClass),j("dataSource",i.dataSource)("treeControl",i.treeControl),L(2),j("matTreeNodeDefWhen",i.hasChild),L(),j("matTreeNodeDefWhen",i.isHubmapNav)}}let xX=(()=>{class r{set treeItems(i){this.dataSource.data=i}constructor(i,s,a){this.router=i,this.scroller=s,this.overlay=a,this.icon="",this.overlayClass="",this.treeClass="",this.positions=[],this.isOpen=!1,this.treeControl=new OLe(l=>l.children),this.dataSource=new GLe,this.scrollStrategy=this.overlay.scrollStrategies.block(),this.hubmapNavData=bX,this.hasChild=(l,c)=>!!c.children&&c.children.length>0}externalWindow(i){window.open(i,"_blank")}scrollTo(i){this.router.navigate([],{fragment:i}),this.scrollToId=i}scrollAfterDetach(){this.scrollToId&&(this.scroller.scrollToAnchor(this.scrollToId),this.scrollToId=void 0)}isHubmapNav(i,s){return"hubmap-nav"===s.componentName}collapseNonActiveNodes(i){const s=this.treeControl.isExpanded(i);this.treeControl.collapseAll(),s&&this.treeControl.expand(i)}static{this.\u0275fac=function(s){return new(s||r)(me(Ro),me(jR),me(eo))}}static{this.\u0275cmp=Ge({type:r,selectors:[["menu-tree"]],inputs:{treeItems:"treeItems",icon:"icon",overlayClass:"overlayClass",treeClass:"treeClass",positions:"positions"},standalone:!1,decls:6,vars:13,consts:[["trigger","cdkOverlayOrigin"],["default",""],["mat-icon-button","","cdkOverlayOrigin","",1,"menu-tree-button",3,"click","disableRipple"],["class","menu-icon",4,"ngIf","ngIfElse"],["cdkConnectedOverlay","",3,"detach","overlayOutsideClick","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayBackdropClass","cdkConnectedOverlayPanelClass","cdkConnectedOverlayPositions","cdkConnectedOverlayScrollStrategy"],[1,"menu-icon"],["cdkScrollable","",3,"dataSource","treeControl"],["matTreeNodeToggle","",3,"click",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["class","hubmap-nav-menu-node",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle","",3,"click"],["class","menu-name",3,"routerLink",4,"ngIf"],["class","menu-tree-divider",4,"ngIf"],["class","menu-name",3,"click",4,"ngIf"],["class","table-of-contents",3,"click",4,"ngIf"],[4,"ngIf"],[1,"menu-name",3,"routerLink"],[1,"menu-tree-divider"],[1,"menu-name",3,"click"],[1,"table-of-contents",3,"click"],["matTreeNodeToggle","",1,"mat-parent-node",3,"click"],["mat-icon-button",""],["role","group"],["matTreeNodeOutlet",""],[1,"hubmap-nav-menu-node"],[3,"navItems"]],template:function(s,a){if(1&s){const l=Xn();Y(0,"button",2,0),ht("click",function(){return Vt(l),Ht(a.isOpen=!a.isOpen)}),ge(2,XLe,2,1,"mat-icon",3)(3,KLe,2,1,"ng-template",null,1,So),W(),ge(5,a3e,4,6,"ng-template",4),ht("detach",function(){return Vt(l),a.isOpen=!1,Ht(a.scrollAfterDetach())})("overlayOutsideClick",function(d){return Vt(l),Ht(!cr(1).elementRef.nativeElement.contains(d.target)&&(a.isOpen=!1))})}if(2&s){const l=cr(1),c=cr(4);j("disableRipple",!0),L(2),j("ngIf",a.icon)("ngIfElse",c),L(3),j("cdkConnectedOverlayOrigin",l)("cdkConnectedOverlayOpen",a.isOpen)("cdkConnectedOverlayHasBackdrop",!0)("cdkConnectedOverlayBackdropClass",Xl(10,WLe))("cdkConnectedOverlayPanelClass",ra(11,qLe,a.overlayClass))("cdkConnectedOverlayPositions",a.positions)("cdkConnectedOverlayScrollStrategy",a.scrollStrategy)}},dependencies:[Do,ff,ZF,Mb,Cu,B7,_X,gX,vX,yX,mX,nM,oc,gf,AX],styles:['[_nghost-%COMP%]{--mat-icon-color: white}[_nghost-%COMP%]   .menu-tree-button[_ngcontent-%COMP%]{background-color:#444c65;z-index:2}  .example-tree-invisible{display:none}  .mat-tree{width:26rem;border:1px solid #e0e0e0;border-radius:0 0 8px 8px;height:auto;overflow-y:auto;overflow-x:hidden;padding:.5rem 0}  .mat-tree:has(.mat-nested-tree-node[aria-expanded=true]){height:calc(100% - 4rem)}  .mat-tree:has(>.mat-tree-node[aria-expanded=true]){height:calc(100vh - 4rem)}  .inverse{transform:rotate(180deg);display:inline-block}  .menu-tree-backdrop{margin-top:4rem}  .component-title{display:inline-block;margin-bottom:.5rem;margin-left:1rem}  .menu-tree-panel .mat-mdc-icon-button.mat-mdc-button-base{--mdc-icon-button-state-layer-size: 1.5rem;padding:0}.mat-parent-node[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.mat-tree-node[_ngcontent-%COMP%], .mat-parent-node[_ngcontent-%COMP%]{font-size:1rem;color:#444c65;font-weight:300;line-height:1.5rem}.mat-tree-node[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;justify-content:center}.mat-nested-tree-node[_ngcontent-%COMP%]:not([aria-expanded=true]):hover, .mat-tree[_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]:hover{background:#0000000a}.mat-tree-node[_ngcontent-%COMP%]{z-index:1}.mat-tree-node[aria-level="2"][_ngcontent-%COMP%]:hover:after{position:absolute;content:"";inset:0 -2rem;z-index:-1;background:#0000000a}.mat-tree[_ngcontent-%COMP%] > .nav-open[_ngcontent-%COMP%]:hover{background:unset}.mat-tree[_ngcontent-%COMP%] > .hubmap-nav-menu-node[_ngcontent-%COMP%]{cursor:pointer;display:block;padding:0;--mat-tree-node-min-height: 2.5rem}.mat-tree[_ngcontent-%COMP%] > .hubmap-nav-menu-node[aria-expanded=true][_ngcontent-%COMP%]:hover{background:unset}.mat-tree[_ngcontent-%COMP%] > .hubmap-nav-menu-node[_ngcontent-%COMP%]   .mat-parent-node[_ngcontent-%COMP%]{padding:.5rem 1rem}']})}}return r})();function l3e(r,n){if(1&r&&(Y(0,"mat-card",1)(1,"div",2),Te(2,"img",3),W(),Y(3,"mat-card-content")(4,"p",4),ce(5),W(),Y(6,"p",5),ce(7),W(),Te(8,"mat-divider"),Y(9,"p",6),ce(10),W(),Y(11,"p",7)(12,"span",8),ce(13,"email"),W(),ce(14,"\xa0 "),Y(15,"a",9),ce(16),W()()()()),2&r){const i=n.$implicit;L(2),j("src",i.image,wn)("alt",i.alt),L(3),Ut(i.field),L(2),Ut(i.name),L(3),jt(" ",i.role," "),L(5),dv("href","mailto:",i.email,"",wn),L(),Ut(i.email)}}let c3e=(()=>{class r{constructor(){this.contactCard=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["contact-card"]],inputs:{contactCard:"contactCard"},standalone:!1,decls:1,vars:1,consts:[["class","contact-card",4,"ngFor","ngForOf"],[1,"contact-card"],[1,"image-container"],["mat-card-image","",3,"src","alt"],[1,"work-field"],[1,"contact-name"],[1,"designation"],[1,"contact-email"],[1,"material-symbols-outlined"],[3,"href"]],template:function(s,a){1&s&&ge(0,l3e,17,8,"mat-card",0),2&s&&j("ngForOf",a.contactCard)},dependencies:[Ji,Ca,dg,k7,gf],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]     .mat-mdc-card-image{width:unset}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]{height:26rem;width:17.5rem;padding:2rem;border:1px solid #e0e0e0;transition:.2s ease-in-out}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:hover{box-shadow:0 .25rem .5rem #0003,0 .375rem 1.25rem #00000030}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:not(:last-child){margin-right:1.5rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-bottom:2rem}[_nghost-%COMP%]   .mat-mdc-card-image[_ngcontent-%COMP%]{height:168px;width:168px}[_nghost-%COMP%]   .work-field[_ngcontent-%COMP%]{font-weight:500;font-size:1rem;line-height:1.5rem;letter-spacing:.005rem;color:#444c65}[_nghost-%COMP%]   .contact-name[_ngcontent-%COMP%]{font-weight:400;font-size:1.25rem;line-height:1.5rem;letter-spacing:.005rem;color:#212121}[_nghost-%COMP%]   .designation[_ngcontent-%COMP%]{font-weight:300;font-size:1rem;line-height:1.5rem;letter-spacing:.005em;color:#212121;padding-top:1rem}[_nghost-%COMP%]   .contact-email[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1rem;line-height:1.5rem}[_nghost-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding:0}@media (max-width: 80rem){[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]{margin-bottom:1rem}}@media (max-width: 58.5rem){[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:not(:last-child){margin-right:1.5rem}}@media (max-width: 26.75rem){[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}[_nghost-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .contact-email[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .contact-card[_ngcontent-%COMP%]:not(:last-child){margin-right:unset}}"]})}}return r})();class d3e{_box;_destroyed=new Qe;_resizeSubject=new Qe;_resizeObserver;_elementObservables=new Map;constructor(n){this._box=n,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(n){return this._elementObservables.has(n)||this._elementObservables.set(n,new pi(i=>{const s=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(n,{box:this._box}),()=>{this._resizeObserver?.unobserve(n),s.unsubscribe(),this._elementObservables.delete(n)}}).pipe(ni(i=>i.some(s=>s.target===n)),MP({bufferSize:1,refCount:!0}),Nn(this._destroyed))),this._elementObservables.get(n)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let u3e=(()=>{class r{_cleanupErrorListener;_observers=new Map;_ngZone=D(_t);constructor(){}ngOnDestroy(){for(const[,i]of this._observers)i.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(i,s){const a=s?.box||"content-box";return this._observers.has(a)||this._observers.set(a,new d3e(a)),this._observers.get(a).observe(i)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const l2=["*"];function h3e(r,n){1&r&&cn(0)}const f3e=["tabListContainer"],p3e=["tabList"],m3e=["tabListInner"],g3e=["nextPaginator"],_3e=["previousPaginator"],y3e=["content"];function v3e(r,n){}const b3e=["tabBodyWrapper"],A3e=["tabHeader"];function x3e(r,n){}function w3e(r,n){1&r&&ge(0,x3e,0,0,"ng-template",12),2&r&&j("cdkPortalOutlet",J().$implicit.templateLabel)}function C3e(r,n){1&r&&ce(0),2&r&&Ut(J().$implicit.textLabel)}function E3e(r,n){if(1&r){const i=Xn();Y(0,"div",7,2),ht("click",function(){const a=Vt(i),l=a.$implicit,c=a.$index,d=J(),u=cr(1);return Ht(d._handleClick(l,u,c))})("cdkFocusChange",function(a){const l=Vt(i).$index;return Ht(J()._tabFocusChanged(a,l))}),Te(2,"span",8)(3,"div",9),Y(4,"span",10)(5,"span",11),ge(6,w3e,1,1,null,12)(7,C3e,1,1),W()()()}if(2&r){const i=n.$implicit,s=n.$index,a=cr(1),l=J();Jr(i.labelClass),Lt("mdc-tab--active",l.selectedIndex===s),j("id",l._getTabLabelId(s))("disabled",i.disabled)("fitInkBarToContent",l.fitInkBarToContent),en("tabIndex",l._getTabIndex(s))("aria-posinset",s+1)("aria-setsize",l._tabs.length)("aria-controls",l._getTabContentId(s))("aria-selected",l.selectedIndex===s)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),L(3),j("matRippleTrigger",a)("matRippleDisabled",i.disabled||l.disableRipple),L(3),Vr(i.templateLabel?6:7)}}function M3e(r,n){1&r&&cn(0)}function S3e(r,n){if(1&r){const i=Xn();Y(0,"mat-tab-body",13),ht("_onCentered",function(){return Vt(i),Ht(J()._removeTabBodyWrapperHeight())})("_onCentering",function(a){return Vt(i),Ht(J()._setTabBodyWrapperHeight(a))})("_beforeCentering",function(a){return Vt(i),Ht(J()._bodyCentered(a))}),W()}if(2&r){const i=n.$implicit,s=n.$index,a=J();Jr(i.bodyClass),j("id",a._getTabContentId(s))("content",i.content)("position",i.position)("animationDuration",a.animationDuration)("preserveContent",a.preserveContent),en("tabindex",null!=a.contentTabIndex&&a.selectedIndex===s?a.contentTabIndex:null)("aria-labelledby",a._getTabLabelId(s))("aria-hidden",a.selectedIndex!==s)}}const I3e=new se("MatTabContent");let T3e=(()=>{class r{template=D(zi);constructor(){}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","matTabContent",""]],features:[Rt([{provide:I3e,useExisting:r}])]})}return r})();const D3e=new se("MatTabLabel"),wX=new se("MAT_TAB");let CX=(()=>{class r extends Zke{_closestTab=D(wX,{optional:!0});static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Rt([{provide:D3e,useExisting:r}]),Je]})}return r})();const EX=new se("MAT_TAB_GROUP");let MX=(()=>{class r{_viewContainerRef=D(Ki);_closestTabGroup=D(EX,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(i){this._setTemplateLabelInput(i)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Qe;position=null;origin=null;isActive=!1;constructor(){D(fc).load(bb)}ngOnChanges(i){(i.hasOwnProperty("textLabel")||i.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new hg(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(i){i&&i._closestTab===this&&(this._templateLabel=i)}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-tab"]],contentQueries:function(s,a,l){if(1&s&&(Gi(l,CX,5),Gi(l,T3e,7,zi)),2&s){let c;St(c=It())&&(a.templateLabel=c.first),St(c=It())&&(a._explicitContent=c.first)}},viewQuery:function(s,a){if(1&s&&Kn(zi,7),2&s){let l;St(l=It())&&(a._implicitContent=l.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",ct],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Rt([{provide:wX,useExisting:r}]),vr],ngContentSelectors:l2,decls:1,vars:0,template:function(s,a){1&s&&(lr(),ge(0,h3e,1,0,"ng-template"))},encapsulation:2})}return r})();const c2="mdc-tab-indicator--active",SX="mdc-tab-indicator--no-transition";class R3e{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){const i=this._items.find(a=>a.elementRef.nativeElement===n),s=this._currentItem;if(i!==s&&(s?.deactivateInkBar(),i)){const a=s?.elementRef.nativeElement.getBoundingClientRect?.();i.activateInkBar(a),this._currentItem=i}}}let k3e=(()=>{class r{_elementRef=D(Mt);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(i){this._fitToContent!==i&&(this._fitToContent=i,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(i){const s=this._elementRef.nativeElement;if(!i||!s.getBoundingClientRect||!this._inkBarContentElement)return void s.classList.add(c2);const a=s.getBoundingClientRect(),l=i.width/a.width,c=i.left-a.left;s.classList.add(SX),this._inkBarContentElement.style.setProperty("transform",`translateX(${c}px) scaleX(${l})`),s.getBoundingClientRect(),s.classList.remove(SX),s.classList.add(c2),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(c2)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const i=this._elementRef.nativeElement.ownerDocument||document,s=this._inkBarElement=i.createElement("span"),a=this._inkBarContentElement=i.createElement("span");s.className="mdc-tab-indicator",a.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",s.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ct]}})}return r})(),IX=(()=>{class r extends k3e{elementRef=D(Mt);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275dir=_e({type:r,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(s,a){2&s&&(en("aria-disabled",!!a.disabled),Lt("mat-mdc-tab-disabled",a.disabled))},inputs:{disabled:[2,"disabled","disabled",ct]},features:[Je]})}return r})();const TX={passive:!0};let N3e=(()=>{class r{_elementRef=D(Mt);_changeDetectorRef=D(Zi);_viewportRuler=D(ug);_dir=D(wa,{optional:!0});_ngZone=D(_t);_platform=D(Qr);_sharedResizeObserver=D(u3e);_injector=D(On);_renderer=D(Ms);_animationMode=D(xo,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Qe;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Qe;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(i){const s=isNaN(i)?0:i;this._selectedIndex!=s&&(this._selectedIndexChanged=!0,this._selectedIndex=s,this._keyManager&&this._keyManager.updateActiveItem(s))}_selectedIndex=0;selectFocusedIndex=new ue;indexFocused=new ue;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Al(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),TX),Al(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),TX))}ngAfterContentInit(){const i=this._dir?this._dir.change:Oe("ltr"),s=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(_b(32),Nn(this._destroyed)),a=this._viewportRuler.change(150).pipe(Nn(this._destroyed)),l=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new u7(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),_a(l,{injector:this._injector}),Ds(i,a,s,this._items.changes,this._itemsResized()).pipe(Nn(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),l()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(c=>{this.indexFocused.emit(c),this._setTabFocus(c)})}_itemsResized(){return"function"!=typeof ResizeObserver?Is:this._items.changes.pipe(Ts(this._items),br(i=>new pi(s=>this._ngZone.runOutsideAngular(()=>{const a=new ResizeObserver(l=>s.next(l));return i.forEach(l=>a.observe(l.elementRef.nativeElement)),()=>{a.disconnect()}}))),MC(1),ni(i=>i.some(s=>s.contentRect.width>0&&s.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(i=>i()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(i){if(!xl(i))switch(i.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const s=this._items.get(this.focusIndex);s&&!s.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(i))}break;default:this._keyManager.onKeydown(i)}}_onContentChanges(){const i=this._elementRef.nativeElement.textContent;i!==this._currentTextContent&&(this._currentTextContent=i||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(i){!this._isValidIndex(i)||this.focusIndex===i||!this._keyManager||this._keyManager.setActiveItem(i)}_isValidIndex(i){return!this._items||!!this._items.toArray()[i]}_setTabFocus(i){if(this._showPaginationControls&&this._scrollToLabel(i),this._items&&this._items.length){this._items.toArray()[i].focus();const s=this._tabListContainer.nativeElement;s.scrollLeft="ltr"==this._getLayoutDirection()?0:s.scrollWidth-s.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const i=this.scrollDistance,s="ltr"===this._getLayoutDirection()?-i:i;this._tabList.nativeElement.style.transform=`translateX(${Math.round(s)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(i){this._scrollTo(i)}_scrollHeader(i){return this._scrollTo(this._scrollDistance+("before"==i?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(i){this._stopInterval(),this._scrollHeader(i)}_scrollToLabel(i){if(this.disablePagination)return;const s=this._items?this._items.toArray()[i]:null;if(!s)return;const a=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:c}=s.elementRef.nativeElement;let d,u;"ltr"==this._getLayoutDirection()?(d=l,u=d+c):(u=this._tabListInner.nativeElement.offsetWidth-l,d=u-c);const h=this.scrollDistance,f=this.scrollDistance+a;d<h?this.scrollDistance-=h-d:u>f&&(this.scrollDistance+=Math.min(u-f,d-h))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const a=this._tabListInner.nativeElement.scrollWidth-this._elementRef.nativeElement.offsetWidth>=5;a||(this.scrollDistance=0),a!==this._showPaginationControls&&(this._showPaginationControls=a,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const i=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,s=i?i.elementRef.nativeElement:null;s?this._inkBar.alignToElement(s):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(i,s){s&&null!=s.button&&0!==s.button||(this._stopInterval(),TC(650,100).pipe(Nn(Ds(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:a,distance:l}=this._scrollHeader(i);(0===l||l>=a)&&this._stopInterval()}))}_scrollTo(i){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const s=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(s,i)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:s,distance:this._scrollDistance}}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,inputs:{disablePagination:[2,"disablePagination","disablePagination",ct],selectedIndex:[2,"selectedIndex","selectedIndex",Ls]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return r})(),B3e=(()=>{class r extends N3e{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new R3e(this._items),super.ngAfterContentInit()}_itemSelected(i){i.preventDefault()}static \u0275fac=(()=>{let i;return function(a){return(i||(i=Gt(r)))(a||r)}})();static \u0275cmp=Ge({type:r,selectors:[["mat-tab-header"]],contentQueries:function(s,a,l){if(1&s&&Gi(l,IX,4),2&s){let c;St(c=It())&&(a._items=c)}},viewQuery:function(s,a){if(1&s&&(Kn(f3e,7),Kn(p3e,7),Kn(m3e,7),Kn(g3e,5),Kn(_3e,5)),2&s){let l;St(l=It())&&(a._tabListContainer=l.first),St(l=It())&&(a._tabList=l.first),St(l=It())&&(a._tabListInner=l.first),St(l=It())&&(a._nextPaginator=l.first),St(l=It())&&(a._previousPaginator=l.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(s,a){2&s&&Lt("mat-mdc-tab-header-pagination-controls-enabled",a._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==a._getLayoutDirection())},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",ct]},features:[Je],ngContentSelectors:l2,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(s,a){if(1&s){const l=Xn();lr(),Y(0,"div",5,0),ht("click",function(){return Vt(l),Ht(a._handlePaginatorClick("before"))})("mousedown",function(d){return Vt(l),Ht(a._handlePaginatorPress("before",d))})("touchend",function(){return Vt(l),Ht(a._stopInterval())}),Te(2,"div",6),W(),Y(3,"div",7,1),ht("keydown",function(d){return Vt(l),Ht(a._handleKeydown(d))}),Y(5,"div",8,2),ht("cdkObserveContent",function(){return Vt(l),Ht(a._onContentChanges())}),Y(7,"div",9,3),cn(9),W()()(),Y(10,"div",10,4),ht("mousedown",function(d){return Vt(l),Ht(a._handlePaginatorPress("after",d))})("click",function(){return Vt(l),Ht(a._handlePaginatorClick("after"))})("touchend",function(){return Vt(l),Ht(a._stopInterval())}),Te(12,"div",6),W()}2&s&&(Lt("mat-mdc-tab-header-pagination-disabled",a._disableScrollBefore),j("matRippleDisabled",a._disableScrollBefore||a.disableRipple),L(3),Lt("_mat-animation-noopable","NoopAnimations"===a._animationMode),L(2),en("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby||null),L(5),Lt("mat-mdc-tab-header-pagination-disabled",a._disableScrollAfter),j("matRippleDisabled",a._disableScrollAfter||a.disableRipple))},dependencies:[cE,gDe],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return r})();const L3e=new se("MAT_TABS_CONFIG");let DX=(()=>{class r extends Eb{_host=D(d2);_centeringSub=gn.EMPTY;_leavingSub=gn.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ts(this._host._isCenterPosition())).subscribe(i=>{this._host._content&&i&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","matTabBodyHost",""]],features:[Je]})}return r})(),d2=(()=>{class r{_elementRef=D(Mt);_dir=D(wa,{optional:!0});_ngZone=D(_t);_injector=D(On);_renderer=D(Ms);_animationsModule=D(xo,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=gn.EMPTY;_position;_previousPosition;_onCentering=new ue;_beforeCentering=new ue;_afterLeavingCenter=new ue;_onCentered=new ue(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(i){this._positionIndex=i,this._computePositionAnimationState()}constructor(){if(this._dir){const i=D(Zi);this._dirChangeSubscription=this._dir.change.subscribe(s=>{this._computePositionAnimationState(s),i.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),"center"===this._position&&(this._setActiveClass(!0),_a(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(i=>i()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{const i=this._elementRef.nativeElement,s=a=>{a.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),"transitionend"===a.type&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(i,"transitionstart",a=>{a.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(i,"transitionend",s),this._renderer.listen(i,"transitioncancel",s)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);const i="center"===this._position;this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){"center"===this._position?this._onCentered.emit():"center"===this._previousPosition&&this._afterLeavingCenter.emit()}_setActiveClass(i){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",i)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(){return 0===this._positionIndex}_computePositionAnimationState(i=this._getLayoutDirection()){this._previousPosition=this._position,this._position=this._positionIndex<0?"ltr"==i?"left":"right":this._positionIndex>0?"ltr"==i?"right":"left":"center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&("center"===this._position||"center"===this._previousPosition)&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),_a(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return"NoopAnimations"===this._animationsModule||"0ms"===this.animationDuration||"0s"===this.animationDuration}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-tab-body"]],viewQuery:function(s,a){if(1&s&&(Kn(DX,5),Kn(y3e,5)),2&s){let l;St(l=It())&&(a._portalHost=l.first),St(l=It())&&(a._contentElement=l.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(s,a){2&s&&en("inert","center"===a._position?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(s,a){1&s&&(Y(0,"div",1,0),ge(2,v3e,0,0,"ng-template",2),W()),2&s&&Lt("mat-tab-body-content-left","left"===a._position)("mat-tab-body-content-right","right"===a._position)("mat-tab-body-content-can-animate","center"===a._position||"center"===a._previousPosition)},dependencies:[DX,Cu],styles:[".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}"],encapsulation:2})}return r})(),z3e=(()=>{class r{_elementRef=D(Mt);_changeDetectorRef=D(Zi);_ngZone=D(_t);_tabsSubscription=gn.EMPTY;_tabLabelSubscription=gn.EMPTY;_tabBodySubscription=gn.EMPTY;_animationMode=D(xo,{optional:!0});_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new bh;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(i){this._fitInkBarToContent=i,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(i){this._indexToSelect=isNaN(i)?null:i}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(i){const s=i+"";this._animationDuration=/^\d+$/.test(s)?i+"ms":s}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(i){this._contentTabIndex=isNaN(i)?null:i}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(i){const s=this._elementRef.nativeElement.classList;s.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),i&&s.add("mat-tabs-with-background",`mat-background-${i}`),this._backgroundColor=i}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new ue;focusChange=new ue;animationDone=new ue;selectedTabChange=new ue(!0);_groupId;_isServer=!D(Qr).isBrowser;constructor(){const i=D(L3e,{optional:!0});this._groupId=D(wu).getId("mat-tab-group-"),this.animationDuration=i&&i.animationDuration?i.animationDuration:"500ms",this.disablePagination=!(!i||null==i.disablePagination)&&i.disablePagination,this.dynamicHeight=!(!i||null==i.dynamicHeight)&&i.dynamicHeight,null!=i?.contentTabIndex&&(this.contentTabIndex=i.contentTabIndex),this.preserveContent=!!i?.preserveContent,this.fitInkBarToContent=!(!i||null==i.fitInkBarToContent)&&i.fitInkBarToContent,this.stretchTabs=!i||null==i.stretchTabs||i.stretchTabs,this.alignTabs=i&&null!=i.alignTabs?i.alignTabs:null}ngAfterContentChecked(){const i=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=i){const s=null==this._selectedIndex;if(!s){this.selectedTabChange.emit(this._createChangeEvent(i));const a=this._tabBodyWrapper.nativeElement;a.style.minHeight=a.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((a,l)=>a.isActive=l===i),s||(this.selectedIndexChange.emit(i),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((s,a)=>{s.position=a-i,null!=this._selectedIndex&&0==s.position&&!s.origin&&(s.origin=i-this._selectedIndex)}),this._selectedIndex!==i&&(this._selectedIndex=i,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const i=this._clampTabIndex(this._indexToSelect);if(i===this._selectedIndex){const s=this._tabs.toArray();let a;for(let l=0;l<s.length;l++)if(s[l].isActive){this._indexToSelect=this._selectedIndex=l,this._lastFocusedTabIndex=null,a=s[l];break}!a&&s[i]&&Promise.resolve().then(()=>{s[i].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(i))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ts(this._allTabs)).subscribe(i=>{this._tabs.reset(i.filter(s=>s._closestTabGroup===this||!s._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(i){const s=this._tabHeader;s&&(s.focusIndex=i)}_focusChanged(i){this._lastFocusedTabIndex=i,this.focusChange.emit(this._createChangeEvent(i))}_createChangeEvent(i){const s=new V3e;return s.index=i,this._tabs&&this._tabs.length&&(s.tab=this._tabs.toArray()[i]),s}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ds(...this._tabs.map(i=>i._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(i){return Math.min(this._tabs.length-1,Math.max(i||0,0))}_getTabLabelId(i){return`${this._groupId}-label-${i}`}_getTabContentId(i){return`${this._groupId}-content-${i}`}_setTabBodyWrapperHeight(i){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return void(this._tabBodyWrapperHeight=i);const s=this._tabBodyWrapper.nativeElement;s.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(s.style.height=i+"px")}_removeTabBodyWrapperHeight(){const i=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=i.clientHeight,i.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(i,s,a){s.focusIndex=a,i.disabled||(this.selectedIndex=a)}_getTabIndex(i){return i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(i,s){i&&"mouse"!==i&&"touch"!==i&&(this._tabHeader.focusIndex=s)}_bodyCentered(i){i&&this._tabBodies?.forEach((s,a)=>s._setActiveClass(a===this._selectedIndex))}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-tab-group"]],contentQueries:function(s,a,l){if(1&s&&Gi(l,MX,5),2&s){let c;St(c=It())&&(a._allTabs=c)}},viewQuery:function(s,a){if(1&s&&(Kn(b3e,5),Kn(A3e,5),Kn(d2,5)),2&s){let l;St(l=It())&&(a._tabBodyWrapper=l.first),St(l=It())&&(a._tabHeader=l.first),St(l=It())&&(a._tabBodies=l)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(s,a){2&s&&(en("mat-align-tabs",a.alignTabs),Jr("mat-"+(a.color||"primary")),Eo("--mat-tab-animation-duration",a.animationDuration),Lt("mat-mdc-tab-group-dynamic-height",a.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===a.headerPosition)("mat-mdc-tab-group-stretch-tabs",a.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",ct],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",ct],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",ct],selectedIndex:[2,"selectedIndex","selectedIndex",Ls],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Ls],disablePagination:[2,"disablePagination","disablePagination",ct],disableRipple:[2,"disableRipple","disableRipple",ct],preserveContent:[2,"preserveContent","preserveContent",ct],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Rt([{provide:EX,useExisting:r}])],ngContentSelectors:l2,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(s,a){if(1&s){const l=Xn();lr(),Y(0,"mat-tab-header",3,0),ht("indexFocused",function(d){return Vt(l),Ht(a._focusChanged(d))})("selectFocusedIndex",function(d){return Vt(l),Ht(a.selectedIndex=d)}),iv(2,E3e,8,17,"div",4,nv),W(),ge(4,M3e,1,0),Y(5,"div",5,1),iv(7,S3e,1,10,"mat-tab-body",6,nv),W()}2&s&&(j("selectedIndex",a.selectedIndex||0)("disableRipple",a.disableRipple)("disablePagination",a.disablePagination)("aria-label",a.ariaLabel)("aria-labelledby",a.ariaLabelledby),L(2),rv(a._tabs),L(2),Vr(a._isServer?4:-1),L(),Lt("_mat-animation-noopable","NoopAnimations"===a._animationMode),L(2),rv(a._tabs))},dependencies:[B3e,IX,jDe,cE,Eb,d2],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return r})();class V3e{index;tab}let H3e=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,ci]})}return r})();function G3e(r,n){if(1&r){const i=Xn();Y(0,"img",5),ht("click",function(){Vt(i);const a=J().$implicit;return Ht(J().organName.emit(a.name))}),W()}if(2&r){const i=J().$implicit;j("src",i.image,wn)("alt",i.alt)}}function $3e(r,n){1&r&&(Y(0,"mat-tab"),ge(1,G3e,1,2,"ng-template",4),W())}function Q3e(r,n){if(1&r){const i=Xn();Y(0,"mat-option",6),ht("click",function(){const a=Vt(i).$implicit;return Ht(J().organName.emit(a.name))}),ce(1),W()}if(2&r){const i=n.$implicit;j("value",i),L(),jt(" ",i.name," ")}}let j3e=(()=>{class r{constructor(){this.tabs=[],this.currentOrgan="",this.panelClass="",this.organName=new ue}get selectedIndex(){const i=this.tabs.findIndex(s=>s.name===this.currentOrgan);return i>=0?i:0}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-organ-tabs"]],inputs:{tabs:"tabs",currentOrgan:"currentOrgan",panelClass:"panelClass"},outputs:{organName:"organName"},standalone:!1,decls:4,vars:6,consts:[["mat-align-tabs","start",1,"organ-tabs",3,"disableRipple","selectedIndex","disablePagination"],[4,"ngFor","ngForOf"],["panelClass","panelClass","disableOptionCentering","","hideSingleSelectionIndicator","","disableRipple","",1,"organ-select",3,"value"],["class","mat-select-value-text",3,"value","click",4,"ngFor","ngForOf"],["mat-tab-label",""],[1,"organ-image",3,"click","src","alt"],[1,"mat-select-value-text",3,"click","value"]],template:function(s,a){1&s&&(Y(0,"mat-tab-group",0),ge(1,$3e,2,0,"mat-tab",1),W(),Y(2,"mat-select",2),ge(3,Q3e,2,2,"mat-option",3),W()),2&s&&(j("disableRipple",!0)("selectedIndex",a.selectedIndex)("disablePagination",!0),L(),j("ngForOf",a.tabs),L(),j("value",a.tabs[a.selectedIndex]),L(),j("ngForOf",a.tabs))},dependencies:[Ji,CX,MX,z3e,GY,LF],styles:['[_nghost-%COMP%]   .organ-tabs[_ngcontent-%COMP%]{padding-bottom:2rem}[_nghost-%COMP%]     .mat-mdc-tab{--mdc-secondary-navigation-tab-container-height: 10rem;opacity:1;border-bottom:unset;min-width:0!important;padding:0rem!important;position:relative;overflow:visible;border-radius:.25rem}[_nghost-%COMP%]     .mat-tab-group.mat-primary .mat-ink-bar, [_nghost-%COMP%]   .mat-tab-nav-bar.mat-primary[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%]{background-color:#444c65;height:.5rem}[_nghost-%COMP%]   .organ-image[_ngcontent-%COMP%]{mix-blend-mode:multiply}[_nghost-%COMP%]     .mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{background-color:#0000000a;border-top-left-radius:.25rem;border-top-right-radius:.25rem}[_nghost-%COMP%]     .mat-ink-bar{display:none}[_nghost-%COMP%]     .mat-tab-header{border-bottom:unset}[_nghost-%COMP%]     .mat-tab-labels{display:block!important;padding-bottom:.5rem}[_nghost-%COMP%]     .mat-mdc-tab:hover .mdc-tab__ripple:before{display:none}[_nghost-%COMP%]     .mdc-tab--active:after, [_nghost-%COMP%]     .mat-mdc-tab:hover:after{content:"";width:100%;height:.4rem;position:absolute;left:0;right:0;bottom:.031rem;border-bottom-left-radius:.25rem;border-bottom-right-radius:.25rem}[_nghost-%COMP%]     .mdc-tab--active:after{background-color:#444c65}[_nghost-%COMP%]     .mat-mdc-tab:not(.mdc-tab--active):hover:after{background-color:#c2cae5}[_nghost-%COMP%]     .organ-tabs .mdc-tab-indicator__content{display:none}[_nghost-%COMP%]     .mat-mdc-tab-labels{display:block}[_nghost-%COMP%]     .organ-tabs .mdc-tab{display:inline-flex}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]{display:none}@media (max-width: 63rem){[_nghost-%COMP%]{display:flex;margin-bottom:3.5rem}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]{display:initial;max-width:21rem;height:2.5rem;font-weight:400;font-size:.875rem;line-height:1.5rem;letter-spacing:.005rem;color:#444c65;border:1px solid #444c65;border-radius:2px}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger{height:100%;justify-content:space-between;padding:0rem 1rem}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]     .mat-mdc-select-trigger .mat-select-value{width:unset}[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]     .mat-select-arrow-wrapper{padding-left:12px}[_nghost-%COMP%]   .organ-tabs[_ngcontent-%COMP%]{display:none}}@media (max-width: 26.75rem){[_nghost-%COMP%]   .organ-select[_ngcontent-%COMP%]{max-width:unset}}  .mat-mdc-option{--mat-option-label-text-size: .875rem;--mat-option-label-text-tracking: 0;--mat-option-label-text-color: #444c65}  .panelClass{position:relative;top:1px}  .panelClass .mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:unset}']})}}return r})(),W3e=(()=>{class r{constructor(i,s){this.document=i,this.errorHandler=s}download(i,s=this.getFilename(i)){var a=this;return ke(function*(){let l;try{const d=yield(yield fetch(i,{headers:new Headers({Origin:location.origin}),mode:"cors"})).blob();l=URL.createObjectURL(d),a.createDownloadEl(l,s)}catch(c){a.errorHandler.handleError(c)}finally{l&&URL.revokeObjectURL(l)}})()}getFilename(i){return i.split("\\").pop()?.split("/").pop()??""}createDownloadEl(i,s){const a=this.document.createElement("a");a.href=i,a.download=s,this.document.body.appendChild(a),a.click(),a.remove()}static{this.\u0275fac=function(s){return new(s||r)($e(rn),$e(bo))}}static{this.\u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function q3e(r,n){if(1&r){const i=Xn();Y(0,"a",16),ht("click",function(a){Vt(i);const l=J(2).$implicit;return Ht(J(2).downloadClick(a,l.png))}),Y(1,"span",13),ce(2,"download"),W(),ce(3," Download PNG "),W()}2&r&&j("href",J(2).$implicit.png,wn)}function Y3e(r,n){if(1&r){const i=Xn();Y(0,"a",16),ht("click",function(a){Vt(i);const l=J(2).$implicit;return Ht(J(2).downloadClick(a,l.svg))}),Y(1,"span",13),ce(2,"download"),W(),ce(3," Download SVG "),W()}2&r&&j("href",J(2).$implicit.svg,wn)}function X3e(r,n){1&r&&(Y(0,"a",17)(1,"span",13),ce(2,"download"),W(),ce(3," Download AI "),W()),2&r&&j("href",J(2).$implicit.ai,wn)}function K3e(r,n){if(1&r&&(Y(0,"div",9)(1,"div",10),ce(2),W(),Y(3,"div",11)(4,"a",12)(5,"span",13),ce(6,"info"),W(),ce(7," Metadata "),W(),ge(8,q3e,4,1,"a",14)(9,Y3e,4,1,"a",14)(10,X3e,4,1,"a",15),W()()),2&r){const i=J().$implicit;L(2),Ut(i.name),L(2),fl("href",i.url,wn),L(4),j("ngIf",i.png),L(),j("ngIf",i.svg),L(),j("ngIf",i.ai)}}function Z3e(r,n){1&r&&Te(0,"mat-divider")}function J3e(r,n){if(1&r&&(ge(0,Z3e,1,0,"mat-divider",18),Y(1,"div",9)(2,"div",19),ce(3),W(),Te(4,"div",20),Y(5,"div",21)(6,"a",22)(7,"span",13),ce(8,"download"),W(),ce(9," Download GLB "),W(),Y(10,"a",12)(11,"span",13),ce(12,"info"),W(),ce(13," Metadata "),W()()()),2&r){const i=J(),s=i.$implicit,a=i.index;j("ngIf",0!==a&&1!==a),L(3),Ut(s.name),L(3),j("href",s.threeDimImage,wn),L(4),fl("href",s.url,wn)}}function e4e(r,n){if(1&r){const i=Xn();Y(0,"a",16),ht("click",function(a){Vt(i);const l=J(3).$implicit;return Ht(J(2).downloadClick(a,l.png))}),Y(1,"span",13),ce(2,"download"),W(),ce(3," Download PNG "),W()}2&r&&j("href",J(3).$implicit.png,wn)}function t4e(r,n){if(1&r){const i=Xn();Y(0,"a",16),ht("click",function(a){Vt(i);const l=J(3).$implicit;return Ht(J(2).downloadClick(a,l.svg))}),Y(1,"span",13),ce(2,"download"),W(),ce(3," Download SVG "),W()}2&r&&j("href",J(3).$implicit.svg,wn)}function n4e(r,n){1&r&&(Y(0,"a",17)(1,"span",13),ce(2,"download"),W(),ce(3," Download AI "),W()),2&r&&j("href",J(3).$implicit.ai,wn)}function i4e(r,n){if(1&r&&(Y(0,"div",25)(1,"div",26),ce(2),W(),Te(3,"div",20),Y(4,"button",27)(5,"mat-icon"),ce(6,"close"),W()()(),Y(7,"div",28)(8,"a",29)(9,"span",13),ce(10,"info"),W(),ce(11," Metadata "),W(),ge(12,e4e,4,1,"a",14)(13,t4e,4,1,"a",14)(14,n4e,4,1,"a",15),W(),Y(15,"div",30),Te(16,"img",31),W()),2&r){const i=J(2).$implicit;L(2),Ut(i.name),L(2),j("disableRipple",!0),L(4),fl("href",i.url,wn),j("disableRipple",!0),L(4),j("ngIf",i.png),L(),j("ngIf",i.svg),L(),j("ngIf",i.ai),L(2),j("src",i.expandedImage,wn)("alt",i.alt)}}function r4e(r,n){if(1&r){const i=Xn();Y(0,"div",23)(1,"img",24),ht("click",function(){Vt(i);const a=cr(3);return Ht(J(3).openImageViewer(a))}),W(),ge(2,i4e,17,9,"ng-template",null,2,So),W()}if(2&r){const i=J().$implicit;L(),j("ngSrc",i.image)("alt",i.alt)}}function s4e(r,n){if(1&r&&(Y(0,"div",32),Te(1,"model-viewer",33),W()),2&r){const i=J().$implicit;L(),fl("alt",i.alt),fl("src",i.threeDimImage)}}function o4e(r,n){1&r&&Te(0,"mat-divider",34),2&r&&j("vertical",!J(3).isMultirow)}function a4e(r,n){if(1&r&&(ei(0),Y(1,"mat-card-actions"),ge(2,K3e,11,5,"div",6),Te(3,"mat-divider"),ge(4,J3e,14,4,"ng-template",null,0,So)(6,r4e,4,2,"div",7)(7,s4e,2,2,"ng-template",null,1,So),W(),ge(9,o4e,1,1,"mat-divider",8),ti()),2&r){const i=n.$implicit,s=n.even,a=n.last,l=n.odd,c=cr(5),d=cr(8),u=J().$implicit,h=J();L(),Lt("split",!h.isMultirow&&1!==(null==u.tissueData?null:u.tissueData.length))("no-split",1===(null==u.tissueData?null:u.tissueData.length)),L(),j("ngIf",h.isMultirow)("ngIfElse",c),L(4),j("ngIf",i.image)("ngIfElse",d),L(3),j("ngIf",h.isMultirow&&a||s||l&&!a)}}function l4e(r,n){if(1&r&&(Y(0,"span"),ge(1,a4e,10,9,"ng-container",5),W()),2&r){const i=n.$implicit;Lt("multirow",!J().isMultirow),L(),j("ngForOf",i.tissueData)}}let c4e=(()=>{class r{constructor(i,s){this.dialog=i,this.downloader=s,this.cardTitle="",this.tissueData=[],this.isMultirow=!1}openImageViewer(i){const s=parseFloat(getComputedStyle(document.documentElement).fontSize);window.innerWidth/s<63||this.dialog.open(i,{panelClass:"two-dim-image-modal"})}downloadClick(i,s){i.preventDefault(),this.downloader.download(s)}static{this.\u0275fac=function(s){return new(s||r)(me(Tb),me(W3e))}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-two-dim-image"]],inputs:{cardTitle:"cardTitle",tissueData:"tissueData",isMultirow:"isMultirow"},standalone:!1,decls:5,vars:2,consts:[["downloadGlb",""],["threeDimensionContainer",""],["imageContent",""],[1,"card-title"],[3,"multirow",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","units-container",4,"ngIf","ngIfElse"],["class","image-container",4,"ngIf","ngIfElse"],[3,"vertical",4,"ngIf"],[1,"units-container"],[1,"tissue-name"],[1,"download-button-container"],["mat-stroked-button","","disableRipple","true",3,"href"],[1,"material-symbols-outlined"],["mat-stroked-button","","disableRipple","true",3,"href","click",4,"ngIf"],["mat-stroked-button","","disableRipple","true","download","",3,"href",4,"ngIf"],["mat-stroked-button","","disableRipple","true",3,"click","href"],["mat-stroked-button","","disableRipple","true","download","",3,"href"],[4,"ngIf"],[1,"three-dim-name"],[1,"filler"],[1,"download-buttons"],["download","","mat-stroked-button","","disableRipple","true",3,"href"],[1,"image-container"],["priority","","fill","",3,"click","ngSrc","alt"],[1,"dialog-header"],["mat-dialog-title",""],["mat-dialog-close","","mat-button","",3,"disableRipple"],[1,"dialog-buttons"],["mat-dialog-close","","mat-stroked-button","",3,"disableRipple","href"],[1,"img-container"],[1,"dialog-image",3,"src","alt"],[1,"model-container"],["shadow-intensity","1","camera-controls","","auto-rotate","",1,"model-viewer",2,"height","400px",3,"alt","src"],[3,"vertical"]],template:function(s,a){1&s&&(Y(0,"mat-card")(1,"mat-card-title",3),ce(2),W(),Te(3,"mat-divider"),ge(4,l4e,2,3,"span",4),W()),2&s&&(L(2),Ut(a.cardTitle),L(2),j("ngForOf",a.tissueData))},dependencies:[Ji,Do,Ca,VF,D7,gf,uf,hE,ff,iO,rO,Hve],styles:["[_nghost-%COMP%]   .mat-mdc-card[_ngcontent-%COMP%]{margin-bottom:5rem;padding:unset}[_nghost-%COMP%]   .mdc-card__actions[_ngcontent-%COMP%]{flex-direction:column;align-items:unset;padding:unset}[_nghost-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem;line-height:1.5rem;letter-spacing:.005em;padding:1.6875rem 2rem;margin-bottom:unset}[_nghost-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]{padding:0rem 1.5rem;margin-left:1px;min-width:11.5rem;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{margin-right:1rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%], [_nghost-%COMP%]   button[_ngcontent-%COMP%]{float:right}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;height:28rem;position:relative}[_nghost-%COMP%]   .multirow[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}[_nghost-%COMP%]   .split[_ngcontent-%COMP%]{width:49%}[_nghost-%COMP%]   .no-split[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .units-container[_ngcontent-%COMP%]{padding:1.688rem 2rem;font-weight:300;font-size:1.5rem;line-height:1.5rem;letter-spacing:.005rem;color:#212121;display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .model-container[_ngcontent-%COMP%]{display:flex;justify-content:center}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:unset!important}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .mat-mdc-card-actions[_ngcontent-%COMP%]:not(.mat-mdc-card-actions-align-end)   .mat-mdc-outlined-button[_ngcontent-%COMP%]:first-child{margin:0 1rem}[_nghost-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:contain;width:100%}[_nghost-%COMP%]   .download-button-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-end}[_nghost-%COMP%]   .download-button-container[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:last-child){margin-right:1rem}@media (max-width: 72rem){[_nghost-%COMP%]   .mat-mdc-card-actions[_ngcontent-%COMP%]:not(.mat-mdc-card-actions-align-end)   .mat-mdc-outlined-button[_ngcontent-%COMP%]:first-child{margin:0;margin-bottom:1rem}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{margin:0 .5rem 1rem;padding:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]:not(.mat-card-actions-align-end)   .mat-stroked-button[_ngcontent-%COMP%]:first-child{margin:0 .5rem 1rem}}@media (max-width: 46rem){[_nghost-%COMP%]   .download-button-container[_ngcontent-%COMP%]   .mat-mdc-outlined-button[_ngcontent-%COMP%]:not(:last-child){margin-right:unset;margin-bottom:1rem;width:max-content}[_nghost-%COMP%]   .multirow[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .split[_ngcontent-%COMP%]{width:unset}[_nghost-%COMP%]   .download-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .units-container[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;flex-wrap:wrap;padding:1rem}[_nghost-%COMP%]   .tissue-name[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.125rem}[_nghost-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.125rem;padding:1rem}[_nghost-%COMP%]   .three-dim-name[_ngcontent-%COMP%]{font-size:1.125rem}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{max-width:unset;width:100%}[_nghost-%COMP%]   .download-button-container[_ngcontent-%COMP%]{justify-content:flex-start}}  .two-dim-image-modal .dialog-header{display:flex;flex-direction:row;width:100%;align-items:center;justify-content:space-between}  .two-dim-image-modal .mat-mdc-dialog-container .mdc-dialog__surface{display:flex;flex-direction:column;align-items:center;max-height:55rem;min-width:55rem;object-fit:contain;padding:1.5rem}  .two-dim-image-modal .mdc-dialog__surface{overflow-y:unset}  .two-dim-image-modal .mat-mdc-dialog-title{--mdc-dialog-subhead-weight: 300;--mdc-dialog-subhead-size: 1.5rem;--mdc-dialog-subhead-line-height: 1.5rem;margin:unset;margin-right:.5rem}  .two-dim-image-modal .mdc-dialog__title{padding:0}  .two-dim-image-modal .mdc-dialog__title:before{content:none}  .two-dim-image-modal .mat-mdc-outlined-button{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:10.5rem;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;margin-right:1rem}  .two-dim-image-modal .mat-stroked-button:last-child{margin-right:unset}  .two-dim-image-modal .mat-stroked-button:not([class*=mat-elevation-z]){box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}  .two-dim-image-modal .dialog-image{width:100%;height:100%;object-fit:contain}  .two-dim-image-modal .img-container{max-width:664px;height:792px}  .two-dim-image-modal a:-webkit-any-link{text-decoration:unset!important}  .two-dim-image-modal .dialog-buttons{display:flex;padding-top:1.5rem}  .two-dim-image-modal .filler{flex-grow:1}@media (max-width: 26.75rem){  .two-dim-image-modal .filler{display:none}}  .mat-mdc-outlined-button .mdc-button__label{display:flex;align-items:center;letter-spacing:0}  .material-symbols-outlined{margin-right:.5rem}"]})}}return r})();const RX=()=>[];function d4e(r,n){if(1&r&&(Y(0,"div",5)(1,"div",6),ce(2),W(),Y(3,"a",7)(4,"span",8),ce(5,"download"),W(),ce(6,"Download CSV"),W()()),2&r){const i=J();L(2),Ut(i.tableTitle)}}function u4e(r,n){if(1&r&&(Te(0,"ccf-table",9),Zc(1,"async"),Zc(2,"async")),2&r){let i,s;const a=J();j("typeCount",null!==(i=Jc(1,4,a.tableData))&&void 0!==i?i:Xl(8,RX))("displayedColumns",null!==(s=Jc(2,6,a.columns))&&void 0!==s?s:Xl(9,RX))("columns",a.headerInfo)("isTotal",!0)}}let h4e=(()=>{class r{constructor(i,s,a){this.router=i,this.route=s,this.dataService=a,this.versionData=[],this.organInfo=[],this.tableRequired=!1,this.headerInfo=[],this.isMultiRow=!1,this.organData=[],this.cardTitle="",this.tableData=Is,this.columns=Is,this.tableTitle="",this.filterImages=[],this.displayedColumnsData=[]}iCaseEquals(i,s){return i.toLowerCase()===s.toLowerCase()}ngOnInit(){const[{version:i,organData:[{name:s}]}]=this.organInfo,{version:a=i,organ:l=s}=this.route.snapshot.queryParams;this.headerInfo?.length>0?(this.headerInfo=this.headerInfo.map(c=>({...c,cell:new Function("element",`return ${c.cell}`)})),this.displayedColumnsData=this.headerInfo.map(c=>c.columnDef),this.setVersion(`${a}`,`${l}`),this.setFtu(this.organData[0].name)):this.setVersion(`${a}`,`${l}`)}setVersion(i,s){const a=this.organInfo.find(c=>this.iCaseEquals(c.version,i))??this.organInfo[0],l=this.versionData.find(c=>c.version===a.version);l&&(this.info=a,this.version=l,this.filterImages=a.organData,this.setOrgan(s??a.organData[0].name))}setOrgan(i){const{info:{organData:s,version:a}}=this,l=s.filter(c=>this.iCaseEquals(c.name,i));0===l.length?this.setOrgan(s[0].name):(this.organData=l,this.cardTitle=this.headerInfo?.length>0?l[0].name+" Functional Tissue Units":l[0].name,this.updateQueryParams({version:a,organ:i}))}updateQueryParams(i){this.router.navigate([],{relativeTo:this.route,queryParams:i,queryParamsHandling:"merge"})}setFtu(i){const s=this.dataService.getData("ftu-cell-count-7th-release.csv",this.displayedColumnsData);this.tableData=s.pipe(je(a=>a.data),je(a=>a.filter(l=>this.iCaseEquals(l.Organ,i)))),this.columns=s.pipe(je(a=>a.columns)),this.tableTitle=i+" Functional Tissue Units: Anatomical Structures & Cell Types"}static{this.\u0275fac=function(s){return new(s||r)(me(Ro),me(od),me(Uq))}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-organ-version"]],inputs:{versionData:"versionData",organInfo:"organInfo",tableRequired:"tableRequired",headerInfo:"headerInfo",isMultiRow:"isMultiRow"},standalone:!1,decls:5,vars:10,consts:[[1,"mb-2r",3,"selectedVersion","releaseDate","selectedDate"],[3,"organName","tabs","currentOrgan","panelClass"],[3,"cardTitle","tissueData","isMultirow"],["class","table-heading-container",4,"ngIf"],["class","description",3,"typeCount","displayedColumns","columns","isTotal",4,"ngIf"],[1,"table-heading-container"],[1,"content-title"],["mat-raised-button","","href","assets/table-data/ftu-cell-count-7th-release.csv",1,"download-btn"],[1,"material-symbols-outlined"],[1,"description",3,"typeCount","displayedColumns","columns","isTotal"]],template:function(s,a){1&s&&(Y(0,"ccf-choose-version",0),ht("selectedVersion",function(c){return a.setVersion(c.version)}),W(),Y(1,"ccf-organ-tabs",1),ht("organName",function(c){return a.setOrgan(c)})("organName",function(c){return a.setFtu(c)}),W(),Te(2,"ccf-two-dim-image",2),ge(3,d4e,7,1,"div",3)(4,u4e,3,10,"ccf-table",4)),2&s&&(j("releaseDate",a.versionData)("selectedDate",a.version),L(),j("tabs",a.filterImages)("currentOrgan",a.organData[0].name)("panelClass","panelClass"),L(),j("cardTitle",a.cardTitle)("tissueData",a.organData)("isMultirow",a.isMultiRow),L(),j("ngIf",a.tableRequired),L(),j("ngIf",a.tableRequired))},dependencies:[Do,BO,j3e,c4e,rX,Sm],styles:["[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-bottom:1rem;align-items:center;flex-wrap:wrap;line-height:2rem}[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:hover{background:#6750a414}[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:active{background:#6750a41f}[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:disabled{background:#1d1b201f}[_nghost-%COMP%]   .table-heading-container[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}"]})}}return r})();function f4e(r,n){if(1&r&&(Y(0,"th",12),ce(1),W()),2&r){const i=J();L(),jt(" ",i.columnLabels.type," ")}}function p4e(r,n){if(1&r&&(ei(0),Y(1,"a",15),ce(2),W(),ti()),2&r){const i=J().$implicit;L(),j("href",i.url,wn),L(),Ut(i.label)}}function m4e(r,n){1&r&&ce(0),2&r&&jt(" ",J().$implicit.label," ")}function g4e(r,n){if(1&r&&(Y(0,"td",13),ge(1,p4e,3,2,"ng-container",14)(2,m4e,1,1,"ng-template",null,0,So),W()),2&r){const i=n.$implicit,s=cr(3);L(),j("ngIf",i.url)("ngIfElse",s)}}function _4e(r,n){if(1&r&&(Y(0,"span",18),ce(1),W()),2&r){const i=J(2);L(),Ut(i.downloadIcon)}}function y4e(r,n){if(1&r&&(Y(0,"th",16),ce(1),ge(2,_4e,2,1,"span",17),W()),2&r){const i=J();L(),jt(" ",i.columnLabels.download," "),L(),j("ngIf",i.downloadIcon)}}function v4e(r,n){1&r&&(ei(0),ce(1," | "),ti())}function b4e(r,n){if(1&r&&(ei(0),Y(1,"a",20),ce(2),W(),ge(3,v4e,2,0,"ng-container",21),ti()),2&r){const i=n.$implicit,s=n.last;L(),j("href",i.link,wn),L(),Ut(i.label),L(),j("ngIf",!s)}}function A4e(r,n){if(1&r&&(Y(0,"td",13),ge(1,b4e,4,3,"ng-container",19),W()),2&r){const i=n.$implicit;L(),j("ngForOf",i.links)}}function x4e(r,n){if(1&r&&(Y(0,"th",24),ce(1),W()),2&r){const i=J(2);L(),jt(" ",i.columnLabels.releaseVersion," ")}}function w4e(r,n){if(1&r&&(Y(0,"td",13),ce(1),W()),2&r){const i=n.$implicit;L(),jt(" ",i.releaseVersion," ")}}function C4e(r,n){1&r&&(ei(0,22),ge(1,x4e,2,1,"th",23)(2,w4e,2,1,"td",5),ti())}function E4e(r,n){if(1&r&&(Y(0,"th",27),ce(1),W()),2&r){const i=J(2);L(),jt(" ",i.columnLabels.digitalObjectType," ")}}function M4e(r,n){if(1&r&&(Y(0,"td",13),ce(1),W()),2&r){const i=n.$implicit;L(),jt(" ",i.dot," ")}}function S4e(r,n){1&r&&(ei(0,25),ge(1,E4e,2,1,"th",26)(2,M4e,2,1,"td",5),ti())}function I4e(r,n){1&r&&Te(0,"tr",28)}function T4e(r,n){1&r&&Te(0,"tr",29)}let D4e=(()=>{class r{constructor(){this.columnLabels={type:"Type",download:"Download",releaseVersion:"Release Version",digitalObjectType:"Digital Object Type"},this.downloadIcon="",this.displayMetadata=!1,this.selectedData=new iX([]),this._versions=[],this._data=[]}set sort(i){this.selectedData.sort=i}set versions(i){this._versions=i,this.updateSelection()}get versions(){return this._versions}set data(i){this._data=i,this.updateSelection()}get data(){return this._data}get displayedColumns(){return["label","links"].concat(this.displayMetadata?["releaseVersion","digitalObjectType"]:[])}updateSelection(i){if(0===this.versions.length||0===this.data.length)return;const{version:s}=this.selectedVersion=i??this.versions[0],a=this.data.find(l=>`${l.version}`==`${s}`);this.selectedData.data=a?.rows??[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-download-ftu"]],viewQuery:function(s,a){if(1&s&&Kn(Hb,7),2&s){let l;St(l=It())&&(a.sort=l.first)}},inputs:{versions:"versions",data:"data",columnLabels:"columnLabels",downloadIcon:"downloadIcon",displayMetadata:"displayMetadata"},standalone:!1,decls:12,vars:7,consts:[["noLink",""],[1,"mb-2r",3,"selectedVersion","releaseDate","selectedDate"],["mat-table","","matSort","",1,"mat-elevation-z8","download-table",3,"dataSource"],["matColumnDef","label"],["mat-header-cell","","mat-sort-header","label",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","links"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","releaseVersion",4,"ngIf"],["matColumnDef","digitalObjectType",4,"ngIf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header","label"],["mat-cell",""],[4,"ngIf","ngIfElse"],["target","_blank",1,"organ-link",3,"href"],["mat-header-cell",""],["class","material-symbols-outlined icon",4,"ngIf"],[1,"material-symbols-outlined","icon"],[4,"ngFor","ngForOf"],["target","_blank",1,"download-link",3,"href"],[4,"ngIf"],["matColumnDef","releaseVersion"],["mat-header-cell","","mat-sort-header","releaseVersion",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","releaseVersion"],["matColumnDef","digitalObjectType"],["mat-header-cell","","mat-sort-header","digitalObjectType",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header","digitalObjectType"],["mat-header-row",""],["mat-row",""]],template:function(s,a){1&s&&(Y(0,"ccf-choose-version",1),ht("selectedVersion",function(c){return a.updateSelection(c)}),W(),Y(1,"table",2),ei(2,3),ge(3,f4e,2,1,"th",4)(4,g4e,4,2,"td",5),ti(),ei(5,6),ge(6,y4e,3,2,"th",7)(7,A4e,2,1,"td",5),ti(),ge(8,C4e,3,0,"ng-container",8)(9,S4e,3,0,"ng-container",9)(10,I4e,1,0,"tr",10)(11,T4e,1,0,"tr",11),W()),2&s&&(j("releaseDate",a.versions)("selectedDate",a.selectedVersion),L(),j("dataSource",a.selectedData),L(7),j("ngIf",a.displayMetadata),L(),j("ngIf",a.displayMetadata),L(),j("matHeaderRowDef",a.displayedColumns),L(),j("matRowDefColumns",a.displayedColumns))},dependencies:[Ji,Do,BO,ZO,YE,JO,XE,qE,e2,KE,ZE,t2,n2,Hb,jY],styles:["[_nghost-%COMP%]   .download-table[_ngcontent-%COMP%]{width:100%;box-shadow:none;border:1px solid #e0e0e0}[_nghost-%COMP%]   .download-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:300}[_nghost-%COMP%]   .download-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:#000}[_nghost-%COMP%]   .organ-link[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .download-link[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}  .mat-sort-header-arrow{color:#ebebeb!important;opacity:.57!important;transform:rotate(180deg)!important}  .mat-sort-header-sorted .mat-sort-header-arrow{color:#212121!important}"]})}}return r})();class R4e{_document;_textarea;constructor(n,i){this._document=i;const s=this._textarea=this._document.createElement("textarea"),a=s.style;a.position="fixed",a.top=a.opacity="0",a.left="-999em",s.setAttribute("aria-hidden","true"),s.value=n,s.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(s)}copy(){const n=this._textarea;let i=!1;try{if(n){const s=this._document.activeElement;n.select(),n.setSelectionRange(0,n.value.length),i=this._document.execCommand("copy"),s&&s.focus()}}catch{}return i}destroy(){const n=this._textarea;n&&(n.remove(),this._textarea=void 0)}}let k4e=(()=>{class r{_document=D(rn);constructor(){}copy(i){const s=this.beginCopy(i),a=s.copy();return s.destroy(),a}beginCopy(i){return new R4e(i,this._document)}static \u0275fac=function(s){return new(s||r)};static \u0275prov=we({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function P4e(r,n){if(1&r){const i=Xn();Y(0,"div",1)(1,"mat-card",2),ce(2),W(),Y(3,"div",3)(4,"button",4),ht("click",function(){const a=Vt(i).$implicit;return Ht(J().copyData(a.url))}),Y(5,"span",5),ce(6),W(),ce(7),W(),Y(8,"a",6),ce(9),W()()()}if(2&r){const i=n.$implicit;L(),Eo("border-left",i.borderColor),L(),Ut(i.url),L(4),Ut(i.plainButton.icon),L(),jt(" ",i.plainButton.label," "),L(),fl("href",i.dynamicButton.url,wn),L(),jt(" ",i.dynamicButton.label," ")}}let F4e=(()=>{class r{constructor(i){this.clipboard=i,this.clipBoardData=[]}copyData(i){const a=i.split(" ")[1];this.clipboard.copy(a)}static{this.\u0275fac=function(s){return new(s||r)(me(k4e))}}static{this.\u0275cmp=Ge({type:r,selectors:[["copy-clipboard"]],inputs:{clipBoardData:"clipBoardData"},standalone:!1,decls:1,vars:1,consts:[["class","clipboard-container",4,"ngFor","ngForOf"],[1,"clipboard-container"],["id","url",1,"url-card"],[1,"buttons"],["mat-raised-button","",1,"copy-btn",3,"click"],[1,"material-symbols-outlined","icon"],["mat-raised-button","","target","_blank",1,"copy-btn","tryme",3,"href"]],template:function(s,a){1&s&&ge(0,P4e,10,7,"div",0),2&s&&j("ngForOf",a.clipBoardData)},dependencies:[Ji,Ca,uf,hE],styles:["[_nghost-%COMP%]   .clipboard-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:2rem}[_nghost-%COMP%]   .url-card[_ngcontent-%COMP%]{justify-content:center;max-width:37.25rem;background-color:#ebedef;border-left:solid rgb(22,144,198) 5px;padding:1rem;overflow:hidden}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}[_nghost-%COMP%]   .copy-btn[_ngcontent-%COMP%]{display:flex;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:.0625rem;min-width:7.75rem;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;white-space:normal;letter-spacing:0}[_nghost-%COMP%]     .mat-mdc-raised-button .mdc-button__label{display:flex;align-items:center}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:5px}@media screen and (max-width: 428px){[_nghost-%COMP%]   .clipboard-container[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .copy-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .tryme[_ngcontent-%COMP%]{width:50%}}@media screen and (max-width: 300px){[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .copy-btn[_ngcontent-%COMP%], [_nghost-%COMP%]   .tryme[_ngcontent-%COMP%]{width:100%}}"]})}}return r})();const O4e=r=>({scrolled:r});function N4e(r,n){if(1&r&&Te(0,"ccf-page-header",28),2&r){const i=J();Vi(i.def.styles),j("headerCard",i.def.headerCard)}}function B4e(r,n){if(1&r&&Te(0,"ccf-page-data",29),2&r){const i=J();Vi(i.def.styles),j("data",i.def.pageData)}}function L4e(r,n){1&r&&Te(0,"announcement-card",30),2&r&&j("messages",J().def.announcementCard)}function U4e(r,n){if(1&r&&Te(0,"ccf-use-button",31),2&r){const i=J();Vi(i.def.styles),j("buttonData",i.def)}}function z4e(r,n){1&r&&Te(0,"ccf-sop-links",32),2&r&&j("links",J().def.sopData)}function V4e(r,n){1&r&&Te(0,"ccf-board-members",33),2&r&&j("membersData",J().def.boardMembersData)}function H4e(r,n){if(1&r){const i=Xn();Y(0,"ccf-card-button-long",34),ht("cardRoutes",function(a){return Vt(i),Ht(J().clicked(a))}),W()}2&r&&j("longButtonItems",J().def.longCardItems)}function G4e(r,n){1&r&&Te(0,"ccf-simple-tile",35),2&r&&j("definitions",J().def.description)}function $4e(r,n){1&r&&Te(0,"youtube-model",36),2&r&&j("playerData",J().def.youtubePlayer)}function Q4e(r,n){if(1&r&&(Y(0,"div"),ce(1),W()),2&r){const i=J();Vi(i.def.styles),Jr(i.def.class),L(),jt(" ",i.def.title," ")}}function j4e(r,n){if(1&r&&Te(0,"div"),2&r){const i=J();Eo("margin-top",i.def.top)("margin-bottom",i.def.bottom)}}function W4e(r,n){1&r&&Te(0,"card-with-header",37),2&r&&j("cardBlockData",J().def.longCardWithTitleData)}function q4e(r,n){if(1&r&&Te(0,"ccf-simple-image",38),2&r){const i=J();j("imageInfo",i.def.imageData)("headerData",i.def.headerData)("customModalClass",i.def.customModalClass)}}function Y4e(r,n){if(1&r&&Te(0,"img",39),2&r){const i=J();Vi(i.def.styles),Jr(i.def.class),j("src",i.def.imageSource,wn)("alt",i.def.alt)}}function X4e(r,n){if(1&r&&(Y(0,"div"),ce(1),W()),2&r){const i=J();Vi(i.def.styles),Jr(i.def.class),L(),jt(" ",i.def.text," ")}}function K4e(r,n){1&r&&Te(0,"page-element",42),2&r&&j("def",n.$implicit)}function Z4e(r,n){if(1&r&&(Y(0,"div",40),ge(1,K4e,1,1,"page-element",41),W()),2&r){const i=J();Vi(i.def.styles),Jr(i.def.class),j("id",i.def.id),L(),j("ngForOf",i.def.components)}}function J4e(r,n){if(1&r&&(Y(0,"div"),Te(1,"ccf-carousel",43),W()),2&r){const i=J();Vi(i.def.carouselContainerStyles),L(),j("carouselInfo",i.def.carouselInfo)}}function eUe(r,n){1&r&&Te(0,"count-info-card",44),2&r&&j("cardInformation",J().def.countCardInfo)}function tUe(r,n){1&r&&Te(0,"ccf-section-card",45),2&r&&j("cards",J().def.cardsInfo)}function nUe(r,n){if(1&r&&Te(0,"table-version",46),2&r){const i=J();j("isTotal",i.def.isTotal)("versionChooserDisabled",i.def.versionChooserDisabled)("headerInfo",i.def.headerInfo)("versionData",i.def.versionData)("additionalHeaders",i.def.additionalHeaders)("cellHeaders",i.def.cellHeaders)("isTotal",i.def.isTotal)("isDownload",i.def.isDownload)}}function iUe(r,n){1&r&&Te(0,"page-element",42),2&r&&j("def",n.$implicit)}function rUe(r,n){if(1&r&&(Y(0,"mat-card"),ge(1,iUe,1,1,"page-element",41),W()),2&r){const i=J();Vi(i.def.styles),L(),j("ngForOf",i.def.components)}}function sUe(r,n){1&r&&Te(0,"ccf-prize-card",47),2&r&&j("prizeCard",J().def.prizeCard)}function oUe(r,n){if(1&r&&(Y(0,"a",49),ce(1),W()),2&r){const i=n.$implicit;Jr(i.class),j("href",i.href,wn)("title",i.title),L(),Ut(i.data)}}function aUe(r,n){if(1&r&&(Y(0,"div"),ge(1,oUe,2,5,"a",48),W()),2&r){const i=J();Vi(i.def.styles),L(),j("ngForOf",i.def.links)}}function lUe(r,n){if(1&r&&Te(0,"menu-tree",50),2&r){const i=J();Vi(i.def.styles),j("treeItems",i.def.mobileNavigationItems)("icon",i.def.icon)("overlayClass",i.def.overlayClass)("treeClass","tree-class")("positions",i.def.positions)}}function cUe(r,n){if(1&r){const i=Xn();Y(0,"li",55),ht("click",function(){const a=Vt(i).$implicit;return Ht(J(2).scrollTo(a.id||""))}),ce(1),W()}if(2&r){const i=n.$implicit;j("value",i),L(),jt(" ",i.menuName," ")}}function dUe(r,n){1&r&&Te(0,"page-element",42),2&r&&j("def",n.$implicit)}function uUe(r,n){if(1&r&&(Y(0,"mat-drawer-container",51)(1,"mat-drawer",52)(2,"ul",53),ge(3,cUe,2,2,"li",54),W()(),Y(4,"mat-drawer-content"),ge(5,dUe,1,1,"page-element",41),W()()),2&r){const i=J();j("autosize",!0),L(),Vi(i.def.drawerStyles),j("ngClass",ra(6,O4e,i.scrolled)),L(2),j("ngForOf",i.def.navigationItems),L(2),j("ngForOf",i.def.components)}}function hUe(r,n){1&r&&Te(0,"mat-divider"),2&r&&Vi(J().def.styles)}function fUe(r,n){1&r&&Te(0,"contact-card",56),2&r&&j("contactCard",J().def.contactData)}function pUe(r,n){if(1&r&&Te(0,"ccf-organ-version",57),2&r){const i=J();j("versionData",i.def.versionData)("isMultiRow",i.def.isMultiRow)("organInfo",i.def.organInfo)("tableRequired",i.def.tableRequired)("headerInfo",i.def.headerInfo)}}function mUe(r,n){if(1&r&&Te(0,"ccf-download-ftu",58),2&r){const i=J();j("data",i.def.versionedData)("versions",i.def.versions)("displayMetadata",i.def.displayMetadata)("columnLabels",i.def.columnLabels)("downloadIcon",i.def.downloadIcon)}}function gUe(r,n){if(1&r&&Te(0,"copy-clipboard",59),2&r){const i=J();Vi(i.def.styles),j("clipBoardData",i.def.clipboardData)}}let _Ue=(()=>{class r{constructor(i,s,a,l){this.router=i,this.route=s,this.scroller=a,this.cdr=l,this.subscriptions=new gn,this.scrolled=!1,this.subscriptions.add(this.route.fragment.pipe(Y9(10)).subscribe(c=>{c&&this.scroller.scrollToAnchor(c)}))}onScroll({scrollY:i}=window){const s=i>235;s!==this.scrolled&&(this.scrolled=s,this.cdr.markForCheck())}clicked(i){this.router.navigate([i.route])}scrollTo(i){this.router.navigate([],{fragment:i}),this.scroller.scrollToAnchor(i)}static{this.\u0275fac=function(s){return new(s||r)(me(Ro),me(od),me(jR),me(Zi))}}static{this.\u0275cmp=Ge({type:r,selectors:[["page-element"]],hostBindings:function(s,a){1&s&&ht("scroll",function(){return a.onScroll()},0,qz)},inputs:{def:"def"},standalone:!1,decls:31,vars:31,consts:[[3,"ngSwitch"],["class","page-header",3,"style","headerCard",4,"ngSwitchCase"],["class","description",3,"data","style",4,"ngSwitchCase"],[3,"messages",4,"ngSwitchCase"],["class","button-container",3,"buttonData","style",4,"ngSwitchCase"],[3,"links",4,"ngSwitchCase"],[3,"membersData",4,"ngSwitchCase"],[3,"longButtonItems","cardRoutes",4,"ngSwitchCase"],[3,"definitions",4,"ngSwitchCase"],[3,"playerData",4,"ngSwitchCase"],[3,"class","style",4,"ngSwitchCase"],[3,"margin-top","margin-bottom",4,"ngSwitchCase"],[3,"cardBlockData",4,"ngSwitchCase"],[3,"imageInfo","headerData","customModalClass",4,"ngSwitchCase"],[3,"src","class","style","alt",4,"ngSwitchCase"],[3,"style","class",4,"ngSwitchCase"],[3,"style","class","id",4,"ngSwitchCase"],[3,"style",4,"ngSwitchCase"],[3,"cardInformation",4,"ngSwitchCase"],[3,"cards",4,"ngSwitchCase"],[3,"isTotal","versionChooserDisabled","headerInfo","versionData","additionalHeaders","cellHeaders","isDownload",4,"ngSwitchCase"],[3,"prizeCard",4,"ngSwitchCase"],["class","menu",3,"style","treeItems","icon","overlayClass","treeClass","positions",4,"ngSwitchCase"],[3,"autosize",4,"ngSwitchCase"],[3,"contactCard",4,"ngSwitchCase"],[3,"versionData","isMultiRow","organInfo","tableRequired","headerInfo",4,"ngSwitchCase"],[3,"data","versions","displayMetadata","columnLabels","downloadIcon",4,"ngSwitchCase"],[3,"clipBoardData","style",4,"ngSwitchCase"],[1,"page-header",3,"headerCard"],[1,"description",3,"data"],[3,"messages"],[1,"button-container",3,"buttonData"],[3,"links"],[3,"membersData"],[3,"cardRoutes","longButtonItems"],[3,"definitions"],[3,"playerData"],[3,"cardBlockData"],[3,"imageInfo","headerData","customModalClass"],[3,"src","alt"],[3,"id"],[3,"def",4,"ngFor","ngForOf"],[3,"def"],[3,"carouselInfo"],[3,"cardInformation"],[3,"cards"],[3,"isTotal","versionChooserDisabled","headerInfo","versionData","additionalHeaders","cellHeaders","isDownload"],[3,"prizeCard"],[3,"href","title","class",4,"ngFor","ngForOf"],[3,"href","title"],[1,"menu",3,"treeItems","icon","overlayClass","treeClass","positions"],[3,"autosize"],["mode","side","opened","",3,"ngClass"],[1,"toc-list"],[3,"value","click",4,"ngFor","ngForOf"],[3,"click","value"],[3,"contactCard"],[3,"versionData","isMultiRow","organInfo","tableRequired","headerInfo"],[3,"data","versions","displayMetadata","columnLabels","downloadIcon"],[3,"clipBoardData"]],template:function(s,a){1&s&&(ei(0,0),ge(1,N4e,1,3,"ccf-page-header",1)(2,B4e,1,3,"ccf-page-data",2)(3,L4e,1,1,"announcement-card",3)(4,U4e,1,3,"ccf-use-button",4)(5,z4e,1,1,"ccf-sop-links",5)(6,V4e,1,1,"ccf-board-members",6)(7,H4e,1,1,"ccf-card-button-long",7)(8,G4e,1,1,"ccf-simple-tile",8)(9,$4e,1,1,"youtube-model",9)(10,Q4e,2,5,"div",10)(11,j4e,1,4,"div",11)(12,W4e,1,1,"card-with-header",12)(13,q4e,1,3,"ccf-simple-image",13)(14,Y4e,1,6,"img",14)(15,X4e,2,5,"div",15)(16,Z4e,2,6,"div",16)(17,J4e,2,3,"div",17)(18,eUe,1,1,"count-info-card",18)(19,tUe,1,1,"ccf-section-card",19)(20,nUe,1,8,"table-version",20)(21,rUe,2,3,"mat-card",17)(22,sUe,1,1,"ccf-prize-card",21)(23,aUe,2,3,"div",17)(24,lUe,1,7,"menu-tree",22)(25,uUe,6,8,"mat-drawer-container",23)(26,hUe,1,2,"mat-divider",17)(27,fUe,1,1,"contact-card",24)(28,pUe,1,5,"ccf-organ-version",25)(29,mUe,1,5,"ccf-download-ftu",26)(30,gUe,1,3,"copy-clipboard",27),ti()),2&s&&(j("ngSwitch",a.def.type),L(),j("ngSwitchCase","header"),L(),j("ngSwitchCase","page-data"),L(),j("ngSwitchCase","announcement"),L(),j("ngSwitchCase","button"),L(),j("ngSwitchCase","sop-links"),L(),j("ngSwitchCase","board-members"),L(),j("ngSwitchCase","long-card"),L(),j("ngSwitchCase","simple-tile"),L(),j("ngSwitchCase","player"),L(),j("ngSwitchCase","title"),L(),j("ngSwitchCase","margin"),L(),j("ngSwitchCase","long-card-with-title"),L(),j("ngSwitchCase","simple-image"),L(),j("ngSwitchCase","image"),L(),j("ngSwitchCase","text"),L(),j("ngSwitchCase","styled-group"),L(),j("ngSwitchCase","carousel"),L(),j("ngSwitchCase","count-card"),L(),j("ngSwitchCase","section-card"),L(),j("ngSwitchCase","table-version"),L(),j("ngSwitchCase","mat-card"),L(),j("ngSwitchCase","prize-card"),L(),j("ngSwitchCase","datasets"),L(),j("ngSwitchCase","menu-tree"),L(),j("ngSwitchCase","drawer"),L(),j("ngSwitchCase","divider"),L(),j("ngSwitchCase","contact-card"),L(),j("ngSwitchCase","organ-version"),L(),j("ngSwitchCase","download-ftu"),L(),j("ngSwitchCase","copy-clipboard"))},dependencies:[Ow,Ji,Cv,HR,FRe,BRe,XRe,ZRe,eke,$7,bke,Cke,Pke,Oke,OPe,E2e,S2e,D2e,uLe,Ca,bLe,cX,dX,JE,xX,gf,c3e,h4e,D4e,F4e,r],styles:["[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:300;font-size:2.25rem;line-height:2.75rem;letter-spacing:.005rem;padding-top:2rem;padding-bottom:1rem}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:5rem}[_nghost-%COMP%]   .button-container[_ngcontent-%COMP%]{margin-bottom:2.5rem;width:fit-content}[_nghost-%COMP%]   .page-header[_ngcontent-%COMP%]{display:block;margin:3.5rem 0}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline;text-decoration-thickness:2px;color:#444c65}[_nghost-%COMP%]   mat-drawer[_ngcontent-%COMP%]{min-width:306px}[_nghost-%COMP%]   .toc-list[_ngcontent-%COMP%]{border:#e0e0e0 2px solid;padding-top:unset;position:static;list-style:none;margin:unset;padding:unset;border-radius:4px;background-color:#fff}[_nghost-%COMP%]   .toc-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0rem 1rem;font-weight:500;font-size:1rem;line-height:1.5rem;border-bottom:#e0e0e0 1px solid;color:#054f89;height:3rem}[_nghost-%COMP%]   .toc-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5;text-decoration:underline;text-decoration-thickness:2px;color:#444c65;cursor:pointer}[_nghost-%COMP%]   .scrolled[_ngcontent-%COMP%]{position:fixed;top:4rem}[_nghost-%COMP%]   .mat-drawer-side[_ngcontent-%COMP%]{border-right:unset;padding-right:2.5rem}[_nghost-%COMP%]   .download-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;width:fit-content;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026}[_nghost-%COMP%]   .download-button[_ngcontent-%COMP%]:hover{background:#6750a414}[_nghost-%COMP%]   .download-button[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   .download-button[_ngcontent-%COMP%]:active{background:#6750a41f}[_nghost-%COMP%]   .download-button[_ngcontent-%COMP%]:disabled{background:#1d1b201f}[_nghost-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:11px}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .menu[_ngcontent-%COMP%]{position:fixed;top:2.5rem;z-index:10;transition:margin-top .5s ease-out}[_nghost-%COMP%]   .three-dim-space[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 50rem){[_nghost-%COMP%]   .image[_ngcontent-%COMP%]{width:100%}}@media (max-width: 40rem){[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   mat-drawer[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ccf-page-header[_ngcontent-%COMP%]{margin-top:4rem!important}[_nghost-%COMP%]   .three-dim-space[_ngcontent-%COMP%]{flex-wrap:wrap}}@media screen and (max-width: 428px){.use-btns-us3[_ngcontent-%COMP%]{flex-direction:column}}  .tree-class{border-radius:.25rem;max-width:288px;padding:unset}  .overlay-position{max-height:calc(100vh - 4.5rem)}  .overlay-position .mat-tree-node{font-weight:500;color:#054f89}  .overlay-position-fifth-release,   .overlay-position-fourth-release{max-height:calc(100vh - 4.5rem)}  .overlay-position-fifth-release .mat-tree-node,   .overlay-position-fourth-release .mat-tree-node{display:block;padding:unset;font-weight:500;color:#054f89}  .tree-class .table-of-contents{padding:.75rem 0rem .75rem 1rem}  .panelClass{position:relative!important;top:1px;min-width:unset!important}"],changeDetection:0})}}return r})();function yUe(r,n){1&r&&Te(0,"page-element",1),2&r&&j("def",n.$implicit)}let vUe=(()=>{class r{constructor(){this.defs=[]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-page-renderer"]],inputs:{defs:"defs"},standalone:!1,decls:1,vars:1,consts:[[3,"def",4,"ngFor","ngForOf"],[3,"def"]],template:function(s,a){1&s&&ge(0,yUe,1,1,"page-element",0),2&s&&j("ngForOf",a.defs)},dependencies:[Ji,_Ue],encapsulation:2})}}return r})();const bUe=()=>[],AUe=[{path:"**",component:(()=>{class r{constructor(i,s,a,l){this.router=i,this.route=s,this.errorHandler=a,this.contentService=l,this.data$=this.resolveData(),this.LANDING_PAGE_FILE="landing-page",this.addScrollToTopListener()}resolveData(){return this.route.url.pipe(je(()=>this.router.routerState.snapshot.url),je(s=>this.getFileName(s)),br(s=>this.contentService.getContent(s).pipe(_u(a=>(this.router.navigateByUrl(""),this.contentService.getContent(this.LANDING_PAGE_FILE))))))}addScrollToTopListener(){this.route.url.pipe(Kv()).subscribe(()=>{setTimeout(()=>{this.router.navigate([],{relativeTo:this.route,preserveFragment:!0,queryParamsHandling:"preserve"})},100),window.scroll({top:0,left:0,behavior:"smooth"})})}getFileName(i){return i.slice(1).split("#")[0].split("?")[0]||this.LANDING_PAGE_FILE}static{this.\u0275fac=function(s){return new(s||r)(me(Ro),me(od),me(bo),me(XTe))}}static{this.\u0275cmp=Ge({type:r,selectors:[["page"]],standalone:!1,decls:2,vars:4,consts:[[3,"defs"]],template:function(s,a){if(1&s&&(Te(0,"ccf-page-renderer",0),Zc(1,"async")),2&s){let l;j("defs",null!==(l=Jc(1,1,a.data$))&&void 0!==l?l:Xl(3,bUe))}},dependencies:[vUe,Sm],styles:["[_nghost-%COMP%]{max-width:77rem}@media (max-width: 80rem){[_nghost-%COMP%]{padding:0rem 1rem;max-width:100vw}}  .cell-link:hover{color:#444c65;text-decoration:underline;text-decoration-thickness:2px}"]})}}return r})()}];let xUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[bl.forRoot(AUe,{scrollPositionRestoration:"disabled",anchorScrolling:"enabled",scrollOffset:()=>[0,(document.querySelector(".toolbar-class")?.getBoundingClientRect().height??0)+24],onSameUrlNavigation:"reload"}),bl]})}}return r})();const jb="overview-training-outreach",kX=[{menuName:"Data",children:[{menuName:"Overview: HRA Data",route:"overview-data",disabled:!1,divider:!0},{menuName:"Anatomical Structures, Cell Types + Biomarkers (ASCT+B) Tables",route:"asctb-tables",disabled:!0},{menuName:"Cell Type Annotations",route:"cell-type-annotations"},{menuName:"Anatomical Structures, Cell Types + Biomarkers (ASCT+B) Cell Types Data from Azimuth",route:"asctb-azimuth",disabled:!0},{menuName:"Vasculature Common Coordinate Framework",route:"vccf"},{menuName:"2D Functional Tissue Unit (FTU) Illustrations",route:"2d-ftu-illustrations",disabled:!0},{menuName:"3D Reference Object Library",route:"3d-reference-library",disabled:!0},{menuName:"Organ Mapping Antibody Panels (OMAPs)",route:"omap",disabled:!0},{menuName:"CCF Ontology",route:"ccf-ontology",divider:!0},{menuName:"HuBMAP Data Portal",disabled:!0,url:"https://portal.hubmapconsortium.org/"},{menuName:"SenNet Data Portal",disabled:!0,url:"https://data.sennetconsortium.org/"},{menuName:"KPMP Kidney Tissue Atlas",disabled:!0,url:"https://atlas.kpmp.org/"}]},{menuName:"Use HRA Previews",children:[{menuName:"Overview: Use HRA Previews",route:"overview-use-the-hra",divider:!0},{menuName:"Preview: Improve Cell Type Annotations",route:"user-story/1"},{menuName:"Preview: Predict 3D Spatial Origin of Tissue Samples",route:"user-story/2"},{menuName:"Preview: Explore Biomarker Expressions for Cell Types",route:"user-story/3"},{menuName:"Preview: Functional Tissue Unit Explorer",route:"user-story/4"},{menuName:"Preview: Cell Distance Explorer",route:"user-story/5"},{menuName:"Preview: Use Atlas Components",route:"user-story/6"},{menuName:"Preview: Track Atlas Evolution and Usage",route:"user-story/7"}]},{menuName:"Tools",children:[{menuName:"Overview: HRA Tools",route:"overview-tools",disabled:!0,divider:!0},{menuName:"Anatomical Structures, Cell Types + Biomarkers (ASCT+B) Reporter",route:"asctb-reporter",disabled:!0},{menuName:"Registration User Interface (RUI)",route:"registration-user-interface",disabled:!0},{menuName:"Exploration User Interface (EUI)",route:"exploration-user-interface",disabled:!0},{menuName:"HRA Organ Gallery",route:"hra-organ-gallery"},{menuName:"HRA API",route:"api",disabled:!0,divider:!0},{menuName:"Preview: Functional Tissue Unit Explorer",route:"user-story/4"},{menuName:"Preview: Cell Distance Explorer",route:"user-story/5"},{menuName:"Preview: Atlas Components",route:"user-story/6"},{menuName:"Preview: HRA Dashboard",route:"user-story/7"},{menuName:"Preview: Cell Population Graphs",route:"cell-population-graphs",disabled:!0},{menuName:"Preview: Millitome",route:"millitome",disabled:!0}]},{menuName:"Training & Outreach",children:[{menuName:"Overview: HRA Training and Outreach",route:jb,disabled:!0,divider:!0},{menuName:"Visible Human Massive Open Online Course",url:"https://expand.iu.edu/browse/sice/cns/courses/hubmap-visible-human-mooc",disabled:!0},{menuName:"Standard Operating Procedures",route:"standard-operating-procedures",disabled:!0},{menuName:"Outreach",route:jb,fragment:"outreach"},{menuName:"Release Notes",route:jb,fragment:"release-notes"},{menuName:"Human Atlas Stories",route:jb,fragment:"human-atlas-stories"},{menuName:"Previews",route:jb,fragment:"previews"}]},{menuName:"About",children:[{menuName:"About the Team",route:"team"},{menuName:"HRA Editorial Board",route:"editorial-board"},{menuName:"Publications",route:"team",fragment:"publications"}]}],wUe=["*",[["mat-toolbar-row"]]],CUe=["*","mat-toolbar-row"];let EUe=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return r})(),PX=(()=>{class r{_elementRef=D(Mt);_platform=D(Qr);_document=D(rn);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-toolbar"]],contentQueries:function(s,a,l){if(1&s&&Gi(l,EUe,5),2&s){let c;St(c=It())&&(a._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(s,a){2&s&&(Jr(a.color?"mat-"+a.color:""),Lt("mat-toolbar-multiple-rows",a._toolbarRows.length>0)("mat-toolbar-single-row",0===a._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:CUe,decls:2,vars:0,template:function(s,a){1&s&&(lr(wUe),cn(0),cn(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return r})(),FX=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({imports:[ci,ci]})}return r})();const MUe=["mat-menu-item",""],SUe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],IUe=["mat-icon, [matMenuItemIcon]","*"];function TUe(r,n){1&r&&(oy(),Y(0,"svg",2),Te(1,"polygon",3),W())}const DUe=["*"];function RUe(r,n){if(1&r){const i=Xn();Y(0,"div",0),ht("click",function(){return Vt(i),Ht(J().closed.emit("click"))})("animationstart",function(a){return Vt(i),Ht(J()._onAnimationStart(a.animationName))})("animationend",function(a){return Vt(i),Ht(J()._onAnimationDone(a.animationName))})("animationcancel",function(a){return Vt(i),Ht(J()._onAnimationDone(a.animationName))}),Y(1,"div",1),cn(2),W()()}if(2&r){const i=J();Jr(i._classList),Lt("mat-menu-panel-animations-disabled",i._animationsDisabled)("mat-menu-panel-exit-animation","void"===i._panelAnimationState)("mat-menu-panel-animating",i._isAnimating),j("id",i.panelId),en("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}const u2=new se("MAT_MENU_PANEL");let iM=(()=>{class r{_elementRef=D(Mt);_document=D(rn);_focusMonitor=D(cf);_parentMenu=D(u2,{optional:!0});_changeDetectorRef=D(Zi);role="menuitem";disabled=!1;disableRipple=!1;_hovered=new Qe;_focused=new Qe;_highlighted=!1;_triggersSubmenu=!1;constructor(){D(fc).load(bb),this._parentMenu?.addItem?.(this)}focus(i,s){this._focusMonitor&&i?this._focusMonitor.focusVia(this._getHostElement(),i,s):this._getHostElement().focus(s),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(i){this.disabled&&(i.preventDefault(),i.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const i=this._elementRef.nativeElement.cloneNode(!0),s=i.querySelectorAll("mat-icon, .material-icons");for(let a=0;a<s.length;a++)s[a].remove();return i.textContent?.trim()||""}_setHighlighted(i){this._highlighted=i,this._changeDetectorRef.markForCheck()}_setTriggersSubmenu(i){this._triggersSubmenu=i,this._changeDetectorRef.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-focus-indicator"],hostVars:8,hostBindings:function(s,a){1&s&&ht("click",function(c){return a._checkDisabled(c)})("mouseenter",function(){return a._handleMouseEnter()}),2&s&&(en("role",a.role)("tabindex",a._getTabIndex())("aria-disabled",a.disabled)("disabled",a.disabled||null),Lt("mat-mdc-menu-item-highlighted",a._highlighted)("mat-mdc-menu-item-submenu-trigger",a._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ct],disableRipple:[2,"disableRipple","disableRipple",ct]},exportAs:["matMenuItem"],attrs:MUe,ngContentSelectors:IUe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(s,a){1&s&&(lr(SUe),cn(0),Y(1,"span",0),cn(2,1),W(),Te(3,"div",1),ge(4,TUe,2,0,":svg:svg",2)),2&s&&(L(3),j("matRippleDisabled",a.disableRipple||a.disabled)("matRippleTrigger",a._getHostElement()),L(),Vr(a._triggersSubmenu?4:-1))},dependencies:[cE],encapsulation:2,changeDetection:0})}return r})();const kUe=new se("MatMenuContent"),PUe=new se("mat-menu-default-options",{providedIn:"root",factory:function FUe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}}),h2="_mat-menu-enter",rM="_mat-menu-exit";let bg=(()=>{class r{_elementRef=D(Mt);_changeDetectorRef=D(Zi);_injector=D(On);_keyManager;_xPosition;_yPosition;_firstItemFocusRef;_exitFallbackTimeout;_animationsDisabled;_allItems;_directDescendantItems=new bh;_classList={};_panelAnimationState="void";_animationDone=new Qe;_isAnimating=!1;parentMenu;direction;overlayPanelClass;backdropClass;ariaLabel;ariaLabelledby;ariaDescribedby;get xPosition(){return this._xPosition}set xPosition(i){this._xPosition=i,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(i){this._yPosition=i,this.setPositionClasses()}templateRef;items;lazyContent;overlapTrigger;hasBackdrop;set panelClass(i){const s=this._previousPanelClass,a={...this._classList};s&&s.length&&s.split(" ").forEach(l=>{a[l]=!1}),this._previousPanelClass=i,i&&i.length&&(i.split(" ").forEach(l=>{a[l]=!0}),this._elementRef.nativeElement.className=""),this._classList=a}_previousPanelClass;get classList(){return this.panelClass}set classList(i){this.panelClass=i}closed=new ue;close=this.closed;panelId=D(wu).getId("mat-menu-panel-");constructor(){const i=D(PUe);this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop,this._animationsDisabled="NoopAnimations"===D(xo,{optional:!0})}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new u7(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Ts(this._directDescendantItems),br(i=>Ds(...i.map(s=>s._focused)))).subscribe(i=>this._keyManager.updateActiveItem(i)),this._directDescendantItems.changes.subscribe(i=>{const s=this._keyManager;if("enter"===this._panelAnimationState&&s.activeItem?._hasFocus()){const a=i.toArray(),l=Math.max(0,Math.min(a.length-1,s.activeItemIndex||0));a[l]&&!a[l].disabled?s.setActiveItem(l):s.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy(),clearTimeout(this._exitFallbackTimeout)}_hovered(){return this._directDescendantItems.changes.pipe(Ts(this._directDescendantItems),br(s=>Ds(...s.map(a=>a._hovered))))}addItem(i){}removeItem(i){}_handleKeydown(i){const s=i.keyCode,a=this._keyManager;switch(s){case 27:xl(i)||(i.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===s||40===s)&&a.setFocusOrigin("keyboard"),void a.onKeydown(i)}}focusFirstItem(i="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=_a(()=>{const s=this._resolvePanel();if(!s||!s.contains(document.activeElement)){const a=this._keyManager;a.setFocusOrigin(i).setFirstItemActive(),!a.activeItem&&s&&s.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(i){}setPositionClasses(i=this.xPosition,s=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===i,"mat-menu-after":"after"===i,"mat-menu-above":"above"===s,"mat-menu-below":"below"===s},this._changeDetectorRef.markForCheck()}_onAnimationDone(i){const s=i===rM;(s||i===h2)&&(s&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(s?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(i){(i===h2||i===rM)&&(this._isAnimating=!0)}_setIsOpen(i){if(this._panelAnimationState=i?"enter":"void",i){if(0===this._keyManager.activeItemIndex){const s=this._resolvePanel();s&&(s.scrollTop=0)}}else this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(rM),200));this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(i?h2:rM)}),this._changeDetectorRef.markForCheck()}_updateDirectDescendants(){this._allItems.changes.pipe(Ts(this._allItems)).subscribe(i=>{this._directDescendantItems.reset(i.filter(s=>s._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}_resolvePanel(){let i=null;return this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),i}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=Ge({type:r,selectors:[["mat-menu"]],contentQueries:function(s,a,l){if(1&s&&(Gi(l,kUe,5),Gi(l,iM,5),Gi(l,iM,4)),2&s){let c;St(c=It())&&(a.lazyContent=c.first),St(c=It())&&(a._allItems=c),St(c=It())&&(a.items=c)}},viewQuery:function(s,a){if(1&s&&Kn(zi,5),2&s){let l;St(l=It())&&(a.templateRef=l.first)}},hostVars:3,hostBindings:function(s,a){2&s&&en("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ct],hasBackdrop:[2,"hasBackdrop","hasBackdrop",i=>null==i?null:ct(i)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],features:[Rt([{provide:u2,useExisting:r}])],ngContentSelectors:DUe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel",3,"click","animationstart","animationend","animationcancel","id"],[1,"mat-mdc-menu-content"]],template:function(s,a){1&s&&(lr(),ge(0,RUe,3,12,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-menu-item-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-menu-item-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-menu-item-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-menu-item-label-text-weight, var(--mat-sys-label-large-weight))}@keyframes _mat-menu-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-menu-exit{from{opacity:1}to{opacity:0}}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;box-sizing:border-box;outline:0;animation:_mat-menu-enter 120ms cubic-bezier(0, 0, 0.2, 1);border-radius:var(--mat-menu-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-menu-container-color, var(--mat-sys-surface-container));box-shadow:var(--mat-menu-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12));will-change:transform,opacity}.mat-mdc-menu-panel.mat-menu-panel-exit-animation{animation:_mat-menu-exit 100ms 25ms linear forwards}.mat-mdc-menu-panel.mat-menu-panel-animations-disabled{animation:none}.mat-mdc-menu-panel.mat-menu-panel-animating{pointer-events:none}.mat-mdc-menu-panel.mat-menu-panel-animating:has(.mat-mdc-menu-content:empty){display:none}@media(forced-colors: active){.mat-mdc-menu-panel{outline:solid 1px}}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color, var(--mat-sys-surface-variant));margin-bottom:var(--mat-menu-divider-bottom-spacing, 8px);margin-top:var(--mat-menu-divider-top-spacing, 8px)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px;padding-left:var(--mat-menu-item-leading-spacing, 12px);padding-right:var(--mat-menu-item-trailing-spacing, 12px);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-menu-item::-moz-focus-inner{border:0}[dir=rtl] .mat-mdc-menu-item{padding-left:var(--mat-menu-item-trailing-spacing, 12px);padding-right:var(--mat-menu-item-leading-spacing, 12px)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-trailing-spacing, 12px)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-trailing-spacing, 12px);padding-right:var(--mat-menu-item-with-icon-leading-spacing, 12px)}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing, 12px);height:var(--mat-menu-item-icon-size, 24px);width:var(--mat-menu-item-icon-size, 24px)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing, 12px)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(forced-colors: active){.mat-mdc-menu-item{margin-top:1px}}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size, 24px);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing, 12px)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing, 12px);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1);transform-origin:center}@media(forced-colors: active){.mat-mdc-menu-submenu-icon{fill:CanvasText}}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,changeDetection:0})}return r})();const OX=new se("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const r=D(eo);return()=>r.scrollStrategies.reposition()}}),NUe={provide:OX,deps:[eo],useFactory:function OUe(r){return()=>r.scrollStrategies.reposition()}},BUe={passive:!0},Wb=new WeakMap;let NX=(()=>{class r{_overlay=D(eo);_element=D(Mt);_viewContainerRef=D(Ki);_menuItemInstance=D(iM,{optional:!0,self:!0});_dir=D(wa,{optional:!0});_focusMonitor=D(cf);_ngZone=D(_t);_scrollStrategy=D(OX);_changeDetectorRef=D(Zi);_cleanupTouchstart;_portal;_overlayRef=null;_menuOpen=!1;_closingActionsSubscription=gn.EMPTY;_hoverSubscription=gn.EMPTY;_menuCloseSubscription=gn.EMPTY;_pendingRemoval;_parentMaterialMenu;_parentInnerPadding;_openedBy=void 0;get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(i){this.menu=i}get menu(){return this._menu}set menu(i){i!==this._menu&&(this._menu=i,this._menuCloseSubscription.unsubscribe(),i&&(this._menuCloseSubscription=i.close.subscribe(s=>{this._destroyMenu(s),("click"===s||"tab"===s)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(s)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}_menu;menuData;restoreFocus=!0;menuOpened=new ue;onMenuOpen=this.menuOpened;menuClosed=new ue;onMenuClose=this.menuClosed;constructor(){const i=D(u2,{optional:!0}),s=D(Ms);this._parentMaterialMenu=i instanceof bg?i:void 0,this._cleanupTouchstart=Al(s,this._element.nativeElement,"touchstart",a=>{FF(a)||(this._openedBy="touch")},BUe)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this.menu&&this._ownsMenu(this.menu)&&Wb.delete(this.menu),this._cleanupTouchstart(),this._pendingRemoval?.unsubscribe(),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const i=this.menu;if(this._menuOpen||!i)return;this._pendingRemoval?.unsubscribe();const s=Wb.get(i);Wb.set(i,this),s&&s!==this&&s.closeMenu();const a=this._createOverlay(i),l=a.getConfig(),c=l.positionStrategy;this._setPosition(i,c),l.hasBackdrop=null==i.hasBackdrop?!this.triggersSubmenu():i.hasBackdrop,a.hasAttached()||(a.attach(this._getPortal(i)),i.lazyContent?.attach(this.menuData)),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),i.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,i.direction=this.dir,i.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0),i instanceof bg&&(i._setIsOpen(!0),i._directDescendantItems.changes.pipe(Nn(i.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(i,s){this._focusMonitor&&i?this._focusMonitor.focusVia(this._element,i,s):this._element.nativeElement.focus(s)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(i){const s=this._overlayRef,a=this._menu;!s||!this.menuOpen||(this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),a instanceof bg&&this._ownsMenu(a)?(this._pendingRemoval=a._animationDone.pipe(dr(1)).subscribe(()=>{s.detach(),a.lazyContent?.detach()}),a._setIsOpen(!1)):(s.detach(),a?.lazyContent?.detach()),a&&this._ownsMenu(a)&&Wb.delete(a),this.restoreFocus&&("keydown"===i||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,this._setIsMenuOpen(!1))}_setIsMenuOpen(i){i!==this._menuOpen&&(this._menuOpen=i,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(i),this._changeDetectorRef.markForCheck())}_createOverlay(i){if(!this._overlayRef){const s=this._getOverlayConfig(i);this._subscribeToPositions(i,s.positionStrategy),this._overlayRef=this._overlay.create(s),this._overlayRef.keydownEvents().subscribe(a=>{this.menu instanceof bg&&this.menu._handleKeydown(a)})}return this._overlayRef}_getOverlayConfig(i){return new bE({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:i.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:i.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||"ltr"})}_subscribeToPositions(i,s){i.setPositionClasses&&s.positionChanges.subscribe(a=>{this._ngZone.run(()=>{i.setPositionClasses("start"===a.connectionPair.overlayX?"after":"before","top"===a.connectionPair.overlayY?"below":"above")})})}_setPosition(i,s){let[a,l]="before"===i.xPosition?["end","start"]:["start","end"],[c,d]="above"===i.yPosition?["bottom","top"]:["top","bottom"],[u,h]=[c,d],[f,p]=[a,l],g=0;if(this.triggersSubmenu()){if(p=a="before"===i.xPosition?"start":"end",l=f="end"===a?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const m=this._parentMaterialMenu.items.first;this._parentInnerPadding=m?m._getHostElement().offsetTop:0}g="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else i.overlapTrigger||(u="top"===c?"bottom":"top",h="top"===d?"bottom":"top");s.withPositions([{originX:a,originY:u,overlayX:f,overlayY:c,offsetY:g},{originX:l,originY:u,overlayX:p,overlayY:c,offsetY:g},{originX:a,originY:h,overlayX:f,overlayY:d,offsetY:-g},{originX:l,originY:h,overlayX:p,overlayY:d,offsetY:-g}])}_menuClosingActions(){const i=this._overlayRef.backdropClick(),s=this._overlayRef.detachments();return Ds(i,this._parentMaterialMenu?this._parentMaterialMenu.closed:Oe(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ni(c=>this._menuOpen&&c!==this._menuItemInstance)):Oe(),s)}_handleMousedown(i){PF(i)||(this._openedBy=0===i.button?"mouse":void 0,this.triggersSubmenu()&&i.preventDefault())}_handleKeydown(i){const s=i.keyCode;(13===s||32===s)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===s&&"ltr"===this.dir||37===s&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(i){this.triggersSubmenu()?(i.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&this._parentMaterialMenu&&(this._hoverSubscription=this._parentMaterialMenu._hovered().subscribe(i=>{i===this._menuItemInstance&&!i.disabled&&(this._openedBy="mouse",this.openMenu())}))}_getPortal(i){return(!this._portal||this._portal.templateRef!==i.templateRef)&&(this._portal=new hg(i.templateRef,this._viewContainerRef)),this._portal}_ownsMenu(i){return Wb.get(i)===this}static \u0275fac=function(s){return new(s||r)};static \u0275dir=_e({type:r,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(s,a){1&s&&ht("click",function(c){return a._handleClick(c)})("mousedown",function(c){return a._handleMousedown(c)})("keydown",function(c){return a._handleKeydown(c)}),2&s&&en("aria-haspopup",a.menu?"menu":null)("aria-expanded",a.menuOpen)("aria-controls",a.menuOpen?a.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]})}return r})(),BX=(()=>{class r{static \u0275fac=function(s){return new(s||r)};static \u0275mod=Ze({type:r});static \u0275inj=qe({providers:[NUe],imports:[dE,ci,Sb,pf,ci]})}return r})();const LUe=r=>["",r];function UUe(r,n){if(1&r&&(Y(0,"div",9)(1,"a",10),ce(2),W()()),2&r){const i=J().$implicit;L(),j("routerLink",i.route)("fragment",i.fragment)("disableRipple",!0),L(),Ut(i.menuName)}}function zUe(r,n){if(1&r){const i=Xn();Y(0,"label",9)(1,"button",11),ht("click",function(){Vt(i);const a=J().$implicit;return Ht(J(3).externalWindow(a.url))}),ce(2),W()()}if(2&r){const i=J().$implicit;L(2),jt(" ",i.menuName," ")}}function VUe(r,n){1&r&&Te(0,"mat-divider")}function HUe(r,n){if(1&r&&(ei(0),ge(1,UUe,3,4,"div",8)(2,zUe,3,1,"ng-template",null,2,So)(4,VUe,1,0,"mat-divider",4),ti()),2&r){const i=n.$implicit,s=cr(3);L(),j("ngIf",i.route)("ngIfElse",s),L(3),j("ngIf",i.divider)}}function GUe(r,n){if(1&r&&(ei(0),Y(1,"button",5,0),ce(3),Y(4,"mat-icon",6),ce(5,"arrow_drop_down"),W()(),Y(6,"mat-menu",7,1),ge(8,HUe,5,3,"ng-container",3),W(),ti()),2&r){const i=cr(2),s=cr(7),a=J().$implicit;L(),j("matMenuTriggerFor",s)("disabled",a.disabled),L(2),jt(" ",a.menuName," "),L(),Lt("inverse",i.menuOpen),L(4),j("ngForOf",a.children)}}function $Ue(r,n){if(1&r&&(ei(0),Y(1,"button",12),ce(2),W(),ti()),2&r){const i=J().$implicit;L(),j("disableRipple",!0)("routerLink",ra(3,LUe,i.route)),L(),jt(" ",i.menuName," ")}}function QUe(r,n){if(1&r&&(ei(0),ge(1,GUe,9,6,"ng-container",4)(2,$Ue,3,5,"ng-container",4),ti()),2&r){const i=n.$implicit;L(),j("ngIf",null==i.children?null:i.children.length),L(),j("ngIf",!i.children||0===i.children.length)}}let jUe=(()=>{class r{constructor(){this.items=[],this.itemClick=new ue}externalWindow(i){window.open(i,"_blank")}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-navbar"]],inputs:{items:"items"},outputs:{itemClick:"itemClick"},standalone:!1,decls:1,vars:1,consts:[["menuTrigger","matMenuTrigger"],["childMenu","matMenu"],["externalUrl",""],[4,"ngFor","ngForOf"],[4,"ngIf"],["mat-flat-button","","disableRipple","true","color","primary",1,"navigation-title",3,"matMenuTriggerFor","disabled"],["iconPositionEnd","",1,"menu-button-icon"],["xPosition","after","yPosition","above",1,"menu-container"],["class","navigation-items",4,"ngIf","ngIfElse"],[1,"navigation-items"],["mat-menu-item","",1,"route-link",3,"routerLink","fragment","disableRipple"],["mat-menu-item","",3,"click"],["mat-flat-button","","color","primary",1,"navigation-title",3,"disableRipple","routerLink"]],template:function(s,a){1&s&&ge(0,QUe,3,2,"ng-container",3),2&s&&j("ngForOf",a.items)},dependencies:[Ji,Do,oc,bg,iM,NX,ff,gf,hE],styles:["[_nghost-%COMP%]{display:block}.mat-mdc-button-focus-overlay[_ngcontent-%COMP%]{display:none}.mat-mdc-unelevated-button.mat-primary[_ngcontent-%COMP%]{--mat-mdc-button-persistent-ripple-color: none;--mat-mdc-button-ripple-color: none}.navigation-title[_ngcontent-%COMP%]{height:100%;font-size:.875rem;color:#fff;font-weight:500;letter-spacing:.005em}.navigation-title[_ngcontent-%COMP%]   .menu-button-icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;font-size:1.5rem;height:unset;width:unset}.navigation-items[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{color:#444c65;--mat-menu-item-label-text-size: 14px;--mat-menu-item-label-text-line-height: 200%;--mat-menu-item-label-text-weight: 300;--mat-menu-item-label-text-tracking: .005em;word-wrap:normal;overflow:visible;min-height:2rem;height:auto;text-align:left;max-width:31.25rem;white-space:initial;padding-top:.313rem;text-decoration:none;line-height:1.5rem}.inverse[_ngcontent-%COMP%]{transform:rotate(180deg);display:inline-block}  .menu-container{position:relative;top:14px;max-width:23.25rem!important}  .mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple{display:none}"]})}}return r})();const UX=()=>["/"];let WUe=(()=>{class r{constructor(){this.hubmapNavItems=bX,this.hubmapMobileMenu=[...kX,{menuName:"HuBMAP Tools and Applications",componentName:"hubmap-nav"}],this.navigationItems=kX,this.noticeVisible=!0,this.MENU_TREE_POSITIONS=[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:16,offsetY:10}]}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-toolbar"]],inputs:{navigationItems:"navigationItems"},standalone:!1,decls:27,vars:11,consts:[["menuTrigger","matMenuTrigger"],["childMenu","matMenu"],[1,"notice"],[1,"inner-notice"],[1,"material-symbols-rounded","info"],[1,"message"],["href","https://iu.co1.qualtrics.com/jfe/form/SV_bpaBhIr8XfdiNRH","target","_blank","rel","noopener noreferrer",1,"register"],[2,"flex-grow","1"],["mat-icon-button","",3,"click"],[1,"material-symbols-rounded","close-notice"],[1,"mat-toolbar"],[1,"hubmap-header",3,"routerLink"],[1,"hra-header",3,"routerLink"],[3,"items"],[3,"treeItems","positions"],[1,"material-symbols-rounded","apps-icon",3,"matMenuTriggerFor"],["xPosition","before","yPosition","below",1,"hubmap-menu-container"],[3,"navItems"]],template:function(s,a){if(1&s){const l=Xn();Y(0,"div",2)(1,"div",3)(2,"mat-icon",4),ce(3,"info"),W(),Y(4,"div",5)(5,"span"),ce(6," Join the Human Reference Atlas Working Group for free: "),W(),Y(7,"a",6),ce(8,"Register Now"),W()(),Te(9,"div",7),Y(10,"button",8),ht("click",function(){return Vt(l),Ht(a.noticeVisible=!1)}),Y(11,"mat-icon",9),ce(12,"close"),W()()()(),Y(13,"mat-toolbar",10)(14,"a",11),ce(15,"HuBMAP"),W(),Y(16,"a",12),ce(17,"Human Reference Atlas"),W(),Te(18,"div",7)(19,"ccf-navbar",13)(20,"menu-tree",14),Y(21,"span",15,0),ce(23,"apps"),W(),Y(24,"mat-menu",16,1),Te(26,"hubmap-nav",17),W()()}if(2&s){const l=cr(25);Lt("visible",a.noticeVisible),L(14),j("routerLink",Xl(9,UX)),L(2),j("routerLink",Xl(10,UX)),L(3),j("items",a.navigationItems),L(),j("treeItems",a.hubmapMobileMenu)("positions",a.MENU_TREE_POSITIONS),L(),j("matMenuTriggerFor",l),L(5),j("navItems",a.hubmapNavItems)}},dependencies:[oc,PX,xX,bg,NX,ff,B7,AX,jUe],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center}[_nghost-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{max-width:77rem;padding:0;background:#444c65;position:sticky;top:0;z-index:100;height:4rem}[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{color:#fff;font-family:Impact;font-style:normal;font-weight:400;font-size:2rem;line-height:2.438rem;text-decoration:none;padding-right:1rem}[_nghost-%COMP%]   .hra-header[_ngcontent-%COMP%]{font-weight:300;font-size:2rem;color:#c2cae6;letter-spacing:-.025em;line-height:2.438rem;text-decoration:none}[_nghost-%COMP%]   .nav-small[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .apps-icon[_ngcontent-%COMP%]{cursor:pointer;color:#fff;margin-top:.25rem}@media (max-width: 26.75rem){[_nghost-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{padding:0rem 1rem}[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]   .hra-header[_ngcontent-%COMP%]{font-size:1.25rem}[_nghost-%COMP%]   ccf-navbar[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:unset}[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{display:none}}@media (max-width: 80rem){[_nghost-%COMP%]   .hubmap-header[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{padding:0rem 1rem}}@media (max-width: 62.5rem){[_nghost-%COMP%]   ccf-navbar[_ngcontent-%COMP%], [_nghost-%COMP%]   .apps-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-mdc-menu-panel.hubmap-menu-container[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   menu-tree[_ngcontent-%COMP%]{display:unset}}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;background-color:#e3f7ff;transition:max-height .5s ease-out;max-height:6.25rem}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]   .inner-notice[_ngcontent-%COMP%]{display:flex;width:97%;max-width:77rem;align-items:center}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]   .inner-notice[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:.5rem;min-width:1.5rem}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]   .inner-notice[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin:.5rem 0}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]   .inner-notice[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{margin-left:.25rem;text-decoration:underline}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]   .inner-notice[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{--mdc-icon-button-state-layer-size: 2.5rem;padding:.5rem;align-self:flex-start}[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]:not(.visible){max-height:0rem;overflow:hidden}@media (max-width: 541px){[_nghost-%COMP%]   .notice[_ngcontent-%COMP%]   .inner-notice[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{display:block;margin:0}}  .mat-mdc-menu-panel.hubmap-menu-container{position:relative;top:1rem;max-width:32.5rem}  .mat-nested-tree-node,   .mat-tree-node{display:block;padding:.5rem 1rem}  .mat-nested-tree-node .mat-tree-node{padding:1rem;position:relative}  .mat-nested-tree-node .mat-divider{position:absolute;bottom:0;left:-2rem;right:-2rem}"]})}}return r})(),qUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-bottom-toolbar"]],standalone:!1,decls:15,vars:0,consts:[[1,"bottom-bar"],[1,"disclaimer"],[1,"medical-disclaimer"],[1,"contact-copyright"],["href","mailto:infoccf@iu.edu","mat-stroked-button","",1,"bottom-button"],[1,"copyright"]],template:function(s,a){1&s&&(Y(0,"mat-toolbar",0)(1,"div",1)(2,"div",2),ce(3," Medical Disclaimer: This resource is intended for research purposes only. It should not be used for emergencies or medical or professional advice. "),W(),ce(4," HuBMAP data is managed and published in the Data Portal and HRA according to FAIR principles, including standardized processing with reproducible pipelines. HuBMAP data may also be processed by other methods in scientific results published by HuBMAP consortium collaborations. "),W(),Y(5,"div",3)(6,"a",4)(7,"mat-icon"),ce(8,"mail_outline"),W(),ce(9," Contact the HRA Team "),W(),Y(10,"div",5)(11,"mat-icon"),ce(12,"copyright"),W(),Y(13,"p"),ce(14,"2024 All Rights Reserved"),W()()()())},dependencies:[PX,uf,ff],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex-direction:column;align-items:center;background-color:#c2cae5}[_nghost-%COMP%]   .bottom-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:.875rem;padding:0rem 1.5rem;margin-left:1px;min-width:124px;color:#444c65;border-radius:6.25rem;height:40px;background-color:#f7f2fa;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #00000026;letter-spacing:0}[_nghost-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;font-size:.875rem;font-weight:400;line-height:1.063rem;padding:0rem 1.5rem;background-color:#c2cae5;max-width:77rem;position:relative;min-height:5.563rem;padding:unset;height:unset;overflow:hidden}[_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%]{white-space:normal;text-align:center;margin:4.5rem 0rem}[_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%]   .medical-disclaimer[_ngcontent-%COMP%]{margin-bottom:2.5rem}[_nghost-%COMP%]   .contact-copyright[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-bottom:5rem}[_nghost-%COMP%]     span>mat-icon{font-size:1.313rem}[_nghost-%COMP%]   a[_ngcontent-%COMP%]:-webkit-any-link{text-decoration:unset!important}[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:2rem}[_nghost-%COMP%]   .copyright[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:unset}@media (max-width: 80rem){[_nghost-%COMP%]   .contact-copyright[_ngcontent-%COMP%]{padding:0rem 1rem 5rem;margin:unset}}@media (max-width: 40rem){[_nghost-%COMP%]   .contact-copyright[_ngcontent-%COMP%]{flex-direction:column;align-items:center}[_nghost-%COMP%]   .bottom-button[_ngcontent-%COMP%]{margin-right:unset;margin-bottom:4.5rem}}@media (max-width: 26.75rem){[_nghost-%COMP%]   .bottom-bar[_ngcontent-%COMP%]{justify-content:center}[_nghost-%COMP%]   .disclaimer[_ngcontent-%COMP%]{margin:4.5rem 1rem}}"]})}}return r})(),YUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=Ge({type:r,selectors:[["ccf-root"]],hostAttrs:[1,"hra-app"],standalone:!1,decls:4,vars:0,consts:[[1,"toolbar-class"],[1,"filler"]],template:function(s,a){1&s&&Te(0,"ccf-toolbar",0)(1,"router-outlet")(2,"div",1)(3,"ccf-bottom-toolbar")},dependencies:[WUe,qUe,lP],styles:["[_nghost-%COMP%]{display:flex;width:100%;min-height:calc(100% - 3.5rem);flex-direction:column;align-items:center;padding-top:3.5rem;overflow:auto;transition:padding-top .5s ease-out}[_nghost-%COMP%]:has(.notice.visible){padding-top:8.5rem}[_nghost-%COMP%]:has(.notice.visible)     menu-tree.menu{margin-top:6rem!important}[_nghost-%COMP%]   .filler[_ngcontent-%COMP%]{flex-grow:1}[_nghost-%COMP%]   .toolbar-class[_ngcontent-%COMP%]{position:fixed;top:0;z-index:100;background-color:#444c65;box-shadow:0 .063rem .188rem .063rem #00000069}"]})}}return r})(),XUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[FX,ud,pc]})}}return r})(),KUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa]})}}return r})(),zX=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Zh]})}}return r})(),VX=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,ud,bl,pc]})}}return r})(),sM=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,$Y,fO]})}}return r})(),ZUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,pc]})}}return r})(),JUe=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Zh.forChild()]})}}return r})(),HX=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa,dE,pc]})}}return r})(),eze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[Wa,li,Zh]})}}return r})(),tze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa,bl]})}}return r})(),nze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[Rke]})}}return r})(),ize=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,HX]})}}return r})(),rze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa,_f,Aq,ud,pc,Zh.forChild(),VX]})}}return r})(),GX=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[v2e,bl,ud,li]})}}return r})(),f2=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,i2,LO]})}}return r})(),sze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa]})}}return r})(),oze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[Wa,li,bl]})}}return r})(),aze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[Im,pf,sM,f2]})}}return r})(),lze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa,ud,_f,Zh.forChild()]})}}return r})(),$X=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,bl,pc,BX]})}}return r})(),QX=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,pX,pc,Sb,ud,HLe,bl,_f,yE,$X]})}}return r})(),cze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa,_f]})}}return r})(),dze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,H3e,$Y,fO]})}}return r})(),uze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,bl,Wa,_f,ud,pc,Aq]})}}return r})(),hze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[Im,sM,dze,uze,f2]})}}return r})(),fze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,sM,i2,LO]})}}return r})(),pze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,Wa,ud]})}}return r})(),mze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,KUe,zX,VX,sM,ZUe,JUe,HX,eze,tze,nze,ize,rze,GX,f2,GX,sze,oze,aze,Wa,lze,FLe,QX,_f,cze,pc,hze,fze,pze]})}}return r})(),jX=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,mze]})}}return r})(),gze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,jX]})}}return r})(),_ze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,bl,FX,QX,BX,pc,_f,ud,$X]})}}return r})(),yze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,i2,LO,Zh.forChild()]})}}return r})(),vze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r})}static{this.\u0275inj=qe({imports:[li,yze,zX]})}}return r})(),bze=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=Ze({type:r,bootstrap:[YUe]})}static{this.\u0275inj=qe({providers:[zAe(Lh(pu.LegacyInterceptors,[{provide:eQ,useFactory:IAe},{provide:Dv,useExisting:eQ,multi:!0}]))],imports:[li,_ze,XUe,Kxe,xUe,vze,Wj.forRoot(""),$Ee,Zh.forRoot({sanitize:ps.NONE,markedExtensions:[PEe()]}),jX,gze,bl]})}}return r})();const Aze=(r,n)=>"method"===n.kind&&n.descriptor&&!("value"in n.descriptor)?{...n,finisher(i){i.createProperty(n.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:n.key,initializer(){"function"==typeof n.initializer&&(this[n.key]=n.initializer.call(this))},finisher(i){i.createProperty(n.key,r)}};function Wt(r){return(n,i)=>void 0!==i?((r,n,i)=>{n.constructor.createProperty(i,r)})(r,n,i):Aze(r,n)}window;const wl=0,Vs=1,Hs=2,bf=100,Ize=101,Tze=102,kze=200,Pze=201,Fze=202,Oze=203,m2=204,g2=205,Nze=206,Bze=207,Lze=208,Uze=209,zze=210,Vze=211,Hze=212,Gze=213,$ze=214,_2=0,y2=1,v2=2,xg=3,b2=4,A2=5,x2=6,w2=7,JX="attached",Ya=1e3,xr=1001,Tu=1002,wr=1003,wg=1004,yd=1005,zn=1006,Du=1007,No=1008,Cr=1009,Xb=1012,vd=1014,Er=1015,ys=1016,Cg=1020,Ni=1023,Eg=1026,Mg=1027,Ru=1028,wf=1030,hM=33776,Kb=33777,fM=33778,Zb=33779,pM=35840,mM=35842,gM=36196,_M=37492,yM=37496,Jb=37808,eA=37812,tA=36492,Sg=2300,Ig=2301,Tg=2400,Dg=2401,ji="srgb",ki="srgb-linear",bM="display-p3",nA="display-p3-linear",AM="linear",er="srgb",xM="rec709",Rg=7680,nVe=512,iVe=513,rVe=514,uK=515,sVe=516,oVe=517,aVe=518,lVe=519,bd=2e3;class Ma{addEventListener(n,i){void 0===this._listeners&&(this._listeners={});const s=this._listeners;void 0===s[n]&&(s[n]=[]),-1===s[n].indexOf(i)&&s[n].push(i)}hasEventListener(n,i){if(void 0===this._listeners)return!1;const s=this._listeners;return void 0!==s[n]&&-1!==s[n].indexOf(i)}removeEventListener(n,i){if(void 0===this._listeners)return;const a=this._listeners[n];if(void 0!==a){const l=a.indexOf(i);-1!==l&&a.splice(l,1)}}dispatchEvent(n){if(void 0===this._listeners)return;const s=this._listeners[n.type];if(void 0!==s){n.target=this;const a=s.slice(0);for(let l=0,c=a.length;l<c;l++)a[l].call(this,n);n.target=null}}}const no=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let fK=1234567;const Ef=Math.PI/180,kg=180/Math.PI;function Sa(){const r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,s=4294967295*Math.random()|0;return(no[255&r]+no[r>>8&255]+no[r>>16&255]+no[r>>24&255]+"-"+no[255&n]+no[n>>8&255]+"-"+no[n>>16&15|64]+no[n>>24&255]+"-"+no[63&i|128]+no[i>>8&255]+"-"+no[i>>16&255]+no[i>>24&255]+no[255&s]+no[s>>8&255]+no[s>>16&255]+no[s>>24&255]).toLowerCase()}function Or(r,n,i){return Math.max(n,Math.min(i,r))}function tN(r,n){return(r%n+n)%n}function iA(r,n,i){return(1-i)*r+i*n}function Bo(r,n){switch(n.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function yn(r,n){switch(n.constructor){case Float32Array:return r;case Uint32Array:return Math.round(4294967295*r);case Uint16Array:return Math.round(65535*r);case Uint8Array:return Math.round(255*r);case Int32Array:return Math.round(2147483647*r);case Int16Array:return Math.round(32767*r);case Int8Array:return Math.round(127*r);default:throw new Error("Invalid component type.")}}const MM={DEG2RAD:Ef,RAD2DEG:kg,generateUUID:Sa,clamp:Or,euclideanModulo:tN,mapLinear:function cVe(r,n,i,s,a){return s+(r-n)*(a-s)/(i-n)},inverseLerp:function dVe(r,n,i){return r!==n?(i-r)/(n-r):0},lerp:iA,damp:function uVe(r,n,i,s){return iA(r,n,1-Math.exp(-i*s))},pingpong:function hVe(r,n=1){return n-Math.abs(tN(r,2*n)-n)},smoothstep:function fVe(r,n,i){return r<=n?0:r>=i?1:(r=(r-n)/(i-n))*r*(3-2*r)},smootherstep:function pVe(r,n,i){return r<=n?0:r>=i?1:(r=(r-n)/(i-n))*r*r*(r*(6*r-15)+10)},randInt:function mVe(r,n){return r+Math.floor(Math.random()*(n-r+1))},randFloat:function gVe(r,n){return r+Math.random()*(n-r)},randFloatSpread:function _Ve(r){return r*(.5-Math.random())},seededRandom:function yVe(r){void 0!==r&&(fK=r);let n=fK+=1831565813;return n=Math.imul(n^n>>>15,1|n),n^=n+Math.imul(n^n>>>7,61|n),((n^n>>>14)>>>0)/4294967296},degToRad:function vVe(r){return r*Ef},radToDeg:function bVe(r){return r*kg},isPowerOfTwo:function AVe(r){return!(r&r-1)&&0!==r},ceilPowerOfTwo:function xVe(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))},floorPowerOfTwo:function wVe(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))},setQuaternionFromProperEuler:function CVe(r,n,i,s,a){const l=Math.cos,c=Math.sin,d=l(i/2),u=c(i/2),h=l((n+s)/2),f=c((n+s)/2),p=l((n-s)/2),g=c((n-s)/2),m=l((s-n)/2),_=c((s-n)/2);switch(a){case"XYX":r.set(d*f,u*p,u*g,d*h);break;case"YZY":r.set(u*g,d*f,u*p,d*h);break;case"ZXZ":r.set(u*p,u*g,d*f,d*h);break;case"XZX":r.set(d*f,u*_,u*m,d*h);break;case"YXY":r.set(u*m,d*f,u*_,d*h);break;case"ZYZ":r.set(u*_,u*m,d*f,d*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}},normalize:yn,denormalize:Bo};class ve{constructor(n=0,i=0){ve.prototype.isVector2=!0,this.x=n,this.y=i}get width(){return this.x}set width(n){this.x=n}get height(){return this.y}set height(n){this.y=n}set(n,i){return this.x=n,this.y=i,this}setScalar(n){return this.x=n,this.y=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y)}copy(n){return this.x=n.x,this.y=n.y,this}add(n){return this.x+=n.x,this.y+=n.y,this}addScalar(n){return this.x+=n,this.y+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this}sub(n){return this.x-=n.x,this.y-=n.y,this}subScalar(n){return this.x-=n,this.y-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this}multiply(n){return this.x*=n.x,this.y*=n.y,this}multiplyScalar(n){return this.x*=n,this.y*=n,this}divide(n){return this.x/=n.x,this.y/=n.y,this}divideScalar(n){return this.multiplyScalar(1/n)}applyMatrix3(n){const i=this.x,s=this.y,a=n.elements;return this.x=a[0]*i+a[3]*s+a[6],this.y=a[1]*i+a[4]*s+a[7],this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this}clampLength(n,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(n){return this.x*n.x+this.y*n.y}cross(n){return this.x*n.y-this.y*n.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(n){const i=Math.sqrt(this.lengthSq()*n.lengthSq());if(0===i)return Math.PI/2;const s=this.dot(n)/i;return Math.acos(Or(s,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,s=this.y-n.y;return i*i+s*s}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this}equals(n){return n.x===this.x&&n.y===this.y}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n}fromBufferAttribute(n,i){return this.x=n.getX(i),this.y=n.getY(i),this}rotateAround(n,i){const s=Math.cos(i),a=Math.sin(i),l=this.x-n.x,c=this.y-n.y;return this.x=l*s-c*a+n.x,this.y=l*a+c*s+n.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fn{constructor(n,i,s,a,l,c,d,u,h){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==n&&this.set(n,i,s,a,l,c,d,u,h)}set(n,i,s,a,l,c,d,u,h){const f=this.elements;return f[0]=n,f[1]=a,f[2]=d,f[3]=i,f[4]=l,f[5]=u,f[6]=s,f[7]=c,f[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(n){const i=this.elements,s=n.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],this}extractBasis(n,i,s){return n.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),s.setFromMatrix3Column(this,2),this}setFromMatrix4(n){const i=n.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,i){const s=n.elements,a=i.elements,l=this.elements,c=s[0],d=s[3],u=s[6],h=s[1],f=s[4],p=s[7],g=s[2],m=s[5],_=s[8],v=a[0],y=a[3],b=a[6],A=a[1],x=a[4],w=a[7],E=a[2],M=a[5],S=a[8];return l[0]=c*v+d*A+u*E,l[3]=c*y+d*x+u*M,l[6]=c*b+d*w+u*S,l[1]=h*v+f*A+p*E,l[4]=h*y+f*x+p*M,l[7]=h*b+f*w+p*S,l[2]=g*v+m*A+_*E,l[5]=g*y+m*x+_*M,l[8]=g*b+m*w+_*S,this}multiplyScalar(n){const i=this.elements;return i[0]*=n,i[3]*=n,i[6]*=n,i[1]*=n,i[4]*=n,i[7]*=n,i[2]*=n,i[5]*=n,i[8]*=n,this}determinant(){const n=this.elements,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],d=n[5],u=n[6],h=n[7],f=n[8];return i*c*f-i*d*h-s*l*f+s*d*u+a*l*h-a*c*u}invert(){const n=this.elements,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],d=n[5],u=n[6],h=n[7],f=n[8],p=f*c-d*h,g=d*u-f*l,m=h*l-c*u,_=i*p+s*g+a*m;if(0===_)return this.set(0,0,0,0,0,0,0,0,0);const v=1/_;return n[0]=p*v,n[1]=(a*h-f*s)*v,n[2]=(d*s-a*c)*v,n[3]=g*v,n[4]=(f*i-a*u)*v,n[5]=(a*l-d*i)*v,n[6]=m*v,n[7]=(s*u-h*i)*v,n[8]=(c*i-s*l)*v,this}transpose(){let n;const i=this.elements;return n=i[1],i[1]=i[3],i[3]=n,n=i[2],i[2]=i[6],i[6]=n,n=i[5],i[5]=i[7],i[7]=n,this}getNormalMatrix(n){return this.setFromMatrix4(n).invert().transpose()}transposeIntoArray(n){const i=this.elements;return n[0]=i[0],n[1]=i[3],n[2]=i[6],n[3]=i[1],n[4]=i[4],n[5]=i[7],n[6]=i[2],n[7]=i[5],n[8]=i[8],this}setUvTransform(n,i,s,a,l,c,d){const u=Math.cos(l),h=Math.sin(l);return this.set(s*u,s*h,-s*(u*c+h*d)+c+n,-a*h,a*u,-a*(-h*c+u*d)+d+i,0,0,1),this}scale(n,i){return this.premultiply(nN.makeScale(n,i)),this}rotate(n){return this.premultiply(nN.makeRotation(-n)),this}translate(n,i){return this.premultiply(nN.makeTranslation(n,i)),this}makeTranslation(n,i){return n.isVector2?this.set(1,0,n.x,0,1,n.y,0,0,1):this.set(1,0,n,0,1,i,0,0,1),this}makeRotation(n){const i=Math.cos(n),s=Math.sin(n);return this.set(i,-s,0,s,i,0,0,0,1),this}makeScale(n,i){return this.set(n,0,0,0,i,0,0,0,1),this}equals(n){const i=this.elements,s=n.elements;for(let a=0;a<9;a++)if(i[a]!==s[a])return!1;return!0}fromArray(n,i=0){for(let s=0;s<9;s++)this.elements[s]=n[s+i];return this}toArray(n=[],i=0){const s=this.elements;return n[i]=s[0],n[i+1]=s[1],n[i+2]=s[2],n[i+3]=s[3],n[i+4]=s[4],n[i+5]=s[5],n[i+6]=s[6],n[i+7]=s[7],n[i+8]=s[8],n}clone(){return(new this.constructor).fromArray(this.elements)}}const nN=new fn;function pK(r){for(let n=r.length-1;n>=0;--n)if(r[n]>=65535)return!0;return!1}function rA(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function MVe(){const r=rA("canvas");return r.style.display="block",r}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const mK={};function SM(r){r in mK||(mK[r]=!0,console.warn(r))}const gK=(new fn).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),_K=(new fn).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),sA={[ki]:{transfer:AM,primaries:xM,luminanceCoefficients:[.2126,.7152,.0722],toReference:r=>r,fromReference:r=>r},[ji]:{transfer:er,primaries:xM,luminanceCoefficients:[.2126,.7152,.0722],toReference:r=>r.convertSRGBToLinear(),fromReference:r=>r.convertLinearToSRGB()},[nA]:{transfer:AM,primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:r=>r.applyMatrix3(_K),fromReference:r=>r.applyMatrix3(gK)},[bM]:{transfer:er,primaries:"p3",luminanceCoefficients:[.2289,.6917,.0793],toReference:r=>r.convertSRGBToLinear().applyMatrix3(_K),fromReference:r=>r.applyMatrix3(gK).convertLinearToSRGB()}},DVe=new Set([ki,nA]),jn={enabled:!0,_workingColorSpace:ki,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(r){if(!DVe.has(r))throw new Error(`Unsupported working color space, "${r}".`);this._workingColorSpace=r},convert:function(r,n,i){return!1!==this.enabled&&n!==i&&n&&i?(0,sA[i].fromReference)((0,sA[n].toReference)(r)):r},fromWorkingColorSpace:function(r,n){return this.convert(r,this._workingColorSpace,n)},toWorkingColorSpace:function(r,n){return this.convert(r,n,this._workingColorSpace)},getPrimaries:function(r){return sA[r].primaries},getTransfer:function(r){return""===r?AM:sA[r].transfer},getLuminanceCoefficients:function(r,n=this._workingColorSpace){return r.fromArray(sA[n].luminanceCoefficients)}};function Fg(r){return r<.04045?.0773993808*r:Math.pow(.9478672986*r+.0521327014,2.4)}function iN(r){return r<.0031308?12.92*r:1.055*Math.pow(r,.41666)-.055}let Og;class RVe{static getDataURL(n){if(/^data:/i.test(n.src)||typeof HTMLCanvasElement>"u")return n.src;let i;if(n instanceof HTMLCanvasElement)i=n;else{void 0===Og&&(Og=rA("canvas")),Og.width=n.width,Og.height=n.height;const s=Og.getContext("2d");n instanceof ImageData?s.putImageData(n,0,0):s.drawImage(n,0,0,n.width,n.height),i=Og}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",n),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(n){if(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap){const i=rA("canvas");i.width=n.width,i.height=n.height;const s=i.getContext("2d");s.drawImage(n,0,0,n.width,n.height);const a=s.getImageData(0,0,n.width,n.height),l=a.data;for(let c=0;c<l.length;c++)l[c]=255*Fg(l[c]/255);return s.putImageData(a,0,0),i}if(n.data){const i=n.data.slice(0);for(let s=0;s<i.length;s++)i[s]=i instanceof Uint8Array||i instanceof Uint8ClampedArray?Math.floor(255*Fg(i[s]/255)):Fg(i[s]);return{data:i,width:n.width,height:n.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),n}}let kVe=0;class Mf{constructor(n=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kVe++}),this.uuid=Sa(),this.data=n,this.dataReady=!0,this.version=0}set needsUpdate(n){!0===n&&this.version++}toJSON(n){const i=void 0===n||"string"==typeof n;if(!i&&void 0!==n.images[this.uuid])return n.images[this.uuid];const s={uuid:this.uuid,url:""},a=this.data;if(null!==a){let l;if(Array.isArray(a)){l=[];for(let c=0,d=a.length;c<d;c++)l.push(rN(a[c].isDataTexture?a[c].image:a[c]))}else l=rN(a);s.url=l}return i||(n.images[this.uuid]=s),s}}function rN(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?RVe.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let PVe=0,ur=(()=>{class r extends Ma{constructor(i=r.DEFAULT_IMAGE,s=r.DEFAULT_MAPPING,a=xr,l=xr,c=zn,d=No,u=Ni,h=Cr,f=r.DEFAULT_ANISOTROPY,p=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:PVe++}),this.uuid=Sa(),this.name="",this.source=new Mf(i),this.mipmaps=[],this.mapping=s,this.channel=0,this.wrapS=a,this.wrapT=l,this.magFilter=c,this.minFilter=d,this.anisotropy=f,this.format=u,this.internalFormat=null,this.type=h,this.offset=new ve(0,0),this.repeat=new ve(1,1),this.center=new ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(i=null){this.source.data=i}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(i){return this.name=i.name,this.source=i.source,this.mipmaps=i.mipmaps.slice(0),this.mapping=i.mapping,this.channel=i.channel,this.wrapS=i.wrapS,this.wrapT=i.wrapT,this.magFilter=i.magFilter,this.minFilter=i.minFilter,this.anisotropy=i.anisotropy,this.format=i.format,this.internalFormat=i.internalFormat,this.type=i.type,this.offset.copy(i.offset),this.repeat.copy(i.repeat),this.center.copy(i.center),this.rotation=i.rotation,this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrix.copy(i.matrix),this.generateMipmaps=i.generateMipmaps,this.premultiplyAlpha=i.premultiplyAlpha,this.flipY=i.flipY,this.unpackAlignment=i.unpackAlignment,this.colorSpace=i.colorSpace,this.userData=JSON.parse(JSON.stringify(i.userData)),this.needsUpdate=!0,this}toJSON(i){const s=void 0===i||"string"==typeof i;if(!s&&void 0!==i.textures[this.uuid])return i.textures[this.uuid];const a={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(i).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(a.userData=this.userData),s||(i.textures[this.uuid]=a),a}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(i){if(300!==this.mapping)return i;if(i.applyMatrix3(this.matrix),i.x<0||i.x>1)switch(this.wrapS){case Ya:i.x=i.x-Math.floor(i.x);break;case xr:i.x=i.x<0?0:1;break;case Tu:i.x=1===Math.abs(Math.floor(i.x)%2)?Math.ceil(i.x)-i.x:i.x-Math.floor(i.x)}if(i.y<0||i.y>1)switch(this.wrapT){case Ya:i.y=i.y-Math.floor(i.y);break;case xr:i.y=i.y<0?0:1;break;case Tu:i.y=1===Math.abs(Math.floor(i.y)%2)?Math.ceil(i.y)-i.y:i.y-Math.floor(i.y)}return this.flipY&&(i.y=1-i.y),i}set needsUpdate(i){!0===i&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(i){!0===i&&this.pmremVersion++}}return r.DEFAULT_IMAGE=null,r.DEFAULT_MAPPING=300,r.DEFAULT_ANISOTROPY=1,r})();class si{constructor(n=0,i=0,s=0,a=1){si.prototype.isVector4=!0,this.x=n,this.y=i,this.z=s,this.w=a}get width(){return this.z}set width(n){this.z=n}get height(){return this.w}set height(n){this.w=n}set(n,i,s,a){return this.x=n,this.y=i,this.z=s,this.w=a,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this.w=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setW(n){return this.w=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=void 0!==n.w?n.w:1,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this.z=n.z+i.z,this.w=n.w+i.w,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this.w+=n.w*i,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this.z=n.z-i.z,this.w=n.w-i.w,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this.w*=n.w,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this}applyMatrix4(n){const i=this.x,s=this.y,a=this.z,l=this.w,c=n.elements;return this.x=c[0]*i+c[4]*s+c[8]*a+c[12]*l,this.y=c[1]*i+c[5]*s+c[9]*a+c[13]*l,this.z=c[2]*i+c[6]*s+c[10]*a+c[14]*l,this.w=c[3]*i+c[7]*s+c[11]*a+c[15]*l,this}divideScalar(n){return this.multiplyScalar(1/n)}setAxisAngleFromQuaternion(n){this.w=2*Math.acos(n.w);const i=Math.sqrt(1-n.w*n.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/i,this.y=n.y/i,this.z=n.z/i),this}setAxisAngleFromRotationMatrix(n){let i,s,a,l;const u=n.elements,h=u[0],f=u[4],p=u[8],g=u[1],m=u[5],_=u[9],v=u[2],y=u[6],b=u[10];if(Math.abs(f-g)<.01&&Math.abs(p-v)<.01&&Math.abs(_-y)<.01){if(Math.abs(f+g)<.1&&Math.abs(p+v)<.1&&Math.abs(_+y)<.1&&Math.abs(h+m+b-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const x=(h+1)/2,w=(m+1)/2,E=(b+1)/2,M=(f+g)/4,S=(p+v)/4,T=(_+y)/4;return x>w&&x>E?x<.01?(s=0,a=.707106781,l=.707106781):(s=Math.sqrt(x),a=M/s,l=S/s):w>E?w<.01?(s=.707106781,a=0,l=.707106781):(a=Math.sqrt(w),s=M/a,l=T/a):E<.01?(s=.707106781,a=.707106781,l=0):(l=Math.sqrt(E),s=S/l,a=T/l),this.set(s,a,l,i),this}let A=Math.sqrt((y-_)*(y-_)+(p-v)*(p-v)+(g-f)*(g-f));return Math.abs(A)<.001&&(A=1),this.x=(y-_)/A,this.y=(p-v)/A,this.z=(g-f)/A,this.w=Math.acos((h+m+b-1)/2),this}setFromMatrixPosition(n){const i=n.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this.w=i[15],this}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this.z=Math.max(n.z,Math.min(i.z,this.z)),this.w=Math.max(n.w,Math.min(i.w,this.w)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this.z=Math.max(n,Math.min(i,this.z)),this.w=Math.max(n,Math.min(i,this.w)),this}clampLength(n,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this.z+=(n.z-this.z)*i,this.w+=(n.w-this.w)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this.z=n.z+(i.z-n.z)*s,this.w=n.w+(i.w-n.w)*s,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this.w=n[i+3],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n[i+2]=this.z,n[i+3]=this.w,n}fromBufferAttribute(n,i){return this.x=n.getX(i),this.y=n.getY(i),this.z=n.getZ(i),this.w=n.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class FVe extends Ma{constructor(n=1,i=1,s={}){super(),this.isRenderTarget=!0,this.width=n,this.height=i,this.depth=1,this.scissor=new si(0,0,n,i),this.scissorTest=!1,this.viewport=new si(0,0,n,i);const a={width:n,height:i,depth:1};s=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},s);const l=new ur(a,s.mapping,s.wrapS,s.wrapT,s.magFilter,s.minFilter,s.format,s.type,s.anisotropy,s.colorSpace);l.flipY=!1,l.generateMipmaps=s.generateMipmaps,l.internalFormat=s.internalFormat,this.textures=[];const c=s.count;for(let d=0;d<c;d++)this.textures[d]=l.clone(),this.textures[d].isRenderTargetTexture=!0;this.depthBuffer=s.depthBuffer,this.stencilBuffer=s.stencilBuffer,this.resolveDepthBuffer=s.resolveDepthBuffer,this.resolveStencilBuffer=s.resolveStencilBuffer,this.depthTexture=s.depthTexture,this.samples=s.samples}get texture(){return this.textures[0]}set texture(n){this.textures[0]=n}setSize(n,i,s=1){if(this.width!==n||this.height!==i||this.depth!==s){this.width=n,this.height=i,this.depth=s;for(let a=0,l=this.textures.length;a<l;a++)this.textures[a].image.width=n,this.textures[a].image.height=i,this.textures[a].image.depth=s;this.dispose()}this.viewport.set(0,0,n,i),this.scissor.set(0,0,n,i)}clone(){return(new this.constructor).copy(this)}copy(n){this.width=n.width,this.height=n.height,this.depth=n.depth,this.scissor.copy(n.scissor),this.scissorTest=n.scissorTest,this.viewport.copy(n.viewport),this.textures.length=0;for(let s=0,a=n.textures.length;s<a;s++)this.textures[s]=n.textures[s].clone(),this.textures[s].isRenderTargetTexture=!0;const i=Object.assign({},n.texture.image);return this.texture.source=new Mf(i),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,null!==n.depthTexture&&(this.depthTexture=n.depthTexture.clone()),this.samples=n.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Lo extends FVe{constructor(n=1,i=1,s={}){super(n,i,s),this.isWebGLRenderTarget=!0}}class sN extends ur{constructor(n=null,i=1,s=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:n,width:i,height:s,depth:a},this.magFilter=wr,this.minFilter=wr,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(n){this.layerUpdates.add(n)}clearLayerUpdates(){this.layerUpdates.clear()}}class oN extends ur{constructor(n=null,i=1,s=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:n,width:i,height:s,depth:a},this.magFilter=wr,this.minFilter=wr,this.wrapR=xr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class vs{constructor(n=0,i=0,s=0,a=1){this.isQuaternion=!0,this._x=n,this._y=i,this._z=s,this._w=a}static slerpFlat(n,i,s,a,l,c,d){let u=s[a+0],h=s[a+1],f=s[a+2],p=s[a+3];const g=l[c+0],m=l[c+1],_=l[c+2],v=l[c+3];if(0===d)return n[i+0]=u,n[i+1]=h,n[i+2]=f,void(n[i+3]=p);if(1===d)return n[i+0]=g,n[i+1]=m,n[i+2]=_,void(n[i+3]=v);if(p!==v||u!==g||h!==m||f!==_){let y=1-d;const b=u*g+h*m+f*_+p*v,A=b>=0?1:-1,x=1-b*b;if(x>Number.EPSILON){const E=Math.sqrt(x),M=Math.atan2(E,b*A);y=Math.sin(y*M)/E,d=Math.sin(d*M)/E}const w=d*A;if(u=u*y+g*w,h=h*y+m*w,f=f*y+_*w,p=p*y+v*w,y===1-d){const E=1/Math.sqrt(u*u+h*h+f*f+p*p);u*=E,h*=E,f*=E,p*=E}}n[i]=u,n[i+1]=h,n[i+2]=f,n[i+3]=p}static multiplyQuaternionsFlat(n,i,s,a,l,c){const d=s[a],u=s[a+1],h=s[a+2],f=s[a+3],p=l[c],g=l[c+1],m=l[c+2],_=l[c+3];return n[i]=d*_+f*p+u*m-h*g,n[i+1]=u*_+f*g+h*p-d*m,n[i+2]=h*_+f*m+d*g-u*p,n[i+3]=f*_-d*p-u*g-h*m,n}get x(){return this._x}set x(n){this._x=n,this._onChangeCallback()}get y(){return this._y}set y(n){this._y=n,this._onChangeCallback()}get z(){return this._z}set z(n){this._z=n,this._onChangeCallback()}get w(){return this._w}set w(n){this._w=n,this._onChangeCallback()}set(n,i,s,a){return this._x=n,this._y=i,this._z=s,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this._onChangeCallback(),this}setFromEuler(n,i=!0){const s=n._x,a=n._y,l=n._z,c=n._order,d=Math.cos,u=Math.sin,h=d(s/2),f=d(a/2),p=d(l/2),g=u(s/2),m=u(a/2),_=u(l/2);switch(c){case"XYZ":this._x=g*f*p+h*m*_,this._y=h*m*p-g*f*_,this._z=h*f*_+g*m*p,this._w=h*f*p-g*m*_;break;case"YXZ":this._x=g*f*p+h*m*_,this._y=h*m*p-g*f*_,this._z=h*f*_-g*m*p,this._w=h*f*p+g*m*_;break;case"ZXY":this._x=g*f*p-h*m*_,this._y=h*m*p+g*f*_,this._z=h*f*_+g*m*p,this._w=h*f*p-g*m*_;break;case"ZYX":this._x=g*f*p-h*m*_,this._y=h*m*p+g*f*_,this._z=h*f*_-g*m*p,this._w=h*f*p+g*m*_;break;case"YZX":this._x=g*f*p+h*m*_,this._y=h*m*p+g*f*_,this._z=h*f*_-g*m*p,this._w=h*f*p-g*m*_;break;case"XZY":this._x=g*f*p-h*m*_,this._y=h*m*p-g*f*_,this._z=h*f*_+g*m*p,this._w=h*f*p+g*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return!0===i&&this._onChangeCallback(),this}setFromAxisAngle(n,i){const s=i/2,a=Math.sin(s);return this._x=n.x*a,this._y=n.y*a,this._z=n.z*a,this._w=Math.cos(s),this._onChangeCallback(),this}setFromRotationMatrix(n){const i=n.elements,s=i[0],a=i[4],l=i[8],c=i[1],d=i[5],u=i[9],h=i[2],f=i[6],p=i[10],g=s+d+p;if(g>0){const m=.5/Math.sqrt(g+1);this._w=.25/m,this._x=(f-u)*m,this._y=(l-h)*m,this._z=(c-a)*m}else if(s>d&&s>p){const m=2*Math.sqrt(1+s-d-p);this._w=(f-u)/m,this._x=.25*m,this._y=(a+c)/m,this._z=(l+h)/m}else if(d>p){const m=2*Math.sqrt(1+d-s-p);this._w=(l-h)/m,this._x=(a+c)/m,this._y=.25*m,this._z=(u+f)/m}else{const m=2*Math.sqrt(1+p-s-d);this._w=(c-a)/m,this._x=(l+h)/m,this._y=(u+f)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(n,i){let s=n.dot(i)+1;return s<Number.EPSILON?(s=0,Math.abs(n.x)>Math.abs(n.z)?(this._x=-n.y,this._y=n.x,this._z=0,this._w=s):(this._x=0,this._y=-n.z,this._z=n.y,this._w=s)):(this._x=n.y*i.z-n.z*i.y,this._y=n.z*i.x-n.x*i.z,this._z=n.x*i.y-n.y*i.x,this._w=s),this.normalize()}angleTo(n){return 2*Math.acos(Math.abs(Or(this.dot(n),-1,1)))}rotateTowards(n,i){const s=this.angleTo(n);if(0===s)return this;const a=Math.min(1,i/s);return this.slerp(n,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let n=this.length();return 0===n?(this._x=0,this._y=0,this._z=0,this._w=1):(n=1/n,this._x=this._x*n,this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this._onChangeCallback(),this}multiply(n){return this.multiplyQuaternions(this,n)}premultiply(n){return this.multiplyQuaternions(n,this)}multiplyQuaternions(n,i){const s=n._x,a=n._y,l=n._z,c=n._w,d=i._x,u=i._y,h=i._z,f=i._w;return this._x=s*f+c*d+a*h-l*u,this._y=a*f+c*u+l*d-s*h,this._z=l*f+c*h+s*u-a*d,this._w=c*f-s*d-a*u-l*h,this._onChangeCallback(),this}slerp(n,i){if(0===i)return this;if(1===i)return this.copy(n);const s=this._x,a=this._y,l=this._z,c=this._w;let d=c*n._w+s*n._x+a*n._y+l*n._z;if(d<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,d=-d):this.copy(n),d>=1)return this._w=c,this._x=s,this._y=a,this._z=l,this;const u=1-d*d;if(u<=Number.EPSILON){const m=1-i;return this._w=m*c+i*this._w,this._x=m*s+i*this._x,this._y=m*a+i*this._y,this._z=m*l+i*this._z,this.normalize(),this}const h=Math.sqrt(u),f=Math.atan2(h,d),p=Math.sin((1-i)*f)/h,g=Math.sin(i*f)/h;return this._w=c*p+this._w*g,this._x=s*p+this._x*g,this._y=a*p+this._y*g,this._z=l*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(n,i,s){return this.copy(n).slerp(i,s)}random(){const n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),s=Math.random(),a=Math.sqrt(1-s),l=Math.sqrt(s);return this.set(a*Math.sin(n),a*Math.cos(n),l*Math.sin(i),l*Math.cos(i))}equals(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w}fromArray(n,i=0){return this._x=n[i],this._y=n[i+1],this._z=n[i+2],this._w=n[i+3],this._onChangeCallback(),this}toArray(n=[],i=0){return n[i]=this._x,n[i+1]=this._y,n[i+2]=this._z,n[i+3]=this._w,n}fromBufferAttribute(n,i){return this._x=n.getX(i),this._y=n.getY(i),this._z=n.getZ(i),this._w=n.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(n){return this._onChangeCallback=n,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class N{constructor(n=0,i=0,s=0){N.prototype.isVector3=!0,this.x=n,this.y=i,this.z=s}set(n,i,s){return void 0===s&&(s=this.z),this.x=n,this.y=i,this.z=s,this}setScalar(n){return this.x=n,this.y=n,this.z=n,this}setX(n){return this.x=n,this}setY(n){return this.y=n,this}setZ(n){return this.z=n,this}setComponent(n,i){switch(n){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+n)}return this}getComponent(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(n){return this.x=n.x,this.y=n.y,this.z=n.z,this}add(n){return this.x+=n.x,this.y+=n.y,this.z+=n.z,this}addScalar(n){return this.x+=n,this.y+=n,this.z+=n,this}addVectors(n,i){return this.x=n.x+i.x,this.y=n.y+i.y,this.z=n.z+i.z,this}addScaledVector(n,i){return this.x+=n.x*i,this.y+=n.y*i,this.z+=n.z*i,this}sub(n){return this.x-=n.x,this.y-=n.y,this.z-=n.z,this}subScalar(n){return this.x-=n,this.y-=n,this.z-=n,this}subVectors(n,i){return this.x=n.x-i.x,this.y=n.y-i.y,this.z=n.z-i.z,this}multiply(n){return this.x*=n.x,this.y*=n.y,this.z*=n.z,this}multiplyScalar(n){return this.x*=n,this.y*=n,this.z*=n,this}multiplyVectors(n,i){return this.x=n.x*i.x,this.y=n.y*i.y,this.z=n.z*i.z,this}applyEuler(n){return this.applyQuaternion(yK.setFromEuler(n))}applyAxisAngle(n,i){return this.applyQuaternion(yK.setFromAxisAngle(n,i))}applyMatrix3(n){const i=this.x,s=this.y,a=this.z,l=n.elements;return this.x=l[0]*i+l[3]*s+l[6]*a,this.y=l[1]*i+l[4]*s+l[7]*a,this.z=l[2]*i+l[5]*s+l[8]*a,this}applyNormalMatrix(n){return this.applyMatrix3(n).normalize()}applyMatrix4(n){const i=this.x,s=this.y,a=this.z,l=n.elements,c=1/(l[3]*i+l[7]*s+l[11]*a+l[15]);return this.x=(l[0]*i+l[4]*s+l[8]*a+l[12])*c,this.y=(l[1]*i+l[5]*s+l[9]*a+l[13])*c,this.z=(l[2]*i+l[6]*s+l[10]*a+l[14])*c,this}applyQuaternion(n){const i=this.x,s=this.y,a=this.z,l=n.x,c=n.y,d=n.z,u=n.w,h=2*(c*a-d*s),f=2*(d*i-l*a),p=2*(l*s-c*i);return this.x=i+u*h+c*p-d*f,this.y=s+u*f+d*h-l*p,this.z=a+u*p+l*f-c*h,this}project(n){return this.applyMatrix4(n.matrixWorldInverse).applyMatrix4(n.projectionMatrix)}unproject(n){return this.applyMatrix4(n.projectionMatrixInverse).applyMatrix4(n.matrixWorld)}transformDirection(n){const i=this.x,s=this.y,a=this.z,l=n.elements;return this.x=l[0]*i+l[4]*s+l[8]*a,this.y=l[1]*i+l[5]*s+l[9]*a,this.z=l[2]*i+l[6]*s+l[10]*a,this.normalize()}divide(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this}divideScalar(n){return this.multiplyScalar(1/n)}min(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this}max(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this}clamp(n,i){return this.x=Math.max(n.x,Math.min(i.x,this.x)),this.y=Math.max(n.y,Math.min(i.y,this.y)),this.z=Math.max(n.z,Math.min(i.z,this.z)),this}clampScalar(n,i){return this.x=Math.max(n,Math.min(i,this.x)),this.y=Math.max(n,Math.min(i,this.y)),this.z=Math.max(n,Math.min(i,this.z)),this}clampLength(n,i){const s=this.length();return this.divideScalar(s||1).multiplyScalar(Math.max(n,Math.min(i,s)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(n){return this.x*n.x+this.y*n.y+this.z*n.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(n){return this.normalize().multiplyScalar(n)}lerp(n,i){return this.x+=(n.x-this.x)*i,this.y+=(n.y-this.y)*i,this.z+=(n.z-this.z)*i,this}lerpVectors(n,i,s){return this.x=n.x+(i.x-n.x)*s,this.y=n.y+(i.y-n.y)*s,this.z=n.z+(i.z-n.z)*s,this}cross(n){return this.crossVectors(this,n)}crossVectors(n,i){const s=n.x,a=n.y,l=n.z,c=i.x,d=i.y,u=i.z;return this.x=a*u-l*d,this.y=l*c-s*u,this.z=s*d-a*c,this}projectOnVector(n){const i=n.lengthSq();if(0===i)return this.set(0,0,0);const s=n.dot(this)/i;return this.copy(n).multiplyScalar(s)}projectOnPlane(n){return aN.copy(this).projectOnVector(n),this.sub(aN)}reflect(n){return this.sub(aN.copy(n).multiplyScalar(2*this.dot(n)))}angleTo(n){const i=Math.sqrt(this.lengthSq()*n.lengthSq());if(0===i)return Math.PI/2;const s=this.dot(n)/i;return Math.acos(Or(s,-1,1))}distanceTo(n){return Math.sqrt(this.distanceToSquared(n))}distanceToSquared(n){const i=this.x-n.x,s=this.y-n.y,a=this.z-n.z;return i*i+s*s+a*a}manhattanDistanceTo(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)}setFromSpherical(n){return this.setFromSphericalCoords(n.radius,n.phi,n.theta)}setFromSphericalCoords(n,i,s){const a=Math.sin(i)*n;return this.x=a*Math.sin(s),this.y=Math.cos(i)*n,this.z=a*Math.cos(s),this}setFromCylindrical(n){return this.setFromCylindricalCoords(n.radius,n.theta,n.y)}setFromCylindricalCoords(n,i,s){return this.x=n*Math.sin(i),this.y=s,this.z=n*Math.cos(i),this}setFromMatrixPosition(n){const i=n.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(n){const i=this.setFromMatrixColumn(n,0).length(),s=this.setFromMatrixColumn(n,1).length(),a=this.setFromMatrixColumn(n,2).length();return this.x=i,this.y=s,this.z=a,this}setFromMatrixColumn(n,i){return this.fromArray(n.elements,4*i)}setFromMatrix3Column(n,i){return this.fromArray(n.elements,3*i)}setFromEuler(n){return this.x=n._x,this.y=n._y,this.z=n._z,this}setFromColor(n){return this.x=n.r,this.y=n.g,this.z=n.b,this}equals(n){return n.x===this.x&&n.y===this.y&&n.z===this.z}fromArray(n,i=0){return this.x=n[i],this.y=n[i+1],this.z=n[i+2],this}toArray(n=[],i=0){return n[i]=this.x,n[i+1]=this.y,n[i+2]=this.z,n}fromBufferAttribute(n,i){return this.x=n.getX(i),this.y=n.getY(i),this.z=n.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const n=Math.random()*Math.PI*2,i=2*Math.random()-1,s=Math.sqrt(1-i*i);return this.x=s*Math.cos(n),this.y=i,this.z=s*Math.sin(n),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const aN=new N,yK=new vs;class jr{constructor(n=new N(1/0,1/0,1/0),i=new N(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=n,this.max=i}set(n,i){return this.min.copy(n),this.max.copy(i),this}setFromArray(n){this.makeEmpty();for(let i=0,s=n.length;i<s;i+=3)this.expandByPoint(Cl.fromArray(n,i));return this}setFromBufferAttribute(n){this.makeEmpty();for(let i=0,s=n.count;i<s;i++)this.expandByPoint(Cl.fromBufferAttribute(n,i));return this}setFromPoints(n){this.makeEmpty();for(let i=0,s=n.length;i<s;i++)this.expandByPoint(n[i]);return this}setFromCenterAndSize(n,i){const s=Cl.copy(i).multiplyScalar(.5);return this.min.copy(n).sub(s),this.max.copy(n).add(s),this}setFromObject(n,i=!1){return this.makeEmpty(),this.expandByObject(n,i)}clone(){return(new this.constructor).copy(this)}copy(n){return this.min.copy(n.min),this.max.copy(n.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(n){return this.isEmpty()?n.set(0,0,0):n.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(n){return this.isEmpty()?n.set(0,0,0):n.subVectors(this.max,this.min)}expandByPoint(n){return this.min.min(n),this.max.max(n),this}expandByVector(n){return this.min.sub(n),this.max.add(n),this}expandByScalar(n){return this.min.addScalar(-n),this.max.addScalar(n),this}expandByObject(n,i=!1){n.updateWorldMatrix(!1,!1);const s=n.geometry;if(void 0!==s){const l=s.getAttribute("position");if(!0===i&&void 0!==l&&!0!==n.isInstancedMesh)for(let c=0,d=l.count;c<d;c++)!0===n.isMesh?n.getVertexPosition(c,Cl):Cl.fromBufferAttribute(l,c),Cl.applyMatrix4(n.matrixWorld),this.expandByPoint(Cl);else void 0!==n.boundingBox?(null===n.boundingBox&&n.computeBoundingBox(),IM.copy(n.boundingBox)):(null===s.boundingBox&&s.computeBoundingBox(),IM.copy(s.boundingBox)),IM.applyMatrix4(n.matrixWorld),this.union(IM)}const a=n.children;for(let l=0,c=a.length;l<c;l++)this.expandByObject(a[l],i);return this}containsPoint(n){return n.x>=this.min.x&&n.x<=this.max.x&&n.y>=this.min.y&&n.y<=this.max.y&&n.z>=this.min.z&&n.z<=this.max.z}containsBox(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z}getParameter(n,i){return i.set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(n){return n.max.x>=this.min.x&&n.min.x<=this.max.x&&n.max.y>=this.min.y&&n.min.y<=this.max.y&&n.max.z>=this.min.z&&n.min.z<=this.max.z}intersectsSphere(n){return this.clampPoint(n.center,Cl),Cl.distanceToSquared(n.center)<=n.radius*n.radius}intersectsPlane(n){let i,s;return n.normal.x>0?(i=n.normal.x*this.min.x,s=n.normal.x*this.max.x):(i=n.normal.x*this.max.x,s=n.normal.x*this.min.x),n.normal.y>0?(i+=n.normal.y*this.min.y,s+=n.normal.y*this.max.y):(i+=n.normal.y*this.max.y,s+=n.normal.y*this.min.y),n.normal.z>0?(i+=n.normal.z*this.min.z,s+=n.normal.z*this.max.z):(i+=n.normal.z*this.max.z,s+=n.normal.z*this.min.z),i<=-n.constant&&s>=-n.constant}intersectsTriangle(n){if(this.isEmpty())return!1;this.getCenter(oA),TM.subVectors(this.max,oA),Ng.subVectors(n.a,oA),Bg.subVectors(n.b,oA),Lg.subVectors(n.c,oA),ku.subVectors(Bg,Ng),Pu.subVectors(Lg,Bg),Sf.subVectors(Ng,Lg);let i=[0,-ku.z,ku.y,0,-Pu.z,Pu.y,0,-Sf.z,Sf.y,ku.z,0,-ku.x,Pu.z,0,-Pu.x,Sf.z,0,-Sf.x,-ku.y,ku.x,0,-Pu.y,Pu.x,0,-Sf.y,Sf.x,0];return!(!lN(i,Ng,Bg,Lg,TM)||(i=[1,0,0,0,1,0,0,0,1],!lN(i,Ng,Bg,Lg,TM)))&&(DM.crossVectors(ku,Pu),i=[DM.x,DM.y,DM.z],lN(i,Ng,Bg,Lg,TM))}clampPoint(n,i){return i.copy(n).clamp(this.min,this.max)}distanceToPoint(n){return this.clampPoint(n,Cl).distanceTo(n)}getBoundingSphere(n){return this.isEmpty()?n.makeEmpty():(this.getCenter(n.center),n.radius=.5*this.getSize(Cl).length()),n}intersect(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this}union(n){return this.min.min(n.min),this.max.max(n.max),this}applyMatrix4(n){return this.isEmpty()||(Ad[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(n),Ad[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(n),Ad[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(n),Ad[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(n),Ad[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(n),Ad[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(n),Ad[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(n),Ad[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(n),this.setFromPoints(Ad)),this}translate(n){return this.min.add(n),this.max.add(n),this}equals(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}const Ad=[new N,new N,new N,new N,new N,new N,new N,new N],Cl=new N,IM=new jr,Ng=new N,Bg=new N,Lg=new N,ku=new N,Pu=new N,Sf=new N,oA=new N,TM=new N,DM=new N,If=new N;function lN(r,n,i,s,a){for(let l=0,c=r.length-3;l<=c;l+=3){If.fromArray(r,l);const d=a.x*Math.abs(If.x)+a.y*Math.abs(If.y)+a.z*Math.abs(If.z),u=n.dot(If),h=i.dot(If),f=s.dot(If);if(Math.max(-Math.max(u,h,f),Math.min(u,h,f))>d)return!1}return!0}const OVe=new jr,aA=new N,cN=new N;class ks{constructor(n=new N,i=-1){this.isSphere=!0,this.center=n,this.radius=i}set(n,i){return this.center.copy(n),this.radius=i,this}setFromPoints(n,i){const s=this.center;void 0!==i?s.copy(i):OVe.setFromPoints(n).getCenter(s);let a=0;for(let l=0,c=n.length;l<c;l++)a=Math.max(a,s.distanceToSquared(n[l]));return this.radius=Math.sqrt(a),this}copy(n){return this.center.copy(n.center),this.radius=n.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(n){return n.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(n){return n.distanceTo(this.center)-this.radius}intersectsSphere(n){const i=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=i*i}intersectsBox(n){return n.intersectsSphere(this)}intersectsPlane(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius}clampPoint(n,i){const s=this.center.distanceToSquared(n);return i.copy(n),s>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(n){return this.isEmpty()?(n.makeEmpty(),n):(n.set(this.center,this.center),n.expandByScalar(this.radius),n)}applyMatrix4(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this}translate(n){return this.center.add(n),this}expandByPoint(n){if(this.isEmpty())return this.center.copy(n),this.radius=0,this;aA.subVectors(n,this.center);const i=aA.lengthSq();if(i>this.radius*this.radius){const s=Math.sqrt(i),a=.5*(s-this.radius);this.center.addScaledVector(aA,a/s),this.radius+=a}return this}union(n){return n.isEmpty()?this:this.isEmpty()?(this.copy(n),this):(!0===this.center.equals(n.center)?this.radius=Math.max(this.radius,n.radius):(cN.subVectors(n.center,this.center).setLength(n.radius),this.expandByPoint(aA.copy(n.center).add(cN)),this.expandByPoint(aA.copy(n.center).sub(cN))),this)}equals(n){return n.center.equals(this.center)&&n.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const xd=new N,dN=new N,RM=new N,Fu=new N,uN=new N,kM=new N,hN=new N;class lA{constructor(n=new N,i=new N(0,0,-1)){this.origin=n,this.direction=i}set(n,i){return this.origin.copy(n),this.direction.copy(i),this}copy(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this}at(n,i){return i.copy(this.origin).addScaledVector(this.direction,n)}lookAt(n){return this.direction.copy(n).sub(this.origin).normalize(),this}recast(n){return this.origin.copy(this.at(n,xd)),this}closestPointToPoint(n,i){i.subVectors(n,this.origin);const s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,s)}distanceToPoint(n){return Math.sqrt(this.distanceSqToPoint(n))}distanceSqToPoint(n){const i=xd.subVectors(n,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(n):(xd.copy(this.origin).addScaledVector(this.direction,i),xd.distanceToSquared(n))}distanceSqToSegment(n,i,s,a){dN.copy(n).add(i).multiplyScalar(.5),RM.copy(i).sub(n).normalize(),Fu.copy(this.origin).sub(dN);const l=.5*n.distanceTo(i),c=-this.direction.dot(RM),d=Fu.dot(this.direction),u=-Fu.dot(RM),h=Fu.lengthSq(),f=Math.abs(1-c*c);let p,g,m,_;if(f>0)if(p=c*u-d,g=c*d-u,_=l*f,p>=0)if(g>=-_)if(g<=_){const v=1/f;p*=v,g*=v,m=p*(p+c*g+2*d)+g*(c*p+g+2*u)+h}else g=l,p=Math.max(0,-(c*g+d)),m=-p*p+g*(g+2*u)+h;else g=-l,p=Math.max(0,-(c*g+d)),m=-p*p+g*(g+2*u)+h;else g<=-_?(p=Math.max(0,-(-c*l+d)),g=p>0?-l:Math.min(Math.max(-l,-u),l),m=-p*p+g*(g+2*u)+h):g<=_?(p=0,g=Math.min(Math.max(-l,-u),l),m=g*(g+2*u)+h):(p=Math.max(0,-(c*l+d)),g=p>0?l:Math.min(Math.max(-l,-u),l),m=-p*p+g*(g+2*u)+h);else g=c>0?-l:l,p=Math.max(0,-(c*g+d)),m=-p*p+g*(g+2*u)+h;return s&&s.copy(this.origin).addScaledVector(this.direction,p),a&&a.copy(dN).addScaledVector(RM,g),m}intersectSphere(n,i){xd.subVectors(n.center,this.origin);const s=xd.dot(this.direction),a=xd.dot(xd)-s*s,l=n.radius*n.radius;if(a>l)return null;const c=Math.sqrt(l-a),d=s-c,u=s+c;return u<0?null:this.at(d<0?u:d,i)}intersectsSphere(n){return this.distanceSqToPoint(n.center)<=n.radius*n.radius}distanceToPlane(n){const i=n.normal.dot(this.direction);if(0===i)return 0===n.distanceToPoint(this.origin)?0:null;const s=-(this.origin.dot(n.normal)+n.constant)/i;return s>=0?s:null}intersectPlane(n,i){const s=this.distanceToPlane(n);return null===s?null:this.at(s,i)}intersectsPlane(n){const i=n.distanceToPoint(this.origin);return 0===i||n.normal.dot(this.direction)*i<0}intersectBox(n,i){let s,a,l,c,d,u;const h=1/this.direction.x,f=1/this.direction.y,p=1/this.direction.z,g=this.origin;return h>=0?(s=(n.min.x-g.x)*h,a=(n.max.x-g.x)*h):(s=(n.max.x-g.x)*h,a=(n.min.x-g.x)*h),f>=0?(l=(n.min.y-g.y)*f,c=(n.max.y-g.y)*f):(l=(n.max.y-g.y)*f,c=(n.min.y-g.y)*f),s>c||l>a||((l>s||isNaN(s))&&(s=l),(c<a||isNaN(a))&&(a=c),p>=0?(d=(n.min.z-g.z)*p,u=(n.max.z-g.z)*p):(d=(n.max.z-g.z)*p,u=(n.min.z-g.z)*p),s>u||d>a)||((d>s||s!=s)&&(s=d),(u<a||a!=a)&&(a=u),a<0)?null:this.at(s>=0?s:a,i)}intersectsBox(n){return null!==this.intersectBox(n,xd)}intersectTriangle(n,i,s,a,l){uN.subVectors(i,n),kM.subVectors(s,n),hN.crossVectors(uN,kM);let d,c=this.direction.dot(hN);if(c>0){if(a)return null;d=1}else{if(!(c<0))return null;d=-1,c=-c}Fu.subVectors(this.origin,n);const u=d*this.direction.dot(kM.crossVectors(Fu,kM));if(u<0)return null;const h=d*this.direction.dot(uN.cross(Fu));if(h<0||u+h>c)return null;const f=-d*Fu.dot(hN);return f<0?null:this.at(f/c,l)}applyMatrix4(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this}equals(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class vt{constructor(n,i,s,a,l,c,d,u,h,f,p,g,m,_,v,y){vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==n&&this.set(n,i,s,a,l,c,d,u,h,f,p,g,m,_,v,y)}set(n,i,s,a,l,c,d,u,h,f,p,g,m,_,v,y){const b=this.elements;return b[0]=n,b[4]=i,b[8]=s,b[12]=a,b[1]=l,b[5]=c,b[9]=d,b[13]=u,b[2]=h,b[6]=f,b[10]=p,b[14]=g,b[3]=m,b[7]=_,b[11]=v,b[15]=y,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new vt).fromArray(this.elements)}copy(n){const i=this.elements,s=n.elements;return i[0]=s[0],i[1]=s[1],i[2]=s[2],i[3]=s[3],i[4]=s[4],i[5]=s[5],i[6]=s[6],i[7]=s[7],i[8]=s[8],i[9]=s[9],i[10]=s[10],i[11]=s[11],i[12]=s[12],i[13]=s[13],i[14]=s[14],i[15]=s[15],this}copyPosition(n){const i=this.elements,s=n.elements;return i[12]=s[12],i[13]=s[13],i[14]=s[14],this}setFromMatrix3(n){const i=n.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(n,i,s){return n.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),s.setFromMatrixColumn(this,2),this}makeBasis(n,i,s){return this.set(n.x,i.x,s.x,0,n.y,i.y,s.y,0,n.z,i.z,s.z,0,0,0,0,1),this}extractRotation(n){const i=this.elements,s=n.elements,a=1/Ug.setFromMatrixColumn(n,0).length(),l=1/Ug.setFromMatrixColumn(n,1).length(),c=1/Ug.setFromMatrixColumn(n,2).length();return i[0]=s[0]*a,i[1]=s[1]*a,i[2]=s[2]*a,i[3]=0,i[4]=s[4]*l,i[5]=s[5]*l,i[6]=s[6]*l,i[7]=0,i[8]=s[8]*c,i[9]=s[9]*c,i[10]=s[10]*c,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(n){const i=this.elements,s=n.x,a=n.y,l=n.z,c=Math.cos(s),d=Math.sin(s),u=Math.cos(a),h=Math.sin(a),f=Math.cos(l),p=Math.sin(l);if("XYZ"===n.order){const g=c*f,m=c*p,_=d*f,v=d*p;i[0]=u*f,i[4]=-u*p,i[8]=h,i[1]=m+_*h,i[5]=g-v*h,i[9]=-d*u,i[2]=v-g*h,i[6]=_+m*h,i[10]=c*u}else if("YXZ"===n.order){const g=u*f,m=u*p,_=h*f,v=h*p;i[0]=g+v*d,i[4]=_*d-m,i[8]=c*h,i[1]=c*p,i[5]=c*f,i[9]=-d,i[2]=m*d-_,i[6]=v+g*d,i[10]=c*u}else if("ZXY"===n.order){const g=u*f,m=u*p,_=h*f,v=h*p;i[0]=g-v*d,i[4]=-c*p,i[8]=_+m*d,i[1]=m+_*d,i[5]=c*f,i[9]=v-g*d,i[2]=-c*h,i[6]=d,i[10]=c*u}else if("ZYX"===n.order){const g=c*f,m=c*p,_=d*f,v=d*p;i[0]=u*f,i[4]=_*h-m,i[8]=g*h+v,i[1]=u*p,i[5]=v*h+g,i[9]=m*h-_,i[2]=-h,i[6]=d*u,i[10]=c*u}else if("YZX"===n.order){const g=c*u,m=c*h,_=d*u,v=d*h;i[0]=u*f,i[4]=v-g*p,i[8]=_*p+m,i[1]=p,i[5]=c*f,i[9]=-d*f,i[2]=-h*f,i[6]=m*p+_,i[10]=g-v*p}else if("XZY"===n.order){const g=c*u,m=c*h,_=d*u,v=d*h;i[0]=u*f,i[4]=-p,i[8]=h*f,i[1]=g*p+v,i[5]=c*f,i[9]=m*p-_,i[2]=_*p-m,i[6]=d*f,i[10]=v*p+g}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(n){return this.compose(NVe,n,BVe)}lookAt(n,i,s){const a=this.elements;return Ia.subVectors(n,i),0===Ia.lengthSq()&&(Ia.z=1),Ia.normalize(),Ou.crossVectors(s,Ia),0===Ou.lengthSq()&&(1===Math.abs(s.z)?Ia.x+=1e-4:Ia.z+=1e-4,Ia.normalize(),Ou.crossVectors(s,Ia)),Ou.normalize(),PM.crossVectors(Ia,Ou),a[0]=Ou.x,a[4]=PM.x,a[8]=Ia.x,a[1]=Ou.y,a[5]=PM.y,a[9]=Ia.y,a[2]=Ou.z,a[6]=PM.z,a[10]=Ia.z,this}multiply(n){return this.multiplyMatrices(this,n)}premultiply(n){return this.multiplyMatrices(n,this)}multiplyMatrices(n,i){const s=n.elements,a=i.elements,l=this.elements,c=s[0],d=s[4],u=s[8],h=s[12],f=s[1],p=s[5],g=s[9],m=s[13],_=s[2],v=s[6],y=s[10],b=s[14],A=s[3],x=s[7],w=s[11],E=s[15],M=a[0],S=a[4],T=a[8],P=a[12],C=a[1],I=a[5],k=a[9],O=a[13],z=a[2],q=a[6],R=a[10],V=a[14],U=a[3],X=a[7],ae=a[11],fe=a[15];return l[0]=c*M+d*C+u*z+h*U,l[4]=c*S+d*I+u*q+h*X,l[8]=c*T+d*k+u*R+h*ae,l[12]=c*P+d*O+u*V+h*fe,l[1]=f*M+p*C+g*z+m*U,l[5]=f*S+p*I+g*q+m*X,l[9]=f*T+p*k+g*R+m*ae,l[13]=f*P+p*O+g*V+m*fe,l[2]=_*M+v*C+y*z+b*U,l[6]=_*S+v*I+y*q+b*X,l[10]=_*T+v*k+y*R+b*ae,l[14]=_*P+v*O+y*V+b*fe,l[3]=A*M+x*C+w*z+E*U,l[7]=A*S+x*I+w*q+E*X,l[11]=A*T+x*k+w*R+E*ae,l[15]=A*P+x*O+w*V+E*fe,this}multiplyScalar(n){const i=this.elements;return i[0]*=n,i[4]*=n,i[8]*=n,i[12]*=n,i[1]*=n,i[5]*=n,i[9]*=n,i[13]*=n,i[2]*=n,i[6]*=n,i[10]*=n,i[14]*=n,i[3]*=n,i[7]*=n,i[11]*=n,i[15]*=n,this}determinant(){const n=this.elements,i=n[0],s=n[4],a=n[8],l=n[12],c=n[1],d=n[5],u=n[9],h=n[13],f=n[2],p=n[6],g=n[10],m=n[14];return n[3]*(+l*u*p-a*h*p-l*d*g+s*h*g+a*d*m-s*u*m)+n[7]*(+i*u*m-i*h*g+l*c*g-a*c*m+a*h*f-l*u*f)+n[11]*(+i*h*p-i*d*m-l*c*p+s*c*m+l*d*f-s*h*f)+n[15]*(-a*d*f-i*u*p+i*d*g+a*c*p-s*c*g+s*u*f)}transpose(){const n=this.elements;let i;return i=n[1],n[1]=n[4],n[4]=i,i=n[2],n[2]=n[8],n[8]=i,i=n[6],n[6]=n[9],n[9]=i,i=n[3],n[3]=n[12],n[12]=i,i=n[7],n[7]=n[13],n[13]=i,i=n[11],n[11]=n[14],n[14]=i,this}setPosition(n,i,s){const a=this.elements;return n.isVector3?(a[12]=n.x,a[13]=n.y,a[14]=n.z):(a[12]=n,a[13]=i,a[14]=s),this}invert(){const n=this.elements,i=n[0],s=n[1],a=n[2],l=n[3],c=n[4],d=n[5],u=n[6],h=n[7],f=n[8],p=n[9],g=n[10],m=n[11],_=n[12],v=n[13],y=n[14],b=n[15],A=p*y*h-v*g*h+v*u*m-d*y*m-p*u*b+d*g*b,x=_*g*h-f*y*h-_*u*m+c*y*m+f*u*b-c*g*b,w=f*v*h-_*p*h+_*d*m-c*v*m-f*d*b+c*p*b,E=_*p*u-f*v*u-_*d*g+c*v*g+f*d*y-c*p*y,M=i*A+s*x+a*w+l*E;if(0===M)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/M;return n[0]=A*S,n[1]=(v*g*l-p*y*l-v*a*m+s*y*m+p*a*b-s*g*b)*S,n[2]=(d*y*l-v*u*l+v*a*h-s*y*h-d*a*b+s*u*b)*S,n[3]=(p*u*l-d*g*l-p*a*h+s*g*h+d*a*m-s*u*m)*S,n[4]=x*S,n[5]=(f*y*l-_*g*l+_*a*m-i*y*m-f*a*b+i*g*b)*S,n[6]=(_*u*l-c*y*l-_*a*h+i*y*h+c*a*b-i*u*b)*S,n[7]=(c*g*l-f*u*l+f*a*h-i*g*h-c*a*m+i*u*m)*S,n[8]=w*S,n[9]=(_*p*l-f*v*l-_*s*m+i*v*m+f*s*b-i*p*b)*S,n[10]=(c*v*l-_*d*l+_*s*h-i*v*h-c*s*b+i*d*b)*S,n[11]=(f*d*l-c*p*l-f*s*h+i*p*h+c*s*m-i*d*m)*S,n[12]=E*S,n[13]=(f*v*a-_*p*a+_*s*g-i*v*g-f*s*y+i*p*y)*S,n[14]=(_*d*a-c*v*a-_*s*u+i*v*u+c*s*y-i*d*y)*S,n[15]=(c*p*a-f*d*a+f*s*u-i*p*u-c*s*g+i*d*g)*S,this}scale(n){const i=this.elements,s=n.x,a=n.y,l=n.z;return i[0]*=s,i[4]*=a,i[8]*=l,i[1]*=s,i[5]*=a,i[9]*=l,i[2]*=s,i[6]*=a,i[10]*=l,i[3]*=s,i[7]*=a,i[11]*=l,this}getMaxScaleOnAxis(){const n=this.elements;return Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1]+n[2]*n[2],n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n[8]*n[8]+n[9]*n[9]+n[10]*n[10]))}makeTranslation(n,i,s){return n.isVector3?this.set(1,0,0,n.x,0,1,0,n.y,0,0,1,n.z,0,0,0,1):this.set(1,0,0,n,0,1,0,i,0,0,1,s,0,0,0,1),this}makeRotationX(n){const i=Math.cos(n),s=Math.sin(n);return this.set(1,0,0,0,0,i,-s,0,0,s,i,0,0,0,0,1),this}makeRotationY(n){const i=Math.cos(n),s=Math.sin(n);return this.set(i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1),this}makeRotationZ(n){const i=Math.cos(n),s=Math.sin(n);return this.set(i,-s,0,0,s,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(n,i){const s=Math.cos(i),a=Math.sin(i),l=1-s,c=n.x,d=n.y,u=n.z,h=l*c,f=l*d;return this.set(h*c+s,h*d-a*u,h*u+a*d,0,h*d+a*u,f*d+s,f*u-a*c,0,h*u-a*d,f*u+a*c,l*u*u+s,0,0,0,0,1),this}makeScale(n,i,s){return this.set(n,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1),this}makeShear(n,i,s,a,l,c){return this.set(1,s,l,0,n,1,c,0,i,a,1,0,0,0,0,1),this}compose(n,i,s){const a=this.elements,l=i._x,c=i._y,d=i._z,u=i._w,h=l+l,f=c+c,p=d+d,g=l*h,m=l*f,_=l*p,v=c*f,y=c*p,b=d*p,A=u*h,x=u*f,w=u*p,E=s.x,M=s.y,S=s.z;return a[0]=(1-(v+b))*E,a[1]=(m+w)*E,a[2]=(_-x)*E,a[3]=0,a[4]=(m-w)*M,a[5]=(1-(g+b))*M,a[6]=(y+A)*M,a[7]=0,a[8]=(_+x)*S,a[9]=(y-A)*S,a[10]=(1-(g+v))*S,a[11]=0,a[12]=n.x,a[13]=n.y,a[14]=n.z,a[15]=1,this}decompose(n,i,s){const a=this.elements;let l=Ug.set(a[0],a[1],a[2]).length();const c=Ug.set(a[4],a[5],a[6]).length(),d=Ug.set(a[8],a[9],a[10]).length();this.determinant()<0&&(l=-l),n.x=a[12],n.y=a[13],n.z=a[14],El.copy(this);const h=1/l,f=1/c,p=1/d;return El.elements[0]*=h,El.elements[1]*=h,El.elements[2]*=h,El.elements[4]*=f,El.elements[5]*=f,El.elements[6]*=f,El.elements[8]*=p,El.elements[9]*=p,El.elements[10]*=p,i.setFromRotationMatrix(El),s.x=l,s.y=c,s.z=d,this}makePerspective(n,i,s,a,l,c,d=bd){const u=this.elements,h=2*l/(i-n),f=2*l/(s-a),p=(i+n)/(i-n),g=(s+a)/(s-a);let m,_;if(d===bd)m=-(c+l)/(c-l),_=-2*c*l/(c-l);else{if(2001!==d)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+d);m=-c/(c-l),_=-c*l/(c-l)}return u[0]=h,u[4]=0,u[8]=p,u[12]=0,u[1]=0,u[5]=f,u[9]=g,u[13]=0,u[2]=0,u[6]=0,u[10]=m,u[14]=_,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(n,i,s,a,l,c,d=bd){const u=this.elements,h=1/(i-n),f=1/(s-a),p=1/(c-l),g=(i+n)*h,m=(s+a)*f;let _,v;if(d===bd)_=(c+l)*p,v=-2*p;else{if(2001!==d)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+d);_=l*p,v=-1*p}return u[0]=2*h,u[4]=0,u[8]=0,u[12]=-g,u[1]=0,u[5]=2*f,u[9]=0,u[13]=-m,u[2]=0,u[6]=0,u[10]=v,u[14]=-_,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(n){const i=this.elements,s=n.elements;for(let a=0;a<16;a++)if(i[a]!==s[a])return!1;return!0}fromArray(n,i=0){for(let s=0;s<16;s++)this.elements[s]=n[s+i];return this}toArray(n=[],i=0){const s=this.elements;return n[i]=s[0],n[i+1]=s[1],n[i+2]=s[2],n[i+3]=s[3],n[i+4]=s[4],n[i+5]=s[5],n[i+6]=s[6],n[i+7]=s[7],n[i+8]=s[8],n[i+9]=s[9],n[i+10]=s[10],n[i+11]=s[11],n[i+12]=s[12],n[i+13]=s[13],n[i+14]=s[14],n[i+15]=s[15],n}}const Ug=new N,El=new vt,NVe=new N(0,0,0),BVe=new N(1,1,1),Ou=new N,PM=new N,Ia=new N,vK=new vt,bK=new vs;let Ml=(()=>{class r{constructor(i=0,s=0,a=0,l=r.DEFAULT_ORDER){this.isEuler=!0,this._x=i,this._y=s,this._z=a,this._order=l}get x(){return this._x}set x(i){this._x=i,this._onChangeCallback()}get y(){return this._y}set y(i){this._y=i,this._onChangeCallback()}get z(){return this._z}set z(i){this._z=i,this._onChangeCallback()}get order(){return this._order}set order(i){this._order=i,this._onChangeCallback()}set(i,s,a,l=this._order){return this._x=i,this._y=s,this._z=a,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(i){return this._x=i._x,this._y=i._y,this._z=i._z,this._order=i._order,this._onChangeCallback(),this}setFromRotationMatrix(i,s=this._order,a=!0){const l=i.elements,c=l[0],d=l[4],u=l[8],h=l[1],f=l[5],p=l[9],g=l[2],m=l[6],_=l[10];switch(s){case"XYZ":this._y=Math.asin(Or(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-d,c)):(this._x=Math.atan2(m,f),this._z=0);break;case"YXZ":this._x=Math.asin(-Or(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(u,_),this._z=Math.atan2(h,f)):(this._y=Math.atan2(-g,c),this._z=0);break;case"ZXY":this._x=Math.asin(Or(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-d,f)):(this._y=0,this._z=Math.atan2(h,c));break;case"ZYX":this._y=Math.asin(-Or(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(m,_),this._z=Math.atan2(h,c)):(this._x=0,this._z=Math.atan2(-d,f));break;case"YZX":this._z=Math.asin(Or(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,f),this._y=Math.atan2(-g,c)):(this._x=0,this._y=Math.atan2(u,_));break;case"XZY":this._z=Math.asin(-Or(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(m,f),this._y=Math.atan2(u,c)):(this._x=Math.atan2(-p,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+s)}return this._order=s,!0===a&&this._onChangeCallback(),this}setFromQuaternion(i,s,a){return vK.makeRotationFromQuaternion(i),this.setFromRotationMatrix(vK,s,a)}setFromVector3(i,s=this._order){return this.set(i.x,i.y,i.z,s)}reorder(i){return bK.setFromEuler(this),this.setFromQuaternion(bK,i)}equals(i){return i._x===this._x&&i._y===this._y&&i._z===this._z&&i._order===this._order}fromArray(i){return this._x=i[0],this._y=i[1],this._z=i[2],void 0!==i[3]&&(this._order=i[3]),this._onChangeCallback(),this}toArray(i=[],s=0){return i[s]=this._x,i[s+1]=this._y,i[s+2]=this._z,i[s+3]=this._order,i}_onChange(i){return this._onChangeCallback=i,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return r.DEFAULT_ORDER="XYZ",r})();class fN{constructor(){this.mask=1}set(n){this.mask=1<<n>>>0}enable(n){this.mask|=1<<n}enableAll(){this.mask=-1}toggle(n){this.mask^=1<<n}disable(n){this.mask&=~(1<<n)}disableAll(){this.mask=0}test(n){return!!(this.mask&n.mask)}isEnabled(n){return!!(this.mask&1<<n)}}let LVe=0;const AK=new N,zg=new vs,wd=new vt,FM=new N,cA=new N,UVe=new N,zVe=new vs,xK=new N(1,0,0),wK=new N(0,1,0),CK=new N(0,0,1),EK={type:"added"},VVe={type:"removed"},Vg={type:"childadded",child:null},pN={type:"childremoved",child:null};let di=(()=>{class r extends Ma{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:LVe++}),this.uuid=Sa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=r.DEFAULT_UP.clone();const i=new N,s=new Ml,a=new vs,l=new N(1,1,1);s._onChange(function c(){a.setFromEuler(s,!1)}),a._onChange(function d(){s.setFromQuaternion(a,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:s},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new vt},normalMatrix:{value:new fn}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=r.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new fN,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(i){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(i),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(i){return this.quaternion.premultiply(i),this}setRotationFromAxisAngle(i,s){this.quaternion.setFromAxisAngle(i,s)}setRotationFromEuler(i){this.quaternion.setFromEuler(i,!0)}setRotationFromMatrix(i){this.quaternion.setFromRotationMatrix(i)}setRotationFromQuaternion(i){this.quaternion.copy(i)}rotateOnAxis(i,s){return zg.setFromAxisAngle(i,s),this.quaternion.multiply(zg),this}rotateOnWorldAxis(i,s){return zg.setFromAxisAngle(i,s),this.quaternion.premultiply(zg),this}rotateX(i){return this.rotateOnAxis(xK,i)}rotateY(i){return this.rotateOnAxis(wK,i)}rotateZ(i){return this.rotateOnAxis(CK,i)}translateOnAxis(i,s){return AK.copy(i).applyQuaternion(this.quaternion),this.position.add(AK.multiplyScalar(s)),this}translateX(i){return this.translateOnAxis(xK,i)}translateY(i){return this.translateOnAxis(wK,i)}translateZ(i){return this.translateOnAxis(CK,i)}localToWorld(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(this.matrixWorld)}worldToLocal(i){return this.updateWorldMatrix(!0,!1),i.applyMatrix4(wd.copy(this.matrixWorld).invert())}lookAt(i,s,a){i.isVector3?FM.copy(i):FM.set(i,s,a);const l=this.parent;this.updateWorldMatrix(!0,!1),cA.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wd.lookAt(cA,FM,this.up):wd.lookAt(FM,cA,this.up),this.quaternion.setFromRotationMatrix(wd),l&&(wd.extractRotation(l.matrixWorld),zg.setFromRotationMatrix(wd),this.quaternion.premultiply(zg.invert()))}add(i){if(arguments.length>1){for(let s=0;s<arguments.length;s++)this.add(arguments[s]);return this}return i===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",i),this):(i&&i.isObject3D?(i.removeFromParent(),i.parent=this,this.children.push(i),i.dispatchEvent(EK),Vg.child=i,this.dispatchEvent(Vg),Vg.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",i),this)}remove(i){if(arguments.length>1){for(let a=0;a<arguments.length;a++)this.remove(arguments[a]);return this}const s=this.children.indexOf(i);return-1!==s&&(i.parent=null,this.children.splice(s,1),i.dispatchEvent(VVe),pN.child=i,this.dispatchEvent(pN),pN.child=null),this}removeFromParent(){const i=this.parent;return null!==i&&i.remove(this),this}clear(){return this.remove(...this.children)}attach(i){return this.updateWorldMatrix(!0,!1),wd.copy(this.matrixWorld).invert(),null!==i.parent&&(i.parent.updateWorldMatrix(!0,!1),wd.multiply(i.parent.matrixWorld)),i.applyMatrix4(wd),i.removeFromParent(),i.parent=this,this.children.push(i),i.updateWorldMatrix(!1,!0),i.dispatchEvent(EK),Vg.child=i,this.dispatchEvent(Vg),Vg.child=null,this}getObjectById(i){return this.getObjectByProperty("id",i)}getObjectByName(i){return this.getObjectByProperty("name",i)}getObjectByProperty(i,s){if(this[i]===s)return this;for(let a=0,l=this.children.length;a<l;a++){const d=this.children[a].getObjectByProperty(i,s);if(void 0!==d)return d}}getObjectsByProperty(i,s,a=[]){this[i]===s&&a.push(this);const l=this.children;for(let c=0,d=l.length;c<d;c++)l[c].getObjectsByProperty(i,s,a);return a}getWorldPosition(i){return this.updateWorldMatrix(!0,!1),i.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cA,i,UVe),i}getWorldScale(i){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(cA,zVe,i),i}getWorldDirection(i){this.updateWorldMatrix(!0,!1);const s=this.matrixWorld.elements;return i.set(s[8],s[9],s[10]).normalize()}raycast(){}traverse(i){i(this);const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].traverse(i)}traverseVisible(i){if(!1===this.visible)return;i(this);const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].traverseVisible(i)}traverseAncestors(i){const s=this.parent;null!==s&&(i(s),s.traverseAncestors(i))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(i){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||i)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,i=!0);const s=this.children;for(let a=0,l=s.length;a<l;a++)s[a].updateMatrixWorld(i)}updateWorldMatrix(i,s){const a=this.parent;if(!0===i&&null!==a&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===s){const l=this.children;for(let c=0,d=l.length;c<d;c++)l[c].updateWorldMatrix(!1,!0)}}toJSON(i){const s=void 0===i||"string"==typeof i,a={};s&&(i={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},a.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const l={};function c(u,h){return void 0===u[h.uuid]&&(u[h.uuid]=h.toJSON(i)),h.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),l.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(l.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(l.type="BatchedMesh",l.perObjectFrustumCulled=this.perObjectFrustumCulled,l.sortObjects=this.sortObjects,l.drawRanges=this._drawRanges,l.reservedRanges=this._reservedRanges,l.visibility=this._visibility,l.active=this._active,l.bounds=this._bounds.map(u=>({boxInitialized:u.boxInitialized,boxMin:u.box.min.toArray(),boxMax:u.box.max.toArray(),sphereInitialized:u.sphereInitialized,sphereRadius:u.sphere.radius,sphereCenter:u.sphere.center.toArray()})),l.maxInstanceCount=this._maxInstanceCount,l.maxVertexCount=this._maxVertexCount,l.maxIndexCount=this._maxIndexCount,l.geometryInitialized=this._geometryInitialized,l.geometryCount=this._geometryCount,l.matricesTexture=this._matricesTexture.toJSON(i),null!==this._colorsTexture&&(l.colorsTexture=this._colorsTexture.toJSON(i)),null!==this.boundingSphere&&(l.boundingSphere={center:l.boundingSphere.center.toArray(),radius:l.boundingSphere.radius}),null!==this.boundingBox&&(l.boundingBox={min:l.boundingBox.min.toArray(),max:l.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(i).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(l.environment=this.environment.toJSON(i).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=c(i.geometries,this.geometry);const u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){const h=u.shapes;if(Array.isArray(h))for(let f=0,p=h.length;f<p;f++)c(i.shapes,h[f]);else c(i.shapes,h)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(c(i.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const u=[];for(let h=0,f=this.material.length;h<f;h++)u.push(c(i.materials,this.material[h]));l.material=u}else l.material=c(i.materials,this.material);if(this.children.length>0){l.children=[];for(let u=0;u<this.children.length;u++)l.children.push(this.children[u].toJSON(i).object)}if(this.animations.length>0){l.animations=[];for(let u=0;u<this.animations.length;u++)l.animations.push(c(i.animations,this.animations[u]))}if(s){const u=d(i.geometries),h=d(i.materials),f=d(i.textures),p=d(i.images),g=d(i.shapes),m=d(i.skeletons),_=d(i.animations),v=d(i.nodes);u.length>0&&(a.geometries=u),h.length>0&&(a.materials=h),f.length>0&&(a.textures=f),p.length>0&&(a.images=p),g.length>0&&(a.shapes=g),m.length>0&&(a.skeletons=m),_.length>0&&(a.animations=_),v.length>0&&(a.nodes=v)}return a.object=l,a;function d(u){const h=[];for(const f in u){const p=u[f];delete p.metadata,h.push(p)}return h}}clone(i){return(new this.constructor).copy(this,i)}copy(i,s=!0){if(this.name=i.name,this.up.copy(i.up),this.position.copy(i.position),this.rotation.order=i.rotation.order,this.quaternion.copy(i.quaternion),this.scale.copy(i.scale),this.matrix.copy(i.matrix),this.matrixWorld.copy(i.matrixWorld),this.matrixAutoUpdate=i.matrixAutoUpdate,this.matrixWorldAutoUpdate=i.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=i.matrixWorldNeedsUpdate,this.layers.mask=i.layers.mask,this.visible=i.visible,this.castShadow=i.castShadow,this.receiveShadow=i.receiveShadow,this.frustumCulled=i.frustumCulled,this.renderOrder=i.renderOrder,this.animations=i.animations.slice(),this.userData=JSON.parse(JSON.stringify(i.userData)),!0===s)for(let a=0;a<i.children.length;a++)this.add(i.children[a].clone());return this}}return r.DEFAULT_UP=new N(0,1,0),r.DEFAULT_MATRIX_AUTO_UPDATE=!0,r.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,r})();const Sl=new N,Cd=new N,mN=new N,Ed=new N,Hg=new N,Gg=new N,MK=new N,gN=new N,_N=new N,yN=new N,vN=new si,bN=new si,AN=new si;class Uo{constructor(n=new N,i=new N,s=new N){this.a=n,this.b=i,this.c=s}static getNormal(n,i,s,a){a.subVectors(s,i),Sl.subVectors(n,i),a.cross(Sl);const l=a.lengthSq();return l>0?a.multiplyScalar(1/Math.sqrt(l)):a.set(0,0,0)}static getBarycoord(n,i,s,a,l){Sl.subVectors(a,i),Cd.subVectors(s,i),mN.subVectors(n,i);const c=Sl.dot(Sl),d=Sl.dot(Cd),u=Sl.dot(mN),h=Cd.dot(Cd),f=Cd.dot(mN),p=c*h-d*d;if(0===p)return l.set(0,0,0),null;const g=1/p,m=(h*u-d*f)*g,_=(c*f-d*u)*g;return l.set(1-m-_,_,m)}static containsPoint(n,i,s,a){return null!==this.getBarycoord(n,i,s,a,Ed)&&Ed.x>=0&&Ed.y>=0&&Ed.x+Ed.y<=1}static getInterpolation(n,i,s,a,l,c,d,u){return null===this.getBarycoord(n,i,s,a,Ed)?(u.x=0,u.y=0,"z"in u&&(u.z=0),"w"in u&&(u.w=0),null):(u.setScalar(0),u.addScaledVector(l,Ed.x),u.addScaledVector(c,Ed.y),u.addScaledVector(d,Ed.z),u)}static getInterpolatedAttribute(n,i,s,a,l,c){return vN.setScalar(0),bN.setScalar(0),AN.setScalar(0),vN.fromBufferAttribute(n,i),bN.fromBufferAttribute(n,s),AN.fromBufferAttribute(n,a),c.setScalar(0),c.addScaledVector(vN,l.x),c.addScaledVector(bN,l.y),c.addScaledVector(AN,l.z),c}static isFrontFacing(n,i,s,a){return Sl.subVectors(s,i),Cd.subVectors(n,i),Sl.cross(Cd).dot(a)<0}set(n,i,s){return this.a.copy(n),this.b.copy(i),this.c.copy(s),this}setFromPointsAndIndices(n,i,s,a){return this.a.copy(n[i]),this.b.copy(n[s]),this.c.copy(n[a]),this}setFromAttributeAndIndices(n,i,s,a){return this.a.fromBufferAttribute(n,i),this.b.fromBufferAttribute(n,s),this.c.fromBufferAttribute(n,a),this}clone(){return(new this.constructor).copy(this)}copy(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this}getArea(){return Sl.subVectors(this.c,this.b),Cd.subVectors(this.a,this.b),.5*Sl.cross(Cd).length()}getMidpoint(n){return n.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(n){return Uo.getNormal(this.a,this.b,this.c,n)}getPlane(n){return n.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(n,i){return Uo.getBarycoord(n,this.a,this.b,this.c,i)}getInterpolation(n,i,s,a,l){return Uo.getInterpolation(n,this.a,this.b,this.c,i,s,a,l)}containsPoint(n){return Uo.containsPoint(n,this.a,this.b,this.c)}isFrontFacing(n){return Uo.isFrontFacing(this.a,this.b,this.c,n)}intersectsBox(n){return n.intersectsTriangle(this)}closestPointToPoint(n,i){const s=this.a,a=this.b,l=this.c;let c,d;Hg.subVectors(a,s),Gg.subVectors(l,s),gN.subVectors(n,s);const u=Hg.dot(gN),h=Gg.dot(gN);if(u<=0&&h<=0)return i.copy(s);_N.subVectors(n,a);const f=Hg.dot(_N),p=Gg.dot(_N);if(f>=0&&p<=f)return i.copy(a);const g=u*p-f*h;if(g<=0&&u>=0&&f<=0)return c=u/(u-f),i.copy(s).addScaledVector(Hg,c);yN.subVectors(n,l);const m=Hg.dot(yN),_=Gg.dot(yN);if(_>=0&&m<=_)return i.copy(l);const v=m*h-u*_;if(v<=0&&h>=0&&_<=0)return d=h/(h-_),i.copy(s).addScaledVector(Gg,d);const y=f*_-m*p;if(y<=0&&p-f>=0&&m-_>=0)return MK.subVectors(l,a),d=(p-f)/(p-f+(m-_)),i.copy(a).addScaledVector(MK,d);const b=1/(y+v+g);return c=v*b,d=g*b,i.copy(s).addScaledVector(Hg,c).addScaledVector(Gg,d)}equals(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}}const SK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nu={h:0,s:0,l:0},OM={h:0,s:0,l:0};function xN(r,n,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?r+6*(n-r)*i:i<.5?n:i<2/3?r+6*(n-r)*(2/3-i):r}class Be{constructor(n,i,s){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(n,i,s)}set(n,i,s){if(void 0===i&&void 0===s){const a=n;a&&a.isColor?this.copy(a):"number"==typeof a?this.setHex(a):"string"==typeof a&&this.setStyle(a)}else this.setRGB(n,i,s);return this}setScalar(n){return this.r=n,this.g=n,this.b=n,this}setHex(n,i=ji){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(255&n)/255,jn.toWorkingColorSpace(this,i),this}setRGB(n,i,s,a=jn.workingColorSpace){return this.r=n,this.g=i,this.b=s,jn.toWorkingColorSpace(this,a),this}setHSL(n,i,s,a=jn.workingColorSpace){if(n=tN(n,1),i=Or(i,0,1),s=Or(s,0,1),0===i)this.r=this.g=this.b=s;else{const l=s<=.5?s*(1+i):s+i-s*i,c=2*s-l;this.r=xN(c,l,n+1/3),this.g=xN(c,l,n),this.b=xN(c,l,n-1/3)}return jn.toWorkingColorSpace(this,a),this}setStyle(n,i=ji){function s(l){void 0!==l&&parseFloat(l)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(n)){let l;const d=a[2];switch(a[1]){case"rgb":case"rgba":if(l=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return s(l[4]),this.setRGB(Math.min(255,parseInt(l[1],10))/255,Math.min(255,parseInt(l[2],10))/255,Math.min(255,parseInt(l[3],10))/255,i);if(l=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return s(l[4]),this.setRGB(Math.min(100,parseInt(l[1],10))/100,Math.min(100,parseInt(l[2],10))/100,Math.min(100,parseInt(l[3],10))/100,i);break;case"hsl":case"hsla":if(l=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return s(l[4]),this.setHSL(parseFloat(l[1])/360,parseFloat(l[2])/100,parseFloat(l[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+n)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(n)){const l=a[1],c=l.length;if(3===c)return this.setRGB(parseInt(l.charAt(0),16)/15,parseInt(l.charAt(1),16)/15,parseInt(l.charAt(2),16)/15,i);if(6===c)return this.setHex(parseInt(l,16),i);console.warn("THREE.Color: Invalid hex color "+n)}else if(n&&n.length>0)return this.setColorName(n,i);return this}setColorName(n,i=ji){const s=SK[n.toLowerCase()];return void 0!==s?this.setHex(s,i):console.warn("THREE.Color: Unknown color "+n),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(n){return this.r=n.r,this.g=n.g,this.b=n.b,this}copySRGBToLinear(n){return this.r=Fg(n.r),this.g=Fg(n.g),this.b=Fg(n.b),this}copyLinearToSRGB(n){return this.r=iN(n.r),this.g=iN(n.g),this.b=iN(n.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(n=ji){return jn.fromWorkingColorSpace(io.copy(this),n),65536*Math.round(Or(255*io.r,0,255))+256*Math.round(Or(255*io.g,0,255))+Math.round(Or(255*io.b,0,255))}getHexString(n=ji){return("000000"+this.getHex(n).toString(16)).slice(-6)}getHSL(n,i=jn.workingColorSpace){jn.fromWorkingColorSpace(io.copy(this),i);const s=io.r,a=io.g,l=io.b,c=Math.max(s,a,l),d=Math.min(s,a,l);let u,h;const f=(d+c)/2;if(d===c)u=0,h=0;else{const p=c-d;switch(h=f<=.5?p/(c+d):p/(2-c-d),c){case s:u=(a-l)/p+(a<l?6:0);break;case a:u=(l-s)/p+2;break;case l:u=(s-a)/p+4}u/=6}return n.h=u,n.s=h,n.l=f,n}getRGB(n,i=jn.workingColorSpace){return jn.fromWorkingColorSpace(io.copy(this),i),n.r=io.r,n.g=io.g,n.b=io.b,n}getStyle(n=ji){jn.fromWorkingColorSpace(io.copy(this),n);const i=io.r,s=io.g,a=io.b;return n!==ji?`color(${n} ${i.toFixed(3)} ${s.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(255*i)},${Math.round(255*s)},${Math.round(255*a)})`}offsetHSL(n,i,s){return this.getHSL(Nu),this.setHSL(Nu.h+n,Nu.s+i,Nu.l+s)}add(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this}addColors(n,i){return this.r=n.r+i.r,this.g=n.g+i.g,this.b=n.b+i.b,this}addScalar(n){return this.r+=n,this.g+=n,this.b+=n,this}sub(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this}multiply(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this}multiplyScalar(n){return this.r*=n,this.g*=n,this.b*=n,this}lerp(n,i){return this.r+=(n.r-this.r)*i,this.g+=(n.g-this.g)*i,this.b+=(n.b-this.b)*i,this}lerpColors(n,i,s){return this.r=n.r+(i.r-n.r)*s,this.g=n.g+(i.g-n.g)*s,this.b=n.b+(i.b-n.b)*s,this}lerpHSL(n,i){this.getHSL(Nu),n.getHSL(OM);const s=iA(Nu.h,OM.h,i),a=iA(Nu.s,OM.s,i),l=iA(Nu.l,OM.l,i);return this.setHSL(s,a,l),this}setFromVector3(n){return this.r=n.x,this.g=n.y,this.b=n.z,this}applyMatrix3(n){const i=this.r,s=this.g,a=this.b,l=n.elements;return this.r=l[0]*i+l[3]*s+l[6]*a,this.g=l[1]*i+l[4]*s+l[7]*a,this.b=l[2]*i+l[5]*s+l[8]*a,this}equals(n){return n.r===this.r&&n.g===this.g&&n.b===this.b}fromArray(n,i=0){return this.r=n[i],this.g=n[i+1],this.b=n[i+2],this}toArray(n=[],i=0){return n[i]=this.r,n[i+1]=this.g,n[i+2]=this.b,n}fromBufferAttribute(n,i){return this.r=n.getX(i),this.g=n.getY(i),this.b=n.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const io=new Be;Be.NAMES=SK;let HVe=0;class bs extends Ma{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:HVe++}),this.uuid=Sa(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Be(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rg,this.stencilZFail=Rg,this.stencilZPass=Rg,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(n){this._alphaTest>0!=n>0&&this.version++,this._alphaTest=n}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(n){if(void 0!==n)for(const i in n){const s=n[i];if(void 0===s){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const a=this[i];void 0!==a?a&&a.isColor?a.set(s):a&&a.isVector3&&s&&s.isVector3?a.copy(s):this[i]=s:console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`)}}toJSON(n){const i=void 0===n||"string"==typeof n;i&&(n={textures:{},images:{}});const s={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function a(l){const c=[];for(const d in l){const u=l[d];delete u.metadata,c.push(u)}return c}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),this.color&&this.color.isColor&&(s.color=this.color.getHex()),void 0!==this.roughness&&(s.roughness=this.roughness),void 0!==this.metalness&&(s.metalness=this.metalness),void 0!==this.sheen&&(s.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(s.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(s.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(s.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(s.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(s.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(s.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(s.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(s.shininess=this.shininess),void 0!==this.clearcoat&&(s.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(s.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(s.clearcoatMap=this.clearcoatMap.toJSON(n).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(s.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(n).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(s.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(n).uuid,s.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(s.dispersion=this.dispersion),void 0!==this.iridescence&&(s.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(s.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(s.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(s.iridescenceMap=this.iridescenceMap.toJSON(n).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(s.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(n).uuid),void 0!==this.anisotropy&&(s.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(s.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(s.anisotropyMap=this.anisotropyMap.toJSON(n).uuid),this.map&&this.map.isTexture&&(s.map=this.map.toJSON(n).uuid),this.matcap&&this.matcap.isTexture&&(s.matcap=this.matcap.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(s.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(s.lightMap=this.lightMap.toJSON(n).uuid,s.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(s.aoMap=this.aoMap.toJSON(n).uuid,s.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(s.bumpMap=this.bumpMap.toJSON(n).uuid,s.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(s.normalMap=this.normalMap.toJSON(n).uuid,s.normalMapType=this.normalMapType,s.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(s.displacementMap=this.displacementMap.toJSON(n).uuid,s.displacementScale=this.displacementScale,s.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(s.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(s.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(s.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(s.specularMap=this.specularMap.toJSON(n).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(s.specularIntensityMap=this.specularIntensityMap.toJSON(n).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(s.specularColorMap=this.specularColorMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(s.envMap=this.envMap.toJSON(n).uuid,void 0!==this.combine&&(s.combine=this.combine)),void 0!==this.envMapRotation&&(s.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(s.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(s.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(s.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(s.gradientMap=this.gradientMap.toJSON(n).uuid),void 0!==this.transmission&&(s.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(s.transmissionMap=this.transmissionMap.toJSON(n).uuid),void 0!==this.thickness&&(s.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(s.thicknessMap=this.thicknessMap.toJSON(n).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(s.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(s.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(s.size=this.size),null!==this.shadowSide&&(s.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(s.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(s.blending=this.blending),0!==this.side&&(s.side=this.side),!0===this.vertexColors&&(s.vertexColors=!0),this.opacity<1&&(s.opacity=this.opacity),!0===this.transparent&&(s.transparent=!0),204!==this.blendSrc&&(s.blendSrc=this.blendSrc),205!==this.blendDst&&(s.blendDst=this.blendDst),100!==this.blendEquation&&(s.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(s.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(s.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(s.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(s.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(s.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(s.depthFunc=this.depthFunc),!1===this.depthTest&&(s.depthTest=this.depthTest),!1===this.depthWrite&&(s.depthWrite=this.depthWrite),!1===this.colorWrite&&(s.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(s.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(s.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(s.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(s.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Rg&&(s.stencilFail=this.stencilFail),this.stencilZFail!==Rg&&(s.stencilZFail=this.stencilZFail),this.stencilZPass!==Rg&&(s.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(s.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(s.rotation=this.rotation),!0===this.polygonOffset&&(s.polygonOffset=!0),0!==this.polygonOffsetFactor&&(s.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(s.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(s.linewidth=this.linewidth),void 0!==this.dashSize&&(s.dashSize=this.dashSize),void 0!==this.gapSize&&(s.gapSize=this.gapSize),void 0!==this.scale&&(s.scale=this.scale),!0===this.dithering&&(s.dithering=!0),this.alphaTest>0&&(s.alphaTest=this.alphaTest),!0===this.alphaHash&&(s.alphaHash=!0),!0===this.alphaToCoverage&&(s.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(s.premultipliedAlpha=!0),!0===this.forceSinglePass&&(s.forceSinglePass=!0),!0===this.wireframe&&(s.wireframe=!0),this.wireframeLinewidth>1&&(s.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(s.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(s.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(s.flatShading=!0),!1===this.visible&&(s.visible=!1),!1===this.toneMapped&&(s.toneMapped=!1),!1===this.fog&&(s.fog=!1),Object.keys(this.userData).length>0&&(s.userData=this.userData),i){const l=a(n.textures),c=a(n.images);l.length>0&&(s.textures=l),c.length>0&&(s.images=c)}return s}clone(){return(new this.constructor).copy(this)}copy(n){this.name=n.name,this.blending=n.blending,this.side=n.side,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.blendColor.copy(n.blendColor),this.blendAlpha=n.blendAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.stencilWriteMask=n.stencilWriteMask,this.stencilFunc=n.stencilFunc,this.stencilRef=n.stencilRef,this.stencilFuncMask=n.stencilFuncMask,this.stencilFail=n.stencilFail,this.stencilZFail=n.stencilZFail,this.stencilZPass=n.stencilZPass,this.stencilWrite=n.stencilWrite;const i=n.clippingPlanes;let s=null;if(null!==i){const a=i.length;s=new Array(a);for(let l=0;l!==a;++l)s[l]=i[l].clone()}return this.clippingPlanes=s,this.clipIntersection=n.clipIntersection,this.clipShadows=n.clipShadows,this.shadowSide=n.shadowSide,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.alphaHash=n.alphaHash,this.alphaToCoverage=n.alphaToCoverage,this.premultipliedAlpha=n.premultipliedAlpha,this.forceSinglePass=n.forceSinglePass,this.visible=n.visible,this.toneMapped=n.toneMapped,this.userData=JSON.parse(JSON.stringify(n.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(n){!0===n&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Gs extends bs{constructor(n){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Be(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ml,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapRotation.copy(n.envMapRotation),this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.fog=n.fog,this}}const Md=GVe();function GVe(){const r=new ArrayBuffer(4),n=new Float32Array(r),i=new Uint32Array(r),s=new Uint32Array(512),a=new Uint32Array(512);for(let u=0;u<256;++u){const h=u-127;h<-27?(s[u]=0,s[256|u]=32768,a[u]=24,a[256|u]=24):h<-14?(s[u]=1024>>-h-14,s[256|u]=1024>>-h-14|32768,a[u]=-h-1,a[256|u]=-h-1):h<=15?(s[u]=h+15<<10,s[256|u]=h+15<<10|32768,a[u]=13,a[256|u]=13):h<128?(s[u]=31744,s[256|u]=64512,a[u]=24,a[256|u]=24):(s[u]=31744,s[256|u]=64512,a[u]=13,a[256|u]=13)}const l=new Uint32Array(2048),c=new Uint32Array(64),d=new Uint32Array(64);for(let u=1;u<1024;++u){let h=u<<13,f=0;for(;!(8388608&h);)h<<=1,f-=8388608;h&=-8388609,f+=947912704,l[u]=h|f}for(let u=1024;u<2048;++u)l[u]=939524096+(u-1024<<13);for(let u=1;u<31;++u)c[u]=u<<23;c[31]=1199570944,c[32]=2147483648;for(let u=33;u<63;++u)c[u]=2147483648+(u-32<<23);c[63]=3347054592;for(let u=1;u<64;++u)32!==u&&(d[u]=1024);return{floatView:n,uint32View:i,baseTable:s,shiftTable:a,mantissaTable:l,exponentTable:c,offsetTable:d}}const NM={toHalfFloat:function la(r){Math.abs(r)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),r=Or(r,-65504,65504),Md.floatView[0]=r;const n=Md.uint32View[0],i=n>>23&511;return Md.baseTable[i]+((8388607&n)>>Md.shiftTable[i])},fromHalfFloat:function dA(r){const n=r>>10;return Md.uint32View[0]=Md.mantissaTable[Md.offsetTable[n]+(1023&r)]+Md.exponentTable[n],Md.floatView[0]}},rs=new N,BM=new ve;class kn{constructor(n,i,s=!1){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=n,this.itemSize=i,this.count=void 0!==n?n.length/i:0,this.normalized=s,this.usage=35044,this.updateRanges=[],this.gpuType=Er,this.version=0}onUploadCallback(){}set needsUpdate(n){!0===n&&this.version++}setUsage(n){return this.usage=n,this}addUpdateRange(n,i){this.updateRanges.push({start:n,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(n){return this.name=n.name,this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.usage=n.usage,this.gpuType=n.gpuType,this}copyAt(n,i,s){n*=this.itemSize,s*=i.itemSize;for(let a=0,l=this.itemSize;a<l;a++)this.array[n+a]=i.array[s+a];return this}copyArray(n){return this.array.set(n),this}applyMatrix3(n){if(2===this.itemSize)for(let i=0,s=this.count;i<s;i++)BM.fromBufferAttribute(this,i),BM.applyMatrix3(n),this.setXY(i,BM.x,BM.y);else if(3===this.itemSize)for(let i=0,s=this.count;i<s;i++)rs.fromBufferAttribute(this,i),rs.applyMatrix3(n),this.setXYZ(i,rs.x,rs.y,rs.z);return this}applyMatrix4(n){for(let i=0,s=this.count;i<s;i++)rs.fromBufferAttribute(this,i),rs.applyMatrix4(n),this.setXYZ(i,rs.x,rs.y,rs.z);return this}applyNormalMatrix(n){for(let i=0,s=this.count;i<s;i++)rs.fromBufferAttribute(this,i),rs.applyNormalMatrix(n),this.setXYZ(i,rs.x,rs.y,rs.z);return this}transformDirection(n){for(let i=0,s=this.count;i<s;i++)rs.fromBufferAttribute(this,i),rs.transformDirection(n),this.setXYZ(i,rs.x,rs.y,rs.z);return this}set(n,i=0){return this.array.set(n,i),this}getComponent(n,i){let s=this.array[n*this.itemSize+i];return this.normalized&&(s=Bo(s,this.array)),s}setComponent(n,i,s){return this.normalized&&(s=yn(s,this.array)),this.array[n*this.itemSize+i]=s,this}getX(n){let i=this.array[n*this.itemSize];return this.normalized&&(i=Bo(i,this.array)),i}setX(n,i){return this.normalized&&(i=yn(i,this.array)),this.array[n*this.itemSize]=i,this}getY(n){let i=this.array[n*this.itemSize+1];return this.normalized&&(i=Bo(i,this.array)),i}setY(n,i){return this.normalized&&(i=yn(i,this.array)),this.array[n*this.itemSize+1]=i,this}getZ(n){let i=this.array[n*this.itemSize+2];return this.normalized&&(i=Bo(i,this.array)),i}setZ(n,i){return this.normalized&&(i=yn(i,this.array)),this.array[n*this.itemSize+2]=i,this}getW(n){let i=this.array[n*this.itemSize+3];return this.normalized&&(i=Bo(i,this.array)),i}setW(n,i){return this.normalized&&(i=yn(i,this.array)),this.array[n*this.itemSize+3]=i,this}setXY(n,i,s){return n*=this.itemSize,this.normalized&&(i=yn(i,this.array),s=yn(s,this.array)),this.array[n+0]=i,this.array[n+1]=s,this}setXYZ(n,i,s,a){return n*=this.itemSize,this.normalized&&(i=yn(i,this.array),s=yn(s,this.array),a=yn(a,this.array)),this.array[n+0]=i,this.array[n+1]=s,this.array[n+2]=a,this}setXYZW(n,i,s,a,l){return n*=this.itemSize,this.normalized&&(i=yn(i,this.array),s=yn(s,this.array),a=yn(a,this.array),l=yn(l,this.array)),this.array[n+0]=i,this.array[n+1]=s,this.array[n+2]=a,this.array[n+3]=l,this}onUpload(n){return this.onUploadCallback=n,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const n={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(n.name=this.name),35044!==this.usage&&(n.usage=this.usage),n}}class IK extends kn{constructor(n,i,s){super(new Uint16Array(n),i,s)}}class TK extends kn{constructor(n,i,s){super(new Uint32Array(n),i,s)}}class bt extends kn{constructor(n,i,s){super(new Float32Array(n),i,s)}}let $Ve=0;const Ka=new vt,wN=new di,$g=new N,Ta=new jr,uA=new jr,Ps=new N;class pn extends Ma{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:$Ve++}),this.uuid=Sa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(n){return this.index=Array.isArray(n)?new(pK(n)?TK:IK)(n,1):n,this}getAttribute(n){return this.attributes[n]}setAttribute(n,i){return this.attributes[n]=i,this}deleteAttribute(n){return delete this.attributes[n],this}hasAttribute(n){return void 0!==this.attributes[n]}addGroup(n,i,s=0){this.groups.push({start:n,count:i,materialIndex:s})}clearGroups(){this.groups=[]}setDrawRange(n,i){this.drawRange.start=n,this.drawRange.count=i}applyMatrix4(n){const i=this.attributes.position;void 0!==i&&(i.applyMatrix4(n),i.needsUpdate=!0);const s=this.attributes.normal;if(void 0!==s){const l=(new fn).getNormalMatrix(n);s.applyNormalMatrix(l),s.needsUpdate=!0}const a=this.attributes.tangent;return void 0!==a&&(a.transformDirection(n),a.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(n){return Ka.makeRotationFromQuaternion(n),this.applyMatrix4(Ka),this}rotateX(n){return Ka.makeRotationX(n),this.applyMatrix4(Ka),this}rotateY(n){return Ka.makeRotationY(n),this.applyMatrix4(Ka),this}rotateZ(n){return Ka.makeRotationZ(n),this.applyMatrix4(Ka),this}translate(n,i,s){return Ka.makeTranslation(n,i,s),this.applyMatrix4(Ka),this}scale(n,i,s){return Ka.makeScale(n,i,s),this.applyMatrix4(Ka),this}lookAt(n){return wN.lookAt(n),wN.updateMatrix(),this.applyMatrix4(wN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter($g).negate(),this.translate($g.x,$g.y,$g.z),this}setFromPoints(n){const i=[];for(let s=0,a=n.length;s<a;s++){const l=n[s];i.push(l.x,l.y,l.z||0)}return this.setAttribute("position",new bt(i,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new jr);const n=this.attributes.position,i=this.morphAttributes.position;if(n&&n.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new N(-1/0,-1/0,-1/0),new N(1/0,1/0,1/0));if(void 0!==n){if(this.boundingBox.setFromBufferAttribute(n),i)for(let s=0,a=i.length;s<a;s++)Ta.setFromBufferAttribute(i[s]),this.morphTargetsRelative?(Ps.addVectors(this.boundingBox.min,Ta.min),this.boundingBox.expandByPoint(Ps),Ps.addVectors(this.boundingBox.max,Ta.max),this.boundingBox.expandByPoint(Ps)):(this.boundingBox.expandByPoint(Ta.min),this.boundingBox.expandByPoint(Ta.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ks);const n=this.attributes.position,i=this.morphAttributes.position;if(n&&n.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new N,1/0);if(n){const s=this.boundingSphere.center;if(Ta.setFromBufferAttribute(n),i)for(let l=0,c=i.length;l<c;l++)uA.setFromBufferAttribute(i[l]),this.morphTargetsRelative?(Ps.addVectors(Ta.min,uA.min),Ta.expandByPoint(Ps),Ps.addVectors(Ta.max,uA.max),Ta.expandByPoint(Ps)):(Ta.expandByPoint(uA.min),Ta.expandByPoint(uA.max));Ta.getCenter(s);let a=0;for(let l=0,c=n.count;l<c;l++)Ps.fromBufferAttribute(n,l),a=Math.max(a,s.distanceToSquared(Ps));if(i)for(let l=0,c=i.length;l<c;l++){const d=i[l],u=this.morphTargetsRelative;for(let h=0,f=d.count;h<f;h++)Ps.fromBufferAttribute(d,h),u&&($g.fromBufferAttribute(n,h),Ps.add($g)),a=Math.max(a,s.distanceToSquared(Ps))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const n=this.index,i=this.attributes;if(null===n||void 0===i.position||void 0===i.normal||void 0===i.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const s=i.position,a=i.normal,l=i.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new kn(new Float32Array(4*s.count),4));const c=this.getAttribute("tangent"),d=[],u=[];for(let T=0;T<s.count;T++)d[T]=new N,u[T]=new N;const h=new N,f=new N,p=new N,g=new ve,m=new ve,_=new ve,v=new N,y=new N;function b(T,P,C){h.fromBufferAttribute(s,T),f.fromBufferAttribute(s,P),p.fromBufferAttribute(s,C),g.fromBufferAttribute(l,T),m.fromBufferAttribute(l,P),_.fromBufferAttribute(l,C),f.sub(h),p.sub(h),m.sub(g),_.sub(g);const I=1/(m.x*_.y-_.x*m.y);isFinite(I)&&(v.copy(f).multiplyScalar(_.y).addScaledVector(p,-m.y).multiplyScalar(I),y.copy(p).multiplyScalar(m.x).addScaledVector(f,-_.x).multiplyScalar(I),d[T].add(v),d[P].add(v),d[C].add(v),u[T].add(y),u[P].add(y),u[C].add(y))}let A=this.groups;0===A.length&&(A=[{start:0,count:n.count}]);for(let T=0,P=A.length;T<P;++T){const C=A[T],I=C.start;for(let O=I,z=I+C.count;O<z;O+=3)b(n.getX(O+0),n.getX(O+1),n.getX(O+2))}const x=new N,w=new N,E=new N,M=new N;function S(T){E.fromBufferAttribute(a,T),M.copy(E);const P=d[T];x.copy(P),x.sub(E.multiplyScalar(E.dot(P))).normalize(),w.crossVectors(M,P);const I=w.dot(u[T])<0?-1:1;c.setXYZW(T,x.x,x.y,x.z,I)}for(let T=0,P=A.length;T<P;++T){const C=A[T],I=C.start;for(let O=I,z=I+C.count;O<z;O+=3)S(n.getX(O+0)),S(n.getX(O+1)),S(n.getX(O+2))}}computeVertexNormals(){const n=this.index,i=this.getAttribute("position");if(void 0!==i){let s=this.getAttribute("normal");if(void 0===s)s=new kn(new Float32Array(3*i.count),3),this.setAttribute("normal",s);else for(let g=0,m=s.count;g<m;g++)s.setXYZ(g,0,0,0);const a=new N,l=new N,c=new N,d=new N,u=new N,h=new N,f=new N,p=new N;if(n)for(let g=0,m=n.count;g<m;g+=3){const _=n.getX(g+0),v=n.getX(g+1),y=n.getX(g+2);a.fromBufferAttribute(i,_),l.fromBufferAttribute(i,v),c.fromBufferAttribute(i,y),f.subVectors(c,l),p.subVectors(a,l),f.cross(p),d.fromBufferAttribute(s,_),u.fromBufferAttribute(s,v),h.fromBufferAttribute(s,y),d.add(f),u.add(f),h.add(f),s.setXYZ(_,d.x,d.y,d.z),s.setXYZ(v,u.x,u.y,u.z),s.setXYZ(y,h.x,h.y,h.z)}else for(let g=0,m=i.count;g<m;g+=3)a.fromBufferAttribute(i,g+0),l.fromBufferAttribute(i,g+1),c.fromBufferAttribute(i,g+2),f.subVectors(c,l),p.subVectors(a,l),f.cross(p),s.setXYZ(g+0,f.x,f.y,f.z),s.setXYZ(g+1,f.x,f.y,f.z),s.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),s.needsUpdate=!0}}normalizeNormals(){const n=this.attributes.normal;for(let i=0,s=n.count;i<s;i++)Ps.fromBufferAttribute(n,i),Ps.normalize(),n.setXYZ(i,Ps.x,Ps.y,Ps.z)}toNonIndexed(){function n(d,u){const h=d.array,f=d.itemSize,p=d.normalized,g=new h.constructor(u.length*f);let m=0,_=0;for(let v=0,y=u.length;v<y;v++){m=d.isInterleavedBufferAttribute?u[v]*d.data.stride+d.offset:u[v]*f;for(let b=0;b<f;b++)g[_++]=h[m++]}return new kn(g,f,p)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new pn,s=this.index.array,a=this.attributes;for(const d in a){const h=n(a[d],s);i.setAttribute(d,h)}const l=this.morphAttributes;for(const d in l){const u=[],h=l[d];for(let f=0,p=h.length;f<p;f++){const m=n(h[f],s);u.push(m)}i.morphAttributes[d]=u}i.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let d=0,u=c.length;d<u;d++){const h=c[d];i.addGroup(h.start,h.count,h.materialIndex)}return i}toJSON(){const n={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),Object.keys(this.userData).length>0&&(n.userData=this.userData),void 0!==this.parameters){const u=this.parameters;for(const h in u)void 0!==u[h]&&(n[h]=u[h]);return n}n.data={attributes:{}};const i=this.index;null!==i&&(n.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const s=this.attributes;for(const u in s)n.data.attributes[u]=s[u].toJSON(n.data);const a={};let l=!1;for(const u in this.morphAttributes){const h=this.morphAttributes[u],f=[];for(let p=0,g=h.length;p<g;p++)f.push(h[p].toJSON(n.data));f.length>0&&(a[u]=f,l=!0)}l&&(n.data.morphAttributes=a,n.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(n.data.groups=JSON.parse(JSON.stringify(c)));const d=this.boundingSphere;return null!==d&&(n.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),n}clone(){return(new this.constructor).copy(this)}copy(n){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=n.name;const s=n.index;null!==s&&this.setIndex(s.clone(i));const a=n.attributes;for(const h in a)this.setAttribute(h,a[h].clone(i));const l=n.morphAttributes;for(const h in l){const f=[],p=l[h];for(let g=0,m=p.length;g<m;g++)f.push(p[g].clone(i));this.morphAttributes[h]=f}this.morphTargetsRelative=n.morphTargetsRelative;const c=n.groups;for(let h=0,f=c.length;h<f;h++){const p=c[h];this.addGroup(p.start,p.count,p.materialIndex)}const d=n.boundingBox;null!==d&&(this.boundingBox=d.clone());const u=n.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this.userData=n.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const DK=new vt,Tf=new lA,LM=new ks,RK=new N,UM=new N,zM=new N,VM=new N,CN=new N,HM=new N,kK=new N,GM=new N;class Vn extends di{constructor(n=new pn,i=new Gs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=n,this.material=i,this.updateMorphTargets()}copy(n,i){return super.copy(n,i),void 0!==n.morphTargetInfluences&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),void 0!==n.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const a=i[s[0]];if(void 0!==a){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=a.length;l<c;l++){const d=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}getVertexPosition(n,i){const s=this.geometry,l=s.morphAttributes.position,c=s.morphTargetsRelative;i.fromBufferAttribute(s.attributes.position,n);const d=this.morphTargetInfluences;if(l&&d){HM.set(0,0,0);for(let u=0,h=l.length;u<h;u++){const f=d[u];0!==f&&(CN.fromBufferAttribute(l[u],n),HM.addScaledVector(c?CN:CN.sub(i),f))}i.add(HM)}return i}raycast(n,i){const s=this.geometry,l=this.matrixWorld;void 0!==this.material&&(null===s.boundingSphere&&s.computeBoundingSphere(),LM.copy(s.boundingSphere),LM.applyMatrix4(l),Tf.copy(n.ray).recast(n.near),(!1!==LM.containsPoint(Tf.origin)||!(null===Tf.intersectSphere(LM,RK)||Tf.origin.distanceToSquared(RK)>(n.far-n.near)**2))&&(DK.copy(l).invert(),Tf.copy(n.ray).applyMatrix4(DK),(null===s.boundingBox||!1!==Tf.intersectsBox(s.boundingBox))&&this._computeIntersections(n,i,Tf)))}_computeIntersections(n,i,s){let a;const l=this.geometry,c=this.material,d=l.index,u=l.attributes.position,h=l.attributes.uv,f=l.attributes.uv1,p=l.attributes.normal,g=l.groups,m=l.drawRange;if(null!==d)if(Array.isArray(c))for(let _=0,v=g.length;_<v;_++){const y=g[_],b=c[y.materialIndex];for(let w=Math.max(y.start,m.start),E=Math.min(d.count,Math.min(y.start+y.count,m.start+m.count));w<E;w+=3)a=$M(this,b,n,s,h,f,p,d.getX(w),d.getX(w+1),d.getX(w+2)),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=y.materialIndex,i.push(a))}else for(let y=Math.max(0,m.start),b=Math.min(d.count,m.start+m.count);y<b;y+=3)a=$M(this,c,n,s,h,f,p,d.getX(y),d.getX(y+1),d.getX(y+2)),a&&(a.faceIndex=Math.floor(y/3),i.push(a));else if(void 0!==u)if(Array.isArray(c))for(let _=0,v=g.length;_<v;_++){const y=g[_],b=c[y.materialIndex];for(let w=Math.max(y.start,m.start),E=Math.min(u.count,Math.min(y.start+y.count,m.start+m.count));w<E;w+=3)a=$M(this,b,n,s,h,f,p,w,w+1,w+2),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=y.materialIndex,i.push(a))}else for(let y=Math.max(0,m.start),b=Math.min(u.count,m.start+m.count);y<b;y+=3)a=$M(this,c,n,s,h,f,p,y,y+1,y+2),a&&(a.faceIndex=Math.floor(y/3),i.push(a))}}function $M(r,n,i,s,a,l,c,d,u,h){r.getVertexPosition(d,UM),r.getVertexPosition(u,zM),r.getVertexPosition(h,VM);const f=function QVe(r,n,i,s,a,l,c,d){let u;if(u=1===n.side?s.intersectTriangle(c,l,a,!0,d):s.intersectTriangle(a,l,c,0===n.side,d),null===u)return null;GM.copy(d),GM.applyMatrix4(r.matrixWorld);const h=i.ray.origin.distanceTo(GM);return h<i.near||h>i.far?null:{distance:h,point:GM.clone(),object:r}}(r,n,i,s,UM,zM,VM,kK);if(f){const p=new N;Uo.getBarycoord(kK,UM,zM,VM,p),a&&(f.uv=Uo.getInterpolatedAttribute(a,d,u,h,p,new ve)),l&&(f.uv1=Uo.getInterpolatedAttribute(l,d,u,h,p,new ve)),c&&(f.normal=Uo.getInterpolatedAttribute(c,d,u,h,p,new N),f.normal.dot(s.direction)>0&&f.normal.multiplyScalar(-1));const g={a:d,b:u,c:h,normal:new N,materialIndex:0};Uo.getNormal(UM,zM,VM,g.normal),f.face=g,f.barycoord=p}return f}class bc extends pn{constructor(n=1,i=1,s=1,a=1,l=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:n,height:i,depth:s,widthSegments:a,heightSegments:l,depthSegments:c};const d=this;a=Math.floor(a),l=Math.floor(l),c=Math.floor(c);const u=[],h=[],f=[],p=[];let g=0,m=0;function _(v,y,b,A,x,w,E,M,S,T,P){const C=w/S,I=E/T,k=w/2,O=E/2,z=M/2,q=S+1,R=T+1;let V=0,U=0;const X=new N;for(let ae=0;ae<R;ae++){const fe=ae*I-O;for(let Pe=0;Pe<q;Pe++)X[v]=(Pe*C-k)*A,X[y]=fe*x,X[b]=z,h.push(X.x,X.y,X.z),X[v]=0,X[y]=0,X[b]=M>0?1:-1,f.push(X.x,X.y,X.z),p.push(Pe/S),p.push(1-ae/T),V+=1}for(let ae=0;ae<T;ae++)for(let fe=0;fe<S;fe++){const Ve=g+fe+q*(ae+1),ie=g+(fe+1)+q*(ae+1),pe=g+(fe+1)+q*ae;u.push(g+fe+q*ae,Ve,pe),u.push(Ve,ie,pe),U+=6}d.addGroup(m,U,P),m+=U,g+=V}_("z","y","x",-1,-1,s,i,n,c,l,0),_("z","y","x",1,-1,s,i,-n,c,l,1),_("x","z","y",1,1,n,s,i,a,c,2),_("x","z","y",1,-1,n,s,-i,a,c,3),_("x","y","z",1,-1,n,i,s,a,l,4),_("x","y","z",-1,-1,n,i,-s,a,l,5),this.setIndex(u),this.setAttribute("position",new bt(h,3)),this.setAttribute("normal",new bt(f,3)),this.setAttribute("uv",new bt(p,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new bc(n.width,n.height,n.depth,n.widthSegments,n.heightSegments,n.depthSegments)}}function Qg(r){const n={};for(const i in r){n[i]={};for(const s in r[i]){const a=r[i][s];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),n[i][s]=null):n[i][s]=a.clone():n[i][s]=Array.isArray(a)?a.slice():a}}return n}function zo(r){const n={};for(let i=0;i<r.length;i++){const s=Qg(r[i]);for(const a in s)n[a]=s[a]}return n}function PK(r){const n=r.getRenderTarget();return null===n?r.outputColorSpace:!0===n.isXRRenderTarget?n.texture.colorSpace:jn.workingColorSpace}const WVe={clone:Qg,merge:zo};class ro extends bs{constructor(n){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==n&&this.setValues(n)}copy(n){return super.copy(n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=Qg(n.uniforms),this.uniformsGroups=function jVe(r){const n=[];for(let i=0;i<r.length;i++)n.push(r[i].clone());return n}(n.uniformsGroups),this.defines=Object.assign({},n.defines),this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.fog=n.fog,this.lights=n.lights,this.clipping=n.clipping,this.extensions=Object.assign({},n.extensions),this.glslVersion=n.glslVersion,this}toJSON(n){const i=super.toJSON(n);i.glslVersion=this.glslVersion,i.uniforms={};for(const a in this.uniforms){const c=this.uniforms[a].value;i.uniforms[a]=c&&c.isTexture?{type:"t",value:c.toJSON(n).uuid}:c&&c.isColor?{type:"c",value:c.getHex()}:c&&c.isVector2?{type:"v2",value:c.toArray()}:c&&c.isVector3?{type:"v3",value:c.toArray()}:c&&c.isVector4?{type:"v4",value:c.toArray()}:c&&c.isMatrix3?{type:"m3",value:c.toArray()}:c&&c.isMatrix4?{type:"m4",value:c.toArray()}:{value:c}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;const s={};for(const a in this.extensions)!0===this.extensions[a]&&(s[a]=!0);return Object.keys(s).length>0&&(i.extensions=s),i}}class EN extends di{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt,this.coordinateSystem=bd}copy(n,i){return super.copy(n,i),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this.projectionMatrixInverse.copy(n.projectionMatrixInverse),this.coordinateSystem=n.coordinateSystem,this}getWorldDirection(n){return super.getWorldDirection(n).negate()}updateMatrixWorld(n){super.updateMatrixWorld(n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(n,i){super.updateWorldMatrix(n,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Bu=new N,FK=new ve,OK=new ve;class Wr extends EN{constructor(n=50,i=1,s=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=n,this.zoom=1,this.near=s,this.far=a,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(n,i){return super.copy(n,i),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=null===n.view?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this}setFocalLength(n){const i=.5*this.getFilmHeight()/n;this.fov=2*kg*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const n=Math.tan(.5*Ef*this.fov);return.5*this.getFilmHeight()/n}getEffectiveFOV(){return 2*kg*Math.atan(Math.tan(.5*Ef*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(n,i,s){Bu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Bu.x,Bu.y).multiplyScalar(-n/Bu.z),Bu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),s.set(Bu.x,Bu.y).multiplyScalar(-n/Bu.z)}getViewSize(n,i){return this.getViewBounds(n,FK,OK),i.subVectors(OK,FK)}setViewOffset(n,i,s,a,l,c){this.aspect=n/i,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=a,this.view.width=l,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=this.near;let i=n*Math.tan(.5*Ef*this.fov)/this.zoom,s=2*i,a=this.aspect*s,l=-.5*a;const c=this.view;if(null!==this.view&&this.view.enabled){const u=c.fullWidth,h=c.fullHeight;l+=c.offsetX*a/u,i-=c.offsetY*s/h,a*=c.width/u,s*=c.height/h}const d=this.filmOffset;0!==d&&(l+=n*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(l,l+a,i,i-s,n,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const i=super.toJSON(n);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,null!==this.view&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}class MN extends di{constructor(n,i,s){super(),this.type="CubeCamera",this.renderTarget=s,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Wr(-90,1,n,i);a.layers=this.layers,this.add(a);const l=new Wr(-90,1,n,i);l.layers=this.layers,this.add(l);const c=new Wr(-90,1,n,i);c.layers=this.layers,this.add(c);const d=new Wr(-90,1,n,i);d.layers=this.layers,this.add(d);const u=new Wr(-90,1,n,i);u.layers=this.layers,this.add(u);const h=new Wr(-90,1,n,i);h.layers=this.layers,this.add(h)}updateCoordinateSystem(){const n=this.coordinateSystem,i=this.children.concat(),[s,a,l,c,d,u]=i;for(const h of i)this.remove(h);if(n===bd)s.up.set(0,1,0),s.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),l.up.set(0,0,-1),l.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),d.up.set(0,1,0),d.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(2001!==n)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+n);s.up.set(0,-1,0),s.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),l.up.set(0,0,1),l.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),d.up.set(0,-1,0),d.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}for(const h of i)this.add(h),h.updateMatrixWorld()}update(n,i){null===this.parent&&this.updateMatrixWorld();const{renderTarget:s,activeMipmapLevel:a}=this;this.coordinateSystem!==n.coordinateSystem&&(this.coordinateSystem=n.coordinateSystem,this.updateCoordinateSystem());const[l,c,d,u,h,f]=this.children,p=n.getRenderTarget(),g=n.getActiveCubeFace(),m=n.getActiveMipmapLevel(),_=n.xr.enabled;n.xr.enabled=!1;const v=s.texture.generateMipmaps;s.texture.generateMipmaps=!1,n.setRenderTarget(s,0,a),n.render(i,l),n.setRenderTarget(s,1,a),n.render(i,c),n.setRenderTarget(s,2,a),n.render(i,d),n.setRenderTarget(s,3,a),n.render(i,u),n.setRenderTarget(s,4,a),n.render(i,h),s.texture.generateMipmaps=v,n.setRenderTarget(s,5,a),n.render(i,f),n.setRenderTarget(p,g,m),n.xr.enabled=_,s.texture.needsPMREMUpdate=!0}}class QM extends ur{constructor(n,i,s,a,l,c,d,u,h,f){super(n=void 0!==n?n:[],i=void 0!==i?i:301,s,a,l,c,d,u,h,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(n){this.image=n}}class SN extends Lo{constructor(n=1,i={}){super(n,n,i),this.isWebGLCubeRenderTarget=!0;const s={width:n,height:n,depth:1};this.texture=new QM([s,s,s,s,s,s],i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:zn}fromEquirectangularTexture(n,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const s_uniforms={tEquirect:{value:null}},s_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",s_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new bc(5,5,5),l=new ro({name:"CubemapFromEquirect",uniforms:Qg(s_uniforms),vertexShader:s_vertexShader,fragmentShader:s_fragmentShader,side:1,blending:0});l.uniforms.tEquirect.value=i;const c=new Vn(a,l),d=i.minFilter;return i.minFilter===No&&(i.minFilter=zn),new MN(1,10,this).update(n,c),i.minFilter=d,c.geometry.dispose(),c.material.dispose(),this}clear(n,i,s,a){const l=n.getRenderTarget();for(let c=0;c<6;c++)n.setRenderTarget(this,c),n.clear(i,s,a);n.setRenderTarget(l)}}const IN=new N,XVe=new N,KVe=new fn;class Df{constructor(n=new N(1,0,0),i=0){this.isPlane=!0,this.normal=n,this.constant=i}set(n,i){return this.normal.copy(n),this.constant=i,this}setComponents(n,i,s,a){return this.normal.set(n,i,s),this.constant=a,this}setFromNormalAndCoplanarPoint(n,i){return this.normal.copy(n),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(n,i,s){const a=IN.subVectors(s,i).cross(XVe.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}copy(n){return this.normal.copy(n.normal),this.constant=n.constant,this}normalize(){const n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(n){return this.normal.dot(n)+this.constant}distanceToSphere(n){return this.distanceToPoint(n.center)-n.radius}projectPoint(n,i){return i.copy(n).addScaledVector(this.normal,-this.distanceToPoint(n))}intersectLine(n,i){const s=n.delta(IN),a=this.normal.dot(s);if(0===a)return 0===this.distanceToPoint(n.start)?i.copy(n.start):null;const l=-(n.start.dot(this.normal)+this.constant)/a;return l<0||l>1?null:i.copy(n.start).addScaledVector(s,l)}intersectsLine(n){const i=this.distanceToPoint(n.start),s=this.distanceToPoint(n.end);return i<0&&s>0||s<0&&i>0}intersectsBox(n){return n.intersectsPlane(this)}intersectsSphere(n){return n.intersectsPlane(this)}coplanarPoint(n){return n.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(n,i){const s=i||KVe.getNormalMatrix(n),a=this.coplanarPoint(IN).applyMatrix4(n),l=this.normal.applyMatrix3(s).normalize();return this.constant=-a.dot(l),this}translate(n){return this.constant-=n.dot(this.normal),this}equals(n){return n.normal.equals(this.normal)&&n.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Rf=new ks,jM=new N;class WM{constructor(n=new Df,i=new Df,s=new Df,a=new Df,l=new Df,c=new Df){this.planes=[n,i,s,a,l,c]}set(n,i,s,a,l,c){const d=this.planes;return d[0].copy(n),d[1].copy(i),d[2].copy(s),d[3].copy(a),d[4].copy(l),d[5].copy(c),this}copy(n){const i=this.planes;for(let s=0;s<6;s++)i[s].copy(n.planes[s]);return this}setFromProjectionMatrix(n,i=bd){const s=this.planes,a=n.elements,l=a[0],c=a[1],d=a[2],u=a[3],h=a[4],f=a[5],p=a[6],g=a[7],m=a[8],_=a[9],v=a[10],y=a[11],b=a[12],A=a[13],x=a[14],w=a[15];if(s[0].setComponents(u-l,g-h,y-m,w-b).normalize(),s[1].setComponents(u+l,g+h,y+m,w+b).normalize(),s[2].setComponents(u+c,g+f,y+_,w+A).normalize(),s[3].setComponents(u-c,g-f,y-_,w-A).normalize(),s[4].setComponents(u-d,g-p,y-v,w-x).normalize(),i===bd)s[5].setComponents(u+d,g+p,y+v,w+x).normalize();else{if(2001!==i)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);s[5].setComponents(d,p,v,x).normalize()}return this}intersectsObject(n){if(void 0!==n.boundingSphere)null===n.boundingSphere&&n.computeBoundingSphere(),Rf.copy(n.boundingSphere).applyMatrix4(n.matrixWorld);else{const i=n.geometry;null===i.boundingSphere&&i.computeBoundingSphere(),Rf.copy(i.boundingSphere).applyMatrix4(n.matrixWorld)}return this.intersectsSphere(Rf)}intersectsSprite(n){return Rf.center.set(0,0,0),Rf.radius=.7071067811865476,Rf.applyMatrix4(n.matrixWorld),this.intersectsSphere(Rf)}intersectsSphere(n){const i=this.planes,s=n.center,a=-n.radius;for(let l=0;l<6;l++)if(i[l].distanceToPoint(s)<a)return!1;return!0}intersectsBox(n){const i=this.planes;for(let s=0;s<6;s++){const a=i[s];if(jM.x=a.normal.x>0?n.max.x:n.min.x,jM.y=a.normal.y>0?n.max.y:n.min.y,jM.z=a.normal.z>0?n.max.z:n.min.z,a.distanceToPoint(jM)<0)return!1}return!0}containsPoint(n){const i=this.planes;for(let s=0;s<6;s++)if(i[s].distanceToPoint(n)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function NK(){let r=null,n=!1,i=null,s=null;function a(l,c){i(l,c),s=r.requestAnimationFrame(a)}return{start:function(){!0!==n&&null!==i&&(s=r.requestAnimationFrame(a),n=!0)},stop:function(){r.cancelAnimationFrame(s),n=!1},setAnimationLoop:function(l){i=l},setContext:function(l){r=l}}}function ZVe(r){const n=new WeakMap;return{get:function a(d){return d.isInterleavedBufferAttribute&&(d=d.data),n.get(d)},remove:function l(d){d.isInterleavedBufferAttribute&&(d=d.data);const u=n.get(d);u&&(r.deleteBuffer(u.buffer),n.delete(d))},update:function c(d,u){if(d.isInterleavedBufferAttribute&&(d=d.data),d.isGLBufferAttribute){const f=n.get(d);return void((!f||f.version<d.version)&&n.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version}))}const h=n.get(d);if(void 0===h)n.set(d,function i(d,u){const h=d.array,f=d.usage,p=h.byteLength,g=r.createBuffer();let m;if(r.bindBuffer(u,g),r.bufferData(u,h,f),d.onUploadCallback(),h instanceof Float32Array)m=r.FLOAT;else if(h instanceof Uint16Array)m=d.isFloat16BufferAttribute?r.HALF_FLOAT:r.UNSIGNED_SHORT;else if(h instanceof Int16Array)m=r.SHORT;else if(h instanceof Uint32Array)m=r.UNSIGNED_INT;else if(h instanceof Int32Array)m=r.INT;else if(h instanceof Int8Array)m=r.BYTE;else if(h instanceof Uint8Array)m=r.UNSIGNED_BYTE;else{if(!(h instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);m=r.UNSIGNED_BYTE}return{buffer:g,type:m,bytesPerElement:h.BYTES_PER_ELEMENT,version:d.version,size:p}}(d,u));else if(h.version<d.version){if(h.size!==d.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function s(d,u,h){const f=u.array,p=u.updateRanges;if(r.bindBuffer(h,d),0===p.length)r.bufferSubData(h,0,f);else{p.sort((m,_)=>m.start-_.start);let g=0;for(let m=1;m<p.length;m++){const _=p[g],v=p[m];v.start<=_.start+_.count+1?_.count=Math.max(_.count,v.start+v.count-_.start):(++g,p[g]=v)}p.length=g+1;for(let m=0,_=p.length;m<_;m++){const v=p[m];r.bufferSubData(h,v.start*f.BYTES_PER_ELEMENT,f,v.start,v.count)}u.clearUpdateRanges()}u.onUploadCallback()})(h.buffer,d,u),h.version=d.version}}}}class Il extends pn{constructor(n=1,i=1,s=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:n,height:i,widthSegments:s,heightSegments:a};const l=n/2,c=i/2,d=Math.floor(s),u=Math.floor(a),h=d+1,f=u+1,p=n/d,g=i/u,m=[],_=[],v=[],y=[];for(let b=0;b<f;b++){const A=b*g-c;for(let x=0;x<h;x++)_.push(x*p-l,-A,0),v.push(0,0,1),y.push(x/d),y.push(1-b/u)}for(let b=0;b<u;b++)for(let A=0;A<d;A++){const w=A+h*(b+1),E=A+1+h*(b+1),M=A+1+h*b;m.push(A+h*b,w,M),m.push(w,E,M)}this.setIndex(m),this.setAttribute("position",new bt(_,3)),this.setAttribute("normal",new bt(v,3)),this.setAttribute("uv",new bt(y,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new Il(n.width,n.height,n.widthSegments,n.heightSegments)}}const In={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Xe={common:{diffuse:{value:new Be(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Be(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Be(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new Be(16777215)},opacity:{value:1},center:{value:new ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},Ac={basic:{uniforms:zo([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.fog]),vertexShader:In.meshbasic_vert,fragmentShader:In.meshbasic_frag},lambert:{uniforms:zo([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new Be(0)}}]),vertexShader:In.meshlambert_vert,fragmentShader:In.meshlambert_frag},phong:{uniforms:zo([Xe.common,Xe.specularmap,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,Xe.lights,{emissive:{value:new Be(0)},specular:{value:new Be(1118481)},shininess:{value:30}}]),vertexShader:In.meshphong_vert,fragmentShader:In.meshphong_frag},standard:{uniforms:zo([Xe.common,Xe.envmap,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.roughnessmap,Xe.metalnessmap,Xe.fog,Xe.lights,{emissive:{value:new Be(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:In.meshphysical_vert,fragmentShader:In.meshphysical_frag},toon:{uniforms:zo([Xe.common,Xe.aomap,Xe.lightmap,Xe.emissivemap,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.gradientmap,Xe.fog,Xe.lights,{emissive:{value:new Be(0)}}]),vertexShader:In.meshtoon_vert,fragmentShader:In.meshtoon_frag},matcap:{uniforms:zo([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,Xe.fog,{matcap:{value:null}}]),vertexShader:In.meshmatcap_vert,fragmentShader:In.meshmatcap_frag},points:{uniforms:zo([Xe.points,Xe.fog]),vertexShader:In.points_vert,fragmentShader:In.points_frag},dashed:{uniforms:zo([Xe.common,Xe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:In.linedashed_vert,fragmentShader:In.linedashed_frag},depth:{uniforms:zo([Xe.common,Xe.displacementmap]),vertexShader:In.depth_vert,fragmentShader:In.depth_frag},normal:{uniforms:zo([Xe.common,Xe.bumpmap,Xe.normalmap,Xe.displacementmap,{opacity:{value:1}}]),vertexShader:In.meshnormal_vert,fragmentShader:In.meshnormal_frag},sprite:{uniforms:zo([Xe.sprite,Xe.fog]),vertexShader:In.sprite_vert,fragmentShader:In.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:In.background_vert,fragmentShader:In.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:In.backgroundCube_vert,fragmentShader:In.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:In.cube_vert,fragmentShader:In.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:In.equirect_vert,fragmentShader:In.equirect_frag},distanceRGBA:{uniforms:zo([Xe.common,Xe.displacementmap,{referencePosition:{value:new N},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:In.distanceRGBA_vert,fragmentShader:In.distanceRGBA_frag},shadow:{uniforms:zo([Xe.lights,Xe.fog,{color:{value:new Be(0)},opacity:{value:1}}]),vertexShader:In.shadow_vert,fragmentShader:In.shadow_frag}};Ac.physical={uniforms:zo([Ac.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new Be(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new Be(0)},specularColor:{value:new Be(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:In.meshphysical_vert,fragmentShader:In.meshphysical_frag};const qM={r:0,b:0,g:0},kf=new Ml,ZHe=new vt;function JHe(r,n,i,s,a,l,c){const d=new Be(0);let h,f,u=!0===l?0:1,p=null,g=0,m=null;function _(A){let x=!0===A.isScene?A.background:null;return x&&x.isTexture&&(x=(A.backgroundBlurriness>0?i:n).get(x)),x}function b(A,x){A.getRGB(qM,PK(r)),s.buffers.color.setClear(qM.r,qM.g,qM.b,x,c)}return{getClearColor:function(){return d},setClearColor:function(A,x=1){d.set(A),u=x,b(d,u)},getClearAlpha:function(){return u},setClearAlpha:function(A){u=A,b(d,u)},render:function v(A){let x=!1;const w=_(A);null===w?b(d,u):w&&w.isColor&&(b(w,1),x=!0);const E=r.xr.getEnvironmentBlendMode();"additive"===E?s.buffers.color.setClear(0,0,0,1,c):"alpha-blend"===E&&s.buffers.color.setClear(0,0,0,0,c),(r.autoClear||x)&&(s.buffers.depth.setTest(!0),s.buffers.depth.setMask(!0),s.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))},addToRenderList:function y(A,x){const w=_(x);w&&(w.isCubeTexture||306===w.mapping)?(void 0===f&&(f=new Vn(new bc(1,1,1),new ro({name:"BackgroundCubeMaterial",uniforms:Qg(Ac.backgroundCube.uniforms),vertexShader:Ac.backgroundCube.vertexShader,fragmentShader:Ac.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(E,M,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(f)),kf.copy(x.backgroundRotation),kf.x*=-1,kf.y*=-1,kf.z*=-1,w.isCubeTexture&&!1===w.isRenderTargetTexture&&(kf.y*=-1,kf.z*=-1),f.material.uniforms.envMap.value=w,f.material.uniforms.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,f.material.uniforms.backgroundBlurriness.value=x.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(ZHe.makeRotationFromEuler(kf)),f.material.toneMapped=jn.getTransfer(w.colorSpace)!==er,(p!==w||g!==w.version||m!==r.toneMapping)&&(f.material.needsUpdate=!0,p=w,g=w.version,m=r.toneMapping),f.layers.enableAll(),A.unshift(f,f.geometry,f.material,0,0,null)):w&&w.isTexture&&(void 0===h&&(h=new Vn(new Il(2,2),new ro({name:"BackgroundMaterial",uniforms:Qg(Ac.background.uniforms),vertexShader:Ac.background.vertexShader,fragmentShader:Ac.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(h)),h.material.uniforms.t2D.value=w,h.material.uniforms.backgroundIntensity.value=x.backgroundIntensity,h.material.toneMapped=jn.getTransfer(w.colorSpace)!==er,!0===w.matrixAutoUpdate&&w.updateMatrix(),h.material.uniforms.uvTransform.value.copy(w.matrix),(p!==w||g!==w.version||m!==r.toneMapping)&&(h.material.needsUpdate=!0,p=w,g=w.version,m=r.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null))}}}function eGe(r,n){const i=r.getParameter(r.MAX_VERTEX_ATTRIBS),s={},a=g(null);let l=a,c=!1;function h(C){return r.bindVertexArray(C)}function f(C){return r.deleteVertexArray(C)}function g(C){const I=[],k=[],O=[];for(let z=0;z<i;z++)I[z]=0,k[z]=0,O[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:k,attributeDivisors:O,object:C,attributes:{},index:null}}function v(){const C=l.newAttributes;for(let I=0,k=C.length;I<k;I++)C[I]=0}function y(C){b(C,0)}function b(C,I){const O=l.enabledAttributes,z=l.attributeDivisors;l.newAttributes[C]=1,0===O[C]&&(r.enableVertexAttribArray(C),O[C]=1),z[C]!==I&&(r.vertexAttribDivisor(C,I),z[C]=I)}function A(){const C=l.newAttributes,I=l.enabledAttributes;for(let k=0,O=I.length;k<O;k++)I[k]!==C[k]&&(r.disableVertexAttribArray(k),I[k]=0)}function x(C,I,k,O,z,q,R){!0===R?r.vertexAttribIPointer(C,I,k,z,q):r.vertexAttribPointer(C,I,k,O,z,q)}function T(){P(),c=!0,l!==a&&(l=a,h(l.object))}function P(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:function d(C,I,k,O,z){let q=!1;const R=function p(C,I,k){const O=!0===k.wireframe;let z=s[C.id];void 0===z&&(z={},s[C.id]=z);let q=z[I.id];void 0===q&&(q={},z[I.id]=q);let R=q[O];return void 0===R&&(R=g(function u(){return r.createVertexArray()}()),q[O]=R),R}(O,k,I);l!==R&&(l=R,h(l.object)),q=function m(C,I,k,O){const z=l.attributes,q=I.attributes;let R=0;const V=k.getAttributes();for(const U in V)if(V[U].location>=0){const ae=z[U];let fe=q[U];if(void 0===fe&&("instanceMatrix"===U&&C.instanceMatrix&&(fe=C.instanceMatrix),"instanceColor"===U&&C.instanceColor&&(fe=C.instanceColor)),void 0===ae||ae.attribute!==fe||fe&&ae.data!==fe.data)return!0;R++}return l.attributesNum!==R||l.index!==O}(C,O,k,z),q&&function _(C,I,k,O){const z={},q=I.attributes;let R=0;const V=k.getAttributes();for(const U in V)if(V[U].location>=0){let ae=q[U];void 0===ae&&("instanceMatrix"===U&&C.instanceMatrix&&(ae=C.instanceMatrix),"instanceColor"===U&&C.instanceColor&&(ae=C.instanceColor));const fe={};fe.attribute=ae,ae&&ae.data&&(fe.data=ae.data),z[U]=fe,R++}l.attributes=z,l.attributesNum=R,l.index=O}(C,O,k,z),null!==z&&n.update(z,r.ELEMENT_ARRAY_BUFFER),(q||c)&&(c=!1,function w(C,I,k,O){v();const z=O.attributes,q=k.getAttributes(),R=I.defaultAttributeValues;for(const V in q){const U=q[V];if(U.location>=0){let X=z[V];if(void 0===X&&("instanceMatrix"===V&&C.instanceMatrix&&(X=C.instanceMatrix),"instanceColor"===V&&C.instanceColor&&(X=C.instanceColor)),void 0!==X){const ae=X.normalized,fe=X.itemSize,Pe=n.get(X);if(void 0===Pe)continue;const Ve=Pe.buffer,ie=Pe.type,pe=Pe.bytesPerElement,De=ie===r.INT||ie===r.UNSIGNED_INT||1013===X.gpuType;if(X.isInterleavedBufferAttribute){const Ee=X.data,tt=Ee.stride,et=X.offset;if(Ee.isInstancedInterleavedBuffer){for(let mt=0;mt<U.locationSize;mt++)b(U.location+mt,Ee.meshPerAttribute);!0!==C.isInstancedMesh&&void 0===O._maxInstanceCount&&(O._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let mt=0;mt<U.locationSize;mt++)y(U.location+mt);r.bindBuffer(r.ARRAY_BUFFER,Ve);for(let mt=0;mt<U.locationSize;mt++)x(U.location+mt,fe/U.locationSize,ie,ae,tt*pe,(et+fe/U.locationSize*mt)*pe,De)}else{if(X.isInstancedBufferAttribute){for(let Ee=0;Ee<U.locationSize;Ee++)b(U.location+Ee,X.meshPerAttribute);!0!==C.isInstancedMesh&&void 0===O._maxInstanceCount&&(O._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let Ee=0;Ee<U.locationSize;Ee++)y(U.location+Ee);r.bindBuffer(r.ARRAY_BUFFER,Ve);for(let Ee=0;Ee<U.locationSize;Ee++)x(U.location+Ee,fe/U.locationSize,ie,ae,fe*pe,fe/U.locationSize*Ee*pe,De)}}else if(void 0!==R){const ae=R[V];if(void 0!==ae)switch(ae.length){case 2:r.vertexAttrib2fv(U.location,ae);break;case 3:r.vertexAttrib3fv(U.location,ae);break;case 4:r.vertexAttrib4fv(U.location,ae);break;default:r.vertexAttrib1fv(U.location,ae)}}}}A()}(C,I,k,O),null!==z&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,n.get(z).buffer))},reset:T,resetDefaultState:P,dispose:function E(){T();for(const C in s){const I=s[C];for(const k in I){const O=I[k];for(const z in O)f(O[z].object),delete O[z];delete I[k]}delete s[C]}},releaseStatesOfGeometry:function M(C){if(void 0===s[C.id])return;const I=s[C.id];for(const k in I){const O=I[k];for(const z in O)f(O[z].object),delete O[z];delete I[k]}delete s[C.id]},releaseStatesOfProgram:function S(C){for(const I in s){const k=s[I];if(void 0===k[C.id])continue;const O=k[C.id];for(const z in O)f(O[z].object),delete O[z];delete k[C.id]}},initAttributes:v,enableAttribute:y,disableUnusedAttributes:A}}function tGe(r,n,i){let s;function c(h,f,p){0!==p&&(r.drawArraysInstanced(s,h,f,p),i.update(f,s,p))}this.setMode=function a(h){s=h},this.render=function l(h,f){r.drawArrays(s,h,f),i.update(f,s,1)},this.renderInstances=c,this.renderMultiDraw=function d(h,f,p){if(0===p)return;n.get("WEBGL_multi_draw").multiDrawArraysWEBGL(s,h,0,f,0,p);let m=0;for(let _=0;_<p;_++)m+=f[_];i.update(m,s,1)},this.renderMultiDrawInstances=function u(h,f,p,g){if(0===p)return;const m=n.get("WEBGL_multi_draw");if(null===m)for(let _=0;_<h.length;_++)c(h[_],f[_],g[_]);else{m.multiDrawArraysInstancedWEBGL(s,h,0,f,0,g,0,p);let _=0;for(let v=0;v<p;v++)_+=f[v];for(let v=0;v<g.length;v++)i.update(_,s,g[v])}}}function nGe(r,n,i,s){let a;function u(S){if("highp"===S){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";S="mediump"}return"mediump"===S&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let h=void 0!==i.precision?i.precision:"highp";const f=u(h);f!==h&&(console.warn("THREE.WebGLRenderer:",h,"not supported, using",f,"instead."),h=f);const p=!0===i.logarithmicDepthBuffer,g=!0===i.reverseDepthBuffer&&n.has("EXT_clip_control");if(!0===g){const S=n.get("EXT_clip_control");S.clipControlEXT(S.LOWER_LEFT_EXT,S.ZERO_TO_ONE_EXT)}const m=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),_=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function l(){if(void 0!==a)return a;if(!0===n.has("EXT_texture_filter_anisotropic")){const S=n.get("EXT_texture_filter_anisotropic");a=r.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a},getMaxPrecision:u,textureFormatReadable:function c(S){return!(S!==Ni&&s.convert(S)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function d(S){const T=S===ys&&(n.has("EXT_color_buffer_half_float")||n.has("EXT_color_buffer_float"));return!(S!==Cr&&s.convert(S)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&S!==Er&&!T)},precision:h,logarithmicDepthBuffer:p,reverseDepthBuffer:g,maxTextures:m,maxVertexTextures:_,maxTextureSize:r.getParameter(r.MAX_TEXTURE_SIZE),maxCubemapSize:r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:r.getParameter(r.MAX_VERTEX_ATTRIBS),maxVertexUniforms:r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:r.getParameter(r.MAX_VARYING_VECTORS),maxFragmentUniforms:r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:_>0,maxSamples:r.getParameter(r.MAX_SAMPLES)}}function iGe(r){const n=this;let i=null,s=0,a=!1,l=!1;const c=new Df,d=new fn,u={value:null,needsUpdate:!1};function f(p,g,m,_){const v=null!==p?p.length:0;let y=null;if(0!==v){if(y=u.value,!0!==_||null===y){const b=m+4*v,A=g.matrixWorldInverse;d.getNormalMatrix(A),(null===y||y.length<b)&&(y=new Float32Array(b));for(let x=0,w=m;x!==v;++x,w+=4)c.copy(p[x]).applyMatrix4(A,d),c.normal.toArray(y,w),y[w+3]=c.constant}u.value=y,u.needsUpdate=!0}return n.numPlanes=v,n.numIntersection=0,y}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g){const m=0!==p.length||g||0!==s||a;return a=g,s=p.length,m},this.beginShadows=function(){l=!0,f(null)},this.endShadows=function(){l=!1},this.setGlobalState=function(p,g){i=f(p,g,0)},this.setState=function(p,g,m){const _=p.clippingPlanes,v=p.clipIntersection,y=p.clipShadows,b=r.get(p);if(!a||null===_||0===_.length||l&&!y)l?f(null):function h(){u.value!==i&&(u.value=i,u.needsUpdate=s>0),n.numPlanes=s,n.numIntersection=0}();else{const A=l?0:s,x=4*A;let w=b.clippingState||null;u.value=w,w=f(_,g,x,m);for(let E=0;E!==x;++E)w[E]=i[E];b.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=A}}}function rGe(r){let n=new WeakMap;function i(c,d){return 303===d?c.mapping=301:304===d&&(c.mapping=302),c}function a(c){const d=c.target;d.removeEventListener("dispose",a);const u=n.get(d);void 0!==u&&(n.delete(d),u.dispose())}return{get:function s(c){if(c&&c.isTexture){const d=c.mapping;if(303===d||304===d){if(n.has(c))return i(n.get(c).texture,c.mapping);{const u=c.image;if(u&&u.height>0){const h=new SN(u.height);return h.fromEquirectangularTexture(r,c),n.set(c,h),c.addEventListener("dispose",a),i(h.texture,c.mapping)}return null}}}return c},dispose:function l(){n=new WeakMap}}}class Pf extends EN{constructor(n=-1,i=1,s=1,a=-1,l=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n,this.right=i,this.top=s,this.bottom=a,this.near=l,this.far=c,this.updateProjectionMatrix()}copy(n,i){return super.copy(n,i),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=null===n.view?null:Object.assign({},n.view),this}setViewOffset(n,i,s,a,l,c){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=i,this.view.offsetX=s,this.view.offsetY=a,this.view.width=l,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const n=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),s=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let l=s-n,c=s+n,d=a+i,u=a-i;if(null!==this.view&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;l+=h*this.view.offsetX,c=l+h*this.view.width,d-=f*this.view.offsetY,u=d-f*this.view.height}this.projectionMatrix.makeOrthographic(l,c,d,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(n){const i=super.toJSON(n);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,null!==this.view&&(i.object.view=Object.assign({},this.view)),i}}const BK=[.125,.215,.35,.446,.526,.582],TN=new Pf,LK=new Be;let DN=null,RN=0,kN=0,PN=!1;const Of=(1+Math.sqrt(5))/2,Yg=1/Of,UK=[new N(-Of,Yg,0),new N(Of,Yg,0),new N(-Yg,0,Of),new N(Yg,0,Of),new N(0,Of,-Yg),new N(0,Of,Yg),new N(-1,1,-1),new N(1,1,-1),new N(-1,1,1),new N(1,1,1)];class zK{constructor(n){this._renderer=n,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(n,i=0,s=.1,a=100){DN=this._renderer.getRenderTarget(),RN=this._renderer.getActiveCubeFace(),kN=this._renderer.getActiveMipmapLevel(),PN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(n,s,a,l),i>0&&this._blur(l,0,0,i),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(n,i=null){return this._fromTexture(n,i)}fromCubemap(n,i=null){return this._fromTexture(n,i)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=GK(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=HK(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(n){this._lodMax=Math.floor(Math.log2(n)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let n=0;n<this._lodPlanes.length;n++)this._lodPlanes[n].dispose()}_cleanup(n){this._renderer.setRenderTarget(DN,RN,kN),this._renderer.xr.enabled=PN,n.scissorTest=!1,YM(n,0,0,n.width,n.height)}_fromTexture(n,i){this._setSize(301===n.mapping||302===n.mapping?0===n.image.length?16:n.image[0].width||n.image[0].image.width:n.image.width/4),DN=this._renderer.getRenderTarget(),RN=this._renderer.getActiveCubeFace(),kN=this._renderer.getActiveMipmapLevel(),PN=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const s=i||this._allocateTargets();return this._textureToCubeUV(n,s),this._applyPMREM(s),this._cleanup(s),s}_allocateTargets(){const n=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,s={magFilter:zn,minFilter:zn,generateMipmaps:!1,type:ys,format:Ni,colorSpace:ki,depthBuffer:!1},a=VK(n,i,s);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==n||this._pingPongRenderTarget.height!==i){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=VK(n,i,s);const{_lodMax:l}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function sGe(r){const n=[],i=[],s=[];let a=r;const l=r-4+1+BK.length;for(let c=0;c<l;c++){const d=Math.pow(2,a);i.push(d);let u=1/d;c>r-4?u=BK[c-r+4-1]:0===c&&(u=0),s.push(u);const h=1/(d-2),f=-h,p=1+h,g=[f,f,p,f,p,p,f,f,p,p,f,p],m=6,_=6,v=3,y=2,b=1,A=new Float32Array(v*_*m),x=new Float32Array(y*_*m),w=new Float32Array(b*_*m);for(let M=0;M<m;M++){const S=M%3*2/3-1,T=M>2?0:-1;A.set([S,T,0,S+2/3,T,0,S+2/3,T+1,0,S,T,0,S+2/3,T+1,0,S,T+1,0],v*_*M),x.set(g,y*_*M),w.set([M,M,M,M,M,M],b*_*M)}const E=new pn;E.setAttribute("position",new kn(A,v)),E.setAttribute("uv",new kn(x,y)),E.setAttribute("faceIndex",new kn(w,b)),n.push(E),a>4&&a--}return{lodPlanes:n,sizeLods:i,sigmas:s}}(l)),this._blurMaterial=function oGe(r,n,i){const s=new Float32Array(20),a=new N(0,1,0);return new ro({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/n,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:s},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(l,n,i)}return a}_compileMaterial(n){const i=new Vn(this._lodPlanes[0],n);this._renderer.compile(i,TN)}_sceneToCubeUV(n,i,s,a){const d=new Wr(90,1,i,s),u=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],f=this._renderer,p=f.autoClear,g=f.toneMapping;f.getClearColor(LK),f.toneMapping=0,f.autoClear=!1;const m=new Gs({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),_=new Vn(new bc,m);let v=!1;const y=n.background;y?y.isColor&&(m.color.copy(y),n.background=null,v=!0):(m.color.copy(LK),v=!0);for(let b=0;b<6;b++){const A=b%3;0===A?(d.up.set(0,u[b],0),d.lookAt(h[b],0,0)):1===A?(d.up.set(0,0,u[b]),d.lookAt(0,h[b],0)):(d.up.set(0,u[b],0),d.lookAt(0,0,h[b]));const x=this._cubeSize;YM(a,A*x,b>2?x:0,x,x),f.setRenderTarget(a),v&&f.render(_,d),f.render(n,d)}_.geometry.dispose(),_.material.dispose(),f.toneMapping=g,f.autoClear=p,n.background=y}_textureToCubeUV(n,i){const s=this._renderer,a=301===n.mapping||302===n.mapping;a?(null===this._cubemapMaterial&&(this._cubemapMaterial=GK()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===n.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=HK());const l=a?this._cubemapMaterial:this._equirectMaterial,c=new Vn(this._lodPlanes[0],l);l.uniforms.envMap.value=n;const u=this._cubeSize;YM(i,0,0,3*u,2*u),s.setRenderTarget(i),s.render(c,TN)}_applyPMREM(n){const i=this._renderer,s=i.autoClear;i.autoClear=!1;const a=this._lodPlanes.length;for(let l=1;l<a;l++){const c=Math.sqrt(this._sigmas[l]*this._sigmas[l]-this._sigmas[l-1]*this._sigmas[l-1]);this._blur(n,l-1,l,c,UK[(a-l-1)%UK.length])}i.autoClear=s}_blur(n,i,s,a,l){const c=this._pingPongRenderTarget;this._halfBlur(n,c,i,s,a,"latitudinal",l),this._halfBlur(c,n,s,s,a,"longitudinal",l)}_halfBlur(n,i,s,a,l,c,d){const u=this._renderer,h=this._blurMaterial;"latitudinal"!==c&&"longitudinal"!==c&&console.error("blur direction must be either latitudinal or longitudinal!");const p=new Vn(this._lodPlanes[a],h),g=h.uniforms,m=this._sizeLods[s]-1,_=isFinite(l)?Math.PI/(2*m):2*Math.PI/39,v=l/_,y=isFinite(l)?1+Math.floor(3*v):20;y>20&&console.warn(`sigmaRadians, ${l}, is too large and will clip, as it requested ${y} samples when the maximum is set to 20`);const b=[];let A=0;for(let S=0;S<20;++S){const T=S/v,P=Math.exp(-T*T/2);b.push(P),0===S?A+=P:S<y&&(A+=2*P)}for(let S=0;S<b.length;S++)b[S]=b[S]/A;g.envMap.value=n.texture,g.samples.value=y,g.weights.value=b,g.latitudinal.value="latitudinal"===c,d&&(g.poleAxis.value=d);const{_lodMax:x}=this;g.dTheta.value=_,g.mipInt.value=x-s;const w=this._sizeLods[a];YM(i,3*w*(a>x-4?a-x+4:0),4*(this._cubeSize-w),3*w,2*w),u.setRenderTarget(i),u.render(p,TN)}}function VK(r,n,i){const s=new Lo(r,n,i);return s.texture.mapping=306,s.texture.name="PMREM.cubeUv",s.scissorTest=!0,s}function YM(r,n,i,s,a){r.viewport.set(n,i,s,a),r.scissor.set(n,i,s,a)}function HK(){return new ro({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function GK(){return new ro({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function aGe(r){let n=new WeakMap,i=null;function l(d){const u=d.target;u.removeEventListener("dispose",l);const h=n.get(u);void 0!==h&&(n.delete(u),h.dispose())}return{get:function s(d){if(d&&d.isTexture){const u=d.mapping,h=303===u||304===u,f=301===u||302===u;if(h||f){let p=n.get(d);if(d.isRenderTargetTexture&&d.pmremVersion!==(void 0!==p?p.texture.pmremVersion:0))return null===i&&(i=new zK(r)),p=h?i.fromEquirectangular(d,p):i.fromCubemap(d,p),p.texture.pmremVersion=d.pmremVersion,n.set(d,p),p.texture;if(void 0!==p)return p.texture;{const m=d.image;return h&&m&&m.height>0||f&&m&&function a(d){let u=0;for(let f=0;f<6;f++)void 0!==d[f]&&u++;return 6===u}(m)?(null===i&&(i=new zK(r)),p=h?i.fromEquirectangular(d):i.fromCubemap(d),p.texture.pmremVersion=d.pmremVersion,n.set(d,p),d.addEventListener("dispose",l),p.texture):null}}}return d},dispose:function c(){n=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function lGe(r){const n={};function i(s){if(void 0!==n[s])return n[s];let a;switch(s){case"WEBGL_depth_texture":a=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=r.getExtension(s)}return n[s]=a,a}return{has:function(s){return null!==i(s)},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(s){const a=i(s);return null===a&&SM("THREE.WebGLRenderer: "+s+" extension not supported."),a}}}function cGe(r,n,i,s){const a={},l=new WeakMap;function c(p){const g=p.target;null!==g.index&&n.remove(g.index);for(const _ in g.attributes)n.remove(g.attributes[_]);for(const _ in g.morphAttributes){const v=g.morphAttributes[_];for(let y=0,b=v.length;y<b;y++)n.remove(v[y])}g.removeEventListener("dispose",c),delete a[g.id];const m=l.get(g);m&&(n.remove(m),l.delete(g)),s.releaseStatesOfGeometry(g),!0===g.isInstancedBufferGeometry&&delete g._maxInstanceCount,i.memory.geometries--}function h(p){const g=[],m=p.index,_=p.attributes.position;let v=0;if(null!==m){const A=m.array;v=m.version;for(let x=0,w=A.length;x<w;x+=3){const E=A[x+0],M=A[x+1],S=A[x+2];g.push(E,M,M,S,S,E)}}else{if(void 0===_)return;v=_.version;for(let x=0,w=_.array.length/3-1;x<w;x+=3){const E=x+0,M=x+1,S=x+2;g.push(E,M,M,S,S,E)}}const y=new(pK(g)?TK:IK)(g,1);y.version=v;const b=l.get(p);b&&n.remove(b),l.set(p,y)}return{get:function d(p,g){return!0===a[g.id]||(g.addEventListener("dispose",c),a[g.id]=!0,i.memory.geometries++),g},update:function u(p){const g=p.attributes;for(const _ in g)n.update(g[_],r.ARRAY_BUFFER);const m=p.morphAttributes;for(const _ in m){const v=m[_];for(let y=0,b=v.length;y<b;y++)n.update(v[y],r.ARRAY_BUFFER)}},getWireframeAttribute:function f(p){const g=l.get(p);if(g){const m=p.index;null!==m&&g.version<m.version&&h(p)}else h(p);return l.get(p)}}}function dGe(r,n,i){let s,l,c;function h(g,m,_){0!==_&&(r.drawElementsInstanced(s,m,l,g*c,_),i.update(m,s,_))}this.setMode=function a(g){s=g},this.setIndex=function d(g){l=g.type,c=g.bytesPerElement},this.render=function u(g,m){r.drawElements(s,m,l,g*c),i.update(m,s,1)},this.renderInstances=h,this.renderMultiDraw=function f(g,m,_){if(0===_)return;n.get("WEBGL_multi_draw").multiDrawElementsWEBGL(s,m,0,l,g,0,_);let y=0;for(let b=0;b<_;b++)y+=m[b];i.update(y,s,1)},this.renderMultiDrawInstances=function p(g,m,_,v){if(0===_)return;const y=n.get("WEBGL_multi_draw");if(null===y)for(let b=0;b<g.length;b++)h(g[b]/c,m[b],v[b]);else{y.multiDrawElementsInstancedWEBGL(s,m,0,l,g,0,v,0,_);let b=0;for(let A=0;A<_;A++)b+=m[A];for(let A=0;A<v.length;A++)i.update(b,s,v[A])}}}function uGe(r){const i={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:i,programs:null,autoReset:!0,reset:function a(){i.calls=0,i.triangles=0,i.points=0,i.lines=0},update:function s(l,c,d){switch(i.calls++,c){case r.TRIANGLES:i.triangles+=d*(l/3);break;case r.LINES:i.lines+=d*(l/2);break;case r.LINE_STRIP:i.lines+=d*(l-1);break;case r.LINE_LOOP:i.lines+=d*l;break;case r.POINTS:i.points+=d*l;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c)}}}}function hGe(r,n,i){const s=new WeakMap,a=new si;return{update:function l(c,d,u){const h=c.morphTargetInfluences,f=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,p=void 0!==f?f.length:0;let g=s.get(d);if(void 0===g||g.count!==p){let P=function(){S.dispose(),s.delete(d),d.removeEventListener("dispose",P)};void 0!==g&&g.texture.dispose();const m=void 0!==d.morphAttributes.position,_=void 0!==d.morphAttributes.normal,v=void 0!==d.morphAttributes.color,y=d.morphAttributes.position||[],b=d.morphAttributes.normal||[],A=d.morphAttributes.color||[];let x=0;!0===m&&(x=1),!0===_&&(x=2),!0===v&&(x=3);let w=d.attributes.position.count*x,E=1;w>n.maxTextureSize&&(E=Math.ceil(w/n.maxTextureSize),w=n.maxTextureSize);const M=new Float32Array(w*E*4*p),S=new sN(M,w,E,p);S.type=Er,S.needsUpdate=!0;const T=4*x;for(let C=0;C<p;C++){const I=y[C],k=b[C],O=A[C],z=w*E*4*C;for(let q=0;q<I.count;q++){const R=q*T;!0===m&&(a.fromBufferAttribute(I,q),M[z+R+0]=a.x,M[z+R+1]=a.y,M[z+R+2]=a.z,M[z+R+3]=0),!0===_&&(a.fromBufferAttribute(k,q),M[z+R+4]=a.x,M[z+R+5]=a.y,M[z+R+6]=a.z,M[z+R+7]=0),!0===v&&(a.fromBufferAttribute(O,q),M[z+R+8]=a.x,M[z+R+9]=a.y,M[z+R+10]=a.z,M[z+R+11]=4===O.itemSize?a.w:1)}}g={count:p,texture:S,size:new ve(w,E)},s.set(d,g),d.addEventListener("dispose",P)}if(!0===c.isInstancedMesh&&null!==c.morphTexture)u.getUniforms().setValue(r,"morphTexture",c.morphTexture,i);else{let m=0;for(let v=0;v<h.length;v++)m+=h[v];const _=d.morphTargetsRelative?1:1-m;u.getUniforms().setValue(r,"morphTargetBaseInfluence",_),u.getUniforms().setValue(r,"morphTargetInfluences",h)}u.getUniforms().setValue(r,"morphTargetsTexture",g.texture,i),u.getUniforms().setValue(r,"morphTargetsTextureSize",g.size)}}}function fGe(r,n,i,s){let a=new WeakMap;function d(u){const h=u.target;h.removeEventListener("dispose",d),i.remove(h.instanceMatrix),null!==h.instanceColor&&i.remove(h.instanceColor)}return{update:function l(u){const h=s.render.frame,p=n.get(u,u.geometry);if(a.get(p)!==h&&(n.update(p),a.set(p,h)),u.isInstancedMesh&&(!1===u.hasEventListener("dispose",d)&&u.addEventListener("dispose",d),a.get(u)!==h&&(i.update(u.instanceMatrix,r.ARRAY_BUFFER),null!==u.instanceColor&&i.update(u.instanceColor,r.ARRAY_BUFFER),a.set(u,h))),u.isSkinnedMesh){const g=u.skeleton;a.get(g)!==h&&(g.update(),a.set(g,h))}return p},dispose:function c(){a=new WeakMap}}}class $K extends ur{constructor(n,i,s,a,l,c,d,u,h,f=Eg){if(f!==Eg&&f!==Mg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===s&&f===Eg&&(s=vd),void 0===s&&f===Mg&&(s=Cg),super(null,a,l,c,d,u,f,s,h),this.isDepthTexture=!0,this.image={width:n,height:i},this.magFilter=void 0!==d?d:wr,this.minFilter=void 0!==u?u:wr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(n){return super.copy(n),this.compareFunction=n.compareFunction,this}toJSON(n){const i=super.toJSON(n);return null!==this.compareFunction&&(i.compareFunction=this.compareFunction),i}}const QK=new ur,jK=new $K(1,1),WK=new sN,qK=new oN,YK=new QM,XK=[],KK=[],ZK=new Float32Array(16),JK=new Float32Array(9),eZ=new Float32Array(4);function Xg(r,n,i){const s=r[0];if(s<=0||s>0)return r;const a=n*i;let l=XK[a];if(void 0===l&&(l=new Float32Array(a),XK[a]=l),0!==n){s.toArray(l,0);for(let c=1,d=0;c!==n;++c)d+=i,r[c].toArray(l,d)}return l}function As(r,n){if(r.length!==n.length)return!1;for(let i=0,s=r.length;i<s;i++)if(r[i]!==n[i])return!1;return!0}function xs(r,n){for(let i=0,s=n.length;i<s;i++)r[i]=n[i]}function XM(r,n){let i=KK[n];void 0===i&&(i=new Int32Array(n),KK[n]=i);for(let s=0;s!==n;++s)i[s]=r.allocateTextureUnit();return i}function pGe(r,n){const i=this.cache;i[0]!==n&&(r.uniform1f(this.addr,n),i[0]=n)}function mGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(r.uniform2f(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(As(i,n))return;r.uniform2fv(this.addr,n),xs(i,n)}}function gGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(r.uniform3f(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else if(void 0!==n.r)(i[0]!==n.r||i[1]!==n.g||i[2]!==n.b)&&(r.uniform3f(this.addr,n.r,n.g,n.b),i[0]=n.r,i[1]=n.g,i[2]=n.b);else{if(As(i,n))return;r.uniform3fv(this.addr,n),xs(i,n)}}function _Ge(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(r.uniform4f(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(As(i,n))return;r.uniform4fv(this.addr,n),xs(i,n)}}function yGe(r,n){const i=this.cache,s=n.elements;if(void 0===s){if(As(i,n))return;r.uniformMatrix2fv(this.addr,!1,n),xs(i,n)}else{if(As(i,s))return;eZ.set(s),r.uniformMatrix2fv(this.addr,!1,eZ),xs(i,s)}}function vGe(r,n){const i=this.cache,s=n.elements;if(void 0===s){if(As(i,n))return;r.uniformMatrix3fv(this.addr,!1,n),xs(i,n)}else{if(As(i,s))return;JK.set(s),r.uniformMatrix3fv(this.addr,!1,JK),xs(i,s)}}function bGe(r,n){const i=this.cache,s=n.elements;if(void 0===s){if(As(i,n))return;r.uniformMatrix4fv(this.addr,!1,n),xs(i,n)}else{if(As(i,s))return;ZK.set(s),r.uniformMatrix4fv(this.addr,!1,ZK),xs(i,s)}}function AGe(r,n){const i=this.cache;i[0]!==n&&(r.uniform1i(this.addr,n),i[0]=n)}function xGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(r.uniform2i(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(As(i,n))return;r.uniform2iv(this.addr,n),xs(i,n)}}function wGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(r.uniform3i(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else{if(As(i,n))return;r.uniform3iv(this.addr,n),xs(i,n)}}function CGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(r.uniform4i(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(As(i,n))return;r.uniform4iv(this.addr,n),xs(i,n)}}function EGe(r,n){const i=this.cache;i[0]!==n&&(r.uniform1ui(this.addr,n),i[0]=n)}function MGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y)&&(r.uniform2ui(this.addr,n.x,n.y),i[0]=n.x,i[1]=n.y);else{if(As(i,n))return;r.uniform2uiv(this.addr,n),xs(i,n)}}function SGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z)&&(r.uniform3ui(this.addr,n.x,n.y,n.z),i[0]=n.x,i[1]=n.y,i[2]=n.z);else{if(As(i,n))return;r.uniform3uiv(this.addr,n),xs(i,n)}}function IGe(r,n){const i=this.cache;if(void 0!==n.x)(i[0]!==n.x||i[1]!==n.y||i[2]!==n.z||i[3]!==n.w)&&(r.uniform4ui(this.addr,n.x,n.y,n.z,n.w),i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=n.w);else{if(As(i,n))return;r.uniform4uiv(this.addr,n),xs(i,n)}}function TGe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();let l;s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),this.type===r.SAMPLER_2D_SHADOW?(jK.compareFunction=515,l=jK):l=QK,i.setTexture2D(n||l,a)}function DGe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTexture3D(n||qK,a)}function RGe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTextureCube(n||YK,a)}function kGe(r,n,i){const s=this.cache,a=i.allocateTextureUnit();s[0]!==a&&(r.uniform1i(this.addr,a),s[0]=a),i.setTexture2DArray(n||WK,a)}function FGe(r,n){r.uniform1fv(this.addr,n)}function OGe(r,n){const i=Xg(n,this.size,2);r.uniform2fv(this.addr,i)}function NGe(r,n){const i=Xg(n,this.size,3);r.uniform3fv(this.addr,i)}function BGe(r,n){const i=Xg(n,this.size,4);r.uniform4fv(this.addr,i)}function LGe(r,n){const i=Xg(n,this.size,4);r.uniformMatrix2fv(this.addr,!1,i)}function UGe(r,n){const i=Xg(n,this.size,9);r.uniformMatrix3fv(this.addr,!1,i)}function zGe(r,n){const i=Xg(n,this.size,16);r.uniformMatrix4fv(this.addr,!1,i)}function VGe(r,n){r.uniform1iv(this.addr,n)}function HGe(r,n){r.uniform2iv(this.addr,n)}function GGe(r,n){r.uniform3iv(this.addr,n)}function $Ge(r,n){r.uniform4iv(this.addr,n)}function QGe(r,n){r.uniform1uiv(this.addr,n)}function jGe(r,n){r.uniform2uiv(this.addr,n)}function WGe(r,n){r.uniform3uiv(this.addr,n)}function qGe(r,n){r.uniform4uiv(this.addr,n)}function YGe(r,n,i){const s=this.cache,a=n.length,l=XM(i,a);As(s,l)||(r.uniform1iv(this.addr,l),xs(s,l));for(let c=0;c!==a;++c)i.setTexture2D(n[c]||QK,l[c])}function XGe(r,n,i){const s=this.cache,a=n.length,l=XM(i,a);As(s,l)||(r.uniform1iv(this.addr,l),xs(s,l));for(let c=0;c!==a;++c)i.setTexture3D(n[c]||qK,l[c])}function KGe(r,n,i){const s=this.cache,a=n.length,l=XM(i,a);As(s,l)||(r.uniform1iv(this.addr,l),xs(s,l));for(let c=0;c!==a;++c)i.setTextureCube(n[c]||YK,l[c])}function ZGe(r,n,i){const s=this.cache,a=n.length,l=XM(i,a);As(s,l)||(r.uniform1iv(this.addr,l),xs(s,l));for(let c=0;c!==a;++c)i.setTexture2DArray(n[c]||WK,l[c])}class e8e{constructor(n,i,s){this.id=n,this.addr=s,this.cache=[],this.type=i.type,this.setValue=function PGe(r){switch(r){case 5126:return pGe;case 35664:return mGe;case 35665:return gGe;case 35666:return _Ge;case 35674:return yGe;case 35675:return vGe;case 35676:return bGe;case 5124:case 35670:return AGe;case 35667:case 35671:return xGe;case 35668:case 35672:return wGe;case 35669:case 35673:return CGe;case 5125:return EGe;case 36294:return MGe;case 36295:return SGe;case 36296:return IGe;case 35678:case 36198:case 36298:case 36306:case 35682:return TGe;case 35679:case 36299:case 36307:return DGe;case 35680:case 36300:case 36308:case 36293:return RGe;case 36289:case 36303:case 36311:case 36292:return kGe}}(i.type)}}class t8e{constructor(n,i,s){this.id=n,this.addr=s,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=function JGe(r){switch(r){case 5126:return FGe;case 35664:return OGe;case 35665:return NGe;case 35666:return BGe;case 35674:return LGe;case 35675:return UGe;case 35676:return zGe;case 5124:case 35670:return VGe;case 35667:case 35671:return HGe;case 35668:case 35672:return GGe;case 35669:case 35673:return $Ge;case 5125:return QGe;case 36294:return jGe;case 36295:return WGe;case 36296:return qGe;case 35678:case 36198:case 36298:case 36306:case 35682:return YGe;case 35679:case 36299:case 36307:return XGe;case 35680:case 36300:case 36308:case 36293:return KGe;case 36289:case 36303:case 36311:case 36292:return ZGe}}(i.type)}}class n8e{constructor(n){this.id=n,this.seq=[],this.map={}}setValue(n,i,s){const a=this.seq;for(let l=0,c=a.length;l!==c;++l){const d=a[l];d.setValue(n,i[d.id],s)}}}const ON=/(\w+)(\])?(\[|\.)?/g;function tZ(r,n){r.seq.push(n),r.map[n.id]=n}function i8e(r,n,i){const s=r.name,a=s.length;for(ON.lastIndex=0;;){const l=ON.exec(s);let d=l[1];const h=l[3];if("]"===l[2]&&(d|=0),void 0===h||"["===h&&ON.lastIndex+2===a){tZ(i,void 0===h?new e8e(d,r,n):new t8e(d,r,n));break}{let p=i.map[d];void 0===p&&(p=new n8e(d),tZ(i,p)),i=p}}}class KM{constructor(n,i){this.seq=[],this.map={};const s=n.getProgramParameter(i,n.ACTIVE_UNIFORMS);for(let a=0;a<s;++a){const l=n.getActiveUniform(i,a);i8e(l,n.getUniformLocation(i,l.name),this)}}setValue(n,i,s,a){const l=this.map[i];void 0!==l&&l.setValue(n,s,a)}setOptional(n,i,s){const a=i[s];void 0!==a&&this.setValue(n,s,a)}static upload(n,i,s,a){for(let l=0,c=i.length;l!==c;++l){const d=i[l],u=s[d.id];!1!==u.needsUpdate&&d.setValue(n,u.value,a)}}static seqWithValue(n,i){const s=[];for(let a=0,l=n.length;a!==l;++a){const c=n[a];c.id in i&&s.push(c)}return s}}function nZ(r,n,i){const s=r.createShader(n);return r.shaderSource(s,i),r.compileShader(s),s}let s8e=0;function iZ(r,n,i){const s=r.getShaderParameter(n,r.COMPILE_STATUS),a=r.getShaderInfoLog(n).trim();if(s&&""===a)return"";const l=/ERROR: 0:(\d+)/.exec(a);if(l){const c=parseInt(l[1]);return i.toUpperCase()+"\n\n"+a+"\n\n"+function o8e(r,n){const i=r.split("\n"),s=[],a=Math.max(n-6,0),l=Math.min(n+6,i.length);for(let c=a;c<l;c++){const d=c+1;s.push(`${d===n?">":" "} ${d}: ${i[c]}`)}return s.join("\n")}(r.getShaderSource(n),c)}return a}function l8e(r,n){const i=function a8e(r){const n=jn.getPrimaries(jn.workingColorSpace),i=jn.getPrimaries(r);let s;switch(n===i?s="":"p3"===n&&i===xM?s="LinearDisplayP3ToLinearSRGB":n===xM&&"p3"===i&&(s="LinearSRGBToLinearDisplayP3"),r){case ki:case nA:return[s,"LinearTransferOETF"];case ji:case bM:return[s,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",r),[s,"LinearTransferOETF"]}}(n);return`vec4 ${r}( vec4 value ) { return ${i[0]}( ${i[1]}( value ) ); }`}function c8e(r,n){let i;switch(n){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Cineon";break;case 4:i="ACESFilmic";break;case 6:i="AgX";break;case 7:i="Neutral";break;case 5:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),i="Linear"}return"vec3 "+r+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}const ZM=new N;function hA(r){return""!==r}function rZ(r,n){const i=n.numSpotLightShadows+n.numSpotLightMaps-n.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,n.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,n.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function sZ(r,n){return r.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}const p8e=/^[ \t]*#include +<([\w\d./]+)>/gm;function NN(r){return r.replace(p8e,g8e)}const m8e=new Map;function g8e(r,n){let i=In[n];if(void 0===i){const s=m8e.get(n);if(void 0===s)throw new Error("Can not resolve #include <"+n+">");i=In[s],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',n,s)}return NN(i)}const _8e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oZ(r){return r.replace(_8e,y8e)}function y8e(r,n,i,s){let a="";for(let l=parseInt(n);l<parseInt(i);l++)a+=s.replace(/\[\s*i\s*\]/g,"[ "+l+" ]").replace(/UNROLLED_LOOP_INDEX/g,l);return a}function aZ(r){let n=`precision ${r.precision} float;\n\tprecision ${r.precision} int;\n\tprecision ${r.precision} sampler2D;\n\tprecision ${r.precision} samplerCube;\n\tprecision ${r.precision} sampler3D;\n\tprecision ${r.precision} sampler2DArray;\n\tprecision ${r.precision} sampler2DShadow;\n\tprecision ${r.precision} samplerCubeShadow;\n\tprecision ${r.precision} sampler2DArrayShadow;\n\tprecision ${r.precision} isampler2D;\n\tprecision ${r.precision} isampler3D;\n\tprecision ${r.precision} isamplerCube;\n\tprecision ${r.precision} isampler2DArray;\n\tprecision ${r.precision} usampler2D;\n\tprecision ${r.precision} usampler3D;\n\tprecision ${r.precision} usamplerCube;\n\tprecision ${r.precision} usampler2DArray;\n\t`;return"highp"===r.precision?n+="\n#define HIGH_PRECISION":"mediump"===r.precision?n+="\n#define MEDIUM_PRECISION":"lowp"===r.precision&&(n+="\n#define LOW_PRECISION"),n}function C8e(r,n,i,s){const a=r.getContext(),l=i.defines;let c=i.vertexShader,d=i.fragmentShader;const u=function v8e(r){let n="SHADOWMAP_TYPE_BASIC";return 1===r.shadowMapType?n="SHADOWMAP_TYPE_PCF":2===r.shadowMapType?n="SHADOWMAP_TYPE_PCF_SOFT":3===r.shadowMapType&&(n="SHADOWMAP_TYPE_VSM"),n}(i),h=function b8e(r){let n="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case 301:case 302:n="ENVMAP_TYPE_CUBE";break;case 306:n="ENVMAP_TYPE_CUBE_UV"}return n}(i),f=function A8e(r){let n="ENVMAP_MODE_REFLECTION";return r.envMap&&302===r.envMapMode&&(n="ENVMAP_MODE_REFRACTION"),n}(i),p=function x8e(r){let n="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY";break;case 1:n="ENVMAP_BLENDING_MIX";break;case 2:n="ENVMAP_BLENDING_ADD"}return n}(i),g=function w8e(r){const n=r.envMapCubeUVHeight;if(null===n)return null;const i=Math.log2(n)-2,s=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:s,maxMip:i}}(i),m=function u8e(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(hA).join("\n")}(i),_=function h8e(r){const n=[];for(const i in r){const s=r[i];!1!==s&&n.push("#define "+i+" "+s)}return n.join("\n")}(l),v=a.createProgram();let y,b,A=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?(y=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,_].filter(hA).join("\n"),y.length>0&&(y+="\n"),b=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,_].filter(hA).join("\n"),b.length>0&&(b+="\n")):(y=[aZ(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,_,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.batchingColor?"#define USE_BATCHING_COLOR":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+f:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&!1===i.flatShading?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(hA).join("\n"),b=[aZ(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,_,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+h:"",i.envMap?"#define "+f:"",i.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&!1===i.flatShading?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor||i.batchingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+u:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==i.toneMapping?"#define TONE_MAPPING":"",0!==i.toneMapping?In.tonemapping_pars_fragment:"",0!==i.toneMapping?c8e("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",In.colorspace_pars_fragment,l8e("linearToOutputTexel",i.outputColorSpace),(jn.getLuminanceCoefficients(ZM),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${ZM.x.toFixed(4)}, ${ZM.y.toFixed(4)}, ${ZM.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(hA).join("\n")),c=NN(c),c=rZ(c,i),c=sZ(c,i),d=NN(d),d=rZ(d,i),d=sZ(d,i),c=oZ(c),d=oZ(d),!0!==i.isRawShaderMaterial&&(A="#version 300 es\n",y=[m,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,b=["#define varying in","300 es"===i.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===i.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+b);const w=A+b+d,E=nZ(a,a.VERTEX_SHADER,A+y+c),M=nZ(a,a.FRAGMENT_SHADER,w);function S(I){if(r.debug.checkShaderErrors){const k=a.getProgramInfoLog(v).trim(),O=a.getShaderInfoLog(E).trim(),z=a.getShaderInfoLog(M).trim();let q=!0,R=!0;if(!1===a.getProgramParameter(v,a.LINK_STATUS))if(q=!1,"function"==typeof r.debug.onShaderError)r.debug.onShaderError(a,v,E,M);else{const V=iZ(a,E,"vertex"),U=iZ(a,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(v,a.VALIDATE_STATUS)+"\n\nMaterial Name: "+I.name+"\nMaterial Type: "+I.type+"\n\nProgram Info Log: "+k+"\n"+V+"\n"+U)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):(""===O||""===z)&&(R=!1);R&&(I.diagnostics={runnable:q,programLog:k,vertexShader:{log:O,prefix:y},fragmentShader:{log:z,prefix:b}})}a.deleteShader(E),a.deleteShader(M),T=new KM(a,v),P=function f8e(r,n){const i={},s=r.getProgramParameter(n,r.ACTIVE_ATTRIBUTES);for(let a=0;a<s;a++){const l=r.getActiveAttrib(n,a),c=l.name;let d=1;l.type===r.FLOAT_MAT2&&(d=2),l.type===r.FLOAT_MAT3&&(d=3),l.type===r.FLOAT_MAT4&&(d=4),i[c]={type:l.type,location:r.getAttribLocation(n,c),locationSize:d}}return i}(a,v)}let T,P;a.attachShader(v,E),a.attachShader(v,M),void 0!==i.index0AttributeName?a.bindAttribLocation(v,0,i.index0AttributeName):!0===i.morphTargets&&a.bindAttribLocation(v,0,"position"),a.linkProgram(v),this.getUniforms=function(){return void 0===T&&S(this),T},this.getAttributes=function(){return void 0===P&&S(this),P};let C=!1===i.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===C&&(C=a.getProgramParameter(v,37297)),C},this.destroy=function(){s.releaseStatesOfProgram(this),a.deleteProgram(v),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=s8e++,this.cacheKey=n,this.usedTimes=1,this.program=v,this.vertexShader=E,this.fragmentShader=M,this}let E8e=0;class M8e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(n){const s=n.fragmentShader,a=this._getShaderStage(n.vertexShader),l=this._getShaderStage(s),c=this._getShaderCacheForMaterial(n);return!1===c.has(a)&&(c.add(a),a.usedTimes++),!1===c.has(l)&&(c.add(l),l.usedTimes++),this}remove(n){const i=this.materialCache.get(n);for(const s of i)s.usedTimes--,0===s.usedTimes&&this.shaderCache.delete(s.code);return this.materialCache.delete(n),this}getVertexShaderID(n){return this._getShaderStage(n.vertexShader).id}getFragmentShaderID(n){return this._getShaderStage(n.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(n){const i=this.materialCache;let s=i.get(n);return void 0===s&&(s=new Set,i.set(n,s)),s}_getShaderStage(n){const i=this.shaderCache;let s=i.get(n);return void 0===s&&(s=new S8e(n),i.set(n,s)),s}}class S8e{constructor(n){this.id=E8e++,this.code=n,this.usedTimes=0}}function I8e(r,n,i,s,a,l,c){const d=new fN,u=new M8e,h=new Set,f=[],p=a.logarithmicDepthBuffer,g=a.reverseDepthBuffer,m=a.vertexTextures;let _=a.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(C){return h.add(C),0===C?"uv":`uv${C}`}return{getParameters:function b(C,I,k,O,z){const q=O.fog,R=z.geometry,U=(C.isMeshStandardMaterial?i:n).get(C.envMap||(C.isMeshStandardMaterial?O.environment:null)),X=U&&306===U.mapping?U.image.height:null,ae=v[C.type];null!==C.precision&&(_=a.getMaxPrecision(C.precision),_!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",_,"instead."));const fe=R.morphAttributes.position||R.morphAttributes.normal||R.morphAttributes.color,Pe=void 0!==fe?fe.length:0;let ie,pe,De,Ee,Ve=0;if(void 0!==R.morphAttributes.position&&(Ve=1),void 0!==R.morphAttributes.normal&&(Ve=2),void 0!==R.morphAttributes.color&&(Ve=3),ae){const ua=Ac[ae];ie=ua.vertexShader,pe=ua.fragmentShader}else ie=C.vertexShader,pe=C.fragmentShader,u.update(C),De=u.getVertexShaderID(C),Ee=u.getFragmentShaderID(C);const tt=r.getRenderTarget(),et=!0===z.isInstancedMesh,mt=!0===z.isBatchedMesh,Tt=!!C.map,H=!!U,Le=!!C.aoMap,ze=!!C.lightMap,Fe=!!C.bumpMap,We=!!C.normalMap,Pt=!!C.displacementMap,ot=!!C.emissiveMap,G=!!C.metalnessMap,F=!!C.roughnessMap,oe=C.anisotropy>0,Ae=C.clearcoat>0,xe=C.iridescence>0,Ct=C.sheen>0,Ke=C.transmission>0,dt=oe&&!!C.anisotropyMap,qn=Ae&&!!C.clearcoatMap,Ne=Ae&&!!C.clearcoatNormalMap,ut=Ae&&!!C.clearcoatRoughnessMap,dn=xe&&!!C.iridescenceMap,un=xe&&!!C.iridescenceThicknessMap,yt=Ct&&!!C.sheenColorMap,Yn=Ct&&!!C.sheenRoughnessMap,vn=!!C.specularMap,Wi=!!C.specularColorMap,K=!!C.specularIntensityMap,at=Ke&&!!C.transmissionMap,ye=Ke&&!!C.thicknessMap,rt=!!C.alphaMap,os=!!C.extensions;let da=0;C.toneMapped&&(null===tt||!0===tt.isXRRenderTarget)&&(da=r.toneMapping);const ui={shaderID:ae,shaderType:C.type,shaderName:C.name,vertexShader:ie,fragmentShader:pe,defines:C.defines,customVertexShaderID:De,customFragmentShaderID:Ee,isRawShaderMaterial:!0===C.isRawShaderMaterial,glslVersion:C.glslVersion,precision:_,batching:mt,batchingColor:mt&&null!==z._colorsTexture,instancing:et,instancingColor:et&&null!==z.instanceColor,instancingMorph:et&&null!==z.morphTexture,supportsVertexTextures:m,outputColorSpace:null===tt?r.outputColorSpace:!0===tt.isXRRenderTarget?tt.texture.colorSpace:ki,alphaToCoverage:!!C.alphaToCoverage,map:Tt,matcap:!!C.matcap,envMap:H,envMapMode:H&&U.mapping,envMapCubeUVHeight:X,aoMap:Le,lightMap:ze,bumpMap:Fe,normalMap:We,displacementMap:m&&Pt,emissiveMap:ot,normalMapObjectSpace:We&&1===C.normalMapType,normalMapTangentSpace:We&&0===C.normalMapType,metalnessMap:G,roughnessMap:F,anisotropy:oe,anisotropyMap:dt,clearcoat:Ae,clearcoatMap:qn,clearcoatNormalMap:Ne,clearcoatRoughnessMap:ut,dispersion:C.dispersion>0,iridescence:xe,iridescenceMap:dn,iridescenceThicknessMap:un,sheen:Ct,sheenColorMap:yt,sheenRoughnessMap:Yn,specularMap:vn,specularColorMap:Wi,specularIntensityMap:K,transmission:Ke,transmissionMap:at,thicknessMap:ye,gradientMap:!!C.gradientMap,opaque:!1===C.transparent&&1===C.blending&&!1===C.alphaToCoverage,alphaMap:rt,alphaTest:C.alphaTest>0,alphaHash:!!C.alphaHash,combine:C.combine,mapUv:Tt&&y(C.map.channel),aoMapUv:Le&&y(C.aoMap.channel),lightMapUv:ze&&y(C.lightMap.channel),bumpMapUv:Fe&&y(C.bumpMap.channel),normalMapUv:We&&y(C.normalMap.channel),displacementMapUv:Pt&&y(C.displacementMap.channel),emissiveMapUv:ot&&y(C.emissiveMap.channel),metalnessMapUv:G&&y(C.metalnessMap.channel),roughnessMapUv:F&&y(C.roughnessMap.channel),anisotropyMapUv:dt&&y(C.anisotropyMap.channel),clearcoatMapUv:qn&&y(C.clearcoatMap.channel),clearcoatNormalMapUv:Ne&&y(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ut&&y(C.clearcoatRoughnessMap.channel),iridescenceMapUv:dn&&y(C.iridescenceMap.channel),iridescenceThicknessMapUv:un&&y(C.iridescenceThicknessMap.channel),sheenColorMapUv:yt&&y(C.sheenColorMap.channel),sheenRoughnessMapUv:Yn&&y(C.sheenRoughnessMap.channel),specularMapUv:vn&&y(C.specularMap.channel),specularColorMapUv:Wi&&y(C.specularColorMap.channel),specularIntensityMapUv:K&&y(C.specularIntensityMap.channel),transmissionMapUv:at&&y(C.transmissionMap.channel),thicknessMapUv:ye&&y(C.thicknessMap.channel),alphaMapUv:rt&&y(C.alphaMap.channel),vertexTangents:!!R.attributes.tangent&&(We||oe),vertexColors:C.vertexColors,vertexAlphas:!0===C.vertexColors&&!!R.attributes.color&&4===R.attributes.color.itemSize,pointsUvs:!0===z.isPoints&&!!R.attributes.uv&&(Tt||rt),fog:!!q,useFog:!0===C.fog,fogExp2:!!q&&q.isFogExp2,flatShading:!0===C.flatShading,sizeAttenuation:!0===C.sizeAttenuation,logarithmicDepthBuffer:p,reverseDepthBuffer:g,skinning:!0===z.isSkinnedMesh,morphTargets:void 0!==R.morphAttributes.position,morphNormals:void 0!==R.morphAttributes.normal,morphColors:void 0!==R.morphAttributes.color,morphTargetsCount:Pe,morphTextureStride:Ve,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:C.dithering,shadowMapEnabled:r.shadowMap.enabled&&k.length>0,shadowMapType:r.shadowMap.type,toneMapping:da,decodeVideoTexture:Tt&&!0===C.map.isVideoTexture&&jn.getTransfer(C.map.colorSpace)===er,premultipliedAlpha:C.premultipliedAlpha,doubleSided:2===C.side,flipSided:1===C.side,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:os&&!0===C.extensions.clipCullDistance&&s.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(os&&!0===C.extensions.multiDraw||mt)&&s.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:s.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return ui.vertexUv1s=h.has(1),ui.vertexUv2s=h.has(2),ui.vertexUv3s=h.has(3),h.clear(),ui},getProgramCacheKey:function A(C){const I=[];if(C.shaderID?I.push(C.shaderID):(I.push(C.customVertexShaderID),I.push(C.customFragmentShaderID)),void 0!==C.defines)for(const k in C.defines)I.push(k),I.push(C.defines[k]);return!1===C.isRawShaderMaterial&&(function x(C,I){C.push(I.precision),C.push(I.outputColorSpace),C.push(I.envMapMode),C.push(I.envMapCubeUVHeight),C.push(I.mapUv),C.push(I.alphaMapUv),C.push(I.lightMapUv),C.push(I.aoMapUv),C.push(I.bumpMapUv),C.push(I.normalMapUv),C.push(I.displacementMapUv),C.push(I.emissiveMapUv),C.push(I.metalnessMapUv),C.push(I.roughnessMapUv),C.push(I.anisotropyMapUv),C.push(I.clearcoatMapUv),C.push(I.clearcoatNormalMapUv),C.push(I.clearcoatRoughnessMapUv),C.push(I.iridescenceMapUv),C.push(I.iridescenceThicknessMapUv),C.push(I.sheenColorMapUv),C.push(I.sheenRoughnessMapUv),C.push(I.specularMapUv),C.push(I.specularColorMapUv),C.push(I.specularIntensityMapUv),C.push(I.transmissionMapUv),C.push(I.thicknessMapUv),C.push(I.combine),C.push(I.fogExp2),C.push(I.sizeAttenuation),C.push(I.morphTargetsCount),C.push(I.morphAttributeCount),C.push(I.numDirLights),C.push(I.numPointLights),C.push(I.numSpotLights),C.push(I.numSpotLightMaps),C.push(I.numHemiLights),C.push(I.numRectAreaLights),C.push(I.numDirLightShadows),C.push(I.numPointLightShadows),C.push(I.numSpotLightShadows),C.push(I.numSpotLightShadowsWithMaps),C.push(I.numLightProbes),C.push(I.shadowMapType),C.push(I.toneMapping),C.push(I.numClippingPlanes),C.push(I.numClipIntersection),C.push(I.depthPacking)}(I,C),function w(C,I){d.disableAll(),I.supportsVertexTextures&&d.enable(0),I.instancing&&d.enable(1),I.instancingColor&&d.enable(2),I.instancingMorph&&d.enable(3),I.matcap&&d.enable(4),I.envMap&&d.enable(5),I.normalMapObjectSpace&&d.enable(6),I.normalMapTangentSpace&&d.enable(7),I.clearcoat&&d.enable(8),I.iridescence&&d.enable(9),I.alphaTest&&d.enable(10),I.vertexColors&&d.enable(11),I.vertexAlphas&&d.enable(12),I.vertexUv1s&&d.enable(13),I.vertexUv2s&&d.enable(14),I.vertexUv3s&&d.enable(15),I.vertexTangents&&d.enable(16),I.anisotropy&&d.enable(17),I.alphaHash&&d.enable(18),I.batching&&d.enable(19),I.dispersion&&d.enable(20),I.batchingColor&&d.enable(21),C.push(d.mask),d.disableAll(),I.fog&&d.enable(0),I.useFog&&d.enable(1),I.flatShading&&d.enable(2),I.logarithmicDepthBuffer&&d.enable(3),I.reverseDepthBuffer&&d.enable(4),I.skinning&&d.enable(5),I.morphTargets&&d.enable(6),I.morphNormals&&d.enable(7),I.morphColors&&d.enable(8),I.premultipliedAlpha&&d.enable(9),I.shadowMapEnabled&&d.enable(10),I.doubleSided&&d.enable(11),I.flipSided&&d.enable(12),I.useDepthPacking&&d.enable(13),I.dithering&&d.enable(14),I.transmission&&d.enable(15),I.sheen&&d.enable(16),I.opaque&&d.enable(17),I.pointsUvs&&d.enable(18),I.decodeVideoTexture&&d.enable(19),I.alphaToCoverage&&d.enable(20),C.push(d.mask)}(I,C),I.push(r.outputColorSpace)),I.push(C.customProgramCacheKey),I.join()},getUniforms:function E(C){const I=v[C.type];let k;return k=I?WVe.clone(Ac[I].uniforms):C.uniforms,k},acquireProgram:function M(C,I){let k;for(let O=0,z=f.length;O<z;O++){const q=f[O];if(q.cacheKey===I){k=q,++k.usedTimes;break}}return void 0===k&&(k=new C8e(r,I,C,l),f.push(k)),k},releaseProgram:function S(C){if(0==--C.usedTimes){const I=f.indexOf(C);f[I]=f[f.length-1],f.pop(),C.destroy()}},releaseShaderCache:function T(C){u.remove(C)},programs:f,dispose:function P(){u.dispose()}}}function T8e(){let r=new WeakMap;return{has:function n(c){return r.has(c)},get:function i(c){let d=r.get(c);return void 0===d&&(d={},r.set(c,d)),d},remove:function s(c){r.delete(c)},update:function a(c,d,u){r.get(c)[d]=u},dispose:function l(){r=new WeakMap}}}function D8e(r,n){return r.groupOrder!==n.groupOrder?r.groupOrder-n.groupOrder:r.renderOrder!==n.renderOrder?r.renderOrder-n.renderOrder:r.material.id!==n.material.id?r.material.id-n.material.id:r.z!==n.z?r.z-n.z:r.id-n.id}function lZ(r,n){return r.groupOrder!==n.groupOrder?r.groupOrder-n.groupOrder:r.renderOrder!==n.renderOrder?r.renderOrder-n.renderOrder:r.z!==n.z?n.z-r.z:r.id-n.id}function cZ(){const r=[];let n=0;const i=[],s=[],a=[];function c(p,g,m,_,v,y){let b=r[n];return void 0===b?(b={id:p.id,object:p,geometry:g,material:m,groupOrder:_,renderOrder:p.renderOrder,z:v,group:y},r[n]=b):(b.id=p.id,b.object=p,b.geometry=g,b.material=m,b.groupOrder=_,b.renderOrder=p.renderOrder,b.z=v,b.group=y),n++,b}return{opaque:i,transmissive:s,transparent:a,init:function l(){n=0,i.length=0,s.length=0,a.length=0},push:function d(p,g,m,_,v,y){const b=c(p,g,m,_,v,y);m.transmission>0?s.push(b):!0===m.transparent?a.push(b):i.push(b)},unshift:function u(p,g,m,_,v,y){const b=c(p,g,m,_,v,y);m.transmission>0?s.unshift(b):!0===m.transparent?a.unshift(b):i.unshift(b)},finish:function f(){for(let p=n,g=r.length;p<g;p++){const m=r[p];if(null===m.id)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}},sort:function h(p,g){i.length>1&&i.sort(p||D8e),s.length>1&&s.sort(g||lZ),a.length>1&&a.sort(g||lZ)}}}function R8e(){let r=new WeakMap;return{get:function n(s,a){const l=r.get(s);let c;return void 0===l?(c=new cZ,r.set(s,[c])):a>=l.length?(c=new cZ,l.push(c)):c=l[a],c},dispose:function i(){r=new WeakMap}}}function k8e(){const r={};return{get:function(n){if(void 0!==r[n.id])return r[n.id];let i;switch(n.type){case"DirectionalLight":i={direction:new N,color:new Be};break;case"SpotLight":i={position:new N,direction:new N,color:new Be,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new N,color:new Be,distance:0,decay:0};break;case"HemisphereLight":i={direction:new N,skyColor:new Be,groundColor:new Be};break;case"RectAreaLight":i={color:new Be,position:new N,halfWidth:new N,halfHeight:new N}}return r[n.id]=i,i}}}let F8e=0;function O8e(r,n){return(n.castShadow?2:0)-(r.castShadow?2:0)+(n.map?1:0)-(r.map?1:0)}function N8e(r){const n=new k8e,i=function P8e(){const r={};return{get:function(n){if(void 0!==r[n.id])return r[n.id];let i;switch(n.type){case"DirectionalLight":case"SpotLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve};break;case"PointLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ve,shadowCameraNear:1,shadowCameraFar:1e3}}return r[n.id]=i,i}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)s.probe.push(new N);const a=new N,l=new vt,c=new vt;return{setup:function d(h){let f=0,p=0,g=0;for(let P=0;P<9;P++)s.probe[P].set(0,0,0);let m=0,_=0,v=0,y=0,b=0,A=0,x=0,w=0,E=0,M=0,S=0;h.sort(O8e);for(let P=0,C=h.length;P<C;P++){const I=h[P],k=I.color,O=I.intensity,z=I.distance,q=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=k.r*O,p+=k.g*O,g+=k.b*O;else if(I.isLightProbe){for(let R=0;R<9;R++)s.probe[R].addScaledVector(I.sh.coefficients[R],O);S++}else if(I.isDirectionalLight){const R=n.get(I);if(R.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const V=I.shadow,U=i.get(I);U.shadowIntensity=V.intensity,U.shadowBias=V.bias,U.shadowNormalBias=V.normalBias,U.shadowRadius=V.radius,U.shadowMapSize=V.mapSize,s.directionalShadow[m]=U,s.directionalShadowMap[m]=q,s.directionalShadowMatrix[m]=I.shadow.matrix,A++}s.directional[m]=R,m++}else if(I.isSpotLight){const R=n.get(I);R.position.setFromMatrixPosition(I.matrixWorld),R.color.copy(k).multiplyScalar(O),R.distance=z,R.coneCos=Math.cos(I.angle),R.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),R.decay=I.decay,s.spot[v]=R;const V=I.shadow;if(I.map&&(s.spotLightMap[E]=I.map,E++,V.updateMatrices(I),I.castShadow&&M++),s.spotLightMatrix[v]=V.matrix,I.castShadow){const U=i.get(I);U.shadowIntensity=V.intensity,U.shadowBias=V.bias,U.shadowNormalBias=V.normalBias,U.shadowRadius=V.radius,U.shadowMapSize=V.mapSize,s.spotShadow[v]=U,s.spotShadowMap[v]=q,w++}v++}else if(I.isRectAreaLight){const R=n.get(I);R.color.copy(k).multiplyScalar(O),R.halfWidth.set(.5*I.width,0,0),R.halfHeight.set(0,.5*I.height,0),s.rectArea[y]=R,y++}else if(I.isPointLight){const R=n.get(I);if(R.color.copy(I.color).multiplyScalar(I.intensity),R.distance=I.distance,R.decay=I.decay,I.castShadow){const V=I.shadow,U=i.get(I);U.shadowIntensity=V.intensity,U.shadowBias=V.bias,U.shadowNormalBias=V.normalBias,U.shadowRadius=V.radius,U.shadowMapSize=V.mapSize,U.shadowCameraNear=V.camera.near,U.shadowCameraFar=V.camera.far,s.pointShadow[_]=U,s.pointShadowMap[_]=q,s.pointShadowMatrix[_]=I.shadow.matrix,x++}s.point[_]=R,_++}else if(I.isHemisphereLight){const R=n.get(I);R.skyColor.copy(I.color).multiplyScalar(O),R.groundColor.copy(I.groundColor).multiplyScalar(O),s.hemi[b]=R,b++}}y>0&&(!0===r.has("OES_texture_float_linear")?(s.rectAreaLTC1=Xe.LTC_FLOAT_1,s.rectAreaLTC2=Xe.LTC_FLOAT_2):(s.rectAreaLTC1=Xe.LTC_HALF_1,s.rectAreaLTC2=Xe.LTC_HALF_2)),s.ambient[0]=f,s.ambient[1]=p,s.ambient[2]=g;const T=s.hash;(T.directionalLength!==m||T.pointLength!==_||T.spotLength!==v||T.rectAreaLength!==y||T.hemiLength!==b||T.numDirectionalShadows!==A||T.numPointShadows!==x||T.numSpotShadows!==w||T.numSpotMaps!==E||T.numLightProbes!==S)&&(s.directional.length=m,s.spot.length=v,s.rectArea.length=y,s.point.length=_,s.hemi.length=b,s.directionalShadow.length=A,s.directionalShadowMap.length=A,s.pointShadow.length=x,s.pointShadowMap.length=x,s.spotShadow.length=w,s.spotShadowMap.length=w,s.directionalShadowMatrix.length=A,s.pointShadowMatrix.length=x,s.spotLightMatrix.length=w+E-M,s.spotLightMap.length=E,s.numSpotLightShadowsWithMaps=M,s.numLightProbes=S,T.directionalLength=m,T.pointLength=_,T.spotLength=v,T.rectAreaLength=y,T.hemiLength=b,T.numDirectionalShadows=A,T.numPointShadows=x,T.numSpotShadows=w,T.numSpotMaps=E,T.numLightProbes=S,s.version=F8e++)},setupView:function u(h,f){let p=0,g=0,m=0,_=0,v=0;const y=f.matrixWorldInverse;for(let b=0,A=h.length;b<A;b++){const x=h[b];if(x.isDirectionalLight){const w=s.directional[p];w.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(y),p++}else if(x.isSpotLight){const w=s.spot[m];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(y),w.direction.setFromMatrixPosition(x.matrixWorld),a.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(y),m++}else if(x.isRectAreaLight){const w=s.rectArea[_];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(y),c.identity(),l.copy(x.matrixWorld),l.premultiply(y),c.extractRotation(l),w.halfWidth.set(.5*x.width,0,0),w.halfHeight.set(0,.5*x.height,0),w.halfWidth.applyMatrix4(c),w.halfHeight.applyMatrix4(c),_++}else if(x.isPointLight){const w=s.point[g];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(y),g++}else if(x.isHemisphereLight){const w=s.hemi[v];w.direction.setFromMatrixPosition(x.matrixWorld),w.direction.transformDirection(y),v++}}},state:s}}function dZ(r){const n=new N8e(r),i=[],s=[],h={lightsArray:i,shadowsArray:s,camera:null,lights:n,transmissionRenderTarget:{}};return{init:function a(f){h.camera=f,i.length=0,s.length=0},state:h,setupLights:function d(){n.setup(i)},setupLightsView:function u(f){n.setupView(i,f)},pushLight:function l(f){i.push(f)},pushShadow:function c(f){s.push(f)}}}function B8e(r){let n=new WeakMap;return{get:function i(a,l=0){const c=n.get(a);let d;return void 0===c?(d=new dZ(r),n.set(a,[d])):l>=c.length?(d=new dZ(r),c.push(d)):d=c[l],d},dispose:function s(){n=new WeakMap}}}class BN extends bs{constructor(n){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(n)}copy(n){return super.copy(n),this.depthPacking=n.depthPacking,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this}}class uZ extends bs{constructor(n){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(n)}copy(n){return super.copy(n),this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this}}function z8e(r,n,i){let s=new WM;const a=new ve,l=new ve,c=new si,d=new BN({depthPacking:3201}),u=new uZ,h={},f=i.maxTextureSize,p={[wl]:1,[Vs]:0,[Hs]:2},g=new ro({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ve},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),m=g.clone();m.defines.HORIZONTAL_PASS=1;const _=new pn;_.setAttribute("position",new kn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Vn(_,g),y=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let b=this.type;function A(M,S){const T=n.update(v);g.defines.VSM_SAMPLES!==M.blurSamples&&(g.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,g.needsUpdate=!0,m.needsUpdate=!0),null===M.mapPass&&(M.mapPass=new Lo(a.x,a.y)),g.uniforms.shadow_pass.value=M.map.texture,g.uniforms.resolution.value=M.mapSize,g.uniforms.radius.value=M.radius,r.setRenderTarget(M.mapPass),r.clear(),r.renderBufferDirect(S,null,T,g,v,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,r.setRenderTarget(M.map),r.clear(),r.renderBufferDirect(S,null,T,m,v,null)}function x(M,S,T,P){let C=null;const I=!0===T.isPointLight?M.customDistanceMaterial:M.customDepthMaterial;if(void 0!==I)C=I;else if(C=!0===T.isPointLight?u:d,r.localClippingEnabled&&!0===S.clipShadows&&Array.isArray(S.clippingPlanes)&&0!==S.clippingPlanes.length||S.displacementMap&&0!==S.displacementScale||S.alphaMap&&S.alphaTest>0||S.map&&S.alphaTest>0){const k=C.uuid,O=S.uuid;let z=h[k];void 0===z&&(z={},h[k]=z);let q=z[O];void 0===q&&(q=C.clone(),z[O]=q,S.addEventListener("dispose",E)),C=q}return C.visible=S.visible,C.wireframe=S.wireframe,C.side=3===P?null!==S.shadowSide?S.shadowSide:S.side:null!==S.shadowSide?S.shadowSide:p[S.side],C.alphaMap=S.alphaMap,C.alphaTest=S.alphaTest,C.map=S.map,C.clipShadows=S.clipShadows,C.clippingPlanes=S.clippingPlanes,C.clipIntersection=S.clipIntersection,C.displacementMap=S.displacementMap,C.displacementScale=S.displacementScale,C.displacementBias=S.displacementBias,C.wireframeLinewidth=S.wireframeLinewidth,C.linewidth=S.linewidth,!0===T.isPointLight&&!0===C.isMeshDistanceMaterial&&(r.properties.get(C).light=T),C}function w(M,S,T,P,C){if(!1===M.visible)return;if(M.layers.test(S.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&3===C)&&(!M.frustumCulled||s.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,M.matrixWorld);const O=n.update(M),z=M.material;if(Array.isArray(z)){const q=O.groups;for(let R=0,V=q.length;R<V;R++){const U=q[R],X=z[U.materialIndex];if(X&&X.visible){const ae=x(M,X,P,C);M.onBeforeShadow(r,M,S,T,O,ae,U),r.renderBufferDirect(T,null,O,ae,M,U),M.onAfterShadow(r,M,S,T,O,ae,U)}}}else if(z.visible){const q=x(M,z,P,C);M.onBeforeShadow(r,M,S,T,O,q,null),r.renderBufferDirect(T,null,O,q,M,null),M.onAfterShadow(r,M,S,T,O,q,null)}}const k=M.children;for(let O=0,z=k.length;O<z;O++)w(k[O],S,T,P,C)}function E(M){M.target.removeEventListener("dispose",E);for(const T in h){const P=h[T],C=M.target.uuid;C in P&&(P[C].dispose(),delete P[C])}}this.render=function(M,S,T){if(!1===y.enabled||!1===y.autoUpdate&&!1===y.needsUpdate||0===M.length)return;const P=r.getRenderTarget(),C=r.getActiveCubeFace(),I=r.getActiveMipmapLevel(),k=r.state;k.setBlending(0),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const O=3!==b&&3===this.type,z=3===b&&3!==this.type;for(let q=0,R=M.length;q<R;q++){const V=M[q],U=V.shadow;if(void 0===U){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(!1===U.autoUpdate&&!1===U.needsUpdate)continue;a.copy(U.mapSize);const X=U.getFrameExtents();if(a.multiply(X),l.copy(U.mapSize),(a.x>f||a.y>f)&&(a.x>f&&(l.x=Math.floor(f/X.x),a.x=l.x*X.x,U.mapSize.x=l.x),a.y>f&&(l.y=Math.floor(f/X.y),a.y=l.y*X.y,U.mapSize.y=l.y)),null===U.map||!0===O||!0===z){const fe=3!==this.type?{minFilter:wr,magFilter:wr}:{};null!==U.map&&U.map.dispose(),U.map=new Lo(a.x,a.y,fe),U.map.texture.name=V.name+".shadowMap",U.camera.updateProjectionMatrix()}r.setRenderTarget(U.map),r.clear();const ae=U.getViewportCount();for(let fe=0;fe<ae;fe++){const Pe=U.getViewport(fe);c.set(l.x*Pe.x,l.y*Pe.y,l.x*Pe.z,l.y*Pe.w),k.viewport(c),U.updateMatrices(V,fe),s=U.getFrustum(),w(S,T,U.camera,V,this.type)}!0!==U.isPointLightShadow&&3===this.type&&A(U,T),U.needsUpdate=!1}b=this.type,y.needsUpdate=!1,r.setRenderTarget(P,C,I)}}const V8e={[_2]:1,[v2]:6,[b2]:7,[xg]:5,[y2]:0,[x2]:2,[w2]:4,[A2]:3};function H8e(r){const a=new function n(){let K=!1;const at=new si;let ye=null;const Se=new si(0,0,0,0);return{setMask:function(rt){ye!==rt&&!K&&(r.colorMask(rt,rt,rt,rt),ye=rt)},setLocked:function(rt){K=rt},setClear:function(rt,lt,Zn,os,da){!0===da&&(rt*=os,lt*=os,Zn*=os),at.set(rt,lt,Zn,os),!1===Se.equals(at)&&(r.clearColor(rt,lt,Zn,os),Se.copy(at))},reset:function(){K=!1,ye=null,Se.set(-1,0,0,0)}}},l=new function i(){let K=!1,at=!1,ye=null,Se=null,rt=null;return{setReversed:function(lt){at=lt},setTest:function(lt){lt?De(r.DEPTH_TEST):Ee(r.DEPTH_TEST)},setMask:function(lt){ye!==lt&&!K&&(r.depthMask(lt),ye=lt)},setFunc:function(lt){if(at&&(lt=V8e[lt]),Se!==lt){switch(lt){case 0:r.depthFunc(r.NEVER);break;case 1:r.depthFunc(r.ALWAYS);break;case 2:r.depthFunc(r.LESS);break;case 3:default:r.depthFunc(r.LEQUAL);break;case 4:r.depthFunc(r.EQUAL);break;case 5:r.depthFunc(r.GEQUAL);break;case 6:r.depthFunc(r.GREATER);break;case 7:r.depthFunc(r.NOTEQUAL)}Se=lt}},setLocked:function(lt){K=lt},setClear:function(lt){rt!==lt&&(r.clearDepth(lt),rt=lt)},reset:function(){K=!1,ye=null,Se=null,rt=null}}},c=new function s(){let K=!1,at=null,ye=null,Se=null,rt=null,lt=null,Zn=null,os=null,da=null;return{setTest:function(ui){K||(ui?De(r.STENCIL_TEST):Ee(r.STENCIL_TEST))},setMask:function(ui){at!==ui&&!K&&(r.stencilMask(ui),at=ui)},setFunc:function(ui,ua,Hd){(ye!==ui||Se!==ua||rt!==Hd)&&(r.stencilFunc(ui,ua,Hd),ye=ui,Se=ua,rt=Hd)},setOp:function(ui,ua,Hd){(lt!==ui||Zn!==ua||os!==Hd)&&(r.stencilOp(ui,ua,Hd),lt=ui,Zn=ua,os=Hd)},setLocked:function(ui){K=ui},setClear:function(ui){da!==ui&&(r.clearStencil(ui),da=ui)},reset:function(){K=!1,at=null,ye=null,Se=null,rt=null,lt=null,Zn=null,os=null,da=null}}},d=new WeakMap,u=new WeakMap;let h={},f={},p=new WeakMap,g=[],m=null,_=!1,v=null,y=null,b=null,A=null,x=null,w=null,E=null,M=new Be(0,0,0),S=0,T=!1,P=null,C=null,I=null,k=null,O=null;const z=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,R=0;const V=r.getParameter(r.VERSION);-1!==V.indexOf("WebGL")?(R=parseFloat(/^WebGL (\d)/.exec(V)[1]),q=R>=1):-1!==V.indexOf("OpenGL ES")&&(R=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),q=R>=2);let U=null,X={};const ae=r.getParameter(r.SCISSOR_BOX),fe=r.getParameter(r.VIEWPORT),Pe=(new si).fromArray(ae),Ve=(new si).fromArray(fe);function ie(K,at,ye,Se){const rt=new Uint8Array(4),lt=r.createTexture();r.bindTexture(K,lt),r.texParameteri(K,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(K,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let Zn=0;Zn<ye;Zn++)K===r.TEXTURE_3D||K===r.TEXTURE_2D_ARRAY?r.texImage3D(at,0,r.RGBA,1,1,Se,0,r.RGBA,r.UNSIGNED_BYTE,rt):r.texImage2D(at+Zn,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,rt);return lt}const pe={};function De(K){!0!==h[K]&&(r.enable(K),h[K]=!0)}function Ee(K){!1!==h[K]&&(r.disable(K),h[K]=!1)}pe[r.TEXTURE_2D]=ie(r.TEXTURE_2D,r.TEXTURE_2D,1),pe[r.TEXTURE_CUBE_MAP]=ie(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),pe[r.TEXTURE_2D_ARRAY]=ie(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),pe[r.TEXTURE_3D]=ie(r.TEXTURE_3D,r.TEXTURE_3D,1,1),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),De(r.DEPTH_TEST),l.setFunc(3),ze(!1),Fe(1),De(r.CULL_FACE),H(0);const Tt={[bf]:r.FUNC_ADD,[Ize]:r.FUNC_SUBTRACT,[Tze]:r.FUNC_REVERSE_SUBTRACT};Tt[103]=r.MIN,Tt[104]=r.MAX;const be={[kze]:r.ZERO,[Pze]:r.ONE,[Fze]:r.SRC_COLOR,[m2]:r.SRC_ALPHA,[zze]:r.SRC_ALPHA_SATURATE,[Lze]:r.DST_COLOR,[Nze]:r.DST_ALPHA,[Oze]:r.ONE_MINUS_SRC_COLOR,[g2]:r.ONE_MINUS_SRC_ALPHA,[Uze]:r.ONE_MINUS_DST_COLOR,[Bze]:r.ONE_MINUS_DST_ALPHA,[Vze]:r.CONSTANT_COLOR,[Hze]:r.ONE_MINUS_CONSTANT_COLOR,[Gze]:r.CONSTANT_ALPHA,[$ze]:r.ONE_MINUS_CONSTANT_ALPHA};function H(K,at,ye,Se,rt,lt,Zn,os,da,ui){if(0!==K){if(!1===_&&(De(r.BLEND),_=!0),5===K)rt=rt||at,lt=lt||ye,Zn=Zn||Se,(at!==y||rt!==x)&&(r.blendEquationSeparate(Tt[at],Tt[rt]),y=at,x=rt),(ye!==b||Se!==A||lt!==w||Zn!==E)&&(r.blendFuncSeparate(be[ye],be[Se],be[lt],be[Zn]),b=ye,A=Se,w=lt,E=Zn),(!1===os.equals(M)||da!==S)&&(r.blendColor(os.r,os.g,os.b,da),M.copy(os),S=da),v=K,T=!1;else if(K!==v||ui!==T){if((100!==y||100!==x)&&(r.blendEquation(r.FUNC_ADD),y=100,x=100),ui)switch(K){case 1:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case 2:r.blendFunc(r.ONE,r.ONE);break;case 3:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case 4:r.blendFuncSeparate(r.ZERO,r.SRC_COLOR,r.ZERO,r.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",K)}else switch(K){case 1:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case 2:r.blendFunc(r.SRC_ALPHA,r.ONE);break;case 3:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case 4:r.blendFunc(r.ZERO,r.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",K)}b=null,A=null,w=null,E=null,M.set(0,0,0),S=0,v=K,T=ui}}else!0===_&&(Ee(r.BLEND),_=!1)}function ze(K){P!==K&&(r.frontFace(K?r.CW:r.CCW),P=K)}function Fe(K){0!==K?(De(r.CULL_FACE),K!==C&&r.cullFace(1===K?r.BACK:2===K?r.FRONT:r.FRONT_AND_BACK)):Ee(r.CULL_FACE),C=K}function Pt(K,at,ye){K?(De(r.POLYGON_OFFSET_FILL),(k!==at||O!==ye)&&(r.polygonOffset(at,ye),k=at,O=ye)):Ee(r.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:De,disable:Ee,bindFramebuffer:function tt(K,at){return f[K]!==at&&(r.bindFramebuffer(K,at),f[K]=at,K===r.DRAW_FRAMEBUFFER&&(f[r.FRAMEBUFFER]=at),K===r.FRAMEBUFFER&&(f[r.DRAW_FRAMEBUFFER]=at),!0)},drawBuffers:function et(K,at){let ye=g,Se=!1;if(K){ye=p.get(at),void 0===ye&&(ye=[],p.set(at,ye));const rt=K.textures;if(ye.length!==rt.length||ye[0]!==r.COLOR_ATTACHMENT0){for(let lt=0,Zn=rt.length;lt<Zn;lt++)ye[lt]=r.COLOR_ATTACHMENT0+lt;ye.length=rt.length,Se=!0}}else ye[0]!==r.BACK&&(ye[0]=r.BACK,Se=!0);Se&&r.drawBuffers(ye)},useProgram:function mt(K){return m!==K&&(r.useProgram(K),m=K,!0)},setBlending:H,setMaterial:function Le(K,at){2===K.side?Ee(r.CULL_FACE):De(r.CULL_FACE);let ye=1===K.side;at&&(ye=!ye),ze(ye),1===K.blending&&!1===K.transparent?H(0):H(K.blending,K.blendEquation,K.blendSrc,K.blendDst,K.blendEquationAlpha,K.blendSrcAlpha,K.blendDstAlpha,K.blendColor,K.blendAlpha,K.premultipliedAlpha),l.setFunc(K.depthFunc),l.setTest(K.depthTest),l.setMask(K.depthWrite),a.setMask(K.colorWrite);const Se=K.stencilWrite;c.setTest(Se),Se&&(c.setMask(K.stencilWriteMask),c.setFunc(K.stencilFunc,K.stencilRef,K.stencilFuncMask),c.setOp(K.stencilFail,K.stencilZFail,K.stencilZPass)),Pt(K.polygonOffset,K.polygonOffsetFactor,K.polygonOffsetUnits),!0===K.alphaToCoverage?De(r.SAMPLE_ALPHA_TO_COVERAGE):Ee(r.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:ze,setCullFace:Fe,setLineWidth:function We(K){K!==I&&(q&&r.lineWidth(K),I=K)},setPolygonOffset:Pt,setScissorTest:function ot(K){K?De(r.SCISSOR_TEST):Ee(r.SCISSOR_TEST)},activeTexture:function G(K){void 0===K&&(K=r.TEXTURE0+z-1),U!==K&&(r.activeTexture(K),U=K)},bindTexture:function F(K,at,ye){void 0===ye&&(ye=null===U?r.TEXTURE0+z-1:U);let Se=X[ye];void 0===Se&&(Se={type:void 0,texture:void 0},X[ye]=Se),(Se.type!==K||Se.texture!==at)&&(U!==ye&&(r.activeTexture(ye),U=ye),r.bindTexture(K,at||pe[K]),Se.type=K,Se.texture=at)},unbindTexture:function oe(){const K=X[U];void 0!==K&&void 0!==K.type&&(r.bindTexture(K.type,null),K.type=void 0,K.texture=void 0)},compressedTexImage2D:function Ae(){try{r.compressedTexImage2D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},compressedTexImage3D:function Me(){try{r.compressedTexImage3D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},texImage2D:function ut(){try{r.texImage2D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},texImage3D:function dn(){try{r.texImage3D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},updateUBOMapping:function Yn(K,at){let ye=u.get(at);void 0===ye&&(ye=new WeakMap,u.set(at,ye));let Se=ye.get(K);void 0===Se&&(Se=r.getUniformBlockIndex(at,K.name),ye.set(K,Se))},uniformBlockBinding:function vn(K,at){const Se=u.get(at).get(K);d.get(at)!==Se&&(r.uniformBlockBinding(at,Se,K.__bindingPointIndex),d.set(at,Se))},texStorage2D:function qn(){try{r.texStorage2D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},texStorage3D:function Ne(){try{r.texStorage3D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},texSubImage2D:function xe(){try{r.texSubImage2D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},texSubImage3D:function Ct(){try{r.texSubImage3D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},compressedTexSubImage2D:function Ke(){try{r.compressedTexSubImage2D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},compressedTexSubImage3D:function dt(){try{r.compressedTexSubImage3D.apply(r,arguments)}catch(K){console.error("THREE.WebGLState:",K)}},scissor:function un(K){!1===Pe.equals(K)&&(r.scissor(K.x,K.y,K.z,K.w),Pe.copy(K))},viewport:function yt(K){!1===Ve.equals(K)&&(r.viewport(K.x,K.y,K.z,K.w),Ve.copy(K))},reset:function Wi(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),h={},U=null,X={},f={},p=new WeakMap,g=[],m=null,_=!1,v=null,y=null,b=null,A=null,x=null,w=null,E=null,M=new Be(0,0,0),S=0,T=!1,P=null,C=null,I=null,k=null,O=null,Pe.set(0,0,r.canvas.width,r.canvas.height),Ve.set(0,0,r.canvas.width,r.canvas.height),a.reset(),l.reset(),c.reset()}}}function LN(r,n,i,s){const a=function j8e(r){switch(r){case Cr:case 1010:return{byteLength:1,components:1};case Xb:case 1011:case ys:return{byteLength:2,components:1};case 1017:case 1018:return{byteLength:2,components:4};case vd:case 1013:case Er:return{byteLength:4,components:1};case 35902:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}(s);switch(i){case 1021:case 1024:return r*n;case 1025:return r*n*2;case Ru:case 1029:return r*n/a.components*a.byteLength;case wf:case 1031:return r*n*2/a.components*a.byteLength;case 1022:return r*n*3/a.components*a.byteLength;case Ni:case 1033:return r*n*4/a.components*a.byteLength;case hM:case Kb:return Math.floor((r+3)/4)*Math.floor((n+3)/4)*8;case fM:case Zb:return Math.floor((r+3)/4)*Math.floor((n+3)/4)*16;case 35841:case 35843:return Math.max(r,16)*Math.max(n,8)/4;case pM:case mM:return Math.max(r,8)*Math.max(n,8)/2;case gM:case _M:return Math.floor((r+3)/4)*Math.floor((n+3)/4)*8;case yM:case Jb:return Math.floor((r+3)/4)*Math.floor((n+3)/4)*16;case 37809:return Math.floor((r+4)/5)*Math.floor((n+3)/4)*16;case 37810:return Math.floor((r+4)/5)*Math.floor((n+4)/5)*16;case 37811:return Math.floor((r+5)/6)*Math.floor((n+4)/5)*16;case eA:return Math.floor((r+5)/6)*Math.floor((n+5)/6)*16;case 37813:return Math.floor((r+7)/8)*Math.floor((n+4)/5)*16;case 37814:return Math.floor((r+7)/8)*Math.floor((n+5)/6)*16;case 37815:return Math.floor((r+7)/8)*Math.floor((n+7)/8)*16;case 37816:return Math.floor((r+9)/10)*Math.floor((n+4)/5)*16;case 37817:return Math.floor((r+9)/10)*Math.floor((n+5)/6)*16;case 37818:return Math.floor((r+9)/10)*Math.floor((n+7)/8)*16;case 37819:return Math.floor((r+9)/10)*Math.floor((n+9)/10)*16;case 37820:return Math.floor((r+11)/12)*Math.floor((n+9)/10)*16;case 37821:return Math.floor((r+11)/12)*Math.floor((n+11)/12)*16;case tA:case 36494:case 36495:return Math.ceil(r/4)*Math.ceil(n/4)*16;case 36283:case 36284:return Math.ceil(r/4)*Math.ceil(n/4)*8;case 36285:case 36286:return Math.ceil(r/4)*Math.ceil(n/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function W8e(r,n,i,s,a,l,c){const d=n.has("WEBGL_multisampled_render_to_texture")?n.get("WEBGL_multisampled_render_to_texture"):null,u=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),h=new ve,f=new WeakMap;let p;const g=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function _(G,F){return m?new OffscreenCanvas(G,F):rA("canvas")}function v(G,F,oe){let Ae=1;const Me=ot(G);if((Me.width>oe||Me.height>oe)&&(Ae=oe/Math.max(Me.width,Me.height)),Ae<1){if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap||typeof VideoFrame<"u"&&G instanceof VideoFrame){const xe=Math.floor(Ae*Me.width),Ct=Math.floor(Ae*Me.height);void 0===p&&(p=_(xe,Ct));const Ke=F?_(xe,Ct):p;return Ke.width=xe,Ke.height=Ct,Ke.getContext("2d").drawImage(G,0,0,xe,Ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Me.width+"x"+Me.height+") to ("+xe+"x"+Ct+")."),Ke}return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Me.width+"x"+Me.height+")."),G}return G}function y(G){return G.generateMipmaps&&G.minFilter!==wr&&G.minFilter!==zn}function b(G){r.generateMipmap(G)}function A(G,F,oe,Ae,Me=!1){if(null!==G){if(void 0!==r[G])return r[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let xe=F;if(F===r.RED&&(oe===r.FLOAT&&(xe=r.R32F),oe===r.HALF_FLOAT&&(xe=r.R16F),oe===r.UNSIGNED_BYTE&&(xe=r.R8)),F===r.RED_INTEGER&&(oe===r.UNSIGNED_BYTE&&(xe=r.R8UI),oe===r.UNSIGNED_SHORT&&(xe=r.R16UI),oe===r.UNSIGNED_INT&&(xe=r.R32UI),oe===r.BYTE&&(xe=r.R8I),oe===r.SHORT&&(xe=r.R16I),oe===r.INT&&(xe=r.R32I)),F===r.RG&&(oe===r.FLOAT&&(xe=r.RG32F),oe===r.HALF_FLOAT&&(xe=r.RG16F),oe===r.UNSIGNED_BYTE&&(xe=r.RG8)),F===r.RG_INTEGER&&(oe===r.UNSIGNED_BYTE&&(xe=r.RG8UI),oe===r.UNSIGNED_SHORT&&(xe=r.RG16UI),oe===r.UNSIGNED_INT&&(xe=r.RG32UI),oe===r.BYTE&&(xe=r.RG8I),oe===r.SHORT&&(xe=r.RG16I),oe===r.INT&&(xe=r.RG32I)),F===r.RGB_INTEGER&&(oe===r.UNSIGNED_BYTE&&(xe=r.RGB8UI),oe===r.UNSIGNED_SHORT&&(xe=r.RGB16UI),oe===r.UNSIGNED_INT&&(xe=r.RGB32UI),oe===r.BYTE&&(xe=r.RGB8I),oe===r.SHORT&&(xe=r.RGB16I),oe===r.INT&&(xe=r.RGB32I)),F===r.RGBA_INTEGER&&(oe===r.UNSIGNED_BYTE&&(xe=r.RGBA8UI),oe===r.UNSIGNED_SHORT&&(xe=r.RGBA16UI),oe===r.UNSIGNED_INT&&(xe=r.RGBA32UI),oe===r.BYTE&&(xe=r.RGBA8I),oe===r.SHORT&&(xe=r.RGBA16I),oe===r.INT&&(xe=r.RGBA32I)),F===r.RGB&&oe===r.UNSIGNED_INT_5_9_9_9_REV&&(xe=r.RGB9_E5),F===r.RGBA){const Ct=Me?AM:jn.getTransfer(Ae);oe===r.FLOAT&&(xe=r.RGBA32F),oe===r.HALF_FLOAT&&(xe=r.RGBA16F),oe===r.UNSIGNED_BYTE&&(xe=Ct===er?r.SRGB8_ALPHA8:r.RGBA8),oe===r.UNSIGNED_SHORT_4_4_4_4&&(xe=r.RGBA4),oe===r.UNSIGNED_SHORT_5_5_5_1&&(xe=r.RGB5_A1)}return(xe===r.R16F||xe===r.R32F||xe===r.RG16F||xe===r.RG32F||xe===r.RGBA16F||xe===r.RGBA32F)&&n.get("EXT_color_buffer_float"),xe}function x(G,F){let oe;return G?null===F||F===vd||F===Cg?oe=r.DEPTH24_STENCIL8:F===Er?oe=r.DEPTH32F_STENCIL8:F===Xb&&(oe=r.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===F||F===vd||F===Cg?oe=r.DEPTH_COMPONENT24:F===Er?oe=r.DEPTH_COMPONENT32F:F===Xb&&(oe=r.DEPTH_COMPONENT16),oe}function w(G,F){return!0===y(G)||G.isFramebufferTexture&&G.minFilter!==wr&&G.minFilter!==zn?Math.log2(Math.max(F.width,F.height))+1:void 0!==G.mipmaps&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?F.mipmaps.length:1}function E(G){const F=G.target;F.removeEventListener("dispose",E),function S(G){const F=s.get(G);if(void 0===F.__webglInit)return;const oe=G.source,Ae=g.get(oe);if(Ae){const Me=Ae[F.__cacheKey];Me.usedTimes--,0===Me.usedTimes&&T(G),0===Object.keys(Ae).length&&g.delete(oe)}s.remove(G)}(F),F.isVideoTexture&&f.delete(F)}function M(G){const F=G.target;F.removeEventListener("dispose",M),function P(G){const F=s.get(G);if(G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Ae=0;Ae<6;Ae++){if(Array.isArray(F.__webglFramebuffer[Ae]))for(let Me=0;Me<F.__webglFramebuffer[Ae].length;Me++)r.deleteFramebuffer(F.__webglFramebuffer[Ae][Me]);else r.deleteFramebuffer(F.__webglFramebuffer[Ae]);F.__webglDepthbuffer&&r.deleteRenderbuffer(F.__webglDepthbuffer[Ae])}else{if(Array.isArray(F.__webglFramebuffer))for(let Ae=0;Ae<F.__webglFramebuffer.length;Ae++)r.deleteFramebuffer(F.__webglFramebuffer[Ae]);else r.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&r.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&r.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let Ae=0;Ae<F.__webglColorRenderbuffer.length;Ae++)F.__webglColorRenderbuffer[Ae]&&r.deleteRenderbuffer(F.__webglColorRenderbuffer[Ae]);F.__webglDepthRenderbuffer&&r.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const oe=G.textures;for(let Ae=0,Me=oe.length;Ae<Me;Ae++){const xe=s.get(oe[Ae]);xe.__webglTexture&&(r.deleteTexture(xe.__webglTexture),c.memory.textures--),s.remove(oe[Ae])}s.remove(G)}(F)}function T(G){const F=s.get(G);r.deleteTexture(F.__webglTexture),delete g.get(G.source)[F.__cacheKey],c.memory.textures--}let C=0;function z(G,F){const oe=s.get(G);if(G.isVideoTexture&&function We(G){const F=c.render.frame;f.get(G)!==F&&(f.set(G,F),G.update())}(G),!1===G.isRenderTargetTexture&&G.version>0&&oe.__version!==G.version){const Ae=G.image;if(null===Ae)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Ae.complete)return void Ve(oe,G,F);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.bindTexture(r.TEXTURE_2D,oe.__webglTexture,r.TEXTURE0+F)}const U={[Ya]:r.REPEAT,[xr]:r.CLAMP_TO_EDGE,[Tu]:r.MIRRORED_REPEAT},X={[wr]:r.NEAREST,[wg]:r.NEAREST_MIPMAP_NEAREST,[yd]:r.NEAREST_MIPMAP_LINEAR,[zn]:r.LINEAR,[Du]:r.LINEAR_MIPMAP_NEAREST,[No]:r.LINEAR_MIPMAP_LINEAR},ae={[nVe]:r.NEVER,[lVe]:r.ALWAYS,[iVe]:r.LESS,[uK]:r.LEQUAL,[rVe]:r.EQUAL,[aVe]:r.GEQUAL,[sVe]:r.GREATER,[oVe]:r.NOTEQUAL};function fe(G,F){if(F.type===Er&&!1===n.has("OES_texture_float_linear")&&(F.magFilter===zn||F.magFilter===Du||F.magFilter===yd||F.magFilter===No||F.minFilter===zn||F.minFilter===Du||F.minFilter===yd||F.minFilter===No)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(G,r.TEXTURE_WRAP_S,U[F.wrapS]),r.texParameteri(G,r.TEXTURE_WRAP_T,U[F.wrapT]),(G===r.TEXTURE_3D||G===r.TEXTURE_2D_ARRAY)&&r.texParameteri(G,r.TEXTURE_WRAP_R,U[F.wrapR]),r.texParameteri(G,r.TEXTURE_MAG_FILTER,X[F.magFilter]),r.texParameteri(G,r.TEXTURE_MIN_FILTER,X[F.minFilter]),F.compareFunction&&(r.texParameteri(G,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(G,r.TEXTURE_COMPARE_FUNC,ae[F.compareFunction])),!0===n.has("EXT_texture_filter_anisotropic")){if(F.magFilter===wr||F.minFilter!==yd&&F.minFilter!==No||F.type===Er&&!1===n.has("OES_texture_float_linear"))return;if(F.anisotropy>1||s.get(F).__currentAnisotropy){const oe=n.get("EXT_texture_filter_anisotropic");r.texParameterf(G,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,a.getMaxAnisotropy())),s.get(F).__currentAnisotropy=F.anisotropy}}}function Pe(G,F){let oe=!1;void 0===G.__webglInit&&(G.__webglInit=!0,F.addEventListener("dispose",E));const Ae=F.source;let Me=g.get(Ae);void 0===Me&&(Me={},g.set(Ae,Me));const xe=function O(G){const F=[];return F.push(G.wrapS),F.push(G.wrapT),F.push(G.wrapR||0),F.push(G.magFilter),F.push(G.minFilter),F.push(G.anisotropy),F.push(G.internalFormat),F.push(G.format),F.push(G.type),F.push(G.generateMipmaps),F.push(G.premultiplyAlpha),F.push(G.flipY),F.push(G.unpackAlignment),F.push(G.colorSpace),F.join()}(F);if(xe!==G.__cacheKey){void 0===Me[xe]&&(Me[xe]={texture:r.createTexture(),usedTimes:0},c.memory.textures++,oe=!0),Me[xe].usedTimes++;const Ct=Me[G.__cacheKey];void 0!==Ct&&(Me[G.__cacheKey].usedTimes--,0===Ct.usedTimes&&T(F)),G.__cacheKey=xe,G.__webglTexture=Me[xe].texture}return oe}function Ve(G,F,oe){let Ae=r.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Ae=r.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Ae=r.TEXTURE_3D);const Me=Pe(G,F),xe=F.source;i.bindTexture(Ae,G.__webglTexture,r.TEXTURE0+oe);const Ct=s.get(xe);if(xe.version!==Ct.__version||!0===Me){i.activeTexture(r.TEXTURE0+oe);const Ke=jn.getPrimaries(jn.workingColorSpace),dt=""===F.colorSpace?null:jn.getPrimaries(F.colorSpace),qn=""===F.colorSpace||Ke===dt?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,F.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,F.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,qn);let Ne=v(F.image,!1,a.maxTextureSize);Ne=Pt(F,Ne);const ut=l.convert(F.format,F.colorSpace),dn=l.convert(F.type);let yt,un=A(F.internalFormat,ut,dn,F.colorSpace,F.isVideoTexture);fe(Ae,F);const Yn=F.mipmaps,vn=!0!==F.isVideoTexture,Wi=void 0===Ct.__version||!0===Me,K=xe.dataReady,at=w(F,Ne);if(F.isDepthTexture)un=x(F.format===Mg,F.type),Wi&&(vn?i.texStorage2D(r.TEXTURE_2D,1,un,Ne.width,Ne.height):i.texImage2D(r.TEXTURE_2D,0,un,Ne.width,Ne.height,0,ut,dn,null));else if(F.isDataTexture)if(Yn.length>0){vn&&Wi&&i.texStorage2D(r.TEXTURE_2D,at,un,Yn[0].width,Yn[0].height);for(let ye=0,Se=Yn.length;ye<Se;ye++)yt=Yn[ye],vn?K&&i.texSubImage2D(r.TEXTURE_2D,ye,0,0,yt.width,yt.height,ut,dn,yt.data):i.texImage2D(r.TEXTURE_2D,ye,un,yt.width,yt.height,0,ut,dn,yt.data);F.generateMipmaps=!1}else vn?(Wi&&i.texStorage2D(r.TEXTURE_2D,at,un,Ne.width,Ne.height),K&&i.texSubImage2D(r.TEXTURE_2D,0,0,0,Ne.width,Ne.height,ut,dn,Ne.data)):i.texImage2D(r.TEXTURE_2D,0,un,Ne.width,Ne.height,0,ut,dn,Ne.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){vn&&Wi&&i.texStorage3D(r.TEXTURE_2D_ARRAY,at,un,Yn[0].width,Yn[0].height,Ne.depth);for(let ye=0,Se=Yn.length;ye<Se;ye++)if(yt=Yn[ye],F.format!==Ni)if(null!==ut)if(vn){if(K)if(F.layerUpdates.size>0){const rt=LN(yt.width,yt.height,F.format,F.type);for(const lt of F.layerUpdates){const Zn=yt.data.subarray(lt*rt/yt.data.BYTES_PER_ELEMENT,(lt+1)*rt/yt.data.BYTES_PER_ELEMENT);i.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,ye,0,0,lt,yt.width,yt.height,1,ut,Zn,0,0)}F.clearLayerUpdates()}else i.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,ye,0,0,0,yt.width,yt.height,Ne.depth,ut,yt.data,0,0)}else i.compressedTexImage3D(r.TEXTURE_2D_ARRAY,ye,un,yt.width,yt.height,Ne.depth,0,yt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else vn?K&&i.texSubImage3D(r.TEXTURE_2D_ARRAY,ye,0,0,0,yt.width,yt.height,Ne.depth,ut,dn,yt.data):i.texImage3D(r.TEXTURE_2D_ARRAY,ye,un,yt.width,yt.height,Ne.depth,0,ut,dn,yt.data)}else{vn&&Wi&&i.texStorage2D(r.TEXTURE_2D,at,un,Yn[0].width,Yn[0].height);for(let ye=0,Se=Yn.length;ye<Se;ye++)yt=Yn[ye],F.format!==Ni?null!==ut?vn?K&&i.compressedTexSubImage2D(r.TEXTURE_2D,ye,0,0,yt.width,yt.height,ut,yt.data):i.compressedTexImage2D(r.TEXTURE_2D,ye,un,yt.width,yt.height,0,yt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):vn?K&&i.texSubImage2D(r.TEXTURE_2D,ye,0,0,yt.width,yt.height,ut,dn,yt.data):i.texImage2D(r.TEXTURE_2D,ye,un,yt.width,yt.height,0,ut,dn,yt.data)}else if(F.isDataArrayTexture)if(vn){if(Wi&&i.texStorage3D(r.TEXTURE_2D_ARRAY,at,un,Ne.width,Ne.height,Ne.depth),K)if(F.layerUpdates.size>0){const ye=LN(Ne.width,Ne.height,F.format,F.type);for(const Se of F.layerUpdates){const rt=Ne.data.subarray(Se*ye/Ne.data.BYTES_PER_ELEMENT,(Se+1)*ye/Ne.data.BYTES_PER_ELEMENT);i.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,Se,Ne.width,Ne.height,1,ut,dn,rt)}F.clearLayerUpdates()}else i.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,Ne.width,Ne.height,Ne.depth,ut,dn,Ne.data)}else i.texImage3D(r.TEXTURE_2D_ARRAY,0,un,Ne.width,Ne.height,Ne.depth,0,ut,dn,Ne.data);else if(F.isData3DTexture)vn?(Wi&&i.texStorage3D(r.TEXTURE_3D,at,un,Ne.width,Ne.height,Ne.depth),K&&i.texSubImage3D(r.TEXTURE_3D,0,0,0,0,Ne.width,Ne.height,Ne.depth,ut,dn,Ne.data)):i.texImage3D(r.TEXTURE_3D,0,un,Ne.width,Ne.height,Ne.depth,0,ut,dn,Ne.data);else if(F.isFramebufferTexture){if(Wi)if(vn)i.texStorage2D(r.TEXTURE_2D,at,un,Ne.width,Ne.height);else{let ye=Ne.width,Se=Ne.height;for(let rt=0;rt<at;rt++)i.texImage2D(r.TEXTURE_2D,rt,un,ye,Se,0,ut,dn,null),ye>>=1,Se>>=1}}else if(Yn.length>0){if(vn&&Wi){const ye=ot(Yn[0]);i.texStorage2D(r.TEXTURE_2D,at,un,ye.width,ye.height)}for(let ye=0,Se=Yn.length;ye<Se;ye++)yt=Yn[ye],vn?K&&i.texSubImage2D(r.TEXTURE_2D,ye,0,0,ut,dn,yt):i.texImage2D(r.TEXTURE_2D,ye,un,ut,dn,yt);F.generateMipmaps=!1}else if(vn){if(Wi){const ye=ot(Ne);i.texStorage2D(r.TEXTURE_2D,at,un,ye.width,ye.height)}K&&i.texSubImage2D(r.TEXTURE_2D,0,0,0,ut,dn,Ne)}else i.texImage2D(r.TEXTURE_2D,0,un,ut,dn,Ne);y(F)&&b(Ae),Ct.__version=xe.version,F.onUpdate&&F.onUpdate(F)}G.__version=F.version}function pe(G,F,oe,Ae,Me,xe){const Ct=l.convert(oe.format,oe.colorSpace),Ke=l.convert(oe.type),dt=A(oe.internalFormat,Ct,Ke,oe.colorSpace);if(!s.get(F).__hasExternalTextures){const Ne=Math.max(1,F.width>>xe),ut=Math.max(1,F.height>>xe);Me===r.TEXTURE_3D||Me===r.TEXTURE_2D_ARRAY?i.texImage3D(Me,xe,dt,Ne,ut,F.depth,0,Ct,Ke,null):i.texImage2D(Me,xe,dt,Ne,ut,0,Ct,Ke,null)}i.bindFramebuffer(r.FRAMEBUFFER,G),Fe(F)?d.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Ae,Me,s.get(oe).__webglTexture,0,ze(F)):(Me===r.TEXTURE_2D||Me>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Me<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,Ae,Me,s.get(oe).__webglTexture,xe),i.bindFramebuffer(r.FRAMEBUFFER,null)}function De(G,F,oe){if(r.bindRenderbuffer(r.RENDERBUFFER,G),F.depthBuffer){const Ae=F.depthTexture,xe=x(F.stencilBuffer,Ae&&Ae.isDepthTexture?Ae.type:null),Ct=F.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ke=ze(F);Fe(F)?d.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Ke,xe,F.width,F.height):oe?r.renderbufferStorageMultisample(r.RENDERBUFFER,Ke,xe,F.width,F.height):r.renderbufferStorage(r.RENDERBUFFER,xe,F.width,F.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ct,r.RENDERBUFFER,G)}else{const Ae=F.textures;for(let Me=0;Me<Ae.length;Me++){const xe=Ae[Me],Ct=l.convert(xe.format,xe.colorSpace),Ke=l.convert(xe.type),dt=A(xe.internalFormat,Ct,Ke,xe.colorSpace),qn=ze(F);oe&&!1===Fe(F)?r.renderbufferStorageMultisample(r.RENDERBUFFER,qn,dt,F.width,F.height):Fe(F)?d.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,qn,dt,F.width,F.height):r.renderbufferStorage(r.RENDERBUFFER,dt,F.width,F.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function tt(G){const F=s.get(G),oe=!0===G.isWebGLCubeRenderTarget;if(F.__boundDepthTexture!==G.depthTexture){const Ae=G.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),Ae){const Me=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,Ae.removeEventListener("dispose",Me)};Ae.addEventListener("dispose",Me),F.__depthDisposeCallback=Me}F.__boundDepthTexture=Ae}if(G.depthTexture&&!F.__autoAllocateDepthBuffer){if(oe)throw new Error("target.depthTexture not supported in Cube render targets");!function Ee(G,F){if(F&&F.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(r.FRAMEBUFFER,G),!F.depthTexture||!F.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(F.depthTexture).__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),z(F.depthTexture,0);const Ae=s.get(F.depthTexture).__webglTexture,Me=ze(F);if(F.depthTexture.format===Eg)Fe(F)?d.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ae,0,Me):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,Ae,0);else{if(F.depthTexture.format!==Mg)throw new Error("Unknown depthTexture format");Fe(F)?d.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ae,0,Me):r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,Ae,0)}}(F.__webglFramebuffer,G)}else if(oe){F.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)if(i.bindFramebuffer(r.FRAMEBUFFER,F.__webglFramebuffer[Ae]),void 0===F.__webglDepthbuffer[Ae])F.__webglDepthbuffer[Ae]=r.createRenderbuffer(),De(F.__webglDepthbuffer[Ae],G,!1);else{const Me=G.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,xe=F.__webglDepthbuffer[Ae];r.bindRenderbuffer(r.RENDERBUFFER,xe),r.framebufferRenderbuffer(r.FRAMEBUFFER,Me,r.RENDERBUFFER,xe)}}else if(i.bindFramebuffer(r.FRAMEBUFFER,F.__webglFramebuffer),void 0===F.__webglDepthbuffer)F.__webglDepthbuffer=r.createRenderbuffer(),De(F.__webglDepthbuffer,G,!1);else{const Ae=G.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Me=F.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,Me),r.framebufferRenderbuffer(r.FRAMEBUFFER,Ae,r.RENDERBUFFER,Me)}i.bindFramebuffer(r.FRAMEBUFFER,null)}const be=[],H=[];function ze(G){return Math.min(a.maxSamples,G.samples)}function Fe(G){const F=s.get(G);return G.samples>0&&!0===n.has("WEBGL_multisampled_render_to_texture")&&!1!==F.__useRenderToTexture}function Pt(G,F){const oe=G.colorSpace,Ae=G.format,Me=G.type;return!0===G.isCompressedTexture||!0===G.isVideoTexture||oe!==ki&&""!==oe&&(jn.getTransfer(oe)===er?(Ae!==Ni||Me!==Cr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",oe)),F}function ot(G){return typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement?(h.width=G.naturalWidth||G.width,h.height=G.naturalHeight||G.height):typeof VideoFrame<"u"&&G instanceof VideoFrame?(h.width=G.displayWidth,h.height=G.displayHeight):(h.width=G.width,h.height=G.height),h}this.allocateTextureUnit=function k(){const G=C;return G>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+a.maxTextures),C+=1,G},this.resetTextureUnits=function I(){C=0},this.setTexture2D=z,this.setTexture2DArray=function q(G,F){const oe=s.get(G);G.version>0&&oe.__version!==G.version?Ve(oe,G,F):i.bindTexture(r.TEXTURE_2D_ARRAY,oe.__webglTexture,r.TEXTURE0+F)},this.setTexture3D=function R(G,F){const oe=s.get(G);G.version>0&&oe.__version!==G.version?Ve(oe,G,F):i.bindTexture(r.TEXTURE_3D,oe.__webglTexture,r.TEXTURE0+F)},this.setTextureCube=function V(G,F){const oe=s.get(G);G.version>0&&oe.__version!==G.version?function ie(G,F,oe){if(6!==F.image.length)return;const Ae=Pe(G,F),Me=F.source;i.bindTexture(r.TEXTURE_CUBE_MAP,G.__webglTexture,r.TEXTURE0+oe);const xe=s.get(Me);if(Me.version!==xe.__version||!0===Ae){i.activeTexture(r.TEXTURE0+oe);const Ct=jn.getPrimaries(jn.workingColorSpace),Ke=""===F.colorSpace?null:jn.getPrimaries(F.colorSpace),dt=""===F.colorSpace||Ct===Ke?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,F.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,F.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);const qn=F.isCompressedTexture||F.image[0].isCompressedTexture,Ne=F.image[0]&&F.image[0].isDataTexture,ut=[];for(let Se=0;Se<6;Se++)ut[Se]=qn||Ne?Ne?F.image[Se].image:F.image[Se]:v(F.image[Se],!0,a.maxCubemapSize),ut[Se]=Pt(F,ut[Se]);const dn=ut[0],un=l.convert(F.format,F.colorSpace),yt=l.convert(F.type),Yn=A(F.internalFormat,un,yt,F.colorSpace),vn=!0!==F.isVideoTexture,Wi=void 0===xe.__version||!0===Ae,K=Me.dataReady;let ye,at=w(F,dn);if(fe(r.TEXTURE_CUBE_MAP,F),qn){vn&&Wi&&i.texStorage2D(r.TEXTURE_CUBE_MAP,at,Yn,dn.width,dn.height);for(let Se=0;Se<6;Se++){ye=ut[Se].mipmaps;for(let rt=0;rt<ye.length;rt++){const lt=ye[rt];F.format!==Ni?null!==un?vn?K&&i.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt,0,0,lt.width,lt.height,un,lt.data):i.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt,Yn,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):vn?K&&i.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt,0,0,lt.width,lt.height,un,yt,lt.data):i.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt,Yn,lt.width,lt.height,0,un,yt,lt.data)}}}else{if(ye=F.mipmaps,vn&&Wi){ye.length>0&&at++;const Se=ot(ut[0]);i.texStorage2D(r.TEXTURE_CUBE_MAP,at,Yn,Se.width,Se.height)}for(let Se=0;Se<6;Se++)if(Ne){vn?K&&i.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,ut[Se].width,ut[Se].height,un,yt,ut[Se].data):i.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Yn,ut[Se].width,ut[Se].height,0,un,yt,ut[Se].data);for(let rt=0;rt<ye.length;rt++){const Zn=ye[rt].image[Se].image;vn?K&&i.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt+1,0,0,Zn.width,Zn.height,un,yt,Zn.data):i.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt+1,Yn,Zn.width,Zn.height,0,un,yt,Zn.data)}}else{vn?K&&i.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,0,0,un,yt,ut[Se]):i.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,0,Yn,un,yt,ut[Se]);for(let rt=0;rt<ye.length;rt++){const lt=ye[rt];vn?K&&i.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt+1,0,0,un,yt,lt.image[Se]):i.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+Se,rt+1,Yn,un,yt,lt.image[Se])}}}y(F)&&b(r.TEXTURE_CUBE_MAP),xe.__version=Me.version,F.onUpdate&&F.onUpdate(F)}G.__version=F.version}(oe,G,F):i.bindTexture(r.TEXTURE_CUBE_MAP,oe.__webglTexture,r.TEXTURE0+F)},this.rebindTextures=function et(G,F,oe){const Ae=s.get(G);void 0!==F&&pe(Ae.__webglFramebuffer,G,G.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),void 0!==oe&&tt(G)},this.setupRenderTarget=function mt(G){const F=G.texture,oe=s.get(G),Ae=s.get(F);G.addEventListener("dispose",M);const Me=G.textures,xe=!0===G.isWebGLCubeRenderTarget,Ct=Me.length>1;if(Ct||(void 0===Ae.__webglTexture&&(Ae.__webglTexture=r.createTexture()),Ae.__version=F.version,c.memory.textures++),xe){oe.__webglFramebuffer=[];for(let Ke=0;Ke<6;Ke++)if(F.mipmaps&&F.mipmaps.length>0){oe.__webglFramebuffer[Ke]=[];for(let dt=0;dt<F.mipmaps.length;dt++)oe.__webglFramebuffer[Ke][dt]=r.createFramebuffer()}else oe.__webglFramebuffer[Ke]=r.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Ke=0;Ke<F.mipmaps.length;Ke++)oe.__webglFramebuffer[Ke]=r.createFramebuffer()}else oe.__webglFramebuffer=r.createFramebuffer();if(Ct)for(let Ke=0,dt=Me.length;Ke<dt;Ke++){const qn=s.get(Me[Ke]);void 0===qn.__webglTexture&&(qn.__webglTexture=r.createTexture(),c.memory.textures++)}if(G.samples>0&&!1===Fe(G)){oe.__webglMultisampledFramebuffer=r.createFramebuffer(),oe.__webglColorRenderbuffer=[],i.bindFramebuffer(r.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Ke=0;Ke<Me.length;Ke++){const dt=Me[Ke];oe.__webglColorRenderbuffer[Ke]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,oe.__webglColorRenderbuffer[Ke]);const qn=l.convert(dt.format,dt.colorSpace),Ne=l.convert(dt.type),ut=A(dt.internalFormat,qn,Ne,dt.colorSpace,!0===G.isXRRenderTarget),dn=ze(G);r.renderbufferStorageMultisample(r.RENDERBUFFER,dn,ut,G.width,G.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Ke,r.RENDERBUFFER,oe.__webglColorRenderbuffer[Ke])}r.bindRenderbuffer(r.RENDERBUFFER,null),G.depthBuffer&&(oe.__webglDepthRenderbuffer=r.createRenderbuffer(),De(oe.__webglDepthRenderbuffer,G,!0)),i.bindFramebuffer(r.FRAMEBUFFER,null)}}if(xe){i.bindTexture(r.TEXTURE_CUBE_MAP,Ae.__webglTexture),fe(r.TEXTURE_CUBE_MAP,F);for(let Ke=0;Ke<6;Ke++)if(F.mipmaps&&F.mipmaps.length>0)for(let dt=0;dt<F.mipmaps.length;dt++)pe(oe.__webglFramebuffer[Ke][dt],G,F,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,dt);else pe(oe.__webglFramebuffer[Ke],G,F,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0);y(F)&&b(r.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(Ct){for(let Ke=0,dt=Me.length;Ke<dt;Ke++){const qn=Me[Ke],Ne=s.get(qn);i.bindTexture(r.TEXTURE_2D,Ne.__webglTexture),fe(r.TEXTURE_2D,qn),pe(oe.__webglFramebuffer,G,qn,r.COLOR_ATTACHMENT0+Ke,r.TEXTURE_2D,0),y(qn)&&b(r.TEXTURE_2D)}i.unbindTexture()}else{let Ke=r.TEXTURE_2D;if((G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(Ke=G.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),i.bindTexture(Ke,Ae.__webglTexture),fe(Ke,F),F.mipmaps&&F.mipmaps.length>0)for(let dt=0;dt<F.mipmaps.length;dt++)pe(oe.__webglFramebuffer[dt],G,F,r.COLOR_ATTACHMENT0,Ke,dt);else pe(oe.__webglFramebuffer,G,F,r.COLOR_ATTACHMENT0,Ke,0);y(F)&&b(Ke),i.unbindTexture()}G.depthBuffer&&tt(G)},this.updateRenderTargetMipmap=function Tt(G){const F=G.textures;for(let oe=0,Ae=F.length;oe<Ae;oe++){const Me=F[oe];if(y(Me)){const xe=G.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D,Ct=s.get(Me).__webglTexture;i.bindTexture(xe,Ct),b(xe),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function Le(G){if(G.samples>0)if(!1===Fe(G)){const F=G.textures,oe=G.width,Ae=G.height;let Me=r.COLOR_BUFFER_BIT;const xe=G.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,Ct=s.get(G),Ke=F.length>1;if(Ke)for(let dt=0;dt<F.length;dt++)i.bindFramebuffer(r.FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+dt,r.RENDERBUFFER,null),i.bindFramebuffer(r.FRAMEBUFFER,Ct.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+dt,r.TEXTURE_2D,null,0);i.bindFramebuffer(r.READ_FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),i.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ct.__webglFramebuffer);for(let dt=0;dt<F.length;dt++){if(G.resolveDepthBuffer&&(G.depthBuffer&&(Me|=r.DEPTH_BUFFER_BIT),G.stencilBuffer&&G.resolveStencilBuffer&&(Me|=r.STENCIL_BUFFER_BIT)),Ke){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,Ct.__webglColorRenderbuffer[dt]);const qn=s.get(F[dt]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,qn,0)}r.blitFramebuffer(0,0,oe,Ae,0,0,oe,Ae,Me,r.NEAREST),!0===u&&(be.length=0,H.length=0,be.push(r.COLOR_ATTACHMENT0+dt),G.depthBuffer&&!1===G.resolveDepthBuffer&&(be.push(xe),H.push(xe),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,H)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,be))}if(i.bindFramebuffer(r.READ_FRAMEBUFFER,null),i.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),Ke)for(let dt=0;dt<F.length;dt++){i.bindFramebuffer(r.FRAMEBUFFER,Ct.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+dt,r.RENDERBUFFER,Ct.__webglColorRenderbuffer[dt]);const qn=s.get(F[dt]).__webglTexture;i.bindFramebuffer(r.FRAMEBUFFER,Ct.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+dt,r.TEXTURE_2D,qn,0)}i.bindFramebuffer(r.DRAW_FRAMEBUFFER,Ct.__webglMultisampledFramebuffer)}else G.depthBuffer&&!1===G.resolveDepthBuffer&&u&&r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[G.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=tt,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=Fe}function q8e(r,n){return{convert:function i(s,a=""){let l;const c=jn.getTransfer(a);if(s===Cr)return r.UNSIGNED_BYTE;if(1017===s)return r.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return r.UNSIGNED_SHORT_5_5_5_1;if(35902===s)return r.UNSIGNED_INT_5_9_9_9_REV;if(1010===s)return r.BYTE;if(1011===s)return r.SHORT;if(s===Xb)return r.UNSIGNED_SHORT;if(1013===s)return r.INT;if(s===vd)return r.UNSIGNED_INT;if(s===Er)return r.FLOAT;if(s===ys)return r.HALF_FLOAT;if(1021===s)return r.ALPHA;if(1022===s)return r.RGB;if(s===Ni)return r.RGBA;if(1024===s)return r.LUMINANCE;if(1025===s)return r.LUMINANCE_ALPHA;if(s===Eg)return r.DEPTH_COMPONENT;if(s===Mg)return r.DEPTH_STENCIL;if(s===Ru)return r.RED;if(1029===s)return r.RED_INTEGER;if(s===wf)return r.RG;if(1031===s)return r.RG_INTEGER;if(1033===s)return r.RGBA_INTEGER;if(s===hM||s===Kb||s===fM||s===Zb)if(c===er){if(l=n.get("WEBGL_compressed_texture_s3tc_srgb"),null===l)return null;if(s===hM)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Kb)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===fM)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Zb)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(l=n.get("WEBGL_compressed_texture_s3tc"),null===l)return null;if(s===hM)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Kb)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===fM)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Zb)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(s===pM||35841===s||s===mM||35843===s){if(l=n.get("WEBGL_compressed_texture_pvrtc"),null===l)return null;if(s===pM)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===mM)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(s===gM||s===_M||s===yM){if(l=n.get("WEBGL_compressed_texture_etc"),null===l)return null;if(s===gM||s===_M)return c===er?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===yM)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}if(s===Jb||37809===s||37810===s||37811===s||s===eA||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(l=n.get("WEBGL_compressed_texture_astc"),null===l)return null;if(s===Jb)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===eA)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return c===er?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}if(s===tA||36494===s||36495===s){if(l=n.get("EXT_texture_compression_bptc"),null===l)return null;if(s===tA)return c===er?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(l=n.get("EXT_texture_compression_rgtc"),null===l)return null;if(s===tA)return l.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Cg?r.UNSIGNED_INT_24_8:void 0!==r[s]?r[s]:null}}}class Y8e extends Wr{constructor(n=[]){super(),this.isArrayCamera=!0,this.cameras=n}}class Sd extends di{constructor(){super(),this.isGroup=!0,this.type="Group"}}const X8e={type:"move"};class UN{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Sd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Sd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new N,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new N),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Sd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new N,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new N),this._grip}dispatchEvent(n){return null!==this._targetRay&&this._targetRay.dispatchEvent(n),null!==this._grip&&this._grip.dispatchEvent(n),null!==this._hand&&this._hand.dispatchEvent(n),this}connect(n){if(n&&n.hand){const i=this._hand;if(i)for(const s of n.hand.values())this._getHandJoint(i,s)}return this.dispatchEvent({type:"connected",data:n}),this}disconnect(n){return this.dispatchEvent({type:"disconnected",data:n}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(n,i,s){let a=null,l=null,c=null;const d=this._targetRay,u=this._grip,h=this._hand;if(n&&"visible-blurred"!==i.session.visibilityState){if(h&&n.hand){c=!0;for(const v of n.hand.values()){const y=i.getJointPose(v,s),b=this._getHandJoint(h,v);null!==y&&(b.matrix.fromArray(y.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=y.radius),b.visible=null!==y}const g=h.joints["index-finger-tip"].position.distanceTo(h.joints["thumb-tip"].position),m=.02,_=.005;h.inputState.pinching&&g>m+_?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:n.handedness,target:this})):!h.inputState.pinching&&g<=m-_&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:n.handedness,target:this}))}else null!==u&&n.gripSpace&&(l=i.getPose(n.gripSpace,s),null!==l&&(u.matrix.fromArray(l.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,l.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(l.linearVelocity)):u.hasLinearVelocity=!1,l.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(l.angularVelocity)):u.hasAngularVelocity=!1));null!==d&&(a=i.getPose(n.targetRaySpace,s),null===a&&null!==l&&(a=l),null!==a&&(d.matrix.fromArray(a.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,a.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(a.linearVelocity)):d.hasLinearVelocity=!1,a.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(a.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(X8e)))}return null!==d&&(d.visible=null!==a),null!==u&&(u.visible=null!==l),null!==h&&(h.visible=null!==c),this}_getHandJoint(n,i){if(void 0===n.joints[i.jointName]){const s=new Sd;s.matrixAutoUpdate=!1,s.visible=!1,n.joints[i.jointName]=s,n.add(s)}return n.joints[i.jointName]}}class J8e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(n,i,s){if(null===this.texture){const a=new ur;n.properties.get(a).__webglTexture=i.texture,(i.depthNear!=s.depthNear||i.depthFar!=s.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=a}}getMesh(n){if(null!==this.texture&&null===this.mesh){const i=n.cameras[0].viewport,s=new ro({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new Vn(new Il(20,20),s)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class e6e extends Ma{constructor(n,i){super();const s=this;let a=null,l=1,c=null,d="local-floor",u=1,h=null,f=null,p=null,g=null,m=null,_=null;const v=new J8e,y=i.getContextAttributes();let b=null,A=null;const x=[],w=[],E=new ve;let M=null;const S=new Wr;S.layers.enable(1),S.viewport=new si;const T=new Wr;T.layers.enable(2),T.viewport=new si;const P=[S,T],C=new Y8e;C.layers.enable(1),C.layers.enable(2);let I=null,k=null;function O(ie){const pe=w.indexOf(ie.inputSource);if(-1===pe)return;const De=x[pe];void 0!==De&&(De.update(ie.inputSource,ie.frame,h||c),De.dispatchEvent({type:ie.type,data:ie.inputSource}))}function z(){a.removeEventListener("select",O),a.removeEventListener("selectstart",O),a.removeEventListener("selectend",O),a.removeEventListener("squeeze",O),a.removeEventListener("squeezestart",O),a.removeEventListener("squeezeend",O),a.removeEventListener("end",z),a.removeEventListener("inputsourceschange",q);for(let ie=0;ie<x.length;ie++){const pe=w[ie];null!==pe&&(w[ie]=null,x[ie].disconnect(pe))}I=null,k=null,v.reset(),n.setRenderTarget(b),m=null,g=null,p=null,a=null,A=null,Ve.stop(),s.isPresenting=!1,n.setPixelRatio(M),n.setSize(E.width,E.height,!1),s.dispatchEvent({type:"sessionend"})}function q(ie){for(let pe=0;pe<ie.removed.length;pe++){const De=ie.removed[pe],Ee=w.indexOf(De);Ee>=0&&(w[Ee]=null,x[Ee].disconnect(De))}for(let pe=0;pe<ie.added.length;pe++){const De=ie.added[pe];let Ee=w.indexOf(De);if(-1===Ee){for(let et=0;et<x.length;et++){if(et>=w.length){w.push(De),Ee=et;break}if(null===w[et]){w[et]=De,Ee=et;break}}if(-1===Ee)break}const tt=x[Ee];tt&&tt.connect(De)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ie){let pe=x[ie];return void 0===pe&&(pe=new UN,x[ie]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ie){let pe=x[ie];return void 0===pe&&(pe=new UN,x[ie]=pe),pe.getGripSpace()},this.getHand=function(ie){let pe=x[ie];return void 0===pe&&(pe=new UN,x[ie]=pe),pe.getHandSpace()},this.setFramebufferScaleFactor=function(ie){l=ie,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ie){d=ie,!0===s.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return h||c},this.setReferenceSpace=function(ie){h=ie},this.getBaseLayer=function(){return null!==g?g:m},this.getBinding=function(){return p},this.getFrame=function(){return _},this.getSession=function(){return a},this.setSession=function(){var ie=ke(function*(pe){if(a=pe,null!==a){if(b=n.getRenderTarget(),a.addEventListener("select",O),a.addEventListener("selectstart",O),a.addEventListener("selectend",O),a.addEventListener("squeeze",O),a.addEventListener("squeezestart",O),a.addEventListener("squeezeend",O),a.addEventListener("end",z),a.addEventListener("inputsourceschange",q),!0!==y.xrCompatible&&(yield i.makeXRCompatible()),M=n.getPixelRatio(),n.getSize(E),void 0===a.renderState.layers)m=new XRWebGLLayer(a,i,{antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:l}),a.updateRenderState({baseLayer:m}),n.setPixelRatio(1),n.setSize(m.framebufferWidth,m.framebufferHeight,!1),A=new Lo(m.framebufferWidth,m.framebufferHeight,{format:Ni,type:Cr,colorSpace:n.outputColorSpace,stencilBuffer:y.stencil});else{let De=null,Ee=null,tt=null;y.depth&&(tt=y.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,De=y.stencil?Mg:Eg,Ee=y.stencil?Cg:vd);const et={colorFormat:i.RGBA8,depthFormat:tt,scaleFactor:l};p=new XRWebGLBinding(a,i),g=p.createProjectionLayer(et),a.updateRenderState({layers:[g]}),n.setPixelRatio(1),n.setSize(g.textureWidth,g.textureHeight,!1),A=new Lo(g.textureWidth,g.textureHeight,{format:Ni,type:Cr,depthTexture:new $K(g.textureWidth,g.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,De),stencilBuffer:y.stencil,colorSpace:n.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:!1===g.ignoreDepthValues})}A.isXRRenderTarget=!0,this.setFoveation(u),h=null,c=yield a.requestReferenceSpace(d),Ve.setContext(a),Ve.start(),s.isPresenting=!0,s.dispatchEvent({type:"sessionstart"})}});return function(pe){return ie.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==a)return a.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};const R=new N,V=new N;function X(ie,pe){null===pe?ie.matrixWorld.copy(ie.matrix):ie.matrixWorld.multiplyMatrices(pe.matrixWorld,ie.matrix),ie.matrixWorldInverse.copy(ie.matrixWorld).invert()}this.updateCamera=function(ie){if(null===a)return;let pe=ie.near,De=ie.far;null!==v.texture&&(v.depthNear>0&&(pe=v.depthNear),v.depthFar>0&&(De=v.depthFar)),C.near=T.near=S.near=pe,C.far=T.far=S.far=De,(I!==C.near||k!==C.far)&&(a.updateRenderState({depthNear:C.near,depthFar:C.far}),I=C.near,k=C.far);const Ee=ie.parent,tt=C.cameras;X(C,Ee);for(let et=0;et<tt.length;et++)X(tt[et],Ee);2===tt.length?function U(ie,pe,De){R.setFromMatrixPosition(pe.matrixWorld),V.setFromMatrixPosition(De.matrixWorld);const Ee=R.distanceTo(V),tt=pe.projectionMatrix.elements,et=De.projectionMatrix.elements,mt=tt[14]/(tt[10]-1),Tt=tt[14]/(tt[10]+1),be=(tt[9]+1)/tt[5],H=(tt[9]-1)/tt[5],Le=(tt[8]-1)/tt[0],ze=(et[8]+1)/et[0],Fe=mt*Le,We=mt*ze,Pt=Ee/(-Le+ze),ot=Pt*-Le;if(pe.matrixWorld.decompose(ie.position,ie.quaternion,ie.scale),ie.translateX(ot),ie.translateZ(Pt),ie.matrixWorld.compose(ie.position,ie.quaternion,ie.scale),ie.matrixWorldInverse.copy(ie.matrixWorld).invert(),-1===tt[10])ie.projectionMatrix.copy(pe.projectionMatrix),ie.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const G=mt+Pt,F=Tt+Pt;ie.projectionMatrix.makePerspective(Fe-ot,We+(Ee-ot),be*Tt/F*G,H*Tt/F*G,G,F),ie.projectionMatrixInverse.copy(ie.projectionMatrix).invert()}}(C,S,T):C.projectionMatrix.copy(S.projectionMatrix),function ae(ie,pe,De){null===De?ie.matrix.copy(pe.matrixWorld):(ie.matrix.copy(De.matrixWorld),ie.matrix.invert(),ie.matrix.multiply(pe.matrixWorld)),ie.matrix.decompose(ie.position,ie.quaternion,ie.scale),ie.updateMatrixWorld(!0),ie.projectionMatrix.copy(pe.projectionMatrix),ie.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ie.isPerspectiveCamera&&(ie.fov=2*kg*Math.atan(1/ie.projectionMatrix.elements[5]),ie.zoom=1)}(ie,C,Ee)},this.getCamera=function(){return C},this.getFoveation=function(){if(null!==g||null!==m)return u},this.setFoveation=function(ie){u=ie,null!==g&&(g.fixedFoveation=ie),null!==m&&void 0!==m.fixedFoveation&&(m.fixedFoveation=ie)},this.hasDepthSensing=function(){return null!==v.texture},this.getDepthSensingMesh=function(){return v.getMesh(C)};let fe=null;const Ve=new NK;Ve.setAnimationLoop(function Pe(ie,pe){if(f=pe.getViewerPose(h||c),_=pe,null!==f){const De=f.views;null!==m&&(n.setRenderTargetFramebuffer(A,m.framebuffer),n.setRenderTarget(A));let Ee=!1;De.length!==C.cameras.length&&(C.cameras.length=0,Ee=!0);for(let et=0;et<De.length;et++){const mt=De[et];let Tt=null;if(null!==m)Tt=m.getViewport(mt);else{const H=p.getViewSubImage(g,mt);Tt=H.viewport,0===et&&(n.setRenderTargetTextures(A,H.colorTexture,g.ignoreDepthValues?void 0:H.depthStencilTexture),n.setRenderTarget(A))}let be=P[et];void 0===be&&(be=new Wr,be.layers.enable(et),be.viewport=new si,P[et]=be),be.matrix.fromArray(mt.transform.matrix),be.matrix.decompose(be.position,be.quaternion,be.scale),be.projectionMatrix.fromArray(mt.projectionMatrix),be.projectionMatrixInverse.copy(be.projectionMatrix).invert(),be.viewport.set(Tt.x,Tt.y,Tt.width,Tt.height),0===et&&(C.matrix.copy(be.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===Ee&&C.cameras.push(be)}const tt=a.enabledFeatures;if(tt&&tt.includes("depth-sensing")){const et=p.getDepthInformation(De[0]);et&&et.isValid&&et.texture&&v.init(n,et,a.renderState)}}for(let De=0;De<x.length;De++){const Ee=w[De],tt=x[De];null!==Ee&&void 0!==tt&&tt.update(Ee,pe,h||c)}fe&&fe(ie,pe),pe.detectedPlanes&&s.dispatchEvent({type:"planesdetected",data:pe}),_=null}),this.setAnimationLoop=function(ie){fe=ie},this.dispose=function(){}}}const Nf=new Ml,t6e=new vt;function n6e(r,n){function i(y,b){!0===y.matrixAutoUpdate&&y.updateMatrix(),b.value.copy(y.matrix)}function l(y,b){y.opacity.value=b.opacity,b.color&&y.diffuse.value.copy(b.color),b.emissive&&y.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(y.map.value=b.map,i(b.map,y.mapTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,i(b.alphaMap,y.alphaMapTransform)),b.bumpMap&&(y.bumpMap.value=b.bumpMap,i(b.bumpMap,y.bumpMapTransform),y.bumpScale.value=b.bumpScale,1===b.side&&(y.bumpScale.value*=-1)),b.normalMap&&(y.normalMap.value=b.normalMap,i(b.normalMap,y.normalMapTransform),y.normalScale.value.copy(b.normalScale),1===b.side&&y.normalScale.value.negate()),b.displacementMap&&(y.displacementMap.value=b.displacementMap,i(b.displacementMap,y.displacementMapTransform),y.displacementScale.value=b.displacementScale,y.displacementBias.value=b.displacementBias),b.emissiveMap&&(y.emissiveMap.value=b.emissiveMap,i(b.emissiveMap,y.emissiveMapTransform)),b.specularMap&&(y.specularMap.value=b.specularMap,i(b.specularMap,y.specularMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest);const A=n.get(b),x=A.envMap,w=A.envMapRotation;x&&(y.envMap.value=x,Nf.copy(w),Nf.x*=-1,Nf.y*=-1,Nf.z*=-1,x.isCubeTexture&&!1===x.isRenderTargetTexture&&(Nf.y*=-1,Nf.z*=-1),y.envMapRotation.value.setFromMatrix4(t6e.makeRotationFromEuler(Nf)),y.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,y.reflectivity.value=b.reflectivity,y.ior.value=b.ior,y.refractionRatio.value=b.refractionRatio),b.lightMap&&(y.lightMap.value=b.lightMap,y.lightMapIntensity.value=b.lightMapIntensity,i(b.lightMap,y.lightMapTransform)),b.aoMap&&(y.aoMap.value=b.aoMap,y.aoMapIntensity.value=b.aoMapIntensity,i(b.aoMap,y.aoMapTransform))}return{refreshFogUniforms:function s(y,b){b.color.getRGB(y.fogColor.value,PK(r)),b.isFog?(y.fogNear.value=b.near,y.fogFar.value=b.far):b.isFogExp2&&(y.fogDensity.value=b.density)},refreshMaterialUniforms:function a(y,b,A,x,w){b.isMeshBasicMaterial||b.isMeshLambertMaterial?l(y,b):b.isMeshToonMaterial?(l(y,b),function p(y,b){b.gradientMap&&(y.gradientMap.value=b.gradientMap)}(y,b)):b.isMeshPhongMaterial?(l(y,b),function f(y,b){y.specular.value.copy(b.specular),y.shininess.value=Math.max(b.shininess,1e-4)}(y,b)):b.isMeshStandardMaterial?(l(y,b),function g(y,b){y.metalness.value=b.metalness,b.metalnessMap&&(y.metalnessMap.value=b.metalnessMap,i(b.metalnessMap,y.metalnessMapTransform)),y.roughness.value=b.roughness,b.roughnessMap&&(y.roughnessMap.value=b.roughnessMap,i(b.roughnessMap,y.roughnessMapTransform)),b.envMap&&(y.envMapIntensity.value=b.envMapIntensity)}(y,b),b.isMeshPhysicalMaterial&&function m(y,b,A){y.ior.value=b.ior,b.sheen>0&&(y.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),y.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(y.sheenColorMap.value=b.sheenColorMap,i(b.sheenColorMap,y.sheenColorMapTransform)),b.sheenRoughnessMap&&(y.sheenRoughnessMap.value=b.sheenRoughnessMap,i(b.sheenRoughnessMap,y.sheenRoughnessMapTransform))),b.clearcoat>0&&(y.clearcoat.value=b.clearcoat,y.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(y.clearcoatMap.value=b.clearcoatMap,i(b.clearcoatMap,y.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(y.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,i(b.clearcoatRoughnessMap,y.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(y.clearcoatNormalMap.value=b.clearcoatNormalMap,i(b.clearcoatNormalMap,y.clearcoatNormalMapTransform),y.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),1===b.side&&y.clearcoatNormalScale.value.negate())),b.dispersion>0&&(y.dispersion.value=b.dispersion),b.iridescence>0&&(y.iridescence.value=b.iridescence,y.iridescenceIOR.value=b.iridescenceIOR,y.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],y.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(y.iridescenceMap.value=b.iridescenceMap,i(b.iridescenceMap,y.iridescenceMapTransform)),b.iridescenceThicknessMap&&(y.iridescenceThicknessMap.value=b.iridescenceThicknessMap,i(b.iridescenceThicknessMap,y.iridescenceThicknessMapTransform))),b.transmission>0&&(y.transmission.value=b.transmission,y.transmissionSamplerMap.value=A.texture,y.transmissionSamplerSize.value.set(A.width,A.height),b.transmissionMap&&(y.transmissionMap.value=b.transmissionMap,i(b.transmissionMap,y.transmissionMapTransform)),y.thickness.value=b.thickness,b.thicknessMap&&(y.thicknessMap.value=b.thicknessMap,i(b.thicknessMap,y.thicknessMapTransform)),y.attenuationDistance.value=b.attenuationDistance,y.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(y.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(y.anisotropyMap.value=b.anisotropyMap,i(b.anisotropyMap,y.anisotropyMapTransform))),y.specularIntensity.value=b.specularIntensity,y.specularColor.value.copy(b.specularColor),b.specularColorMap&&(y.specularColorMap.value=b.specularColorMap,i(b.specularColorMap,y.specularColorMapTransform)),b.specularIntensityMap&&(y.specularIntensityMap.value=b.specularIntensityMap,i(b.specularIntensityMap,y.specularIntensityMapTransform))}(y,b,w)):b.isMeshMatcapMaterial?(l(y,b),function _(y,b){b.matcap&&(y.matcap.value=b.matcap)}(y,b)):b.isMeshDepthMaterial?l(y,b):b.isMeshDistanceMaterial?(l(y,b),function v(y,b){const A=n.get(b).light;y.referencePosition.value.setFromMatrixPosition(A.matrixWorld),y.nearDistance.value=A.shadow.camera.near,y.farDistance.value=A.shadow.camera.far}(y,b)):b.isMeshNormalMaterial?l(y,b):b.isLineBasicMaterial?(function c(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,b.map&&(y.map.value=b.map,i(b.map,y.mapTransform))}(y,b),b.isLineDashedMaterial&&function d(y,b){y.dashSize.value=b.dashSize,y.totalSize.value=b.dashSize+b.gapSize,y.scale.value=b.scale}(y,b)):b.isPointsMaterial?function u(y,b,A,x){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.size.value=b.size*A,y.scale.value=.5*x,b.map&&(y.map.value=b.map,i(b.map,y.uvTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,i(b.alphaMap,y.alphaMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest)}(y,b,A,x):b.isSpriteMaterial?function h(y,b){y.diffuse.value.copy(b.color),y.opacity.value=b.opacity,y.rotation.value=b.rotation,b.map&&(y.map.value=b.map,i(b.map,y.mapTransform)),b.alphaMap&&(y.alphaMap.value=b.alphaMap,i(b.alphaMap,y.alphaMapTransform)),b.alphaTest>0&&(y.alphaTest.value=b.alphaTest)}(y,b):b.isShadowMaterial?(y.color.value.copy(b.color),y.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}}}function i6e(r,n,i,s){let a={},l={},c=[];const d=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function m(A,x,w,E){const M=A.value,S=x+"_"+w;if(void 0===E[S])return E[S]="number"==typeof M||"boolean"==typeof M?M:M.clone(),!0;{const T=E[S];if("number"==typeof M||"boolean"==typeof M){if(T!==M)return E[S]=M,!0}else if(!1===T.equals(M))return T.copy(M),!0}return!1}function v(A){const x={boundary:0,storage:0};return"number"==typeof A||"boolean"==typeof A?(x.boundary=4,x.storage=4):A.isVector2?(x.boundary=8,x.storage=8):A.isVector3||A.isColor?(x.boundary=16,x.storage=12):A.isVector4?(x.boundary=16,x.storage=16):A.isMatrix3?(x.boundary=48,x.storage=48):A.isMatrix4?(x.boundary=64,x.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),x}function y(A){const x=A.target;x.removeEventListener("dispose",y);const w=c.indexOf(x.__bindingPointIndex);c.splice(w,1),r.deleteBuffer(a[x.id]),delete a[x.id],delete l[x.id]}return{bind:function u(A,x){s.uniformBlockBinding(A,x.program)},update:function h(A,x){let w=a[A.id];void 0===w&&(function _(A){const x=A.uniforms;let w=0;for(let S=0,T=x.length;S<T;S++){const P=Array.isArray(x[S])?x[S]:[x[S]];for(let C=0,I=P.length;C<I;C++){const k=P[C],O=Array.isArray(k.value)?k.value:[k.value];for(let z=0,q=O.length;z<q;z++){const V=v(O[z]),U=w%16,X=U%V.boundary,ae=U+X;w+=X,0!==ae&&16-ae<V.storage&&(w+=16-ae),k.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=w,w+=V.storage}}}const M=w%16;M>0&&(w+=16-M),A.__size=w,A.__cache={}}(A),w=function f(A){const x=function p(){for(let A=0;A<d;A++)if(-1===c.indexOf(A))return c.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();A.__bindingPointIndex=x;const w=r.createBuffer(),E=A.__size,M=A.usage;return r.bindBuffer(r.UNIFORM_BUFFER,w),r.bufferData(r.UNIFORM_BUFFER,E,M),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,x,w),w}(A),a[A.id]=w,A.addEventListener("dispose",y)),s.updateUBOMapping(A,x.program);const M=n.render.frame;l[A.id]!==M&&(function g(A){const w=A.uniforms,E=A.__cache;r.bindBuffer(r.UNIFORM_BUFFER,a[A.id]);for(let M=0,S=w.length;M<S;M++){const T=Array.isArray(w[M])?w[M]:[w[M]];for(let P=0,C=T.length;P<C;P++){const I=T[P];if(!0===m(I,M,P,E)){const k=I.__offset,O=Array.isArray(I.value)?I.value:[I.value];let z=0;for(let q=0;q<O.length;q++){const R=O[q],V=v(R);"number"==typeof R||"boolean"==typeof R?(I.__data[0]=R,r.bufferSubData(r.UNIFORM_BUFFER,k+z,I.__data)):R.isMatrix3?(I.__data[0]=R.elements[0],I.__data[1]=R.elements[1],I.__data[2]=R.elements[2],I.__data[3]=0,I.__data[4]=R.elements[3],I.__data[5]=R.elements[4],I.__data[6]=R.elements[5],I.__data[7]=0,I.__data[8]=R.elements[6],I.__data[9]=R.elements[7],I.__data[10]=R.elements[8],I.__data[11]=0):(R.toArray(I.__data,z),z+=V.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,k,I.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}(A),l[A.id]=M)},dispose:function b(){for(const A in a)r.deleteBuffer(a[A]);c=[],a={},l={}}}}class zN{constructor(n={}){const{canvas:i=MVe(),context:s=null,depth:a=!0,stencil:l=!1,alpha:c=!1,antialias:d=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:h=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:p=!1}=n;let g;if(this.isWebGLRenderer=!0,null!==s){if(typeof WebGLRenderingContext<"u"&&s instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=s.getContextAttributes().alpha}else g=c;const m=new Uint32Array(4),_=new Int32Array(4);let v=null,y=null;const b=[],A=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ji,this.toneMapping=0,this.toneMappingExposure=1;const x=this;let w=!1,E=0,M=0,S=null,T=-1,P=null;const C=new si,I=new si;let k=null;const O=new Be(0);let z=0,q=i.width,R=i.height,V=1,U=null,X=null;const ae=new si(0,0,q,R),fe=new si(0,0,q,R);let Pe=!1;const Ve=new WM;let ie=!1,pe=!1;const De=new vt,Ee=new vt,tt=new N,et=new si,mt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Tt=!1;function be(){return null===S?V:1}let ze,Fe,We,Pt,ot,G,F,oe,Ae,Me,xe,Ct,Ke,dt,qn,Ne,ut,dn,un,yt,Yn,vn,Wi,K,H=s;function Le(B,Z){return i.getContext(B,Z)}try{const B={alpha:!0,depth:a,stencil:l,antialias:d,premultipliedAlpha:u,preserveDrawingBuffer:h,powerPreference:f,failIfMajorPerformanceCaveat:p};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r169"),i.addEventListener("webglcontextlost",Se,!1),i.addEventListener("webglcontextrestored",rt,!1),i.addEventListener("webglcontextcreationerror",lt,!1),null===H){const Z="webgl2";if(H=Le(Z,B),null===H)throw Le(Z)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(B){throw console.error("THREE.WebGLRenderer: "+B.message),B}function at(){ze=new lGe(H),ze.init(),vn=new q8e(H,ze),Fe=new nGe(H,ze,n,vn),We=new H8e(H),Fe.reverseDepthBuffer&&We.buffers.depth.setReversed(!0),Pt=new uGe(H),ot=new T8e,G=new W8e(H,ze,We,ot,Fe,vn,Pt),F=new rGe(x),oe=new aGe(x),Ae=new ZVe(H),Wi=new eGe(H,Ae),Me=new cGe(H,Ae,Pt,Wi),xe=new fGe(H,Me,Ae,Pt),un=new hGe(H,Fe,G),Ne=new iGe(ot),Ct=new I8e(x,F,oe,ze,Fe,Wi,Ne),Ke=new n6e(x,ot),dt=new R8e,qn=new B8e(ze),dn=new JHe(x,F,oe,We,xe,g,u),ut=new z8e(x,xe,Fe),K=new i6e(H,Pt,Fe,We),yt=new tGe(H,ze,Pt),Yn=new dGe(H,ze,Pt),Pt.programs=Ct.programs,x.capabilities=Fe,x.extensions=ze,x.properties=ot,x.renderLists=dt,x.shadowMap=ut,x.state=We,x.info=Pt}at();const ye=new e6e(x,H);function Se(B){B.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function rt(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const B=Pt.autoReset,Z=ut.enabled,le=ut.autoUpdate,he=ut.needsUpdate,te=ut.type;at(),Pt.autoReset=B,ut.enabled=Z,ut.autoUpdate=le,ut.needsUpdate=he,ut.type=te}function lt(B){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",B.statusMessage)}function Zn(B){const Z=B.target;Z.removeEventListener("dispose",Zn),function os(B){(function da(B){const Z=ot.get(B).programs;void 0!==Z&&(Z.forEach(function(le){Ct.releaseProgram(le)}),B.isShaderMaterial&&Ct.releaseShaderCache(B))})(B),ot.remove(B)}(Z)}function ui(B,Z,le){!0===B.transparent&&2===B.side&&!1===B.forceSinglePass?(B.side=1,B.needsUpdate=!0,jI(B,Z,le),B.side=0,B.needsUpdate=!0,jI(B,Z,le),B.side=2):jI(B,Z,le)}this.xr=ye,this.getContext=function(){return H},this.getContextAttributes=function(){return H.getContextAttributes()},this.forceContextLoss=function(){const B=ze.get("WEBGL_lose_context");B&&B.loseContext()},this.forceContextRestore=function(){const B=ze.get("WEBGL_lose_context");B&&B.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(B){void 0!==B&&(V=B,this.setSize(q,R,!1))},this.getSize=function(B){return B.set(q,R)},this.setSize=function(B,Z,le=!0){ye.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(q=B,R=Z,i.width=Math.floor(B*V),i.height=Math.floor(Z*V),!0===le&&(i.style.width=B+"px",i.style.height=Z+"px"),this.setViewport(0,0,B,Z))},this.getDrawingBufferSize=function(B){return B.set(q*V,R*V).floor()},this.setDrawingBufferSize=function(B,Z,le){q=B,R=Z,V=le,i.width=Math.floor(B*le),i.height=Math.floor(Z*le),this.setViewport(0,0,B,Z)},this.getCurrentViewport=function(B){return B.copy(C)},this.getViewport=function(B){return B.copy(ae)},this.setViewport=function(B,Z,le,he){B.isVector4?ae.set(B.x,B.y,B.z,B.w):ae.set(B,Z,le,he),We.viewport(C.copy(ae).multiplyScalar(V).round())},this.getScissor=function(B){return B.copy(fe)},this.setScissor=function(B,Z,le,he){B.isVector4?fe.set(B.x,B.y,B.z,B.w):fe.set(B,Z,le,he),We.scissor(I.copy(fe).multiplyScalar(V).round())},this.getScissorTest=function(){return Pe},this.setScissorTest=function(B){We.setScissorTest(Pe=B)},this.setOpaqueSort=function(B){U=B},this.setTransparentSort=function(B){X=B},this.getClearColor=function(B){return B.copy(dn.getClearColor())},this.setClearColor=function(){dn.setClearColor.apply(dn,arguments)},this.getClearAlpha=function(){return dn.getClearAlpha()},this.setClearAlpha=function(){dn.setClearAlpha.apply(dn,arguments)},this.clear=function(B=!0,Z=!0,le=!0){let he=0;if(B){let te=!1;if(null!==S){const Ue=S.texture.format;te=1033===Ue||1031===Ue||1029===Ue}if(te){const Ue=S.texture.type,nt=Ue===Cr||Ue===vd||Ue===Xb||Ue===Cg||1017===Ue||1018===Ue,xt=dn.getClearColor(),At=dn.getClearAlpha(),nn=xt.r,sn=xt.g,Ft=xt.b;nt?(m[0]=nn,m[1]=sn,m[2]=Ft,m[3]=At,H.clearBufferuiv(H.COLOR,0,m)):(_[0]=nn,_[1]=sn,_[2]=Ft,_[3]=At,H.clearBufferiv(H.COLOR,0,_))}else he|=H.COLOR_BUFFER_BIT}Z&&(he|=H.DEPTH_BUFFER_BIT,H.clearDepth(this.capabilities.reverseDepthBuffer?0:1)),le&&(he|=H.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),H.clear(he)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Se,!1),i.removeEventListener("webglcontextrestored",rt,!1),i.removeEventListener("webglcontextcreationerror",lt,!1),dt.dispose(),qn.dispose(),ot.dispose(),F.dispose(),oe.dispose(),xe.dispose(),Wi.dispose(),K.dispose(),Ct.dispose(),ye.dispose(),ye.removeEventListener("sessionstart",Cre),ye.removeEventListener("sessionend",Ere),fp.stop()},this.renderBufferDirect=function(B,Z,le,he,te,Ue){null===Z&&(Z=mt);const nt=te.isMesh&&te.matrixWorld.determinant()<0,xt=function aqe(B,Z,le,he,te){!0!==Z.isScene&&(Z=mt),G.resetTextureUnits();const Ue=Z.fog,xt=null===S?x.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:ki,At=(he.isMeshStandardMaterial?oe:F).get(he.envMap||(he.isMeshStandardMaterial?Z.environment:null)),nn=!0===he.vertexColors&&!!le.attributes.color&&4===le.attributes.color.itemSize,sn=!!le.attributes.tangent&&(!!he.normalMap||he.anisotropy>0),Ft=!!le.morphAttributes.position,hi=!!le.morphAttributes.normal,pr=!!le.morphAttributes.color;let ir=0;he.toneMapped&&(null===S||!0===S.isXRRenderTarget)&&(ir=x.toneMapping);const Ra=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,bi=void 0!==Ra?Ra.length:0,Ot=ot.get(he),Ws=y.state.lights;!0!==ie||!0!==pe&&B===P||Ne.setState(he,B,B===P&&he.id===T);let Ai=!1;he.version===Ot.__version?(Ot.needsLights&&Ot.lightsStateVersion!==Ws.state.version||Ot.outputColorSpace!==xt||te.isBatchedMesh&&!1===Ot.batching||!te.isBatchedMesh&&!0===Ot.batching||te.isBatchedMesh&&!0===Ot.batchingColor&&null===te.colorTexture||te.isBatchedMesh&&!1===Ot.batchingColor&&null!==te.colorTexture||te.isInstancedMesh&&!1===Ot.instancing||!te.isInstancedMesh&&!0===Ot.instancing||te.isSkinnedMesh&&!1===Ot.skinning||!te.isSkinnedMesh&&!0===Ot.skinning||te.isInstancedMesh&&!0===Ot.instancingColor&&null===te.instanceColor||te.isInstancedMesh&&!1===Ot.instancingColor&&null!==te.instanceColor||te.isInstancedMesh&&!0===Ot.instancingMorph&&null===te.morphTexture||te.isInstancedMesh&&!1===Ot.instancingMorph&&null!==te.morphTexture||Ot.envMap!==At||!0===he.fog&&Ot.fog!==Ue||void 0!==Ot.numClippingPlanes&&(Ot.numClippingPlanes!==Ne.numPlanes||Ot.numIntersection!==Ne.numIntersection)||Ot.vertexAlphas!==nn||Ot.vertexTangents!==sn||Ot.morphTargets!==Ft||Ot.morphNormals!==hi||Ot.morphColors!==pr||Ot.toneMapping!==ir||Ot.morphTargetsCount!==bi)&&(Ai=!0):(Ai=!0,Ot.__version=he.version);let Ol=Ot.currentProgram;!0===Ai&&(Ol=jI(he,Z,te));let q_=!1,ka=!1,H3=!1;const Yr=Ol.getUniforms(),eh=Ot.uniforms;if(We.useProgram(Ol.program)&&(q_=!0,ka=!0,H3=!0),he.id!==T&&(T=he.id,ka=!0),q_||P!==B){Fe.reverseDepthBuffer?(De.copy(B.projectionMatrix),function IVe(r){const n=r.elements;n[2]=.5*n[2]+.5*n[3],n[6]=.5*n[6]+.5*n[7],n[10]=.5*n[10]+.5*n[11],n[14]=.5*n[14]+.5*n[15]}(De),function TVe(r){const n=r.elements;-1===n[11]?(n[10]=-n[10]-1,n[14]=-n[14]):(n[10]=-n[10],n[14]=1-n[14])}(De),Yr.setValue(H,"projectionMatrix",De)):Yr.setValue(H,"projectionMatrix",B.projectionMatrix),Yr.setValue(H,"viewMatrix",B.matrixWorldInverse);const tl=Yr.map.cameraPosition;void 0!==tl&&tl.setValue(H,tt.setFromMatrixPosition(B.matrixWorld)),Fe.logarithmicDepthBuffer&&Yr.setValue(H,"logDepthBufFC",2/(Math.log(B.far+1)/Math.LN2)),(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial)&&Yr.setValue(H,"isOrthographic",!0===B.isOrthographicCamera),P!==B&&(P=B,ka=!0,H3=!0)}if(te.isSkinnedMesh){Yr.setOptional(H,te,"bindMatrix"),Yr.setOptional(H,te,"bindMatrixInverse");const tl=te.skeleton;tl&&(null===tl.boneTexture&&tl.computeBoneTexture(),Yr.setValue(H,"boneTexture",tl.boneTexture,G))}te.isBatchedMesh&&(Yr.setOptional(H,te,"batchingTexture"),Yr.setValue(H,"batchingTexture",te._matricesTexture,G),Yr.setOptional(H,te,"batchingIdTexture"),Yr.setValue(H,"batchingIdTexture",te._indirectTexture,G),Yr.setOptional(H,te,"batchingColorTexture"),null!==te._colorsTexture&&Yr.setValue(H,"batchingColorTexture",te._colorsTexture,G));const G3=le.morphAttributes;if((void 0!==G3.position||void 0!==G3.normal||void 0!==G3.color)&&un.update(te,le,Ol),(ka||Ot.receiveShadow!==te.receiveShadow)&&(Ot.receiveShadow=te.receiveShadow,Yr.setValue(H,"receiveShadow",te.receiveShadow)),he.isMeshGouraudMaterial&&null!==he.envMap&&(eh.envMap.value=At,eh.flipEnvMap.value=At.isCubeTexture&&!1===At.isRenderTargetTexture?-1:1),he.isMeshStandardMaterial&&null===he.envMap&&null!==Z.environment&&(eh.envMapIntensity.value=Z.environmentIntensity),ka&&(Yr.setValue(H,"toneMappingExposure",x.toneMappingExposure),Ot.needsLights&&function lqe(B,Z){B.ambientLightColor.needsUpdate=Z,B.lightProbe.needsUpdate=Z,B.directionalLights.needsUpdate=Z,B.directionalLightShadows.needsUpdate=Z,B.pointLights.needsUpdate=Z,B.pointLightShadows.needsUpdate=Z,B.spotLights.needsUpdate=Z,B.spotLightShadows.needsUpdate=Z,B.rectAreaLights.needsUpdate=Z,B.hemisphereLights.needsUpdate=Z}(eh,H3),Ue&&!0===he.fog&&Ke.refreshFogUniforms(eh,Ue),Ke.refreshMaterialUniforms(eh,he,V,R,y.state.transmissionRenderTarget[B.id]),KM.upload(H,Tre(Ot),eh,G)),he.isShaderMaterial&&!0===he.uniformsNeedUpdate&&(KM.upload(H,Tre(Ot),eh,G),he.uniformsNeedUpdate=!1),he.isSpriteMaterial&&Yr.setValue(H,"center",te.center),Yr.setValue(H,"modelViewMatrix",te.modelViewMatrix),Yr.setValue(H,"normalMatrix",te.normalMatrix),Yr.setValue(H,"modelMatrix",te.matrixWorld),he.isShaderMaterial||he.isRawShaderMaterial){const tl=he.uniformsGroups;for(let $3=0,dqe=tl.length;$3<dqe;$3++){const Rre=tl[$3];K.update(Rre,Ol),K.bind(Rre,Ol)}}return Ol}(B,Z,le,he,te);We.setMaterial(he,nt);let At=le.index,nn=1;if(!0===he.wireframe){if(At=Me.getWireframeAttribute(le),void 0===At)return;nn=2}const sn=le.drawRange,Ft=le.attributes.position;let hi=sn.start*nn,pr=(sn.start+sn.count)*nn;null!==Ue&&(hi=Math.max(hi,Ue.start*nn),pr=Math.min(pr,(Ue.start+Ue.count)*nn)),null!==At?(hi=Math.max(hi,0),pr=Math.min(pr,At.count)):null!=Ft&&(hi=Math.max(hi,0),pr=Math.min(pr,Ft.count));const ir=pr-hi;if(ir<0||ir===1/0)return;Wi.setup(te,he,xt,le,At);let Ra,bi=yt;if(null!==At&&(Ra=Ae.get(At),bi=Yn,bi.setIndex(Ra)),te.isMesh)!0===he.wireframe?(We.setLineWidth(he.wireframeLinewidth*be()),bi.setMode(H.LINES)):bi.setMode(H.TRIANGLES);else if(te.isLine){let Ot=he.linewidth;void 0===Ot&&(Ot=1),We.setLineWidth(Ot*be()),bi.setMode(te.isLineSegments?H.LINES:te.isLineLoop?H.LINE_LOOP:H.LINE_STRIP)}else te.isPoints?bi.setMode(H.POINTS):te.isSprite&&bi.setMode(H.TRIANGLES);if(te.isBatchedMesh)if(null!==te._multiDrawInstances)bi.renderMultiDrawInstances(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount,te._multiDrawInstances);else if(ze.get("WEBGL_multi_draw"))bi.renderMultiDraw(te._multiDrawStarts,te._multiDrawCounts,te._multiDrawCount);else{const Ot=te._multiDrawStarts,Ws=te._multiDrawCounts,Ai=te._multiDrawCount,Ol=At?Ae.get(At).bytesPerElement:1,q_=ot.get(he).currentProgram.getUniforms();for(let ka=0;ka<Ai;ka++)q_.setValue(H,"_gl_DrawID",ka),bi.render(Ot[ka]/Ol,Ws[ka])}else if(te.isInstancedMesh)bi.renderInstances(hi,ir,te.count);else if(le.isInstancedBufferGeometry){const Ws=Math.min(le.instanceCount,void 0!==le._maxInstanceCount?le._maxInstanceCount:1/0);bi.renderInstances(hi,ir,Ws)}else bi.render(hi,ir)},this.compile=function(B,Z,le=null){null===le&&(le=B),y=qn.get(le),y.init(Z),A.push(y),le.traverseVisible(function(te){te.isLight&&te.layers.test(Z.layers)&&(y.pushLight(te),te.castShadow&&y.pushShadow(te))}),B!==le&&B.traverseVisible(function(te){te.isLight&&te.layers.test(Z.layers)&&(y.pushLight(te),te.castShadow&&y.pushShadow(te))}),y.setupLights();const he=new Set;return B.traverse(function(te){if(!(te.isMesh||te.isPoints||te.isLine||te.isSprite))return;const Ue=te.material;if(Ue)if(Array.isArray(Ue))for(let nt=0;nt<Ue.length;nt++){const xt=Ue[nt];ui(xt,le,te),he.add(xt)}else ui(Ue,le,te),he.add(Ue)}),A.pop(),y=null,he},this.compileAsync=function(B,Z,le=null){const he=this.compile(B,Z,le);return new Promise(te=>{function Ue(){he.forEach(function(nt){ot.get(nt).currentProgram.isReady()&&he.delete(nt)}),0!==he.size?setTimeout(Ue,10):te(B)}null!==ze.get("KHR_parallel_shader_compile")?Ue():setTimeout(Ue,10)})};let ua=null;function Cre(){fp.stop()}function Ere(){fp.start()}const fp=new NK;function V3(B,Z,le,he){if(!1===B.visible)return;if(B.layers.test(Z.layers))if(B.isGroup)le=B.renderOrder;else if(B.isLOD)!0===B.autoUpdate&&B.update(Z);else if(B.isLight)y.pushLight(B),B.castShadow&&y.pushShadow(B);else if(B.isSprite){if(!B.frustumCulled||Ve.intersectsSprite(B)){he&&et.setFromMatrixPosition(B.matrixWorld).applyMatrix4(Ee);const nt=xe.update(B),xt=B.material;xt.visible&&v.push(B,nt,xt,le,et.z,null)}}else if((B.isMesh||B.isLine||B.isPoints)&&(!B.frustumCulled||Ve.intersectsObject(B))){const nt=xe.update(B),xt=B.material;if(he&&(void 0!==B.boundingSphere?(null===B.boundingSphere&&B.computeBoundingSphere(),et.copy(B.boundingSphere.center)):(null===nt.boundingSphere&&nt.computeBoundingSphere(),et.copy(nt.boundingSphere.center)),et.applyMatrix4(B.matrixWorld).applyMatrix4(Ee)),Array.isArray(xt)){const At=nt.groups;for(let nn=0,sn=At.length;nn<sn;nn++){const Ft=At[nn],hi=xt[Ft.materialIndex];hi&&hi.visible&&v.push(B,nt,hi,le,et.z,Ft)}}else xt.visible&&v.push(B,nt,xt,le,et.z,null)}const Ue=B.children;for(let nt=0,xt=Ue.length;nt<xt;nt++)V3(Ue[nt],Z,le,he)}function Mre(B,Z,le,he){const te=B.opaque,Ue=B.transmissive,nt=B.transparent;y.setupLightsView(le),!0===ie&&Ne.setGlobalState(x.clippingPlanes,le),he&&We.viewport(C.copy(he)),te.length>0&&QI(te,Z,le),Ue.length>0&&QI(Ue,Z,le),nt.length>0&&QI(nt,Z,le),We.buffers.depth.setTest(!0),We.buffers.depth.setMask(!0),We.buffers.color.setMask(!0),We.setPolygonOffset(!1)}function Sre(B,Z,le,he){if(null!==(!0===le.isScene?le.overrideMaterial:null))return;void 0===y.state.transmissionRenderTarget[he.id]&&(y.state.transmissionRenderTarget[he.id]=new Lo(1,1,{generateMipmaps:!0,type:ze.has("EXT_color_buffer_half_float")||ze.has("EXT_color_buffer_float")?ys:Cr,minFilter:No,samples:4,stencilBuffer:l,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:jn.workingColorSpace}));const Ue=y.state.transmissionRenderTarget[he.id],nt=he.viewport||C;Ue.setSize(nt.z,nt.w);const xt=x.getRenderTarget();x.setRenderTarget(Ue),x.getClearColor(O),z=x.getClearAlpha(),z<1&&x.setClearColor(16777215,.5),x.clear(),Tt&&dn.render(le);const At=x.toneMapping;x.toneMapping=0;const nn=he.viewport;if(void 0!==he.viewport&&(he.viewport=void 0),y.setupLightsView(he),!0===ie&&Ne.setGlobalState(x.clippingPlanes,he),QI(B,le,he),G.updateMultisampleRenderTarget(Ue),G.updateRenderTargetMipmap(Ue),!1===ze.has("WEBGL_multisampled_render_to_texture")){let sn=!1;for(let Ft=0,hi=Z.length;Ft<hi;Ft++){const pr=Z[Ft],ir=pr.object,Ra=pr.geometry,bi=pr.material,Ot=pr.group;if(2===bi.side&&ir.layers.test(he.layers)){const Ws=bi.side;bi.side=1,bi.needsUpdate=!0,Ire(ir,le,he,Ra,bi,Ot),bi.side=Ws,bi.needsUpdate=!0,sn=!0}}!0===sn&&(G.updateMultisampleRenderTarget(Ue),G.updateRenderTargetMipmap(Ue))}x.setRenderTarget(xt),x.setClearColor(O,z),void 0!==nn&&(he.viewport=nn),x.toneMapping=At}function QI(B,Z,le){const he=!0===Z.isScene?Z.overrideMaterial:null;for(let te=0,Ue=B.length;te<Ue;te++){const nt=B[te],xt=nt.object,At=nt.geometry,nn=null===he?nt.material:he,sn=nt.group;xt.layers.test(le.layers)&&Ire(xt,Z,le,At,nn,sn)}}function Ire(B,Z,le,he,te,Ue){B.onBeforeRender(x,Z,le,he,te,Ue),B.modelViewMatrix.multiplyMatrices(le.matrixWorldInverse,B.matrixWorld),B.normalMatrix.getNormalMatrix(B.modelViewMatrix),te.onBeforeRender(x,Z,le,he,B,Ue),!0===te.transparent&&2===te.side&&!1===te.forceSinglePass?(te.side=1,te.needsUpdate=!0,x.renderBufferDirect(le,Z,he,te,B,Ue),te.side=0,te.needsUpdate=!0,x.renderBufferDirect(le,Z,he,te,B,Ue),te.side=2):x.renderBufferDirect(le,Z,he,te,B,Ue),B.onAfterRender(x,Z,le,he,te,Ue)}function jI(B,Z,le){!0!==Z.isScene&&(Z=mt);const he=ot.get(B),te=y.state.lights,nt=te.state.version,xt=Ct.getParameters(B,te.state,y.state.shadowsArray,Z,le),At=Ct.getProgramCacheKey(xt);let nn=he.programs;he.environment=B.isMeshStandardMaterial?Z.environment:null,he.fog=Z.fog,he.envMap=(B.isMeshStandardMaterial?oe:F).get(B.envMap||he.environment),he.envMapRotation=null!==he.environment&&null===B.envMap?Z.environmentRotation:B.envMapRotation,void 0===nn&&(B.addEventListener("dispose",Zn),nn=new Map,he.programs=nn);let sn=nn.get(At);if(void 0!==sn){if(he.currentProgram===sn&&he.lightsStateVersion===nt)return Dre(B,xt),sn}else xt.uniforms=Ct.getUniforms(B),B.onBeforeCompile(xt,x),sn=Ct.acquireProgram(xt,At),nn.set(At,sn),he.uniforms=xt.uniforms;const Ft=he.uniforms;return(!B.isShaderMaterial&&!B.isRawShaderMaterial||!0===B.clipping)&&(Ft.clippingPlanes=Ne.uniform),Dre(B,xt),he.needsLights=function cqe(B){return B.isMeshLambertMaterial||B.isMeshToonMaterial||B.isMeshPhongMaterial||B.isMeshStandardMaterial||B.isShadowMaterial||B.isShaderMaterial&&!0===B.lights}(B),he.lightsStateVersion=nt,he.needsLights&&(Ft.ambientLightColor.value=te.state.ambient,Ft.lightProbe.value=te.state.probe,Ft.directionalLights.value=te.state.directional,Ft.directionalLightShadows.value=te.state.directionalShadow,Ft.spotLights.value=te.state.spot,Ft.spotLightShadows.value=te.state.spotShadow,Ft.rectAreaLights.value=te.state.rectArea,Ft.ltc_1.value=te.state.rectAreaLTC1,Ft.ltc_2.value=te.state.rectAreaLTC2,Ft.pointLights.value=te.state.point,Ft.pointLightShadows.value=te.state.pointShadow,Ft.hemisphereLights.value=te.state.hemi,Ft.directionalShadowMap.value=te.state.directionalShadowMap,Ft.directionalShadowMatrix.value=te.state.directionalShadowMatrix,Ft.spotShadowMap.value=te.state.spotShadowMap,Ft.spotLightMatrix.value=te.state.spotLightMatrix,Ft.spotLightMap.value=te.state.spotLightMap,Ft.pointShadowMap.value=te.state.pointShadowMap,Ft.pointShadowMatrix.value=te.state.pointShadowMatrix),he.currentProgram=sn,he.uniformsList=null,sn}function Tre(B){if(null===B.uniformsList){const Z=B.currentProgram.getUniforms();B.uniformsList=KM.seqWithValue(Z.seq,B.uniforms)}return B.uniformsList}function Dre(B,Z){const le=ot.get(B);le.outputColorSpace=Z.outputColorSpace,le.batching=Z.batching,le.batchingColor=Z.batchingColor,le.instancing=Z.instancing,le.instancingColor=Z.instancingColor,le.instancingMorph=Z.instancingMorph,le.skinning=Z.skinning,le.morphTargets=Z.morphTargets,le.morphNormals=Z.morphNormals,le.morphColors=Z.morphColors,le.morphTargetsCount=Z.morphTargetsCount,le.numClippingPlanes=Z.numClippingPlanes,le.numIntersection=Z.numClipIntersection,le.vertexAlphas=Z.vertexAlphas,le.vertexTangents=Z.vertexTangents,le.toneMapping=Z.toneMapping}fp.setAnimationLoop(function Hd(B){ua&&ua(B)}),typeof self<"u"&&fp.setContext(self),this.setAnimationLoop=function(B){ua=B,ye.setAnimationLoop(B),null===B?fp.stop():fp.start()},ye.addEventListener("sessionstart",Cre),ye.addEventListener("sessionend",Ere),this.render=function(B,Z){if(void 0!==Z&&!0!==Z.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;if(!0===B.matrixWorldAutoUpdate&&B.updateMatrixWorld(),null===Z.parent&&!0===Z.matrixWorldAutoUpdate&&Z.updateMatrixWorld(),!0===ye.enabled&&!0===ye.isPresenting&&(!0===ye.cameraAutoUpdate&&ye.updateCamera(Z),Z=ye.getCamera()),!0===B.isScene&&B.onBeforeRender(x,B,Z,S),y=qn.get(B,A.length),y.init(Z),A.push(y),Ee.multiplyMatrices(Z.projectionMatrix,Z.matrixWorldInverse),Ve.setFromProjectionMatrix(Ee),pe=this.localClippingEnabled,ie=Ne.init(this.clippingPlanes,pe),v=dt.get(B,b.length),v.init(),b.push(v),!0===ye.enabled&&!0===ye.isPresenting){const Ue=x.xr.getDepthSensingMesh();null!==Ue&&V3(Ue,Z,-1/0,x.sortObjects)}V3(B,Z,0,x.sortObjects),v.finish(),!0===x.sortObjects&&v.sort(U,X),Tt=!1===ye.enabled||!1===ye.isPresenting||!1===ye.hasDepthSensing(),Tt&&dn.addToRenderList(v,B),this.info.render.frame++,!0===ie&&Ne.beginShadows(),ut.render(y.state.shadowsArray,B,Z),!0===ie&&Ne.endShadows(),!0===this.info.autoReset&&this.info.reset();const he=v.opaque,te=v.transmissive;if(y.setupLights(),Z.isArrayCamera){const Ue=Z.cameras;if(te.length>0)for(let nt=0,xt=Ue.length;nt<xt;nt++)Sre(he,te,B,Ue[nt]);Tt&&dn.render(B);for(let nt=0,xt=Ue.length;nt<xt;nt++){const At=Ue[nt];Mre(v,B,At,At.viewport)}}else te.length>0&&Sre(he,te,B,Z),Tt&&dn.render(B),Mre(v,B,Z);null!==S&&(G.updateMultisampleRenderTarget(S),G.updateRenderTargetMipmap(S)),!0===B.isScene&&B.onAfterRender(x,B,Z),Wi.resetDefaultState(),T=-1,P=null,A.pop(),A.length>0?(y=A[A.length-1],!0===ie&&Ne.setGlobalState(x.clippingPlanes,y.state.camera)):y=null,b.pop(),v=b.length>0?b[b.length-1]:null},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(B,Z,le){ot.get(B.texture).__webglTexture=Z,ot.get(B.depthTexture).__webglTexture=le;const he=ot.get(B);he.__hasExternalTextures=!0,he.__autoAllocateDepthBuffer=void 0===le,he.__autoAllocateDepthBuffer||!0===ze.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),he.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(B,Z){const le=ot.get(B);le.__webglFramebuffer=Z,le.__useDefaultFramebuffer=void 0===Z},this.setRenderTarget=function(B,Z=0,le=0){S=B,E=Z,M=le;let he=!0,te=null,Ue=!1,nt=!1;if(B){const At=ot.get(B);if(void 0!==At.__useDefaultFramebuffer)We.bindFramebuffer(H.FRAMEBUFFER,null),he=!1;else if(void 0===At.__webglFramebuffer)G.setupRenderTarget(B);else if(At.__hasExternalTextures)G.rebindTextures(B,ot.get(B.texture).__webglTexture,ot.get(B.depthTexture).__webglTexture);else if(B.depthBuffer){const Ft=B.depthTexture;if(At.__boundDepthTexture!==Ft){if(null!==Ft&&ot.has(Ft)&&(B.width!==Ft.image.width||B.height!==Ft.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");G.setupDepthRenderbuffer(B)}}const nn=B.texture;(nn.isData3DTexture||nn.isDataArrayTexture||nn.isCompressedArrayTexture)&&(nt=!0);const sn=ot.get(B).__webglFramebuffer;B.isWebGLCubeRenderTarget?(te=Array.isArray(sn[Z])?sn[Z][le]:sn[Z],Ue=!0):te=B.samples>0&&!1===G.useMultisampledRTT(B)?ot.get(B).__webglMultisampledFramebuffer:Array.isArray(sn)?sn[le]:sn,C.copy(B.viewport),I.copy(B.scissor),k=B.scissorTest}else C.copy(ae).multiplyScalar(V).floor(),I.copy(fe).multiplyScalar(V).floor(),k=Pe;if(We.bindFramebuffer(H.FRAMEBUFFER,te)&&he&&We.drawBuffers(B,te),We.viewport(C),We.scissor(I),We.setScissorTest(k),Ue){const At=ot.get(B.texture);H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_CUBE_MAP_POSITIVE_X+Z,At.__webglTexture,le)}else if(nt){const At=ot.get(B.texture);H.framebufferTextureLayer(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,At.__webglTexture,le||0,Z||0)}T=-1},this.readRenderTargetPixels=function(B,Z,le,he,te,Ue,nt){if(!B||!B.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xt=ot.get(B).__webglFramebuffer;if(B.isWebGLCubeRenderTarget&&void 0!==nt&&(xt=xt[nt]),xt){We.bindFramebuffer(H.FRAMEBUFFER,xt);try{const At=B.texture,nn=At.format,sn=At.type;if(!Fe.textureFormatReadable(nn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!Fe.textureTypeReadable(sn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Z>=0&&Z<=B.width-he&&le>=0&&le<=B.height-te&&H.readPixels(Z,le,he,te,vn.convert(nn),vn.convert(sn),Ue)}finally{const At=null!==S?ot.get(S).__webglFramebuffer:null;We.bindFramebuffer(H.FRAMEBUFFER,At)}}},this.readRenderTargetPixelsAsync=function(){var B=ke(function*(Z,le,he,te,Ue,nt,xt){if(!Z||!Z.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let At=ot.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&void 0!==xt&&(At=At[xt]),At){const nn=Z.texture,sn=nn.format,Ft=nn.type;if(!Fe.textureFormatReadable(sn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Fe.textureTypeReadable(Ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(le>=0&&le<=Z.width-te&&he>=0&&he<=Z.height-Ue){We.bindFramebuffer(H.FRAMEBUFFER,At);const hi=H.createBuffer();H.bindBuffer(H.PIXEL_PACK_BUFFER,hi),H.bufferData(H.PIXEL_PACK_BUFFER,nt.byteLength,H.STREAM_READ),H.readPixels(le,he,te,Ue,vn.convert(sn),vn.convert(Ft),0);const pr=null!==S?ot.get(S).__webglFramebuffer:null;We.bindFramebuffer(H.FRAMEBUFFER,pr);const ir=H.fenceSync(H.SYNC_GPU_COMMANDS_COMPLETE,0);return H.flush(),yield function SVe(r,n,i){return new Promise(function(s,a){setTimeout(function l(){switch(r.clientWaitSync(n,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:a();break;case r.TIMEOUT_EXPIRED:setTimeout(l,i);break;default:s()}},i)})}(H,ir,4),H.bindBuffer(H.PIXEL_PACK_BUFFER,hi),H.getBufferSubData(H.PIXEL_PACK_BUFFER,0,nt),H.deleteBuffer(hi),H.deleteSync(ir),nt}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(Z,le,he,te,Ue,nt,xt){return B.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(B,Z=null,le=0){!0!==B.isTexture&&(SM("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Z=arguments[0]||null,B=arguments[1]);const he=Math.pow(2,-le),te=Math.floor(B.image.width*he),Ue=Math.floor(B.image.height*he),nt=null!==Z?Z.x:0,xt=null!==Z?Z.y:0;G.setTexture2D(B,0),H.copyTexSubImage2D(H.TEXTURE_2D,le,0,0,nt,xt,te,Ue),We.unbindTexture()},this.copyTextureToTexture=function(B,Z,le=null,he=null,te=0){let Ue,nt,xt,At,nn,sn;!0!==B.isTexture&&(SM("WebGLRenderer: copyTextureToTexture function signature has changed."),he=arguments[0]||null,B=arguments[1],Z=arguments[2],te=arguments[3]||0,le=null),null!==le?(Ue=le.max.x-le.min.x,nt=le.max.y-le.min.y,xt=le.min.x,At=le.min.y):(Ue=B.image.width,nt=B.image.height,xt=0,At=0),null!==he?(nn=he.x,sn=he.y):(nn=0,sn=0);const Ft=vn.convert(Z.format),hi=vn.convert(Z.type);G.setTexture2D(Z,0),H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Z.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Z.unpackAlignment);const pr=H.getParameter(H.UNPACK_ROW_LENGTH),ir=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Ra=H.getParameter(H.UNPACK_SKIP_PIXELS),bi=H.getParameter(H.UNPACK_SKIP_ROWS),Ot=H.getParameter(H.UNPACK_SKIP_IMAGES),Ws=B.isCompressedTexture?B.mipmaps[te]:B.image;H.pixelStorei(H.UNPACK_ROW_LENGTH,Ws.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Ws.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,xt),H.pixelStorei(H.UNPACK_SKIP_ROWS,At),B.isDataTexture?H.texSubImage2D(H.TEXTURE_2D,te,nn,sn,Ue,nt,Ft,hi,Ws.data):B.isCompressedTexture?H.compressedTexSubImage2D(H.TEXTURE_2D,te,nn,sn,Ws.width,Ws.height,Ft,Ws.data):H.texSubImage2D(H.TEXTURE_2D,te,nn,sn,Ue,nt,Ft,hi,Ws),H.pixelStorei(H.UNPACK_ROW_LENGTH,pr),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ir),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Ra),H.pixelStorei(H.UNPACK_SKIP_ROWS,bi),H.pixelStorei(H.UNPACK_SKIP_IMAGES,Ot),0===te&&Z.generateMipmaps&&H.generateMipmap(H.TEXTURE_2D),We.unbindTexture()},this.copyTextureToTexture3D=function(B,Z,le=null,he=null,te=0){let Ue,nt,xt,At,nn,sn,Ft,hi,pr;!0!==B.isTexture&&(SM("WebGLRenderer: copyTextureToTexture3D function signature has changed."),le=arguments[0]||null,he=arguments[1]||null,B=arguments[2],Z=arguments[3],te=arguments[4]||0);const ir=B.isCompressedTexture?B.mipmaps[te]:B.image;null!==le?(Ue=le.max.x-le.min.x,nt=le.max.y-le.min.y,xt=le.max.z-le.min.z,At=le.min.x,nn=le.min.y,sn=le.min.z):(Ue=ir.width,nt=ir.height,xt=ir.depth,At=0,nn=0,sn=0),null!==he?(Ft=he.x,hi=he.y,pr=he.z):(Ft=0,hi=0,pr=0);const Ra=vn.convert(Z.format),bi=vn.convert(Z.type);let Ot;if(Z.isData3DTexture)G.setTexture3D(Z,0),Ot=H.TEXTURE_3D;else{if(!Z.isDataArrayTexture&&!Z.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");G.setTexture2DArray(Z,0),Ot=H.TEXTURE_2D_ARRAY}H.pixelStorei(H.UNPACK_FLIP_Y_WEBGL,Z.flipY),H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),H.pixelStorei(H.UNPACK_ALIGNMENT,Z.unpackAlignment);const Ws=H.getParameter(H.UNPACK_ROW_LENGTH),Ai=H.getParameter(H.UNPACK_IMAGE_HEIGHT),Ol=H.getParameter(H.UNPACK_SKIP_PIXELS),q_=H.getParameter(H.UNPACK_SKIP_ROWS),ka=H.getParameter(H.UNPACK_SKIP_IMAGES);H.pixelStorei(H.UNPACK_ROW_LENGTH,ir.width),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,ir.height),H.pixelStorei(H.UNPACK_SKIP_PIXELS,At),H.pixelStorei(H.UNPACK_SKIP_ROWS,nn),H.pixelStorei(H.UNPACK_SKIP_IMAGES,sn),B.isDataTexture||B.isData3DTexture?H.texSubImage3D(Ot,te,Ft,hi,pr,Ue,nt,xt,Ra,bi,ir.data):Z.isCompressedArrayTexture?H.compressedTexSubImage3D(Ot,te,Ft,hi,pr,Ue,nt,xt,Ra,ir.data):H.texSubImage3D(Ot,te,Ft,hi,pr,Ue,nt,xt,Ra,bi,ir),H.pixelStorei(H.UNPACK_ROW_LENGTH,Ws),H.pixelStorei(H.UNPACK_IMAGE_HEIGHT,Ai),H.pixelStorei(H.UNPACK_SKIP_PIXELS,Ol),H.pixelStorei(H.UNPACK_SKIP_ROWS,q_),H.pixelStorei(H.UNPACK_SKIP_IMAGES,ka),0===te&&Z.generateMipmaps&&H.generateMipmap(Ot),We.unbindTexture()},this.initRenderTarget=function(B){void 0===ot.get(B).__webglFramebuffer&&G.setupRenderTarget(B)},this.initTexture=function(B){B.isCubeTexture?G.setTextureCube(B,0):B.isData3DTexture?G.setTexture3D(B,0):B.isDataArrayTexture||B.isCompressedArrayTexture?G.setTexture2DArray(B,0):G.setTexture2D(B,0),We.unbindTexture()},this.resetState=function(){E=0,M=0,S=null,We.reset(),Wi.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bd}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(n){this._outputColorSpace=n;const i=this.getContext();i.drawingBufferColorSpace=n===bM?"display-p3":"srgb",i.unpackColorSpace=jn.workingColorSpace===nA?"display-p3":"srgb"}}class Id extends di{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ml,this.environmentIntensity=1,this.environmentRotation=new Ml,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(n,i){return super.copy(n,i),null!==n.background&&(this.background=n.background.clone()),null!==n.environment&&(this.environment=n.environment.clone()),null!==n.fog&&(this.fog=n.fog.clone()),this.backgroundBlurriness=n.backgroundBlurriness,this.backgroundIntensity=n.backgroundIntensity,this.backgroundRotation.copy(n.backgroundRotation),this.environmentIntensity=n.environmentIntensity,this.environmentRotation.copy(n.environmentRotation),null!==n.overrideMaterial&&(this.overrideMaterial=n.overrideMaterial.clone()),this.matrixAutoUpdate=n.matrixAutoUpdate,this}toJSON(n){const i=super.toJSON(n);return null!==this.fog&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(i.object.backgroundIntensity=this.backgroundIntensity),i.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(i.object.environmentIntensity=this.environmentIntensity),i.object.environmentRotation=this.environmentRotation.toArray(),i}}class JM{constructor(n,i){this.isInterleavedBuffer=!0,this.array=n,this.stride=i,this.count=void 0!==n?n.length/i:0,this.usage=35044,this.updateRanges=[],this.version=0,this.uuid=Sa()}onUploadCallback(){}set needsUpdate(n){!0===n&&this.version++}setUsage(n){return this.usage=n,this}addUpdateRange(n,i){this.updateRanges.push({start:n,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.usage=n.usage,this}copyAt(n,i,s){n*=this.stride,s*=i.stride;for(let a=0,l=this.stride;a<l;a++)this.array[n+a]=i.array[s+a];return this}set(n,i=0){return this.array.set(n,i),this}clone(n){void 0===n.arrayBuffers&&(n.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Sa()),void 0===n.arrayBuffers[this.array.buffer._uuid]&&(n.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(n.arrayBuffers[this.array.buffer._uuid]),s=new this.constructor(i,this.stride);return s.setUsage(this.usage),s}onUpload(n){return this.onUploadCallback=n,this}toJSON(n){return void 0===n.arrayBuffers&&(n.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Sa()),void 0===n.arrayBuffers[this.array.buffer._uuid]&&(n.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Vo=new N;class Bf{constructor(n,i,s,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=n,this.itemSize=i,this.offset=s,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(n){this.data.needsUpdate=n}applyMatrix4(n){for(let i=0,s=this.data.count;i<s;i++)Vo.fromBufferAttribute(this,i),Vo.applyMatrix4(n),this.setXYZ(i,Vo.x,Vo.y,Vo.z);return this}applyNormalMatrix(n){for(let i=0,s=this.count;i<s;i++)Vo.fromBufferAttribute(this,i),Vo.applyNormalMatrix(n),this.setXYZ(i,Vo.x,Vo.y,Vo.z);return this}transformDirection(n){for(let i=0,s=this.count;i<s;i++)Vo.fromBufferAttribute(this,i),Vo.transformDirection(n),this.setXYZ(i,Vo.x,Vo.y,Vo.z);return this}getComponent(n,i){let s=this.array[n*this.data.stride+this.offset+i];return this.normalized&&(s=Bo(s,this.array)),s}setComponent(n,i,s){return this.normalized&&(s=yn(s,this.array)),this.data.array[n*this.data.stride+this.offset+i]=s,this}setX(n,i){return this.normalized&&(i=yn(i,this.array)),this.data.array[n*this.data.stride+this.offset]=i,this}setY(n,i){return this.normalized&&(i=yn(i,this.array)),this.data.array[n*this.data.stride+this.offset+1]=i,this}setZ(n,i){return this.normalized&&(i=yn(i,this.array)),this.data.array[n*this.data.stride+this.offset+2]=i,this}setW(n,i){return this.normalized&&(i=yn(i,this.array)),this.data.array[n*this.data.stride+this.offset+3]=i,this}getX(n){let i=this.data.array[n*this.data.stride+this.offset];return this.normalized&&(i=Bo(i,this.array)),i}getY(n){let i=this.data.array[n*this.data.stride+this.offset+1];return this.normalized&&(i=Bo(i,this.array)),i}getZ(n){let i=this.data.array[n*this.data.stride+this.offset+2];return this.normalized&&(i=Bo(i,this.array)),i}getW(n){let i=this.data.array[n*this.data.stride+this.offset+3];return this.normalized&&(i=Bo(i,this.array)),i}setXY(n,i,s){return n=n*this.data.stride+this.offset,this.normalized&&(i=yn(i,this.array),s=yn(s,this.array)),this.data.array[n+0]=i,this.data.array[n+1]=s,this}setXYZ(n,i,s,a){return n=n*this.data.stride+this.offset,this.normalized&&(i=yn(i,this.array),s=yn(s,this.array),a=yn(a,this.array)),this.data.array[n+0]=i,this.data.array[n+1]=s,this.data.array[n+2]=a,this}setXYZW(n,i,s,a,l){return n=n*this.data.stride+this.offset,this.normalized&&(i=yn(i,this.array),s=yn(s,this.array),a=yn(a,this.array),l=yn(l,this.array)),this.data.array[n+0]=i,this.data.array[n+1]=s,this.data.array[n+2]=a,this.data.array[n+3]=l,this}clone(n){if(void 0===n){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)i.push(this.data.array[a+l])}return new kn(new this.array.constructor(i),this.itemSize,this.normalized)}return void 0===n.interleavedBuffers&&(n.interleavedBuffers={}),void 0===n.interleavedBuffers[this.data.uuid]&&(n.interleavedBuffers[this.data.uuid]=this.data.clone(n)),new Bf(n.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(n){if(void 0===n){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let s=0;s<this.count;s++){const a=s*this.data.stride+this.offset;for(let l=0;l<this.itemSize;l++)i.push(this.data.array[a+l])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}return void 0===n.interleavedBuffers&&(n.interleavedBuffers={}),void 0===n.interleavedBuffers[this.data.uuid]&&(n.interleavedBuffers[this.data.uuid]=this.data.toJSON(n)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const _Z=new N,yZ=new si,vZ=new si,o6e=new N,bZ=new vt,rS=new N,$N=new ks,AZ=new vt,QN=new lA;class xZ extends Vn{constructor(n,i){super(n,i),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=JX,this.bindMatrix=new vt,this.bindMatrixInverse=new vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const n=this.geometry;null===this.boundingBox&&(this.boundingBox=new jr),this.boundingBox.makeEmpty();const i=n.getAttribute("position");for(let s=0;s<i.count;s++)this.getVertexPosition(s,rS),this.boundingBox.expandByPoint(rS)}computeBoundingSphere(){const n=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ks),this.boundingSphere.makeEmpty();const i=n.getAttribute("position");for(let s=0;s<i.count;s++)this.getVertexPosition(s,rS),this.boundingSphere.expandByPoint(rS)}copy(n,i){return super.copy(n,i),this.bindMode=n.bindMode,this.bindMatrix.copy(n.bindMatrix),this.bindMatrixInverse.copy(n.bindMatrixInverse),this.skeleton=n.skeleton,null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone()),null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),this}raycast(n,i){const a=this.matrixWorld;void 0!==this.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),$N.copy(this.boundingSphere),$N.applyMatrix4(a),!1!==n.ray.intersectsSphere($N)&&(AZ.copy(a).invert(),QN.copy(n.ray).applyMatrix4(AZ),(null===this.boundingBox||!1!==QN.intersectsBox(this.boundingBox))&&this._computeIntersections(n,i,QN)))}getVertexPosition(n,i){return super.getVertexPosition(n,i),this.applyBoneTransform(n,i),i}bind(n,i){this.skeleton=n,void 0===i&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const n=new si,i=this.geometry.attributes.skinWeight;for(let s=0,a=i.count;s<a;s++){n.fromBufferAttribute(i,s);const l=1/n.manhattanLength();l!==1/0?n.multiplyScalar(l):n.set(1,0,0,0),i.setXYZW(s,n.x,n.y,n.z,n.w)}}updateMatrixWorld(n){super.updateMatrixWorld(n),this.bindMode===JX?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(n,i){const s=this.skeleton,a=this.geometry;yZ.fromBufferAttribute(a.attributes.skinIndex,n),vZ.fromBufferAttribute(a.attributes.skinWeight,n),_Z.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let l=0;l<4;l++){const c=vZ.getComponent(l);if(0!==c){const d=yZ.getComponent(l);bZ.multiplyMatrices(s.bones[d].matrixWorld,s.boneInverses[d]),i.addScaledVector(o6e.copy(_Z).applyMatrix4(bZ),c)}}return i.applyMatrix4(this.bindMatrixInverse)}}class jN extends di{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Tl extends ur{constructor(n=null,i=1,s=1,a,l,c,d,u,h=wr,f=wr,p,g){super(null,c,d,u,h,f,a,l,p,g),this.isDataTexture=!0,this.image={data:n,width:i,height:s},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const wZ=new vt,a6e=new vt;class sS{constructor(n=[],i=[]){this.uuid=Sa(),this.bones=n.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const n=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(16*n.length),0===i.length)this.calculateInverses();else if(n.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let s=0,a=this.bones.length;s<a;s++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let n=0,i=this.bones.length;n<i;n++){const s=new vt;this.bones[n]&&s.copy(this.bones[n].matrixWorld).invert(),this.boneInverses.push(s)}}pose(){for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];s&&s.matrixWorld.copy(this.boneInverses[n]).invert()}for(let n=0,i=this.bones.length;n<i;n++){const s=this.bones[n];s&&(s.parent&&s.parent.isBone?(s.matrix.copy(s.parent.matrixWorld).invert(),s.matrix.multiply(s.matrixWorld)):s.matrix.copy(s.matrixWorld),s.matrix.decompose(s.position,s.quaternion,s.scale))}}update(){const n=this.bones,i=this.boneInverses,s=this.boneMatrices,a=this.boneTexture;for(let l=0,c=n.length;l<c;l++)wZ.multiplyMatrices(n[l]?n[l].matrixWorld:a6e,i[l]),wZ.toArray(s,16*l);null!==a&&(a.needsUpdate=!0)}clone(){return new sS(this.bones,this.boneInverses)}computeBoneTexture(){let n=Math.sqrt(4*this.bones.length);n=4*Math.ceil(n/4),n=Math.max(n,4);const i=new Float32Array(n*n*4);i.set(this.boneMatrices);const s=new Tl(i,n,n,Ni,Er);return s.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=s,this}getBoneByName(n){for(let i=0,s=this.bones.length;i<s;i++){const a=this.bones[i];if(a.name===n)return a}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(n,i){this.uuid=n.uuid;for(let s=0,a=n.bones.length;s<a;s++){const l=n.bones[s];let c=i[l];void 0===c&&(console.warn("THREE.Skeleton: No bone found with UUID:",l),c=new jN),this.bones.push(c),this.boneInverses.push((new vt).fromArray(n.boneInverses[s]))}return this.init(),this}toJSON(){const n={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};n.uuid=this.uuid;const i=this.bones,s=this.boneInverses;for(let a=0,l=i.length;a<l;a++)n.bones.push(i[a].uuid),n.boneInverses.push(s[a].toArray());return n}}class t_ extends kn{constructor(n,i,s,a=1){super(n,i,s),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(n){return super.copy(n),this.meshPerAttribute=n.meshPerAttribute,this}toJSON(){const n=super.toJSON();return n.meshPerAttribute=this.meshPerAttribute,n.isInstancedBufferAttribute=!0,n}}const n_=new vt,CZ=new vt,oS=[],EZ=new jr,l6e=new vt,gA=new Vn,_A=new ks;class MZ extends Vn{constructor(n,i,s){super(n,i),this.isInstancedMesh=!0,this.instanceMatrix=new t_(new Float32Array(16*s),16),this.instanceColor=null,this.morphTexture=null,this.count=s,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<s;a++)this.setMatrixAt(a,l6e)}computeBoundingBox(){const n=this.geometry,i=this.count;null===this.boundingBox&&(this.boundingBox=new jr),null===n.boundingBox&&n.computeBoundingBox(),this.boundingBox.makeEmpty();for(let s=0;s<i;s++)this.getMatrixAt(s,n_),EZ.copy(n.boundingBox).applyMatrix4(n_),this.boundingBox.union(EZ)}computeBoundingSphere(){const n=this.geometry,i=this.count;null===this.boundingSphere&&(this.boundingSphere=new ks),null===n.boundingSphere&&n.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let s=0;s<i;s++)this.getMatrixAt(s,n_),_A.copy(n.boundingSphere).applyMatrix4(n_),this.boundingSphere.union(_A)}copy(n,i){return super.copy(n,i),this.instanceMatrix.copy(n.instanceMatrix),null!==n.morphTexture&&(this.morphTexture=n.morphTexture.clone()),null!==n.instanceColor&&(this.instanceColor=n.instanceColor.clone()),this.count=n.count,null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone()),null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),this}getColorAt(n,i){i.fromArray(this.instanceColor.array,3*n)}getMatrixAt(n,i){i.fromArray(this.instanceMatrix.array,16*n)}getMorphAt(n,i){const s=i.morphTargetInfluences,a=this.morphTexture.source.data.data,c=n*(s.length+1)+1;for(let d=0;d<s.length;d++)s[d]=a[c+d]}raycast(n,i){const s=this.matrixWorld,a=this.count;if(gA.geometry=this.geometry,gA.material=this.material,void 0!==gA.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),_A.copy(this.boundingSphere),_A.applyMatrix4(s),!1!==n.ray.intersectsSphere(_A)))for(let l=0;l<a;l++){this.getMatrixAt(l,n_),CZ.multiplyMatrices(s,n_),gA.matrixWorld=CZ,gA.raycast(n,oS);for(let c=0,d=oS.length;c<d;c++){const u=oS[c];u.instanceId=l,u.object=this,i.push(u)}oS.length=0}}setColorAt(n,i){null===this.instanceColor&&(this.instanceColor=new t_(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),i.toArray(this.instanceColor.array,3*n)}setMatrixAt(n,i){i.toArray(this.instanceMatrix.array,16*n)}setMorphAt(n,i){const s=i.morphTargetInfluences,a=s.length+1;null===this.morphTexture&&(this.morphTexture=new Tl(new Float32Array(a*this.count),a,this.count,Ru,Er));const l=this.morphTexture.source.data.data;let c=0;for(let h=0;h<s.length;h++)c+=s[h];const u=a*n;l[u]=this.geometry.morphTargetsRelative?1:1-c,l.set(s,u+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}class Ho extends bs{constructor(n){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Be(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this.fog=n.fog,this}}const cS=new N,dS=new N,TZ=new vt,vA=new lA,uS=new ks,XN=new N,DZ=new N;class xc extends di{constructor(n=new pn,i=new Ho){super(),this.isLine=!0,this.type="Line",this.geometry=n,this.material=i,this.updateMorphTargets()}copy(n,i){return super.copy(n,i),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}computeLineDistances(){const n=this.geometry;if(null===n.index){const i=n.attributes.position,s=[0];for(let a=1,l=i.count;a<l;a++)cS.fromBufferAttribute(i,a-1),dS.fromBufferAttribute(i,a),s[a]=s[a-1],s[a]+=cS.distanceTo(dS);n.setAttribute("lineDistance",new bt(s,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(n,i){const s=this.geometry,a=this.matrixWorld,l=n.params.Line.threshold,c=s.drawRange;if(null===s.boundingSphere&&s.computeBoundingSphere(),uS.copy(s.boundingSphere),uS.applyMatrix4(a),uS.radius+=l,!1===n.ray.intersectsSphere(uS))return;TZ.copy(a).invert(),vA.copy(n.ray).applyMatrix4(TZ);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=d*d,h=this.isLineSegments?2:1,f=s.index,g=s.attributes.position;if(null!==f){const m=Math.max(0,c.start),_=Math.min(f.count,c.start+c.count);for(let v=m,y=_-1;v<y;v+=h){const b=f.getX(v),A=f.getX(v+1),x=hS(this,n,vA,u,b,A);x&&i.push(x)}if(this.isLineLoop){const v=f.getX(_-1),y=f.getX(m),b=hS(this,n,vA,u,v,y);b&&i.push(b)}}else{const m=Math.max(0,c.start),_=Math.min(g.count,c.start+c.count);for(let v=m,y=_-1;v<y;v+=h){const b=hS(this,n,vA,u,v,v+1);b&&i.push(b)}if(this.isLineLoop){const v=hS(this,n,vA,u,_-1,m);v&&i.push(v)}}}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const a=i[s[0]];if(void 0!==a){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=a.length;l<c;l++){const d=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}}function hS(r,n,i,s,a,l){const c=r.geometry.attributes.position;if(cS.fromBufferAttribute(c,a),dS.fromBufferAttribute(c,l),i.distanceSqToSegment(cS,dS,XN,DZ)>s)return;XN.applyMatrix4(r.matrixWorld);const u=n.ray.origin.distanceTo(XN);return u<n.near||u>n.far?void 0:{distance:u,point:DZ.clone().applyMatrix4(r.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:r}}const RZ=new N,kZ=new N;class wc extends xc{constructor(n,i){super(n,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const n=this.geometry;if(null===n.index){const i=n.attributes.position,s=[];for(let a=0,l=i.count;a<l;a+=2)RZ.fromBufferAttribute(i,a),kZ.fromBufferAttribute(i,a+1),s[a]=0===a?0:s[a-1],s[a+1]=s[a]+RZ.distanceTo(kZ);n.setAttribute("lineDistance",new bt(s,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PZ extends xc{constructor(n,i){super(n,i),this.isLineLoop=!0,this.type="LineLoop"}}class KN extends bs{constructor(n){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Be(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.color.copy(n.color),this.map=n.map,this.alphaMap=n.alphaMap,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this.fog=n.fog,this}}const FZ=new vt,ZN=new lA,fS=new ks,pS=new N;class OZ extends di{constructor(n=new pn,i=new KN){super(),this.isPoints=!0,this.type="Points",this.geometry=n,this.material=i,this.updateMorphTargets()}copy(n,i){return super.copy(n,i),this.material=Array.isArray(n.material)?n.material.slice():n.material,this.geometry=n.geometry,this}raycast(n,i){const s=this.geometry,a=this.matrixWorld,l=n.params.Points.threshold,c=s.drawRange;if(null===s.boundingSphere&&s.computeBoundingSphere(),fS.copy(s.boundingSphere),fS.applyMatrix4(a),fS.radius+=l,!1===n.ray.intersectsSphere(fS))return;FZ.copy(a).invert(),ZN.copy(n.ray).applyMatrix4(FZ);const d=l/((this.scale.x+this.scale.y+this.scale.z)/3),u=d*d,h=s.index,p=s.attributes.position;if(null!==h)for(let _=Math.max(0,c.start),v=Math.min(h.count,c.start+c.count);_<v;_++){const y=h.getX(_);pS.fromBufferAttribute(p,y),NZ(pS,y,u,a,n,i,this)}else for(let _=Math.max(0,c.start),v=Math.min(p.count,c.start+c.count);_<v;_++)pS.fromBufferAttribute(p,_),NZ(pS,_,u,a,n,i,this)}updateMorphTargets(){const i=this.geometry.morphAttributes,s=Object.keys(i);if(s.length>0){const a=i[s[0]];if(void 0!==a){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let l=0,c=a.length;l<c;l++){const d=a[l].name||String(l);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=l}}}}}function NZ(r,n,i,s,a,l,c){const d=ZN.distanceSqToPoint(r);if(d<i){const u=new N;ZN.closestPointToPoint(r,u),u.applyMatrix4(s);const h=a.ray.origin.distanceTo(u);if(h<a.near||h>a.far)return;l.push({distance:h,distanceToRay:Math.sqrt(d),point:u,index:n,face:null,faceIndex:null,barycoord:null,object:c})}}class _6e extends ur{constructor(n,i,s,a,l,c,d,u,h){super(n,i,s,a,l,c,d,u,h),this.isVideoTexture=!0,this.minFilter=void 0!==c?c:zn,this.magFilter=void 0!==l?l:zn,this.generateMipmaps=!1;const f=this;"requestVideoFrameCallback"in n&&n.requestVideoFrameCallback(function p(){f.needsUpdate=!0,n.requestVideoFrameCallback(p)})}clone(){return new this.constructor(this.image).copy(this)}update(){const n=this.image;"requestVideoFrameCallback"in n==0&&n.readyState>=n.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Uu extends ur{constructor(n,i,s,a,l,c,d,u,h,f,p,g){super(null,c,d,u,h,f,a,l,p,g),this.isCompressedTexture=!0,this.image={width:i,height:s},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}}class y6e extends Uu{constructor(n,i,s,a,l,c){super(n,i,s,l,c),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=xr,this.layerUpdates=new Set}addLayerUpdate(n){this.layerUpdates.add(n)}clearLayerUpdates(){this.layerUpdates.clear()}}class v6e extends Uu{constructor(n,i,s){super(void 0,n[0].width,n[0].height,i,s,301),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=n}}class BZ extends ur{constructor(n,i,s,a,l,c,d,u,h){super(n,i,s,a,l,c,d,u,h),this.isCanvasTexture=!0,this.needsUpdate=!0}}class MA extends pn{constructor(n=1,i=32,s=16,a=0,l=2*Math.PI,c=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:i,heightSegments:s,phiStart:a,phiLength:l,thetaStart:c,thetaLength:d},i=Math.max(3,Math.floor(i)),s=Math.max(2,Math.floor(s));const u=Math.min(c+d,Math.PI);let h=0;const f=[],p=new N,g=new N,m=[],_=[],v=[],y=[];for(let b=0;b<=s;b++){const A=[],x=b/s;let w=0;0===b&&0===c?w=.5/i:b===s&&u===Math.PI&&(w=-.5/i);for(let E=0;E<=i;E++){const M=E/i;p.x=-n*Math.cos(a+M*l)*Math.sin(c+x*d),p.y=n*Math.cos(c+x*d),p.z=n*Math.sin(a+M*l)*Math.sin(c+x*d),_.push(p.x,p.y,p.z),g.copy(p).normalize(),v.push(g.x,g.y,g.z),y.push(M+w,1-x),A.push(h++)}f.push(A)}for(let b=0;b<s;b++)for(let A=0;A<i;A++){const w=f[b][A],E=f[b+1][A],M=f[b+1][A+1];(0!==b||c>0)&&m.push(f[b][A+1],w,M),(b!==s-1||u<Math.PI)&&m.push(w,E,M)}this.setIndex(m),this.setAttribute("position",new bt(_,3)),this.setAttribute("normal",new bt(v,3)),this.setAttribute("uv",new bt(y,2))}copy(n){return super.copy(n),this.parameters=Object.assign({},n.parameters),this}static fromJSON(n){return new MA(n.radius,n.widthSegments,n.heightSegments,n.phiStart,n.phiLength,n.thetaStart,n.thetaLength)}}class s_ extends bs{constructor(n){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Be(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Be(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ml,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(n)}copy(n){return super.copy(n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalMapType=n.normalMapType,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapRotation.copy(n.envMapRotation),this.envMapIntensity=n.envMapIntensity,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.flatShading=n.flatShading,this.fog=n.fog,this}}class Dl extends s_{constructor(n){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Or(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Be(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Be(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Be(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(n)}get anisotropy(){return this._anisotropy}set anisotropy(n){this._anisotropy>0!=n>0&&this.version++,this._anisotropy=n}get clearcoat(){return this._clearcoat}set clearcoat(n){this._clearcoat>0!=n>0&&this.version++,this._clearcoat=n}get iridescence(){return this._iridescence}set iridescence(n){this._iridescence>0!=n>0&&this.version++,this._iridescence=n}get dispersion(){return this._dispersion}set dispersion(n){this._dispersion>0!=n>0&&this.version++,this._dispersion=n}get sheen(){return this._sheen}set sheen(n){this._sheen>0!=n>0&&this.version++,this._sheen=n}get transmission(){return this._transmission}set transmission(n){this._transmission>0!=n>0&&this.version++,this._transmission=n}copy(n){return super.copy(n),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=n.anisotropy,this.anisotropyRotation=n.anisotropyRotation,this.anisotropyMap=n.anisotropyMap,this.clearcoat=n.clearcoat,this.clearcoatMap=n.clearcoatMap,this.clearcoatRoughness=n.clearcoatRoughness,this.clearcoatRoughnessMap=n.clearcoatRoughnessMap,this.clearcoatNormalMap=n.clearcoatNormalMap,this.clearcoatNormalScale.copy(n.clearcoatNormalScale),this.dispersion=n.dispersion,this.ior=n.ior,this.iridescence=n.iridescence,this.iridescenceMap=n.iridescenceMap,this.iridescenceIOR=n.iridescenceIOR,this.iridescenceThicknessRange=[...n.iridescenceThicknessRange],this.iridescenceThicknessMap=n.iridescenceThicknessMap,this.sheen=n.sheen,this.sheenColor.copy(n.sheenColor),this.sheenColorMap=n.sheenColorMap,this.sheenRoughness=n.sheenRoughness,this.sheenRoughnessMap=n.sheenRoughnessMap,this.transmission=n.transmission,this.transmissionMap=n.transmissionMap,this.thickness=n.thickness,this.thicknessMap=n.thicknessMap,this.attenuationDistance=n.attenuationDistance,this.attenuationColor.copy(n.attenuationColor),this.specularIntensity=n.specularIntensity,this.specularIntensityMap=n.specularIntensityMap,this.specularColor.copy(n.specularColor),this.specularColorMap=n.specularColorMap,this}}function Vf(r,n,i){return!r||!i&&r.constructor===n?r:"number"==typeof n.BYTES_PER_ELEMENT?new n(r):Array.prototype.slice.call(r)}function JZ(r){const i=r.length,s=new Array(i);for(let a=0;a!==i;++a)s[a]=a;return s.sort(function n(a,l){return r[a]-r[l]}),s}function vB(r,n,i){const s=r.length,a=new r.constructor(s);for(let l=0,c=0;c!==s;++l){const d=i[l]*n;for(let u=0;u!==n;++u)a[c++]=r[d+u]}return a}function bB(r,n,i,s){let a=1,l=r[0];for(;void 0!==l&&void 0===l[s];)l=r[a++];if(void 0===l)return;let c=l[s];if(void 0!==c)if(Array.isArray(c))do{c=l[s],void 0!==c&&(n.push(l.time),i.push.apply(i,c)),l=r[a++]}while(void 0!==l);else if(void 0!==c.toArray)do{c=l[s],void 0!==c&&(n.push(l.time),c.toArray(i,i.length)),l=r[a++]}while(void 0!==l);else do{c=l[s],void 0!==c&&(n.push(l.time),i.push(c)),l=r[a++]}while(void 0!==l)}class SA{constructor(n,i,s,a){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=void 0!==a?a:new i.constructor(s),this.sampleValues=i,this.valueSize=s,this.settings=null,this.DefaultSettings_={}}evaluate(n){const i=this.parameterPositions;let s=this._cachedIndex,a=i[s],l=i[s-1];e:{t:{let c;n:{i:if(!(n<a)){for(let d=s+2;;){if(void 0===a){if(n<l)break i;return s=i.length,this._cachedIndex=s,this.copySampleValue_(s-1)}if(s===d)break;if(l=a,a=i[++s],n<a)break t}c=i.length;break n}if(n>=l)break e;{const d=i[1];n<d&&(s=2,l=d);for(let u=s-2;;){if(void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(s===u)break;if(a=l,l=i[--s-1],n>=l)break t}c=s,s=0}}for(;s<c;){const d=s+c>>>1;n<i[d]?c=d:s=d+1}if(a=i[s],l=i[s-1],void 0===l)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===a)return s=i.length,this._cachedIndex=s,this.copySampleValue_(s-1)}this._cachedIndex=s,this.intervalChanged_(s,l,a)}return this.interpolate_(s,l,n,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(n){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=n*a;for(let c=0;c!==a;++c)i[c]=s[l+c];return i}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class d$e extends SA{constructor(n,i,s,a){super(n,i,s,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Tg,endingEnd:Tg}}intervalChanged_(n,i,s){const a=this.parameterPositions;let l=n-2,c=n+1,d=a[l],u=a[c];if(void 0===d)switch(this.getSettings_().endingStart){case Dg:l=n,d=2*i-s;break;case 2402:l=a.length-2,d=i+a[l]-a[l+1];break;default:l=n,d=s}if(void 0===u)switch(this.getSettings_().endingEnd){case Dg:c=n,u=2*s-i;break;case 2402:c=1,u=s+a[1]-a[0];break;default:c=n-1,u=i}const h=.5*(s-i),f=this.valueSize;this._weightPrev=h/(i-d),this._weightNext=h/(u-s),this._offsetPrev=l*f,this._offsetNext=c*f}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=n*d,h=u-d,f=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,m=this._weightNext,_=(s-i)/(a-i),v=_*_,y=v*_,b=-g*y+2*g*v-g*_,A=(1+g)*y+(-1.5-2*g)*v+(-.5+g)*_+1,x=(-1-m)*y+(1.5+m)*v+.5*_,w=m*y-m*v;for(let E=0;E!==d;++E)l[E]=b*c[f+E]+A*c[h+E]+x*c[u+E]+w*c[p+E];return l}}class eJ extends SA{constructor(n,i,s,a){super(n,i,s,a)}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=n*d,h=u-d,f=(s-i)/(a-i),p=1-f;for(let g=0;g!==d;++g)l[g]=c[h+g]*p+c[u+g]*f;return l}}class u$e extends SA{constructor(n,i,s,a){super(n,i,s,a)}interpolate_(n){return this.copySampleValue_(n-1)}}class Ec{constructor(n,i,s,a){if(void 0===n)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===i||0===i.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+n);this.name=n,this.times=Vf(i,this.TimeBufferType),this.values=Vf(s,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(n){const i=n.constructor;let s;if(i.toJSON!==this.toJSON)s=i.toJSON(n);else{s={name:n.name,times:Vf(n.times,Array),values:Vf(n.values,Array)};const a=n.getInterpolation();a!==n.DefaultInterpolation&&(s.interpolation=a)}return s.type=n.ValueTypeName,s}InterpolantFactoryMethodDiscrete(n){return new u$e(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodLinear(n){return new eJ(this.times,this.values,this.getValueSize(),n)}InterpolantFactoryMethodSmooth(n){return new d$e(this.times,this.values,this.getValueSize(),n)}setInterpolation(n){let i;switch(n){case Sg:i=this.InterpolantFactoryMethodDiscrete;break;case Ig:i=this.InterpolantFactoryMethodLinear;break;case 2302:i=this.InterpolantFactoryMethodSmooth}if(void 0===i){const s="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(n===this.DefaultInterpolation)throw new Error(s);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",s),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Sg;case this.InterpolantFactoryMethodLinear:return Ig;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(n){if(0!==n){const i=this.times;for(let s=0,a=i.length;s!==a;++s)i[s]+=n}return this}scale(n){if(1!==n){const i=this.times;for(let s=0,a=i.length;s!==a;++s)i[s]*=n}return this}trim(n,i){const s=this.times,a=s.length;let l=0,c=a-1;for(;l!==a&&s[l]<n;)++l;for(;-1!==c&&s[c]>i;)--c;if(++c,0!==l||c!==a){l>=c&&(c=Math.max(c,1),l=c-1);const d=this.getValueSize();this.times=s.slice(l,c),this.values=this.values.slice(l*d,c*d)}return this}validate(){let n=!0;const i=this.getValueSize();i-Math.floor(i)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),n=!1);const s=this.times,a=this.values,l=s.length;0===l&&(console.error("THREE.KeyframeTrack: Track is empty.",this),n=!1);let c=null;for(let d=0;d!==l;d++){const u=s[d];if("number"==typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,u),n=!1;break}if(null!==c&&c>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,u,c),n=!1;break}c=u}if(void 0!==a&&function ZZ(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}(a))for(let d=0,u=a.length;d!==u;++d){const h=a[d];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,h),n=!1;break}}return n}optimize(){const n=this.times.slice(),i=this.values.slice(),s=this.getValueSize(),a=2302===this.getInterpolation(),l=n.length-1;let c=1;for(let d=1;d<l;++d){let u=!1;const h=n[d];if(h!==n[d+1]&&(1!==d||h!==n[0]))if(a)u=!0;else{const p=d*s,g=p-s,m=p+s;for(let _=0;_!==s;++_){const v=i[p+_];if(v!==i[g+_]||v!==i[m+_]){u=!0;break}}}if(u){if(d!==c){n[c]=n[d];const p=d*s,g=c*s;for(let m=0;m!==s;++m)i[g+m]=i[p+m]}++c}}if(l>0){n[c]=n[l];for(let d=l*s,u=c*s,h=0;h!==s;++h)i[u+h]=i[d+h];++c}return c!==n.length?(this.times=n.slice(0,c),this.values=i.slice(0,c*s)):(this.times=n,this.values=i),this}clone(){const n=this.times.slice(),i=this.values.slice(),a=new(0,this.constructor)(this.name,n,i);return a.createInterpolant=this.createInterpolant,a}}Ec.prototype.TimeBufferType=Float32Array,Ec.prototype.ValueBufferType=Float32Array,Ec.prototype.DefaultInterpolation=Ig;class o_ extends Ec{constructor(n,i,s){super(n,i,s)}}o_.prototype.ValueTypeName="bool",o_.prototype.ValueBufferType=Array,o_.prototype.DefaultInterpolation=Sg,o_.prototype.InterpolantFactoryMethodLinear=void 0,o_.prototype.InterpolantFactoryMethodSmooth=void 0;class tJ extends Ec{}tJ.prototype.ValueTypeName="color";class a_ extends Ec{}a_.prototype.ValueTypeName="number";class h$e extends SA{constructor(n,i,s,a){super(n,i,s,a)}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=(s-i)/(a-i);let h=n*d;for(let f=h+d;h!==f;h+=4)vs.slerpFlat(l,0,c,h-d,c,h,u);return l}}class l_ extends Ec{InterpolantFactoryMethodLinear(n){return new h$e(this.times,this.values,this.getValueSize(),n)}}l_.prototype.ValueTypeName="quaternion",l_.prototype.InterpolantFactoryMethodSmooth=void 0;class c_ extends Ec{constructor(n,i,s){super(n,i,s)}}c_.prototype.ValueTypeName="string",c_.prototype.ValueBufferType=Array,c_.prototype.DefaultInterpolation=Sg,c_.prototype.InterpolantFactoryMethodLinear=void 0,c_.prototype.InterpolantFactoryMethodSmooth=void 0;class d_ extends Ec{}d_.prototype.ValueTypeName="vector";class IA{constructor(n="",i=-1,s=[],a=2500){this.name=n,this.tracks=s,this.duration=i,this.blendMode=a,this.uuid=Sa(),this.duration<0&&this.resetDuration()}static parse(n){const i=[],s=n.tracks,a=1/(n.fps||1);for(let c=0,d=s.length;c!==d;++c)i.push(p$e(s[c]).scale(a));const l=new this(n.name,n.duration,i,n.blendMode);return l.uuid=n.uuid,l}static toJSON(n){const i=[],s=n.tracks,a={name:n.name,duration:n.duration,tracks:i,uuid:n.uuid,blendMode:n.blendMode};for(let l=0,c=s.length;l!==c;++l)i.push(Ec.toJSON(s[l]));return a}static CreateFromMorphTargetSequence(n,i,s,a){const l=i.length,c=[];for(let d=0;d<l;d++){let u=[],h=[];u.push((d+l-1)%l,d,(d+1)%l),h.push(0,1,0);const f=JZ(u);u=vB(u,1,f),h=vB(h,1,f),!a&&0===u[0]&&(u.push(l),h.push(h[0])),c.push(new a_(".morphTargetInfluences["+i[d].name+"]",u,h).scale(1/s))}return new this(n,-1,c)}static findByName(n,i){let s=n;Array.isArray(n)||(s=n.geometry&&n.geometry.animations||n.animations);for(let a=0;a<s.length;a++)if(s[a].name===i)return s[a];return null}static CreateClipsFromMorphTargetSequences(n,i,s){const a={},l=/^([\w-]*?)([\d]+)$/;for(let d=0,u=n.length;d<u;d++){const h=n[d],f=h.name.match(l);if(f&&f.length>1){const p=f[1];let g=a[p];g||(a[p]=g=[]),g.push(h)}}const c=[];for(const d in a)c.push(this.CreateFromMorphTargetSequence(d,a[d],i,s));return c}static parseAnimation(n,i){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const s=function(p,g,m,_,v){if(0!==m.length){const y=[],b=[];bB(m,y,b,_),0!==y.length&&v.push(new p(g,y,b))}},a=[],l=n.name||"default",c=n.fps||30,d=n.blendMode;let u=n.length||-1;const h=n.hierarchy||[];for(let p=0;p<h.length;p++){const g=h[p].keys;if(g&&0!==g.length)if(g[0].morphTargets){const m={};let _;for(_=0;_<g.length;_++)if(g[_].morphTargets)for(let v=0;v<g[_].morphTargets.length;v++)m[g[_].morphTargets[v]]=-1;for(const v in m){const y=[],b=[];for(let A=0;A!==g[_].morphTargets.length;++A){const x=g[_];y.push(x.time),b.push(x.morphTarget===v?1:0)}a.push(new a_(".morphTargetInfluence["+v+"]",y,b))}u=m.length*c}else{const m=".bones["+i[p].name+"]";s(d_,m+".position",g,"pos",a),s(l_,m+".quaternion",g,"rot",a),s(d_,m+".scale",g,"scl",a)}}return 0===a.length?null:new this(l,u,a,d)}resetDuration(){let i=0;for(let s=0,a=this.tracks.length;s!==a;++s){const l=this.tracks[s];i=Math.max(i,l.times[l.times.length-1])}return this.duration=i,this}trim(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].trim(0,this.duration);return this}validate(){let n=!0;for(let i=0;i<this.tracks.length;i++)n=n&&this.tracks[i].validate();return n}optimize(){for(let n=0;n<this.tracks.length;n++)this.tracks[n].optimize();return this}clone(){const n=[];for(let i=0;i<this.tracks.length;i++)n.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,n,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function p$e(r){if(void 0===r.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const n=function f$e(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return a_;case"vector":case"vector2":case"vector3":case"vector4":return d_;case"color":return tJ;case"quaternion":return l_;case"bool":case"boolean":return o_;case"string":return c_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}(r.type);if(void 0===r.times){const i=[],s=[];bB(r.keys,i,s,"value"),r.times=i,r.values=s}return void 0!==n.parse?n.parse(r):new n(r.name,r.times,r.values,r.interpolation)}const zu={enabled:!1,files:{},add:function(r,n){!1!==this.enabled&&(this.files[r]=n)},get:function(r){if(!1!==this.enabled)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class AB{constructor(n,i,s){const a=this;let u,l=!1,c=0,d=0;const h=[];this.onStart=void 0,this.onLoad=n,this.onProgress=i,this.onError=s,this.itemStart=function(f){d++,!1===l&&void 0!==a.onStart&&a.onStart(f,c,d),l=!0},this.itemEnd=function(f){c++,void 0!==a.onProgress&&a.onProgress(f,c,d),c===d&&(l=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(f){void 0!==a.onError&&a.onError(f)},this.resolveURL=function(f){return u?u(f):f},this.setURLModifier=function(f){return u=f,this},this.addHandler=function(f,p){return h.push(f,p),this},this.removeHandler=function(f){const p=h.indexOf(f);return-1!==p&&h.splice(p,2),this},this.getHandler=function(f){for(let p=0,g=h.length;p<g;p+=2){const m=h[p],_=h[p+1];if(m.global&&(m.lastIndex=0),m.test(f))return _}return null}}}const m$e=new AB;let oo=(()=>{class r{constructor(i){this.manager=void 0!==i?i:m$e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(i,s){const a=this;return new Promise(function(l,c){a.load(i,l,s,c)})}parse(){}setCrossOrigin(i){return this.crossOrigin=i,this}setWithCredentials(i){return this.withCredentials=i,this}setPath(i){return this.path=i,this}setResourcePath(i){return this.resourcePath=i,this}setRequestHeader(i){return this.requestHeader=i,this}}return r.DEFAULT_MATERIAL_NAME="__DEFAULT",r})();const Dd={};class g$e extends Error{constructor(n,i){super(n),this.response=i}}class ao extends oo{constructor(n){super(n)}load(n,i,s,a){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);const l=zu.get(n);if(void 0!==l)return this.manager.itemStart(n),setTimeout(()=>{i&&i(l),this.manager.itemEnd(n)},0),l;if(void 0!==Dd[n])return void Dd[n].push({onLoad:i,onProgress:s,onError:a});Dd[n]=[],Dd[n].push({onLoad:i,onProgress:s,onError:a});const c=new Request(n,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),d=this.mimeType,u=this.responseType;fetch(c).then(h=>{if(200===h.status||0===h.status){if(0===h.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===h.body||void 0===h.body.getReader)return h;const f=Dd[n],p=h.body.getReader(),g=h.headers.get("X-File-Size")||h.headers.get("Content-Length"),m=g?parseInt(g):0,_=0!==m;let v=0;const y=new ReadableStream({start(b){!function A(){p.read().then(({done:x,value:w})=>{if(x)b.close();else{v+=w.byteLength;const E=new ProgressEvent("progress",{lengthComputable:_,loaded:v,total:m});for(let M=0,S=f.length;M<S;M++){const T=f[M];T.onProgress&&T.onProgress(E)}b.enqueue(w),A()}},x=>{b.error(x)})}()}});return new Response(y)}throw new g$e(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`,h)}).then(h=>{switch(u){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(f=>(new DOMParser).parseFromString(f,d));case"json":return h.json();default:if(void 0===d)return h.text();{const p=/charset="?([^;"\s]*)"?/i.exec(d),g=p&&p[1]?p[1].toLowerCase():void 0,m=new TextDecoder(g);return h.arrayBuffer().then(_=>m.decode(_))}}}).then(h=>{zu.add(n,h);const f=Dd[n];delete Dd[n];for(let p=0,g=f.length;p<g;p++){const m=f[p];m.onLoad&&m.onLoad(h)}}).catch(h=>{const f=Dd[n];if(void 0===f)throw this.manager.itemError(n),h;delete Dd[n];for(let p=0,g=f.length;p<g;p++){const m=f[p];m.onError&&m.onError(h)}this.manager.itemError(n)}).finally(()=>{this.manager.itemEnd(n)}),this.manager.itemStart(n)}setResponseType(n){return this.responseType=n,this}setMimeType(n){return this.mimeType=n,this}}class MS extends oo{constructor(n){super(n)}load(n,i,s,a){void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);const l=this,c=zu.get(n);if(void 0!==c)return l.manager.itemStart(n),setTimeout(function(){i&&i(c),l.manager.itemEnd(n)},0),c;const d=rA("img");function u(){f(),zu.add(n,this),i&&i(this),l.manager.itemEnd(n)}function h(p){f(),a&&a(p),l.manager.itemError(n),l.manager.itemEnd(n)}function f(){d.removeEventListener("load",u,!1),d.removeEventListener("error",h,!1)}return d.addEventListener("load",u,!1),d.addEventListener("error",h,!1),"data:"!==n.slice(0,5)&&void 0!==this.crossOrigin&&(d.crossOrigin=this.crossOrigin),l.manager.itemStart(n),d.src=n,d}}class _$e extends oo{constructor(n){super(n)}load(n,i,s,a){const l=this,c=new Tl,d=new ao(this.manager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(l.withCredentials),d.load(n,function(u){let h;try{h=l.parse(u)}catch(f){if(void 0===a)return void console.error(f);a(f)}void 0!==h.image?c.image=h.image:void 0!==h.data&&(c.image.width=h.width,c.image.height=h.height,c.image.data=h.data),c.wrapS=void 0!==h.wrapS?h.wrapS:xr,c.wrapT=void 0!==h.wrapT?h.wrapT:xr,c.magFilter=void 0!==h.magFilter?h.magFilter:zn,c.minFilter=void 0!==h.minFilter?h.minFilter:zn,c.anisotropy=void 0!==h.anisotropy?h.anisotropy:1,void 0!==h.colorSpace&&(c.colorSpace=h.colorSpace),void 0!==h.flipY&&(c.flipY=h.flipY),void 0!==h.format&&(c.format=h.format),void 0!==h.type&&(c.type=h.type),void 0!==h.mipmaps&&(c.mipmaps=h.mipmaps,c.minFilter=No),1===h.mipmapCount&&(c.minFilter=zn),void 0!==h.generateMipmaps&&(c.generateMipmaps=h.generateMipmaps),c.needsUpdate=!0,i&&i(c,h)},s,a),c}}class nJ extends oo{constructor(n){super(n)}load(n,i,s,a){const l=new ur,c=new MS(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(n,function(d){l.image=d,l.needsUpdate=!0,void 0!==i&&i(l)},s,a),l}}class Hf extends di{constructor(n,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Be(n),this.intensity=i}dispose(){}copy(n,i){return super.copy(n,i),this.color.copy(n.color),this.intensity=n.intensity,this}toJSON(n){const i=super.toJSON(n);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,void 0!==this.groundColor&&(i.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(i.object.distance=this.distance),void 0!==this.angle&&(i.object.angle=this.angle),void 0!==this.decay&&(i.object.decay=this.decay),void 0!==this.penumbra&&(i.object.penumbra=this.penumbra),void 0!==this.shadow&&(i.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(i.object.target=this.target.uuid),i}}const xB=new vt,iJ=new N,rJ=new N;class wB{constructor(n){this.camera=n,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ve(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new WM,this._frameExtents=new ve(1,1),this._viewportCount=1,this._viewports=[new si(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(n){const i=this.camera,s=this.matrix;iJ.setFromMatrixPosition(n.matrixWorld),i.position.copy(iJ),rJ.setFromMatrixPosition(n.target.matrixWorld),i.lookAt(rJ),i.updateMatrixWorld(),xB.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xB),s.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),s.multiply(xB)}getViewport(n){return this._viewports[n]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(n){return this.camera=n.camera.clone(),this.intensity=n.intensity,this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const n={};return 1!==this.intensity&&(n.intensity=this.intensity),0!==this.bias&&(n.bias=this.bias),0!==this.normalBias&&(n.normalBias=this.normalBias),1!==this.radius&&(n.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}class v$e extends wB{constructor(){super(new Wr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(n){const i=this.camera,s=2*kg*n.angle*this.focus,a=this.mapSize.width/this.mapSize.height,l=n.distance||i.far;(s!==i.fov||a!==i.aspect||l!==i.far)&&(i.fov=s,i.aspect=a,i.far=l,i.updateProjectionMatrix()),super.updateMatrices(n)}copy(n){return super.copy(n),this.focus=n.focus,this}}class sJ extends Hf{constructor(n,i,s=0,a=Math.PI/3,l=0,c=2){super(n,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.target=new di,this.distance=s,this.angle=a,this.penumbra=l,this.decay=c,this.map=null,this.shadow=new v$e}get power(){return this.intensity*Math.PI}set power(n){this.intensity=n/Math.PI}dispose(){this.shadow.dispose()}copy(n,i){return super.copy(n,i),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}const oJ=new vt,TA=new N,CB=new N;class b$e extends wB{constructor(){super(new Wr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ve(4,2),this._viewportCount=6,this._viewports=[new si(2,1,1,1),new si(0,1,1,1),new si(3,1,1,1),new si(1,1,1,1),new si(3,0,1,1),new si(1,0,1,1)],this._cubeDirections=[new N(1,0,0),new N(-1,0,0),new N(0,0,1),new N(0,0,-1),new N(0,1,0),new N(0,-1,0)],this._cubeUps=[new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,1,0),new N(0,0,1),new N(0,0,-1)]}updateMatrices(n,i=0){const s=this.camera,a=this.matrix,l=n.distance||s.far;l!==s.far&&(s.far=l,s.updateProjectionMatrix()),TA.setFromMatrixPosition(n.matrixWorld),s.position.copy(TA),CB.copy(s.position),CB.add(this._cubeDirections[i]),s.up.copy(this._cubeUps[i]),s.lookAt(CB),s.updateMatrixWorld(),a.makeTranslation(-TA.x,-TA.y,-TA.z),oJ.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oJ)}}class EB extends Hf{constructor(n,i,s=0,a=2){super(n,i),this.isPointLight=!0,this.type="PointLight",this.distance=s,this.decay=a,this.shadow=new b$e}get power(){return 4*this.intensity*Math.PI}set power(n){this.intensity=n/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(n,i){return super.copy(n,i),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}class A$e extends wB{constructor(){super(new Pf(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class MB extends Hf{constructor(n,i){super(n,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(di.DEFAULT_UP),this.updateMatrix(),this.target=new di,this.shadow=new A$e}dispose(){this.shadow.dispose()}copy(n){return super.copy(n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}class C$e{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let n=0;n<9;n++)this.coefficients.push(new N)}set(n){for(let i=0;i<9;i++)this.coefficients[i].copy(n[i]);return this}zero(){for(let n=0;n<9;n++)this.coefficients[n].set(0,0,0);return this}getAt(n,i){const s=n.x,a=n.y,l=n.z,c=this.coefficients;return i.copy(c[0]).multiplyScalar(.282095),i.addScaledVector(c[1],.488603*a),i.addScaledVector(c[2],.488603*l),i.addScaledVector(c[3],.488603*s),i.addScaledVector(c[4],s*a*1.092548),i.addScaledVector(c[5],a*l*1.092548),i.addScaledVector(c[6],.315392*(3*l*l-1)),i.addScaledVector(c[7],s*l*1.092548),i.addScaledVector(c[8],.546274*(s*s-a*a)),i}getIrradianceAt(n,i){const s=n.x,a=n.y,l=n.z,c=this.coefficients;return i.copy(c[0]).multiplyScalar(.886227),i.addScaledVector(c[1],1.023328*a),i.addScaledVector(c[2],1.023328*l),i.addScaledVector(c[3],1.023328*s),i.addScaledVector(c[4],.858086*s*a),i.addScaledVector(c[5],.858086*a*l),i.addScaledVector(c[6],.743125*l*l-.247708),i.addScaledVector(c[7],.858086*s*l),i.addScaledVector(c[8],.429043*(s*s-a*a)),i}add(n){for(let i=0;i<9;i++)this.coefficients[i].add(n.coefficients[i]);return this}addScaledSH(n,i){for(let s=0;s<9;s++)this.coefficients[s].addScaledVector(n.coefficients[s],i);return this}scale(n){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(n);return this}lerp(n,i){for(let s=0;s<9;s++)this.coefficients[s].lerp(n.coefficients[s],i);return this}equals(n){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(n.coefficients[i]))return!1;return!0}copy(n){return this.set(n.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(n,i=0){const s=this.coefficients;for(let a=0;a<9;a++)s[a].fromArray(n,i+3*a);return this}toArray(n=[],i=0){const s=this.coefficients;for(let a=0;a<9;a++)s[a].toArray(n,i+3*a);return n}static getBasisAt(n,i){const s=n.x,a=n.y,l=n.z;i[0]=.282095,i[1]=.488603*a,i[2]=.488603*l,i[3]=.488603*s,i[4]=1.092548*s*a,i[5]=1.092548*a*l,i[6]=.315392*(3*l*l-1),i[7]=1.092548*s*l,i[8]=.546274*(s*s-a*a)}}class aJ extends Hf{constructor(n=new C$e,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=n}copy(n){return super.copy(n),this.sh.copy(n.sh),this}fromJSON(n){return this.intensity=n.intensity,this.sh.fromArray(n.sh),this}toJSON(n){const i=super.toJSON(n);return i.object.sh=this.sh.toArray(),i}}class Gf{static decodeText(n){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return(new TextDecoder).decode(n);let i="";for(let s=0,a=n.length;s<a;s++)i+=String.fromCharCode(n[s]);try{return decodeURIComponent(escape(i))}catch{return i}}static extractUrlBase(n){const i=n.lastIndexOf("/");return-1===i?"./":n.slice(0,i+1)}static resolveURL(n,i){return"string"!=typeof n||""===n?"":(/^https?:\/\//i.test(i)&&/^\//.test(n)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(n)||/^data:.*,.*$/i.test(n)||/^blob:.*$/i.test(n)?n:i+n)}}class I$e extends oo{constructor(n){super(n),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(n){return this.options=n,this}load(n,i,s,a){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);const l=this,c=zu.get(n);if(void 0!==c)return l.manager.itemStart(n),c.then?void c.then(h=>{i&&i(h),l.manager.itemEnd(n)}).catch(h=>{a&&a(h)}):(setTimeout(function(){i&&i(c),l.manager.itemEnd(n)},0),c);const d={};d.credentials="anonymous"===this.crossOrigin?"same-origin":"include",d.headers=this.requestHeader;const u=fetch(n,d).then(function(h){return h.blob()}).then(function(h){return createImageBitmap(h,Object.assign(l.options,{colorSpaceConversion:"none"}))}).then(function(h){return zu.add(n,h),i&&i(h),l.manager.itemEnd(n),h}).catch(function(h){a&&a(h),zu.remove(n),l.manager.itemError(n),l.manager.itemEnd(n)});zu.add(n,u),l.manager.itemStart(n)}}class P$e{constructor(n,i,s){let a,l,c;switch(this.binding=n,this.valueSize=s,i){case"quaternion":a=this._slerp,l=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*s),this._workIndex=5;break;case"string":case"bool":a=this._select,l=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(5*s);break;default:a=this._lerp,l=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*s)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=l,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(n,i){const s=this.buffer,a=this.valueSize,l=n*a+a;let c=this.cumulativeWeight;if(0===c){for(let d=0;d!==a;++d)s[l+d]=s[d];c=i}else c+=i,this._mixBufferRegion(s,l,0,i/c,a);this.cumulativeWeight=c}accumulateAdditive(n){const i=this.buffer,s=this.valueSize,a=s*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(i,a,0,n,s),this.cumulativeWeightAdditive+=n}apply(n){const i=this.valueSize,s=this.buffer,a=n*i+i,l=this.cumulativeWeight,c=this.cumulativeWeightAdditive,d=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,l<1&&this._mixBufferRegion(s,a,i*this._origIndex,1-l,i),c>0&&this._mixBufferRegionAdditive(s,a,this._addIndex*i,1,i);for(let u=i,h=i+i;u!==h;++u)if(s[u]!==s[u+i]){d.setValue(s,a);break}}saveOriginalState(){const i=this.buffer,s=this.valueSize,a=s*this._origIndex;this.binding.getValue(i,a);for(let l=s,c=a;l!==c;++l)i[l]=i[a+l%s];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const n=this._addIndex*this.valueSize,i=n+this.valueSize;for(let s=n;s<i;s++)this.buffer[s]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const n=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let s=0;s<this.valueSize;s++)this.buffer[i+s]=this.buffer[n+s]}_select(n,i,s,a,l){if(a>=.5)for(let c=0;c!==l;++c)n[i+c]=n[s+c]}_slerp(n,i,s,a){vs.slerpFlat(n,i,n,i,n,s,a)}_slerpAdditive(n,i,s,a,l){const c=this._workIndex*l;vs.multiplyQuaternionsFlat(n,c,n,i,n,s),vs.slerpFlat(n,i,n,i,n,c,a)}_lerp(n,i,s,a,l){const c=1-a;for(let d=0;d!==l;++d){const u=i+d;n[u]=n[u]*c+n[s+d]*a}}_lerpAdditive(n,i,s,a,l){for(let c=0;c!==l;++c){const d=i+c;n[d]=n[d]+n[s+c]*a}}}const IB="\\[\\]\\.:\\/",F$e=new RegExp("["+IB+"]","g"),TB="[^"+IB+"]",O$e="[^"+IB.replace("\\.","")+"]",z$e=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",TB)+/(WCOD+)?/.source.replace("WCOD",O$e)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TB)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TB)+"$"),V$e=["material","materials","bones","map"];class H$e{constructor(n,i,s){const a=s||yi.parseTrackName(i);this._targetGroup=n,this._bindings=n.subscribe_(i,a)}getValue(n,i){this.bind();const a=this._bindings[this._targetGroup.nCachedObjects_];void 0!==a&&a.getValue(n,i)}setValue(n,i){const s=this._bindings;for(let a=this._targetGroup.nCachedObjects_,l=s.length;a!==l;++a)s[a].setValue(n,i)}bind(){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].bind()}unbind(){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=n.length;i!==s;++i)n[i].unbind()}}let yi=(()=>{class r{constructor(i,s,a){this.path=s,this.parsedPath=a||r.parseTrackName(s),this.node=r.findNode(i,this.parsedPath.nodeName),this.rootNode=i,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(i,s,a){return i&&i.isAnimationObjectGroup?new r.Composite(i,s,a):new r(i,s,a)}static sanitizeNodeName(i){return i.replace(/\s/g,"_").replace(F$e,"")}static parseTrackName(i){const s=z$e.exec(i);if(null===s)throw new Error("PropertyBinding: Cannot parse trackName: "+i);const a={nodeName:s[2],objectName:s[3],objectIndex:s[4],propertyName:s[5],propertyIndex:s[6]},l=a.nodeName&&a.nodeName.lastIndexOf(".");if(void 0!==l&&-1!==l){const c=a.nodeName.substring(l+1);-1!==V$e.indexOf(c)&&(a.nodeName=a.nodeName.substring(0,l),a.objectName=c)}if(null===a.propertyName||0===a.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+i);return a}static findNode(i,s){if(void 0===s||""===s||"."===s||-1===s||s===i.name||s===i.uuid)return i;if(i.skeleton){const a=i.skeleton.getBoneByName(s);if(void 0!==a)return a}if(i.children){const a=function(c){for(let d=0;d<c.length;d++){const u=c[d];if(u.name===s||u.uuid===s)return u;const h=a(u.children);if(h)return h}return null},l=a(i.children);if(l)return l}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(i,s){i[s]=this.targetObject[this.propertyName]}_getValue_array(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)i[s++]=a[l]}_getValue_arrayElement(i,s){i[s]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(i,s){this.resolvedProperty.toArray(i,s)}_setValue_direct(i,s){this.targetObject[this.propertyName]=i[s]}_setValue_direct_setNeedsUpdate(i,s){this.targetObject[this.propertyName]=i[s],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(i,s){this.targetObject[this.propertyName]=i[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)a[l]=i[s++]}_setValue_array_setNeedsUpdate(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)a[l]=i[s++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(i,s){const a=this.resolvedProperty;for(let l=0,c=a.length;l!==c;++l)a[l]=i[s++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(i,s){this.resolvedProperty[this.propertyIndex]=i[s]}_setValue_arrayElement_setNeedsUpdate(i,s){this.resolvedProperty[this.propertyIndex]=i[s],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(i,s){this.resolvedProperty[this.propertyIndex]=i[s],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(i,s){this.resolvedProperty.fromArray(i,s)}_setValue_fromArray_setNeedsUpdate(i,s){this.resolvedProperty.fromArray(i,s),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(i,s){this.resolvedProperty.fromArray(i,s),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(i,s){this.bind(),this.getValue(i,s)}_setValue_unbound(i,s){this.bind(),this.setValue(i,s)}bind(){let i=this.node;const s=this.parsedPath,a=s.objectName,l=s.propertyName;let c=s.propertyIndex;if(i||(i=r.findNode(this.rootNode,s.nodeName),this.node=i),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!i)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(a){let f=s.objectIndex;switch(a){case"materials":if(!i.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!i.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);i=i.material.materials;break;case"bones":if(!i.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);i=i.skeleton.bones;for(let p=0;p<i.length;p++)if(i[p].name===f){f=p;break}break;case"map":if("map"in i){i=i.map;break}if(!i.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!i.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);i=i.material.map;break;default:if(void 0===i[a])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);i=i[a]}if(void 0!==f){if(void 0===i[f])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,i);i=i[f]}}const d=i[l];if(void 0===d)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+s.nodeName+"."+l+" but it wasn't found.",i);let u=this.Versioning.None;this.targetObject=i,void 0!==i.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==i.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==c){if("morphTargetInfluences"===l){if(!i.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!i.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==i.morphTargetDictionary[c]&&(c=i.morphTargetDictionary[c])}h=this.BindingType.ArrayElement,this.resolvedProperty=d,this.propertyIndex=c}else void 0!==d.fromArray&&void 0!==d.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=d):Array.isArray(d)?(h=this.BindingType.EntireArray,this.resolvedProperty=d):this.propertyName=l;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return r.Composite=H$e,r})();yi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},yi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},yi.prototype.GetterByBindingType=[yi.prototype._getValue_direct,yi.prototype._getValue_array,yi.prototype._getValue_arrayElement,yi.prototype._getValue_toArray],yi.prototype.SetterByBindingTypeAndVersioning=[[yi.prototype._setValue_direct,yi.prototype._setValue_direct_setNeedsUpdate,yi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yi.prototype._setValue_array,yi.prototype._setValue_array_setNeedsUpdate,yi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yi.prototype._setValue_arrayElement,yi.prototype._setValue_arrayElement_setNeedsUpdate,yi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yi.prototype._setValue_fromArray,yi.prototype._setValue_fromArray_setNeedsUpdate,yi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class G$e{constructor(n,i,s=null,a=i.blendMode){this._mixer=n,this._clip=i,this._localRoot=s,this.blendMode=a;const l=i.tracks,c=l.length,d=new Array(c),u={endingStart:Tg,endingEnd:Tg};for(let h=0;h!==c;++h){const f=l[h].createInterpolant(null);d[h]=f,f.settings=u}this._interpolantSettings=u,this._interpolants=d,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(n){return this._startTime=n,this}setLoop(n,i){return this.loop=n,this.repetitions=i,this}setEffectiveWeight(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(n){return this._scheduleFading(n,0,1)}fadeOut(n){return this._scheduleFading(n,1,0)}crossFadeFrom(n,i,s){if(n.fadeOut(i),this.fadeIn(i),s){const a=this._clip.duration,l=n._clip.duration,d=a/l;n.warp(1,l/a,i),this.warp(d,1,i)}return this}crossFadeTo(n,i,s){return n.crossFadeFrom(this,i,s)}stopFading(){const n=this._weightInterpolant;return null!==n&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}setEffectiveTimeScale(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(n){return this.timeScale=this._clip.duration/n,this.stopWarping()}syncWith(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()}halt(n){return this.warp(this._effectiveTimeScale,0,n)}warp(n,i,s){const a=this._mixer,l=a.time,c=this.timeScale;let d=this._timeScaleInterpolant;null===d&&(d=a._lendControlInterpolant(),this._timeScaleInterpolant=d);const u=d.parameterPositions,h=d.sampleValues;return u[0]=l,u[1]=l+s,h[0]=n/c,h[1]=i/c,this}stopWarping(){const n=this._timeScaleInterpolant;return null!==n&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(n,i,s,a){if(!this.enabled)return void this._updateWeight(n);const l=this._startTime;if(null!==l){const u=(n-l)*s;u<0||0===s?i=0:(this._startTime=null,i=s*u)}i*=this._updateTimeScale(n);const c=this._updateTime(i),d=this._updateWeight(n);if(d>0){const u=this._interpolants,h=this._propertyBindings;if(2501===this.blendMode)for(let f=0,p=u.length;f!==p;++f)u[f].evaluate(c),h[f].accumulateAdditive(d);else for(let f=0,p=u.length;f!==p;++f)u[f].evaluate(c),h[f].accumulate(a,d)}}_updateWeight(n){let i=0;if(this.enabled){i=this.weight;const s=this._weightInterpolant;if(null!==s){const a=s.evaluate(n)[0];i*=a,n>s.parameterPositions[1]&&(this.stopFading(),0===a&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(n){let i=0;if(!this.paused){i=this.timeScale;const s=this._timeScaleInterpolant;null!==s&&(i*=s.evaluate(n)[0],n>s.parameterPositions[1]&&(this.stopWarping(),0===i?this.paused=!0:this.timeScale=i))}return this._effectiveTimeScale=i,i}_updateTime(n){const i=this._clip.duration,s=this.loop;let a=this.time+n,l=this._loopCount;const c=2202===s;if(0===n)return-1===l||!c||1&~l?a:i-a;if(2200===s){-1===l&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=i)a=i;else{if(!(a<0)){this.time=a;break e}a=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{if(-1===l&&(n>=0?(l=0,this._setEndings(!0,0===this.repetitions,c)):this._setEndings(0===this.repetitions,!0,c)),a>=i||a<0){const d=Math.floor(a/i);a-=i*d,l+=Math.abs(d);const u=this.repetitions-l;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=n>0?i:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:n>0?1:-1});else{if(1===u){const h=n<0;this._setEndings(h,!h,c)}else this._setEndings(!1,!1,c);this._loopCount=l,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d})}}else this.time=a;if(c&&!(1&~l))return i-a}return a}_setEndings(n,i,s){const a=this._interpolantSettings;s?(a.endingStart=Dg,a.endingEnd=Dg):(a.endingStart=n?this.zeroSlopeAtStart?Dg:Tg:2402,a.endingEnd=i?this.zeroSlopeAtEnd?Dg:Tg:2402)}_scheduleFading(n,i,s){const a=this._mixer,l=a.time;let c=this._weightInterpolant;null===c&&(c=a._lendControlInterpolant(),this._weightInterpolant=c);const d=c.parameterPositions,u=c.sampleValues;return d[0]=l,u[0]=i,d[1]=l+n,u[1]=s,this}}const $$e=new Float32Array(1);class Q$e extends Ma{constructor(n){super(),this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(n,i){const s=n._localRoot||this._root,a=n._clip.tracks,l=a.length,c=n._propertyBindings,d=n._interpolants,u=s.uuid,h=this._bindingsByRootAndName;let f=h[u];void 0===f&&(f={},h[u]=f);for(let p=0;p!==l;++p){const g=a[p],m=g.name;let _=f[m];if(void 0!==_)++_.referenceCount,c[p]=_;else{if(_=c[p],void 0!==_){null===_._cacheIndex&&(++_.referenceCount,this._addInactiveBinding(_,u,m));continue}_=new P$e(yi.create(s,m,i&&i._propertyBindings[p].binding.parsedPath),g.ValueTypeName,g.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,u,m),c[p]=_}d[p].resultBuffer=_.buffer}}_activateAction(n){if(!this._isActiveAction(n)){if(null===n._cacheIndex){const s=(n._localRoot||this._root).uuid,a=n._clip.uuid,l=this._actionsByClip[a];this._bindAction(n,l&&l.knownActions[0]),this._addInactiveAction(n,a,s)}const i=n._propertyBindings;for(let s=0,a=i.length;s!==a;++s){const l=i[s];0==l.useCount++&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(n)}}_deactivateAction(n){if(this._isActiveAction(n)){const i=n._propertyBindings;for(let s=0,a=i.length;s!==a;++s){const l=i[s];0==--l.useCount&&(l.restoreOriginalState(),this._takeBackBinding(l))}this._takeBackAction(n)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}}_isActiveAction(n){const i=n._cacheIndex;return null!==i&&i<this._nActiveActions}_addInactiveAction(n,i,s){const a=this._actions,l=this._actionsByClip;let c=l[i];if(void 0===c)c={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,l[i]=c;else{const d=c.knownActions;n._byClipCacheIndex=d.length,d.push(n)}n._cacheIndex=a.length,a.push(n),c.actionByRoot[s]=n}_removeInactiveAction(n){const i=this._actions,s=i[i.length-1],a=n._cacheIndex;s._cacheIndex=a,i[a]=s,i.pop(),n._cacheIndex=null;const l=n._clip.uuid,c=this._actionsByClip,d=c[l],u=d.knownActions,h=u[u.length-1],f=n._byClipCacheIndex;h._byClipCacheIndex=f,u[f]=h,u.pop(),n._byClipCacheIndex=null,delete d.actionByRoot[(n._localRoot||this._root).uuid],0===u.length&&delete c[l],this._removeInactiveBindingsForAction(n)}_removeInactiveBindingsForAction(n){const i=n._propertyBindings;for(let s=0,a=i.length;s!==a;++s){const l=i[s];0==--l.referenceCount&&this._removeInactiveBinding(l)}}_lendAction(n){const i=this._actions,s=n._cacheIndex,a=this._nActiveActions++,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_takeBackAction(n){const i=this._actions,s=n._cacheIndex,a=--this._nActiveActions,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_addInactiveBinding(n,i,s){const a=this._bindingsByRootAndName,l=this._bindings;let c=a[i];void 0===c&&(c={},a[i]=c),c[s]=n,n._cacheIndex=l.length,l.push(n)}_removeInactiveBinding(n){const i=this._bindings,s=n.binding,a=s.rootNode.uuid,l=s.path,c=this._bindingsByRootAndName,d=c[a],u=i[i.length-1],h=n._cacheIndex;u._cacheIndex=h,i[h]=u,i.pop(),delete d[l],0===Object.keys(d).length&&delete c[a]}_lendBinding(n){const i=this._bindings,s=n._cacheIndex,a=this._nActiveBindings++,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_takeBackBinding(n){const i=this._bindings,s=n._cacheIndex,a=--this._nActiveBindings,l=i[a];n._cacheIndex=a,i[a]=n,l._cacheIndex=s,i[s]=l}_lendControlInterpolant(){const n=this._controlInterpolants,i=this._nActiveControlInterpolants++;let s=n[i];return void 0===s&&(s=new eJ(new Float32Array(2),new Float32Array(2),1,$$e),s.__cacheIndex=i,n[i]=s),s}_takeBackControlInterpolant(n){const i=this._controlInterpolants,s=n.__cacheIndex,a=--this._nActiveControlInterpolants,l=i[a];n.__cacheIndex=a,i[a]=n,l.__cacheIndex=s,i[s]=l}clipAction(n,i,s){const a=i||this._root,l=a.uuid;let c="string"==typeof n?IA.findByName(a,n):n;const d=null!==c?c.uuid:n,u=this._actionsByClip[d];let h=null;if(void 0===s&&(s=null!==c?c.blendMode:2500),void 0!==u){const p=u.actionByRoot[l];if(void 0!==p&&p.blendMode===s)return p;h=u.knownActions[0],null===c&&(c=h._clip)}if(null===c)return null;const f=new G$e(this,c,i,s);return this._bindAction(f,h),this._addInactiveAction(f,d,l),f}existingAction(n,i){const s=i||this._root,a=s.uuid,l="string"==typeof n?IA.findByName(s,n):n,d=this._actionsByClip[l?l.uuid:n];return void 0!==d&&d.actionByRoot[a]||null}stopAllAction(){const n=this._actions;for(let s=this._nActiveActions-1;s>=0;--s)n[s].stop();return this}update(n){const i=this._actions,s=this._nActiveActions,a=this.time+=n*=this.timeScale,l=Math.sign(n),c=this._accuIndex^=1;for(let h=0;h!==s;++h)i[h]._update(a,n,l,c);const d=this._bindings,u=this._nActiveBindings;for(let h=0;h!==u;++h)d[h].apply(c);return this}setTime(n){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(n)}getRoot(){return this._root}uncacheClip(n){const i=this._actions,s=n.uuid,a=this._actionsByClip,l=a[s];if(void 0!==l){const c=l.knownActions;for(let d=0,u=c.length;d!==u;++d){const h=c[d];this._deactivateAction(h);const f=h._cacheIndex,p=i[i.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,p._cacheIndex=f,i[f]=p,i.pop(),this._removeInactiveBindingsForAction(h)}delete a[s]}}uncacheRoot(n){const i=n.uuid,s=this._actionsByClip;for(const c in s){const u=s[c].actionByRoot[i];void 0!==u&&(this._deactivateAction(u),this._removeInactiveAction(u))}const l=this._bindingsByRootAndName[i];if(void 0!==l)for(const c in l){const d=l[c];d.restoreOriginalState(),this._removeInactiveBinding(d)}}uncacheAction(n,i){const s=this.existingAction(n,i);null!==s&&(this._deactivateAction(s),this._removeInactiveAction(s))}}class DB{constructor(n){this.value=n}clone(){return new DB(void 0===this.value.clone?this.value:this.value.clone())}}const gJ=new vt;function _J(r,n){return r.distance-n.distance}function RB(r,n,i,s){let a=!0;if(r.layers.test(n.layers)&&!1===r.raycast(n,i)&&(a=!1),!0===a&&!0===s){const l=r.children;for(let c=0,d=l.length;c<d;c++)RB(l[c],n,i,!0)}}class IS{constructor(n=1,i=0,s=0){return this.radius=n,this.phi=i,this.theta=s,this}set(n,i,s){return this.radius=n,this.phi=i,this.theta=s,this}copy(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(n){return this.setFromCartesianCoords(n.x,n.y,n.z)}setFromCartesianCoords(n,i,s){return this.radius=Math.sqrt(n*n+i*i+s*s),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n,s),this.phi=Math.acos(Or(i/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"169"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="169");const OS=window,FB=OS.ShadowRoot&&(void 0===OS.ShadyCSS||OS.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,OB=Symbol(),IJ=new WeakMap;class TJ{constructor(n,i,s){if(this._$cssResult$=!0,s!==OB)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=n,this.t=i}get styleSheet(){let n=this.o;const i=this.t;if(FB&&void 0===n){const s=void 0!==i&&1===i.length;s&&(n=IJ.get(i)),void 0===n&&((this.o=n=new CSSStyleSheet).replaceSync(this.cssText),s&&IJ.set(i,n))}return n}toString(){return this.cssText}}const DJ=FB?r=>r:r=>r instanceof CSSStyleSheet?(n=>{let i="";for(const s of n.cssRules)i+=s.cssText;return(r=>new TJ("string"==typeof r?r:r+"",void 0,OB))(i)})(r):r;var NB;const NS=window,RJ=NS.trustedTypes,K$e=RJ?RJ.emptyScript:"",kJ=NS.reactiveElementPolyfillSupport,BB={toAttribute(r,n){switch(n){case Boolean:r=r?K$e:null;break;case Object:case Array:r=null==r?r:JSON.stringify(r)}return r},fromAttribute(r,n){let i=r;switch(n){case Boolean:i=null!==r;break;case Number:i=null===r?null:Number(r);break;case Object:case Array:try{i=JSON.parse(r)}catch{i=null}}return i}},PJ=(r,n)=>n!==r&&(n==n||r==r),LB={attribute:!0,type:String,converter:BB,reflect:!1,hasChanged:PJ},UB="finalized";class Yf extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(n){var i;this.finalize(),(null!==(i=this.h)&&void 0!==i?i:this.h=[]).push(n)}static get observedAttributes(){this.finalize();const n=[];return this.elementProperties.forEach((i,s)=>{const a=this._$Ep(s,i);void 0!==a&&(this._$Ev.set(a,s),n.push(a))}),n}static createProperty(n,i=LB){if(i.state&&(i.attribute=!1),this.finalize(),this.elementProperties.set(n,i),!i.noAccessor&&!this.prototype.hasOwnProperty(n)){const s="symbol"==typeof n?Symbol():"__"+n,a=this.getPropertyDescriptor(n,s,i);void 0!==a&&Object.defineProperty(this.prototype,n,a)}}static getPropertyDescriptor(n,i,s){return{get(){return this[i]},set(a){const l=this[n];this[i]=a,this.requestUpdate(n,l,s)},configurable:!0,enumerable:!0}}static getPropertyOptions(n){return this.elementProperties.get(n)||LB}static finalize(){if(this.hasOwnProperty(UB))return!1;this[UB]=!0;const n=Object.getPrototypeOf(this);if(n.finalize(),void 0!==n.h&&(this.h=[...n.h]),this.elementProperties=new Map(n.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const i=this.properties,s=[...Object.getOwnPropertyNames(i),...Object.getOwnPropertySymbols(i)];for(const a of s)this.createProperty(a,i[a])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(n){const i=[];if(Array.isArray(n)){const s=new Set(n.flat(1/0).reverse());for(const a of s)i.unshift(DJ(a))}else void 0!==n&&i.push(DJ(n));return i}static _$Ep(n,i){const s=i.attribute;return!1===s?void 0:"string"==typeof s?s:"string"==typeof n?n.toLowerCase():void 0}_$Eu(){var n;this._$E_=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(n=this.constructor.h)||void 0===n||n.forEach(i=>i(this))}addController(n){var i,s;(null!==(i=this._$ES)&&void 0!==i?i:this._$ES=[]).push(n),void 0!==this.renderRoot&&this.isConnected&&(null===(s=n.hostConnected)||void 0===s||s.call(n))}removeController(n){var i;null===(i=this._$ES)||void 0===i||i.splice(this._$ES.indexOf(n)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((n,i)=>{this.hasOwnProperty(i)&&(this._$Ei.set(i,this[i]),delete this[i])})}createRenderRoot(){var n;const i=null!==(n=this.shadowRoot)&&void 0!==n?n:this.attachShadow(this.constructor.shadowRootOptions);return((r,n)=>{FB?r.adoptedStyleSheets=n.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet):n.forEach(i=>{const s=document.createElement("style"),a=OS.litNonce;void 0!==a&&s.setAttribute("nonce",a),s.textContent=i.cssText,r.appendChild(s)})})(i,this.constructor.elementStyles),i}connectedCallback(){var n;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(n=this._$ES)||void 0===n||n.forEach(i=>{var s;return null===(s=i.hostConnected)||void 0===s?void 0:s.call(i)})}enableUpdating(n){}disconnectedCallback(){var n;null===(n=this._$ES)||void 0===n||n.forEach(i=>{var s;return null===(s=i.hostDisconnected)||void 0===s?void 0:s.call(i)})}attributeChangedCallback(n,i,s){this._$AK(n,s)}_$EO(n,i,s=LB){var a;const l=this.constructor._$Ep(n,s);if(void 0!==l&&!0===s.reflect){const c=(void 0!==(null===(a=s.converter)||void 0===a?void 0:a.toAttribute)?s.converter:BB).toAttribute(i,s.type);this._$El=n,null==c?this.removeAttribute(l):this.setAttribute(l,c),this._$El=null}}_$AK(n,i){var s;const a=this.constructor,l=a._$Ev.get(n);if(void 0!==l&&this._$El!==l){const c=a.getPropertyOptions(l),d="function"==typeof c.converter?{fromAttribute:c.converter}:void 0!==(null===(s=c.converter)||void 0===s?void 0:s.fromAttribute)?c.converter:BB;this._$El=l,this[l]=d.fromAttribute(i,c.type),this._$El=null}}requestUpdate(n,i,s){let a=!0;void 0!==n&&(((s=s||this.constructor.getPropertyOptions(n)).hasChanged||PJ)(this[n],i)?(this._$AL.has(n)||this._$AL.set(n,i),!0===s.reflect&&this._$El!==n&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(n,s))):a=!1),!this.isUpdatePending&&a&&(this._$E_=this._$Ej())}_$Ej(){var n=this;return ke(function*(){n.isUpdatePending=!0;try{yield n._$E_}catch(s){Promise.reject(s)}const i=n.scheduleUpdate();return null!=i&&(yield i),!n.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var n;if(!this.isUpdatePending)return;this._$Ei&&(this._$Ei.forEach((a,l)=>this[l]=a),this._$Ei=void 0);let i=!1;const s=this._$AL;try{i=this.shouldUpdate(s),i?(this.willUpdate(s),null===(n=this._$ES)||void 0===n||n.forEach(a=>{var l;return null===(l=a.hostUpdate)||void 0===l?void 0:l.call(a)}),this.update(s)):this._$Ek()}catch(a){throw i=!1,this._$Ek(),a}i&&this._$AE(s)}willUpdate(n){}_$AE(n){var i;null===(i=this._$ES)||void 0===i||i.forEach(s=>{var a;return null===(a=s.hostUpdated)||void 0===a?void 0:a.call(s)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(n)),this.updated(n)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(n){return!0}update(n){void 0!==this._$EC&&(this._$EC.forEach((i,s)=>this._$EO(s,this[s],i)),this._$EC=void 0),this._$Ek()}updated(n){}firstUpdated(n){}}var zB;Yf[UB]=!0,Yf.elementProperties=new Map,Yf.elementStyles=[],Yf.shadowRootOptions={mode:"open"},kJ?.({ReactiveElement:Yf}),(null!==(NB=NS.reactiveElementVersions)&&void 0!==NB?NB:NS.reactiveElementVersions=[]).push("1.6.3");const BS=window,u_=BS.trustedTypes,FJ=u_?u_.createPolicy("lit-html",{createHTML:r=>r}):void 0,LS="$lit$",Rd=`lit$${(Math.random()+"").slice(9)}$`,VB="?"+Rd,Z$e=`<${VB}>`,Xf=document,DA=()=>Xf.createComment(""),RA=r=>null===r||"object"!=typeof r&&"function"!=typeof r,OJ=Array.isArray,HB="[ \t\n\f\r]",kA=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,BJ=/-->/g,LJ=/>/g,Kf=RegExp(`>|${HB}(?:([^\\s"'>=/]+)(${HB}*=${HB}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),UJ=/'/g,zJ=/"/g,VJ=/^(?:script|style|textarea|title)$/i,HJ=r=>(n,...i)=>({_$litType$:r,strings:n,values:i}),US=HJ(1),h_=(HJ(2),Symbol.for("lit-noChange")),Fs=Symbol.for("lit-nothing"),GJ=new WeakMap,Zf=Xf.createTreeWalker(Xf,129,null,!1);function $J(r,n){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==FJ?FJ.createHTML(n):n}class PA{constructor({strings:n,_$litType$:i},s){let a;this.parts=[];let l=0,c=0;const d=n.length-1,u=this.parts,[h,f]=((r,n)=>{const i=r.length-1,s=[];let a,l=2===n?"<svg>":"",c=kA;for(let d=0;d<i;d++){const u=r[d];let h,f,p=-1,g=0;for(;g<u.length&&(c.lastIndex=g,f=c.exec(u),null!==f);)g=c.lastIndex,c===kA?"!--"===f[1]?c=BJ:void 0!==f[1]?c=LJ:void 0!==f[2]?(VJ.test(f[2])&&(a=RegExp("</"+f[2],"g")),c=Kf):void 0!==f[3]&&(c=Kf):c===Kf?">"===f[0]?(c=a??kA,p=-1):void 0===f[1]?p=-2:(p=c.lastIndex-f[2].length,h=f[1],c=void 0===f[3]?Kf:'"'===f[3]?zJ:UJ):c===zJ||c===UJ?c=Kf:c===BJ||c===LJ?c=kA:(c=Kf,a=void 0);const m=c===Kf&&r[d+1].startsWith("/>")?" ":"";l+=c===kA?u+Z$e:p>=0?(s.push(h),u.slice(0,p)+LS+u.slice(p)+Rd+m):u+Rd+(-2===p?(s.push(void 0),d):m)}return[$J(r,l+(r[i]||"<?>")+(2===n?"</svg>":"")),s]})(n,i);if(this.el=PA.createElement(h,s),Zf.currentNode=this.el.content,2===i){const p=this.el.content,g=p.firstChild;g.remove(),p.append(...g.childNodes)}for(;null!==(a=Zf.nextNode())&&u.length<d;){if(1===a.nodeType){if(a.hasAttributes()){const p=[];for(const g of a.getAttributeNames())if(g.endsWith(LS)||g.startsWith(Rd)){const m=f[c++];if(p.push(g),void 0!==m){const _=a.getAttribute(m.toLowerCase()+LS).split(Rd),v=/([.?@])?(.*)/.exec(m);u.push({type:1,index:l,name:v[2],strings:_,ctor:"."===v[1]?WJ:"?"===v[1]?qJ:"@"===v[1]?YJ:FA})}else u.push({type:6,index:l})}for(const g of p)a.removeAttribute(g)}if(VJ.test(a.tagName)){const p=a.textContent.split(Rd),g=p.length-1;if(g>0){a.textContent=u_?u_.emptyScript:"";for(let m=0;m<g;m++)a.append(p[m],DA()),Zf.nextNode(),u.push({type:2,index:++l});a.append(p[g],DA())}}}else if(8===a.nodeType)if(a.data===VB)u.push({type:2,index:l});else{let p=-1;for(;-1!==(p=a.data.indexOf(Rd,p+1));)u.push({type:7,index:l}),p+=Rd.length-1}l++}}static createElement(n,i){const s=Xf.createElement("template");return s.innerHTML=n,s}}function Jf(r,n,i=r,s){var a,l,c,d;if(n===h_)return n;let u=void 0!==s?null===(a=i._$Co)||void 0===a?void 0:a[s]:i._$Cl;const h=RA(n)?void 0:n._$litDirective$;return u?.constructor!==h&&(null===(l=u?._$AO)||void 0===l||l.call(u,!1),void 0===h?u=void 0:(u=new h(r),u._$AT(r,i,s)),void 0!==s?(null!==(c=(d=i)._$Co)&&void 0!==c?c:d._$Co=[])[s]=u:i._$Cl=u),void 0!==u&&(n=Jf(r,u._$AS(r,n.values),u,s)),n}class jJ{constructor(n,i){this._$AV=[],this._$AN=void 0,this._$AD=n,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(n){var i;const{el:{content:s},parts:a}=this._$AD,l=(null!==(i=n?.creationScope)&&void 0!==i?i:Xf).importNode(s,!0);Zf.currentNode=l;let c=Zf.nextNode(),d=0,u=0,h=a[0];for(;void 0!==h;){if(d===h.index){let f;2===h.type?f=new f_(c,c.nextSibling,this,n):1===h.type?f=new h.ctor(c,h.name,h.strings,this,n):6===h.type&&(f=new XJ(c,this,n)),this._$AV.push(f),h=a[++u]}d!==h?.index&&(c=Zf.nextNode(),d++)}return Zf.currentNode=Xf,l}v(n){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(n,s,i),i+=s.strings.length-2):s._$AI(n[i])),i++}}class f_{constructor(n,i,s,a){var l;this.type=2,this._$AH=Fs,this._$AN=void 0,this._$AA=n,this._$AB=i,this._$AM=s,this.options=a,this._$Cp=null===(l=a?.isConnected)||void 0===l||l}get _$AU(){var n,i;return null!==(i=null===(n=this._$AM)||void 0===n?void 0:n._$AU)&&void 0!==i?i:this._$Cp}get parentNode(){let n=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===n?.nodeType&&(n=i.parentNode),n}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(n,i=this){n=Jf(this,n,i),RA(n)?n===Fs||null==n||""===n?(this._$AH!==Fs&&this._$AR(),this._$AH=Fs):n!==this._$AH&&n!==h_&&this._(n):void 0!==n._$litType$?this.g(n):void 0!==n.nodeType?this.$(n):(r=>OJ(r)||"function"==typeof r?.[Symbol.iterator])(n)?this.T(n):this._(n)}k(n){return this._$AA.parentNode.insertBefore(n,this._$AB)}$(n){this._$AH!==n&&(this._$AR(),this._$AH=this.k(n))}_(n){this._$AH!==Fs&&RA(this._$AH)?this._$AA.nextSibling.data=n:this.$(Xf.createTextNode(n)),this._$AH=n}g(n){var i;const{values:s,_$litType$:a}=n,l="number"==typeof a?this._$AC(n):(void 0===a.el&&(a.el=PA.createElement($J(a.h,a.h[0]),this.options)),a);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===l)this._$AH.v(s);else{const c=new jJ(l,this),d=c.u(this.options);c.v(s),this.$(d),this._$AH=c}}_$AC(n){let i=GJ.get(n.strings);return void 0===i&&GJ.set(n.strings,i=new PA(n)),i}T(n){OJ(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,a=0;for(const l of n)a===i.length?i.push(s=new f_(this.k(DA()),this.k(DA()),this,this.options)):s=i[a],s._$AI(l),a++;a<i.length&&(this._$AR(s&&s._$AB.nextSibling,a),i.length=a)}_$AR(n=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);n&&n!==this._$AB;){const a=n.nextSibling;n.remove(),n=a}}setConnected(n){var i;void 0===this._$AM&&(this._$Cp=n,null===(i=this._$AP)||void 0===i||i.call(this,n))}}class FA{constructor(n,i,s,a,l){this.type=1,this._$AH=Fs,this._$AN=void 0,this.element=n,this.name=i,this._$AM=a,this.options=l,s.length>2||""!==s[0]||""!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=Fs}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(n,i=this,s,a){const l=this.strings;let c=!1;if(void 0===l)n=Jf(this,n,i,0),c=!RA(n)||n!==this._$AH&&n!==h_,c&&(this._$AH=n);else{const d=n;let u,h;for(n=l[0],u=0;u<l.length-1;u++)h=Jf(this,d[s+u],i,u),h===h_&&(h=this._$AH[u]),c||(c=!RA(h)||h!==this._$AH[u]),h===Fs?n=Fs:n!==Fs&&(n+=(h??"")+l[u+1]),this._$AH[u]=h}c&&!a&&this.j(n)}j(n){n===Fs?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,n??"")}}class WJ extends FA{constructor(){super(...arguments),this.type=3}j(n){this.element[this.name]=n===Fs?void 0:n}}const J$e=u_?u_.emptyScript:"";class qJ extends FA{constructor(){super(...arguments),this.type=4}j(n){n&&n!==Fs?this.element.setAttribute(this.name,J$e):this.element.removeAttribute(this.name)}}class YJ extends FA{constructor(n,i,s,a,l){super(n,i,s,a,l),this.type=5}_$AI(n,i=this){var s;if((n=null!==(s=Jf(this,n,i,0))&&void 0!==s?s:Fs)===h_)return;const a=this._$AH,l=n===Fs&&a!==Fs||n.capture!==a.capture||n.once!==a.once||n.passive!==a.passive,c=n!==Fs&&(a===Fs||l);l&&this.element.removeEventListener(this.name,this,a),c&&this.element.addEventListener(this.name,this,n),this._$AH=n}handleEvent(n){var i,s;"function"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,n):this._$AH.handleEvent(n)}}class XJ{constructor(n,i,s){this.element=n,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(n){Jf(this,n)}}const KJ=BS.litHtmlPolyfillSupport;KJ?.(PA,f_),(null!==(zB=BS.litHtmlVersions)&&void 0!==zB?zB:BS.litHtmlVersions=[]).push("2.8.0");const ZJ=(r,n,i)=>{var s,a;const l=null!==(s=i?.renderBefore)&&void 0!==s?s:n;let c=l._$litPart$;if(void 0===c){const d=null!==(a=i?.renderBefore)&&void 0!==a?a:null;l._$litPart$=c=new f_(n.insertBefore(DA(),d),d,void 0,i??{})}return c._$AI(r),c};var GB,$B;class zS extends Yf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n,i;const s=super.createRenderRoot();return null!==(n=(i=this.renderOptions).renderBefore)&&void 0!==n||(i.renderBefore=s.firstChild),s}update(n){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(n),this._$Do=ZJ(i,this.renderRoot,this.renderOptions)}connectedCallback(){var n;super.connectedCallback(),null===(n=this._$Do)||void 0===n||n.setConnected(!0)}disconnectedCallback(){var n;super.disconnectedCallback(),null===(n=this._$Do)||void 0===n||n.setConnected(!1)}render(){return h_}}zS.finalized=!0,zS._$litElement$=!0,null===(GB=globalThis.litElementHydrateSupport)||void 0===GB||GB.call(globalThis,{LitElement:zS});const JJ=globalThis.litElementPolyfillSupport;JJ?.({LitElement:zS}),(null!==($B=globalThis.litElementVersions)&&void 0!==$B?$B:globalThis.litElementVersions=[]).push("3.3.3");const eee=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,tee=eee&&null!=self.XRSession.prototype.requestHitTestSource,QB=null!=self.ResizeObserver,jB=null!=self.IntersectionObserver,nee=tee,eQe=((()=>{const r=navigator.userAgent||navigator.vendor||self.opera;let n=!1;/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))})(),/\bCrOS\b/.test(navigator.userAgent),/android/i.test(navigator.userAgent)),iee=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,tQe=(/Safari\//.test(navigator.userAgent),/firefox/i.test(navigator.userAgent)),nQe=/OculusBrowser/.test(navigator.userAgent),iQe=(iee&&/CriOS\//.test(navigator.userAgent),eQe&&!tQe&&!nQe),rQe=!(!window.webkit||!window.webkit.messageHandlers),ree=(()=>{if(iee){if(rQe)return!!/CriOS\/|EdgiOS\/|FxiOS\/|GSA\/|DuckDuckGo\//.test(navigator.userAgent);{const r=document.createElement("a");return!!(r.relList&&r.relList.supports&&r.relList.supports("ar"))}}return!1})(),see=r=>r&&"null"!==r?sQe(r):null,oee=()=>{if(nee)return;const r=[];throw eee||r.push("WebXR Device API"),tee||r.push("WebXR Hit Test API"),new Error(`The following APIs are required for AR, but are missing in this browser: ${r.join(", ")}`)},sQe=r=>new URL(r,window.location.toString()).toString(),aee=(r,n)=>{let i=null;return(...s)=>{null!=i&&self.clearTimeout(i),i=self.setTimeout(()=>{i=null,r(...s)},n)}},Mc=(r,n,i)=>Math.max(n,Math.min(i,r)),lee=(()=>{const n=new RegExp("[?&]model-viewer-debug-mode(&|$)");return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(n)})();var ep=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const OA=Symbol("currentEnvironmentMap"),NA=Symbol("currentBackground"),VS=Symbol("updateEnvironment"),HS=Symbol("cancelEnvironmentUpdate"),_Qe=US`
<style>
:host {
  display: block;
  position: relative;
  contain: strict;
  width: 300px;
  height: 150px;
}

.container {
  position: relative;
  overflow: hidden;
}

.userInput {
  width: 100%;
  height: 100%;
  display: none;
  position: relative;
  outline-offset: -1px;
  outline-width: 1px;
}

canvas {
  position: absolute;
  display: none;
  pointer-events: none;
  /* NOTE(cdata): Chrome 76 and below apparently have a bug
   * that causes our canvas not to display pixels unless it is
   * on its own render layer
   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893
   */
  transform: translateZ(0);
}

.show {
  display: block;
}

/* Adapted from HTML5 Boilerplate
 *
 * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */
.screen-reader-only {
  border: 0;
  left: 0;
  top: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  white-space: nowrap;
  width: 1px;
  pointer-events: none;
}

.slot {
  position: absolute;
  pointer-events: none;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.slot > * {
  pointer-events: initial;
}

.annotation-wrapper ::slotted(*) {
  opacity: var(--max-hotspot-opacity, 1);
  transition: opacity 0.3s;
}

.pointer-tumbling .annotation-wrapper ::slotted(*) {
  pointer-events: none;
}

.annotation-wrapper ::slotted(*) {
  pointer-events: initial;
}

.annotation-wrapper.hide ::slotted(*) {
  opacity: var(--min-hotspot-opacity, 0.25);
}

.slot.poster {
  display: none;
  background-color: inherit;
}

.slot.poster.show {
  display: inherit;
}

.slot.poster > * {
  pointer-events: initial;
}

.slot.poster:not(.show) > * {
  pointer-events: none;
}

#default-poster {
  width: 100%;
  height: 100%;
  /* The default poster is a <button> so we need to set display
   * to prevent it from being affected by text-align: */
  display: block;
  position: absolute;
  border: none;
  padding: 0;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  background-color: #fff0;
}

#default-progress-bar {
  display: block;
  position: relative;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}

#default-progress-bar > .bar {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--progress-bar-height, 5px);
  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));
  transition: transform 0.09s;
  transform-origin: top left;
  transform: scaleX(0);
  overflow: hidden;
}

#default-progress-bar > .bar.hide {
  transition: opacity 0.3s 1s;
  opacity: 0;
}

.centered {
  align-items: center;
  justify-content: center;
}

.cover {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.slot.interaction-prompt {
  display: var(--interaction-prompt-display, flex);
  overflow: hidden;
  opacity: 0;
  will-change: opacity;
  transition: opacity 0.3s;
}

.slot.interaction-prompt.visible {
  opacity: 1;
}

.animated-container {
  will-change: transform, opacity;
  opacity: 0;
  transition: opacity 0.3s;
}

.slot.interaction-prompt > * {
  pointer-events: none;
}

.slot.ar-button {
  -moz-user-select: none;
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  display: var(--ar-button-display, block);
}

.slot.ar-button:not(.enabled) {
  display: none;
}

.fab {
  display: flex;
  align-items: center;
  justify-content: center;
  box-sizing: border-box;
  width: 40px;
  height: 40px;
  cursor: pointer;
  background-color: #fff;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);
  border-radius: 100px;
}

.fab > * {
  opacity: 0.87;
}

#default-ar-button {
  position: absolute;
  bottom: 16px;
  right: 16px;
  transform: scale(var(--ar-button-scale, 1));
  transform-origin: bottom right;
}

.slot.pan-target {
  display: block;
  position: absolute;
  width: 0;
  height: 0;
  left: 50%;
  top: 50%;
  transform: translate3d(-50%, -50%, 0);
  background-color: transparent;
  opacity: 0;
  transition: opacity 0.3s;
}

#default-pan-target {
  width: 6px;
  height: 6px;
  border-radius: 6px;
  border: 1px solid white;
  box-shadow: 0px 0px 2px 1px rgba(0, 0, 0, 0.8);
}

.slot.default {
  pointer-events: none;
}

.slot.progress-bar {
  pointer-events: none;
}

.slot.exit-webxr-ar-button {
  pointer-events: none;
}

.slot.exit-webxr-ar-button:not(.enabled) {
  display: none;
}

#default-exit-webxr-ar-button {
  display: flex;
  align-items: center;
  justify-content: center;
  position: absolute;
  top: env(safe-area-inset-top, 16px);
  right: 16px;
  width: 40px;
  height: 40px;
  box-sizing: border-box;
}

#default-exit-webxr-ar-button > svg {
  fill: #fff;
}
</style>
<div class="container">
  <div class="userInput" tabindex="0" role="img"
      aria-label="3D model">
      <div class="slot canvas">
        <slot name="canvas">
          <canvas></canvas>
        </slot>
      </div>

  </div>

  <!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM
        will have their <slot> elements removed by ShadyCSS -->
  <div class="slot poster">
    <slot name="poster">
      <button type="button" id="default-poster" aria-hidden="true" aria-label="Loading 3D model"></button>
    </slot>
  </div>

  <div class="slot ar-button">
    <slot name="ar-button">
      <a id="default-ar-button" part="default-ar-button" class="fab"
          tabindex="2"
          role="button"
          href="javascript:void(0);"
          aria-label="View in your space">
        ${US`
<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"
	 xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"
	 viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>
<g id="Art_layer">
	<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>
	<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>
	<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>
	<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>
	<g>
		<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3
			l5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62
			l4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>
	</g>
</g>
</svg>`}
      </a>
    </slot>
  </div>

  <div class="slot pan-target">
    <slot name="pan-target">
      <div id="default-pan-target">
      </div>
    </slot>
  </div>

  <div class="slot interaction-prompt cover centered">
    <div id="prompt" class="animated-container">
      <slot name="interaction-prompt" aria-hidden="true">
        ${US`
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">
    <defs>
        <path id="A" d="M.001.232h24.997V36H.001z" />
    </defs>
    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">
        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />
        <g transform="translate(11 3)">
            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />
            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />
            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />
            <g transform="translate(0 .769)">
                <mask id="B" fill="#fff">
                    <use xlink:href="#A" />
                </mask>
                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />
            </g>
        </g>
    </g>
</svg>`}
      </slot>
    </div>
  </div>

  <div id="finger0" class="animated-container cover">
    <slot name="finger0" aria-hidden="true">
    </slot>
  </div>
  <div id="finger1" class="animated-container cover">
    <slot name="finger1" aria-hidden="true">
    </slot>
  </div>

  <div class="slot default">
    <slot></slot>

    <div class="slot progress-bar">
      <slot name="progress-bar">
        <div id="default-progress-bar" aria-hidden="true">
          <div class="bar" part="default-progress-bar"></div>
        </div>
      </slot>
    </div>

    <div class="slot exit-webxr-ar-button">
      <slot name="exit-webxr-ar-button">
        <a id="default-exit-webxr-ar-button" part="default-exit-webxr-ar-button"
            tabindex="3"
            aria-label="Exit AR"
            aria-hidden="true">
          ${US`
<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">
    <!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement
         support for dynamic re-coloring of UI components -->
    <defs>
      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">
        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>
        <feOffset dx="0" dy="0" result="offsetblur"/>
        <feFlood flood-color="#000000"/>
        <feComposite in2="offsetblur" operator="in"/>
        <feMerge>
          <feMergeNode/>
          <feMergeNode in="SourceGraphic"/>
        </feMerge>
      </filter>
    </defs>
    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
    <path d="M0 0h24v24H0z" fill="none"/>
</svg>`}
        </a>
      </slot>
    </div>
  </div>
</div>
<div class="screen-reader-only" role="region" aria-label="Live announcements">
  <span id="status" role="status"></span>
</div>`,WB=new WeakMap;function bQe(){let r,n;function a(c,d,u,h,f,p){const g=p.num_components(),_=u.num_points()*g,v=_*f.BYTES_PER_ELEMENT,y=function l(c,d){switch(d){case Float32Array:return c.DT_FLOAT32;case Int8Array:return c.DT_INT8;case Int16Array:return c.DT_INT16;case Int32Array:return c.DT_INT32;case Uint8Array:return c.DT_UINT8;case Uint16Array:return c.DT_UINT16;case Uint32Array:return c.DT_UINT32}}(c,f),b=c._malloc(v);d.GetAttributeDataArrayForAllPoints(u,p,y,v,b);const A=new f(c.HEAPF32.buffer,b,_).slice();return c._free(b),{name:h,array:A,itemSize:g}}onmessage=function(c){const d=c.data;switch(d.type){case"init":r=d.decoderConfig,n=new Promise(function(f){r.onModuleLoaded=function(p){f({draco:p})},DracoDecoderModule(r)});break;case"decode":const u=d.buffer,h=d.taskConfig;n.then(f=>{const p=f.draco,g=new p.Decoder;try{const m=function i(c,d,u,h){const f=h.attributeIDs,p=h.attributeTypes;let g,m;const _=d.GetEncodedGeometryType(u);if(_===c.TRIANGULAR_MESH)g=new c.Mesh,m=d.DecodeArrayToMesh(u,u.byteLength,g);else{if(_!==c.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");g=new c.PointCloud,m=d.DecodeArrayToPointCloud(u,u.byteLength,g)}if(!m.ok()||0===g.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const v={index:null,attributes:[]};for(const y in f){const b=self[p[y]];let A,x;if(h.useUniqueIDs)x=f[y],A=d.GetAttributeByUniqueId(g,x);else{if(x=d.GetAttributeId(g,c[f[y]]),-1===x)continue;A=d.GetAttribute(g,x)}const w=a(c,d,g,y,b,A);"color"===y&&(w.vertexColorSpace=h.vertexColorSpace),v.attributes.push(w)}return _===c.TRIANGULAR_MESH&&(v.index=function s(c,d,u){const f=3*u.num_faces(),p=4*f,g=c._malloc(p);d.GetTrianglesUInt32Array(u,p,g);const m=new Uint32Array(c.HEAPF32.buffer,g,f).slice();return c._free(g),{array:m,itemSize:1}}(c,d,g)),c.destroy(g),v}(p,g,new Int8Array(u),h),_=m.attributes.map(v=>v.array.buffer);m.index&&_.push(m.index.array.buffer),self.postMessage({type:"decode",id:d.id,geometry:m},_)}catch(m){console.error(m),self.postMessage({type:"error",id:d.id,error:m.message})}finally{p.destroy(g)}})}}}function dee(r,n){if(0===n)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),r;if(2===n||1===n){let i=r.getIndex();if(null===i){const c=[],d=r.getAttribute("position");if(void 0===d)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r;for(let u=0;u<d.count;u++)c.push(u);r.setIndex(c),i=r.getIndex()}const s=i.count-2,a=[];if(2===n)for(let c=1;c<=s;c++)a.push(i.getX(0)),a.push(i.getX(c)),a.push(i.getX(c+1));else for(let c=0;c<s;c++)c%2==0?(a.push(i.getX(c)),a.push(i.getX(c+1)),a.push(i.getX(c+2))):(a.push(i.getX(c+2)),a.push(i.getX(c+1)),a.push(i.getX(c)));a.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const l=r.clone();return l.setIndex(a),l.clearGroups(),l}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",n),r}class AQe extends oo{constructor(n){super(n),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(i){return new MQe(i)}),this.register(function(i){return new SQe(i)}),this.register(function(i){return new NQe(i)}),this.register(function(i){return new BQe(i)}),this.register(function(i){return new LQe(i)}),this.register(function(i){return new TQe(i)}),this.register(function(i){return new DQe(i)}),this.register(function(i){return new RQe(i)}),this.register(function(i){return new kQe(i)}),this.register(function(i){return new EQe(i)}),this.register(function(i){return new PQe(i)}),this.register(function(i){return new IQe(i)}),this.register(function(i){return new OQe(i)}),this.register(function(i){return new FQe(i)}),this.register(function(i){return new wQe(i)}),this.register(function(i){return new UQe(i)}),this.register(function(i){return new zQe(i)})}load(n,i,s,a){const l=this;let c;if(""!==this.resourcePath)c=this.resourcePath;else if(""!==this.path){const h=Gf.extractUrlBase(n);c=Gf.resolveURL(h,this.path)}else c=Gf.extractUrlBase(n);this.manager.itemStart(n);const d=function(h){a?a(h):console.error(h),l.manager.itemError(n),l.manager.itemEnd(n)},u=new ao(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(n,function(h){try{l.parse(h,c,function(f){i(f),l.manager.itemEnd(n)},d)}catch(f){d(f)}},s,d)}setDRACOLoader(n){return this.dracoLoader=n,this}setKTX2Loader(n){return this.ktx2Loader=n,this}setMeshoptDecoder(n){return this.meshoptDecoder=n,this}register(n){return-1===this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.push(n),this}unregister(n){return-1!==this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(n),1),this}parse(n,i,s,a){let l;const c={},d={},u=new TextDecoder;if("string"==typeof n)l=JSON.parse(n);else if(n instanceof ArrayBuffer)if(u.decode(new Uint8Array(n,0,4))===uee){try{c[Bn.KHR_BINARY_GLTF]=new VQe(n)}catch(p){return void(a&&a(p))}l=JSON.parse(c[Bn.KHR_BINARY_GLTF].content)}else l=JSON.parse(u.decode(n));else l=n;if(void 0===l.asset||l.asset.version[0]<2)return void(a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const h=new eje(l,{path:i||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const p=this.pluginCallbacks[f](h);p.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),d[p.name]=p,c[p.name]=!0}if(l.extensionsUsed)for(let f=0;f<l.extensionsUsed.length;++f){const p=l.extensionsUsed[f],g=l.extensionsRequired||[];switch(p){case Bn.KHR_MATERIALS_UNLIT:c[p]=new CQe;break;case Bn.KHR_DRACO_MESH_COMPRESSION:c[p]=new HQe(l,this.dracoLoader);break;case Bn.KHR_TEXTURE_TRANSFORM:c[p]=new GQe;break;case Bn.KHR_MESH_QUANTIZATION:c[p]=new $Qe;break;default:g.indexOf(p)>=0&&void 0===d[p]&&console.warn('THREE.GLTFLoader: Unknown extension "'+p+'".')}}h.setExtensions(c),h.setPlugins(d),h.parse(s,a)}parseAsync(n,i){const s=this;return new Promise(function(a,l){s.parse(n,i,a,l)})}}function xQe(){let r={};return{get:function(n){return r[n]},add:function(n,i){r[n]=i},remove:function(n){delete r[n]},removeAll:function(){r={}}}}const Bn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class wQe{constructor(n){this.parser=n,this.name=Bn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const n=this.parser,i=this.parser.json.nodes||[];for(let s=0,a=i.length;s<a;s++){const l=i[s];l.extensions&&l.extensions[this.name]&&void 0!==l.extensions[this.name].light&&n._addNodeRef(this.cache,l.extensions[this.name].light)}}_loadLight(n){const i=this.parser,s="light:"+n;let a=i.cache.get(s);if(a)return a;const l=i.json,u=((l.extensions&&l.extensions[this.name]||{}).lights||[])[n];let h;const f=new Be(16777215);void 0!==u.color&&f.setRGB(u.color[0],u.color[1],u.color[2],ki);const p=void 0!==u.range?u.range:0;switch(u.type){case"directional":h=new MB(f),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new EB(f),h.distance=p;break;case"spot":h=new sJ(f),h.distance=p,u.spot=u.spot||{},u.spot.innerConeAngle=void 0!==u.spot.innerConeAngle?u.spot.innerConeAngle:0,u.spot.outerConeAngle=void 0!==u.spot.outerConeAngle?u.spot.outerConeAngle:Math.PI/4,h.angle=u.spot.outerConeAngle,h.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return h.position.set(0,0,0),h.decay=2,kd(h,u),void 0!==u.intensity&&(h.intensity=u.intensity),h.name=i.createUniqueName(u.name||"light_"+n),a=Promise.resolve(h),i.cache.add(s,a),a}getDependency(n,i){if("light"===n)return this._loadLight(i)}createNodeAttachment(n){const i=this,s=this.parser,l=s.json.nodes[n],d=(l.extensions&&l.extensions[this.name]||{}).light;return void 0===d?null:this._loadLight(d).then(function(u){return s._getNodeRef(i.cache,d,u)})}}class CQe{constructor(){this.name=Bn.KHR_MATERIALS_UNLIT}getMaterialType(){return Gs}extendParams(n,i,s){const a=[];n.color=new Be(1,1,1),n.opacity=1;const l=i.pbrMetallicRoughness;if(l){if(Array.isArray(l.baseColorFactor)){const c=l.baseColorFactor;n.color.setRGB(c[0],c[1],c[2],ki),n.opacity=c[3]}void 0!==l.baseColorTexture&&a.push(s.assignTexture(n,"map",l.baseColorTexture,ji))}return Promise.all(a)}}class EQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(n,i){const a=this.parser.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=a.extensions[this.name].emissiveStrength;return void 0!==l&&(i.emissiveIntensity=l),Promise.resolve()}}class MQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_CLEARCOAT}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];if(void 0!==c.clearcoatFactor&&(i.clearcoat=c.clearcoatFactor),void 0!==c.clearcoatTexture&&l.push(s.assignTexture(i,"clearcoatMap",c.clearcoatTexture)),void 0!==c.clearcoatRoughnessFactor&&(i.clearcoatRoughness=c.clearcoatRoughnessFactor),void 0!==c.clearcoatRoughnessTexture&&l.push(s.assignTexture(i,"clearcoatRoughnessMap",c.clearcoatRoughnessTexture)),void 0!==c.clearcoatNormalTexture&&(l.push(s.assignTexture(i,"clearcoatNormalMap",c.clearcoatNormalTexture)),void 0!==c.clearcoatNormalTexture.scale)){const d=c.clearcoatNormalTexture.scale;i.clearcoatNormalScale=new ve(d,d)}return Promise.all(l)}}class SQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_DISPERSION}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const a=this.parser.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=a.extensions[this.name];return i.dispersion=void 0!==l.dispersion?l.dispersion:0,Promise.resolve()}}class IQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];return void 0!==c.iridescenceFactor&&(i.iridescence=c.iridescenceFactor),void 0!==c.iridescenceTexture&&l.push(s.assignTexture(i,"iridescenceMap",c.iridescenceTexture)),void 0!==c.iridescenceIor&&(i.iridescenceIOR=c.iridescenceIor),void 0===i.iridescenceThicknessRange&&(i.iridescenceThicknessRange=[100,400]),void 0!==c.iridescenceThicknessMinimum&&(i.iridescenceThicknessRange[0]=c.iridescenceThicknessMinimum),void 0!==c.iridescenceThicknessMaximum&&(i.iridescenceThicknessRange[1]=c.iridescenceThicknessMaximum),void 0!==c.iridescenceThicknessTexture&&l.push(s.assignTexture(i,"iridescenceThicknessMap",c.iridescenceThicknessTexture)),Promise.all(l)}}class TQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_SHEEN}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[];i.sheenColor=new Be(0,0,0),i.sheenRoughness=0,i.sheen=1;const c=a.extensions[this.name];if(void 0!==c.sheenColorFactor){const d=c.sheenColorFactor;i.sheenColor.setRGB(d[0],d[1],d[2],ki)}return void 0!==c.sheenRoughnessFactor&&(i.sheenRoughness=c.sheenRoughnessFactor),void 0!==c.sheenColorTexture&&l.push(s.assignTexture(i,"sheenColorMap",c.sheenColorTexture,ji)),void 0!==c.sheenRoughnessTexture&&l.push(s.assignTexture(i,"sheenRoughnessMap",c.sheenRoughnessTexture)),Promise.all(l)}}class DQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_TRANSMISSION}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];return void 0!==c.transmissionFactor&&(i.transmission=c.transmissionFactor),void 0!==c.transmissionTexture&&l.push(s.assignTexture(i,"transmissionMap",c.transmissionTexture)),Promise.all(l)}}class RQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_VOLUME}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];i.thickness=void 0!==c.thicknessFactor?c.thicknessFactor:0,void 0!==c.thicknessTexture&&l.push(s.assignTexture(i,"thicknessMap",c.thicknessTexture)),i.attenuationDistance=c.attenuationDistance||1/0;const d=c.attenuationColor||[1,1,1];return i.attenuationColor=(new Be).setRGB(d[0],d[1],d[2],ki),Promise.all(l)}}class kQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_IOR}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const a=this.parser.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=a.extensions[this.name];return i.ior=void 0!==l.ior?l.ior:1.5,Promise.resolve()}}class PQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_SPECULAR}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];i.specularIntensity=void 0!==c.specularFactor?c.specularFactor:1,void 0!==c.specularTexture&&l.push(s.assignTexture(i,"specularIntensityMap",c.specularTexture));const d=c.specularColorFactor||[1,1,1];return i.specularColor=(new Be).setRGB(d[0],d[1],d[2],ki),void 0!==c.specularColorTexture&&l.push(s.assignTexture(i,"specularColorMap",c.specularColorTexture,ji)),Promise.all(l)}}class FQe{constructor(n){this.parser=n,this.name=Bn.EXT_MATERIALS_BUMP}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];return i.bumpScale=void 0!==c.bumpFactor?c.bumpFactor:1,void 0!==c.bumpTexture&&l.push(s.assignTexture(i,"bumpMap",c.bumpTexture)),Promise.all(l)}}class OQe{constructor(n){this.parser=n,this.name=Bn.KHR_MATERIALS_ANISOTROPY}getMaterialType(n){const s=this.parser.json.materials[n];return s.extensions&&s.extensions[this.name]?Dl:null}extendMaterialParams(n,i){const s=this.parser,a=s.json.materials[n];if(!a.extensions||!a.extensions[this.name])return Promise.resolve();const l=[],c=a.extensions[this.name];return void 0!==c.anisotropyStrength&&(i.anisotropy=c.anisotropyStrength),void 0!==c.anisotropyRotation&&(i.anisotropyRotation=c.anisotropyRotation),void 0!==c.anisotropyTexture&&l.push(s.assignTexture(i,"anisotropyMap",c.anisotropyTexture)),Promise.all(l)}}class NQe{constructor(n){this.parser=n,this.name=Bn.KHR_TEXTURE_BASISU}loadTexture(n){const i=this.parser,s=i.json,a=s.textures[n];if(!a.extensions||!a.extensions[this.name])return null;const l=a.extensions[this.name],c=i.options.ktx2Loader;if(!c){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return i.loadTextureImage(n,l.source,c)}}class BQe{constructor(n){this.parser=n,this.name=Bn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(n){const i=this.name,s=this.parser,a=s.json,l=a.textures[n];if(!l.extensions||!l.extensions[i])return null;const c=l.extensions[i],d=a.images[c.source];let u=s.textureLoader;if(d.uri){const h=s.options.manager.getHandler(d.uri);null!==h&&(u=h)}return this.detectSupport().then(function(h){if(h)return s.loadTextureImage(n,c.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(i)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return s.loadTexture(n)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(n){const i=new Image;i.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",i.onload=i.onerror=function(){n(1===i.height)}})),this.isSupported}}class LQe{constructor(n){this.parser=n,this.name=Bn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(n){const i=this.name,s=this.parser,a=s.json,l=a.textures[n];if(!l.extensions||!l.extensions[i])return null;const c=l.extensions[i],d=a.images[c.source];let u=s.textureLoader;if(d.uri){const h=s.options.manager.getHandler(d.uri);null!==h&&(u=h)}return this.detectSupport().then(function(h){if(h)return s.loadTextureImage(n,c.source,u);if(a.extensionsRequired&&a.extensionsRequired.indexOf(i)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return s.loadTexture(n)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(n){const i=new Image;i.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",i.onload=i.onerror=function(){n(1===i.height)}})),this.isSupported}}class UQe{constructor(n){this.name=Bn.EXT_MESHOPT_COMPRESSION,this.parser=n}loadBufferView(n){const i=this.parser.json,s=i.bufferViews[n];if(s.extensions&&s.extensions[this.name]){const a=s.extensions[this.name],l=this.parser.getDependency("buffer",a.buffer),c=this.parser.options.meshoptDecoder;if(!c||!c.supported){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return l.then(function(d){const f=a.count,p=a.byteStride,g=new Uint8Array(d,a.byteOffset||0,a.byteLength||0);return c.decodeGltfBufferAsync?c.decodeGltfBufferAsync(f,p,g,a.mode,a.filter).then(function(m){return m.buffer}):c.ready.then(function(){const m=new ArrayBuffer(f*p);return c.decodeGltfBuffer(new Uint8Array(m),f,p,g,a.mode,a.filter),m})})}return null}}class zQe{constructor(n){this.name=Bn.EXT_MESH_GPU_INSTANCING,this.parser=n}createNodeMesh(n){const i=this.parser.json,s=i.nodes[n];if(!s.extensions||!s.extensions[this.name]||void 0===s.mesh)return null;const a=i.meshes[s.mesh];for(const h of a.primitives)if(h.mode!==Za.TRIANGLES&&h.mode!==Za.TRIANGLE_STRIP&&h.mode!==Za.TRIANGLE_FAN&&void 0!==h.mode)return null;const c=s.extensions[this.name].attributes,d=[],u={};for(const h in c)d.push(this.parser.getDependency("accessor",c[h]).then(f=>(u[h]=f,u[h])));return d.length<1?null:(d.push(this.parser.createNodeMesh(n)),Promise.all(d).then(h=>{const f=h.pop(),p=f.isGroup?f.children:[f],g=h[0].count,m=[];for(const _ of p){const v=new vt,y=new N,b=new vs,A=new N(1,1,1),x=new MZ(_.geometry,_.material,g);for(let w=0;w<g;w++)u.TRANSLATION&&y.fromBufferAttribute(u.TRANSLATION,w),u.ROTATION&&b.fromBufferAttribute(u.ROTATION,w),u.SCALE&&A.fromBufferAttribute(u.SCALE,w),x.setMatrixAt(w,v.compose(y,b,A));for(const w in u)if("_COLOR_0"===w){const E=u[w];x.instanceColor=new t_(E.array,E.itemSize,E.normalized)}else"TRANSLATION"!==w&&"ROTATION"!==w&&"SCALE"!==w&&_.geometry.setAttribute(w,u[w]);di.prototype.copy.call(x,_),this.parser.assignFinalMaterial(x),m.push(x)}return f.isGroup?(f.clear(),f.add(...m),f):m[0]}))}}const uee="glTF";class VQe{constructor(n){this.name=Bn.KHR_BINARY_GLTF,this.content=null,this.body=null;const i=new DataView(n,0,12),s=new TextDecoder;if(this.header={magic:s.decode(new Uint8Array(n.slice(0,4))),version:i.getUint32(4,!0),length:i.getUint32(8,!0)},this.header.magic!==uee)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const a=this.header.length-12,l=new DataView(n,12);let c=0;for(;c<a;){const d=l.getUint32(c,!0);c+=4;const u=l.getUint32(c,!0);if(c+=4,1313821514===u){const h=new Uint8Array(n,12+c,d);this.content=s.decode(h)}else if(5130562===u){const h=12+c;this.body=n.slice(h,h+d)}c+=d}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class HQe{constructor(n,i){if(!i)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Bn.KHR_DRACO_MESH_COMPRESSION,this.json=n,this.dracoLoader=i,this.dracoLoader.preload()}decodePrimitive(n,i){const s=this.json,a=this.dracoLoader,l=n.extensions[this.name].bufferView,c=n.extensions[this.name].attributes,d={},u={},h={};for(const f in c){const p=XB[f]||f.toLowerCase();d[p]=c[f]}for(const f in n.attributes){const p=XB[f]||f.toLowerCase();if(void 0!==c[f]){const g=s.accessors[n.attributes[f]];h[p]=p_[g.componentType].name,u[p]=!0===g.normalized}}return i.getDependency("bufferView",l).then(function(f){return new Promise(function(p,g){a.decodeDracoFile(f,function(m){for(const _ in m.attributes){const y=u[_];void 0!==y&&(m.attributes[_].normalized=y)}p(m)},d,h,ki,g)})})}}class GQe{constructor(){this.name=Bn.KHR_TEXTURE_TRANSFORM}extendTexture(n,i){return(void 0===i.texCoord||i.texCoord===n.channel)&&void 0===i.offset&&void 0===i.rotation&&void 0===i.scale||(n=n.clone(),void 0!==i.texCoord&&(n.channel=i.texCoord),void 0!==i.offset&&n.offset.fromArray(i.offset),void 0!==i.rotation&&(n.rotation=i.rotation),void 0!==i.scale&&n.repeat.fromArray(i.scale),n.needsUpdate=!0),n}}class $Qe{constructor(){this.name=Bn.KHR_MESH_QUANTIZATION}}class fee extends SA{constructor(n,i,s,a){super(n,i,s,a)}copySampleValue_(n){const i=this.resultBuffer,s=this.sampleValues,a=this.valueSize,l=n*a*3+a;for(let c=0;c!==a;c++)i[c]=s[l+c];return i}interpolate_(n,i,s,a){const l=this.resultBuffer,c=this.sampleValues,d=this.valueSize,u=2*d,h=3*d,f=a-i,p=(s-i)/f,g=p*p,m=g*p,_=n*h,v=_-h,y=-2*m+3*g,b=m-g,A=1-y,x=b-g+p;for(let w=0;w!==d;w++)l[w]=A*c[v+w+d]+x*(c[v+w+u]*f)+y*c[_+w+d]+b*(c[_+w]*f);return l}}const QQe=new vs;class jQe extends fee{interpolate_(n,i,s,a){const l=super.interpolate_(n,i,s,a);return QQe.fromArray(l).normalize().toArray(l),l}}const Za={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},p_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},pee={9728:wr,9729:zn,9984:1004,9985:Du,9986:yd,9987:No},mee={33071:xr,33648:Tu,10497:Ya},YB={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},XB={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Hu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},WQe={CUBICSPLINE:void 0,LINEAR:Ig,STEP:Sg};function qQe(r){return void 0===r.DefaultMaterial&&(r.DefaultMaterial=new s_({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),r.DefaultMaterial}function tp(r,n,i){for(const s in i.extensions)void 0===r[s]&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[s]=i.extensions[s])}function kd(r,n){void 0!==n.extras&&("object"==typeof n.extras?Object.assign(r.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function XQe(r,n){if(r.updateMorphTargets(),void 0!==n.weights)for(let i=0,s=n.weights.length;i<s;i++)r.morphTargetInfluences[i]=n.weights[i];if(n.extras&&Array.isArray(n.extras.targetNames)){const i=n.extras.targetNames;if(r.morphTargetInfluences.length===i.length){r.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++)r.morphTargetDictionary[i[s]]=s}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function KQe(r){let n;const i=r.extensions&&r.extensions[Bn.KHR_DRACO_MESH_COMPRESSION];if(n=i?"draco:"+i.bufferView+":"+i.indices+":"+ZB(i.attributes):r.indices+":"+ZB(r.attributes)+":"+r.mode,void 0!==r.targets)for(let s=0,a=r.targets.length;s<a;s++)n+=":"+ZB(r.targets[s]);return n}function ZB(r){let n="";const i=Object.keys(r).sort();for(let s=0,a=i.length;s<a;s++)n+=i[s]+":"+r[i[s]]+";";return n}function JB(r){switch(r){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}const JQe=new vt;class eje{constructor(n={},i={}){this.json=n,this.extensions={},this.plugins={},this.options=i,this.cache=new xQe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let s=!1,a=-1,l=!1,c=-1;if(typeof navigator<"u"){const d=navigator.userAgent;s=!0===/^((?!chrome|android).)*safari/i.test(d);const u=d.match(/Version\/(\d+)/);a=s&&u?parseInt(u[1],10):-1,l=d.indexOf("Firefox")>-1,c=l?d.match(/Firefox\/([0-9]+)\./)[1]:-1}this.textureLoader=typeof createImageBitmap>"u"||s&&a<17||l&&c<98?new nJ(this.options.manager):new I$e(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ao(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(n){this.extensions=n}setPlugins(n){this.plugins=n}parse(n,i){const s=this,a=this.json,l=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(c){return c._markDefs&&c._markDefs()}),Promise.all(this._invokeAll(function(c){return c.beforeRoot&&c.beforeRoot()})).then(function(){return Promise.all([s.getDependencies("scene"),s.getDependencies("animation"),s.getDependencies("camera")])}).then(function(c){const d={scene:c[0][a.scene||0],scenes:c[0],animations:c[1],cameras:c[2],asset:a.asset,parser:s,userData:{}};return tp(l,d,a),kd(d,a),Promise.all(s._invokeAll(function(u){return u.afterRoot&&u.afterRoot(d)})).then(function(){for(const u of d.scenes)u.updateMatrixWorld();n(d)})}).catch(i)}_markDefs(){const n=this.json.nodes||[],i=this.json.skins||[],s=this.json.meshes||[];for(let a=0,l=i.length;a<l;a++){const c=i[a].joints;for(let d=0,u=c.length;d<u;d++)n[c[d]].isBone=!0}for(let a=0,l=n.length;a<l;a++){const c=n[a];void 0!==c.mesh&&(this._addNodeRef(this.meshCache,c.mesh),void 0!==c.skin&&(s[c.mesh].isSkinnedMesh=!0)),void 0!==c.camera&&this._addNodeRef(this.cameraCache,c.camera)}}_addNodeRef(n,i){void 0!==i&&(void 0===n.refs[i]&&(n.refs[i]=n.uses[i]=0),n.refs[i]++)}_getNodeRef(n,i,s){if(n.refs[i]<=1)return s;const a=s.clone(),l=(c,d)=>{const u=this.associations.get(c);null!=u&&this.associations.set(d,u);for(const[h,f]of c.children.entries())l(f,d.children[h])};return l(s,a),a.name+="_instance_"+n.uses[i]++,a}_invokeOne(n){const i=Object.values(this.plugins);i.push(this);for(let s=0;s<i.length;s++){const a=n(i[s]);if(a)return a}return null}_invokeAll(n){const i=Object.values(this.plugins);i.unshift(this);const s=[];for(let a=0;a<i.length;a++){const l=n(i[a]);l&&s.push(l)}return s}getDependency(n,i){const s=n+":"+i;let a=this.cache.get(s);if(!a){switch(n){case"scene":a=this.loadScene(i);break;case"node":a=this._invokeOne(function(l){return l.loadNode&&l.loadNode(i)});break;case"mesh":a=this._invokeOne(function(l){return l.loadMesh&&l.loadMesh(i)});break;case"accessor":a=this.loadAccessor(i);break;case"bufferView":a=this._invokeOne(function(l){return l.loadBufferView&&l.loadBufferView(i)});break;case"buffer":a=this.loadBuffer(i);break;case"material":a=this._invokeOne(function(l){return l.loadMaterial&&l.loadMaterial(i)});break;case"texture":a=this._invokeOne(function(l){return l.loadTexture&&l.loadTexture(i)});break;case"skin":a=this.loadSkin(i);break;case"animation":a=this._invokeOne(function(l){return l.loadAnimation&&l.loadAnimation(i)});break;case"camera":a=this.loadCamera(i);break;default:if(a=this._invokeOne(function(l){return l!=this&&l.getDependency&&l.getDependency(n,i)}),!a)throw new Error("Unknown type: "+n)}this.cache.add(s,a)}return a}getDependencies(n){let i=this.cache.get(n);if(!i){const s=this;i=Promise.all((this.json[n+("mesh"===n?"es":"s")]||[]).map(function(l,c){return s.getDependency(n,c)})),this.cache.add(n,i)}return i}loadBuffer(n){const i=this.json.buffers[n],s=this.fileLoader;if(i.type&&"arraybuffer"!==i.type)throw new Error("THREE.GLTFLoader: "+i.type+" buffer type is not supported.");if(void 0===i.uri&&0===n)return Promise.resolve(this.extensions[Bn.KHR_BINARY_GLTF].body);const a=this.options;return new Promise(function(l,c){s.load(Gf.resolveURL(i.uri,a.path),l,void 0,function(){c(new Error('THREE.GLTFLoader: Failed to load buffer "'+i.uri+'".'))})})}loadBufferView(n){const i=this.json.bufferViews[n];return this.getDependency("buffer",i.buffer).then(function(s){const l=i.byteOffset||0;return s.slice(l,l+(i.byteLength||0))})}loadAccessor(n){const i=this,s=this.json,a=this.json.accessors[n];if(void 0===a.bufferView&&void 0===a.sparse){const c=YB[a.type],u=!0===a.normalized,h=new(0,p_[a.componentType])(a.count*c);return Promise.resolve(new kn(h,c,u))}const l=[];return l.push(void 0!==a.bufferView?this.getDependency("bufferView",a.bufferView):null),void 0!==a.sparse&&(l.push(this.getDependency("bufferView",a.sparse.indices.bufferView)),l.push(this.getDependency("bufferView",a.sparse.values.bufferView))),Promise.all(l).then(function(c){const d=c[0],u=YB[a.type],h=p_[a.componentType],f=h.BYTES_PER_ELEMENT,g=a.byteOffset||0,m=void 0!==a.bufferView?s.bufferViews[a.bufferView].byteStride:void 0,_=!0===a.normalized;let v,y;if(m&&m!==f*u){const b=Math.floor(g/m),A="InterleavedBuffer:"+a.bufferView+":"+a.componentType+":"+b+":"+a.count;let x=i.cache.get(A);x||(v=new h(d,b*m,a.count*m/f),x=new JM(v,m/f),i.cache.add(A,x)),y=new Bf(x,u,g%m/f,_)}else v=null===d?new h(a.count*u):new h(d,g,a.count*u),y=new kn(v,u,_);if(void 0!==a.sparse){const w=a.sparse.values.byteOffset||0,E=new(0,p_[a.sparse.indices.componentType])(c[1],a.sparse.indices.byteOffset||0,a.sparse.count*YB.SCALAR),M=new h(c[2],w,a.sparse.count*u);null!==d&&(y=new kn(y.array.slice(),y.itemSize,y.normalized)),y.normalized=!1;for(let S=0,T=E.length;S<T;S++){const P=E[S];if(y.setX(P,M[S*u]),u>=2&&y.setY(P,M[S*u+1]),u>=3&&y.setZ(P,M[S*u+2]),u>=4&&y.setW(P,M[S*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}y.normalized=_}return y})}loadTexture(n){const i=this.json,l=i.textures[n].source,c=i.images[l];let d=this.textureLoader;if(c.uri){const u=this.options.manager.getHandler(c.uri);null!==u&&(d=u)}return this.loadTextureImage(n,l,d)}loadTextureImage(n,i,s){const a=this,l=this.json,c=l.textures[n],d=l.images[i],u=(d.uri||d.bufferView)+":"+c.sampler;if(this.textureCache[u])return this.textureCache[u];const h=this.loadImageSource(i,s).then(function(f){f.flipY=!1,f.name=c.name||d.name||"",""===f.name&&"string"==typeof d.uri&&!1===d.uri.startsWith("data:image/")&&(f.name=d.uri);const g=(l.samplers||{})[c.sampler]||{};return f.magFilter=pee[g.magFilter]||zn,f.minFilter=pee[g.minFilter]||No,f.wrapS=mee[g.wrapS]||Ya,f.wrapT=mee[g.wrapT]||Ya,a.associations.set(f,{textures:n}),f}).catch(function(){return null});return this.textureCache[u]=h,h}loadImageSource(n,i){const a=this.json,l=this.options;if(void 0!==this.sourceCache[n])return this.sourceCache[n].then(p=>p.clone());const c=a.images[n],d=self.URL||self.webkitURL;let u=c.uri||"",h=!1;if(void 0!==c.bufferView)u=this.getDependency("bufferView",c.bufferView).then(function(p){h=!0;const g=new Blob([p],{type:c.mimeType});return u=d.createObjectURL(g),u});else if(void 0===c.uri)throw new Error("THREE.GLTFLoader: Image "+n+" is missing URI and bufferView");const f=Promise.resolve(u).then(function(p){return new Promise(function(g,m){let _=g;!0===i.isImageBitmapLoader&&(_=function(v){const y=new ur(v);y.needsUpdate=!0,g(y)}),i.load(Gf.resolveURL(p,l.path),_,void 0,m)})}).then(function(p){return!0===h&&d.revokeObjectURL(u),kd(p,c),p.userData.mimeType=c.mimeType||function ZQe(r){return r.search(/\.jpe?g($|\?)/i)>0||0===r.search(/^data\:image\/jpeg/)?"image/jpeg":r.search(/\.webp($|\?)/i)>0||0===r.search(/^data\:image\/webp/)?"image/webp":"image/png"}(c.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),p});return this.sourceCache[n]=f,f}assignTexture(n,i,s,a){const l=this;return this.getDependency("texture",s.index).then(function(c){if(!c)return null;if(void 0!==s.texCoord&&s.texCoord>0&&((c=c.clone()).channel=s.texCoord),l.extensions[Bn.KHR_TEXTURE_TRANSFORM]){const d=void 0!==s.extensions?s.extensions[Bn.KHR_TEXTURE_TRANSFORM]:void 0;if(d){const u=l.associations.get(c);c=l.extensions[Bn.KHR_TEXTURE_TRANSFORM].extendTexture(c,d),l.associations.set(c,u)}}return void 0!==a&&(c.colorSpace=a),n[i]=c,c})}assignFinalMaterial(n){const i=n.geometry;let s=n.material;const a=void 0===i.attributes.tangent,l=void 0!==i.attributes.color,c=void 0===i.attributes.normal;if(n.isPoints){const d="PointsMaterial:"+s.uuid;let u=this.cache.get(d);u||(u=new KN,bs.prototype.copy.call(u,s),u.color.copy(s.color),u.map=s.map,u.sizeAttenuation=!1,this.cache.add(d,u)),s=u}else if(n.isLine){const d="LineBasicMaterial:"+s.uuid;let u=this.cache.get(d);u||(u=new Ho,bs.prototype.copy.call(u,s),u.color.copy(s.color),u.map=s.map,this.cache.add(d,u)),s=u}if(a||l||c){let d="ClonedMaterial:"+s.uuid+":";a&&(d+="derivative-tangents:"),l&&(d+="vertex-colors:"),c&&(d+="flat-shading:");let u=this.cache.get(d);u||(u=s.clone(),l&&(u.vertexColors=!0),c&&(u.flatShading=!0),a&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(d,u),this.associations.set(u,this.associations.get(s))),s=u}n.material=s}getMaterialType(){return s_}loadMaterial(n){const i=this,a=this.extensions,l=this.json.materials[n];let c;const d={},h=[];if((l.extensions||{})[Bn.KHR_MATERIALS_UNLIT]){const p=a[Bn.KHR_MATERIALS_UNLIT];c=p.getMaterialType(),h.push(p.extendParams(d,l,i))}else{const p=l.pbrMetallicRoughness||{};if(d.color=new Be(1,1,1),d.opacity=1,Array.isArray(p.baseColorFactor)){const g=p.baseColorFactor;d.color.setRGB(g[0],g[1],g[2],ki),d.opacity=g[3]}void 0!==p.baseColorTexture&&h.push(i.assignTexture(d,"map",p.baseColorTexture,ji)),d.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,d.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(h.push(i.assignTexture(d,"metalnessMap",p.metallicRoughnessTexture)),h.push(i.assignTexture(d,"roughnessMap",p.metallicRoughnessTexture))),c=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(n)}),h.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(n,d)})))}!0===l.doubleSided&&(d.side=2);const f=l.alphaMode||"OPAQUE";if("BLEND"===f?(d.transparent=!0,d.depthWrite=!1):(d.transparent=!1,"MASK"===f&&(d.alphaTest=void 0!==l.alphaCutoff?l.alphaCutoff:.5)),void 0!==l.normalTexture&&c!==Gs&&(h.push(i.assignTexture(d,"normalMap",l.normalTexture)),d.normalScale=new ve(1,1),void 0!==l.normalTexture.scale)){const p=l.normalTexture.scale;d.normalScale.set(p,p)}if(void 0!==l.occlusionTexture&&c!==Gs&&(h.push(i.assignTexture(d,"aoMap",l.occlusionTexture)),void 0!==l.occlusionTexture.strength&&(d.aoMapIntensity=l.occlusionTexture.strength)),void 0!==l.emissiveFactor&&c!==Gs){const p=l.emissiveFactor;d.emissive=(new Be).setRGB(p[0],p[1],p[2],ki)}return void 0!==l.emissiveTexture&&c!==Gs&&h.push(i.assignTexture(d,"emissiveMap",l.emissiveTexture,ji)),Promise.all(h).then(function(){const p=new c(d);return l.name&&(p.name=l.name),kd(p,l),i.associations.set(p,{materials:n}),l.extensions&&tp(a,p,l),p})}createUniqueName(n){const i=yi.sanitizeNodeName(n||"");return i in this.nodeNamesUsed?i+"_"+ ++this.nodeNamesUsed[i]:(this.nodeNamesUsed[i]=0,i)}loadGeometries(n){const i=this,s=this.extensions,a=this.primitiveCache;function l(d){return s[Bn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d,i).then(function(u){return gee(u,d,i)})}const c=[];for(let d=0,u=n.length;d<u;d++){const h=n[d],f=KQe(h),p=a[f];if(p)c.push(p.promise);else{let g;g=h.extensions&&h.extensions[Bn.KHR_DRACO_MESH_COMPRESSION]?l(h):gee(new pn,h,i),a[f]={primitive:h,promise:g},c.push(g)}}return Promise.all(c)}loadMesh(n){const i=this,a=this.extensions,l=this.json.meshes[n],c=l.primitives,d=[];for(let u=0,h=c.length;u<h;u++){const f=void 0===c[u].material?qQe(this.cache):this.getDependency("material",c[u].material);d.push(f)}return d.push(i.loadGeometries(c)),Promise.all(d).then(function(u){const h=u.slice(0,u.length-1),f=u[u.length-1],p=[];for(let m=0,_=f.length;m<_;m++){const v=f[m],y=c[m];let b;const A=h[m];if(y.mode===Za.TRIANGLES||y.mode===Za.TRIANGLE_STRIP||y.mode===Za.TRIANGLE_FAN||void 0===y.mode)b=!0===l.isSkinnedMesh?new xZ(v,A):new Vn(v,A),!0===b.isSkinnedMesh&&b.normalizeSkinWeights(),y.mode===Za.TRIANGLE_STRIP?b.geometry=dee(b.geometry,1):y.mode===Za.TRIANGLE_FAN&&(b.geometry=dee(b.geometry,2));else if(y.mode===Za.LINES)b=new wc(v,A);else if(y.mode===Za.LINE_STRIP)b=new xc(v,A);else if(y.mode===Za.LINE_LOOP)b=new PZ(v,A);else{if(y.mode!==Za.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+y.mode);b=new OZ(v,A)}Object.keys(b.geometry.morphAttributes).length>0&&XQe(b,l),b.name=i.createUniqueName(l.name||"mesh_"+n),kd(b,l),y.extensions&&tp(a,b,y),i.assignFinalMaterial(b),p.push(b)}for(let m=0,_=p.length;m<_;m++)i.associations.set(p[m],{meshes:n,primitives:m});if(1===p.length)return l.extensions&&tp(a,p[0],l),p[0];const g=new Sd;l.extensions&&tp(a,g,l),i.associations.set(g,{meshes:n});for(let m=0,_=p.length;m<_;m++)g.add(p[m]);return g})}loadCamera(n){let i;const s=this.json.cameras[n],a=s[s.type];if(a)return"perspective"===s.type?i=new Wr(MM.radToDeg(a.yfov),a.aspectRatio||1,a.znear||1,a.zfar||2e6):"orthographic"===s.type&&(i=new Pf(-a.xmag,a.xmag,a.ymag,-a.ymag,a.znear,a.zfar)),s.name&&(i.name=this.createUniqueName(s.name)),kd(i,s),Promise.resolve(i);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(n){const i=this.json.skins[n],s=[];for(let a=0,l=i.joints.length;a<l;a++)s.push(this._loadNodeShallow(i.joints[a]));return s.push(void 0!==i.inverseBindMatrices?this.getDependency("accessor",i.inverseBindMatrices):null),Promise.all(s).then(function(a){const l=a.pop(),c=a,d=[],u=[];for(let h=0,f=c.length;h<f;h++){const p=c[h];if(p){d.push(p);const g=new vt;null!==l&&g.fromArray(l.array,16*h),u.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',i.joints[h])}return new sS(d,u)})}loadAnimation(n){const s=this,a=this.json.animations[n],l=a.name?a.name:"animation_"+n,c=[],d=[],u=[],h=[],f=[];for(let p=0,g=a.channels.length;p<g;p++){const m=a.channels[p],_=a.samplers[m.sampler],v=m.target,b=void 0!==a.parameters?a.parameters[_.input]:_.input,A=void 0!==a.parameters?a.parameters[_.output]:_.output;void 0!==v.node&&(c.push(this.getDependency("node",v.node)),d.push(this.getDependency("accessor",b)),u.push(this.getDependency("accessor",A)),h.push(_),f.push(v))}return Promise.all([Promise.all(c),Promise.all(d),Promise.all(u),Promise.all(h),Promise.all(f)]).then(function(p){const g=p[0],m=p[1],_=p[2],v=p[3],y=p[4],b=[];for(let A=0,x=g.length;A<x;A++){const w=g[A],E=m[A],M=_[A],S=v[A],T=y[A];if(void 0===w)continue;w.updateMatrix&&w.updateMatrix();const P=s._createAnimationTracks(w,E,M,S,T);if(P)for(let C=0;C<P.length;C++)b.push(P[C])}return new IA(l,void 0,b)})}createNodeMesh(n){const s=this,a=this.json.nodes[n];return void 0===a.mesh?null:s.getDependency("mesh",a.mesh).then(function(l){const c=s._getNodeRef(s.meshCache,a.mesh,l);return void 0!==a.weights&&c.traverse(function(d){if(d.isMesh)for(let u=0,h=a.weights.length;u<h;u++)d.morphTargetInfluences[u]=a.weights[u]}),c})}loadNode(n){const s=this,a=this.json.nodes[n],l=s._loadNodeShallow(n),c=[],d=a.children||[];for(let h=0,f=d.length;h<f;h++)c.push(s.getDependency("node",d[h]));const u=void 0===a.skin?Promise.resolve(null):s.getDependency("skin",a.skin);return Promise.all([l,Promise.all(c),u]).then(function(h){const f=h[0],p=h[1],g=h[2];null!==g&&f.traverse(function(m){m.isSkinnedMesh&&m.bind(g,JQe)});for(let m=0,_=p.length;m<_;m++)f.add(p[m]);return f})}_loadNodeShallow(n){const s=this.extensions,a=this;if(void 0!==this.nodeCache[n])return this.nodeCache[n];const l=this.json.nodes[n],c=l.name?a.createUniqueName(l.name):"",d=[],u=a._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(n)});return u&&d.push(u),void 0!==l.camera&&d.push(a.getDependency("camera",l.camera).then(function(h){return a._getNodeRef(a.cameraCache,l.camera,h)})),a._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(n)}).forEach(function(h){d.push(h)}),this.nodeCache[n]=Promise.all(d).then(function(h){let f;if(f=!0===l.isBone?new jN:h.length>1?new Sd:1===h.length?h[0]:new di,f!==h[0])for(let p=0,g=h.length;p<g;p++)f.add(h[p]);if(l.name&&(f.userData.name=l.name,f.name=c),kd(f,l),l.extensions&&tp(s,f,l),void 0!==l.matrix){const p=new vt;p.fromArray(l.matrix),f.applyMatrix4(p)}else void 0!==l.translation&&f.position.fromArray(l.translation),void 0!==l.rotation&&f.quaternion.fromArray(l.rotation),void 0!==l.scale&&f.scale.fromArray(l.scale);return a.associations.has(f)||a.associations.set(f,{}),a.associations.get(f).nodes=n,f}),this.nodeCache[n]}loadScene(n){const i=this.extensions,s=this.json.scenes[n],a=this,l=new Sd;s.name&&(l.name=a.createUniqueName(s.name)),kd(l,s),s.extensions&&tp(i,l,s);const c=s.nodes||[],d=[];for(let u=0,h=c.length;u<h;u++)d.push(a.getDependency("node",c[u]));return Promise.all(d).then(function(u){for(let f=0,p=u.length;f<p;f++)l.add(u[f]);return a.associations=(f=>{const p=new Map;for(const[g,m]of a.associations)(g instanceof bs||g instanceof ur)&&p.set(g,m);return f.traverse(g=>{const m=a.associations.get(g);null!=m&&p.set(g,m)}),p})(l),l})}_createAnimationTracks(n,i,s,a,l){const c=[],d=n.name?n.name:n.uuid,u=[];let h;switch(Hu[l.path]===Hu.weights?n.traverse(function(g){g.morphTargetInfluences&&u.push(g.name?g.name:g.uuid)}):u.push(d),Hu[l.path]){case Hu.weights:h=a_;break;case Hu.rotation:h=l_;break;case Hu.position:case Hu.scale:h=d_;break;default:h=1===s.itemSize?a_:d_}const f=void 0!==a.interpolation?WQe[a.interpolation]:Ig,p=this._getArrayFromAccessor(s);for(let g=0,m=u.length;g<m;g++){const _=new h(u[g]+"."+Hu[l.path],i.array,p,f);"CUBICSPLINE"===a.interpolation&&this._createCubicSplineTrackInterpolant(_),c.push(_)}return c}_getArrayFromAccessor(n){let i=n.array;if(n.normalized){const s=JB(i.constructor),a=new Float32Array(i.length);for(let l=0,c=i.length;l<c;l++)a[l]=i[l]*s;i=a}return i}_createCubicSplineTrackInterpolant(n){n.createInterpolant=function(s){return new(this instanceof l_?jQe:fee)(this.times,this.values,this.getValueSize()/3,s)},n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function gee(r,n,i){const s=n.attributes,a=[];function l(c,d){return i.getDependency("accessor",c).then(function(u){r.setAttribute(d,u)})}for(const c in s){const d=XB[c]||c.toLowerCase();d in r.attributes||a.push(l(s[c],d))}if(void 0!==n.indices&&!r.index){const c=i.getDependency("accessor",n.indices).then(function(d){r.setIndex(d)});a.push(c)}return jn.workingColorSpace!==ki&&"COLOR_0"in s&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${jn.workingColorSpace}" not supported.`),kd(r,n),function tje(r,n,i){const s=n.attributes,a=new jr;if(void 0===s.POSITION)return;{const d=i.json.accessors[s.POSITION],u=d.min,h=d.max;if(void 0===u||void 0===h)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(a.set(new N(u[0],u[1],u[2]),new N(h[0],h[1],h[2])),d.normalized){const f=JB(p_[d.componentType]);a.min.multiplyScalar(f),a.max.multiplyScalar(f)}}const l=n.targets;if(void 0!==l){const d=new N,u=new N;for(let h=0,f=l.length;h<f;h++){const p=l[h];if(void 0!==p.POSITION){const g=i.json.accessors[p.POSITION],m=g.min,_=g.max;if(void 0!==m&&void 0!==_){if(u.setX(Math.max(Math.abs(m[0]),Math.abs(_[0]))),u.setY(Math.max(Math.abs(m[1]),Math.abs(_[1]))),u.setZ(Math.max(Math.abs(m[2]),Math.abs(_[2]))),g.normalized){const v=JB(p_[g.componentType]);u.multiplyScalar(v)}d.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}a.expandByVector(d)}r.boundingBox=a;const c=new ks;a.getCenter(c.center),c.radius=a.min.distanceTo(a.max)/2,r.boundingSphere=c}(r,n,i),Promise.all(a).then(function(){return void 0!==n.targets?function YQe(r,n,i){let s=!1,a=!1,l=!1;for(let h=0,f=n.length;h<f;h++){const p=n[h];if(void 0!==p.POSITION&&(s=!0),void 0!==p.NORMAL&&(a=!0),void 0!==p.COLOR_0&&(l=!0),s&&a&&l)break}if(!s&&!a&&!l)return Promise.resolve(r);const c=[],d=[],u=[];for(let h=0,f=n.length;h<f;h++){const p=n[h];if(s){const g=void 0!==p.POSITION?i.getDependency("accessor",p.POSITION):r.attributes.position;c.push(g)}if(a){const g=void 0!==p.NORMAL?i.getDependency("accessor",p.NORMAL):r.attributes.normal;d.push(g)}if(l){const g=void 0!==p.COLOR_0?i.getDependency("accessor",p.COLOR_0):r.attributes.color;u.push(g)}}return Promise.all([Promise.all(c),Promise.all(d),Promise.all(u)]).then(function(h){const p=h[1],g=h[2];return s&&(r.morphAttributes.position=h[0]),a&&(r.morphAttributes.normal=p),l&&(r.morphAttributes.color=g),r.morphTargetsRelative=!0,r})}(r,n.targets,i):r})}class nje{constructor(n=4){this.pool=n,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(n){if(!this.workers[n]){const i=this.workerCreator();i.addEventListener("message",this._onMessage.bind(this,n)),this.workers[n]=i}}_getIdleWorker(){for(let n=0;n<this.pool;n++)if(!(this.workerStatus&1<<n))return n;return-1}_onMessage(n,i){const s=this.workersResolve[n];if(s&&s(i),this.queue.length){const{resolve:a,msg:l,transfer:c}=this.queue.shift();this.workersResolve[n]=a,this.workers[n].postMessage(l,c)}else this.workerStatus^=1<<n}setWorkerCreator(n){this.workerCreator=n}setWorkerLimit(n){this.pool=n}postMessage(n,i){return new Promise(s=>{const a=this._getIdleWorker();-1!==a?(this._initWorker(a),this.workerStatus|=1<<a,this.workersResolve[a]=s,this.workers[a].postMessage(n,i)):this.queue.push({resolve:s,msg:n,transfer:i})})}dispose(){this.workers.forEach(n=>n.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}const vee=9,bee=15,Aee=16,xee=22,wee=37,Cee=43,Eee=76,Mee=83,See=97,Iee=100,Tee=103,Dee=109,Ree=165,kee=166,Pee=1000066e3;class cje{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class LA{constructor(n,i,s,a){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(n.buffer,n.byteOffset+i,s),this._littleEndian=a,this._offset=0}_nextUint8(){const n=this._dataView.getUint8(this._offset);return this._offset+=1,n}_nextUint16(){const n=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,n}_nextUint32(){const n=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,n}_nextUint64(){const n=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,n}_nextInt32(){const n=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,n}_nextUint8Array(n){const i=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,n);return this._offset+=n,i}_skip(n){return this._offset+=n,this}_scan(n,i){void 0===i&&(i=0);const s=this._offset;let a=0;for(;this._dataView.getUint8(this._offset)!==i&&a<n;)a++,this._offset++;return a<n&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,a)}}new Uint8Array([0]);const $s=[171,75,84,88,32,50,48,187,13,10,26,10];function Nee(r){return(new TextDecoder).decode(r)}let eL,Pd,tL;const nL={env:{emscripten_notify_memory_growth:function(r){tL=new Uint8Array(Pd.exports.memory.buffer)}}};class hje{init(){return eL||(eL=typeof fetch<"u"?fetch("data:application/wasm;base64,"+Lee).then(n=>n.arrayBuffer()).then(n=>WebAssembly.instantiate(n,nL)).then(this._init):WebAssembly.instantiate(Buffer.from(Lee,"base64"),nL).then(this._init),eL)}_init(n){Pd=n.instance,nL.env.emscripten_notify_memory_growth(0)}decode(n,i=0){if(!Pd)throw new Error("ZSTDDecoder: Await .init() before decoding.");const s=n.byteLength,a=Pd.exports.malloc(s);tL.set(n,a),i=i||Number(Pd.exports.ZSTD_findDecompressedSize(a,s));const l=Pd.exports.malloc(i),c=Pd.exports.ZSTD_decompress(l,i,a,s),d=tL.slice(l,l+c);return Pd.exports.free(a),Pd.exports.free(l),d}}const Lee="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",iL=new WeakMap;let sL,rL=0,fje=(()=>{class r extends oo{constructor(i){super(i),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new nje,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(i){return this.transcoderPath=i,this}setWorkerLimit(i){return this.workerPool.setWorkerLimit(i),this}detectSupportAsync(i){var s=this;return ke(function*(){return s.workerConfig={astcSupported:yield i.hasFeatureAsync("texture-compression-astc"),etc1Supported:yield i.hasFeatureAsync("texture-compression-etc1"),etc2Supported:yield i.hasFeatureAsync("texture-compression-etc2"),dxtSupported:yield i.hasFeatureAsync("texture-compression-bc"),bptcSupported:yield i.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:yield i.hasFeatureAsync("texture-compression-pvrtc")},s})()}detectSupport(i){return this.workerConfig=!0===i.isWebGPURenderer?{astcSupported:i.hasFeature("texture-compression-astc"),etc1Supported:i.hasFeature("texture-compression-etc1"),etc2Supported:i.hasFeature("texture-compression-etc2"),dxtSupported:i.hasFeature("texture-compression-bc"),bptcSupported:i.hasFeature("texture-compression-bptc"),pvrtcSupported:i.hasFeature("texture-compression-pvrtc")}:{astcSupported:i.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:i.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:i.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:i.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:i.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:i.extensions.has("WEBGL_compressed_texture_pvrtc")||i.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const i=new ao(this.manager);i.setPath(this.transcoderPath),i.setWithCredentials(this.withCredentials);const s=i.loadAsync("basis_transcoder.js"),a=new ao(this.manager);a.setPath(this.transcoderPath),a.setResponseType("arraybuffer"),a.setWithCredentials(this.withCredentials);const l=a.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([s,l]).then(([c,d])=>{const u=r.BasisWorker.toString(),h=["/* constants */","let _EngineFormat = "+JSON.stringify(r.EngineFormat),"let _TranscoderFormat = "+JSON.stringify(r.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(r.BasisFormat),"/* basis_transcoder.js */",c,"/* worker */",u.substring(u.indexOf("{")+1,u.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([h])),this.transcoderBinary=d,this.workerPool.setWorkerCreator(()=>{const f=new Worker(this.workerSourceURL),p=this.transcoderBinary.slice(0);return f.postMessage({type:"init",config:this.workerConfig,transcoderBinary:p},[p]),f})}),rL>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),rL++}return this.transcoderPending}load(i,s,a,l){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const c=new ao(this.manager);c.setResponseType("arraybuffer"),c.setWithCredentials(this.withCredentials),c.load(i,d=>{this.parse(d,s,l)},a,l)}parse(i,s,a){if(null===this.workerConfig)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(iL.has(i))return iL.get(i).promise.then(s).catch(a);this._createTexture(i).then(l=>s?s(l):null).catch(a)}_createTextureFrom(i,s){const{faces:a,width:l,height:c,format:d,type:u,error:h,dfdFlags:f}=i;if("error"===u)return Promise.reject(h);let p;if(6===s.faceCount)p=new v6e(a,d,Cr);else{const g=a[0].mipmaps;p=s.layerCount>1?new y6e(g,l,c,s.layerCount,d,Cr):new Uu(g,l,c,d,Cr)}return p.minFilter=1===a[0].mipmaps.length?zn:No,p.magFilter=zn,p.generateMipmaps=!1,p.needsUpdate=!0,p.colorSpace=Uee(s),p.premultiplyAlpha=!!(1&f),p}_createTexture(i,s={}){var a=this;return ke(function*(){const l=function dje(r){const n=new Uint8Array(r.buffer,r.byteOffset,$s.length);if(n[0]!==$s[0]||n[1]!==$s[1]||n[2]!==$s[2]||n[3]!==$s[3]||n[4]!==$s[4]||n[5]!==$s[5]||n[6]!==$s[6]||n[7]!==$s[7]||n[8]!==$s[8]||n[9]!==$s[9]||n[10]!==$s[10]||n[11]!==$s[11])throw new Error("Missing KTX 2.0 identifier.");const i=new cje,s=17*Uint32Array.BYTES_PER_ELEMENT,a=new LA(r,$s.length,s,!0);i.vkFormat=a._nextUint32(),i.typeSize=a._nextUint32(),i.pixelWidth=a._nextUint32(),i.pixelHeight=a._nextUint32(),i.pixelDepth=a._nextUint32(),i.layerCount=a._nextUint32(),i.faceCount=a._nextUint32();const l=a._nextUint32();i.supercompressionScheme=a._nextUint32();const c=a._nextUint32(),d=a._nextUint32(),u=a._nextUint32(),h=a._nextUint32(),f=a._nextUint64(),p=a._nextUint64(),g=new LA(r,$s.length+s,3*l*8,!0);for(let V=0;V<l;V++)i.levels.push({levelData:new Uint8Array(r.buffer,r.byteOffset+g._nextUint64(),g._nextUint64()),uncompressedByteLength:g._nextUint64()});const m=new LA(r,c,d,!0),_={vendorId:m._skip(4)._nextUint16(),descriptorType:m._nextUint16(),versionNumber:m._nextUint16(),descriptorBlockSize:m._nextUint16(),colorModel:m._nextUint8(),colorPrimaries:m._nextUint8(),transferFunction:m._nextUint8(),flags:m._nextUint8(),texelBlockDimension:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],bytesPlane:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],samples:[]},v=(_.descriptorBlockSize/4-6)/4;for(let V=0;V<v;V++){const U={bitOffset:m._nextUint16(),bitLength:m._nextUint8(),channelType:m._nextUint8(),samplePosition:[m._nextUint8(),m._nextUint8(),m._nextUint8(),m._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&U.channelType?(U.sampleLower=m._nextInt32(),U.sampleUpper=m._nextInt32()):(U.sampleLower=m._nextUint32(),U.sampleUpper=m._nextUint32()),_.samples[V]=U}i.dataFormatDescriptor.length=0,i.dataFormatDescriptor.push(_);const y=new LA(r,u,h,!0);for(;y._offset<h;){const V=y._nextUint32(),U=y._scan(V),X=Nee(U);if(i.keyValue[X]=y._nextUint8Array(V-U.byteLength-1),X.match(/^ktx/i)){const ae=Nee(i.keyValue[X]);i.keyValue[X]=ae.substring(0,ae.lastIndexOf("\0"))}y._skip(V%4?4-V%4:0)}if(p<=0)return i;const b=new LA(r,f,p,!0),A=b._nextUint16(),x=b._nextUint16(),w=b._nextUint32(),E=b._nextUint32(),M=b._nextUint32(),S=b._nextUint32(),T=[];for(let V=0;V<l;V++)T.push({imageFlags:b._nextUint32(),rgbSliceByteOffset:b._nextUint32(),rgbSliceByteLength:b._nextUint32(),alphaSliceByteOffset:b._nextUint32(),alphaSliceByteLength:b._nextUint32()});const P=f+b._offset,C=P+w,I=C+E,k=I+M,O=new Uint8Array(r.buffer,r.byteOffset+P,w),z=new Uint8Array(r.buffer,r.byteOffset+C,E),q=new Uint8Array(r.buffer,r.byteOffset+I,M),R=new Uint8Array(r.buffer,r.byteOffset+k,S);return i.globalData={endpointCount:A,selectorCount:x,imageDescs:T,endpointsData:O,selectorsData:z,tablesData:q,extendedData:R},i}(new Uint8Array(i));if(0!==l.vkFormat)return function mje(r){return lL.apply(this,arguments)}(l);const c=s,d=a.init().then(()=>a.workerPool.postMessage({type:"transcode",buffer:i,taskConfig:c},[i])).then(u=>a._createTextureFrom(u.data,l));return iL.set(i,{promise:d}),d})()}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),rL--,this}}return r.BasisFormat={ETC1S:0,UASTC_4x4:1},r.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},r.EngineFormat={RGBAFormat:Ni,RGBA_ASTC_4x4_Format:Jb,RGBA_BPTC_Format:tA,RGBA_ETC2_EAC_Format:yM,RGBA_PVRTC_4BPPV1_Format:mM,RGBA_S3TC_DXT5_Format:Zb,RGB_ETC1_Format:gM,RGB_ETC2_Format:_M,RGB_PVRTC_4BPPV1_Format:pM,RGBA_S3TC_DXT1_Format:Kb},r.BasisWorker=function(){let n,i,s;const a=_EngineFormat,l=_TranscoderFormat,c=_BasisFormat;self.addEventListener("message",function(v){const y=v.data;switch(y.type){case"init":n=y.config,function d(v){i=new Promise(y=>{s={wasmBinary:v,onRuntimeInitialized:y},BASIS(s)}).then(()=>{s.initializeBasis(),void 0===s.KTX2File&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}(y.transcoderBinary);break;case"transcode":i.then(()=>{try{const{faces:b,buffers:A,width:x,height:w,hasAlpha:E,format:M,dfdFlags:S}=function u(v){const y=new s.KTX2File(new Uint8Array(v));function b(){y.close(),y.delete()}if(!y.isValid())throw b(),new Error("THREE.KTX2Loader:\tInvalid or unsupported .ktx2 file");const A=y.isUASTC()?c.UASTC_4x4:c.ETC1S,x=y.getWidth(),w=y.getHeight(),E=y.getLayers()||1,M=y.getLevels(),S=y.getFaces(),T=y.getHasAlpha(),P=y.getDFDFlags(),{transcoderFormat:C,engineFormat:I}=function g(v,y,b,A){let x,w;const E=v===c.ETC1S?f:p;for(let M=0;M<E.length;M++){const S=E[M];if(n[S.if]&&S.basisFormat.includes(v)&&!(A&&S.transcoderFormat.length<2)&&(!S.needsPowerOfTwo||m(y)&&m(b)))return x=S.transcoderFormat[A?1:0],w=S.engineFormat[A?1:0],{transcoderFormat:x,engineFormat:w}}return console.warn("THREE.KTX2Loader: No suitable compressed texture format found. Decoding to RGBA32."),x=l.RGBA32,w=a.RGBAFormat,{transcoderFormat:x,engineFormat:w}}(A,x,w,T);if(!x||!w||!M)throw b(),new Error("THREE.KTX2Loader:\tInvalid texture");if(!y.startTranscoding())throw b(),new Error("THREE.KTX2Loader: .startTranscoding failed");const k=[],O=[];for(let z=0;z<S;z++){const q=[];for(let R=0;R<M;R++){const V=[];let U,X;for(let fe=0;fe<E;fe++){const Pe=y.getImageLevelInfo(R,fe,z);0===z&&0===R&&0===fe&&(Pe.origWidth%4!=0||Pe.origHeight%4!=0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),M>1?(U=Pe.origWidth,X=Pe.origHeight):(U=Pe.width,X=Pe.height);const Ve=new Uint8Array(y.getImageTranscodedSizeInBytes(R,fe,0,C));if(!y.transcodeImage(Ve,R,fe,z,C,0,-1,-1))throw b(),new Error("THREE.KTX2Loader: .transcodeImage failed.");V.push(Ve)}const ae=_(V);q.push({data:ae,width:U,height:X}),O.push(ae.buffer)}k.push({mipmaps:q,width:x,height:w,format:I})}return b(),{faces:k,buffers:O,width:x,height:w,hasAlpha:T,format:I,dfdFlags:P}}(y.buffer);self.postMessage({type:"transcode",id:y.id,faces:b,width:x,height:w,hasAlpha:E,format:M,dfdFlags:S},A)}catch(b){console.error(b),self.postMessage({type:"error",id:y.id,error:b.message})}})}});const h=[{if:"astcSupported",basisFormat:[c.UASTC_4x4],transcoderFormat:[l.ASTC_4x4,l.ASTC_4x4],engineFormat:[a.RGBA_ASTC_4x4_Format,a.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.BC7_M5,l.BC7_M5],engineFormat:[a.RGBA_BPTC_Format,a.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.BC1,l.BC3],engineFormat:[a.RGBA_S3TC_DXT1_Format,a.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.ETC1,l.ETC2],engineFormat:[a.RGB_ETC2_Format,a.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.ETC1],engineFormat:[a.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[c.ETC1S,c.UASTC_4x4],transcoderFormat:[l.PVRTC1_4_RGB,l.PVRTC1_4_RGBA],engineFormat:[a.RGB_PVRTC_4BPPV1_Format,a.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],f=h.sort(function(v,y){return v.priorityETC1S-y.priorityETC1S}),p=h.sort(function(v,y){return v.priorityUASTC-y.priorityUASTC});function m(v){return v<=2||!(v&v-1)&&0!==v}function _(v){if(1===v.length)return v[0];let y=0;for(let x=0;x<v.length;x++)y+=v[x].byteLength;const b=new Uint8Array(y);let A=0;for(let x=0;x<v.length;x++){const w=v[x];b.set(w,A),A+=w.byteLength}return b}},r})();const pje=new Set([Ni,wf,Ru]),oL={[Dee]:Ni,[See]:Ni,[wee]:Ni,[Cee]:Ni,[Tee]:wf,[Mee]:wf,[Aee]:wf,[xee]:wf,[Iee]:Ru,[Eee]:Ru,[bee]:Ru,[vee]:Ru,[Pee]:Jb,[kee]:eA,[Ree]:eA},aL={[Dee]:Er,[See]:ys,[wee]:Cr,[Cee]:Cr,[Tee]:Er,[Mee]:ys,[Aee]:Cr,[xee]:Cr,[Iee]:Er,[Eee]:ys,[bee]:Cr,[vee]:Cr,[Pee]:ys,[kee]:Cr,[Ree]:Cr};function lL(){return lL=ke(function*(r){const{vkFormat:n}=r;if(void 0===oL[n])throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let i;2===r.supercompressionScheme&&(sL||(sL=new Promise(function(){var l=ke(function*(c){const d=new hje;yield d.init(),c(d)});return function(c){return l.apply(this,arguments)}}())),i=yield sL);const s=[];for(let l=0;l<r.levels.length;l++){const c=Math.max(1,r.pixelWidth>>l),d=Math.max(1,r.pixelHeight>>l),u=r.pixelDepth?Math.max(1,r.pixelDepth>>l):0,h=r.levels[l];let f,p;if(0===r.supercompressionScheme)f=h.levelData;else{if(2!==r.supercompressionScheme)throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");f=i.decode(h.levelData,h.uncompressedByteLength)}p=aL[n]===Er?new Float32Array(f.buffer,f.byteOffset,f.byteLength/Float32Array.BYTES_PER_ELEMENT):aL[n]===ys?new Uint16Array(f.buffer,f.byteOffset,f.byteLength/Uint16Array.BYTES_PER_ELEMENT):f,s.push({data:p,width:c,height:d,depth:u})}let a;if(pje.has(oL[n]))a=0===r.pixelDepth?new Tl(s[0].data,r.pixelWidth,r.pixelHeight):new oN(s[0].data,r.pixelWidth,r.pixelHeight,r.pixelDepth);else{if(r.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");a=new Uu(s,r.pixelWidth,r.pixelHeight)}return a.mipmaps=s,a.type=aL[n],a.format=oL[n],a.colorSpace=Uee(r),a.needsUpdate=!0,Promise.resolve(a)}),lL.apply(this,arguments)}function Uee(r){const n=r.dataFormatDescriptor[0];return 1===n.colorPrimaries?2===n.transferFunction?ji:ki:10===n.colorPrimaries?2===n.transferFunction?bM:nA:(0===n.colorPrimaries||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${n.colorPrimaries}"`),"")}var zee,Vee;const Rl=Symbol("retainerCount"),Fd=Symbol("recentlyUsed"),GS=Symbol("evict"),zA=Symbol("evictionThreshold"),cL=Symbol("cache");class gje{constructor(n,i=5){this[zee]=new Map,this[Vee]=[],this[cL]=n,this[zA]=i}set evictionThreshold(n){this[zA]=n,this[GS]()}get evictionThreshold(){return this[zA]}get cache(){return this[cL]}retainerCount(n){return this[Rl].get(n)||0}reset(){this[Rl].clear(),this[Fd]=[]}retain(n){this[Rl].has(n)||this[Rl].set(n,0),this[Rl].set(n,this[Rl].get(n)+1);const i=this[Fd].indexOf(n);-1!==i&&this[Fd].splice(i,1),this[Fd].unshift(n),this[GS]()}release(n){this[Rl].has(n)&&this[Rl].set(n,Math.max(this[Rl].get(n)-1,0)),this[GS]()}[(zee=Rl,Vee=Fd,GS)](){if(!(this[Fd].length<this[zA]))for(let n=this[Fd].length-1;n>=this[zA];--n){const i=this[Fd][n];0===this[Rl].get(i)&&(this[cL].delete(i),this[Fd].splice(n,1))}}}const yje=r=>{const n=new Map;for(const i of r.mappings)for(const s of i.variants)n.set(s,{material:null,gltfMaterialIndex:i.material});return n};class vje{constructor(n){this.parser=n,this.name="KHR_materials_variants"}afterRoot(n){const i=this.parser,s=i.json;if(void 0===s.extensions||void 0===s.extensions[this.name])return null;const c=(r=>{const n=[],i=new Set;for(const s of r){let a=s,l=0;for(;i.has(a);)a=s+"."+ ++l;i.add(a),n.push(a)}return n})((s.extensions[this.name].variants||[]).map(d=>d.name));for(const d of n.scenes)d.traverse(u=>{const h=u;if(!h.material)return;const f=i.associations.get(h);if(null==f||null==f.meshes||null==f.primitives)return;const _=s.meshes[f.meshes].primitives[f.primitives].extensions;!_||!_[this.name]||(h.userData.variantMaterials=yje(_[this.name]))});return n.userData.variants=c,Promise.resolve()}}var Hee,Gee;ur.DEFAULT_ANISOTROPY=4;const Od=new Map,dL=new Map;let $ee;const Qee=new class vQe extends oo{constructor(n){super(n),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(n){return this.decoderPath=n,this}setDecoderConfig(n){return this.decoderConfig=n,this}setWorkerLimit(n){return this.workerLimit=n,this}load(n,i,s,a){const l=new ao(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(n,c=>{this.parse(c,i,a)},s,a)}parse(n,i,s=()=>{}){this.decodeDracoFile(n,i,null,null,ji,s).catch(s)}decodeDracoFile(n,i,s,a,l=ki,c=()=>{}){return this.decodeGeometry(n,{attributeIDs:s||this.defaultAttributeIDs,attributeTypes:a||this.defaultAttributeTypes,useUniqueIDs:!!s,vertexColorSpace:l}).then(i).catch(c)}decodeGeometry(n,i){const s=JSON.stringify(i);if(WB.has(n)){const u=WB.get(n);if(u.key===s)return u.promise;if(0===n.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let a;const l=this.workerNextTaskID++,d=this._getWorker(l,n.byteLength).then(u=>(a=u,new Promise((h,f)=>{a._callbacks[l]={resolve:h,reject:f},a.postMessage({type:"decode",id:l,taskConfig:i,buffer:n},[n])}))).then(u=>this._createGeometry(u.geometry));return d.catch(()=>!0).then(()=>{a&&l&&this._releaseTask(a,l)}),WB.set(n,{key:s,promise:d}),d}_createGeometry(n){const i=new pn;n.index&&i.setIndex(new kn(n.index.array,1));for(let s=0;s<n.attributes.length;s++){const a=n.attributes[s],l=a.name,c=a.array,u=new kn(c,a.itemSize);"color"===l&&(this._assignVertexColorSpace(u,a.vertexColorSpace),u.normalized=!(c instanceof Float32Array)),i.setAttribute(l,u)}return i}_assignVertexColorSpace(n,i){if(i!==ji)return;const s=new Be;for(let a=0,l=n.count;a<l;a++)s.fromBufferAttribute(n,a),jn.toWorkingColorSpace(s,ji),n.setXYZ(a,s.r,s.g,s.b)}_loadLibrary(n,i){const s=new ao(this.manager);return s.setPath(this.decoderPath),s.setResponseType(i),s.setWithCredentials(this.withCredentials),new Promise((a,l)=>{s.load(n,a,void 0,l)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const n="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,i=[];return n?i.push(this._loadLibrary("draco_decoder.js","text")):(i.push(this._loadLibrary("draco_wasm_wrapper.js","text")),i.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(i).then(s=>{const a=s[0];n||(this.decoderConfig.wasmBinary=s[1]);const l=bQe.toString(),c=["/* draco decoder */",a,"","/* worker */",l.substring(l.indexOf("{")+1,l.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([c]))}),this.decoderPending}_getWorker(n,i){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const a=new Worker(this.workerSourceURL);a._callbacks={},a._taskCosts={},a._taskLoad=0,a.postMessage({type:"init",decoderConfig:this.decoderConfig}),a.onmessage=function(l){const c=l.data;switch(c.type){case"decode":a._callbacks[c.id].resolve(c);break;case"error":a._callbacks[c.id].reject(c);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+c.type+'"')}},this.workerPool.push(a)}else this.workerPool.sort(function(a,l){return a._taskLoad>l._taskLoad?-1:1});const s=this.workerPool[this.workerPool.length-1];return s._taskCosts[n]=i,s._taskLoad+=i,s})}_releaseTask(n,i){n._taskLoad-=n._taskCosts[i],delete n._callbacks[i],delete n._taskCosts[i]}debug(){console.log("Task load: ",this.workerPool.map(n=>n._taskLoad))}dispose(){for(let n=0;n<this.workerPool.length;++n)this.workerPool[n].terminate();return this.workerPool.length=0,""!==this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),this}};let jee;const uL=new fje;let hL,fL;const np=Symbol("loader"),Gu=Symbol("evictionPolicy"),Wee=Symbol("GLTFInstance");class Go extends Ma{constructor(n){super(),this[Gee]=(new AQe).register(i=>new vje(i)),this[Wee]=n,this[np].setDRACOLoader(Qee),this[np].setKTX2Loader(uL)}static setDRACODecoderLocation(n){$ee=n,Qee.setDecoderPath(n)}static getDRACODecoderLocation(){return $ee}static setKTX2TranscoderLocation(n){jee=n,uL.setTranscoderPath(n)}static getKTX2TranscoderLocation(){return jee}static setMeshoptDecoderLocation(n){hL!==n&&(hL=n,fL=(r=>new Promise((n,i)=>{const s=document.createElement("script");document.body.appendChild(s),s.onload=n,s.onerror=i,s.async=!0,s.src=r}))(n).then(()=>MeshoptDecoder.ready).then(()=>MeshoptDecoder))}static getMeshoptDecoderLocation(){return hL}static initializeKTX2Loader(n){uL.detectSupport(n)}static get cache(){return Od}static clearCache(){Od.forEach((n,i)=>{this.delete(i)}),this[Gu].reset()}static has(n){return Od.has(n)}static delete(n){var i=this;return ke(function*(){if(!i.has(n))return;const s=Od.get(n);dL.delete(n),Od.delete(n),(yield s).dispose()})()}static hasFinishedLoading(n){return!!dL.get(n)}get[(Hee=Gu,Gee=np,Gu)](){return this.constructor[Gu]}preload(n,i,s=()=>{}){var a=this;return ke(function*(){if(a[np].setWithCredentials(i.withCredentials),a.dispatchEvent({type:"preload",element:i,src:n}),!Od.has(n)){null!=fL&&a[np].setMeshoptDecoder(yield fL);const l=((r,n,i=()=>{})=>{const s=a=>{const l=a.loaded/a.total;i(Math.max(0,Math.min(1,isFinite(l)?l:1)))};return new Promise((a,l)=>{n.load(r,a,s,l)})})(n,a[np],u=>{s(.8*u)}),c=a[Wee],d=l.then(u=>c.prepare(u)).then(u=>(s(.9),new c(u))).catch(u=>(console.error(u),new c));Od.set(n,d)}yield Od.get(n),dL.set(n,!0),s&&s(1)})()}load(n,i,s=()=>{}){var a=this;return ke(function*(){yield a.preload(n,i,s);const c=yield(yield Od.get(n)).clone();return a[Gu].retain(n),c.dispose=()=>{a[Gu].release(n)},c})()}}Go[Hee]=new gje(Go);class xje extends di{constructor(n=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=n,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new ve(.5,.5),this.addEventListener("removed",function(){this.traverse(function(i){i.element instanceof Element&&null!==i.element.parentNode&&i.element.parentNode.removeChild(i.element)})})}copy(n,i){return super.copy(n,i),this.element=n.element.cloneNode(!0),this.center=n.center,this}}const m_=new N,qee=new vt,Yee=new vt,Xee=new N,Kee=new N;class wje{constructor(n={}){const i=this;let s,a,l,c;const d={objects:new WeakMap},u=void 0!==n.element?n.element:document.createElement("div");function h(_){_.isCSS2DObject&&(_.element.style.display="none");for(let v=0,y=_.children.length;v<y;v++)h(_.children[v])}function f(_,v,y){if(!1!==_.visible){if(_.isCSS2DObject){m_.setFromMatrixPosition(_.matrixWorld),m_.applyMatrix4(Yee);const b=m_.z>=-1&&m_.z<=1&&!0===_.layers.test(y.layers),A=_.element;A.style.display=!0===b?"":"none",!0===b&&(_.onBeforeRender(i,v,y),A.style.transform="translate("+-100*_.center.x+"%,"+-100*_.center.y+"%)translate("+(m_.x*l+l)+"px,"+(-m_.y*c+c)+"px)",A.parentNode!==u&&u.appendChild(A),_.onAfterRender(i,v,y));const x={distanceToCameraSquared:p(y,_)};d.objects.set(_,x)}for(let b=0,A=_.children.length;b<A;b++)f(_.children[b],v,y)}else h(_)}function p(_,v){return Xee.setFromMatrixPosition(_.matrixWorld),Kee.setFromMatrixPosition(v.matrixWorld),Xee.distanceToSquared(Kee)}u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:s,height:a}},this.render=function(_,v){!0===_.matrixWorldAutoUpdate&&_.updateMatrixWorld(),null===v.parent&&!0===v.matrixWorldAutoUpdate&&v.updateMatrixWorld(),qee.copy(v.matrixWorldInverse),Yee.multiplyMatrices(v.projectionMatrix,qee),f(_,_,v),function m(_){const v=function g(_){const v=[];return _.traverseVisible(function(y){y.isCSS2DObject&&v.push(y)}),v}(_).sort(function(b,A){return b.renderOrder!==A.renderOrder?A.renderOrder-b.renderOrder:d.objects.get(b).distanceToCameraSquared-d.objects.get(A).distanceToCameraSquared}),y=v.length;for(let b=0,A=v.length;b<A;b++)v[b].element.style.zIndex=y-b}(_)},this.setSize=function(_,v){s=_,a=v,l=s/2,c=a/2,u.style.width=_+"px",u.style.height=v+"px"}}}function $S(r,n,i){let s=i;const a=new N;return r.updateWorldMatrix(!0,!0),r.traverseVisible(l=>{const{geometry:c}=l;if(void 0!==c){const{position:d}=c.attributes;if(void 0!==d)for(let u=0,h=d.count;u<h;u++)l.isMesh?l.getVertexPosition(u,a):a.fromBufferAttribute(d,u),l.isSkinnedMesh||a.applyMatrix4(l.matrixWorld),s=n(s,a)}}),s}let VA,pL,g_,QS;function jS(r,n=1/0,i=null){pL||(pL=new Il(2,2,1,1)),g_||(g_=new ro({uniforms:{blitTexture:new DB(r)},vertexShader:"\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main(){\n\t\t\t\tvUv = uv;\n\t\t\t\tgl_Position = vec4(position.xy * 1.0,0.,.999999);\n\t\t\t}",fragmentShader:"\n\t\t\tuniform sampler2D blitTexture; \n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main(){ \n\t\t\t\tgl_FragColor = vec4(vUv.xy, 0, 1);\n\t\t\t\t\n\t\t\t\t#ifdef IS_SRGB\n\t\t\t\tgl_FragColor = sRGBTransferOETF( texture2D( blitTexture, vUv) );\n\t\t\t\t#else\n\t\t\t\tgl_FragColor = texture2D( blitTexture, vUv);\n\t\t\t\t#endif\n\t\t\t}"})),g_.uniforms.blitTexture.value=r,g_.defines.IS_SRGB=r.colorSpace==ji,g_.needsUpdate=!0,QS||(QS=new Vn(pL,g_),QS.frustumCulled=!1);const s=new Wr,a=new Id;a.add(QS),null===i&&(i=VA=new zN({antialias:!1}));const l=Math.min(r.image.width,n),c=Math.min(r.image.height,n);i.setSize(l,c),i.clear(),i.render(a,s);const d=document.createElement("canvas"),u=d.getContext("2d");d.width=l,d.height=c,u.drawImage(i.domElement,0,0,l,c);const h=new BZ(d);return h.minFilter=r.minFilter,h.magFilter=r.magFilter,h.wrapS=r.wrapS,h.wrapT=r.wrapT,h.colorSpace=r.colorSpace,h.name=r.name,VA&&(VA.forceContextLoss(),VA.dispose(),VA=null),h}const ete={POSITION:["byte","byte normalized","unsigned byte","unsigned byte normalized","short","short normalized","unsigned short","unsigned short normalized"],NORMAL:["byte normalized","short normalized"],TANGENT:["byte normalized","short normalized"],TEXCOORD:["byte","byte normalized","unsigned byte","short","short normalized","unsigned short"]};class mL{constructor(){this.pluginCallbacks=[],this.register(function(n){return new Nje(n)}),this.register(function(n){return new Bje(n)}),this.register(function(n){return new Vje(n)}),this.register(function(n){return new Hje(n)}),this.register(function(n){return new Gje(n)}),this.register(function(n){return new $je(n)}),this.register(function(n){return new Lje(n)}),this.register(function(n){return new Uje(n)}),this.register(function(n){return new zje(n)}),this.register(function(n){return new Qje(n)}),this.register(function(n){return new jje(n)}),this.register(function(n){return new Wje(n)}),this.register(function(n){return new qje(n)}),this.register(function(n){return new Yje(n)})}register(n){return-1===this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.push(n),this}unregister(n){return-1!==this.pluginCallbacks.indexOf(n)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(n),1),this}parse(n,i,s,a){const l=new Oje,c=[];for(let d=0,u=this.pluginCallbacks.length;d<u;d++)c.push(this.pluginCallbacks[d](l));l.setPlugins(c),l.write(n,i,a).catch(s)}parseAsync(n,i){const s=this;return new Promise(function(a,l){s.parse(n,a,l,i)})}}const gL="KHR_mesh_quantization",Da={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987,1001:33071,1e3:10497,1002:33648},tte={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},Sje=new Be;function HA(r,n){return r.length===n.length&&r.every(function(i,s){return i===n[s]})}function rte(r){return 4*Math.ceil(r/4)}function _L(r,n=0){const i=rte(r.byteLength);if(i!==r.byteLength){const s=new Uint8Array(i);if(s.set(new Uint8Array(r)),0!==n)for(let a=r.byteLength;a<i;a++)s[a]=n;return s.buffer}return r}function ste(){return typeof document>"u"&&typeof OffscreenCanvas<"u"?new OffscreenCanvas(1,1):document.createElement("canvas")}function ote(r,n){if(void 0!==r.toBlob)return new Promise(s=>r.toBlob(s,n));let i;return"image/jpeg"===n?i=.92:"image/webp"===n&&(i=.8),r.convertToBlob({type:n,quality:i})}class Oje{constructor(){this.plugins=[],this.options={},this.pending=[],this.buffers=[],this.byteOffset=0,this.buffers=[],this.nodeMap=new Map,this.skins=[],this.extensionsUsed={},this.extensionsRequired={},this.uids=new Map,this.uid=0,this.json={asset:{version:"2.0",generator:"THREE.GLTFExporter r169"}},this.cache={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map}}setPlugins(n){this.plugins=n}write(n,i,s={}){var a=this;return ke(function*(){a.options=Object.assign({binary:!1,trs:!1,onlyVisible:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1},s),a.options.animations.length>0&&(a.options.trs=!0),a.processInput(n),yield Promise.all(a.pending);const d=a.json;s=a.options;const u=a.extensionsUsed,h=a.extensionsRequired,f=new Blob(a.buffers,{type:"application/octet-stream"}),p=Object.keys(u),g=Object.keys(h);if(p.length>0&&(d.extensionsUsed=p),g.length>0&&(d.extensionsRequired=g),d.buffers&&d.buffers.length>0&&(d.buffers[0].byteLength=f.size),!0===s.binary){const m=new FileReader;m.readAsArrayBuffer(f),m.onloadend=function(){const _=_L(m.result),v=new DataView(new ArrayBuffer(8));v.setUint32(0,_.byteLength,!0),v.setUint32(4,5130562,!0);const y=_L(function kje(r){return(new TextEncoder).encode(r).buffer}(JSON.stringify(d)),32),b=new DataView(new ArrayBuffer(8));b.setUint32(0,y.byteLength,!0),b.setUint32(4,1313821514,!0);const A=new ArrayBuffer(12),x=new DataView(A);x.setUint32(0,1179937895,!0),x.setUint32(4,2,!0),x.setUint32(8,12+b.byteLength+y.byteLength+v.byteLength+_.byteLength,!0);const E=new Blob([A,b,y,v,_],{type:"application/octet-stream"}),M=new FileReader;M.readAsArrayBuffer(E),M.onloadend=function(){i(M.result)}}}else if(d.buffers&&d.buffers.length>0){const m=new FileReader;m.readAsDataURL(f),m.onloadend=function(){d.buffers[0].uri=m.result,i(d)}}else i(d)})()}serializeUserData(n,i){if(0===Object.keys(n.userData).length)return;const s=this.options,a=this.extensionsUsed;try{const l=JSON.parse(JSON.stringify(n.userData));if(s.includeCustomExtensions&&l.gltfExtensions){void 0===i.extensions&&(i.extensions={});for(const c in l.gltfExtensions)i.extensions[c]=l.gltfExtensions[c],a[c]=!0;delete l.gltfExtensions}Object.keys(l).length>0&&(i.extras=l)}catch(l){console.warn("THREE.GLTFExporter: userData of '"+n.name+"' won't be serialized because of JSON.stringify error - "+l.message)}}getUID(n,i=!1){if(!1===this.uids.has(n)){const a=new Map;a.set(!0,this.uid++),a.set(!1,this.uid++),this.uids.set(n,a)}return this.uids.get(n).get(i)}isNormalizedNormalAttribute(n){if(this.cache.attributesNormalized.has(n))return!1;const s=new N;for(let a=0,l=n.count;a<l;a++)if(Math.abs(s.fromBufferAttribute(n,a).length()-1)>5e-4)return!1;return!0}createNormalizedNormalAttribute(n){const i=this.cache;if(i.attributesNormalized.has(n))return i.attributesNormalized.get(n);const s=n.clone(),a=new N;for(let l=0,c=s.count;l<c;l++)a.fromBufferAttribute(s,l),0===a.x&&0===a.y&&0===a.z?a.setX(1):a.normalize(),s.setXYZ(l,a.x,a.y,a.z);return i.attributesNormalized.set(n,s),s}applyTextureTransform(n,i){let s=!1;const a={};(0!==i.offset.x||0!==i.offset.y)&&(a.offset=i.offset.toArray(),s=!0),0!==i.rotation&&(a.rotation=i.rotation,s=!0),(1!==i.repeat.x||1!==i.repeat.y)&&(a.scale=i.repeat.toArray(),s=!0),s&&(n.extensions=n.extensions||{},n.extensions.KHR_texture_transform=a,this.extensionsUsed.KHR_texture_transform=!0)}buildMetalRoughTexture(n,i){if(n===i)return n;function s(m){return m.colorSpace===ji?function(v){return v<.04045?.0773993808*v:Math.pow(.9478672986*v+.0521327014,2.4)}:function(v){return v}}console.warn("THREE.GLTFExporter: Merged metalnessMap and roughnessMap textures."),n instanceof Uu&&(n=jS(n)),i instanceof Uu&&(i=jS(i));const a=n?n.image:null,l=i?i.image:null,c=Math.max(a?a.width:0,l?l.width:0),d=Math.max(a?a.height:0,l?l.height:0),u=ste();u.width=c,u.height=d;const h=u.getContext("2d",{willReadFrequently:!0});h.fillStyle="#00ffff",h.fillRect(0,0,c,d);const f=h.getImageData(0,0,c,d);if(a){h.drawImage(a,0,0,c,d);const m=s(n),_=h.getImageData(0,0,c,d).data;for(let v=2;v<_.length;v+=4)f.data[v]=256*m(_[v]/256)}if(l){h.drawImage(l,0,0,c,d);const m=s(i),_=h.getImageData(0,0,c,d).data;for(let v=1;v<_.length;v+=4)f.data[v]=256*m(_[v]/256)}h.putImageData(f,0,0);const g=(n||i).clone();return g.source=new Mf(u),g.colorSpace="",g.channel=(n||i).channel,n&&i&&n.channel!==i.channel&&console.warn("THREE.GLTFExporter: UV channels for metalnessMap and roughnessMap textures must match."),g}processBuffer(n){const i=this.json,s=this.buffers;return i.buffers||(i.buffers=[{byteLength:0}]),s.push(n),0}processBufferView(n,i,s,a,l){const c=this.json;let d;switch(c.bufferViews||(c.bufferViews=[]),i){case 5120:case 5121:d=1;break;case 5122:case 5123:d=2;break;default:d=4}let u=n.itemSize*d;34962===l&&(u=4*Math.ceil(u/4));const h=rte(a*u),f=new DataView(new ArrayBuffer(h));let p=0;for(let _=s;_<s+a;_++){for(let v=0;v<n.itemSize;v++){let y;n.itemSize>4?y=n.array[_*n.itemSize+v]:(0===v?y=n.getX(_):1===v?y=n.getY(_):2===v?y=n.getZ(_):3===v&&(y=n.getW(_)),!0===n.normalized&&(y=MM.normalize(y,n.array))),5126===i?f.setFloat32(p,y,!0):5124===i?f.setInt32(p,y,!0):5125===i?f.setUint32(p,y,!0):5122===i?f.setInt16(p,y,!0):5123===i?f.setUint16(p,y,!0):5120===i?f.setInt8(p,y):5121===i&&f.setUint8(p,y),p+=d}p%u!=0&&(p+=u-p%u)}const g={buffer:this.processBuffer(f.buffer),byteOffset:this.byteOffset,byteLength:h};return void 0!==l&&(g.target=l),34962===l&&(g.byteStride=u),this.byteOffset+=h,c.bufferViews.push(g),{id:c.bufferViews.length-1,byteLength:0}}processBufferViewImage(n){const i=this,s=i.json;return s.bufferViews||(s.bufferViews=[]),new Promise(function(a){const l=new FileReader;l.readAsArrayBuffer(n),l.onloadend=function(){const c=_L(l.result),d={buffer:i.processBuffer(c),byteOffset:i.byteOffset,byteLength:c.byteLength};i.byteOffset+=c.byteLength,a(s.bufferViews.push(d)-1)}})}processAccessor(n,i,s,a){const l=this.json;let d;if(n.array.constructor===Float32Array)d=5126;else if(n.array.constructor===Int32Array)d=5124;else if(n.array.constructor===Uint32Array)d=5125;else if(n.array.constructor===Int16Array)d=5122;else if(n.array.constructor===Uint16Array)d=5123;else if(n.array.constructor===Int8Array)d=5120;else{if(n.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type: "+n.array.constructor.name);d=5121}if(void 0===s&&(s=0),(void 0===a||a===1/0)&&(a=n.count),0===a)return null;const u=function Fje(r,n,i){const s={min:new Array(r.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(r.itemSize).fill(Number.NEGATIVE_INFINITY)};for(let a=n;a<n+i;a++)for(let l=0;l<r.itemSize;l++){let c;r.itemSize>4?c=r.array[a*r.itemSize+l]:(0===l?c=r.getX(a):1===l?c=r.getY(a):2===l?c=r.getZ(a):3===l&&(c=r.getW(a)),!0===r.normalized&&(c=MM.normalize(c,r.array))),s.min[l]=Math.min(s.min[l],c),s.max[l]=Math.max(s.max[l],c)}return s}(n,s,a);let h;void 0!==i&&(h=n===i.index?34963:34962);const f=this.processBufferView(n,d,s,a,h),p={bufferView:f.id,byteOffset:f.byteOffset,componentType:d,count:a,max:u.max,min:u.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",9:"MAT3",16:"MAT4"}[n.itemSize]};return!0===n.normalized&&(p.normalized=!0),l.accessors||(l.accessors=[]),l.accessors.push(p)-1}processImage(n,i,s,a="image/png"){if(null!==n){const l=this,c=l.cache,d=l.json,u=l.options,h=l.pending;c.images.has(n)||c.images.set(n,{});const f=c.images.get(n),p=a+":flipY/"+s.toString();if(void 0!==f[p])return f[p];d.images||(d.images=[]);const g={mimeType:a},m=ste();m.width=Math.min(n.width,u.maxTextureSize),m.height=Math.min(n.height,u.maxTextureSize);const _=m.getContext("2d",{willReadFrequently:!0});if(!0===s&&(_.translate(0,m.height),_.scale(1,-1)),void 0!==n.data){i!==Ni&&console.error("GLTFExporter: Only RGBAFormat is supported.",i),(n.width>u.maxTextureSize||n.height>u.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",n);const y=new Uint8ClampedArray(n.height*n.width*4);for(let b=0;b<y.length;b+=4)y[b+0]=n.data[b+0],y[b+1]=n.data[b+1],y[b+2]=n.data[b+2],y[b+3]=n.data[b+3];_.putImageData(new ImageData(y,n.width,n.height),0,0)}else{if(!(typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas))throw new Error("THREE.GLTFExporter: Invalid image type. Use HTMLImageElement, HTMLCanvasElement, ImageBitmap or OffscreenCanvas.");_.drawImage(n,0,0,m.width,m.height)}!0===u.binary?h.push(ote(m,a).then(y=>l.processBufferViewImage(y)).then(y=>{g.bufferView=y})):void 0!==m.toDataURL?g.uri=m.toDataURL(a):h.push(ote(m,a).then(y=>(new FileReader).readAsDataURL(y)).then(y=>{g.uri=y}));const v=d.images.push(g)-1;return f[p]=v,v}throw new Error("THREE.GLTFExporter: No valid image data found. Unable to process texture.")}processSampler(n){const i=this.json;return i.samplers||(i.samplers=[]),i.samplers.push({magFilter:Da[n.magFilter],minFilter:Da[n.minFilter],wrapS:Da[n.wrapS],wrapT:Da[n.wrapT]})-1}processTexture(n){const s=this.options,a=this.cache,l=this.json;if(a.textures.has(n))return a.textures.get(n);l.textures||(l.textures=[]),n instanceof Uu&&(n=jS(n,s.maxTextureSize));let c=n.userData.mimeType;"image/webp"===c&&(c="image/png");const d={sampler:this.processSampler(n),source:this.processImage(n.image,n.format,n.flipY,c)};n.name&&(d.name=n.name),this._invokeAll(function(h){h.writeTexture&&h.writeTexture(n,d)});const u=l.textures.push(d)-1;return a.textures.set(n,u),u}processMaterial(n){const i=this.cache,s=this.json;if(i.materials.has(n))return i.materials.get(n);if(n.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;s.materials||(s.materials=[]);const a={pbrMetallicRoughness:{}};!0!==n.isMeshStandardMaterial&&!0!==n.isMeshBasicMaterial&&console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");const l=n.color.toArray().concat([n.opacity]);if(HA(l,[1,1,1,1])||(a.pbrMetallicRoughness.baseColorFactor=l),n.isMeshStandardMaterial?(a.pbrMetallicRoughness.metallicFactor=n.metalness,a.pbrMetallicRoughness.roughnessFactor=n.roughness):(a.pbrMetallicRoughness.metallicFactor=.5,a.pbrMetallicRoughness.roughnessFactor=.5),n.metalnessMap||n.roughnessMap){const d=this.buildMetalRoughTexture(n.metalnessMap,n.roughnessMap),u={index:this.processTexture(d),channel:d.channel};this.applyTextureTransform(u,d),a.pbrMetallicRoughness.metallicRoughnessTexture=u}if(n.map){const d={index:this.processTexture(n.map),texCoord:n.map.channel};this.applyTextureTransform(d,n.map),a.pbrMetallicRoughness.baseColorTexture=d}if(n.emissive){const d=n.emissive;if(Math.max(d.r,d.g,d.b)>0&&(a.emissiveFactor=n.emissive.toArray()),n.emissiveMap){const h={index:this.processTexture(n.emissiveMap),texCoord:n.emissiveMap.channel};this.applyTextureTransform(h,n.emissiveMap),a.emissiveTexture=h}}if(n.normalMap){const d={index:this.processTexture(n.normalMap),texCoord:n.normalMap.channel};n.normalScale&&1!==n.normalScale.x&&(d.scale=n.normalScale.x),this.applyTextureTransform(d,n.normalMap),a.normalTexture=d}if(n.aoMap){const d={index:this.processTexture(n.aoMap),texCoord:n.aoMap.channel};1!==n.aoMapIntensity&&(d.strength=n.aoMapIntensity),this.applyTextureTransform(d,n.aoMap),a.occlusionTexture=d}n.transparent?a.alphaMode="BLEND":n.alphaTest>0&&(a.alphaMode="MASK",a.alphaCutoff=n.alphaTest),2===n.side&&(a.doubleSided=!0),""!==n.name&&(a.name=n.name),this.serializeUserData(n,a),this._invokeAll(function(d){d.writeMaterial&&d.writeMaterial(n,a)});const c=s.materials.push(a)-1;return i.materials.set(n,c),c}processMesh(n){const i=this.cache,s=this.json,a=[n.geometry.uuid];if(Array.isArray(n.material))for(let w=0,E=n.material.length;w<E;w++)a.push(n.material[w].uuid);else a.push(n.material.uuid);const l=a.join(":");if(i.meshes.has(l))return i.meshes.get(l);const c=n.geometry;let d;d=n.isLineSegments?1:n.isLineLoop?2:n.isLine?3:n.isPoints?0:n.material.wireframe?1:4;const u={},h={},f=[],p=[],g={uv:"TEXCOORD_0",uv1:"TEXCOORD_1",uv2:"TEXCOORD_2",uv3:"TEXCOORD_3",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},m=c.getAttribute("normal");void 0!==m&&!this.isNormalizedNormalAttribute(m)&&(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),c.setAttribute("normal",this.createNormalizedNormalAttribute(m)));let _=null;for(let w in c.attributes){if("morph"===w.slice(0,5))continue;const E=c.attributes[w];if(w=g[w]||w.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(w)||(w="_"+w),i.attributes.has(this.getUID(E))){h[w]=i.attributes.get(this.getUID(E));continue}_=null;const S=E.array;"JOINTS_0"===w&&!(S instanceof Uint16Array)&&!(S instanceof Uint8Array)&&(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),_=new kn(new Uint16Array(S),E.itemSize,E.normalized));const T=this.processAccessor(_||E,c);null!==T&&(w.startsWith("_")||this.detectMeshQuantization(w,E),h[w]=T,i.attributes.set(this.getUID(E),T))}if(void 0!==m&&c.setAttribute("normal",m),0===Object.keys(h).length)return null;if(void 0!==n.morphTargetInfluences&&n.morphTargetInfluences.length>0){const w=[],E=[],M={};if(void 0!==n.morphTargetDictionary)for(const S in n.morphTargetDictionary)M[n.morphTargetDictionary[S]]=S;for(let S=0;S<n.morphTargetInfluences.length;++S){const T={};let P=!1;for(const C in c.morphAttributes){if("position"!==C&&"normal"!==C){P||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),P=!0);continue}const I=c.morphAttributes[C][S],k=C.toUpperCase(),O=c.attributes[C];if(i.attributes.has(this.getUID(I,!0))){T[k]=i.attributes.get(this.getUID(I,!0));continue}const z=I.clone();if(!c.morphTargetsRelative)for(let q=0,R=I.count;q<R;q++)for(let V=0;V<I.itemSize;V++)0===V&&z.setX(q,I.getX(q)-O.getX(q)),1===V&&z.setY(q,I.getY(q)-O.getY(q)),2===V&&z.setZ(q,I.getZ(q)-O.getZ(q)),3===V&&z.setW(q,I.getW(q)-O.getW(q));T[k]=this.processAccessor(z,c),i.attributes.set(this.getUID(O,!0),T[k])}p.push(T),w.push(n.morphTargetInfluences[S]),void 0!==n.morphTargetDictionary&&E.push(M[S])}u.weights=w,E.length>0&&(u.extras={},u.extras.targetNames=E)}const v=Array.isArray(n.material);if(v&&0===c.groups.length)return null;let y=!1;if(v&&null===c.index){const w=[];for(let E=0,M=c.attributes.position.count;E<M;E++)w[E]=E;c.setIndex(w),y=!0}const b=v?n.material:[n.material],A=v?c.groups:[{materialIndex:0,start:void 0,count:void 0}];for(let w=0,E=A.length;w<E;w++){const M={mode:d,attributes:h};if(this.serializeUserData(c,M),p.length>0&&(M.targets=p),null!==c.index){let T=this.getUID(c.index);(void 0!==A[w].start||void 0!==A[w].count)&&(T+=":"+A[w].start+":"+A[w].count),i.attributes.has(T)?M.indices=i.attributes.get(T):(M.indices=this.processAccessor(c.index,c,A[w].start,A[w].count),i.attributes.set(T,M.indices)),null===M.indices&&delete M.indices}const S=this.processMaterial(b[A[w].materialIndex]);null!==S&&(M.material=S),f.push(M)}!0===y&&c.setIndex(null),u.primitives=f,s.meshes||(s.meshes=[]),this._invokeAll(function(w){w.writeMesh&&w.writeMesh(n,u)});const x=s.meshes.push(u)-1;return i.meshes.set(l,x),x}detectMeshQuantization(n,i){if(this.extensionsUsed[gL])return;let s;switch(i.array.constructor){case Int8Array:s="byte";break;case Uint8Array:s="unsigned byte";break;case Int16Array:s="short";break;case Uint16Array:s="unsigned short";break;default:return}i.normalized&&(s+=" normalized");const a=n.split("_",1)[0];ete[a]&&ete[a].includes(s)&&(this.extensionsUsed[gL]=!0,this.extensionsRequired[gL]=!0)}processCamera(n){const i=this.json;i.cameras||(i.cameras=[]);const s=n.isOrthographicCamera,a={type:s?"orthographic":"perspective"};return s?a.orthographic={xmag:2*n.right,ymag:2*n.top,zfar:n.far<=0?.001:n.far,znear:n.near<0?0:n.near}:a.perspective={aspectRatio:n.aspect,yfov:MM.degToRad(n.fov),zfar:n.far<=0?.001:n.far,znear:n.near<0?0:n.near},""!==n.name&&(a.name=n.type),i.cameras.push(a)-1}processAnimation(n,i){const s=this.json,a=this.nodeMap;s.animations||(s.animations=[]);const l=(n=mL.Utils.mergeMorphTargetTracks(n.clone(),i)).tracks,c=[],d=[];for(let u=0;u<l.length;++u){const h=l[u],f=yi.parseTrackName(h.name);let p=yi.findNode(i,f.nodeName);const g=tte[f.propertyName];if("bones"===f.objectName&&(p=!0===p.isSkinnedMesh?p.skeleton.getBoneByName(f.objectIndex):void 0),!p||!g){console.warn('THREE.GLTFExporter: Could not export animation track "%s".',h.name);continue}const m=1;let v,_=h.values.length/h.times.length;g===tte.morphTargetInfluences&&(_/=p.morphTargetInfluences.length),!0===h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(v="CUBICSPLINE",_/=3):v=h.getInterpolation()===Sg?"STEP":"LINEAR",d.push({input:this.processAccessor(new kn(h.times,m)),output:this.processAccessor(new kn(h.values,_)),interpolation:v}),c.push({sampler:d.length-1,target:{node:a.get(p),path:g}})}return s.animations.push({name:n.name||"clip_"+s.animations.length,samplers:d,channels:c}),s.animations.length-1}processSkin(n){const i=this.json,s=this.nodeMap,a=i.nodes[s.get(n)],l=n.skeleton;if(void 0===l)return null;const c=n.skeleton.bones[0];if(void 0===c)return null;const d=[],u=new Float32Array(16*l.bones.length),h=new vt;for(let p=0;p<l.bones.length;++p)d.push(s.get(l.bones[p])),h.copy(l.boneInverses[p]),h.multiply(n.bindMatrix).toArray(u,16*p);return void 0===i.skins&&(i.skins=[]),i.skins.push({inverseBindMatrices:this.processAccessor(new kn(u,16)),joints:d,skeleton:s.get(c)}),a.skin=i.skins.length-1}processNode(n){const i=this.json,s=this.options,a=this.nodeMap;i.nodes||(i.nodes=[]);const l={};if(s.trs){const d=n.quaternion.toArray(),u=n.position.toArray(),h=n.scale.toArray();HA(d,[0,0,0,1])||(l.rotation=d),HA(u,[0,0,0])||(l.translation=u),HA(h,[1,1,1])||(l.scale=h)}else n.matrixAutoUpdate&&n.updateMatrix(),!1===function Pje(r){return HA(r.elements,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}(n.matrix)&&(l.matrix=n.matrix.elements);if(""!==n.name&&(l.name=String(n.name)),this.serializeUserData(n,l),n.isMesh||n.isLine||n.isPoints){const d=this.processMesh(n);null!==d&&(l.mesh=d)}else n.isCamera&&(l.camera=this.processCamera(n));if(n.isSkinnedMesh&&this.skins.push(n),n.children.length>0){const d=[];for(let u=0,h=n.children.length;u<h;u++){const f=n.children[u];if(f.visible||!1===s.onlyVisible){const p=this.processNode(f);null!==p&&d.push(p)}}d.length>0&&(l.children=d)}this._invokeAll(function(d){d.writeNode&&d.writeNode(n,l)});const c=i.nodes.push(l)-1;return a.set(n,c),c}processScene(n){const i=this.json,s=this.options;i.scenes||(i.scenes=[],i.scene=0);const a={};""!==n.name&&(a.name=n.name),i.scenes.push(a);const l=[];for(let c=0,d=n.children.length;c<d;c++){const u=n.children[c];if(u.visible||!1===s.onlyVisible){const h=this.processNode(u);null!==h&&l.push(h)}}l.length>0&&(a.nodes=l),this.serializeUserData(n,a)}processObjects(n){const i=new Id;i.name="AuxScene";for(let s=0;s<n.length;s++)i.children.push(n[s]);this.processScene(i)}processInput(n){const i=this.options;n=n instanceof Array?n:[n],this._invokeAll(function(a){a.beforeParse&&a.beforeParse(n)});const s=[];for(let a=0;a<n.length;a++)n[a]instanceof Id?this.processScene(n[a]):s.push(n[a]);s.length>0&&this.processObjects(s);for(let a=0;a<this.skins.length;++a)this.processSkin(this.skins[a]);for(let a=0;a<i.animations.length;++a)this.processAnimation(i.animations[a],n[0]);this._invokeAll(function(a){a.afterParse&&a.afterParse(n)})}_invokeAll(n){for(let i=0,s=this.plugins.length;i<s;i++)n(this.plugins[i])}}class Nje{constructor(n){this.writer=n,this.name="KHR_lights_punctual"}writeNode(n,i){if(!n.isLight)return;if(!n.isDirectionalLight&&!n.isPointLight&&!n.isSpotLight)return void console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",n);const s=this.writer,a=s.json,l=s.extensionsUsed,c={};n.name&&(c.name=n.name),c.color=n.color.toArray(),c.intensity=n.intensity,n.isDirectionalLight?c.type="directional":n.isPointLight?(c.type="point",n.distance>0&&(c.range=n.distance)):n.isSpotLight&&(c.type="spot",n.distance>0&&(c.range=n.distance),c.spot={},c.spot.innerConeAngle=(1-n.penumbra)*n.angle,c.spot.outerConeAngle=n.angle),void 0!==n.decay&&2!==n.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),n.target&&(n.target.parent!==n||0!==n.target.position.x||0!==n.target.position.y||-1!==n.target.position.z)&&console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1."),l[this.name]||(a.extensions=a.extensions||{},a.extensions[this.name]={lights:[]},l[this.name]=!0);const d=a.extensions[this.name].lights;d.push(c),i.extensions=i.extensions||{},i.extensions[this.name]={light:d.length-1}}}class Bje{constructor(n){this.writer=n,this.name="KHR_materials_unlit"}writeMaterial(n,i){if(!n.isMeshBasicMaterial)return;const a=this.writer.extensionsUsed;i.extensions=i.extensions||{},i.extensions[this.name]={},a[this.name]=!0,i.pbrMetallicRoughness.metallicFactor=0,i.pbrMetallicRoughness.roughnessFactor=.9}}class Lje{constructor(n){this.writer=n,this.name="KHR_materials_clearcoat"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.clearcoat)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.clearcoatFactor=n.clearcoat,n.clearcoatMap){const c={index:s.processTexture(n.clearcoatMap),texCoord:n.clearcoatMap.channel};s.applyTextureTransform(c,n.clearcoatMap),l.clearcoatTexture=c}if(l.clearcoatRoughnessFactor=n.clearcoatRoughness,n.clearcoatRoughnessMap){const c={index:s.processTexture(n.clearcoatRoughnessMap),texCoord:n.clearcoatRoughnessMap.channel};s.applyTextureTransform(c,n.clearcoatRoughnessMap),l.clearcoatRoughnessTexture=c}if(n.clearcoatNormalMap){const c={index:s.processTexture(n.clearcoatNormalMap),texCoord:n.clearcoatNormalMap.channel};1!==n.clearcoatNormalScale.x&&(c.scale=n.clearcoatNormalScale.x),s.applyTextureTransform(c,n.clearcoatNormalMap),l.clearcoatNormalTexture=c}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Uje{constructor(n){this.writer=n,this.name="KHR_materials_dispersion"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.dispersion)return;const a=this.writer.extensionsUsed,l={};l.dispersion=n.dispersion,i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class zje{constructor(n){this.writer=n,this.name="KHR_materials_iridescence"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.iridescence)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.iridescenceFactor=n.iridescence,n.iridescenceMap){const c={index:s.processTexture(n.iridescenceMap),texCoord:n.iridescenceMap.channel};s.applyTextureTransform(c,n.iridescenceMap),l.iridescenceTexture=c}if(l.iridescenceIor=n.iridescenceIOR,l.iridescenceThicknessMinimum=n.iridescenceThicknessRange[0],l.iridescenceThicknessMaximum=n.iridescenceThicknessRange[1],n.iridescenceThicknessMap){const c={index:s.processTexture(n.iridescenceThicknessMap),texCoord:n.iridescenceThicknessMap.channel};s.applyTextureTransform(c,n.iridescenceThicknessMap),l.iridescenceThicknessTexture=c}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Vje{constructor(n){this.writer=n,this.name="KHR_materials_transmission"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.transmission)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.transmissionFactor=n.transmission,n.transmissionMap){const c={index:s.processTexture(n.transmissionMap),texCoord:n.transmissionMap.channel};s.applyTextureTransform(c,n.transmissionMap),l.transmissionTexture=c}i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Hje{constructor(n){this.writer=n,this.name="KHR_materials_volume"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0===n.transmission)return;const s=this.writer,a=s.extensionsUsed,l={};if(l.thicknessFactor=n.thickness,n.thicknessMap){const c={index:s.processTexture(n.thicknessMap),texCoord:n.thicknessMap.channel};s.applyTextureTransform(c,n.thicknessMap),l.thicknessTexture=c}n.attenuationDistance!==1/0&&(l.attenuationDistance=n.attenuationDistance),l.attenuationColor=n.attenuationColor.toArray(),i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Gje{constructor(n){this.writer=n,this.name="KHR_materials_ior"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||1.5===n.ior)return;const a=this.writer.extensionsUsed,l={};l.ior=n.ior,i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class $je{constructor(n){this.writer=n,this.name="KHR_materials_specular"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||1===n.specularIntensity&&n.specularColor.equals(Sje)&&!n.specularIntensityMap&&!n.specularColorMap)return;const s=this.writer,a=s.extensionsUsed,l={};if(n.specularIntensityMap){const c={index:s.processTexture(n.specularIntensityMap),texCoord:n.specularIntensityMap.channel};s.applyTextureTransform(c,n.specularIntensityMap),l.specularTexture=c}if(n.specularColorMap){const c={index:s.processTexture(n.specularColorMap),texCoord:n.specularColorMap.channel};s.applyTextureTransform(c,n.specularColorMap),l.specularColorTexture=c}l.specularFactor=n.specularIntensity,l.specularColorFactor=n.specularColor.toArray(),i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Qje{constructor(n){this.writer=n,this.name="KHR_materials_sheen"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0==n.sheen)return;const s=this.writer,a=s.extensionsUsed,l={};if(n.sheenRoughnessMap){const c={index:s.processTexture(n.sheenRoughnessMap),texCoord:n.sheenRoughnessMap.channel};s.applyTextureTransform(c,n.sheenRoughnessMap),l.sheenRoughnessTexture=c}if(n.sheenColorMap){const c={index:s.processTexture(n.sheenColorMap),texCoord:n.sheenColorMap.channel};s.applyTextureTransform(c,n.sheenColorMap),l.sheenColorTexture=c}l.sheenRoughnessFactor=n.sheenRoughness,l.sheenColorFactor=n.sheenColor.toArray(),i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class jje{constructor(n){this.writer=n,this.name="KHR_materials_anisotropy"}writeMaterial(n,i){if(!n.isMeshPhysicalMaterial||0==n.anisotropy)return;const s=this.writer,a=s.extensionsUsed,l={};if(n.anisotropyMap){const c={index:s.processTexture(n.anisotropyMap)};s.applyTextureTransform(c,n.anisotropyMap),l.anisotropyTexture=c}l.anisotropyStrength=n.anisotropy,l.anisotropyRotation=n.anisotropyRotation,i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Wje{constructor(n){this.writer=n,this.name="KHR_materials_emissive_strength"}writeMaterial(n,i){if(!n.isMeshStandardMaterial||1===n.emissiveIntensity)return;const a=this.writer.extensionsUsed,l={};l.emissiveStrength=n.emissiveIntensity,i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class qje{constructor(n){this.writer=n,this.name="EXT_materials_bump"}writeMaterial(n,i){if(!n.isMeshStandardMaterial||1===n.bumpScale&&!n.bumpMap)return;const s=this.writer,a=s.extensionsUsed,l={};if(n.bumpMap){const c={index:s.processTexture(n.bumpMap),texCoord:n.bumpMap.channel};s.applyTextureTransform(c,n.bumpMap),l.bumpTexture=c}l.bumpFactor=n.bumpScale,i.extensions=i.extensions||{},i.extensions[this.name]=l,a[this.name]=!0}}class Yje{constructor(n){this.writer=n,this.name="EXT_mesh_gpu_instancing"}writeNode(n,i){if(!n.isInstancedMesh)return;const s=this.writer,a=n,l=new Float32Array(3*a.count),c=new Float32Array(4*a.count),d=new Float32Array(3*a.count),u=new vt,h=new N,f=new vs,p=new N;for(let m=0;m<a.count;m++)a.getMatrixAt(m,u),u.decompose(h,f,p),h.toArray(l,3*m),f.toArray(c,4*m),p.toArray(d,3*m);const g={TRANSLATION:s.processAccessor(new kn(l,3)),ROTATION:s.processAccessor(new kn(c,4)),SCALE:s.processAccessor(new kn(d,3))};a.instanceColor&&(g._COLOR_0=s.processAccessor(a.instanceColor)),i.extensions=i.extensions||{},i.extensions[this.name]={attributes:g},s.extensionsUsed[this.name]=!0,s.extensionsRequired[this.name]=!0}}mL.Utils={insertKeyframe:function(r,n){const s=r.getValueSize(),a=new r.TimeBufferType(r.times.length+1),l=new r.ValueBufferType(r.values.length+s),c=r.createInterpolant(new r.ValueBufferType(s));let d;if(0===r.times.length){a[0]=n;for(let u=0;u<s;u++)l[u]=0;d=0}else if(n<r.times[0]){if(Math.abs(r.times[0]-n)<.001)return 0;a[0]=n,a.set(r.times,1),l.set(c.evaluate(n),0),l.set(r.values,s),d=0}else if(n>r.times[r.times.length-1]){if(Math.abs(r.times[r.times.length-1]-n)<.001)return r.times.length-1;a[a.length-1]=n,a.set(r.times,0),l.set(r.values,0),l.set(c.evaluate(n),r.values.length),d=a.length-1}else for(let u=0;u<r.times.length;u++){if(Math.abs(r.times[u]-n)<.001)return u;if(r.times[u]<n&&r.times[u+1]>n){a.set(r.times.slice(0,u+1),0),a[u+1]=n,a.set(r.times.slice(u+1),u+2),l.set(r.values.slice(0,(u+1)*s),0),l.set(c.evaluate(n),(u+1)*s),l.set(r.values.slice((u+1)*s),(u+2)*s),d=u+1;break}}return r.times=a,r.values=l,d},mergeMorphTargetTracks:function(r,n){const i=[],s={},a=r.tracks;for(let l=0;l<a.length;++l){let c=a[l];const d=yi.parseTrackName(c.name),u=yi.findNode(n,d.nodeName);if("morphTargetInfluences"!==d.propertyName||void 0===d.propertyIndex){i.push(c);continue}if(c.createInterpolant!==c.InterpolantFactoryMethodDiscrete&&c.createInterpolant!==c.InterpolantFactoryMethodLinear){if(c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),c=c.clone(),c.setInterpolation(Ig)}const h=u.morphTargetInfluences.length,f=u.morphTargetDictionary[d.propertyIndex];if(void 0===f)throw new Error("THREE.GLTFExporter: Morph target name not found: "+d.propertyIndex);let p;if(void 0===s[u.uuid]){p=c.clone();const m=new p.ValueBufferType(h*p.times.length);for(let _=0;_<p.times.length;_++)m[_*h+f]=p.values[_];p.name=(d.nodeName||"")+".morphTargetInfluences",p.values=m,s[u.uuid]=p,i.push(p);continue}const g=c.createInterpolant(new c.ValueBufferType(1));p=s[u.uuid];for(let m=0;m<p.times.length;m++)p.values[m*h+f]=g.evaluate(p.times[m]);for(let m=0;m<c.times.length;m++){const _=this.insertKeyframe(p,c.times[m]);p.values[_*h+f]=c.values[m]}}return r.tracks=i,r}};const ate=r=>void 0!==r.material&&r.userData&&r.userData.variantMaterials&&!!Array.from(r.userData.variantMaterials.values()).filter(n=>WS(n.material)),WS=r=>r&&r.isMaterial&&!Array.isArray(r);class Xje{constructor(n){this.writer=n,this.name="KHR_materials_variants",this.variantNames=[]}beforeParse(n){const i=new Set;for(const s of n)s.traverse(a=>{if(!ate(a))return;const l=a.userData.variantMaterials,c=a.userData.variantData;for(const[d,u]of c){const h=l.get(u.index);h&&WS(h.material)&&i.add(d)}});i.forEach(s=>this.variantNames.push(s))}writeMesh(n,i){if(!ate(n))return;const s=n.userData,a=s.variantMaterials,l=s.variantData,c=new Map,d=new Map,u=Array.from(l.values()).sort((p,g)=>p.index-g.index);for(const[p,g]of u.entries())d.set(g.index,p);for(const p of l.values()){const g=a.get(p.index);if(!g||!WS(g.material))continue;const m=this.writer.processMaterial(g.material);c.has(m)||c.set(m,{material:m,variants:[]}),c.get(m).variants.push(d.get(p.index))}const h=Array.from(c.values()).map(p=>p.variants.sort((g,m)=>g-m)&&p).sort((p,g)=>p.material-g.material);if(0===h.length)return;const f=WS(s.originalMaterial)?this.writer.processMaterial(s.originalMaterial):-1;for(const p of i.primitives)f>=0&&(p.material=f),p.extensions=p.extensions||{},p.extensions[this.name]={mappings:h}}afterParse(){if(0===this.variantNames.length)return;const n=this.writer.json;n.extensions=n.extensions||{};const i=this.variantNames.map(s=>({name:s}));n.extensions[this.name]={variants:i},this.writer.extensionsUsed[this.name]=!0}}class Kje{constructor(n,i,s,a,l){this.xrLight=n,this.renderer=i,this.lightProbe=s,this.xrWebGLBinding=null,this.estimationStartCallback=l,this.frameCallback=this.onXRFrame.bind(this);const c=i.xr.getSession();if(a&&"XRWebGLBinding"in window){const d=new SN(16);n.environment=d.texture;const u=i.getContext();switch(c.preferredReflectionFormat){case"srgba8":u.getExtension("EXT_sRGB");break;case"rgba16f":u.getExtension("OES_texture_half_float")}this.xrWebGLBinding=new XRWebGLBinding(c,u),this.lightProbe.addEventListener("reflectionchange",()=>{this.updateReflection()})}c.requestAnimationFrame(this.frameCallback)}updateReflection(){const n=this.renderer.properties.get(this.xrLight.environment);if(n){const i=this.xrWebGLBinding.getReflectionCubeMap(this.lightProbe);i&&(n.__webglTexture=i,this.xrLight.environment.needsPMREMUpdate=!0)}}onXRFrame(n,i){if(!this.xrLight)return;i.session.requestAnimationFrame(this.frameCallback);const a=i.getLightEstimate(this.lightProbe);if(a){this.xrLight.lightProbe.sh.fromArray(a.sphericalHarmonicsCoefficients),this.xrLight.lightProbe.intensity=1;const l=Math.max(1,Math.max(a.primaryLightIntensity.x,Math.max(a.primaryLightIntensity.y,a.primaryLightIntensity.z)));this.xrLight.directionalLight.color.setRGB(a.primaryLightIntensity.x/l,a.primaryLightIntensity.y/l,a.primaryLightIntensity.z/l),this.xrLight.directionalLight.intensity=l,this.xrLight.directionalLight.position.copy(a.primaryLightDirection),this.estimationStartCallback&&(this.estimationStartCallback(),this.estimationStartCallback=null)}}dispose(){this.xrLight=null,this.renderer=null,this.lightProbe=null,this.xrWebGLBinding=null}}class Zje extends Sd{constructor(n,i=!0){super(),this.lightProbe=new aJ,this.lightProbe.intensity=0,this.add(this.lightProbe),this.directionalLight=new MB,this.directionalLight.intensity=0,this.add(this.directionalLight),this.environment=null;let s=null,a=!1;n.xr.addEventListener("sessionstart",()=>{const l=n.xr.getSession();"requestLightProbe"in l&&l.requestLightProbe({reflectionFormat:l.preferredReflectionFormat}).then(c=>{s=new Kje(this,n,c,i,()=>{a=!0,this.dispatchEvent({type:"estimationstart"})})})}),n.xr.addEventListener("sessionend",()=>{s&&(s.dispose(),s=null),a&&this.dispatchEvent({type:"estimationend"})}),this.dispose=()=>{s&&(s.dispose(),s=null),this.remove(this.lightProbe),this.lightProbe=null,this.remove(this.directionalLight),this.directionalLight=null,this.environment=null}}}class $o{constructor(n=50){this.velocity=0,this.naturalFrequency=0,this.setDecayTime(n)}setDecayTime(n){this.naturalFrequency=1/Math.max(.001,n)}update(n,i,s,a){const l=2e-4*this.naturalFrequency;if(null==n||0===a||n===i&&0===this.velocity)return i;if(s<0)return n;const c=n-i,d=this.velocity+this.naturalFrequency*c,u=c+s*d,h=Math.exp(-this.naturalFrequency*s),f=(d-this.naturalFrequency*u)*h,p=-this.naturalFrequency*(f+d*h);return Math.abs(f)<l*Math.abs(a)&&p*c>=0?(this.velocity=0,i):(this.velocity=f,i+u*h)}}const tWe=Math.PI/24,hte=new ve,qS=(r,n,i)=>{let s=n>0?i>0?0:-Math.PI/2:i>0?Math.PI/2:Math.PI;for(let a=0;a<=12;++a)r.push(n+.17*Math.cos(s),i+.17*Math.sin(s),0,n+.2*Math.cos(s),i+.2*Math.sin(s),0),s+=tWe};class fte extends Vn{constructor(n,i){const s=new pn,a=[],l=[],{size:c,boundingBox:d}=n,u=c.x/2,h=("back"===i?c.y:c.z)/2;qS(l,u,h),qS(l,-u,h),qS(l,-u,-h),qS(l,u,-h);const f=l.length/3;for(let m=0;m<f-2;m+=2)a.push(m,m+1,m+3,m,m+3,m+2);const p=f-2;a.push(p,p+1,1,p,1,0),s.setAttribute("position",new bt(l,3)),s.setIndex(a),super(s),this.side=i;const g=this.material;switch(g.side=2,g.transparent=!0,g.opacity=0,this.goalOpacity=0,this.opacityDamper=new $o,this.hitPlane=new Vn(new Il(2*(u+.2),2*(h+.2))),this.hitPlane.visible=!1,this.hitPlane.material.side=2,this.add(this.hitPlane),this.hitBox=new Vn(new bc(c.x+.4,c.y+.2,c.z+.4)),this.hitBox.visible=!1,this.hitBox.material.side=2,this.add(this.hitBox),d.getCenter(this.position),i){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=d.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=d.min.z,this.position.z=this.shadowHeight}n.target.add(this),this.hitBox.position.y=(c.y+.2)/2+d.min.y,n.target.add(this.hitBox),this.offsetHeight=0}getHit(n,i,s){hte.set(i,-s),this.hitPlane.visible=!0;const a=n.positionAndNormalFromPoint(hte,this.hitPlane);return this.hitPlane.visible=!1,null==a?null:a.position}getExpandedHit(n,i,s){this.hitPlane.scale.set(1e3,1e3,1e3),this.hitPlane.updateMatrixWorld();const a=this.getHit(n,i,s);return this.hitPlane.scale.set(1,1,1),a}controllerIntersection(n,i){this.hitBox.visible=!0;const s=n.hitFromController(i,this.hitBox);return this.hitBox.visible=!1,s}set offsetHeight(n){n-=.001,"back"===this.side?this.position.z=this.shadowHeight+n:this.position.y=this.shadowHeight+n}get offsetHeight(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(n){this.goalOpacity=n?.75:0}updateOpacity(n){const i=this.material;i.opacity=this.opacityDamper.update(i.opacity,this.goalOpacity,n,1),this.visible=i.opacity>0}dispose(){const{geometry:n,material:i}=this.hitPlane;n.dispose(),i.dispose(),this.hitBox.geometry.dispose(),this.hitBox.material.dispose(),this.geometry.dispose(),this.material.dispose(),this.hitBox.removeFromParent(),this.removeFromParent()}}const lo=(r,n)=>({type:"number",number:r,unit:n}),Nd=(()=>{const r={};return i=>{const s=i;if(s in r)return r[s];const a=[];let l=0;for(;i;){if(++l>1e3){i="";break}const c=pte(i),d=c.nodes[0];if(null==d||0===d.terms.length)break;a.push(d),i=c.remainingInput}return r[s]=a}})(),pte=(()=>{const r=/^(\-\-|[a-z\u0240-\uffff])/i,n=/^([\*\+\/]|[\-]\s)/i,i=/^[\),]/;return l=>{const c=[];for(;l.length&&(l=l.trim(),!i.test(l));)if("("===l[0]){const{nodes:d,remainingInput:u}=mte(l);l=u,c.push({type:"function",name:{type:"ident",value:"calc"},arguments:d})}else if(r.test(l)){const d=nWe(l),u=d.nodes[0];if("("===(l=d.remainingInput)[0]){const{nodes:h,remainingInput:f}=mte(l);c.push({type:"function",name:u,arguments:h}),l=f}else c.push(u)}else if(n.test(l))c.push({type:"operator",value:l[0]}),l=l.slice(1);else{const{nodes:d,remainingInput:u}="#"===l[0]?rWe(l):iWe(l);if(0===d.length)break;c.push(d[0]),l=u}return{nodes:[{type:"expression",terms:c}],remainingInput:l}}})(),nWe=(()=>{const r=/[^a-z0-9_\-\u0240-\uffff]/i;return n=>{const i=n.match(r);return{nodes:[{type:"ident",value:null==i?n:n.substr(0,i.index)}],remainingInput:null==i?"":n.substr(i.index)}}})(),iWe=(()=>{const r=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,n=/^[a-z%]+/i,i=/^(m|mm|cm|rad|deg|[%])$/;return s=>{const a=s.match(r),l=null==a?"0":a[0],c=(s=null==l?s:s.slice(l.length)).match(n);let d=null!=c&&""!==c[0]?c[0]:null;const u=null==c?s:s.slice(d.length);return null!=d&&!i.test(d)&&(d=null),{nodes:[{type:"number",number:parseFloat(l)||0,unit:d}],remainingInput:u}}})(),rWe=(()=>{const r=/^[a-f0-9]*/i;return n=>{const i=(n=n.slice(1).trim()).match(r);return{nodes:null==i?[]:[{type:"hex",value:i[0]}],remainingInput:null==i?n:n.slice(i[0].length)}}})(),mte=r=>{const n=[];for(r=r.slice(1).trim();r.length;){const i=pte(r);if(n.push(i.nodes[0]),","===(r=i.remainingInput.trim())[0])r=r.slice(1).trim();else if(")"===r[0]){r=r.slice(1);break}}return{nodes:n,remainingInput:r}},gte=Symbol("visitedTypes");class sWe{constructor(n){this[gte]=n}walk(n,i){const s=n.slice();for(;s.length;){const a=s.shift();switch(this[gte].indexOf(a.type)>-1&&i(a),a.type){case"expression":s.unshift(...a.terms);break;case"function":s.unshift(a.name,...a.arguments)}}}}const $u=Object.freeze({type:"number",number:0,unit:null}),YS=(r,n=0)=>{let{number:i,unit:s}=r;if(isFinite(i)){if("rad"===r.unit||null==r.unit)return r}else i=n,s="rad";return{type:"number",number:("deg"===s&&null!=i?i:0)*Math.PI/180,unit:"rad"}},_te=(r,n=0)=>{let a,{number:i,unit:s}=r;if(isFinite(i)){if("m"===r.unit)return r}else i=n,s="m";switch(s){default:a=1;break;case"cm":a=.01;break;case"mm":a=.001}return{type:"number",number:a*i,unit:"m"}},Ic=(()=>{const r=i=>i,n={rad:r,deg:YS,m:r,mm:_te,cm:_te};return(i,s=$u)=>{isFinite(i.number)||(i.number=s.number,i.unit=s.unit);const{unit:a}=i;if(null==a)return i;const l=n[a];return null==l?s:l(i)}})();var yte,vte,bte;const __=Symbol("evaluate"),XS=Symbol("lastValue");class hr{constructor(){this[yte]=null}static evaluatableFor(n,i=$u){if(n instanceof hr)return n;if("number"===n.type)return"%"===n.unit?new oWe(n,i):n;switch(n.name.value){case"calc":return new cWe(n,i);case"env":return new aWe(n)}return $u}static evaluate(n){return n instanceof hr?n.evaluate():n}static isConstant(n){return!(n instanceof hr)||n.isConstant}static applyIntrinsics(n,i){const{basis:s,keywords:a}=i,{auto:l}=a;return s.map((c,d)=>{const u=null==l[d]?c:l[d];let h=n[d]?n[d]:u;if("ident"===h.type){const f=h.value;f in a&&(h=a[f][d])}return(null==h||"ident"===h.type)&&(h=u),"%"===h.unit?lo(h.number/100*c.number,c.unit):(h=Ic(h,c),h.unit!==c.unit?c:h)})}get isConstant(){return!1}evaluate(){return(!this.isConstant||null==this[XS])&&(this[XS]=this[__]()),this[XS]}}yte=XS;const Ate=Symbol("percentage"),yL=Symbol("basis");class oWe extends hr{constructor(n,i){super(),this[Ate]=n,this[yL]=i}get isConstant(){return!0}[__](){return lo(this[Ate].number/100*this[yL].number,this[yL].unit)}}const KS=Symbol("identNode");class aWe extends hr{constructor(n){super(),this[vte]=null;const i=n.arguments.length?n.arguments[0].terms[0]:null;null!=i&&"ident"===i.type&&(this[KS]=i)}get isConstant(){return!1}[(vte=KS,__)](){return null!=this[KS]&&"window-scroll-y"===this[KS].value?{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null}:$u}}const lWe=/[\*\/]/,y_=Symbol("evaluator");class cWe extends hr{constructor(n,i=$u){if(super(),this[bte]=null,1!==n.arguments.length)return;const s=n.arguments[0].terms.slice(),a=[];for(;s.length;){const l=s.shift();if(a.length>0){const c=a[a.length-1];if("operator"===c.type&&lWe.test(c.value)){const d=a.pop(),u=a.pop();if(null==u)return;a.push(new wte(d,hr.evaluatableFor(u,i),hr.evaluatableFor(l,i)));continue}}a.push("operator"===l.type?l:hr.evaluatableFor(l,i))}for(;a.length>2;){const[l,c,d]=a.splice(0,3);if("operator"!==c.type)return;a.unshift(new wte(c,hr.evaluatableFor(l,i),hr.evaluatableFor(d,i)))}1===a.length&&(this[y_]=a[0])}get isConstant(){return null==this[y_]||hr.isConstant(this[y_])}[(bte=y_,__)](){return null!=this[y_]?hr.evaluate(this[y_]):$u}}const xte=Symbol("operator"),vL=Symbol("left"),bL=Symbol("right");class wte extends hr{constructor(n,i,s){super(),this[xte]=n,this[vL]=i,this[bL]=s}get isConstant(){return hr.isConstant(this[vL])&&hr.isConstant(this[bL])}[__](){const n=Ic(hr.evaluate(this[vL])),i=Ic(hr.evaluate(this[bL])),{number:s,unit:a}=n,{number:l,unit:c}=i;if(null!=c&&null!=a&&c!=a)return $u;const d=a||c;let u;switch(this[xte].value){case"+":u=s+l;break;case"-":u=s-l;break;case"/":u=s/l;break;case"*":u=s*l;break;default:return $u}return{type:"number",number:u,unit:d}}}const AL=Symbol("evaluatables"),Cte=Symbol("intrinsics");class Ete extends hr{constructor(n,i){super(),this[Cte]=i;const s=n[0],a=null!=s?s.terms:[];this[AL]=i.basis.map((l,c)=>{const d=a[c];return null==d?{type:"ident",value:"auto"}:"ident"===d.type?d:hr.evaluatableFor(d,l)})}get isConstant(){for(const n of this[AL])if(!hr.isConstant(n))return!1;return!0}[__](){const n=this[AL].map(i=>hr.evaluate(i));return hr.applyIntrinsics(n,this[Cte]).map(i=>i.number)}}var Mte,Ste,Ite,Tte;const v_=Symbol("instances"),Dte=Symbol("activateListener"),Rte=Symbol("deactivateListener"),xL=Symbol("notifyInstances"),kte=Symbol("notify"),Pte=Symbol("callback");class Tc{constructor(n){this[Pte]=n}static[xL](){for(const n of Tc[v_])n[kte]()}static[(Mte=v_,Dte)](){window.addEventListener("scroll",this[xL],{passive:!0})}static[Rte](){window.removeEventListener("scroll",this[xL])}observe(){0===Tc[v_].size&&Tc[Dte](),Tc[v_].add(this)}disconnect(){Tc[v_].delete(this),0===Tc[v_].size&&Tc[Rte]()}[kte](){this[Pte]()}}Tc[Mte]=new Set;const Fte=Symbol("computeStyleCallback"),Ote=Symbol("astWalker"),GA=Symbol("dependencies"),Nte=Symbol("onScroll");class dWe{constructor(n){this[Ste]={},this[Ite]=new sWe(["function"]),this[Tte]=()=>{this[Fte]({relatedState:"window-scroll"})},this[Fte]=n}observeEffectsFor(n){const i={},s=this[GA];this[Ote].walk(n,a=>{const{name:l}=a,d=a.arguments[0].terms[0];if("env"===l.value&&null!=d&&"ident"===d.type&&"window-scroll-y"===d.value&&null==i["window-scroll"]){const u="window-scroll"in s?s["window-scroll"]:new Tc(this[Nte]);u.observe(),delete s["window-scroll"],i["window-scroll"]=u}});for(const a in s)s[a].disconnect();this[GA]=i}dispose(){for(const n in this[GA])this[GA][n].disconnect()}}Ste=GA,Ite=Ote,Tte=Nte;const Qu=r=>{const n=r.observeEffects||!1,i=r.intrinsics instanceof Function?r.intrinsics:()=>r.intrinsics;return(s,a)=>{const l=s.updated,c=s.connectedCallback,d=s.disconnectedCallback,u=Symbol(`${a}StyleEffector`),h=Symbol(`${a}StyleEvaluator`),f=Symbol(`${a}UpdateEvaluator`),p=Symbol(`${a}EvaluateAndSync`);Object.defineProperties(s,{[u]:{value:null,writable:!0},[h]:{value:null,writable:!0},[f]:{value:function(){const g=Nd(this[a]);this[h]=new Ete(g,i(this)),null==this[u]&&n&&(this[u]=new dWe(()=>this[p]())),null!=this[u]&&this[u].observeEffectsFor(g)}},[p]:{value:function(){if(null==this[h])return;const g=this[h].evaluate();this[r.updateHandler](g)}},updated:{value:function(g){g.has(a)&&(this[f](),this[p]()),l.call(this,g)}},connectedCallback:{value:function(){c.call(this),this.requestUpdate(a,this[a])}},disconnectedCallback:{value:function(){d.call(this),null!=this[u]&&(this[u].dispose(),this[u]=null)}}})}},Bte=r=>r<.5?2*r*r:(4-2*r)*r-1,uWe=(r,n,i=Bte)=>s=>r+(n-r)*i(s),b_=r=>{const n=[],i=[];let s=r.initialValue;for(let a=0;a<r.keyframes.length;++a){const l=r.keyframes[a],{value:c,frames:d}=l,h=uWe(s,c,l.ease||Bte);n.push(h),i.push(d),s=c}return((r,n)=>{const s=n.map((a=0,l=>a+=l));var a;return a=>{a=Mc(a,0,1),a*=s[s.length-1];const l=s.findIndex(u=>u>=a),c=l<1?0:s[l-1];return r[l]((a-c)/(s[l]-c))}})(n,i)};var ss=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const pWe=b_({initialValue:0,keyframes:[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]}),mWe=b_({initialValue:0,keyframes:[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]}),Lte="0deg 75deg 105%",AWe=["front","right","back","left"],xWe=["upper-","","lower-"],Ute=()=>({basis:[YS(lo(30,"deg"))],keywords:{auto:[null]}}),MWe=()=>({basis:[YS(lo(12,"deg"))],keywords:{auto:[null]}}),zte=(()=>{const r=Nd(Lte)[0].terms,n=Ic(r[0]),i=Ic(r[1]);return s=>{const a=s[He].idealCameraDistance();return{basis:[n,i,lo(a,"m")],keywords:{auto:[null,null,lo(105,"%")]}}}})(),SWe=r=>{const n=2.2*r[He].boundingSphere.radius;return{basis:[lo(-1/0,"rad"),lo(0,"rad"),lo(n,"m")],keywords:{auto:[null,null,null]}}},IWe=r=>{const n=zte(r),s=new Ete([],n).evaluate()[2];return{basis:[lo(1/0,"rad"),lo(Math.PI,"rad"),lo(s,"m")],keywords:{auto:[null,null,null]}}},TWe=r=>{const n=r[He].boundingBox.getCenter(new N);return{basis:[lo(n.x,"m"),lo(n.y,"m"),lo(n.z,"m")],keywords:{auto:[null,null,null]}}},Vte=Math.PI/2,DWe=Math.PI/3,RWe=Vte/2,kWe=2*Math.PI,Ei=Symbol("controls"),JS=Symbol("panElement"),CL=Symbol("promptElement"),eI=Symbol("promptAnimatedContainer"),EL=Symbol("fingerAnimatedContainers"),tI=Symbol("deferInteractionPrompt"),Hte=Symbol("updateAria"),Bd=Symbol("a11y"),Gte=Symbol("updateA11y"),$te=Symbol("updateCameraForRadius"),A_=Symbol("cancelPrompts"),ML=Symbol("onChange"),$A=Symbol("onPointerChange"),ip=Symbol("waitingToPromptUser"),nI=Symbol("userHasInteracted"),x_=Symbol("promptElementVisibleTime"),QA=Symbol("lastPromptOffset"),iI=Symbol("cancellationSource"),SL=Symbol("lastSpherical"),jA=Symbol("jumpCamera"),IL=Symbol("initialized"),WA=Symbol("maintainThetaPhi"),Qte=Symbol("syncCameraOrbit"),jte=Symbol("syncFieldOfView"),Wte=Symbol("syncCameraTarget"),qte=Symbol("syncMinCameraOrbit"),Yte=Symbol("syncMaxCameraOrbit"),Xte=Symbol("syncMinFieldOfView"),Kte=Symbol("syncMaxFieldOfView"),NWe=new ve,Jte=new N,ene=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:0,maximumPolarAngle:Math.PI,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,touchAction:"none"}),rI=Math.PI/8,Sr_USER_INTERACTION="user-interaction",Sr_NONE="none",Sr_AUTOMATIC="automatic";class BWe extends Ma{constructor(n,i,s){super(),this.camera=n,this.element=i,this.scene=s,this.orbitSensitivity=1,this.zoomSensitivity=1,this.panSensitivity=1,this.inputSensitivity=1,this.changeSource=Sr_NONE,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserPointing=!1,this.enablePan=!0,this.enableTap=!0,this.panProjection=new fn,this.panPerPixel=0,this.spherical=new IS,this.goalSpherical=new IS,this.thetaDamper=new $o,this.phiDamper=new $o,this.radiusDamper=new $o,this.logFov=Math.log(ene.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new $o,this.touchMode=null,this.pointers=[],this.startTime=0,this.startPointerPosition={clientX:0,clientY:0},this.lastSeparation=0,this.touchDecided=!1,this.onContext=a=>{if(this.enablePan)a.preventDefault();else for(const l of this.pointers)this.onPointerUp(new PointerEvent("pointercancel",Object.assign(Object.assign({},this.startPointerPosition),{pointerId:l.id})))},this.touchModeZoom=(a,l)=>{if(!this._disableZoom){const c=this.twoTouchDistance(this.pointers[0],this.pointers[1]),d=.04*this.zoomSensitivity*(this.lastSeparation-c)*50/this.scene.height;this.lastSeparation=c,this.userAdjustOrbit(0,0,d)}this.panPerPixel>0&&this.movePan(a,l)},this.disableScroll=a=>{a.preventDefault()},this.touchModeRotate=(a,l)=>{const{touchAction:c}=this._options;if(!this.touchDecided&&"none"!==c){this.touchDecided=!0;const d=Math.abs(a),u=Math.abs(l);if(this.changeSource===Sr_USER_INTERACTION&&("pan-y"===c&&u>d||"pan-x"===c&&d>u))return void(this.touchMode=null);this.element.addEventListener("touchmove",this.disableScroll,{passive:!1})}this.handleSinglePointerMove(a,l)},this.onPointerDown=a=>{if(this.pointers.length>2)return;const{element:l}=this;0===this.pointers.length&&(l.addEventListener("pointermove",this.onPointerMove),l.addEventListener("pointerup",this.onPointerUp),this.touchMode=null,this.touchDecided=!1,this.startPointerPosition.clientX=a.clientX,this.startPointerPosition.clientY=a.clientY,this.startTime=performance.now());try{l.setPointerCapture(a.pointerId)}catch{}this.pointers.push({clientX:a.clientX,clientY:a.clientY,id:a.pointerId}),this.isUserPointing=!1,"touch"===a.pointerType?(this.changeSource=a.altKey?Sr_AUTOMATIC:Sr_USER_INTERACTION,this.onTouchChange(a)):(this.changeSource=Sr_USER_INTERACTION,this.onMouseDown(a)),this.changeSource===Sr_USER_INTERACTION&&this.dispatchEvent({type:"user-interaction"})},this.onPointerMove=a=>{const l=this.pointers.find(h=>h.id===a.pointerId);if(null==l)return;if("mouse"===a.pointerType&&0===a.buttons)return void this.onPointerUp(a);const c=this.pointers.length,d=(a.clientX-l.clientX)/c,u=(a.clientY-l.clientY)/c;0===d&&0===u||(l.clientX=a.clientX,l.clientY=a.clientY,"touch"===a.pointerType?(this.changeSource=a.altKey?Sr_AUTOMATIC:Sr_USER_INTERACTION,null!==this.touchMode&&this.touchMode(d,u)):(this.changeSource=Sr_USER_INTERACTION,this.panPerPixel>0?this.movePan(d,u):this.handleSinglePointerMove(d,u)))},this.onPointerUp=a=>{const{element:l}=this,c=this.pointers.findIndex(d=>d.id===a.pointerId);-1!==c&&this.pointers.splice(c,1),this.panPerPixel>0&&!a.altKey&&this.resetRadius(),0===this.pointers.length?(l.removeEventListener("pointermove",this.onPointerMove),l.removeEventListener("pointerup",this.onPointerUp),l.removeEventListener("touchmove",this.disableScroll),this.enablePan&&this.enableTap&&this.recenter(a)):null!==this.touchMode&&this.onTouchChange(a),this.scene.element[JS].style.opacity=0,l.style.cursor="grab",this.panPerPixel=0,this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end"})},this.onWheel=a=>{this.changeSource=Sr_USER_INTERACTION,this.userAdjustOrbit(0,0,a.deltaY*(1==a.deltaMode?18:1)*.04*this.zoomSensitivity/30),a.preventDefault(),this.dispatchEvent({type:"user-interaction"})},this.onKeyDown=a=>{const{changeSource:l}=this;this.changeSource=Sr_USER_INTERACTION,(a.shiftKey&&this.enablePan?this.panKeyCodeHandler(a):this.orbitZoomKeyCodeHandler(a))?(a.preventDefault(),this.dispatchEvent({type:"user-interaction"})):this.changeSource=l},this._options=Object.assign({},ene),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(!1===this._interactionEnabled){const{element:n}=this;n.addEventListener("pointerdown",this.onPointerDown),n.addEventListener("pointercancel",this.onPointerUp),this._disableZoom||n.addEventListener("wheel",this.onWheel),n.addEventListener("keydown",this.onKeyDown),n.addEventListener("touchmove",()=>{},{passive:!1}),n.addEventListener("contextmenu",this.onContext),this.element.style.cursor="grab",this._interactionEnabled=!0,this.updateTouchActionStyle()}}disableInteraction(){if(!0===this._interactionEnabled){const{element:n}=this;n.removeEventListener("pointerdown",this.onPointerDown),n.removeEventListener("pointermove",this.onPointerMove),n.removeEventListener("pointerup",this.onPointerUp),n.removeEventListener("pointercancel",this.onPointerUp),n.removeEventListener("wheel",this.onWheel),n.removeEventListener("keydown",this.onKeyDown),n.removeEventListener("contextmenu",this.onContext),n.style.cursor="",this.touchMode=null,this._interactionEnabled=!1,this.updateTouchActionStyle()}}get options(){return this._options}set disableZoom(n){this._disableZoom!=n&&(this._disableZoom=n,!0===n?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel),this.updateTouchActionStyle())}getCameraSpherical(n=new IS){return n.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(n){Object.assign(this._options,n),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(n,i){this.camera.far=0===i?2:i,this.camera.near=Math.max(n,this.camera.far/1e3),this.camera.updateProjectionMatrix()}updateAspect(n){this.camera.aspect=n,this.camera.updateProjectionMatrix()}setOrbit(n=this.goalSpherical.theta,i=this.goalSpherical.phi,s=this.goalSpherical.radius){const{minimumAzimuthalAngle:a,maximumAzimuthalAngle:l,minimumPolarAngle:c,maximumPolarAngle:d,minimumRadius:u,maximumRadius:h}=this._options,{theta:f,phi:p,radius:g}=this.goalSpherical,m=Mc(n,a,l);!isFinite(a)&&!isFinite(l)&&(this.spherical.theta=this.wrapAngle(this.spherical.theta-m)+m);const _=Mc(i,c,d),v=Mc(s,u,h);return!(m===f&&_===p&&v===g||!isFinite(m)||!isFinite(_)||!isFinite(v)||(this.goalSpherical.theta=m,this.goalSpherical.phi=_,this.goalSpherical.radius=v,this.goalSpherical.makeSafe(),0))}setRadius(n){this.goalSpherical.radius=n,this.setOrbit()}setFieldOfView(n){const{minimumFieldOfView:i,maximumFieldOfView:s}=this._options;n=Mc(n,i,s),this.goalLogFov=Math.log(n)}setDamperDecayTime(n){this.thetaDamper.setDecayTime(n),this.phiDamper.setDecayTime(n),this.radiusDamper.setDecayTime(n),this.fovDamper.setDecayTime(n)}adjustOrbit(n,i,s){const{theta:a,phi:l,radius:c}=this.goalSpherical,{minimumRadius:d,maximumRadius:u,minimumFieldOfView:h,maximumFieldOfView:f}=this._options,p=this.spherical.theta-a,g=Math.PI-.001,m=a-Mc(n,-g-p,g-p),_=l-i,v=0===s?0:((s>0?u:d)-c)/(Math.log(s>0?f:h)-this.goalLogFov),y=c+s*(isFinite(v)?v:2*(u-d));this.setOrbit(m,_,y),0!==s&&this.setFieldOfView(Math.exp(this.goalLogFov+s))}jumpToGoal(){this.update(0,1e4)}update(n,i){if(this.isStationary())return!1;const{maximumPolarAngle:s,maximumRadius:a}=this._options,l=this.spherical.theta-this.goalSpherical.theta;return Math.abs(l)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(l)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,i,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,i,s),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,i,a),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,i,1),this.moveCamera(),!0}updateTouchActionStyle(){const{style:n}=this.element;if(this._interactionEnabled){const{touchAction:i}=this._options;n.touchAction=this._disableZoom&&"none"!==i?"manipulation":i}else n.touchAction=""}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new Ml(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix())}userAdjustOrbit(n,i,s){this.adjustOrbit(n*this.orbitSensitivity*this.inputSensitivity,i*this.orbitSensitivity*this.inputSensitivity,s*this.inputSensitivity)}wrapAngle(n){const i=(n+Math.PI)/(2*Math.PI);return 2*(i-Math.floor(i))*Math.PI-Math.PI}pixelLengthToSphericalAngle(n){return 2*Math.PI*n/this.scene.height}twoTouchDistance(n,i){const{clientX:s,clientY:a}=n,{clientX:l,clientY:c}=i,d=l-s,u=c-a;return Math.sqrt(d*d+u*u)}handleSinglePointerMove(n,i){const s=this.pixelLengthToSphericalAngle(n),a=this.pixelLengthToSphericalAngle(i);!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start"})),this.userAdjustOrbit(s,a,0)}initializePan(){const{theta:n,phi:i}=this.spherical,s=n-this.scene.yaw;this.panPerPixel=.018*this.panSensitivity/this.scene.height,this.panProjection.set(-Math.cos(s),-Math.cos(i)*Math.sin(s),0,0,Math.sin(i),0,Math.sin(s),-Math.cos(i)*Math.cos(s),0)}movePan(n,i){const{scene:s}=this,a=Jte.set(n,i,0).multiplyScalar(this.inputSensitivity),l=this.spherical.radius*Math.exp(this.logFov)*this.panPerPixel;a.multiplyScalar(l);const c=s.getTarget();c.add(a.applyMatrix3(this.panProjection)),s.boundingSphere.clampPoint(c,c),s.setTarget(c.x,c.y,c.z)}recenter(n){if(performance.now()>this.startTime+300||Math.abs(n.clientX-this.startPointerPosition.clientX)>2||Math.abs(n.clientY-this.startPointerPosition.clientY)>2)return;const{scene:i}=this,s=i.positionAndNormalFromPoint(i.getNDC(n.clientX,n.clientY));if(null==s){const{cameraTarget:a}=i.element;i.element.cameraTarget="",i.element.cameraTarget=a,this.userAdjustOrbit(0,0,1)}else i.target.worldToLocal(s.position),i.setTarget(s.position.x,s.position.y,s.position.z)}resetRadius(){const{scene:n}=this,i=n.positionAndNormalFromPoint(NWe.set(0,0));if(null==i)return;n.target.worldToLocal(i.position);const s=n.getTarget(),{theta:a,phi:l}=this.spherical,c=a-n.yaw,d=Jte.set(Math.sin(l)*Math.sin(c),Math.cos(l),Math.sin(l)*Math.cos(c)),u=d.dot(i.position.sub(s));s.add(d.multiplyScalar(u)),n.setTarget(s.x,s.y,s.z),this.setOrbit(void 0,void 0,this.goalSpherical.radius-u)}onTouchChange(n){if(1===this.pointers.length)this.touchMode=this.touchModeRotate;else{if(this._disableZoom)return this.touchMode=null,void this.element.removeEventListener("touchmove",this.disableScroll);this.touchMode=this.touchDecided&&null===this.touchMode?null:this.touchModeZoom,this.touchDecided=!0,this.element.addEventListener("touchmove",this.disableScroll,{passive:!1}),this.lastSeparation=this.twoTouchDistance(this.pointers[0],this.pointers[1]),this.enablePan&&null!=this.touchMode&&(this.initializePan(),n.altKey||(this.scene.element[JS].style.opacity=1))}}onMouseDown(n){this.panPerPixel=0,this.enablePan&&(2===n.button||n.ctrlKey||n.metaKey||n.shiftKey)&&(this.initializePan(),this.scene.element[JS].style.opacity=1),this.element.style.cursor="grabbing"}orbitZoomKeyCodeHandler(n){let i=!0;switch(n.key){case"PageUp":this.userAdjustOrbit(0,0,.04*this.zoomSensitivity);break;case"PageDown":this.userAdjustOrbit(0,0,-.04*this.zoomSensitivity);break;case"ArrowUp":this.userAdjustOrbit(0,-rI,0);break;case"ArrowDown":this.userAdjustOrbit(0,rI,0);break;case"ArrowLeft":this.userAdjustOrbit(-rI,0,0);break;case"ArrowRight":this.userAdjustOrbit(rI,0,0);break;default:i=!1}return i}panKeyCodeHandler(n){this.initializePan();let i=!0;switch(n.key){case"ArrowUp":this.movePan(0,-10);break;case"ArrowDown":this.movePan(0,10);break;case"ArrowLeft":this.movePan(-10,0);break;case"ArrowRight":this.movePan(10,0);break;default:i=!1}return i}}const qA=new N,C_=new vs,$We=new vt,QWe=new N,jWe=new Wr(45,1,.1,100),rne=(new pn).setFromPoints([new N(0,0,0),new N(0,0,-1)]),WWe=new bc;class qWe extends Ma{constructor(n){super(),this.renderer=n,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.overlay=null,this.xrLight=null,this.xrMode=null,this.controller1=null,this.controller2=null,this.selectedController=null,this.tracking=!0,this.frames=0,this.initialized=!1,this.oldTarget=new N,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastDragPosition=new N,this.relativeOrientation=new vs,this.scaleLine=new xc(rne),this.firstRatio=0,this.lastAngle=0,this.goalPosition=new N,this.goalYaw=0,this.goalScale=1,this.xDamper=new $o,this.yDamper=new $o,this.zDamper=new $o,this.yawDamper=new $o,this.pitchDamper=new $o,this.rollDamper=new $o,this.scaleDamper=new $o,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onControllerSelectStart=i=>{const s=this.presentedScene,a=i.target;if(null!=this.placementBox.controllerIntersection(s,a))null!=this.selectedController&&(this.selectedController.userData.line.visible=!1,s.canScale&&(this.isTwoFingering=!0,this.firstRatio=this.controllerSeparation()/s.pivot.scale.x,this.scaleLine.visible=!0)),a.attach(s.pivot),this.selectedController=a,s.setShadowIntensity(.01);else{const l=a===this.controller1?this.controller2:this.controller1;this.relativeOrientation.copy(a.quaternion).invert().multiply(s.pivot.getWorldQuaternion(C_)),l.userData.turning=!1,a.userData.turning=!0,a.userData.line.visible=!1}},this.onControllerSelectEnd=i=>{const s=i.target;if(s.userData.turning=!1,s.userData.line.visible=!0,this.isTwoFingering=!1,this.scaleLine.visible=!1,null!=this.selectedController&&this.selectedController!=s)return;const a=this.presentedScene;a.attach(a.pivot),this.selectedController=null,this.goalYaw=Math.atan2(a.pivot.matrix.elements[8],a.pivot.matrix.elements[10]),this.goalPosition.x=a.pivot.position.x,this.goalPosition.z=a.pivot.position.z},this.onUpdateScene=()=>{null!=this.placementBox&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new fte(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=i=>{const s=this.transientHitTestSource;if(null==s)return;const a=this.frame.getHitTestResultsForTransientInput(s),l=this.presentedScene,c=this.placementBox;if(1===a.length){this.inputSource=i.inputSource;const{axes:d}=this.inputSource.gamepad,u=c.getHit(this.presentedScene,d[0],d[1]);c.show=!0,null!=u?(this.isTranslating=!0,this.lastDragPosition.copy(u)):!1===this.placeOnWall&&(this.isRotating=!0,this.lastAngle=1.5*d[0])}else if(2===a.length){c.show=!0,this.isTwoFingering=!0;const{separation:d}=this.fingerPolar(a);this.firstRatio=d/l.pivot.scale.x}},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=n.threeRenderer,this.threeRenderer.xr.enabled=!0}resolveARSession(){var n=this;return ke(function*(){oee();const i=yield navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay","light-estimation"],domOverlay:n.overlay?{root:n.overlay}:void 0});return n.threeRenderer.xr.setReferenceSpaceType("local"),yield n.threeRenderer.xr.setSession(i),n.threeRenderer.xr.cameraAutoUpdate=!1,i})()}get presentedScene(){return this._presentedScene}supportsPresentation(){return ke(function*(){try{return oee(),yield navigator.xr.isSessionSupported("immersive-ar")}catch(n){return console.warn("Request to present in WebXR denied:"),console.warn(n),console.warn("Falling back to next ar-mode"),!1}})()}present(n,i=!1){var s=this;return ke(function*(){s.isPresenting&&console.warn("Cannot present while a model is already presenting");let a=new Promise((f,p)=>{requestAnimationFrame(()=>f())});n.setHotspotsVisibility(!1),n.queueRender(),yield a,s._presentedScene=n,s.overlay=n.element.shadowRoot.querySelector("div.default"),!0===i&&(s.xrLight=new Zje(s.threeRenderer),s.xrLight.addEventListener("estimationstart",()=>{if(!s.isPresenting||null==s.xrLight)return;const f=s.presentedScene;f.add(s.xrLight),f.environment=s.xrLight.environment}));const l=yield s.resolveARSession();l.addEventListener("end",()=>{s.postSessionCleanup()},{once:!0});const c=n.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");c.classList.add("enabled"),c.addEventListener("click",s.onExitWebXRButtonContainerClick),s.exitWebXRButtonContainer=c;const d=yield l.requestReferenceSpace("viewer");s.xrMode=l.interactionMode,s.tracking=!0,s.frames=0,s.initialized=!1,s.turntableRotation=n.yaw,s.goalYaw=n.yaw,s.goalScale=1,n.setBackground(null),s.oldShadowIntensity=n.shadowIntensity,n.setShadowIntensity(.01),s.oldTarget.copy(n.getTarget()),n.element.addEventListener("load",s.onUpdateScene);const u=20*Math.PI/180,h=!0===s.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(u),z:-Math.cos(u)});l.requestHitTestSource({space:d,offsetRay:h}).then(f=>{s.initialHitSource=f}),"screen-space"!==s.xrMode&&(s.setupControllers(),s.xDamper.setDecayTime(150),s.yDamper.setDecayTime(150),s.zDamper.setDecayTime(150),s.yawDamper.setDecayTime(150),s.pitchDamper.setDecayTime(150),s.rollDamper.setDecayTime(150)),s.currentSession=l,s.placementBox=new fte(n,s.placeOnWall?"back":"bottom"),s.placementComplete=!1,s.lastTick=performance.now(),s.dispatchEvent({type:"status",status:"session-started"})})()}setupControllers(){this.controller1=this.threeRenderer.xr.getController(0),this.controller1.addEventListener("selectstart",this.onControllerSelectStart),this.controller1.addEventListener("selectend",this.onControllerSelectEnd),this.controller2=this.threeRenderer.xr.getController(1),this.controller2.addEventListener("selectstart",this.onControllerSelectStart),this.controller2.addEventListener("selectend",this.onControllerSelectEnd);const n=this.presentedScene;if(n.add(this.controller1),n.add(this.controller2),!this.controller1.userData.line){const i=new xc(rne);i.name="line",i.scale.z=5,this.controller1.userData.turning=!1,this.controller1.userData.line=i,this.controller1.add(i),this.controller2.userData.turning=!1;const s=i.clone();this.controller2.userData.line=s,this.controller2.add(s),this.scaleLine.name="scale line",this.scaleLine.visible=!1,this.controller1.add(this.scaleLine);const{size:a}=n,l=.1/Math.max(a.x,a.y,a.z),c=new Vn(WWe);c.name="box",c.scale.copy(a).multiplyScalar(l),c.visible=!1,this.controller1.userData.box=c,n.add(c);const d=c.clone();this.controller2.userData.box=d,n.add(d)}}hover(n){if("screen-space"===this.xrMode||this.selectedController==n)return!1;const s=this.placementBox.controllerIntersection(this.presentedScene,n);return n.userData.box.visible=(null==s||n.userData.turning)&&!this.isTwoFingering,n.userData.line.scale.z=null==s?5:s.distance,null!=s}controllerSeparation(){return this.controller1.position.distanceTo(this.controller2.position)}stopPresenting(){var n=this;return ke(function*(){if(!n.isPresenting)return;const i=new Promise(s=>{n.resolveCleanup=s});try{yield n.currentSession.end(),yield i}catch(s){console.warn("Error while trying to end WebXR AR session"),console.warn(s),n.postSessionCleanup()}})()}get isPresenting(){return null!=this.presentedScene}get target(){return this.oldTarget}updateTarget(){const n=this.presentedScene;if(null!=n){const i=n.getTarget();this.oldTarget.copy(i),this.placeOnWall?i.z=n.boundingBox.min.z:i.y=n.boundingBox.min.y,n.setTarget(i.x,i.y,i.z)}}postSessionCleanup(){const n=this.currentSession;null!=n&&(n.removeEventListener("selectstart",this.onSelectStart),n.removeEventListener("selectend",this.onSelectEnd),this.currentSession=null);const i=this.presentedScene;if(this._presentedScene=null,null!=i){const{element:c}=i;null!=this.xrLight&&(i.remove(this.xrLight),this.xrLight.dispose(),this.xrLight=null),i.add(i.pivot),i.pivot.quaternion.set(0,0,0,1),i.pivot.position.set(0,0,0),i.pivot.scale.set(1,1,1),i.setShadowOffset(0);const d=this.turntableRotation;null!=d&&(i.yaw=d);const u=this.oldShadowIntensity;null!=u&&i.setShadowIntensity(u),i.setEnvironmentAndSkybox(c[OA],c[NA]);const h=this.oldTarget;i.setTarget(h.x,h.y,h.z),i.xrCamera=null,i.element.removeEventListener("load",this.onUpdateScene),i.orientHotspots(0);const{width:f,height:p}=c.getBoundingClientRect();i.setSize(f,p),requestAnimationFrame(()=>{i.element.dispatchEvent(new CustomEvent("camera-change",{detail:{source:Sr_NONE}}))})}this.renderer.height=0;const s=this.exitWebXRButtonContainer;null!=s&&(s.classList.remove("enabled"),s.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const a=this.transientHitTestSource;null!=a&&(a.cancel(),this.transientHitTestSource=null);const l=this.initialHitSource;null!=l&&(l.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),"screen-space"!==this.xrMode&&(null!=this.controller1&&(this.controller1.userData.turning=!1,this.controller1.userData.box.visible=!1,this.controller1.userData.line.visible=!0,this.controller1.removeEventListener("selectstart",this.onControllerSelectStart),this.controller1.removeEventListener("selectend",this.onControllerSelectEnd),this.controller1.removeFromParent(),this.controller1=null),null!=this.controller2&&(this.controller2.userData.turning=!1,this.controller2.userData.box.visible=!1,this.controller2.userData.line.visible=!0,this.controller2.removeEventListener("selectstart",this.onControllerSelectStart),this.controller2.removeEventListener("selectend",this.onControllerSelectEnd),this.controller2.removeFromParent(),this.controller2=null),this.selectedController=null,this.scaleLine.visible=!1),this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!1,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.frame=null,this.inputSource=null,this.overlay=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:"not-presenting"})}updateView(n){const i=this.presentedScene,s=this.threeRenderer.xr;s.updateCamera(jWe),i.xrCamera=s.getCamera();const{elements:a}=i.getCamera().matrixWorld;i.orientHotspots(Math.atan2(a[1],a[5])),this.initialized||(this.placeInitially(),this.initialized=!0),n.requestViewportScale&&n.recommendedViewportScale&&n.requestViewportScale(Math.max(n.recommendedViewportScale,.25));const l=s.getBaseLayer();if(null!=l){const c=l instanceof XRWebGLLayer?l.getViewport(n):s.getBinding().getViewSubImage(l,n).viewport;this.threeRenderer.setViewport(c.x,c.y,c.width,c.height)}}placeInitially(){const n=this.presentedScene,{pivot:i,element:s}=n,{position:a}=i,l=n.getCamera(),{width:c,height:d}=this.overlay.getBoundingClientRect();n.setSize(c,d),l.projectionMatrixInverse.copy(l.projectionMatrix).invert();const{theta:u}=s.getCameraOrbit(),h=l.getWorldDirection(qA);n.yaw=Math.atan2(-h.x,-h.z)-u,this.goalYaw=n.yaw;const f=Math.max(1,2*n.boundingSphere.radius);a.copy(l.position).add(h.multiplyScalar(f)),this.updateTarget();const p=n.getTarget();if(a.add(p).sub(this.oldTarget),this.goalPosition.copy(a),n.setHotspotsVisibility(!0),"screen-space"===this.xrMode){const{session:g}=this.frame;g.addEventListener("selectstart",this.onSelectStart),g.addEventListener("selectend",this.onSelectEnd),g.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(m=>{this.transientHitTestSource=m})}}getTouchLocation(){const{axes:n}=this.inputSource.gamepad;let i=this.placementBox.getExpandedHit(this.presentedScene,n[0],n[1]);return null!=i&&(qA.copy(i).sub(this.presentedScene.getCamera().position),qA.length()>10)?null:i}getHitPoint(n){const i=this.threeRenderer.xr.getReferenceSpace(),s=n.getPose(i);if(null==s)return null;const a=$We.fromArray(s.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(a.elements[4],a.elements[6])),a.elements[5]>.75!==this.placeOnWall?QWe.setFromMatrixPosition(a):null}moveToFloor(n){const i=this.initialHitSource;if(null==i)return;const s=n.getHitTestResults(i);if(0==s.length)return;const l=this.getHitPoint(s[0]);null!=l&&(this.placementBox.show=!0,this.isTranslating||(this.placeOnWall?this.goalPosition.copy(l):this.goalPosition.y=l.y),i.cancel(),this.initialHitSource=null,this.dispatchEvent({type:"status",status:"object-placed"}))}fingerPolar(n){const i=n[0].inputSource.gamepad.axes,s=n[1].inputSource.gamepad.axes,a=s[0]-i[0],l=s[1]-i[1],c=Math.atan2(l,a);let d=this.lastAngle-c;return d>Math.PI?d-=2*Math.PI:d<-Math.PI&&(d+=2*Math.PI),this.lastAngle=c,{separation:Math.sqrt(a*a+l*l),deltaYaw:d}}setScale(n){const i=n/this.firstRatio;this.goalScale=Math.abs(i-1)<.2?1:i}processInput(n){const i=this.transientHitTestSource;if(null==i||!this.isTranslating&&!this.isTwoFingering&&!this.isRotating)return;const s=n.getHitTestResultsForTransientInput(i),a=this.presentedScene,l=a.pivot.scale.x;if(this.isTwoFingering)if(s.length<2)this.isTwoFingering=!1;else{const{separation:c,deltaYaw:d}=this.fingerPolar(s);!1===this.placeOnWall&&(this.goalYaw+=d),a.canScale&&this.setScale(c)}else if(2!==s.length)if(this.isRotating){const c=1.5*this.inputSource.gamepad.axes[0];this.goalYaw+=c-this.lastAngle,this.lastAngle=c}else this.isTranslating&&s.forEach(c=>{if(c.inputSource!==this.inputSource)return;let d=null;if(c.results.length>0&&(d=this.getHitPoint(c.results[0])),null==d&&(d=this.getTouchLocation()),null!=d){if(this.goalPosition.sub(this.lastDragPosition),!1===this.placeOnWall){const u=d.y-this.lastDragPosition.y;if(u<0){this.placementBox.offsetHeight=u/l,this.presentedScene.setShadowOffset(u);const h=qA.copy(a.getCamera().position),f=-u/(h.y-d.y);h.multiplyScalar(f),d.multiplyScalar(1-f).add(h)}}this.goalPosition.add(d),this.lastDragPosition.copy(d)}});else{this.isTranslating=!1,this.isRotating=!1,this.isTwoFingering=!0;const{separation:c}=this.fingerPolar(s);this.firstRatio=c/l}}moveScene(n){const i=this.presentedScene,{pivot:s}=i,a=this.placementBox;if(a.updateOpacity(n),this.controller1&&(this.controller1.userData.turning&&(s.quaternion.copy(this.controller1.quaternion).multiply(this.relativeOrientation),this.selectedController&&this.selectedController===this.controller2&&s.quaternion.premultiply(C_.copy(this.controller2.quaternion).invert())),this.controller1.userData.box.position.copy(this.controller1.position),s.getWorldQuaternion(this.controller1.userData.box.quaternion)),this.controller2&&(this.controller2.userData.turning&&(s.quaternion.copy(this.controller2.quaternion).multiply(this.relativeOrientation),this.selectedController&&this.selectedController===this.controller1&&s.quaternion.premultiply(C_.copy(this.controller1.quaternion).invert())),this.controller2.userData.box.position.copy(this.controller2.position),s.getWorldQuaternion(this.controller2.userData.box.quaternion)),this.controller1&&this.controller2&&this.isTwoFingering){const g=this.controllerSeparation();this.setScale(g),this.scaleLine.scale.z=-g,this.scaleLine.lookAt(this.controller2.position)}const l=i.pivot.scale.x;if(this.goalScale!==l){const g=this.scaleDamper.update(l,this.goalScale,n,1);i.pivot.scale.set(g,g,g)}if(s.parent!==i)return;const{position:c}=s,d=i.boundingSphere.radius,u=this.goalPosition;let h=Sr_NONE;if(!u.equals(c)){h=Sr_USER_INTERACTION;let{x:g,y:m,z:_}=c;if(g=this.xDamper.update(g,u.x,n,d),m=this.yDamper.update(m,u.y,n,d),_=this.zDamper.update(_,u.z,n,d),c.set(g,m,_),"screen-space"===this.xrMode&&!this.isTranslating){const v=u.y-m;this.placementComplete&&!1===this.placeOnWall?(a.offsetHeight=v/i.pivot.scale.x,i.setShadowOffset(v)):0===v&&(this.placementComplete=!0,a.show=!1,i.setShadowIntensity(.8))}"screen-space"!==this.xrMode&&u.equals(c)&&i.setShadowIntensity(.8)}i.updateTarget(n),C_.setFromAxisAngle(qA.set(0,1,0),this.goalYaw);const f=i.pivot.quaternion.angleTo(C_),p=f-this.yawDamper.update(f,0,n,Math.PI);i.pivot.quaternion.rotateTowards(C_,p),i.element.dispatchEvent(new CustomEvent("camera-change",{detail:{source:h}}))}onWebXRFrame(n,i){if("screen-space"!==this.xrMode){const d=this.hover(this.controller1),u=this.hover(this.controller2);this.placementBox.show=(d||u)&&!this.isTwoFingering}this.frame=i,++this.frames;const s=this.threeRenderer.xr.getReferenceSpace(),a=i.getViewerPose(s);null==a&&!0===this.tracking&&this.frames>30&&(this.tracking=!1,this.dispatchEvent({type:"tracking",status:"not-tracking"}));const l=this.presentedScene;if(null==a||null==l||!l.element.loaded)return void this.threeRenderer.clear();!1===this.tracking&&(this.tracking=!0,this.dispatchEvent({type:"tracking",status:"tracking"}));let c=!0;for(const d of a.views){if(this.updateView(d),c){this.moveToFloor(i),this.processInput(i);const u=n-this.lastTick;this.moveScene(u),this.renderer.preRender(l,n,u),this.lastTick=n,l.renderShadow(this.threeRenderer)}this.threeRenderer.render(l,l.getCamera()),c=!1}}}function XWe(r){const n=new Map,i=new Map,s=r.clone();return one(r,s,function(a,l){n.set(l,a),i.set(a,l)}),s.traverse(function(a){if(!a.isSkinnedMesh)return;const l=a,c=n.get(a),d=c.skeleton.bones;l.skeleton=c.skeleton.clone(),l.bindMatrix.copy(c.bindMatrix),l.skeleton.bones=d.map(function(u){return i.get(u)}),l.bind(l.skeleton,l.bindMatrix)}),s}function one(r,n,i){i(r,n);for(let s=0;s<r.children.length;s++)one(r.children[s],n.children[s],i)}const ane=Symbol("prepared"),lI=Symbol("prepare"),Dc=Symbol("preparedGLTF"),cI=Symbol("clone");class ZWe{constructor(n){this[Dc]=n}static prepare(n){if(null==n.scene)throw new Error("Model does not have a scene");if(n[ane])return n;const i=this[lI](n);return i[ane]=!0,i}static[lI](n){const{scene:i}=n,s=[i];return Object.assign(Object.assign({},n),{scene:i,scenes:s})}get parser(){return this[Dc].parser}get animations(){return this[Dc].animations}get scene(){return this[Dc].scene}get scenes(){return this[Dc].scenes}get cameras(){return this[Dc].cameras}get asset(){return this[Dc].asset}get userData(){return this[Dc].userData}clone(){return new(0,this.constructor)(this[cI]())}dispose(){this.scenes.forEach(n=>{n.traverse(i=>{const s=i;s.material&&((Array.isArray(s.material)?s.material:[s.material]).forEach(l=>{for(const c in l){const d=l[c];if(d instanceof ur){const u=d.source.data;null!=u.close&&u.close(),d.dispose()}}l.dispose()}),s.geometry.dispose())})})}[cI](){const n=this[Dc],i=XWe(this.scene);JWe(i,this.scene);const s=[i],a=n.userData?Object.assign({},n.userData):{};return Object.assign(Object.assign({},n),{scene:i,scenes:s,userData:a})}}const JWe=(r,n)=>{lne(r,n,(i,s)=>{void 0!==s.userData.variantMaterials&&(i.userData.variantMaterials=new Map(s.userData.variantMaterials)),void 0!==s.userData.variantData&&(i.userData.variantData=s.userData.variantData),void 0!==s.userData.originalMaterial&&(i.userData.originalMaterial=s.userData.originalMaterial)})},lne=(r,n,i)=>{i(r,n);for(let s=0;s<r.children.length;s++)lne(r.children[s],n.children[s],i)},cne=Symbol("threeGLTF"),dne=Symbol("gltf"),une=Symbol("gltfElementMap"),hne=Symbol("threeObjectMap"),fne=Symbol("parallelTraverseThreeScene"),pne=Symbol("correlateOriginalThreeGLTF"),mne=Symbol("correlateCloneThreeGLTF");class YA{constructor(n,i,s,a){this[cne]=n,this[dne]=i,this[une]=a,this[hne]=s}static from(n,i){return null!=i?this[mne](n,i):this[pne](n)}static[pne](n){const i=n.parser.json,s=n.parser.associations,a=new Map,l={name:"Default"},c={type:"materials",index:-1};for(const d of s.keys())d instanceof bs&&null==s.get(d)&&(c.index<0&&(null==i.materials&&(i.materials=[]),c.index=i.materials.length,i.materials.push(l)),d.name=l.name,s.set(d,{materials:c.index}));for(const[d,u]of s){u&&(d.userData=d.userData||{},d.userData.associations=u);for(const h in u)if(null!=h&&"primitives"!==h){const g=(i[h]||[])[u[h]];if(null==g)continue;let m=a.get(g);null==m&&(m=new Set,a.set(g,m)),m.add(d)}}return new YA(n,i,s,a)}static[mne](n,i){const s=i.threeGLTF,l=JSON.parse(JSON.stringify(i.gltf)),c=new Map,d=new Map;for(let u=0;u<s.scenes.length;u++)this[fne](s.scenes[u],n.scenes[u],(h,f)=>{const p=i.threeObjectMap.get(h);if(null!=p)for(const g in p)if(null!=g&&"primitives"!==g){const m=g,_=p[m],v=l[m][_],y=c.get(f)||{};y[m]=_,c.set(f,y);const b=d.get(v)||new Set;b.add(f),d.set(v,b)}});return new YA(n,l,c,d)}static[fne](n,i,s){const a=(l,c)=>{if(s(l,c),l.isObject3D){const d=l,u=c;if(d.material)if(Array.isArray(d.material))for(let h=0;h<d.material.length;++h)s(d.material[h],u.material[h]);else s(d.material,u.material);for(let h=0;h<l.children.length;++h)a(l.children[h],c.children[h])}};a(n,i)}get threeGLTF(){return this[cne]}get gltf(){return this[dne]}get gltfElementMap(){return this[une]}get threeObjectMap(){return this[hne]}}const XA=Symbol("correlatedSceneGraph");class e9e extends ZWe{static[lI](n){const i=super[lI](n);null==i[XA]&&(i[XA]=YA.from(i));const{scene:s}=i,a=new ks(void 0,1/0);return s.traverse(l=>{l.renderOrder=1e3,l.frustumCulled=!1,l.name||(l.name=l.uuid);const c=l;if(c.material){const{geometry:d}=c;c.castShadow=!0,c.isSkinnedMesh&&(d.boundingSphere=a,d.boundingBox=null);const u=c.material;if(!0===u.isMeshBasicMaterial&&(u.toneMapped=!1),u.shadowSide=0,u.aoMap){const{gltf:h,threeObjectMap:f}=i[XA],p=f.get(u);if(null!=h.materials&&null!=p&&null!=p.materials){const g=h.materials[p.materials];g.occlusionTexture&&0===g.occlusionTexture.texCoord&&null!=d.attributes.uv&&d.setAttribute("uv2",d.attributes.uv)}}}}),i}get correlatedSceneGraph(){return this[Dc][XA]}[cI](){const n=super[cI](),i=new Map;return n.scene.traverse(s=>{const a=s;if(a.material){const c=a.material;if(null!=c){if(i.has(c.uuid))return void(a.material=i.get(c.uuid));a.material=c.clone(),i.set(c.uuid,a.material)}}void 0!==s.target&&s.add(s.target)}),n[XA]=YA.from(n,this.correlatedSceneGraph),n}}const gne=(r,n,i)=>{let s;switch(r){case Cr:s=new Uint8ClampedArray(n*i*4);break;case ys:s=new Uint16Array(n*i*4);break;case vd:s=new Uint32Array(n*i*4);break;case 1010:s=new Int8Array(n*i*4);break;case 1011:s=new Int16Array(n*i*4);break;case 1013:s=new Int32Array(n*i*4);break;case Er:s=new Float32Array(n*i*4);break;default:throw new Error("Unsupported data type")}return s};let dI;class RL{constructor(n){var i,s,a,l,c,d,u,h,f,p,g,m,_,v,y,b;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(x){throw this._renderer.setRenderTarget(null),x}this._renderer.setRenderTarget(null)},this._width=n.width,this._height=n.height,this._type=n.type,this._colorSpace=n.colorSpace;const A={format:Ni,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:void 0!==(null===(i=n.renderTargetOptions)||void 0===i?void 0:i.anisotropy)?null===(s=n.renderTargetOptions)||void 0===s?void 0:s.anisotropy:1,generateMipmaps:void 0!==(null===(a=n.renderTargetOptions)||void 0===a?void 0:a.generateMipmaps)&&(null===(l=n.renderTargetOptions)||void 0===l?void 0:l.generateMipmaps),magFilter:void 0!==(null===(c=n.renderTargetOptions)||void 0===c?void 0:c.magFilter)?null===(d=n.renderTargetOptions)||void 0===d?void 0:d.magFilter:zn,minFilter:void 0!==(null===(u=n.renderTargetOptions)||void 0===u?void 0:u.minFilter)?null===(h=n.renderTargetOptions)||void 0===h?void 0:h.minFilter:zn,samples:void 0!==(null===(f=n.renderTargetOptions)||void 0===f?void 0:f.samples)?null===(p=n.renderTargetOptions)||void 0===p?void 0:p.samples:void 0,wrapS:void 0!==(null===(g=n.renderTargetOptions)||void 0===g?void 0:g.wrapS)?null===(m=n.renderTargetOptions)||void 0===m?void 0:m.wrapS:xr,wrapT:void 0!==(null===(_=n.renderTargetOptions)||void 0===_?void 0:_.wrapT)?null===(v=n.renderTargetOptions)||void 0===v?void 0:v.wrapT:xr};if(this._material=n.material,n.renderer?this._renderer=n.renderer:(this._renderer=RL.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Id,this._camera=new Pf,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!((r,n,i,s)=>{if(void 0!==dI)return dI;const a=new Lo(1,1,s);n.setRenderTarget(a);const l=new Vn(new Il,new Gs({color:16777215}));n.render(l,i),n.setRenderTarget(null);const c=gne(r,a.width,a.height);return n.readRenderTargetPixels(a,0,0,a.width,a.height,c),a.dispose(),l.geometry.dispose(),l.material.dispose(),dI=0!==c[0],dI})(this._type,this._renderer,this._camera,A)){let x;this._type===ys&&(x=this._renderer.extensions.has("EXT_color_buffer_float")?Er:void 0),void 0!==x?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to 1015`),this._type=x):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Vn(new Il,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new Lo(this.width,this.height,A),this._renderTarget.texture.mapping=void 0!==(null===(y=n.renderTargetOptions)||void 0===y?void 0:y.mapping)?null===(b=n.renderTargetOptions)||void 0===b?void 0:b.mapping:300}static instantiateRenderer(){const n=new zN;return n.setSize(128,128),n}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const n=gne(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,n),n}toDataTexture(n){const i=new Tl(this.toArray(),this.width,this.height,Ni,this._type,n?.mapping||300,n?.wrapS||xr,n?.wrapT||xr,n?.magFilter||zn,n?.minFilter||zn,n?.anisotropy||1,ki);return i.generateMipmaps=void 0!==n?.generateMipmaps&&n?.generateMipmaps,i}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(n){this.disposeOnDemandRenderer(),n&&this.renderTarget.dispose(),this.material instanceof ro&&Object.values(this.material.uniforms).forEach(i=>{i.value instanceof ur&&i.value.dispose()}),Object.values(this.material).forEach(i=>{i instanceof ur&&i.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(n){this._width=n,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(n){this._height=n,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(n){this._renderTarget=n,this._width=n.width,this._height=n.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class _ne extends ro{constructor({gamma:n,offsetHdr:i,offsetSdr:s,gainMapMin:a,gainMapMax:l,maxDisplayBoost:c,hdrCapacityMin:d,hdrCapacityMax:u,sdr:h,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:"\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"\n// min half float value\n#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )\n// max half float value\n#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )\n\nuniform sampler2D sdr;\nuniform sampler2D gainMap;\nuniform vec3 gamma;\nuniform vec3 offsetHdr;\nuniform vec3 offsetSdr;\nuniform vec3 gainMapMin;\nuniform vec3 gainMapMax;\nuniform float weightFactor;\n\nvarying vec2 vUv;\n\nvoid main() {\n  vec3 rgb = texture2D( sdr, vUv ).rgb;\n  vec3 recovery = texture2D( gainMap, vUv ).rgb;\n  vec3 logRecovery = pow( recovery, gamma );\n  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;\n  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;\n  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));\n  gl_FragColor = vec4( clampedHdrColor , 1.0 );\n}\n",uniforms:{sdr:{value:h},gainMap:{value:f},gamma:{value:new N(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:(new N).fromArray(i)},offsetSdr:{value:(new N).fromArray(s)},gainMapMin:{value:(new N).fromArray(a)},gainMapMax:{value:(new N).fromArray(l)},weightFactor:{value:(Math.log2(c)-d)/(u-d)}},blending:0,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=c,this._hdrCapacityMin=d,this._hdrCapacityMax=u,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const i=this.uniforms.gamma.value;i.x=1/n[0],i.y=1/n[1],i.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class yne extends Error{}class vne extends Error{}const KA=(r,n,i)=>{const s=new RegExp(`${n}="([^"]*)"`,"i").exec(r);if(s)return s[1];const a=new RegExp(`<${n}[^>]*>([\\s\\S]*?)</${n}>`,"i").exec(r);if(a){const l=a[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return l&&3===l.length?l.map(c=>c.replace(/<\/?rdf:li>/g,"")):a[1].trim()}if(void 0!==i)return i;throw new Error(`Can't find ${n} in gainmap metadata`)};class s9e{constructor(n){this.options={debug:!(!n||void 0===n.debug)&&n.debug,extractFII:!n||void 0===n.extractFII||n.extractFII,extractNonFII:!n||void 0===n.extractNonFII||n.extractNonFII}}extract(n){return new Promise((i,s)=>{const a=this.options.debug,l=new DataView(n.buffer);if(65496!==l.getUint16(0))return void s(new Error("Not a valid jpeg"));const c=l.byteLength;let h,d=2,u=0;for(;d<c;){if(++u>250)return void s(new Error(`Found no marker after ${u} loops \u{1f635}`));if(255!==l.getUint8(d))return void s(new Error(`Not a valid marker at offset 0x${d.toString(16)}, found: 0x${l.getUint8(d).toString(16)}`));if(h=l.getUint8(d+1),a&&console.log(`Marker: ${h.toString(16)}`),226===h){a&&console.log("Found APP2 marker (0xffe2)");const f=d+4;if(1297106432===l.getUint32(f)){const p=f+4;let g;if(18761===l.getUint16(p))g=!1;else{if(19789!==l.getUint16(p))return void s(new Error("No valid endianness marker found in TIFF header"));g=!0}if(42!==l.getUint16(p+2,!g))return void s(new Error("Not valid TIFF data! (no 0x002A marker)"));const m=l.getUint32(p+4,!g);if(m<8)return void s(new Error("Not valid TIFF data! (First offset less than 8)"));const _=p+m,v=l.getUint16(_,!g),y=_+2;let b=0;for(let E=y;E<y+12*v;E+=12)45057===l.getUint16(E,!g)&&(b=l.getUint32(E+8,!g));const x=_+2+12*v+4,w=[];for(let E=x;E<x+16*b;E+=16){const M={MPType:l.getUint32(E,!g),size:l.getUint32(E+4,!g),dataOffset:l.getUint32(E+8,!g),dependantImages:l.getUint32(E+12,!g),start:-1,end:-1,isFII:!1};M.dataOffset?(M.start=p+M.dataOffset,M.isFII=!1):(M.start=0,M.isFII=!0),M.end=M.start+M.size,w.push(M)}if(this.options.extractNonFII&&w.length){const E=new Blob([l]),M=[];for(const S of w){if(S.isFII&&!this.options.extractFII)continue;const T=E.slice(S.start,S.end+1,"image/jpeg");M.push(T)}i(M)}}}d+=2+l.getUint16(d+2)}})}}const o9e=function(){var r=ke(function*(n){const i=(r=>{let n;n=typeof TextDecoder<"u"?(new TextDecoder).decode(r):r.toString();let i=n.indexOf("<x:xmpmeta");for(;-1!==i;){const s=n.indexOf("x:xmpmeta>",i),a=n.slice(i,s+10);try{const l=KA(a,"hdrgm:GainMapMin","0"),c=KA(a,"hdrgm:GainMapMax"),d=KA(a,"hdrgm:Gamma","1"),u=KA(a,"hdrgm:OffsetSDR","0.015625"),h=KA(a,"hdrgm:OffsetHDR","0.015625"),f=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(a),p=f?f[1]:"0",g=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(a);if(!g)throw new Error("Incomplete gainmap metadata");const m=g[1];return{gainMapMin:Array.isArray(l)?l.map(_=>parseFloat(_)):[parseFloat(l),parseFloat(l),parseFloat(l)],gainMapMax:Array.isArray(c)?c.map(_=>parseFloat(_)):[parseFloat(c),parseFloat(c),parseFloat(c)],gamma:Array.isArray(d)?d.map(_=>parseFloat(_)):[parseFloat(d),parseFloat(d),parseFloat(d)],offsetSdr:Array.isArray(u)?u.map(_=>parseFloat(_)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetHdr:Array.isArray(h)?h.map(_=>parseFloat(_)):[parseFloat(h),parseFloat(h),parseFloat(h)],hdrCapacityMin:parseFloat(p),hdrCapacityMax:parseFloat(m)}}catch{}i=n.indexOf("<x:xmpmeta",s)}})(n);if(!i)throw new vne("Gain map XMP metadata not found");const a=yield new s9e({extractFII:!0,extractNonFII:!0}).extract(n);if(2!==a.length)throw new yne("Gain map recovery image not found");return{sdr:new Uint8Array(yield a[0].arrayBuffer()),gainMap:new Uint8Array(yield a[1].arrayBuffer()),metadata:i}});return function(i){return r.apply(this,arguments)}}(),bne=r=>new Promise((n,i)=>{const s=document.createElement("img");s.onload=()=>{n(s)},s.onerror=a=>{i(a)},s.src=URL.createObjectURL(r)});class a9e extends oo{constructor(n,i){super(i),n&&(this._renderer=n),this._internalLoadingManager=new AB}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=new _ne({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ur,sdr:new ur});return new RL({width:16,height:16,type:ys,colorSpace:ki,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}render(n,i,s,a){return ke(function*(){const l=a?new Blob([a],{type:"image/jpeg"}):void 0,c=new Blob([s],{type:"image/jpeg"});let d,u,h=!1;if(typeof createImageBitmap>"u"){const g=yield Promise.all([l?bne(l):Promise.resolve(void 0),bne(c)]);u=g[0],d=g[1],h=!0}else{const g=yield Promise.all([l?createImageBitmap(l,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(c,{imageOrientation:"flipY"})]);u=g[0],d=g[1]}const f=new ur(u||new ImageData(2,2),300,xr,xr,zn,1008,Ni,Cr,1,ki);f.flipY=h,f.needsUpdate=!0;const p=new ur(d,300,xr,xr,zn,1008,Ni,Cr,1,ji);p.flipY=h,p.needsUpdate=!0,n.width=d.width,n.height=d.height,n.material.gainMap=f,n.material.sdr=p,n.material.gainMapMin=i.gainMapMin,n.material.gainMapMax=i.gainMapMax,n.material.offsetHdr=i.offsetHdr,n.material.offsetSdr=i.offsetSdr,n.material.gamma=i.gamma,n.material.hdrCapacityMin=i.hdrCapacityMin,n.material.hdrCapacityMax=i.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,i.hdrCapacityMax),n.material.needsUpdate=!0,n.render()})()}}class l9e extends a9e{load(n,i,s,a){var l=this;const c=this.prepareQuadRenderer(),d=new ao(this._internalLoadingManager);return d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setPath(this.path),d.setWithCredentials(this.withCredentials),this.manager.itemStart(n),d.load(n,function(){var u=ke(function*(h){if("string"==typeof h)throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const f=new Uint8Array(h);let p,g,m;try{const _=yield o9e(f);p=_.sdr,g=_.gainMap,m=_.metadata}catch(_){if(!(_ instanceof vne||_ instanceof yne))throw _;console.warn(`Failure to reconstruct an HDR image from ${n}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),m={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},p=f}try{yield l.render(c,m,p,g)}catch(_){return l.manager.itemError(n),"function"==typeof a&&a(_),void c.disposeOnDemandRenderer()}"function"==typeof i&&i(c),l.manager.itemEnd(n),c.disposeOnDemandRenderer()});return function(h){return u.apply(this,arguments)}}(),s,u=>{this.manager.itemError(n),"function"==typeof a&&a(u)}),c}}class c9e extends _$e{constructor(n){super(n),this.type=ys}parse(n){const c=function(T,P){switch(T){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},p=function(T,P,C){P=P||1024;let k=T.pos,O=-1,z=0,q="",R=String.fromCharCode.apply(null,new Uint16Array(T.subarray(k,k+128)));for(;0>(O=R.indexOf("\n"))&&z<P&&k<T.byteLength;)q+=R,z+=R.length,k+=128,R+=String.fromCharCode.apply(null,new Uint16Array(T.subarray(k,k+128)));return-1<O&&(!1!==C&&(T.pos+=z+O+1),q+R.slice(0,O))},_=function(T,P,C,I){const O=Math.pow(2,T[P+3]-128)/255;C[I+0]=T[P+0]*O,C[I+1]=T[P+1]*O,C[I+2]=T[P+2]*O,C[I+3]=1},v=function(T,P,C,I){const O=Math.pow(2,T[P+3]-128)/255;C[I+0]=NM.toHalfFloat(Math.min(T[P+0]*O,65504)),C[I+1]=NM.toHalfFloat(Math.min(T[P+1]*O,65504)),C[I+2]=NM.toHalfFloat(Math.min(T[P+2]*O,65504)),C[I+3]=NM.toHalfFloat(1)},y=new Uint8Array(n);y.pos=0;const b=function(T){const P=/^#\?(\S+)/,C=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*FORMAT=(\S+)\s*$/,O=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,z={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let q,R;for((T.pos>=T.byteLength||!(q=p(T)))&&c(1,"no header found"),(R=q.match(P))||c(3,"bad initial token"),z.valid|=1,z.programtype=R[1],z.string+=q+"\n";q=p(T),!1!==q;)if(z.string+=q+"\n","#"!==q.charAt(0)){if((R=q.match(C))&&(z.gamma=parseFloat(R[1])),(R=q.match(I))&&(z.exposure=parseFloat(R[1])),(R=q.match(k))&&(z.valid|=2,z.format=R[1]),(R=q.match(O))&&(z.valid|=4,z.height=parseInt(R[1],10),z.width=parseInt(R[2],10)),2&z.valid&&4&z.valid)break}else z.comments+=q+"\n";return 2&z.valid||c(3,"missing format specifier"),4&z.valid||c(3,"missing image size specifier"),z}(y),A=b.width,x=b.height,w=function(T,P,C){const I=P;if(I<8||I>32767||2!==T[0]||2!==T[1]||128&T[2])return new Uint8Array(T);I!==(T[2]<<8|T[3])&&c(3,"wrong scanline width");const k=new Uint8Array(4*P*C);k.length||c(4,"unable to allocate buffer space");let O=0,z=0;const q=4*I,R=new Uint8Array(4),V=new Uint8Array(q);let U=C;for(;U>0&&z<T.byteLength;){z+4>T.byteLength&&c(1),R[0]=T[z++],R[1]=T[z++],R[2]=T[z++],R[3]=T[z++],(2!=R[0]||2!=R[1]||(R[2]<<8|R[3])!=I)&&c(3,"bad rgbe scanline format");let ae,X=0;for(;X<q&&z<T.byteLength;){ae=T[z++];const Pe=ae>128;if(Pe&&(ae-=128),(0===ae||X+ae>q)&&c(3,"bad scanline data"),Pe){const Ve=T[z++];for(let ie=0;ie<ae;ie++)V[X++]=Ve}else V.set(T.subarray(z,z+ae),X),X+=ae,z+=ae}const fe=I;for(let Pe=0;Pe<fe;Pe++){let Ve=0;k[O]=V[Pe+Ve],Ve+=I,k[O+1]=V[Pe+Ve],Ve+=I,k[O+2]=V[Pe+Ve],Ve+=I,k[O+3]=V[Pe+Ve],O+=4}U--}return k}(y.subarray(y.pos),A,x);let E,M,S;switch(this.type){case Er:S=w.length/4;const T=new Float32Array(4*S);for(let C=0;C<S;C++)_(w,4*C,T,4*C);E=T,M=Er;break;case ys:S=w.length/4;const P=new Uint16Array(4*S);for(let C=0;C<S;C++)v(w,4*C,P,4*C);E=P,M=ys;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:A,height:x,data:E,header:b.string,gamma:b.gamma,exposure:b.exposure,type:M}}setDataType(n){return this.type=n,this}load(n,i,s,a){return super.load(n,function l(c,d){switch(c.type){case Er:case ys:c.colorSpace=ki,c.minFilter=zn,c.magFilter=zn,c.generateMipmaps=!1,c.flipY=!0}i&&i(c,d)},s,a)}}const d9e={topLight:{intensity:500,position:[.418,16.199,.3]},room:{position:[-.757,13.219,.717],scale:[31.713,28.305,28.591]},boxes:[{position:[-10.906,2.009,1.846],rotation:-.195,scale:[2.328,7.905,4.651]},{position:[-5.607,-.754,-.758],rotation:.994,scale:[1.97,1.534,3.955]},{position:[6.167,.857,7.803],rotation:.561,scale:[3.927,6.285,3.687]},{position:[-2.017,.018,6.124],rotation:.333,scale:[2.002,4.566,2.064]},{position:[2.291,-.756,-2.621],rotation:-.286,scale:[1.546,1.552,1.496]},{position:[-2.193,-.369,-5.547],rotation:.516,scale:[3.875,3.487,2.986]}],lights:[{intensity:50,position:[-16.116,14.37,8.208],scale:[.1,2.428,2.739]},{intensity:50,position:[-16.109,18.021,-8.207],scale:[.1,2.425,2.751]},{intensity:17,position:[14.904,12.198,-1.832],scale:[.15,4.265,6.331]},{intensity:43,position:[-.462,8.89,14.52],scale:[4.38,5.441,.088]},{intensity:20,position:[3.235,11.486,-12.541],scale:[2.5,2,.1]},{intensity:100,position:[0,20,0],scale:[1,.1,1]}]},u9e={topLight:{intensity:400,position:[.5,14,.5]},room:{position:[0,13.2,0],scale:[31.5,28.5,31.5]},boxes:[{position:[-10.906,-1,1.846],rotation:-.195,scale:[2.328,7.905,4.651]},{position:[-5.607,-.754,-.758],rotation:.994,scale:[1.97,1.534,3.955]},{position:[6.167,-.16,7.803],rotation:.561,scale:[3.927,6.285,3.687]},{position:[-2.017,.018,6.124],rotation:.333,scale:[2.002,4.566,2.064]},{position:[2.291,-.756,-2.621],rotation:-.286,scale:[1.546,1.552,1.496]},{position:[-2.193,-.369,-5.547],rotation:.516,scale:[3.875,3.487,2.986]}],lights:[{intensity:80,position:[-14,10,8],scale:[.1,2.5,2.5]},{intensity:80,position:[-14,14,-4],scale:[.1,2.5,2.5]},{intensity:23,position:[14,12,0],scale:[.1,5,5]},{intensity:16,position:[0,9,14],scale:[5,5,.1]},{intensity:80,position:[7,8,-14],scale:[2.5,2.5,.1]},{intensity:80,position:[-7,16,-14],scale:[2.5,2.5,.1]},{intensity:1,position:[0,20,0],scale:[.1,.1,.1]}]};class Ane extends Id{constructor(n){super(),this.position.y=-3.5;const i=new bc;i.deleteAttribute("uv");const s=new s_({metalness:0,side:1}),a=new s_({metalness:0}),l="legacy"==n?d9e:u9e,c=new EB(16777215,l.topLight.intensity,28,2);c.position.set(...l.topLight.position),this.add(c);const d=new Vn(i,s);d.position.set(...l.room.position),d.scale.set(...l.room.scale),this.add(d);for(const u of l.boxes){const h=new Vn(i,a);h.position.set(...u.position),h.rotation.set(0,u.rotation,0),h.scale.set(...u.scale),this.add(h)}for(const u of l.lights){const h=new Vn(i,this.createAreaLightMaterial(u.intensity));h.position.set(...u.position),h.scale.set(...u.scale),this.add(h)}}createAreaLightMaterial(n){const i=new Gs;return i.color.setScalar(n),i}}const f9e=/\.hdr(\.js)?$/;class xne{constructor(n){this.threeRenderer=n,this.lottieLoaderUrl="",this._ldrLoader=null,this._imageLoader=null,this._hdrLoader=null,this._lottieLoader=null,this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.blurMaterial=null,this.blurScene=null}ldrLoader(n){return null==this._ldrLoader&&(this._ldrLoader=new nJ),this._ldrLoader.setWithCredentials(n),this._ldrLoader}imageLoader(n){return null==this._imageLoader&&(this._imageLoader=new l9e(this.threeRenderer)),this._imageLoader.setWithCredentials(n),this._imageLoader}hdrLoader(n){return null==this._hdrLoader&&(this._hdrLoader=new c9e,this._hdrLoader.setDataType(ys)),this._hdrLoader.setWithCredentials(n),this._hdrLoader}getLottieLoader(n){var i=this;return ke(function*(){if(null==i._lottieLoader){const{LottieLoader:s}=yield import(i.lottieLoaderUrl);i._lottieLoader=new s}return i._lottieLoader.setWithCredentials(n),i._lottieLoader})()}loadImage(n,i){var s=this;return ke(function*(){const a=yield new Promise((l,c)=>s.ldrLoader(i).load(n,l,()=>{},c));return a.name=n,a.flipY=!1,a})()}loadLottie(n,i,s){var a=this;return ke(function*(){const l=yield a.getLottieLoader(s);l.setQuality(i);const c=yield new Promise((d,u)=>l.load(n,d,()=>{},u));return c.name=n,c})()}loadEquirect(n,i=!1,s=()=>{}){var a=this;return ke(function*(){try{const l=f9e.test(n),c=l?a.hdrLoader(i):a.imageLoader(i),d=yield new Promise((u,h)=>c.load(n,f=>{const{renderTarget:p}=f;if(null!=p){const{texture:g}=p;f.dispose(!1),u(g)}else u(f)},f=>{s(f.loaded/f.total*.9)},h));return s(1),d.name=n,d.mapping=303,l||(d.colorSpace=ji),d}finally{s&&s(1)}})()}generateEnvironmentMapAndSkybox(n=null,i=null,s=()=>{},a=!1){var l=this;return ke(function*(){const c="legacy"!==i;("legacy"===i||"neutral"===i)&&(i=null),i=see(i);let u,d=Promise.resolve(null);n&&(d=l.loadEquirectFromUrl(n,a,s)),u=i?l.loadEquirectFromUrl(i,a,s):n?l.loadEquirectFromUrl(n,a,s):c?l.loadGeneratedEnvironmentMapAlt():l.loadGeneratedEnvironmentMap();const[h,f]=yield Promise.all([u,d]);if(null==h)throw new Error("Failed to load environment map.");return{environmentMap:h,skybox:f}})()}loadEquirectFromUrl(n,i,s){var a=this;return ke(function*(){if(!a.skyboxCache.has(n)){const l=a.loadEquirect(n,i,s);a.skyboxCache.set(n,l)}return a.skyboxCache.get(n)})()}GenerateEnvironmentMap(n,i){var s=this;return ke(function*(){yield((r=0)=>new Promise(n=>setTimeout(n,r)))();const a=s.threeRenderer,l=new SN(256,{generateMipmaps:!1,type:ys,format:Ni,colorSpace:ki,depthBuffer:!0}),c=new MN(.1,100,l),d=c.renderTarget.texture;d.name=i;const u=a.outputColorSpace,h=a.toneMapping;return a.toneMapping=0,a.outputColorSpace=ki,c.update(a,n),s.blurCubemap(l,.04),a.toneMapping=h,a.outputColorSpace=u,d})()}loadGeneratedEnvironmentMap(){var n=this;return ke(function*(){return null==n.generatedEnvironmentMap&&(n.generatedEnvironmentMap=n.GenerateEnvironmentMap(new Ane("legacy"),"legacy")),n.generatedEnvironmentMap})()}loadGeneratedEnvironmentMapAlt(){var n=this;return ke(function*(){return null==n.generatedEnvironmentMapAlt&&(n.generatedEnvironmentMapAlt=n.GenerateEnvironmentMap(new Ane("neutral"),"neutral")),n.generatedEnvironmentMapAlt})()}blurCubemap(n,i){if(null==this.blurMaterial){this.blurMaterial=this.getBlurShader(20);const a=new bc,l=new Vn(a,this.blurMaterial);this.blurScene=new Id,this.blurScene.add(l)}const s=n.clone();this.halfblur(n,s,i,"latitudinal"),this.halfblur(s,n,i,"longitudinal")}halfblur(n,i,s,a){const c=n.width,d=isFinite(s)?Math.PI/(2*c):2*Math.PI/39,u=s/d,h=isFinite(s)?1+Math.floor(3*u):20;h>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${h} samples when the maximum is set to 20`);const f=[];let p=0;for(let _=0;_<20;++_){const v=_/u,y=Math.exp(-v*v/2);f.push(y),0==_?p+=y:_<h&&(p+=2*y)}for(let _=0;_<f.length;_++)f[_]=f[_]/p;const g=this.blurMaterial.uniforms;g.envMap.value=n.texture,g.samples.value=h,g.weights.value=f,g.latitudinal.value="latitudinal"===a,g.dTheta.value=d,new MN(.1,100,i).update(this.threeRenderer,this.blurScene)}getBlurShader(n){const i=new Float32Array(n),s=new N(0,1,0);return new ro({name:"SphericalGaussianBlur",defines:{n},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},poleAxis:{value:s}},vertexShader:"\n      \n      varying vec3 vOutputDirection;\n  \n      void main() {\n  \n        vOutputDirection = vec3( position );\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  \n      }\n    ",fragmentShader:"\n        varying vec3 vOutputDirection;\n  \n        uniform samplerCube envMap;\n        uniform int samples;\n        uniform float weights[ n ];\n        uniform bool latitudinal;\n        uniform float dTheta;\n        uniform vec3 poleAxis;\n  \n        vec3 getSample( float theta, vec3 axis ) {\n  \n          float cosTheta = cos( theta );\n          // Rodrigues' axis-angle rotation\n          vec3 sampleDirection = vOutputDirection * cosTheta\n            + cross( axis, vOutputDirection ) * sin( theta )\n            + axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n  \n          return vec3( textureCube( envMap, sampleDirection ) );\n  \n        }\n  \n        void main() {\n  \n          vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n  \n          if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n  \n            axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n  \n          }\n  \n          axis = normalize( axis );\n  \n          gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n          gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n  \n          for ( int i = 1; i < n; i++ ) {\n  \n            if ( i >= samples ) {\n  \n              break;\n  \n            }\n  \n            float theta = dTheta * float( i );\n            gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n            gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n  \n          }\n        }\n      ",blending:0,depthTest:!1,depthWrite:!1,side:1})}dispose(){var n=this;return ke(function*(){for(const[,i]of n.skyboxCache)(yield i).dispose();null!=n.generatedEnvironmentMap&&((yield n.generatedEnvironmentMap).dispose(),n.generatedEnvironmentMap=null),null!=n.generatedEnvironmentMapAlt&&((yield n.generatedEnvironmentMapAlt).dispose(),n.generatedEnvironmentMapAlt=null),null!=n.blurMaterial&&n.blurMaterial.dispose()})()}}const M_=[1,.79,.62,.5,.4,.31,.25],Cne="high-performance";class kl extends Ma{constructor(n){super(),this.loader=new Go(e9e),this.width=0,this.height=0,this.dpr=1,this.scenes=new Set,this.multipleScenesVisible=!1,this.lastTick=performance.now(),this.renderedLastFrame=!1,this.scaleStep=0,this.lastStep=3,this.avgFrameDuration=50,this.onWebGLContextLost=i=>{this.dispatchEvent({type:"contextlost",sourceEvent:i})},this.onWebGLContextRestored=()=>{var i;null===(i=this.textureUtils)||void 0===i||i.dispose(),this.textureUtils=new xne(this.threeRenderer);for(const s of this.scenes)s.element[VS]()},this.dpr=window.devicePixelRatio,this.canvas3D=document.createElement("canvas"),this.canvas3D.id="webgl-canvas",this.canvas3D.classList.add("show");try{this.threeRenderer=new zN({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:n.powerPreference,preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.setPixelRatio(1),this.threeRenderer.debug={checkShaderErrors:!!n.debug,onShaderError:null},this.threeRenderer.toneMapping=4}catch(i){console.warn(i)}this.arRenderer=new qWe(this),this.textureUtils=this.canRender?new xne(this.threeRenderer):null,Go.initializeKTX2Loader(this.threeRenderer),this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.addEventListener("webglcontextrestored",this.onWebGLContextRestored),this.updateRendererSize()}static get singleton(){return this._singleton||(this._singleton=new kl({powerPreference:(self.ModelViewerElement||{}).powerPreference||Cne,debug:lee()})),this._singleton}static resetSingleton(){const n=this._singleton.dispose();for(const i of n)i.disconnectedCallback();this._singleton=new kl({powerPreference:(self.ModelViewerElement||{}).powerPreference||Cne,debug:lee()});for(const i of n)i.connectedCallback()}get canRender(){return null!=this.threeRenderer}get scaleFactor(){return M_[this.scaleStep]}set minScale(n){let i=1;for(;i<M_.length&&!(M_[i]<n);)++i;this.lastStep=i-1}registerScene(n){this.scenes.add(n),n.forceRescale();const i=new ve;this.threeRenderer.getSize(i),n.canvas.width=i.x,n.canvas.height=i.y,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop((s,a)=>this.render(s,a))}unregisterScene(n){this.scenes.delete(n),this.canvas3D.parentElement===n.canvas.parentElement&&n.canvas.parentElement.removeChild(this.canvas3D),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null)}displayCanvas(n){return n.element.modelIsVisible&&!this.multipleScenesVisible?this.canvas3D:n.element[s3]}countVisibleScenes(){const{canvas3D:n}=this;let i=0,s=null;for(const l of this.scenes){const{element:c}=l;c.modelIsVisible&&null==l.externalRenderer&&++i,n.parentElement===l.canvas.parentElement&&(s=l)}const a=i>1;if(null!=s&&(a&&!this.multipleScenesVisible||!s.element.modelIsVisible)){const{width:d,height:u}=this.sceneSize(s);this.copyPixels(s,d,u),n.parentElement.removeChild(n)}this.multipleScenesVisible=a}updateRendererSize(){var n;const i=window.devicePixelRatio;if(i!==this.dpr)for(const l of this.scenes){const{element:c}=l;c[P_](c.getBoundingClientRect())}let s=0,a=0;for(const l of this.scenes)s=Math.max(s,l.width),a=Math.max(a,l.height);if(s!==this.width||a!==this.height||i!==this.dpr){this.width=s,this.height=a,this.dpr=i,s=Math.ceil(s*i),a=Math.ceil(a*i),this.canRender&&this.threeRenderer.setSize(s,a,!1);for(const l of this.scenes){const{canvas:c}=l;c.width=s,c.height=a,l.forceRescale(),null===(n=l.effectRenderer)||void 0===n||n.setSize(s,a)}}}updateRendererScale(n){const i=this.scaleStep;this.avgFrameDuration+=Mc(.2*(n-this.avgFrameDuration),-5,5),this.avgFrameDuration>60?++this.scaleStep:this.avgFrameDuration<40&&this.scaleStep>0&&--this.scaleStep,this.scaleStep=Math.min(this.scaleStep,this.lastStep),i!==this.scaleStep&&(this.avgFrameDuration=50)}shouldRender(n){if(n.shouldRender())n.scaleStep!=this.scaleStep&&(n.scaleStep=this.scaleStep,this.rescaleCanvas(n));else{if(0==n.scaleStep)return!1;n.scaleStep=0,this.rescaleCanvas(n)}return!0}rescaleCanvas(n){const i=M_[n.scaleStep],s=Math.ceil(this.width/i),a=Math.ceil(this.height/i),{style:l}=n.canvas;l.width=`${s}px`,l.height=`${a}px`,this.canvas3D.style.width=`${s}px`,this.canvas3D.style.height=`${a}px`;const c=this.dpr*i,d=i<1?"GPU throttling":this.dpr!==window.devicePixelRatio?"No meta viewport tag":"";n.element.dispatchEvent(new CustomEvent("render-scale",{detail:{reportedDpr:window.devicePixelRatio,renderedDpr:c,minimumDpr:this.dpr*M_[this.lastStep],pixelWidth:Math.ceil(n.width*c),pixelHeight:Math.ceil(n.height*c),reason:d}}))}sceneSize(n){const{dpr:i}=this,s=M_[n.scaleStep];return{width:Math.min(Math.ceil(n.width*s*i),this.canvas3D.width),height:Math.min(Math.ceil(n.height*s*i),this.canvas3D.height)}}copyPixels(n,i,s){const a=n.context;null!=a?(a.clearRect(0,0,i,s),a.drawImage(this.canvas3D,0,0,i,s,0,0,i,s),n.canvas.classList.add("show")):console.log("could not acquire 2d context")}orderedScenes(){const n=[];for(const i of[!1,!0])for(const s of this.scenes)s.element.modelIsVisible===i&&n.push(s);return n}get isPresenting(){return this.arRenderer.isPresenting}preRender(n,i,s){const{element:a,exposure:l,toneMapping:c}=n;a[Rc](i,s);const d="number"==typeof l&&!Number.isNaN(l),u=a.environmentImage;this.threeRenderer.toneMappingExposure=(d?l:1)*(7!==c||"neutral"!==u&&"legacy"!==u&&(u||a.skyboxImage)?1:1.3)}render(n,i){if(null!=i)return void this.arRenderer.onWebXRFrame(n,i);const s=n-this.lastTick;if(this.lastTick=n,!this.canRender||this.isPresenting)return;this.countVisibleScenes(),this.updateRendererSize(),this.renderedLastFrame&&(this.updateRendererScale(s),this.renderedLastFrame=!1);const{canvas3D:a}=this;for(const l of this.orderedScenes()){const{element:c}=l;if(!c.loaded||!c.modelIsVisible&&l.renderCount>0||(this.preRender(l,n,s),!this.shouldRender(l)))continue;if(null!=l.externalRenderer){const h=l.getCamera();h.updateMatrix();const{matrix:f,projectionMatrix:p}=h,g=f.elements.slice(),m=l.getTarget();g[12]+=m.x,g[13]+=m.y,g[14]+=m.z,l.externalRenderer.render({viewMatrix:g,projectionMatrix:p.elements});continue}if(!c.modelIsVisible&&!this.multipleScenesVisible)for(const h of this.scenes)h.element.modelIsVisible&&h.queueRender();const{width:d,height:u}=this.sceneSize(l);l.renderShadow(this.threeRenderer),this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.ceil(this.height*this.dpr)-u,d,u),null!=l.effectRenderer?l.effectRenderer.render(s):(this.threeRenderer.autoClear=!0,this.threeRenderer.toneMapping=l.toneMapping,this.threeRenderer.render(l,l.camera)),this.multipleScenesVisible||!l.element.modelIsVisible&&0===l.renderCount?this.copyPixels(l,d,u):a.parentElement!==l.canvas.parentElement&&(l.canvas.parentElement.appendChild(a),l.canvas.classList.remove("show")),l.hasRendered(),++l.renderCount,this.renderedLastFrame=!0}}dispose(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null;const n=[];for(const i of this.scenes)n.push(i.element);return this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost),this.canvas3D.removeEventListener("webglcontextrestored",this.onWebGLContextRestored),n}}const Tn=Symbol("correlatedObjects"),vi=Symbol("onUpdate");class ZA{constructor(n,i){this[vi]=n,this[Tn]=i}}const Ene=new Gs,_9e=new Il(2,2);let y9e=0;const Qo=Symbol("threeTexture"),Mne=Symbol("threeTextures");Symbol("applyTexture");class v9e extends ZA{get[Qo](){var n;return null===(n=this[Tn])||void 0===n?void 0:n.values().next().value}get[Mne](){return this[Tn]}constructor(n,i){super(n,new Set(i?[i]:[])),this[Qo].image.src||(this[Qo].image.src=i.name?i.name:"adhoc_image"+y9e++),this[Qo].image.name||(this[Qo].image.name=i&&i.image&&i.image.src?i.image.src.split("/").pop():"adhoc_image")}get name(){return this[Qo].image.name||""}get uri(){return this[Qo].image.src}get bufferView(){return this[Qo].image.bufferView}get element(){const n=this[Qo];if(n&&(n.isCanvasTexture||n.isVideoTexture))return n.image}get animation(){const n=this[Qo];if(n&&n.isCanvasTexture&&n.animation)return n.animation}get type(){return null!=this.uri?"external":"embedded"}set name(n){for(const i of this[Mne])i.image.name=n}update(){const n=this[Qo];n&&n.isCanvasTexture&&!n.animation&&(this[Qo].needsUpdate=!0,this[vi]())}createThumbnail(n,i){var s=this;return ke(function*(){const a=new Id;Ene.map=s[Qo];const l=new Vn(_9e,Ene);a.add(l);const c=new Pf(-1,1,1,-1,0,1),{threeRenderer:d}=kl.singleton,u=new Lo(n,i);d.setRenderTarget(u),d.render(a,c),d.setRenderTarget(null);const h=new Uint8Array(n*i*4);d.readRenderTargetPixels(u,0,0,n,i,h),qu.width=n,qu.height=i;const f=qu.getContext("2d"),p=f.createImageData(n,i);return p.data.set(h),f.putImageData(p,0,0),new Promise(function(){var g=ke(function*(m,_){qu.toBlob(v=>{if(!v)return _("Failed to capture thumbnail.");m(URL.createObjectURL(v))},"image/png")});return function(m,_){return g.apply(this,arguments)}}())})()}}var Qs=function(r){return r[r.Nearest=9728]="Nearest",r[r.Linear=9729]="Linear",r[r.NearestMipmapNearest=9984]="NearestMipmapNearest",r[r.LinearMipmapNearest=9985]="LinearMipmapNearest",r[r.NearestMipmapLinear=9986]="NearestMipmapLinear",r[r.LinearMipmapLinear=9987]="LinearMipmapLinear",r}(Qs||{}),rp=function(r){return r[r.ClampToEdge=33071]="ClampToEdge",r[r.MirroredRepeat=33648]="MirroredRepeat",r[r.Repeat=10497]="Repeat",r}(rp||{});const Sne=new Map([[rp.Repeat,Ya],[rp.ClampToEdge,xr],[rp.MirroredRepeat,Tu]]),FL=new Map([[Ya,rp.Repeat],[xr,rp.ClampToEdge],[Tu,rp.MirroredRepeat]]),b9e=new Map([[Qs.Nearest,wr],[Qs.Linear,zn],[Qs.NearestMipmapNearest,1004],[Qs.LinearMipmapNearest,Du],[Qs.NearestMipmapLinear,yd],[Qs.LinearMipmapLinear,No]]),Ine=new Map([[wr,Qs.Nearest],[zn,Qs.Linear],[1004,Qs.NearestMipmapNearest],[Du,Qs.LinearMipmapNearest],[yd,Qs.NearestMipmapLinear],[No,Qs.LinearMipmapLinear]]),A9e=new Map([[Qs.Nearest,wr],[Qs.Linear,zn]]),Tne=new Map([[wr,Qs.Nearest],[zn,Qs.Linear]]),Ld=Symbol("threeTexture"),Dne=Symbol("threeTextures"),Wu=Symbol("setProperty");class M9e extends ZA{get[Ld](){var n;return null===(n=this[Tn])||void 0===n?void 0:n.values().next().value}get[Dne](){return this[Tn]}constructor(n,i){super(n,new Set(i?[i]:[]))}get name(){return this[Ld].name||""}get minFilter(){return Ine.get(this[Ld].minFilter)}get magFilter(){return Tne.get(this[Ld].magFilter)}get wrapS(){return FL.get(this[Ld].wrapS)}get wrapT(){return FL.get(this[Ld].wrapT)}get rotation(){return this[Ld].rotation}get scale(){return o3(this[Ld].repeat)}get offset(){return o3(this[Ld].offset)}setMinFilter(n){this[Wu]("minFilter",b9e.get(n))}setMagFilter(n){this[Wu]("magFilter",A9e.get(n))}setWrapS(n){this[Wu]("wrapS",Sne.get(n))}setWrapT(n){this[Wu]("wrapT",Sne.get(n))}setRotation(n){null==n&&(n=0),this[Wu]("rotation",n)}setScale(n){null==n&&(n={u:1,v:1}),this[Wu]("repeat",new ve(n.u,n.v))}setOffset(n){null==n&&(n={u:0,v:0}),this[Wu]("offset",new ve(n.u,n.v))}[Wu](n,i){if(((r,n)=>{switch(r){case"minFilter":return(r=>Ine.has(r))(n);case"magFilter":return(r=>Tne.has(r))(n);case"wrapS":case"wrapT":return(r=>FL.has(r))(n);case"rotation":case"repeat":case"offset":return!0;default:throw new Error(`Cannot configure property "${r}" on Sampler`)}})(n,i))for(const s of this[Dne])s[n]=i,s.needsUpdate=!0;this[vi]()}}const Rne=Symbol("image"),kne=Symbol("sampler"),Pne=Symbol("threeTexture");class Fne extends ZA{constructor(n,i){super(n,new Set(i?[i]:[])),this[kne]=new M9e(n,i),this[Rne]=new v9e(n,i)}get[Pne](){var n;return null===(n=this[Tn])||void 0===n?void 0:n.values().next().value}get name(){return this[Pne].name||""}set name(n){for(const i of this[Tn])i.name=n}get sampler(){return this[kne]}get source(){return this[Rne]}}var One,Nne,Bne;const sp=Symbol("texture"),op=Symbol("transform"),OL=Symbol("materials"),Lne=Symbol("usage"),S_=Symbol("onUpdate"),JA=Symbol("activeVideo");var tn=function(r){return r[r.Base=0]="Base",r[r.MetallicRoughness=1]="MetallicRoughness",r[r.Normal=2]="Normal",r[r.Occlusion=3]="Occlusion",r[r.Emissive=4]="Emissive",r[r.Clearcoat=5]="Clearcoat",r[r.ClearcoatRoughness=6]="ClearcoatRoughness",r[r.ClearcoatNormal=7]="ClearcoatNormal",r[r.SheenColor=8]="SheenColor",r[r.SheenRoughness=9]="SheenRoughness",r[r.Transmission=10]="Transmission",r[r.Thickness=11]="Thickness",r[r.Specular=12]="Specular",r[r.SpecularColor=13]="SpecularColor",r[r.Iridescence=14]="Iridescence",r[r.IridescenceThickness=15]="IridescenceThickness",r[r.Anisotropy=16]="Anisotropy",r}(tn||{});class I_{constructor(n,i,s,a){this[One]=null,this[Nne]={rotation:0,scale:new ve(1,1),offset:new ve(0,0)},this[Bne]=!1,s&&(this[op].rotation=s.rotation,this[op].scale.copy(s.repeat),this[op].offset.copy(s.offset),this[sp]=new Fne(n,s)),this[S_]=n,this[OL]=a,this[Lne]=i}get texture(){return this[sp]}setTexture(n){var i,s;const a=null!=n?n.source[Qo]:null,l=null===(i=this[sp])||void 0===i?void 0:i.source[Qo];if(null!=l&&l.isVideoTexture?this[JA]=!1:!(null===(s=this[sp])||void 0===s)&&s.source.animation&&this[sp].source.animation.removeEventListener("enterFrame",this[S_]),this[sp]=n,null!=a&&a.isVideoTexture){const d=a.image;if(this[JA]=!0,null!=d.requestVideoFrameCallback){const u=()=>{this[JA]&&(this[S_](),d.requestVideoFrameCallback(u))};d.requestVideoFrameCallback(u)}else{const u=()=>{this[JA]&&(this[S_](),requestAnimationFrame(u))};requestAnimationFrame(u)}}else null!=n?.source.animation&&n.source.animation.addEventListener("enterFrame",this[S_]);let c=ji;if(this[OL])for(const d of this[OL]){switch(this[Lne]){case tn.Base:d.map=a;break;case tn.MetallicRoughness:c=ki,d.metalnessMap=a,d.roughnessMap=a;break;case tn.Normal:c=ki,d.normalMap=a;break;case tn.Occlusion:c=ki,d.aoMap=a;break;case tn.Emissive:d.emissiveMap=a;break;case tn.Clearcoat:d.clearcoatMap=a;break;case tn.ClearcoatRoughness:d.clearcoatRoughnessMap=a;break;case tn.ClearcoatNormal:d.clearcoatNormalMap=a;break;case tn.SheenColor:d.sheenColorMap=a;break;case tn.SheenRoughness:d.sheenRoughnessMap=a;break;case tn.Transmission:d.transmissionMap=a;break;case tn.Thickness:d.thicknessMap=a;break;case tn.Specular:d.specularIntensityMap=a;break;case tn.SpecularColor:d.specularColorMap=a;break;case tn.Iridescence:d.iridescenceMap=a;break;case tn.IridescenceThickness:d.iridescenceThicknessMap=a;break;case tn.Anisotropy:d.anisotropyMap=a}d.needsUpdate=!0}a&&(a.colorSpace=c,a.rotation=this[op].rotation,a.repeat=this[op].scale,a.offset=this[op].offset),this[S_]()}}One=sp,Nne=op,Bne=JA;const e0=Symbol("threeMaterial"),uI=Symbol("threeMaterials"),Une=Symbol("baseColorTexture"),zne=Symbol("metallicRoughnessTexture");class S9e extends ZA{constructor(n,i){super(n,i);const{map:s,metalnessMap:a}=i.values().next().value;this[Une]=new I_(n,tn.Base,s,i),this[zne]=new I_(n,tn.MetallicRoughness,a,i)}get[uI](){return this[Tn]}get[e0](){var n;return null===(n=this[Tn])||void 0===n?void 0:n.values().next().value}get baseColorFactor(){const n=[0,0,0,this[e0].opacity];return this[e0].color.toArray(n),n}get metallicFactor(){return this[e0].metalness}get roughnessFactor(){return this[e0].roughness}get baseColorTexture(){return this[Une]}get metallicRoughnessTexture(){return this[zne]}setBaseColorFactor(n){const i=new Be;n instanceof Array?i.fromArray(n):i.set(n);for(const s of this[uI])s.color.set(i),n instanceof Array&&n.length>3?s.opacity=n[3]:i.toArray(n=[0,0,0,s.opacity]);this[vi]()}setMetallicFactor(n){for(const i of this[uI])i.metalness=n;this[vi]()}setRoughnessFactor(n){for(const i of this[uI])i.roughness=n;this[vi]()}}var Vne,Hne;const Gne=Symbol("pbrMetallicRoughness"),$ne=Symbol("normalTexture"),Qne=Symbol("occlusionTexture"),jne=Symbol("emissiveTexture"),tr=Symbol("backingThreeMaterial"),Wne=Symbol("applyAlphaCutoff"),NL=Symbol("getAlphaMode"),T_=Symbol("lazyLoadGLTFInfo"),BL=Symbol("initialize"),LL=Symbol("getLoadedMaterial"),pt=Symbol("ensureMaterialIsLoaded"),qne=Symbol("gltfIndex"),t0=Symbol("setActive"),D_=Symbol("variantIndices"),UL=Symbol("isActive"),Yne=Symbol("modelVariants"),zL=Symbol("name"),ca=Symbol("pbrTextures");class VL extends ZA{constructor(n,i,s,a,l,c,d=void 0){super(n,l),this[Vne]=new Set,this[Hne]=new Map,this[qne]=i,this[UL]=s,this[Yne]=a,this[zL]=c,null==d?this[BL]():this[T_]=d}get[(Vne=D_,Hne=ca,tr)](){return this[Tn].values().next().value}[BL](){const n=this[vi],i=this[Tn];this[Gne]=new S9e(n,i);const{normalMap:s,aoMap:a,emissiveMap:l}=i.values().next().value;this[$ne]=new I_(n,tn.Normal,s,i),this[Qne]=new I_(n,tn.Occlusion,a,i),this[jne]=new I_(n,tn.Emissive,l,i);const c=d=>{this[ca].set(d,new I_(n,d,null,i))};c(tn.Clearcoat),c(tn.ClearcoatRoughness),c(tn.ClearcoatNormal),c(tn.SheenColor),c(tn.SheenRoughness),c(tn.Transmission),c(tn.Thickness),c(tn.Specular),c(tn.SpecularColor),c(tn.Iridescence),c(tn.IridescenceThickness),c(tn.Anisotropy)}[LL](){var n=this;return ke(function*(){if(null!=n[T_]){const i=yield n[T_].doLazyLoad();return n[BL](),n[T_]=void 0,n.ensureLoaded=ke(function*(){}),i}return null})()}colorFromRgb(n){const i=new Be;return n instanceof Array?i.fromArray(n):i.set(n),i}[pt](){if(null!=this[T_])throw new Error(`Material "${this.name}" has not been loaded, call 'await\n    myMaterial.ensureLoaded()' before using an unloaded material.`)}ensureLoaded(){var n=this;return ke(function*(){yield n[LL]()})()}get isLoaded(){return null==this[T_]}get isActive(){return this[UL]}[t0](n){this[UL]=n}get name(){return this[zL]||""}set name(n){if(this[zL]=n,null!=this[Tn])for(const i of this[Tn])i.name=n}get pbrMetallicRoughness(){return this[pt](),this[Gne]}get normalTexture(){return this[pt](),this[$ne]}get occlusionTexture(){return this[pt](),this[Qne]}get emissiveTexture(){return this[pt](),this[jne]}get emissiveFactor(){return this[pt](),this[tr].emissive.toArray()}get index(){return this[qne]}hasVariant(n){const i=this[Yne].get(n);return null!=i&&this[D_].has(i.index)}setEmissiveFactor(n){this[pt]();const i=this.colorFromRgb(n);for(const s of this[Tn])s.emissive.set(i);this[vi]()}[NL](){return this[tr].transparent?"BLEND":this[tr].alphaTest>0?"MASK":"OPAQUE"}[Wne](){this[pt]();for(const n of this[Tn])"MASK"===this[NL]()?null==n.alphaTest&&(n.alphaTest=.5):n.alphaTest=void 0,n.needsUpdate=!0}setAlphaCutoff(n){this[pt]();for(const i of this[Tn])i.alphaTest=n,i.needsUpdate=!0;this[Wne](),this[vi]()}getAlphaCutoff(){return this[pt](),this[tr].alphaTest}setDoubleSided(n){this[pt]();for(const i of this[Tn])i.side=n?2:0,i.needsUpdate=!0;this[vi]()}getDoubleSided(){return this[pt](),2==this[tr].side}setAlphaMode(n){this[pt]();const i=(s,a)=>{s.transparent=a,s.depthWrite=!a};for(const s of this[Tn])i(s,"BLEND"===n),s.alphaTest="MASK"===n?.5:void 0,s.needsUpdate=!0;this[vi]()}getAlphaMode(){return this[pt](),this[NL]()}get emissiveStrength(){return this[pt](),this[tr].emissiveIntensity}setEmissiveStrength(n){this[pt]();for(const i of this[Tn])i.emissiveIntensity=n;this[vi]()}get clearcoatFactor(){return this[pt](),this[tr].clearcoat}get clearcoatRoughnessFactor(){return this[pt](),this[tr].clearcoatRoughness}get clearcoatTexture(){return this[pt](),this[ca].get(tn.Clearcoat)}get clearcoatRoughnessTexture(){return this[pt](),this[ca].get(tn.ClearcoatRoughness)}get clearcoatNormalTexture(){return this[pt](),this[ca].get(tn.ClearcoatNormal)}get clearcoatNormalScale(){return this[pt](),this[tr].clearcoatNormalScale.x}setClearcoatFactor(n){this[pt]();for(const i of this[Tn])i.clearcoat=n;this[vi]()}setClearcoatRoughnessFactor(n){this[pt]();for(const i of this[Tn])i.clearcoatRoughness=n;this[vi]()}setClearcoatNormalScale(n){this[pt]();for(const i of this[Tn])i.clearcoatNormalScale=new ve(n,n);this[vi]()}get ior(){return this[pt](),this[tr].ior}setIor(n){this[pt]();for(const i of this[Tn])i.ior=n;this[vi]()}get sheenColorFactor(){return this[pt](),this[tr].sheenColor.toArray()}get sheenColorTexture(){return this[pt](),this[ca].get(tn.SheenColor)}get sheenRoughnessFactor(){return this[pt](),this[tr].sheenRoughness}get sheenRoughnessTexture(){return this[pt](),this[ca].get(tn.SheenRoughness)}setSheenColorFactor(n){this[pt]();const i=this.colorFromRgb(n);for(const s of this[Tn])s.sheenColor.set(i),s.sheen=1;this[vi]()}setSheenRoughnessFactor(n){this[pt]();for(const i of this[Tn])i.sheenRoughness=n,i.sheen=1;this[vi]()}get transmissionFactor(){return this[pt](),this[tr].transmission}get transmissionTexture(){return this[pt](),this[ca].get(tn.Transmission)}setTransmissionFactor(n){this[pt]();for(const i of this[Tn])i.transmission=n;this[vi]()}get thicknessFactor(){return this[pt](),this[tr].thickness}get thicknessTexture(){return this[pt](),this[ca].get(tn.Thickness)}get attenuationDistance(){return this[pt](),this[tr].attenuationDistance}get attenuationColor(){return this[pt](),this[tr].attenuationColor.toArray()}setThicknessFactor(n){this[pt]();for(const i of this[Tn])i.thickness=n;this[vi]()}setAttenuationDistance(n){this[pt]();for(const i of this[Tn])i.attenuationDistance=n;this[vi]()}setAttenuationColor(n){this[pt]();const i=this.colorFromRgb(n);for(const s of this[Tn])s.attenuationColor.set(i);this[vi]()}get specularFactor(){return this[pt](),this[tr].specularIntensity}get specularTexture(){return this[pt](),this[ca].get(tn.Specular)}get specularColorFactor(){return this[pt](),this[tr].specularColor.toArray()}get specularColorTexture(){return this[pt](),this[ca].get(tn.SheenColor)}setSpecularFactor(n){this[pt]();for(const i of this[Tn])i.specularIntensity=n;this[vi]()}setSpecularColorFactor(n){this[pt]();const i=this.colorFromRgb(n);for(const s of this[Tn])s.specularColor.set(i);this[vi]()}get iridescenceFactor(){return this[pt](),this[tr].iridescence}get iridescenceTexture(){return this[pt](),this[ca].get(tn.Iridescence)}get iridescenceIor(){return this[pt](),this[tr].iridescenceIOR}get iridescenceThicknessMinimum(){return this[pt](),this[tr].iridescenceThicknessRange[0]}get iridescenceThicknessMaximum(){return this[pt](),this[tr].iridescenceThicknessRange[1]}get iridescenceThicknessTexture(){return this[pt](),this[ca].get(tn.IridescenceThickness)}setIridescenceFactor(n){this[pt]();for(const i of this[Tn])i.iridescence=n;this[vi]()}setIridescenceIor(n){this[pt]();for(const i of this[Tn])i.iridescenceIOR=n;this[vi]()}setIridescenceThicknessMinimum(n){this[pt]();for(const i of this[Tn])i.iridescenceThicknessRange[0]=n;this[vi]()}setIridescenceThicknessMaximum(n){this[pt]();for(const i of this[Tn])i.iridescenceThicknessRange[1]=n;this[vi]()}get anisotropyStrength(){return this[pt](),this[tr].anisotropy}get anisotropyRotation(){return this[pt](),this[tr].anisotropyRotation}get anisotropyTexture(){return this[pt](),this[ca].get(tn.Anisotropy)}setAnisotropyStrength(n){this[pt]();for(const i of this[Tn])i.anisotropy=n;this[vi]()}setAnisotropyRotation(n){this[pt]();for(const i of this[Tn])i.anisotropyRotation=n;this[vi]()}}class Xne{constructor(n){this.name="",this.children=new Array,this.name=n}}class HL extends Xne{constructor(n,i,s,a){super(n.name),this.materials=new Map,this.variantToMaterialMap=new Map,this.initialMaterialIdx=0,this.activeMaterialIdx=0,this.mesh=n;const{gltf:l,threeGLTF:c,threeObjectMap:d}=a;this.parser=c.parser,this.modelVariants=s,this.mesh.userData.variantData=s;const u=d.get(n.material);null!=u.materials?this.initialMaterialIdx=this.activeMaterialIdx=u.materials:console.error(`Primitive (${n.name}) missing initial material reference.`);const h=n.userData.associations||{};if(null==h.meshes)return void console.error("Mesh is missing primitive index association");const g=((l.meshes||[])[h.meshes].primitives||[])[h.primitives];if(null!=g){if(null!=g.material)this.materials.set(g.material,i[g.material]);else{const m=i.findIndex(_=>"Default"===_.name);m>=0?this.materials.set(m,i[m]):console.warn("gltfPrimitive has no material!")}if(g.extensions&&g.extensions.KHR_materials_variants){const m=g.extensions.KHR_materials_variants,v=c.parser.json.extensions.KHR_materials_variants.variants;for(const y of m.mappings){const b=i[y.material];this.materials.set(y.material,b);for(const A of y.variants){const{name:x}=v[A];this.variantToMaterialMap.set(A,b),b[D_].add(A),s.has(x)||s.set(x,{name:x,index:A})}}}}else console.error("Mesh primitive definition is missing.")}setActiveMaterial(n){var i=this;return ke(function*(){const s=i.materials.get(n);if(n!==i.activeMaterialIdx){const a=s[Tn],l=yield s[LL]();i.mesh.material=null!=l?l:a.values().next().value,i.parser.assignFinalMaterial(i.mesh),a.add(i.mesh.material),i.activeMaterialIdx=n}return i.mesh.material})()}getActiveMaterial(){return this.materials.get(this.activeMaterialIdx)}getMaterial(n){return this.materials.get(n)}enableVariant(n){var i=this;return ke(function*(){if(null==n)return i.setActiveMaterial(i.initialMaterialIdx);if(null!=i.variantToMaterialMap&&i.modelVariants.has(n)){const s=i.modelVariants.get(n);return i.enableVariantHelper(s.index)}return null})()}enableVariantHelper(n){var i=this;return ke(function*(){if(null!=i.variantToMaterialMap&&null!=n){const s=i.variantToMaterialMap.get(n);if(null!=s)return i.setActiveMaterial(s.index)}return null})()}instantiateVariants(){var n=this;return ke(function*(){if(null!=n.variantToMaterialMap)for(const i of n.variantToMaterialMap.keys()){const s=n.mesh.userData.variantMaterials.get(i);if(null!=s.material)continue;const a=yield n.enableVariantHelper(i);null!=a&&(s.material=a)}})()}get variantInfo(){return this.variantToMaterialMap}addVariant(n,i){if(!this.ensureVariantIsUnused(i))return!1;this.modelVariants.has(i)||this.modelVariants.set(i,{name:i,index:this.modelVariants.size});const a=this.modelVariants.get(i).index;return n[D_].add(a),this.variantToMaterialMap.set(a,n),this.materials.set(n.index,n),this.updateVariantUserData(a,n),!0}deleteVariant(n){if(this.variantInfo.has(n)){this.variantInfo.delete(n);const i=this.mesh.userData.variantMaterials;i?.delete(n)}}updateVariantUserData(n,i){i[D_].add(n),this.mesh.userData.variantData=this.modelVariants,this.mesh.userData.variantMaterials=this.mesh.userData.variantMaterials||new Map,this.mesh.userData.variantMaterials.set(n,{material:i[Tn].values().next().value,gltfMaterialIndex:i.index})}ensureVariantIsUnused(n){const i=this.modelVariants.get(n);return null==i||!this.variantInfo.has(i.index)||(console.warn(`Primitive cannot add variant '${n}' for this material, it already exists.`),!1)}}var Kne,Zne,Jne,eie,tie,nie;const ap=Symbol("materials"),hI=Symbol("hierarchy"),iie=Symbol("roots"),Ud=Symbol("primitives"),rie=(Symbol("loadVariant"),Symbol("prepareVariantsForExport")),sie=Symbol("switchVariant"),oie=Symbol("materialFromPoint"),GL=Symbol("nodeFromPoint"),aie=Symbol("nodeFromIndex"),co=Symbol("variantData"),$L=Symbol("availableVariants"),QL=Symbol("modelOnUpdate"),lie=Symbol("cloneMaterial");class I9e{constructor(n,i,s,a){this.gltf=n,this.gltfElementMap=i,this.mapKey=s,this.doLazyLoad=a}}class T9e{constructor(n,i=()=>{}){this[Kne]=new Array,this[Zne]=new Array,this[Jne]=new Array,this[eie]=new Array,this[tie]=()=>{},this[nie]=new Map,this[QL]=i;const{gltf:s,threeGLTF:a,gltfElementMap:l}=n;for(const[u,h]of s.materials.entries()){const f=l.get(h);if(null!=f)this[ap].push(new VL(i,u,!0,this[co],f,h.name));else{const g=(s.materials||[])[u],m=new Set;l.set(g,m);const _=function(){var v=ke(function*(){const y=yield a.parser.getDependency("material",u);return m.add(y),y});return function(){return v.apply(this,arguments)}}();this[ap].push(new VL(i,u,!1,this[co],m,h.name,new I9e(s,l,g,_)))}}const c=new Map,d=new Array;for(const u of a.scene.children)d.push(u);for(;d.length>0;){const u=d.pop();let h=null;u instanceof Vn?(h=new HL(u,this.materials,this[co],n),this[Ud].push(h)):h=new Xne(u.name);const f=c.get(u);null!=f?f.children.push(h):this[iie].push(h),this[hI].push(h);for(const p of u.children)d.push(p),c.set(u,h)}}get materials(){return this[ap]}[(Kne=ap,Zne=hI,Jne=iie,eie=Ud,tie=QL,nie=co,$L)](){const n=Array.from(this[co].values());return n.sort((i,s)=>i.index-s.index),n.map(i=>i.name)}getMaterialByName(n){const i=this[ap].filter(s=>s.name===n);return i.length>0?i[0]:null}[aie](n,i){return this[hI].find(a=>{if(a instanceof HL){const{meshes:l,primitives:c}=a.mesh.userData.associations;if(l==n&&c==i)return!0}return!1})??null}[GL](n){return this[hI].find(i=>i instanceof HL&&i.mesh===n.object)}[oie](n){return this[GL](n).getActiveMaterial()}[sie](n){var i=this;return ke(function*(){for(const s of i[Ud])yield s.enableVariant(n);for(const s of i.materials)s[t0](!1);for(const s of i[Ud])i.materials[s.getActiveMaterial().index][t0](!0)})()}[rie](){var n=this;return ke(function*(){const i=new Array;for(const s of n[Ud])i.push(s.instantiateVariants());yield Promise.all(i)})()}[lie](n,i){const s=this.materials[n];s.isLoaded||console.error("Cloning an unloaded material,\n           call 'material.ensureLoaded() before cloning the material.");const a=s[Tn],l=new Set;for(const[d,u]of a.entries()){const h=u.clone();h.name=i+(a.size>1?"_inst"+d:""),l.add(h)}const c=new VL(this[QL],this[ap].length,!1,this[co],l,i);return this[ap].push(c),c}createMaterialInstanceForVariant(n,i,s,a=!0){let l=null;for(const c of this[Ud]){const d=this[co].get(s);null!=d&&c.variantInfo.has(d.index)||null!=c.getMaterial(n)&&(this.hasVariant(s)||this.createVariant(s),null==l&&(l=this[lie](n,i)),c.addVariant(l,s))}if(a&&null!=l){l[t0](!0),this.materials[n][t0](!1);for(const c of this[Ud])c.enableVariant(s)}return l}createVariant(n){this[co].has(n)?console.warn(`Variant '${n}'' already exists`):this[co].set(n,{name:n,index:this[co].size})}hasVariant(n){return this[co].has(n)}setMaterialToVariant(n,i){if(null!=this[$L]().find(s=>s===i))if(n<0||n>=this.materials.length)console.error("setMaterialToVariant(): materialIndex is out of bounds.");else for(const s of this[Ud]){const a=s.getMaterial(n);null!=a&&s.addVariant(a,i)}else console.warn(`Can't add material to '${i}', the variant does not exist.'`)}updateVariantName(n,i){const s=this[co].get(n);null!=s&&(s.name=i,this[co].set(i,s),this[co].delete(n))}deleteVariant(n){const i=this[co].get(n);if(null!=i){for(const s of this.materials)s.hasVariant(n)&&s[D_].delete(i.index);for(const s of this[Ud])s.deleteVariant(i.index);this[co].delete(n)}}}var jL=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const fI=Symbol("currentGLTF"),pI=Symbol("originalGltfJson"),lp=Symbol("model"),WL=Symbol("getOnUpdateMethod"),n0=Symbol("buildTexture");class R9e extends Vn{constructor(){super(void 0,new Gs({depthWrite:!1})),this.height=0,this.radius=0,this.resolution=0,this.userData.noHit=!0}get map(){return this.material.map}set map(n){this.material.map=n}isUsable(){return this.height>0&&this.radius>0&&null!=this.geometry&&null!=this.map}updateGeometry(n=this.height,i=this.radius,s=128){(n!=this.height||i!=this.radius||s!=this.resolution)&&(this.height=n,this.radius=i,this.resolution=s,n>0&&i>0&&(this.geometry.dispose(),this.geometry=function k9e(r,n,i){const s=new MA(n,2*i,i);s.scale(1,1,-1);const a=s.getAttribute("position"),l=new N;for(let c=0;c<a.count;++c)if(l.fromBufferAttribute(a,c),l.y<0){const d=3*-r/2;l.multiplyScalar(l.y<d?-r/l.y:1-l.y*l.y/(3*d*d)),l.toArray(a.array,3*c)}return a.needsUpdate=!0,s}(n,i,s)))}}const mI=new N,qL=new N,YL=new N,gI=new fn,cie=new Uo,die=new vs;class uie extends xje{constructor(n){super(document.createElement("div")),this.normal=new N(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=n.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(n.position),this.updateNormal(n.normal),this.surface=n.surface}get facingCamera(){return!this.element.classList.contains("hide")}show(){(!this.facingCamera||!this.initialized)&&this.updateVisibility(!0)}hide(){(this.facingCamera||!this.initialized)&&this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}updatePosition(n){if(null==n)return;const i=Nd(n)[0].terms;for(let s=0;s<3;++s)this.position.setComponent(s,Ic(i[s]).number);this.updateMatrixWorld()}updateNormal(n){if(null==n)return;const i=Nd(n)[0].terms;for(let s=0;s<3;++s)this.normal.setComponent(s,i[s].number)}updateSurface(){const{mesh:n,tri:i,bary:s}=this;if(null==n||null==i||null==s)return;n.getVertexPosition(i.x,mI),n.getVertexPosition(i.y,qL),n.getVertexPosition(i.z,YL),mI.toArray(gI.elements,0),qL.toArray(gI.elements,3),YL.toArray(gI.elements,6),this.position.copy(s).applyMatrix3(gI);const a=this.parent;a.worldToLocal(n.localToWorld(this.position)),cie.set(mI,qL,YL),cie.getNormal(this.normal).transformDirection(n.matrixWorld);const l=a.parent;die.setFromAxisAngle(mI.set(0,1,0),-l.rotation.y),this.normal.applyQuaternion(die)}orient(n){this.pivot.style.transform=`rotate(${n}rad)`}updateVisibility(n){this.element.classList.toggle("hide",!n),this.slot.assignedNodes().forEach(i=>{if(i.nodeType!==Node.ELEMENT_NODE)return;const s=i,a=s.dataset.visibilityAttribute;null!=a&&s.toggleAttribute(`data-${a}`,n),s.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:n}}))}),this.initialized=!0}}const P9e={name:"HorizontalBlurShader",uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float h;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"},F9e={name:"VerticalBlurShader",uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform float v;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 sum = vec4( 0.0 );\n\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;\n\t\t\tsum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;\n\n\t\t\tgl_FragColor = sum;\n\n\t\t}"};function _I(r,n,i){return(1-i)*r+i*n}Math,Math;class i7e extends di{constructor(n,i,s){super(),this.camera=new Pf,this.renderTarget=null,this.renderTargetBlur=null,this.depthMaterial=new BN,this.horizontalBlurMaterial=new ro(P9e),this.verticalBlurMaterial=new ro(F9e),this.intensity=0,this.softness=1,this.boundingBox=new jr,this.size=new N,this.maxDimension=0,this.isAnimated=!1,this.needsUpdate=!1;const{camera:a}=this;a.rotation.x=Math.PI/2,a.left=-.5,a.right=.5,a.bottom=-.5,a.top=.5,this.add(a);const l=new Il,c=new Gs({opacity:1,transparent:!0,side:1});this.floor=new Vn(l,c),this.floor.userData.noHit=!0,a.add(this.floor),this.blurPlane=new Vn(l),this.blurPlane.visible=!1,a.add(this.blurPlane),n.target.add(this),this.depthMaterial.onBeforeCompile=function(d){d.fragmentShader=d.fragmentShader.replace("gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );","gl_FragColor = vec4( vec3( 0.0 ), ( 1.0 - fragCoordZ ) * opacity );")},this.horizontalBlurMaterial.depthTest=!1,this.verticalBlurMaterial.depthTest=!1,this.setScene(n,i,s)}setScene(n,i,s){const{boundingBox:a,size:l,rotation:c,position:d}=this;if(this.isAnimated=n.animationNames.length>0,this.boundingBox.copy(n.boundingBox),this.size.copy(n.size),this.maxDimension=Math.max(l.x,l.y,l.z)*(this.isAnimated?2:1),this.boundingBox.getCenter(d),"back"===s){const{min:u,max:h}=a;[u.y,u.z]=[u.z,u.y],[h.y,h.z]=[h.z,h.y],[l.y,l.z]=[l.z,l.y],c.x=Math.PI/2,c.y=Math.PI}else c.x=0,c.y=0;if(this.isAnimated){const u=a.min.y,h=a.max.y;l.y=this.maxDimension,a.expandByVector(l.subScalar(this.maxDimension).multiplyScalar(-.5)),a.min.y=u,a.max.y=h,l.set(this.maxDimension,h-u,this.maxDimension)}"bottom"===s?d.y=a.min.y:d.z=a.min.y,this.setSoftness(i)}setSoftness(n){this.softness=n;const{size:i,camera:s}=this,a=this.isAnimated?2:1,l=a*Math.pow(2,9-3*n);this.setMapSize(l);const c=i.y/2,d=i.y*a;s.near=0,s.far=_I(d,c,n),this.depthMaterial.opacity=1/n,s.updateProjectionMatrix(),this.setIntensity(this.intensity),this.setOffset(0)}setMapSize(n){const{size:i}=this;this.isAnimated&&(n*=2);const s=Math.floor(i.x>i.z?n:n*i.x/i.z),a=Math.floor(i.x>i.z?n*i.z/i.x:n),c=10+s,d=10+a;if(null!=this.renderTarget&&(this.renderTarget.width!==c||this.renderTarget.height!==d)&&(this.renderTarget.dispose(),this.renderTarget=null,this.renderTargetBlur.dispose(),this.renderTargetBlur=null),null==this.renderTarget){const u={format:Ni};this.renderTarget=new Lo(c,d,u),this.renderTargetBlur=new Lo(c,d,u),this.floor.material.map=this.renderTarget.texture}this.camera.scale.set(i.x*(1+10/s),i.z*(1+10/a),1),this.needsUpdate=!0}setIntensity(n){this.intensity=n,n>0?(this.visible=!0,this.floor.visible=!0,this.floor.material.opacity=n*_I(.3,1,this.softness*this.softness)):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.intensity}setOffset(n){this.floor.position.z=-n+this.gap()}gap(){return.001*this.maxDimension}render(n,i){i.overrideMaterial=this.depthMaterial;const s=n.getClearAlpha();n.setClearAlpha(0),this.floor.visible=!1;const a=n.xr.enabled;n.xr.enabled=!1;const l=n.getRenderTarget();n.setRenderTarget(this.renderTarget),n.render(i,this.camera),i.overrideMaterial=null,this.floor.visible=!0,this.blurShadow(n),n.xr.enabled=a,n.setRenderTarget(l),n.setClearAlpha(s)}blurShadow(n){const{camera:i,horizontalBlurMaterial:s,verticalBlurMaterial:a,renderTarget:l,renderTargetBlur:c,blurPlane:d}=this;d.visible=!0,d.material=s,s.uniforms.h.value=1/this.renderTarget.width,s.uniforms.tDiffuse.value=this.renderTarget.texture,n.setRenderTarget(c),n.render(d,i),d.material=a,a.uniforms.v.value=1/this.renderTarget.height,a.uniforms.tDiffuse.value=this.renderTargetBlur.texture,n.setRenderTarget(l),n.render(d,i),d.visible=!1}dispose(){null!=this.renderTarget&&this.renderTarget.dispose(),null!=this.renderTargetBlur&&this.renderTargetBlur.dispose(),this.depthMaterial.dispose(),this.horizontalBlurMaterial.dispose(),this.verticalBlurMaterial.dispose(),this.floor.material.dispose(),this.floor.geometry.dispose(),this.blurPlane.geometry.dispose(),this.removeFromParent()}}const ZL=new N,yie=new N,vie=new N,yI=new class W$e{constructor(n,i,s=0,a=1/0){this.ray=new lA(n,i),this.near=s,this.far=a,this.camera=null,this.layers=new fN,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(n,i){this.ray.set(n,i)}setFromCamera(n,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}setFromXRController(n){return gJ.identity().extractRotation(n.matrixWorld),this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(gJ),this}intersectObject(n,i=!0,s=[]){return RB(n,this,s,i),s.sort(_J),s}intersectObjects(n,i=!0,s=[]){for(let a=0,l=n.length;a<l;a++)RB(n[a],this,s,i);return s.sort(_J),s}},r7e=new N,r0=new ve;class s7e extends Id{constructor({canvas:n,element:i,width:s,height:a}){super(),this.annotationRenderer=new wje,this.effectRenderer=null,this.schemaElement=document.createElement("script"),this.width=1,this.height=1,this.aspect=1,this.scaleStep=0,this.renderCount=0,this.externalRenderer=null,this.camera=new Wr(45,1,.1,100),this.xrCamera=null,this.url=null,this.pivot=new di,this.target=new di,this.animationNames=[],this.boundingBox=new jr,this.boundingSphere=new ks,this.size=new N,this.idealAspect=0,this.framedFoVDeg=0,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.bakedShadows=new Set,this.exposure=1,this.toneMapping=4,this.canScale=!0,this.isDirty=!1,this.goalTarget=new N,this.targetDamperX=new $o,this.targetDamperY=new $o,this.targetDamperZ=new $o,this._currentGLTF=null,this._model=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.groundedSkybox=new R9e,this.name="ModelScene",this.element=i,this.canvas=n,this.camera=new Wr(45,1,.1,100),this.camera.name="MainCamera",this.add(this.pivot),this.pivot.name="Pivot",this.pivot.add(this.target),this.setSize(s,a),this.target.name="Target",this.mixer=new Q$e(this.target);const{domElement:l}=this.annotationRenderer,{style:c}=l;c.display="none",c.pointerEvents="none",c.position="absolute",c.top="0",this.element.shadowRoot.querySelector(".default").appendChild(l),this.schemaElement.setAttribute("type","application/ld+json")}get context(){return this.canvas.getContext("2d")}getCamera(){return null!=this.xrCamera?this.xrCamera:this.camera}queueRender(){this.isDirty=!0}shouldRender(){return this.isDirty}hasRendered(){this.isDirty=!1}forceRescale(){this.scaleStep=-1,this.queueRender()}setObject(n){var i=this;return ke(function*(){i.reset(),i._model=n,i.target.add(n),yield i.setupScene()})()}setSource(n,i=()=>{}){var s=this;return ke(function*(){if(!n||n===s.url)return void i(1);if(s.reset(),s.url=n,null!=s.externalRenderer){const u=yield s.externalRenderer.load(i);return s.boundingSphere.radius=u.framedRadius,void(s.idealAspect=u.fieldOfViewAspect)}let a;null!=s.cancelPendingSourceChange&&(s.cancelPendingSourceChange(),s.cancelPendingSourceChange=null);try{a=yield new Promise(function(){var u=ke(function*(h,f){s.cancelPendingSourceChange=()=>f();try{h(yield s.element[Mi].loader.load(n,s.element,i))}catch(p){f(p)}});return function(h,f){return u.apply(this,arguments)}}())}catch(u){if(null==u)return;throw u}s.cancelPendingSourceChange=null,s.reset(),s.url=n,s._currentGLTF=a,null!=a&&(s._model=a.scene,s.target.add(a.scene));const{animations:l}=a,c=new Map,d=[];for(const u of l)c.set(u.name,u),d.push(u.name);s.animations=l,s.animationsByName=c,s.animationNames=d,yield s.setupScene()})()}setupScene(){var n=this;return ke(function*(){n.applyTransform(),n.updateBoundingBox(),yield n.updateFraming(),n.updateShadow(),n.setShadowIntensity(n.shadowIntensity),n.setGroundedSkybox()})()}reset(){this.url=null,this.renderCount=0,this.queueRender(),null!=this.shadow&&this.shadow.setIntensity(0),this.bakedShadows.clear();const{_model:n}=this;null!=n&&(n.removeFromParent(),this._model=null);const i=this._currentGLTF;null!=i&&(i.dispose(),this._currentGLTF=null),null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}dispose(){this.reset(),null!=this.shadow&&(this.shadow.dispose(),this.shadow=null),this.element[fI]=null,this.element[pI]=null,this.element[lp]=null}get currentGLTF(){return this._currentGLTF}setSize(n,i){if(this.width!==n||this.height!==i){if(this.width=Math.max(n,1),this.height=Math.max(i,1),this.annotationRenderer.setSize(n,i),this.aspect=this.width/this.height,null!=this.externalRenderer){const s=window.devicePixelRatio;this.externalRenderer.resize(n*s,i*s)}this.queueRender()}}markBakedShadow(n){n.userData.noHit=!0,this.bakedShadows.add(n)}unmarkBakedShadow(n){n.userData.noHit=!1,n.visible=!0,this.bakedShadows.delete(n),this.boundingBox.expandByObject(n)}findBakedShadows(n){const i=new jr;n.traverse(s=>{const a=s;if(!a.material||!a.material.transparent)return;i.setFromObject(a);const c=i.getSize(r7e),d=Math.min(c.x,c.y,c.z);Math.max(c.x,c.y,c.z)<100*d||this.markBakedShadow(a)})}checkBakedShadows(){const{min:n,max:i}=this.boundingBox,s=new jr;this.boundingBox.getSize(this.size);for(const a of this.bakedShadows)s.setFromObject(a),!(s.min.y<n.y+this.size.y/100&&s.min.x<=n.x&&s.max.x>=i.x&&s.min.z<=n.z&&s.max.z>=i.z)&&(s.min.z<n.z+this.size.z/100&&s.min.x<=n.x&&s.max.x>=i.x&&s.min.y<=n.y&&s.max.y>=i.y||this.unmarkBakedShadow(a))}applyTransform(){const{model:n}=this;if(null==n)return;const i=Nd(this.element.orientation)[0].terms,s=Ic(i[0]).number,a=Ic(i[1]).number,l=Ic(i[2]).number;n.quaternion.setFromEuler(new Ml(a,l,s,"YXZ"));const c=Nd(this.element.scale)[0].terms;n.scale.set(c[0].number,c[1].number,c[2].number)}updateBoundingBox(){const{model:n}=this;if(null==n)return;this.target.remove(n),this.findBakedShadows(n);const i=(s,a)=>s.expandByPoint(a);this.setBakedShadowVisibility(!1),this.boundingBox=$S(n,i,new jr),this.boundingBox.isEmpty()&&(this.setBakedShadowVisibility(!0),this.bakedShadows.forEach(s=>this.unmarkBakedShadow(s)),this.boundingBox=$S(n,i,new jr)),this.checkBakedShadows(),this.setBakedShadowVisibility(),this.boundingBox.getSize(this.size),this.target.add(n)}updateFraming(){var n=this;return ke(function*(){const{model:i}=n;if(null==i)return;n.target.remove(i),n.setBakedShadowVisibility(!1);const{center:s}=n.boundingSphere;n.element.requestUpdate("cameraTarget"),yield n.element.updateComplete,s.copy(n.getTarget()),n.boundingSphere.radius=Math.sqrt($S(i,(c,d)=>Math.max(c,s.distanceToSquared(d)),0)),n.idealAspect=$S(i,(c,d)=>{d.sub(s);const u=Math.sqrt(d.x*d.x+d.z*d.z);return Math.max(c,u/(n.idealCameraDistance()-Math.abs(d.y)))},0)/Math.tan(n.framedFoVDeg/2*Math.PI/180),n.setBakedShadowVisibility(),n.target.add(i)})()}setBakedShadowVisibility(n=this.shadowIntensity<=0){for(const i of this.bakedShadows)i.visible=n}idealCameraDistance(){const n=this.framedFoVDeg/2*Math.PI/180;return this.boundingSphere.radius/Math.sin(n)}adjustedFoV(n){const i=Math.tan(n/2*Math.PI/180)*Math.max(1,this.idealAspect/this.aspect);return 2*Math.atan(i)*180/Math.PI}getNDC(n,i){if(null!=this.xrCamera)r0.set(n/window.screen.width,i/window.screen.height);else{const s=this.element.getBoundingClientRect();r0.set((n-s.x)/this.width,(i-s.y)/this.height)}return r0.multiplyScalar(2).subScalar(1),r0.y*=-1,r0}getSize(){return{width:this.width,height:this.height}}setEnvironmentAndSkybox(n,i){this.element[Mi].arRenderer.presentedScene!==this&&(this.environment=n,this.setBackground(i),this.queueRender())}setBackground(n){this.groundedSkybox.map=n,this.groundedSkybox.isUsable()?(this.target.add(this.groundedSkybox),this.background=null):(this.target.remove(this.groundedSkybox),this.background=n)}farRadius(){return this.boundingSphere.radius*(null!=this.groundedSkybox.parent?10:1)}setGroundedSkybox(){const n=Nd(this.element.skyboxHeight)[0].terms[0],i=Ic(n).number;this.groundedSkybox.updateGeometry(i,10*this.boundingSphere.radius),this.groundedSkybox.position.y=i-(this.shadow?2*this.shadow.gap():0),this.setBackground(this.groundedSkybox.map)}setTarget(n,i,s){this.goalTarget.set(-n,-i,-s)}setTargetDamperDecayTime(n){this.targetDamperX.setDecayTime(n),this.targetDamperY.setDecayTime(n),this.targetDamperZ.setDecayTime(n)}getTarget(){return this.goalTarget.clone().multiplyScalar(-1)}getDynamicTarget(){return this.target.position.clone().multiplyScalar(-1)}jumpToGoal(){this.updateTarget(1e4)}updateTarget(n){const i=this.goalTarget,s=this.target.position;if(i.equals(s))return!1;{const a=this.boundingSphere.radius/10;let{x:l,y:c,z:d}=s;return l=this.targetDamperX.update(l,i.x,n,a),c=this.targetDamperY.update(c,i.y,n,a),d=this.targetDamperZ.update(d,i.z,n,a),this.groundedSkybox.position.x=-l,this.groundedSkybox.position.z=-d,this.target.position.set(l,c,d),this.target.updateMatrixWorld(),this.queueRender(),!0}}pointTowards(n,i){const{x:s,z:a}=this.position;this.yaw=Math.atan2(n-s,i-a)}get model(){return this._model}set yaw(n){this.pivot.rotation.y=n,this.groundedSkybox.rotation.y=-n,this.queueRender()}get yaw(){return this.pivot.rotation.y}set animationTime(n){this.mixer.setTime(n),this.queueShadowRender()}get animationTime(){if(null!=this.currentAnimationAction){const n=Math.max(this.currentAnimationAction._loopCount,0);return 2202!==this.currentAnimationAction.loop||1&~n?this.currentAnimationAction.time:this.duration-this.currentAnimationAction.time}return 0}set animationTimeScale(n){this.mixer.timeScale=n}get animationTimeScale(){return this.mixer.timeScale}get duration(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return null!=this.currentAnimationAction}playAnimation(n=null,i=0,s=2201,a=1/0){if(null==this._currentGLTF)return;const{animations:l}=this;if(null==l||0===l.length)return;let c=null;if(null!=n&&(c=this.animationsByName.get(n),null==c)){const d=parseInt(n);!isNaN(d)&&d>=0&&d<l.length&&(c=l[d])}null==c&&(c=l[0]);try{const{currentAnimationAction:d}=this,u=this.mixer.clipAction(c,this);this.currentAnimationAction=u,this.element.paused?this.mixer.stopAllAction():(u.paused=!1,null!=d&&u!==d?u.crossFadeFrom(d,i,!1):this.animationTimeScale>0&&this.animationTime==this.duration&&(this.animationTime=0)),u.setLoop(s,a),u.enabled=!0,u.clampWhenFinished=!0,u.play()}catch(d){console.error(d)}}stopAnimation(){this.currentAnimationAction=null,this.mixer.stopAllAction()}updateAnimation(n){this.mixer.update(n),this.queueShadowRender()}subscribeMixerEvent(n,i){this.mixer.addEventListener(n,i)}updateShadow(){const n=this.shadow;null!=n&&(n.setScene(this,this.shadowSoftness,"wall"===this.element.arPlacement?"back":"bottom"),n.needsUpdate=!0)}renderShadow(n){const i=this.shadow;null!=i&&1==i.needsUpdate&&(i.render(n,this),i.needsUpdate=!1)}queueShadowRender(){null!=this.shadow&&(this.shadow.needsUpdate=!0)}setShadowIntensity(n){this.shadowIntensity=n,null==this._currentGLTF||(this.setBakedShadowVisibility(),n<=0&&null==this.shadow)||(null==this.shadow&&(this.shadow=new i7e(this,this.shadowSoftness,"wall"===this.element.arPlacement?"back":"bottom")),this.shadow.setIntensity(n))}setShadowSoftness(n){this.shadowSoftness=n;const i=this.shadow;i?.setSoftness(n)}setShadowOffset(n){const i=this.shadow;i?.setOffset(n)}getHit(n=this){return yI.intersectObject(n,!0).find(s=>s.object.visible&&!s.object.userData.noHit)}hitFromController(n,i=this){return yI.setFromXRController(n),this.getHit(i)}hitFromPoint(n,i=this){return yI.setFromCamera(n,this.getCamera()),this.getHit(i)}positionAndNormalFromPoint(n,i=this){var s;const a=this.hitFromPoint(n,i);return null==a?null:{position:a.point,normal:null!=a.face?a.face.normal.clone().applyNormalMatrix((new fn).getNormalMatrix(a.object.matrixWorld)):yI.ray.direction.clone().multiplyScalar(-1),uv:null!==(s=a.uv)&&void 0!==s?s:null}}surfaceFromPoint(n,i=this){const s=this.element.model;if(null==s)return null;const a=this.hitFromPoint(n,i);if(null==a||null==a.face)return null;const l=s[GL](a),{meshes:c,primitives:d}=l.mesh.userData.associations,u=new N,h=new N,f=new N,{a:p,b:g,c:m}=a.face,_=a.object;_.getVertexPosition(p,u),_.getVertexPosition(g,h),_.getVertexPosition(m,f);const v=new Uo(u,h,f),y=new N;return v.getBarycoord(_.worldToLocal(a.point),y),`${c} ${d} ${p} ${g} ${m} ${y.x.toFixed(3)} ${y.y.toFixed(3)} ${y.z.toFixed(3)}`}addHotspot(n){this.target.add(n),this.annotationRenderer.domElement.appendChild(n.element),this.updateSurfaceHotspot(n)}removeHotspot(n){this.target.remove(n)}forHotspots(n){const{children:i}=this.target;for(let s=0,a=i.length;s<a;s++){const l=i[s];l instanceof uie&&n(l)}}updateSurfaceHotspot(n){if(null==n.surface||null==this.element.model)return;const i=Nd(n.surface)[0].terms;if(8!=i.length)return void console.warn(n.surface+" does not have exactly 8 numbers.");const s=this.element.model[aie](i[0].number,i[1].number);if(null==s)return void console.warn(n.surface+" does not match a node/primitive in this glTF! Skipping this hotspot.");const a=s.mesh.geometry.attributes.position.count,l=new N(i[2].number,i[3].number,i[4].number);if(l.x>=a||l.y>=a||l.z>=a)return void console.warn(n.surface+" vertex indices out of range in this glTF! Skipping this hotspot.");const c=new N(i[5].number,i[6].number,i[7].number);n.mesh=s.mesh,n.tri=l,n.bary=c,n.updateSurface()}animateSurfaceHotspots(){this.element.paused||this.forHotspots(n=>{n.updateSurface()})}updateHotspotsVisibility(n){this.forHotspots(i=>{ZL.copy(n),yie.setFromMatrixPosition(i.matrixWorld),ZL.sub(yie),vie.copy(i.normal).transformDirection(this.target.matrixWorld),ZL.dot(vie)<0?i.hide():i.show()})}orientHotspots(n){this.forHotspots(i=>{i.orient(n)})}setHotspotsVisibility(n){this.forHotspots(i=>{i.visible=n})}updateSchema(n){var i;const{schemaElement:s,element:a}=this,{alt:l,poster:c,iosSrc:d}=a;if(null!=n){const u=[{"@type":"MediaObject",contentUrl:n,encodingFormat:"gltf"===(null===(i=n.split(".").pop())||void 0===i?void 0:i.toLowerCase())?"model/gltf+json":"model/gltf-binary"}];d&&u.push({"@type":"MediaObject",contentUrl:d,encodingFormat:"model/vnd.usdz+zip"}),s.textContent=JSON.stringify({"@context":"http://schema.org/","@type":"3DModel",image:c??void 0,name:l??void 0,encoding:u}),document.head.appendChild(s)}else null!=s.parentElement&&s.parentElement.removeChild(s)}}class o7e extends EventTarget{constructor(){super(...arguments),this.ongoingActivities=new Set,this.totalProgress=0}get ongoingActivityCount(){return this.ongoingActivities.size}beginActivity(n){const i={progress:0,completed:!1};return this.ongoingActivities.add(i),1===this.ongoingActivityCount&&this.announceTotalProgress(i,0,n),s=>{let a;return a=Math.max(Mc(s,0,1),i.progress),a!==i.progress&&this.announceTotalProgress(i,a,n),i.progress}}announceTotalProgress(n,i,s){let a=0,l=0;1==i&&(n.completed=!0);for(const u of this.ongoingActivities){const{progress:h}=u;a+=1-h,u.completed&&l++}const c=n.progress;n.progress=i,this.totalProgress+=(i-c)*(1-this.totalProgress)/a,this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:l===this.ongoingActivityCount?1:this.totalProgress,reason:s}})),l===this.ongoingActivityCount&&(this.totalProgress=0,this.ongoingActivities.clear())}}var bie,Aie,xie,wie,Cie,Eie,Mie,Sie,Iie,Tie,Die,Rie,kie,vI=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const qu=document.createElement("canvas"),JL=Symbol("fallbackResizeHandler"),Pie=Symbol("defaultAriaLabel"),bI=Symbol("resizeObserver"),R_=Symbol("clearModelTimeout"),e3=Symbol("onContextLost"),k_=Symbol("loaded"),t3=Symbol("status"),n3=Symbol("onFocus"),i3=Symbol("onBlur"),P_=Symbol("updateSize"),AI=Symbol("intersectionObserver"),cp=Symbol("isElementInViewport"),xI=Symbol("announceModelVisibility"),F_=Symbol("ariaLabel"),r3=Symbol("altDefaulted"),s0=Symbol("statusElement"),wI=Symbol("updateStatus"),o0=Symbol("loadedTime"),O_=Symbol("updateSource"),Fie=Symbol("markLoaded"),CI=Symbol("container"),Pl=Symbol("input"),s3=Symbol("canvas"),He=Symbol("scene"),ho=Symbol("needsRender"),Rc=Symbol("tick"),kc=Symbol("onModelLoad"),EI=Symbol("onResize"),Mi=Symbol("renderer"),dp=Symbol("progressTracker"),Oie=Symbol("getLoaded"),up=Symbol("getModelIsVisible"),N_=Symbol("shouldAttemptPreload"),Yu=r=>({x:r.x,y:r.y,z:r.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}}),o3=r=>({u:r.x,v:r.y,toString(){return`${this.u} ${this.v}`}});class a0 extends Yf{constructor(){super(),this.alt=null,this.src=null,this.withCredentials=!1,this.generateSchema=!1,this[bie]=!1,this[Aie]=!1,this[xie]=0,this[wie]="",this[Cie]=null,this[Eie]=aee(()=>{const a=this.getBoundingClientRect();this[P_](a)},50),this[Mie]=aee(a=>{const l=this.modelIsVisible;l!==a&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:l}}))},0),this[Sie]=null,this[Iie]=null,this[Tie]=new o7e,this[Die]=()=>{this[s0].textContent=this[t3]},this[Rie]=()=>{this[s0].textContent=""},this[kie]=a=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:a.sourceEvent}}))},this.attachShadow({mode:"open"});const n=this.shadowRoot;let i,s;if((r=>{ZJ(_Qe,r)})(n),this[CI]=n.querySelector(".container"),this[Pl]=n.querySelector(".userInput"),this[s3]=n.querySelector("canvas"),this[s0]=n.querySelector("#status"),this[Pie]=this[Pl].getAttribute("aria-label"),this.isConnected){const a=this.getBoundingClientRect();i=a.width,s=a.height}else i=300,s=150;this[He]=new s7e({canvas:this[s3],element:this,width:i,height:s}),Promise.resolve().then(()=>{this[P_](this.getBoundingClientRect())}),QB&&(this[bI]=new ResizeObserver(a=>{if(!this[Mi].isPresenting)for(let l of a)l.target===this&&this[P_](l.contentRect)})),jB?this[AI]=new IntersectionObserver(a=>{for(let l of a)if(l.target===this){const c=this.modelIsVisible;this[cp]=l.isIntersecting,this[xI](c),this[cp]&&!this.loaded&&this[O_]()}},{root:null,rootMargin:"0px",threshold:1e-5}):this[cp]=!0}static get is(){return"model-viewer"}static set modelCacheSize(n){Go[Gu].evictionThreshold=n}static get modelCacheSize(){return Go[Gu].evictionThreshold}static set minimumRenderScale(n){n>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),n<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),kl.singleton.minScale=n}static get minimumRenderScale(){return kl.singleton.minScale}get loaded(){return this[Oie]()}get[(bie=cp,Aie=k_,xie=o0,wie=t3,Cie=R_,Eie=JL,Mie=xI,Sie=bI,Iie=AI,Tie=dp,Mi)](){return kl.singleton}get modelIsVisible(){return this[up]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),QB?this[bI].observe(this):self.addEventListener("resize",this[JL]),jB&&this[AI].observe(this),this.addEventListener("focus",this[n3]),this.addEventListener("blur",this[i3]);const n=this[Mi];n.addEventListener("contextlost",this[e3]),n.registerScene(this[He]),null!=this[R_]&&(self.clearTimeout(this[R_]),this[R_]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),QB?this[bI].unobserve(this):self.removeEventListener("resize",this[JL]),jB&&this[AI].unobserve(this),this.removeEventListener("focus",this[n3]),this.removeEventListener("blur",this[i3]);const n=this[Mi];n.removeEventListener("contextlost",this[e3]),n.unregisterScene(this[He]),this[R_]=self.setTimeout(()=>{this[He].dispose(),this[R_]=null},10)}updated(n){super.updated(n),n.has("src")&&(null==this.src?(this[k_]=!1,this[o0]=0,this[He].reset()):this.src!==this[He].url&&(this[k_]=!1,this[o0]=0,this[O_]())),n.has("alt")&&this[Pl].setAttribute("aria-label",this[F_]),n.has("generateSchema")&&this[He].updateSchema(this.generateSchema?this.src:null)}toDataURL(n,i){return this[Mi].displayCanvas(this[He]).toDataURL(n,i)}toBlob(n){var i=this;return ke(function*(){const s=n?n.mimeType:void 0,a=n?n.qualityArgument:void 0,l=n?n.idealAspect:void 0,{width:c,height:d,idealAspect:u,aspect:h}=i[He],{dpr:f,scaleFactor:p}=i[Mi];let g=c*p*f,m=d*p*f,_=0,v=0;if(!0===l)if(u>h){const y=m;m=Math.round(g/u),v=(y-m)/2}else{const y=g;g=Math.round(m*u),_=(y-g)/2}qu.width=g,qu.height=m;try{return new Promise(function(){var y=ke(function*(b,A){qu.getContext("2d").drawImage(i[Mi].displayCanvas(i[He]),_,v,g,m,0,0,g,m),qu.toBlob(x=>{if(!x)return A(new Error("Unable to retrieve canvas blob"));b(x)},s,a)});return function(b,A){return y.apply(this,arguments)}}())}finally{i[P_]({width:c,height:d})}})()}registerEffectComposer(n){n.setRenderer(this[Mi].threeRenderer),n.setMainCamera(this[He].getCamera()),n.setMainScene(this[He]),this[He].effectRenderer=n}unregisterEffectComposer(){this[He].effectRenderer=null}registerRenderer(n){this[He].externalRenderer=n}unregisterRenderer(){this[He].externalRenderer=null}get[F_](){return this[r3]}get[r3](){return null==this.alt||"null"===this.alt?this[Pie]:this.alt}[Oie](){return this[k_]}[up](){return this.loaded&&this[cp]}[N_](){return!!this.src&&this[cp]}[P_]({width:n,height:i}){0===n||0===i||(this[CI].style.width=`${n}px`,this[CI].style.height=`${i}px`,this[EI]({width:n,height:i}))}[Rc](n,i){var s;null===(s=this[He].effectRenderer)||void 0===s||s.beforeRender(n,i)}[Fie](){this[k_]||(this[k_]=!0,this[o0]=performance.now())}[ho](){this[He].queueRender()}[kc](){}[wI](n){this[t3]=n;const i=this.getRootNode();null!=i&&i.activeElement===this&&this[s0].textContent!=n&&(this[s0].textContent=n)}[(Die=n3,Rie=i3,EI)](n){this[He].setSize(n.width,n.height)}[(kie=e3,O_)](){var n=this;return ke(function*(){const i=n[He];if(n.loaded||!n[N_]()||n.src===i.url)return;n.generateSchema&&i.updateSchema(n.src),n[wI]("Loading"),i.stopAnimation();const s=n[dp].beginActivity("model-load"),a=n.src;try{const l=i.setSource(a,d=>s(.95*Mc(d,0,1))),c=n[VS]();yield Promise.all([l,c]),n[Fie](),n[kc](),n.updateComplete.then(()=>{n.dispatchEvent(new CustomEvent("before-render"))}),yield new Promise(d=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.dispatchEvent(new CustomEvent("load",{detail:{url:a}})),d()})})})}catch(l){n.dispatchEvent(new CustomEvent("error",{detail:{type:"loadfailure",sourceError:l}}))}finally{s(1)}})()}}vI([Wt({type:String})],a0.prototype,"alt",void 0),vI([Wt({type:String})],a0.prototype,"src",void 0),vI([Wt({type:Boolean,attribute:"with-credentials"})],a0.prototype,"withCredentials",void 0),vI([Wt({type:Boolean,attribute:"generate-schema"})],a0.prototype,"generateSchema",void 0);var a3=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const MI=Symbol("changeAnimation"),zd=Symbol("paused"),h7e={repetitions:1/0,pingpong:!1},hp=Symbol("hotspotMap"),l3=Symbol("mutationCallback"),l0=Symbol("observer"),c3=Symbol("addHotspot"),Bie=Symbol("removeHotspot"),d3=new vt;var Si=Uint8Array,jo=Uint16Array,c0=Int32Array,B_=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),L_=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d0=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Uie=function(r,n){for(var i=new jo(31),s=0;s<31;++s)i[s]=n+=1<<r[s-1];var a=new c0(i[30]);for(s=1;s<30;++s)for(var l=i[s];l<i[s+1];++l)a[l]=l-i[s]<<5|s;return{b:i,r:a}},zie=Uie(B_,2),SI=zie.r;zie.b[28]=258,SI[258]=28;for(var h3=Uie(L_,0).r,u0=new jo(32768),nr=0;nr<32768;++nr){var Xu=(43690&nr)>>1|(21845&nr)<<1;u0[nr]=((65280&(Xu=(61680&(Xu=(52428&Xu)>>2|(13107&Xu)<<2))>>4|(3855&Xu)<<4))>>8|(255&Xu)<<8)>>1}var Pc=function(r,n,i){for(var s=r.length,a=0,l=new jo(n);a<s;++a)r[a]&&++l[r[a]-1];var d,c=new jo(n);for(a=1;a<n;++a)c[a]=c[a-1]+l[a-1]<<1;if(i){d=new jo(1<<n);var u=15-n;for(a=0;a<s;++a)if(r[a])for(var h=a<<4|r[a],f=n-r[a],p=c[r[a]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)d[u0[p]>>u]=h}else for(d=new jo(s),a=0;a<s;++a)r[a]&&(d[a]=u0[c[r[a]-1]++]>>15-r[a]);return d},Ku=new Si(288);for(nr=0;nr<144;++nr)Ku[nr]=8;for(nr=144;nr<256;++nr)Ku[nr]=9;for(nr=256;nr<280;++nr)Ku[nr]=7;for(nr=280;nr<288;++nr)Ku[nr]=8;var h0=new Si(32);for(nr=0;nr<32;++nr)h0[nr]=5;var Gie=Pc(Ku,9,0),Qie=Pc(h0,5,0),f0=function(r){return(r+7)/8|0},Zu=function(r,n,i){return(null==n||n<0)&&(n=0),(null==i||i>r.length)&&(i=r.length),new Si(r.subarray(n,i))},Wie=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wn=function(r,n,i){var s=new Error(n||Wie[r]);if(s.code=r,Error.captureStackTrace&&Error.captureStackTrace(s,Wn),!i)throw s;return s},Fc=function(r,n,i){var s=n/8|0;r[s]|=i<<=7&n,r[s+1]|=i>>8},U_=function(r,n,i){var s=n/8|0;r[s]|=i<<=7&n,r[s+1]|=i>>8,r[s+2]|=i>>16},RI=function(r,n){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s,f:r[s]});var a=i.length,l=i.slice();if(!a)return{t:g3,l:0};if(1==a){var c=new Si(i[0].s+1);return c[i[0].s]=1,{t:c,l:1}}i.sort(function(E,M){return E.f-M.f}),i.push({s:-1,f:25001});var d=i[0],u=i[1],h=0,f=1,p=2;for(i[0]={s:-1,f:d.f+u.f,l:d,r:u};f!=a-1;)d=i[i[h].f<i[p].f?h++:p++],u=i[h!=f&&i[h].f<i[p].f?h++:p++],i[f++]={s:-1,f:d.f+u.f,l:d,r:u};var g=l[0].s;for(s=1;s<a;++s)l[s].s>g&&(g=l[s].s);var m=new jo(g+1),_=kI(i[f-1],m,0);if(_>n){s=0;var v=0,y=_-n,b=1<<y;for(l.sort(function(M,S){return m[S.s]-m[M.s]||M.f-S.f});s<a;++s){var A=l[s].s;if(!(m[A]>n))break;v+=b-(1<<_-m[A]),m[A]=n}for(v>>=y;v>0;){var x=l[s].s;m[x]<n?v-=1<<n-m[x]++-1:++s}for(;s>=0&&v;--s){var w=l[s].s;m[w]==n&&(--m[w],++v)}_=n}return{t:new Si(m),l:_}},kI=function(r,n,i){return-1==r.s?Math.max(kI(r.l,n,i+1),kI(r.r,n,i+1)):n[r.s]=i},f3=function(r){for(var n=r.length;n&&!r[--n];);for(var i=new jo(++n),s=0,a=r[0],l=1,c=function(u){i[s++]=u},d=1;d<=n;++d)if(r[d]==a&&d!=n)++l;else{if(!a&&l>2){for(;l>138;l-=138)c(32754);l>2&&(c(l>10?l-11<<5|28690:l-3<<5|12305),l=0)}else if(l>3){for(c(a),--l;l>6;l-=6)c(8304);l>2&&(c(l-3<<5|8208),l=0)}for(;l--;)c(a);l=1,a=r[d]}return{c:i.subarray(0,s),n}},z_=function(r,n){for(var i=0,s=0;s<n.length;++s)i+=r[s]*n[s];return i},p3=function(r,n,i){var s=i.length,a=f0(n+2);r[a]=255&s,r[a+1]=s>>8,r[a+2]=255^r[a],r[a+3]=255^r[a+1];for(var l=0;l<s;++l)r[a+l+4]=i[l];return 8*(a+4+s)},m3=function(r,n,i,s,a,l,c,d,u,h,f){Fc(n,f++,i),++a[256];for(var p=RI(a,15),g=p.t,m=p.l,_=RI(l,15),v=_.t,y=_.l,b=f3(g),A=b.c,x=b.n,w=f3(v),E=w.c,M=w.n,S=new jo(19),T=0;T<A.length;++T)++S[31&A[T]];for(T=0;T<E.length;++T)++S[31&E[T]];for(var P=RI(S,7),C=P.t,I=P.l,k=19;k>4&&!C[d0[k-1]];--k);var R,V,U,X,O=h+5<<3,z=z_(a,Ku)+z_(l,h0)+c,q=z_(a,g)+z_(l,v)+c+14+3*k+z_(S,C)+2*S[16]+3*S[17]+7*S[18];if(u>=0&&O<=z&&O<=q)return p3(n,f,r.subarray(u,u+h));if(Fc(n,f,1+(q<z)),f+=2,q<z){R=Pc(g,m,0),V=g,U=Pc(v,y,0),X=v;var ae=Pc(C,I,0);for(Fc(n,f,x-257),Fc(n,f+5,M-1),Fc(n,f+10,k-4),f+=14,T=0;T<k;++T)Fc(n,f+3*T,C[d0[T]]);f+=3*k;for(var fe=[A,E],Pe=0;Pe<2;++Pe){var Ve=fe[Pe];for(T=0;T<Ve.length;++T)Fc(n,f,ae[ie=31&Ve[T]]),f+=C[ie],ie>15&&(Fc(n,f,Ve[T]>>5&127),f+=Ve[T]>>12)}}else R=Gie,V=Ku,U=Qie,X=h0;for(T=0;T<d;++T){var pe=s[T];if(pe>255){var ie;U_(n,f,R[257+(ie=pe>>18&31)]),f+=V[ie+257],ie>7&&(Fc(n,f,pe>>23&31),f+=B_[ie]);var De=31&pe;U_(n,f,U[De]),f+=X[De],De>3&&(U_(n,f,pe>>5&8191),f+=L_[De])}else U_(n,f,R[pe]),f+=V[pe]}return U_(n,f,R[256]),f+V[256]},qie=new c0([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),g3=new Si(0),Xie=function(){for(var r=new Int32Array(256),n=0;n<256;++n){for(var i=n,s=9;--s;)i=(1&i&&-306674912)^i>>>1;r[n]=i}return r}(),PI=function(){var r=-1;return{p:function(n){for(var i=r,s=0;s<n.length;++s)i=Xie[255&i^n[s]]^i>>>8;r=i},d:function(){return~r}}},FI=function(r,n,i,s,a){if(!a&&(a={l:1},n.dictionary)){var l=n.dictionary.subarray(-32768),c=new Si(l.length+r.length);c.set(l),c.set(r,l.length),r=c,a.w=l.length}return function(r,n,i,s,a,l){var c=l.z||r.length,d=new Si(s+c+5*(1+Math.ceil(c/7e3))+a),u=d.subarray(s,d.length-a),h=l.l,f=7&(l.r||0);if(n){f&&(u[0]=l.r>>3);for(var p=qie[n-1],g=p>>13,m=8191&p,_=(1<<i)-1,v=l.p||new jo(32768),y=l.h||new jo(_+1),b=Math.ceil(i/3),A=2*b,x=function(Le){return(r[Le]^r[Le+1]<<b^r[Le+2]<<A)&_},w=new c0(25e3),E=new jo(288),M=new jo(32),S=0,T=0,P=l.i||0,C=0,I=l.w||0,k=0;P+2<c;++P){var O=x(P),z=32767&P,q=y[O];if(v[z]=q,y[O]=z,I<=P){var R=c-P;if((S>7e3||C>24576)&&(R>423||!h)){f=m3(r,u,0,w,E,M,T,C,k,P-k,f),C=S=T=0,k=P;for(var V=0;V<286;++V)E[V]=0;for(V=0;V<30;++V)M[V]=0}var U=2,X=0,ae=m,fe=z-q&32767;if(R>2&&O==x(P-fe))for(var Pe=Math.min(g,R)-1,Ve=Math.min(32767,P),ie=Math.min(258,R);fe<=Ve&&--ae&&z!=q;){if(r[P+U]==r[P+U-fe]){for(var pe=0;pe<ie&&r[P+pe]==r[P+pe-fe];++pe);if(pe>U){if(U=pe,X=fe,pe>Pe)break;var De=Math.min(fe,pe-2),Ee=0;for(V=0;V<De;++V){var tt=P-fe+V&32767,mt=tt-v[tt]&32767;mt>Ee&&(Ee=mt,q=tt)}}}fe+=(z=q)-(q=v[z])&32767}if(X){w[C++]=268435456|SI[U]<<18|h3[X];var Tt=31&SI[U],be=31&h3[X];T+=B_[Tt]+L_[be],++E[257+Tt],++M[be],I=P+U,++S}else w[C++]=r[P],++E[r[P]]}}for(P=Math.max(P,I);P<c;++P)w[C++]=r[P],++E[r[P]];f=m3(r,u,h,w,E,M,T,C,k,P-k,f),h||(l.r=7&f|u[f/8|0]<<3,f-=7,l.h=y,l.p=v,l.i=P,l.w=I)}else{for(P=l.w||0;P<c+h;P+=65535){var H=P+65535;H>=c&&(u[f/8|0]=h,H=c),f=p3(u,f+1,r.subarray(P,H))}l.i=c}return Zu(d,0,s+f0(f)+a)}(r,null==n.level?6:n.level,null==n.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):20:12+n.mem,i,s,a)},OI=function(r,n){var i={};for(var s in r)i[s]=r[s];for(var s in n)i[s]=n[s];return i},fr=function(r,n,i){for(;i;++n)r[n]=i,i>>>=8};function BI(r,n){return FI(r,n||{},0,0)}var C3=function(r,n,i,s){for(var a in r){var l=r[a],c=n+a,d=s;Array.isArray(l)&&(d=OI(s,l[1]),l=l[0]),l instanceof Si?i[c]=[l,d]:(i[c+="/"]=[new Si(0),d],C3(l,c,i,s))}},lre=typeof TextEncoder<"u"&&new TextEncoder,E3=typeof TextDecoder<"u"&&new TextDecoder;try{E3.decode(g3,{stream:!0})}catch{}function H_(r,n){if(n){for(var i=new Si(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}if(lre)return lre.encode(r);var a=r.length,l=new Si(r.length+(r.length>>1)),c=0,d=function(f){l[c++]=f};for(s=0;s<a;++s){if(c+5>l.length){var u=new Si(c+8+(a-s<<1));u.set(l),l=u}var h=r.charCodeAt(s);h<128||n?d(h):h<2048?(d(192|h>>6),d(128|63&h)):h>55295&&h<57344?(d(240|(h=65536+(1047552&h)|1023&r.charCodeAt(++s))>>18),d(128|h>>12&63),d(128|h>>6&63),d(128|63&h)):(d(224|h>>12),d(128|h>>6&63),d(128|63&h))}return Zu(l,0,c)}var m0=function(r){var n=0;if(r)for(var i in r){var s=r[i].length;s>65535&&Wn(9),n+=s+4}return n},LI=function(r,n,i,s,a,l,c,d){var u=s.length,h=i.extra,f=d&&d.length,p=m0(h);fr(r,n,null!=c?33639248:67324752),n+=4,null!=c&&(r[n++]=20,r[n++]=i.os),r[n]=20,n+=2,r[n++]=i.flag<<1|(l<0&&8),r[n++]=a&&8,r[n++]=255&i.compression,r[n++]=i.compression>>8;var g=new Date(null==i.mtime?Date.now():i.mtime),m=g.getFullYear()-1980;if((m<0||m>119)&&Wn(10),fr(r,n,m<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>1),n+=4,-1!=l&&(fr(r,n,i.crc),fr(r,n+4,l<0?-l-2:l),fr(r,n+8,i.size)),fr(r,n+12,u),fr(r,n+14,p),n+=16,null!=c&&(fr(r,n,f),fr(r,n+6,i.attrs),fr(r,n+10,c),n+=14),r.set(s,n),n+=u,p)for(var _ in h){var v=h[_],y=v.length;fr(r,n,+_),fr(r,n+2,y),r.set(v,n+4),n+=4+y}return f&&(r.set(d,n),n+=f),n};"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;class T7e{parse(n,i,s,a){this.parseAsync(n,a).then(i).catch(s)}parseAsync(n,i={}){return ke(function*(){i=Object.assign({ar:{anchoring:{type:"plane"},planeAnchoring:{alignment:"horizontal"}},includeAnchoringProperties:!0,quickLookCompatible:!1,maxTextureSize:1024},i);const s={},a="model.usda";s[a]=null;let l='#usda 1.0\n(\n\tcustomLayerData = {\n\t\tstring creator = "Three.js USDZExporter"\n\t}\n\tdefaultPrim = "Root"\n\tmetersPerUnit = 1\n\tupAxis = "Y"\n)\n\n';l+=function R7e(r){return`def Xform "Root"\n{\n\tdef Scope "Scenes" (\n\t\tkind = "sceneLibrary"\n\t)\n\t{\n\t\tdef Xform "Scene" (\n\t\t\tcustomData = {\n\t\t\t\tbool preliminary_collidesWithEnvironment = 0\n\t\t\t\tstring sceneName = "Scene"\n\t\t\t}\n\t\t\tsceneName = "Scene"\n\t\t)\n\t\t{${!0===r.includeAnchoringProperties?`\n\t\ttoken preliminary:anchoring:type = "${r.ar.anchoring.type}"\n\t\ttoken preliminary:planeAnchoring:alignment = "${r.ar.planeAnchoring.alignment}"\n\t`:""}\n`}(i);const c={},d={};n.traverseVisible(h=>{if(h.isMesh){const f=h.geometry,p=h.material;if(p.isMeshStandardMaterial){const g="geometries/Geometry_"+f.id+".usda";if(!(g in s)){const m=function O7e(r){return`\ndef "Geometry"\n{\n${function N7e(r){const i=r.attributes,s=i.position.count;return`\n\tdef Mesh "Geometry"\n\t{\n\t\tint[] faceVertexCounts = [${function B7e(r){return Array((null!==r.index?r.index.count:r.attributes.position.count)/3).fill(3).join(", ")}(r)}]\n\t\tint[] faceVertexIndices = [${function L7e(r){const n=r.index,i=[];if(null!==n)for(let s=0;s<n.count;s++)i.push(n.getX(s));else{const s=r.attributes.position.count;for(let a=0;a<s;a++)i.push(a)}return i.join(", ")}(r)}]\n\t\tnormal3f[] normals = [${M3(i.normal,s)}] (\n\t\t\tinterpolation = "vertex"\n\t\t)\n\t\tpoint3f[] points = [${M3(i.position,s)}]\n${function z7e(r){let n="";for(let s=0;s<4;s++){const a=s>0?s:"",l=r["uv"+a];void 0!==l&&(n+=`\n\t\ttexCoord2f[] primvars:st${a} = [${U7e(l)}] (\n\t\t\tinterpolation = "vertex"\n\t\t)`)}const i=r.color;return void 0!==i&&(n+=`\n\tcolor3f[] primvars:displayColor = [${M3(i,i.count)}] (\n\t\tinterpolation = "vertex"\n\t\t)`),n}(i)}\n\t\tuniform token subdivisionScheme = "none"\n\t}\n`}(r)}\n}\n`}(f);s[g]=function P7e(r){let n='#usda 1.0\n(\n\tcustomLayerData = {\n\t\tstring creator = "Three.js USDZExporter"\n\t}\n\tdefaultPrim = "Root"\n\tmetersPerUnit = 1\n\tupAxis = "Y"\n)\n\n';return n+=r,H_(n)}(m)}p.uuid in c||(c[p.uuid]=p),l+=function F7e(r,n,i){const s="Object_"+r.id,a=fre(r.matrixWorld);return r.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",r),`def Xform "${s}" (\n\tprepend references = @./geometries/Geometry_${n.id}.usda@</Geometry>\n\tprepend apiSchemas = ["MaterialBindingAPI"]\n)\n{\n\tmatrix4d xformOp:transform = ${a}\n\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\n\trel material:binding = </Materials/Material_${i.id}>\n}\n\n`}(h,f,p)}else console.warn("THREE.USDZExporter: Unsupported material type (USDZ only supports MeshStandardMaterial)",h)}else h.isCamera&&(l+=function $7e(r){const n=r.name?r.name:"Camera_"+r.id,i=fre(r.matrixWorld);return r.matrixWorld.determinant()<0&&console.warn("THREE.USDZExporter: USDZ does not support negative scales",r),r.isOrthographicCamera?`def Camera "${n}"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ${i}\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\n\t\t\tfloat2 clippingRange = (${r.near.toPrecision(fo)}, ${r.far.toPrecision(fo)})\n\t\t\tfloat horizontalAperture = ${(10*(Math.abs(r.left)+Math.abs(r.right))).toPrecision(fo)}\n\t\t\tfloat verticalAperture = ${(10*(Math.abs(r.top)+Math.abs(r.bottom))).toPrecision(fo)}\n\t\t\ttoken projection = "orthographic"\n\t\t}\n\t\n\t`:`def Camera "${n}"\n\t\t{\n\t\t\tmatrix4d xformOp:transform = ${i}\n\t\t\tuniform token[] xformOpOrder = ["xformOp:transform"]\n\n\t\t\tfloat2 clippingRange = (${r.near.toPrecision(fo)}, ${r.far.toPrecision(fo)})\n\t\t\tfloat focalLength = ${r.getFocalLength().toPrecision(fo)}\n\t\t\tfloat focusDistance = ${r.focus.toPrecision(fo)}\n\t\t\tfloat horizontalAperture = ${r.getFilmWidth().toPrecision(fo)}\n\t\t\ttoken projection = "perspective"\n\t\t\tfloat verticalAperture = ${r.getFilmHeight().toPrecision(fo)}\n\t\t}\n\t\n\t`}(h))}),l+="\n\t\t}\n\t}\n}\n\n",l+=function V7e(r,n,i=!1){const s=[];for(const a in r)s.push(H7e(r[a],n,i));return`def "Materials"\n{\n${s.join("")}\n}\n\n`}(c,d,i.quickLookCompatible),s[a]=H_(l),l=null;for(const h in d){let f=d[h];!0===f.isCompressedTexture&&(f=jS(f));const p=D7e(f.image,f.flipY,i.maxTextureSize),g=yield new Promise(m=>p.toBlob(m,"image/png",1));s[`textures/Texture_${h}.png`]=new Uint8Array(yield g.arrayBuffer())}let u=0;for(const h in s){const f=s[h];u+=34+h.length;const g=63&u;if(4!==g){const _=new Uint8Array(64-g);s[h]=[f,{extra:{12345:_}}]}u=f.length}return function I7e(r,n){n||(n={});var i={},s=[];C3(r,"",i,n);var a=0,l=0;for(var c in i){var d=i[c],u=d[0],h=d[1],f=0==h.level?0:8,g=(p=H_(c)).length,m=h.comment,_=m&&H_(m),v=_&&_.length,y=m0(h.extra);g>65535&&Wn(11);var b=f?BI(u,h):u,A=b.length,x=PI();x.p(u),s.push(OI(h,{size:u.length,crc:x.d(),c:b,f:p,m:_,u:g!=c.length||_&&m.length!=v,o:a,compression:f})),a+=30+g+y+A,l+=76+2*(g+y)+(v||0)+A}for(var w=new Si(l+22),E=a,M=l-a,S=0;S<s.length;++S){var p;LI(w,(p=s[S]).o,p,p.f,p.u,p.c.length);var T=30+p.f.length+m0(p.extra);w.set(p.c,p.o+T),LI(w,a,p,p.f,p.u,p.c.length,p.o,p.m),a+=16+T+(p.m?p.m.length:0)}return function(r,n,i,s,a){fr(r,n,101010256),fr(r,n+8,i),fr(r,n+10,i),fr(r,n+12,s),fr(r,n+16,a)}(w,a,s.length,M,E),w}(s,{level:0})})()}}function D7e(r,n,i){if(typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas||typeof ImageBitmap<"u"&&r instanceof ImageBitmap){const s=i/Math.max(r.width,r.height),a=document.createElement("canvas");a.width=r.width*Math.min(1,s),a.height=r.height*Math.min(1,s);const l=a.getContext("2d");return!0===n&&(l.translate(0,a.height),l.scale(1,-1)),l.drawImage(r,0,0,a.width,a.height),a}throw new Error("THREE.USDZExporter: No valid image data found. Unable to process texture.")}const fo=7;function fre(r){const n=r.elements;return`( ${zI(n,0)}, ${zI(n,4)}, ${zI(n,8)}, ${zI(n,12)} )`}function zI(r,n){return`(${r[n+0]}, ${r[n+1]}, ${r[n+2]}, ${r[n+3]})`}function M3(r,n){if(void 0===r)return console.warn("USDZExporter: Normals missing."),Array(n).fill("(0, 0, 0)").join(", ");const i=[];for(let s=0;s<r.count;s++){const a=r.getX(s),l=r.getY(s),c=r.getZ(s);i.push(`(${a.toPrecision(fo)}, ${l.toPrecision(fo)}, ${c.toPrecision(fo)})`)}return i.join(", ")}function U7e(r){const n=[];for(let i=0;i<r.count;i++){const s=r.getX(i),a=r.getY(i);n.push(`(${s.toPrecision(fo)}, ${1-a.toPrecision(fo)})`)}return n.join(", ")}function H7e(r,n,i=!1){const s="\t\t\t",a=[],l=[];function c(d,u,h){const f=d.source.id+"_"+d.flipY;n[f]=d;const p=d.channel>0?"st"+d.channel:"st",g={1e3:"repeat",1001:"clamp",1002:"mirror"},m=d.repeat.clone(),_=d.offset.clone(),v=d.rotation,y=Math.sin(v),b=Math.cos(v);return _.y=1-_.y-m.y,i?(_.x=_.x/m.x,_.y=_.y/m.y,_.x+=y/m.x,_.y+=b-1):(_.x+=y*m.x,_.y+=(1-b)*m.y),`\n\t\tdef Shader "PrimvarReader_${u}"\n\t\t{\n\t\t\tuniform token info:id = "UsdPrimvarReader_float2"\n\t\t\tfloat2 inputs:fallback = (0.0, 0.0)\n\t\t\ttoken inputs:varname = "${p}"\n\t\t\tfloat2 outputs:result\n\t\t}\n\n\t\tdef Shader "Transform2d_${u}"\n\t\t{\n\t\t\tuniform token info:id = "UsdTransform2d"\n\t\t\ttoken inputs:in.connect = </Materials/Material_${r.id}/PrimvarReader_${u}.outputs:result>\n\t\t\tfloat inputs:rotation = ${(v*(180/Math.PI)).toFixed(fo)}\n\t\t\tfloat2 inputs:scale = ${mre(m)}\n\t\t\tfloat2 inputs:translation = ${mre(_)}\n\t\t\tfloat2 outputs:result\n\t\t}\n\n\t\tdef Shader "Texture_${d.id}_${u}"\n\t\t{\n\t\t\tuniform token info:id = "UsdUVTexture"\n\t\t\tasset inputs:file = @textures/Texture_${f}.png@\n\t\t\tfloat2 inputs:st.connect = </Materials/Material_${r.id}/Transform2d_${u}.outputs:result>\n\t\t\t${void 0!==h?"float4 inputs:scale = "+function G7e(r){return`(${r.r}, ${r.g}, ${r.b}, 1.0)`}(h):""}\n\t\t\ttoken inputs:sourceColorSpace = "${""===d.colorSpace?"raw":"sRGB"}"\n\t\t\ttoken inputs:wrapS = "${g[d.wrapS]}"\n\t\t\ttoken inputs:wrapT = "${g[d.wrapT]}"\n\t\t\tfloat outputs:r\n\t\t\tfloat outputs:g\n\t\t\tfloat outputs:b\n\t\t\tfloat3 outputs:rgb\n\t\t\t${r.transparent||r.alphaTest>0?"float outputs:a":""}\n\t\t}`}return 2===r.side&&console.warn("THREE.USDZExporter: USDZ does not support double sided materials",r),null!==r.map?(a.push(`${s}color3f inputs:diffuseColor.connect = </Materials/Material_${r.id}/Texture_${r.map.id}_diffuse.outputs:rgb>`),r.transparent?a.push(`${s}float inputs:opacity.connect = </Materials/Material_${r.id}/Texture_${r.map.id}_diffuse.outputs:a>`):r.alphaTest>0&&(a.push(`${s}float inputs:opacity.connect = </Materials/Material_${r.id}/Texture_${r.map.id}_diffuse.outputs:a>`),a.push(`${s}float inputs:opacityThreshold = ${r.alphaTest}`)),l.push(c(r.map,"diffuse",r.color))):a.push(`${s}color3f inputs:diffuseColor = ${pre(r.color)}`),null!==r.emissiveMap?(a.push(`${s}color3f inputs:emissiveColor.connect = </Materials/Material_${r.id}/Texture_${r.emissiveMap.id}_emissive.outputs:rgb>`),l.push(c(r.emissiveMap,"emissive",new Be(r.emissive.r*r.emissiveIntensity,r.emissive.g*r.emissiveIntensity,r.emissive.b*r.emissiveIntensity)))):r.emissive.getHex()>0&&a.push(`${s}color3f inputs:emissiveColor = ${pre(r.emissive)}`),null!==r.normalMap&&(a.push(`${s}normal3f inputs:normal.connect = </Materials/Material_${r.id}/Texture_${r.normalMap.id}_normal.outputs:rgb>`),l.push(c(r.normalMap,"normal"))),null!==r.aoMap&&(a.push(`${s}float inputs:occlusion.connect = </Materials/Material_${r.id}/Texture_${r.aoMap.id}_occlusion.outputs:r>`),l.push(c(r.aoMap,"occlusion",new Be(r.aoMapIntensity,r.aoMapIntensity,r.aoMapIntensity)))),null!==r.roughnessMap?(a.push(`${s}float inputs:roughness.connect = </Materials/Material_${r.id}/Texture_${r.roughnessMap.id}_roughness.outputs:g>`),l.push(c(r.roughnessMap,"roughness",new Be(r.roughness,r.roughness,r.roughness)))):a.push(`${s}float inputs:roughness = ${r.roughness}`),null!==r.metalnessMap?(a.push(`${s}float inputs:metallic.connect = </Materials/Material_${r.id}/Texture_${r.metalnessMap.id}_metallic.outputs:b>`),l.push(c(r.metalnessMap,"metallic",new Be(r.metalness,r.metalness,r.metalness)))):a.push(`${s}float inputs:metallic = ${r.metalness}`),null!==r.alphaMap?(a.push(`${s}float inputs:opacity.connect = </Materials/Material_${r.id}/Texture_${r.alphaMap.id}_opacity.outputs:r>`),a.push(`${s}float inputs:opacityThreshold = 0.0001`),l.push(c(r.alphaMap,"opacity"))):a.push(`${s}float inputs:opacity = ${r.opacity}`),r.isMeshPhysicalMaterial&&(null!==r.clearcoatMap?(a.push(`${s}float inputs:clearcoat.connect = </Materials/Material_${r.id}/Texture_${r.clearcoatMap.id}_clearcoat.outputs:r>`),l.push(c(r.clearcoatMap,"clearcoat",new Be(r.clearcoat,r.clearcoat,r.clearcoat)))):a.push(`${s}float inputs:clearcoat = ${r.clearcoat}`),null!==r.clearcoatRoughnessMap?(a.push(`${s}float inputs:clearcoatRoughness.connect = </Materials/Material_${r.id}/Texture_${r.clearcoatRoughnessMap.id}_clearcoatRoughness.outputs:g>`),l.push(c(r.clearcoatRoughnessMap,"clearcoatRoughness",new Be(r.clearcoatRoughness,r.clearcoatRoughness,r.clearcoatRoughness)))):a.push(`${s}float inputs:clearcoatRoughness = ${r.clearcoatRoughness}`),a.push(`${s}float inputs:ior = ${r.ior}`)),`\n\tdef Material "Material_${r.id}"\n\t{\n\t\tdef Shader "PreviewSurface"\n\t\t{\n\t\t\tuniform token info:id = "UsdPreviewSurface"\n${a.join("\n")}\n\t\t\tint inputs:useSpecularWorkflow = 0\n\t\t\ttoken outputs:surface\n\t\t}\n\n\t\ttoken outputs:surface.connect = </Materials/Material_${r.id}/PreviewSurface.outputs:surface>\n\n${l.join("\n")}\n\n\t}\n`}function pre(r){return`(${r.r}, ${r.g}, ${r.b})`}function mre(r){return`(${r.x}, ${r.y})`}var G_=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};let gre=!1,_re=!1;const yre="#model-viewer-no-ar-fallback",j7e=(r=>n=>{try{const i=Nd(n),s=(i.length?i[0].terms:[]).filter(a=>a&&"ident"===a.type).map(a=>a.value).filter(a=>r.indexOf(a)>-1);return new Set(s)}catch{}return new Set})(["quick-look","scene-viewer","webxr","none"]),Vd=Symbol("arButtonContainer"),vre=Symbol("enterARWithWebXR"),bre=Symbol("openSceneViewer"),Are=Symbol("openIOSARQuickLook"),q7e=Symbol("canActivateAR"),VI=Symbol("arMode"),S3=Symbol("arModes"),$_=Symbol("arAnchor"),HI=Symbol("preload"),GI=Symbol("onARButtonContainerClick"),I3=Symbol("onARStatus"),T3=Symbol("onARTracking"),D3=Symbol("onARTap"),g0=Symbol("selectARMode"),R3=Symbol("triggerLoad");var k3=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const Q_=Symbol("defaultProgressBarElement"),F3=Symbol("posterContainerElement"),j_=Symbol("defaultPosterElement"),_0=Symbol("shouldDismissPoster"),O3=Symbol("hidePoster"),$I=Symbol("modelIsRevealed"),N3=Symbol("updateProgressBar"),eqe=Symbol("ariaLabelCallToAction"),B3=Symbol("onProgress");var L3=function(r,n,i,s){var c,a=arguments.length,l=a<3?n:null===s?s=Object.getOwnPropertyDescriptor(n,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(r,n,i,s);else for(var d=r.length-1;d>=0;d--)(c=r[d])&&(l=(a<3?c(l):a>3?c(n,i,l):c(n,i))||l);return a>3&&l&&Object.defineProperty(n,i,l),l};const nqe=Math.PI/32,rqe={basis:[YS(lo(nqe,"rad"))],keywords:{auto:[null]}},W_=Symbol("autoRotateStartTime"),U3=Symbol("radiansPerSecond"),wre=Symbol("syncRotationRate"),z3=Symbol("onCameraChange"),oqe=(r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this[n]=new Map,this[i]=c=>{c.forEach(d=>{(!(d instanceof MutationRecord)||"childList"===d.type)&&(d.addedNodes.forEach(u=>{this[c3](u)}),d.removedNodes.forEach(u=>{this[Bie](u)}),this[ho]())})},this[s]=new MutationObserver(this[l3])}connectedCallback(){super.connectedCallback();for(let d=0;d<this.children.length;++d)this[c3](this.children[d]);const{ShadyDOM:c}=self;null==c?this[l0].observe(this,{childList:!0}):this[l0]=c.observeChildren(this,this[l3])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:c}=self;null==c?this[l0].disconnect():c.unobserveChildren(this[l0])}[(n=hp,i=l3,s=l0,kc)](){super[kc]();const c=this[He];c.forHotspots(d=>{c.updateSurfaceHotspot(d)})}[Rc](c,d){super[Rc](c,d);const u=this[He],{annotationRenderer:h}=u,f=u.getCamera();u.shouldRender()&&(u.animateSurfaceHotspots(),u.updateHotspotsVisibility(f.position),h.domElement.style.display="",h.render(u,f))}updateHotspot(c){const d=this[hp].get(c.name);null!=d&&(d.updatePosition(c.position),d.updateNormal(c.normal),d.surface=c.surface,this[He].updateSurfaceHotspot(d),this[ho]())}queryHotspot(c){const d=this[hp].get(c);if(null==d)return null;const u=Yu(d.position),h=Yu(d.normal),f=d.facingCamera,p=this[He],g=p.getCamera(),m=new N;m.setFromMatrixPosition(d.matrixWorld),m.project(g);const _=p.width/2,v=p.height/2;m.x=m.x*_+_,m.y=-m.y*v+v;const y=Yu(new N(m.x,m.y,m.z));return Number.isFinite(y.x)&&Number.isFinite(y.y)?{position:u,normal:h,canvasPosition:y,facingCamera:f}:null}positionAndNormalFromPoint(c,d){const u=this[He],h=u.getNDC(c,d),f=u.positionAndNormalFromPoint(h);if(null==f)return null;d3.copy(u.target.matrixWorld).invert();const p=Yu(f.position.applyMatrix4(d3)),g=Yu(f.normal.transformDirection(d3));let m=null;return null!=f.uv&&(m=o3(f.uv)),{position:p,normal:g,uv:m}}surfaceFromPoint(c,d){const u=this[He],h=u.getNDC(c,d);return u.surfaceFromPoint(h)}[c3](c){if(!(c instanceof HTMLElement&&0===c.slot.indexOf("hotspot")))return;let d=this[hp].get(c.slot);null!=d?d.increment():(d=new uie({name:c.slot,position:c.dataset.position,normal:c.dataset.normal,surface:c.dataset.surface}),this[hp].set(c.slot,d),this[He].addHotspot(d)),this[He].queueRender()}[Bie](c){if(!(c instanceof HTMLElement))return;const d=this[hp].get(c.slot);d&&(d.decrement()&&(this[He].removeHotspot(d),this[hp].delete(c.slot)),this[He].queueRender())}}return a})((r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this[n]=void 0,this[i]=null,this[s]=null,this.variantName=null,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[lp]}get availableVariants(){return this.model?this.model[$L]():[]}get originalGltfJson(){return this[pI]}[(n=lp,i=fI,s=pI,WL)](){return()=>{this[ho]()}}[n0](c){return c.colorSpace=ji,c.wrapS=Ya,c.wrapT=Ya,new Fne(this[WL](),c)}createTexture(c,d="image/png"){var u=this;return ke(function*(){const{textureUtils:h}=u[Mi],f=yield h.loadImage(c,u.withCredentials);return f.userData.mimeType=d,u[n0](f)})()}createLottieTexture(c,d=1){var u=this;return ke(function*(){const{textureUtils:h}=u[Mi],f=yield h.loadLottie(c,d,u.withCredentials);return u[n0](f)})()}createVideoTexture(c){const d=document.createElement("video");d.crossOrigin=this.withCredentials?"use-credentials":"anonymous",d.src=c,d.muted=!0,d.playsInline=!0,d.loop=!0,d.play();const u=new _6e(d);return this[n0](u)}createCanvasTexture(){const c=document.createElement("canvas"),d=new BZ(c);return this[n0](d)}updated(c){var d=()=>super.updated,u=this;return ke(function*(){if(d().call(u,c),c.has("variantName")){const h=u[dp].beginActivity("variant-update");h(.1);const f=u[lp],{variantName:p}=u;null!=f&&(yield f[sie](p),u[ho](),u.dispatchEvent(new CustomEvent("variant-applied"))),h(1)}if(c.has("orientation")||c.has("scale")){if(!u.loaded)return;const h=u[He];h.applyTransform(),h.updateBoundingBox(),h.updateShadow(),u[Mi].arRenderer.onUpdateScene(),u[ho]()}})()}[kc](){super[kc]();const{currentGLTF:c}=this[He];if(null!=c){const{correlatedSceneGraph:d}=c;null!=d&&c!==this[fI]&&(this[lp]=new T9e(d,this[WL]()),this[pI]=JSON.parse(JSON.stringify(d.gltf))),"variants"in c.userData&&this.requestUpdate("variantName")}this[fI]=c}exportScene(c){var d=this;return ke(function*(){const u=d[He];return new Promise(function(){var h=ke(function*(f,p){const g={binary:!0,onlyVisible:!0,maxTextureSize:1/0,includeCustomExtensions:!1,forceIndices:!1};Object.assign(g,c),g.animations=u.animations,g.truncateDrawRange=!0;const m=u.shadow;let _=!1;null!=m&&(_=m.visible,m.visible=!1),yield d[lp][rie](),(new mL).register(y=>new Xje(y)).parse(u.model,y=>f(new Blob([g.binary?y:JSON.stringify(y)],{type:g.binary?"application/octet-stream":"application/json"})),()=>p("glTF export failed"),g),null!=m&&(m.visible=_)});return function(f,p){return h.apply(this,arguments)}}())})()}materialFromPoint(c,d){const u=this[lp];if(null==u)return null;const h=this[He],f=h.getNDC(c,d),p=h.hitFromPoint(f);return null==p||null==p.face?null:u[oie](p)}}return jL([Wt({type:String,attribute:"variant-name"})],a.prototype,"variantName",void 0),jL([Wt({type:String,attribute:"orientation"})],a.prototype,"orientation",void 0),jL([Wt({type:String,attribute:"scale"})],a.prototype,"scale",void 0),a})((r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this.autoRotate=!1,this.autoRotateDelay=3e3,this.rotationPerSecond="auto",this[n]=performance.now(),this[i]=0,this[s]=c=>{this.autoRotate&&"user-interaction"===c.detail.source&&(this[W_]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[z3]),this[W_]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[z3]),this[W_]=performance.now()}updated(c){super.updated(c),c.has("autoRotate")&&(this[W_]=performance.now())}[(n=W_,i=U3,wre)](c){this[U3]=c[0]}[Rc](c,d){if(super[Rc](c,d),!this.autoRotate||!this[up]()||this[Mi].isPresenting)return;const u=Math.min(d,c-this[W_]-this.autoRotateDelay);u>0&&(this[He].yaw=this.turntableRotation+this[U3]*u*.001)}get turntableRotation(){return this[He].yaw}resetTurntableRotation(c=0){this[He].yaw=c}}return s=z3,L3([Wt({type:Boolean,attribute:"auto-rotate"})],a.prototype,"autoRotate",void 0),L3([Wt({type:Number,attribute:"auto-rotate-delay"})],a.prototype,"autoRotateDelay",void 0),L3([Qu({intrinsics:rqe,updateHandler:wre}),Wt({type:String,attribute:"rotation-per-second"})],a.prototype,"rotationPerSecond",void 0),a})((r=>{var n,i,s;class a extends r{constructor(){super(...arguments),this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this.toneMapping="auto",this.skyboxHeight="0",this[n]=null,this[i]=null,this[s]=null}updated(c){super.updated(c),c.has("shadowIntensity")&&(this[He].setShadowIntensity(.5*this.shadowIntensity),this[ho]()),c.has("shadowSoftness")&&(this[He].setShadowSoftness(this.shadowSoftness),this[ho]()),c.has("exposure")&&(this[He].exposure=this.exposure,this[ho]()),c.has("toneMapping")&&(this[He].toneMapping="aces"===this.toneMapping?4:"agx"===this.toneMapping?6:7,this[ho]()),(c.has("environmentImage")||c.has("skyboxImage"))&&this[N_]()&&this[VS](),c.has("skyboxHeight")&&(this[He].setGroundedSkybox(),this[ho]())}hasBakedShadow(){return this[He].bakedShadows.size>0}[(n=OA,i=NA,s=HS,VS)](){var c=this;return ke(function*(){const{skyboxImage:d,environmentImage:u}=c;null!=c[HS]&&(c[HS](),c[HS]=null);const{textureUtils:h}=c[Mi];if(null==h)return;const f=c[dp].beginActivity("environment-update");try{const{environmentMap:p,skybox:g}=yield h.generateEnvironmentMapAndSkybox(see(d),u,m=>f(Mc(m,0,1)),c.withCredentials);c[OA]!==p&&(c[OA]=p,c.dispatchEvent(new CustomEvent("environment-change"))),c[NA]=null!=g?g.name===p.name?p:g:null,c[He].setEnvironmentAndSkybox(c[OA],c[NA])}catch(p){if(p instanceof Error)throw c[He].setEnvironmentAndSkybox(null,null),p}finally{f(1)}})()}}return ep([Wt({type:String,attribute:"environment-image"})],a.prototype,"environmentImage",void 0),ep([Wt({type:String,attribute:"skybox-image"})],a.prototype,"skyboxImage",void 0),ep([Wt({type:Number,attribute:"shadow-intensity"})],a.prototype,"shadowIntensity",void 0),ep([Wt({type:Number,attribute:"shadow-softness"})],a.prototype,"shadowSoftness",void 0),ep([Wt({type:Number})],a.prototype,"exposure",void 0),ep([Wt({type:String,attribute:"tone-mapping"})],a.prototype,"toneMapping",void 0),ep([Wt({type:String,attribute:"skybox-height"})],a.prototype,"skyboxHeight",void 0),a})((r=>{var n,i,s,a,l,c,d,u,h,f,p,g,m,_,v,y,b,A;class x extends r{constructor(){super(...arguments),this.cameraControls=!1,this.cameraOrbit=Lte,this.cameraTarget="auto auto auto",this.fieldOfView="auto",this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=3e3,this.interactionPrompt="auto",this.interactionPromptStyle="wiggle",this.orbitSensitivity=1,this.zoomSensitivity=1,this.panSensitivity=1,this.touchAction="none",this.disableZoom=!1,this.disablePan=!1,this.disableTap=!1,this.interpolationDecay=50,this.a11y=null,this[n]=this.shadowRoot.querySelector(".interaction-prompt"),this[i]=this.shadowRoot.querySelector("#prompt"),this[s]=[this.shadowRoot.querySelector("#finger0"),this.shadowRoot.querySelector("#finger1")],this[a]=this.shadowRoot.querySelector(".pan-target"),this[l]=0,this[c]=1/0,this[d]=!1,this[u]=!1,this[h]=Sr_AUTOMATIC,this[f]=new BWe(this[He].camera,this[Pl],this[He]),this[p]=new IS,this[g]=!1,this[m]=!1,this[_]=!1,this[v]={},this[y]=()=>{const E=this[Ei].changeSource;this[iI]=E,E===Sr_USER_INTERACTION&&(this[nI]=!0,this[tI]())},this[b]=()=>{this[Hte](),this[ho](),this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:this[Ei].changeSource}}))},this[A]=E=>{this[CI].classList.toggle("pointer-tumbling","pointer-change-start"===E.type)}}get inputSensitivity(){return this[Ei].inputSensitivity}set inputSensitivity(E){this[Ei].inputSensitivity=E}getCameraOrbit(){const{theta:E,phi:M,radius:S}=this[SL];return{theta:E,phi:M,radius:S,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return Yu(this[Mi].isPresenting?this[Mi].arRenderer.target:this[He].getDynamicTarget())}getFieldOfView(){return this[Ei].getFieldOfView()}getMinimumFieldOfView(){return this[Ei].options.minimumFieldOfView}getMaximumFieldOfView(){return this[Ei].options.maximumFieldOfView}getIdealAspect(){return this[He].idealAspect}jumpCameraToGoal(){this[jA]=!0,this.requestUpdate(jA,!1)}resetInteractionPrompt(){this[QA]=0,this[x_]=1/0,this[nI]=!1,this[ip]="auto"===this.interactionPrompt&&this.cameraControls}zoom(E){const M=new WheelEvent("wheel",{deltaY:-30*E});this[Pl].dispatchEvent(M)}connectedCallback(){super.connectedCallback(),this[Ei].addEventListener("user-interaction",this[A_]),this[Ei].addEventListener("pointer-change-start",this[$A]),this[Ei].addEventListener("pointer-change-end",this[$A])}disconnectedCallback(){super.disconnectedCallback(),this[Ei].removeEventListener("user-interaction",this[A_]),this[Ei].removeEventListener("pointer-change-start",this[$A]),this[Ei].removeEventListener("pointer-change-end",this[$A])}updated(E){super.updated(E);const M=this[Ei],S=this[He];E.has("cameraControls")&&(this.cameraControls?(M.enableInteraction(),"auto"===this.interactionPrompt&&(this[ip]=!0)):(M.disableInteraction(),this[tI]()),this[Pl].setAttribute("aria-label",this[F_])),E.has("disableZoom")&&(M.disableZoom=this.disableZoom),E.has("disablePan")&&(M.enablePan=!this.disablePan),E.has("disableTap")&&(M.enableTap=!this.disableTap),(E.has("interactionPrompt")||E.has("cameraControls")||E.has("src"))&&("auto"===this.interactionPrompt&&this.cameraControls&&!this[nI]?this[ip]=!0:this[tI]()),E.has("interactionPromptStyle")&&(this[eI].style.opacity="basic"==this.interactionPromptStyle?"1":"0"),E.has("touchAction")&&(M.applyOptions({touchAction:this.touchAction}),M.updateTouchActionStyle()),E.has("orbitSensitivity")&&(M.orbitSensitivity=this.orbitSensitivity),E.has("zoomSensitivity")&&(M.zoomSensitivity=this.zoomSensitivity),E.has("panSensitivity")&&(M.panSensitivity=this.panSensitivity),E.has("interpolationDecay")&&(M.setDamperDecayTime(this.interpolationDecay),S.setTargetDamperDecayTime(this.interpolationDecay)),E.has("a11y")&&this[Gte](),!0===this[jA]&&Promise.resolve().then(()=>{M.jumpToGoal(),S.jumpToGoal(),this[ML](),this[jA]=!1})}updateFraming(){var E=this;return ke(function*(){const M=E[He],S=M.adjustedFoV(M.framedFoVDeg);yield M.updateFraming();const T=M.adjustedFoV(M.framedFoVDeg),P=E[Ei].getFieldOfView()/S;E[Ei].setFieldOfView(T*P),E[WA]=!0,E.requestUpdate("maxFieldOfView"),E.requestUpdate("fieldOfView"),E.requestUpdate("minCameraOrbit"),E.requestUpdate("maxCameraOrbit"),E.requestUpdate("cameraOrbit"),yield E.updateComplete})()}interact(E,M,S){const T=this[Pl],P=this[EL];if("1"===P[0].style.opacity)return void console.warn("interact() failed because an existing interaction is running.");const C=new Array;C.push({x:b_(M.x),y:b_(M.y)});const I=[{x:C[0].x(0),y:C[0].y(0)}];null!=S&&(C.push({x:b_(S.x),y:b_(S.y)}),I.push({x:C[1].x(0),y:C[1].y(0)}));let k=performance.now();const{width:O,height:z}=this[He],q=this.getBoundingClientRect(),R=X=>{for(const[ae,fe]of I.entries()){const{style:Pe}=P[ae];Pe.transform=`translateX(${O*fe.x}px) translateY(${z*fe.y}px)`,"pointerdown"===X?Pe.opacity="1":"pointerup"===X&&(Pe.opacity="0"),T.dispatchEvent(new PointerEvent(X,{pointerId:ae-5678,pointerType:"touch",target:T,clientX:O*fe.x+q.x,clientY:z*fe.y+q.y,altKey:!0}))}},V=()=>{const X=this[iI];if(X!==Sr_AUTOMATIC||!T.isConnected){for(const fe of this[EL])fe.style.opacity="0";return R("pointercancel"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:X}})),void document.removeEventListener("visibilitychange",U)}const ae=Math.min(1,(performance.now()-k)/E);for(const[fe,Pe]of I.entries())Pe.x=C[fe].x(ae),Pe.y=C[fe].y(ae);R("pointermove"),ae<1?requestAnimationFrame(V):(R("pointerup"),this.dispatchEvent(new CustomEvent("interact-stopped",{detail:{source:Sr_AUTOMATIC}})),document.removeEventListener("visibilitychange",U))},U=()=>{let X=0;"hidden"===document.visibilityState?X=performance.now()-k:k=performance.now()-X};document.addEventListener("visibilitychange",U),R("pointerdown"),this[iI]=Sr_AUTOMATIC,requestAnimationFrame(V)}[(n=CL,i=eI,s=EL,a=JS,l=QA,c=x_,d=nI,u=ip,h=iI,f=Ei,p=SL,g=jA,m=IL,_=WA,v=Bd,jte)](E){const M=this[Ei],S=this[He];S.framedFoVDeg=180*E[0]/Math.PI,M.changeSource=Sr_NONE,M.setFieldOfView(S.adjustedFoV(S.framedFoVDeg)),this[A_]()}[Qte](E){const M=this[Ei];if(this[WA]){const{theta:S,phi:T}=this.getCameraOrbit();E[0]=S,E[1]=T,this[WA]=!1}M.changeSource=Sr_NONE,M.setOrbit(E[0],E[1],E[2]),this[A_]()}[qte](E){this[Ei].applyOptions({minimumAzimuthalAngle:E[0],minimumPolarAngle:E[1],minimumRadius:E[2]}),this.jumpCameraToGoal()}[Yte](E){this[Ei].applyOptions({maximumAzimuthalAngle:E[0],maximumPolarAngle:E[1],maximumRadius:E[2]}),this[$te](E[2]),this.jumpCameraToGoal()}[Xte](E){this[Ei].applyOptions({minimumFieldOfView:180*E[0]/Math.PI}),this.jumpCameraToGoal()}[Kte](E){const M=this[He].adjustedFoV(180*E[0]/Math.PI);this[Ei].applyOptions({maximumFieldOfView:M}),this.jumpCameraToGoal()}[Wte](E){const[M,S,T]=E;this[Mi].arRenderer.isPresenting||this[He].setTarget(M,S,T),this[Ei].changeSource=Sr_NONE,this[Mi].arRenderer.updateTarget(),this[A_]()}[Rc](E,M){if(super[Rc](E,M),this[Mi].isPresenting||!this[up]())return;const S=this[Ei],T=this[He],P=performance.now();if(this[ip]&&this.loaded&&P>this[o0]+this.interactionPromptThreshold&&(this[ip]=!1,this[x_]=P,this[CL].classList.add("visible")),isFinite(this[x_])&&"wiggle"===this.interactionPromptStyle){const k=(P-this[x_])/5e3%1,O=pWe(k),z=mWe(k);if(this[eI].style.opacity=`${z}`,O!==this[QA]){const R=(O-this[QA])*Math.PI/16;this[eI].style.transform=`translateX(${O*T.width*.05}px)`,S.changeSource=Sr_AUTOMATIC,S.adjustOrbit(R,0,0),this[QA]=O}}const C=S.update(E,M),I=T.updateTarget(M);(C||I)&&this[ML]()}[tI](){this[ip]=!1,this[CL].classList.remove("visible"),this[x_]=1/0}[$te](E){const M=Math.max(this[He].farRadius(),E),T=Math.abs(2*M);this[Ei].updateNearFar(0,T)}[Hte](){const{theta:E,phi:M}=this[Ei].getCameraSpherical(this[SL]),S=(4+Math.floor((E%kWe+RWe)/Vte))%4,T=Math.floor(M/DWe),I=`${xWe[T]}${AWe[S]}`;this[wI](I in this[Bd]?this[Bd][I]:`View from stage ${I}`)}get[F_](){let E=". Use mouse, touch or arrow keys to move.";return"interaction-prompt"in this[Bd]&&(E=`. ${this[Bd]["interaction-prompt"]}`),super[F_].replace(/\.$/,"")+(this.cameraControls?E:"")}[EI](E){var M=T=>super[T],S=this;return ke(function*(){const T=S[Ei],P=S[He],C=P.adjustedFoV(P.framedFoVDeg);M(EI).call(S,E);const I=P.adjustedFoV(P.framedFoVDeg)/C,k=T.getFieldOfView()*(isFinite(I)?I:1);T.updateAspect(S[He].aspect),S.requestUpdate("maxFieldOfView",S.maxFieldOfView),yield S.updateComplete,S[Ei].setFieldOfView(k),S.jumpCameraToGoal()})()}[kc](){super[kc](),this[IL]?this[WA]=!0:this[IL]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}[(y=A_,b=ML,A=$A,Gte)](){if("string"==typeof this.a11y)if(this.a11y.startsWith("{"))try{this[Bd]=JSON.parse(this.a11y)}catch(E){console.warn("Error parsing a11y JSON:",E)}else this.a11y.length>0?console.warn("Error not supported format, should be a JSON string:",this.a11y):this[Bd]={};else this[Bd]="object"==typeof this.a11y&&null!=this.a11y?Object.assign({},this.a11y):{};this[Pl].setAttribute("aria-label",this[F_])}}return ss([Wt({type:Boolean,attribute:"camera-controls"})],x.prototype,"cameraControls",void 0),ss([Qu({intrinsics:zte,observeEffects:!0,updateHandler:Qte}),Wt({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],x.prototype,"cameraOrbit",void 0),ss([Qu({intrinsics:TWe,observeEffects:!0,updateHandler:Wte}),Wt({type:String,attribute:"camera-target",hasChanged:()=>!0})],x.prototype,"cameraTarget",void 0),ss([Qu({intrinsics:Ute,observeEffects:!0,updateHandler:jte}),Wt({type:String,attribute:"field-of-view",hasChanged:()=>!0})],x.prototype,"fieldOfView",void 0),ss([Qu({intrinsics:SWe,updateHandler:qte}),Wt({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],x.prototype,"minCameraOrbit",void 0),ss([Qu({intrinsics:IWe,updateHandler:Yte}),Wt({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],x.prototype,"maxCameraOrbit",void 0),ss([Qu({intrinsics:MWe,updateHandler:Xte}),Wt({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],x.prototype,"minFieldOfView",void 0),ss([Qu({intrinsics:Ute,updateHandler:Kte}),Wt({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],x.prototype,"maxFieldOfView",void 0),ss([Wt({type:Number,attribute:"interaction-prompt-threshold"})],x.prototype,"interactionPromptThreshold",void 0),ss([Wt({type:String,attribute:"interaction-prompt"})],x.prototype,"interactionPrompt",void 0),ss([Wt({type:String,attribute:"interaction-prompt-style"})],x.prototype,"interactionPromptStyle",void 0),ss([Wt({type:Number,attribute:"orbit-sensitivity"})],x.prototype,"orbitSensitivity",void 0),ss([Wt({type:Number,attribute:"zoom-sensitivity"})],x.prototype,"zoomSensitivity",void 0),ss([Wt({type:Number,attribute:"pan-sensitivity"})],x.prototype,"panSensitivity",void 0),ss([Wt({type:String,attribute:"touch-action"})],x.prototype,"touchAction",void 0),ss([Wt({type:Boolean,attribute:"disable-zoom"})],x.prototype,"disableZoom",void 0),ss([Wt({type:Boolean,attribute:"disable-pan"})],x.prototype,"disablePan",void 0),ss([Wt({type:Boolean,attribute:"disable-tap"})],x.prototype,"disableTap",void 0),ss([Wt({type:Number,attribute:"interpolation-decay"})],x.prototype,"interpolationDecay",void 0),ss([Wt()],x.prototype,"a11y",void 0),x})((r=>{var n,i,s,a,l,c,d,u,h,f;class p extends r{constructor(){super(...arguments),this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes="webxr scene-viewer quick-look",this.iosSrc=null,this.xrEnvironment=!1,this[n]=!1,this[i]=this.shadowRoot.querySelector(".ar-button"),this[s]=document.createElement("a"),this[a]=new Set,this[l]="none",this[c]=!1,this[d]=m=>{m.preventDefault(),this.activateAR()},this[u]=({status:m})=>{("not-presenting"===m||this[Mi].arRenderer.presentedScene===this[He])&&(this.setAttribute("ar-status",m),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:m}})),"not-presenting"===m?this.removeAttribute("ar-tracking"):"session-started"===m&&this.setAttribute("ar-tracking","tracking"))},this[h]=({status:m})=>{this.setAttribute("ar-tracking",m),this.dispatchEvent(new CustomEvent("ar-tracking",{detail:{status:m}}))},this[f]=m=>{"_apple_ar_quicklook_button_tapped"==m.data&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return"none"!==this[VI]}connectedCallback(){super.connectedCallback(),this[Mi].arRenderer.addEventListener("status",this[I3]),this.setAttribute("ar-status","not-presenting"),this[Mi].arRenderer.addEventListener("tracking",this[T3]),this[$_].addEventListener("message",this[D3])}disconnectedCallback(){super.disconnectedCallback(),this[Mi].arRenderer.removeEventListener("status",this[I3]),this[Mi].arRenderer.removeEventListener("tracking",this[T3]),this[$_].removeEventListener("message",this[D3])}update(m){super.update(m),m.has("arScale")&&(this[He].canScale="fixed"!==this.arScale),m.has("arPlacement")&&(this[He].updateShadow(),this[ho]()),m.has("arModes")&&(this[S3]=j7e(this.arModes)),(m.has("ar")||m.has("arModes")||m.has("src")||m.has("iosSrc"))&&this[g0]()}activateAR(){var m=this;return ke(function*(){switch(m[VI]){case"quick-look":yield m[Are]();break;case"webxr":yield m[vre]();break;case"scene-viewer":m[bre]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities")}})()}[(n=q7e,i=Vd,s=$_,a=S3,l=VI,c=HI,d=GI,u=I3,h=T3,f=D3,g0)](){var m=this;return ke(function*(){var _;let v="none";if(m.ar){if(null!=m.src)for(const y of m[S3]){if("webxr"===y&&nee&&!gre&&(yield m[Mi].arRenderer.supportsPresentation())){v="webxr";break}if("scene-viewer"===y&&!_re&&(iQe||navigator.userAgentData&&navigator.userAgentData.getHighEntropyValues&&null!==(_=(yield navigator.userAgentData.getHighEntropyValues(["formFactor"])).formFactor)&&void 0!==_&&_.includes("XR"))){v="scene-viewer";break}if("quick-look"===y&&ree){v="quick-look";break}}"none"===v&&null!=m.iosSrc&&ree&&(v="quick-look")}if("none"!==v)m[Vd].classList.add("enabled"),m[Vd].addEventListener("click",m[GI]);else if(m[Vd].classList.contains("enabled")){m[Vd].removeEventListener("click",m[GI]),m[Vd].classList.remove("enabled");const y="failed";m.setAttribute("ar-status",y),m.dispatchEvent(new CustomEvent("ar-status",{detail:{status:y}}))}m[VI]=v})()}[vre](){var m=this;return ke(function*(){console.log("Attempting to present in AR with WebXR..."),yield m[R3]();try{m[Vd].removeEventListener("click",m[GI]);const{arRenderer:_}=m[Mi];_.placeOnWall="wall"===m.arPlacement,yield _.present(m[He],m.xrEnvironment)}catch(_){console.warn("Error while trying to present in AR with WebXR"),console.error(_),yield m[Mi].arRenderer.stopPresenting(),gre=!0,console.warn("Falling back to next ar-mode"),yield m[g0](),m.activateAR()}finally{m[g0]()}})()}[R3](){var m=this;return ke(function*(){m.loaded||(m[HI]=!0,m[O_](),yield((r,n,i=null)=>new Promise(s=>{r.addEventListener(n,function a(l){(!i||i(l))&&(s(l),r.removeEventListener(n,a))})}))(m,"load"),m[HI]=!1)})()}[N_](){return super[N_]()||this[HI]}[bre](){const m=self.location.toString(),_=new URL(m),v=new URL(this.src,m);v.hash&&(v.hash="");const y=new URLSearchParams(v.search);if(_.hash=yre,y.set("mode","ar_preferred"),y.has("disable_occlusion")||y.set("disable_occlusion","true"),"fixed"===this.arScale&&y.set("resizable","false"),"wall"===this.arPlacement&&y.set("enable_vertical_placement","true"),y.has("sound")){const x=new URL(y.get("sound"),m);y.set("sound",x.toString())}if(y.has("link")){const x=new URL(y.get("link"),m);y.set("link",x.toString())}const b=`intent://arvr.google.com/scene-viewer/1.2?${y.toString()+"&file="+encodeURIComponent(v.toString())}#Intent;scheme=https;package=com.google.android.googlequicksearchbox;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(_.toString())};end;`;self.addEventListener("hashchange",()=>{self.location.hash===yre&&(_re=!0,self.history.back(),console.warn("Error while trying to present in AR with Scene Viewer"),console.warn("Falling back to next ar-mode"),this[g0]())},{once:!0}),this[$_].setAttribute("href",b),console.log("Attempting to present in AR with Scene Viewer..."),this[$_].click()}[Are](){var m=this;return ke(function*(){const _=!m.iosSrc;m[Vd].classList.remove("enabled");const v=_?yield m.prepareUSDZ():m.iosSrc,y=new URL(v,self.location.toString());if(_){const x=self.location.toString(),w=new URL(x),E=new URL(m.src,w);E.hash&&(y.hash=E.hash)}"fixed"===m.arScale&&(y.hash&&(y.hash+="&"),y.hash+="allowsContentScaling=0");const b=m[$_];b.setAttribute("rel","ar");const A=document.createElement("img");b.appendChild(A),b.setAttribute("href",y.toString()),_&&b.setAttribute("download","model.usdz"),b.style.display="none",b.isConnected||m.shadowRoot.appendChild(b),console.log("Attempting to present in AR with Quick Look..."),b.click(),b.removeChild(A),_&&URL.revokeObjectURL(v),m[Vd].classList.add("enabled")})()}prepareUSDZ(){var m=this;return ke(function*(){const _=m[dp].beginActivity("usdz-conversion");yield m[R3]();const{model:v,shadow:y,target:b}=m[He];if(null==v)return"";let A=!1;null!=y&&(A=y.visible,y.visible=!1),_(.2);const x=new T7e;b.remove(v),v.position.copy(b.position),v.updateWorldMatrix(!1,!0);const w=yield x.parseAsync(v);v.position.set(0,0,0),b.add(v);const E=new Blob([w],{type:"model/vnd.usdz+zip"}),M=URL.createObjectURL(E);return _(1),null!=y&&(y.visible=A),M})()}}return G_([Wt({type:Boolean,attribute:"ar"})],p.prototype,"ar",void 0),G_([Wt({type:String,attribute:"ar-scale"})],p.prototype,"arScale",void 0),G_([Wt({type:String,attribute:"ar-placement"})],p.prototype,"arPlacement",void 0),G_([Wt({type:String,attribute:"ar-modes"})],p.prototype,"arModes",void 0),G_([Wt({type:String,attribute:"ios-src"})],p.prototype,"iosSrc",void 0),G_([Wt({type:Boolean,attribute:"xr-environment"})],p.prototype,"xrEnvironment",void 0),p})((r=>{var n,i,s,a,l,c,d,u;class h extends r{constructor(...p){super(...p),this.poster=null,this.reveal="auto",this.loading="auto",this[n]=!1,this[i]=!1,this[s]=this.shadowRoot.querySelector(".slot.poster"),this[a]=this.shadowRoot.querySelector("#default-poster"),this[l]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[c]=this[j_].getAttribute("aria-label"),this[d]=(r=>{let i=null;const s=(...a)=>{null==i&&(r(...a),i=self.setTimeout(()=>i=null,100))};return s.flush=()=>{null!=i&&(self.clearTimeout(i),i=null)},s})(y=>{const b=this[Q_].parentNode;requestAnimationFrame(()=>{this[Q_].style.transform=`scaleX(${y})`,0===y&&(b.removeChild(this[Q_]),b.appendChild(this[Q_])),this[Q_].classList.toggle("hide",1===y)})}),this[u]=y=>{const b=y.detail.totalProgress,A=y.detail.reason;1===b&&(this[N3].flush(),this.loaded&&(this[_0]||"auto"===this.reveal)&&this[O3]()),this[N3](b),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:b,reason:A}}))};const g=self.ModelViewerElement||{};Go.setDRACODecoderLocation(g.dracoDecoderLocation||"https://www.gstatic.com/draco/versioned/decoders/1.5.6/"),Go.setKTX2TranscoderLocation(g.ktx2TranscoderLocation||"https://www.gstatic.com/basis-universal/versioned/2021-04-15-ba1c3e4/"),g.meshoptDecoderLocation&&Go.setMeshoptDecoderLocation(g.meshoptDecoderLocation),kl.singleton.textureUtils.lottieLoaderUrl=g.lottieLoaderLocation||"https://cdn.jsdelivr.net/npm/three@0.149.0/examples/jsm/loaders/LottieLoader.js"}static set dracoDecoderLocation(p){Go.setDRACODecoderLocation(p)}static get dracoDecoderLocation(){return Go.getDRACODecoderLocation()}static set ktx2TranscoderLocation(p){Go.setKTX2TranscoderLocation(p)}static get ktx2TranscoderLocation(){return Go.getKTX2TranscoderLocation()}static set meshoptDecoderLocation(p){Go.setMeshoptDecoderLocation(p)}static get meshoptDecoderLocation(){return Go.getMeshoptDecoderLocation()}static set lottieLoaderLocation(p){kl.singleton.textureUtils.lottieLoaderUrl=p}static get lottieLoaderLocation(){return kl.singleton.textureUtils.lottieLoaderUrl}static mapURLs(p){kl.singleton.loader[np].manager.setURLModifier(p)}dismissPoster(){this.loaded?this[O3]():(this[_0]=!0,this[O_]())}showPoster(){const p=this[F3];if(p.classList.contains("show"))return;p.classList.add("show"),this[Pl].classList.remove("show");const g=this[j_];g.removeAttribute("tabindex"),g.removeAttribute("aria-hidden");const m=this.modelIsVisible;this[$I]=!1,this[xI](m)}getDimensions(){return Yu(this[He].size)}getBoundingBoxCenter(){return Yu(this[He].boundingBox.getCenter(new N))}connectedCallback(){super.connectedCallback(),this.loaded||this.showPoster(),this[dp].addEventListener("progress",this[B3])}disconnectedCallback(){super.disconnectedCallback(),this[dp].removeEventListener("progress",this[B3])}updated(p){var g=()=>super.updated,m=this;return ke(function*(){g().call(m,p),p.has("poster")&&null!=m.poster&&(m[j_].style.backgroundImage=`url(${m.poster})`),p.has("alt")&&m[j_].setAttribute("aria-label",m[r3]),(p.has("reveal")||p.has("loading"))&&m[O_]()})()}[(n=$I,i=_0,s=F3,a=j_,l=Q_,c=eqe,d=N3,u=B3,N_)](){return!!this.src&&(this[_0]||"eager"===this.loading||"auto"===this.reveal&&this[cp])}[O3](){this[_0]=!1;const p=this[F3];if(!p.classList.contains("show"))return;p.classList.remove("show"),this[Pl].classList.add("show");const g=this.modelIsVisible;this[$I]=!0,this[xI](g);const m=this.getRootNode();m&&m.activeElement===this&&this[Pl].focus();const _=this[j_];_.setAttribute("aria-hidden","true"),_.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))}[up](){return super[up]()&&this[$I]}}return k3([Wt({type:String})],h.prototype,"poster",void 0),k3([Wt({type:String})],h.prototype,"reveal",void 0),k3([Wt({type:String})],h.prototype,"loading",void 0),h})((r=>{var n;class i extends r{constructor(...a){super(a),this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[n]=!0,this[He].subscribeMixerEvent("loop",l=>{this.dispatchEvent(new CustomEvent("loop",{detail:{count:l.action._loopCount}}))}),this[He].subscribeMixerEvent("finished",()=>{this[zd]=!0,this.dispatchEvent(new CustomEvent("finished"))})}get availableAnimations(){return this.loaded?this[He].animationNames:[]}get duration(){return this[He].duration}get paused(){return this[zd]}get currentTime(){return this[He].animationTime}set currentTime(a){this[He].animationTime=a,this[ho]()}get timeScale(){return this[He].animationTimeScale}set timeScale(a){this[He].animationTimeScale=a}pause(){this[zd]||(this[zd]=!0,this.dispatchEvent(new CustomEvent("pause")))}play(a){this.availableAnimations.length>0&&(this[zd]=!1,this[MI](a),this.dispatchEvent(new CustomEvent("play")))}[(n=zd,kc)](){super[kc](),this[zd]=!0,null!=this.animationName&&this[MI](),this.autoplay&&this.play()}[Rc](a,l){super[Rc](a,l),!this[zd]&&(this[up]()||this[Mi].isPresenting)&&(this[He].updateAnimation(l/1e3),this[ho]())}updated(a){super.updated(a),a.has("autoplay")&&this.autoplay&&this.play(),a.has("animationName")&&this[MI]()}[MI](a=h7e){var l;const c=null!==(l=a.repetitions)&&void 0!==l?l:1/0;this[He].playAnimation(this.animationName,this.animationCrossfadeDuration/1e3,a.pingpong?2202:1===c?2200:2201,c),this[zd]&&(this[He].updateAnimation(0),this[ho]())}}return a3([Wt({type:Boolean})],i.prototype,"autoplay",void 0),a3([Wt({type:String,attribute:"animation-name"})],i.prototype,"animationName",void 0),a3([Wt({type:Number,attribute:"animation-crossfade-duration"})],i.prototype,"animationCrossfadeDuration",void 0),i})(a0))))))));customElements.define("model-viewer",oqe),Abe().bootstrapModule(bze).catch(r=>console.error(r))}},Y_=>{Y_(Y_.s=908)}]);