@if (!fullscreen()) {
  <ng-container [ngTemplateOutlet]="illustrationTemplate()"></ng-container>
  <ng-container [ngTemplateOutlet]="biomarkerTemplate()"></ng-container>
} @else {
  <div hraFeature="fullscreen-overlay" class="fullscreen-overlay">
    <mat-tab-group
      hraFeature="fullscreen-tabs"
      hraClickEvent
      hraClickEventTriggerOn="none"
      #tabEvent="hraClickEvent"
      [(selectedIndex)]="fullscreentabIndex"
      class="tabs-group"
      (selectedTabChange)="tabEvent.logEvent(undefined, undefined, { tab: $event.tab.textLabel })"
    >
      <mat-tab hraFeature="illustration-tab" label="Illustration">
        <ng-container [ngTemplateOutlet]="illustrationTemplate()"></ng-container>
      </mat-tab>
      <mat-tab hraFeature="source-data-tab" label="Source data">
        <ng-container [ngTemplateOutlet]="sourceListTemplate()"></ng-container>
      </mat-tab>
      <mat-tab hraFeature="biomarkers-tab" label="Cell types by biomarkers">
        <ng-template matTabContent>
          <ng-container [ngTemplateOutlet]="biomarkerTemplate()"></ng-container>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
    <button
      hraFeature="close"
      hraClickEvent
      mat-icon-button
      class="closeButton"
      aria-label="Close fullscreen"
      (click)="closeFullscreen.emit()"
    >
      <mat-icon>close</mat-icon>
    </button>
  </div>
}
