@use '../../../../styles/utils';
@use '../../../../styles/vars' as vars;

@include utils.global-styles() {
  mat-form-field.mat-mdc-form-field-type-mat-select {
    --mdc-filled-text-field-container-color: vars.$surface-container;
    --mat-select-focused-arrow-color: vars.$tertiary;

    --mat-form-field-container-height: 3rem;
    --mat-form-field-filled-with-label-container-padding-top: 1.25rem;
    --mat-form-field-filled-with-label-container-padding-bottom: 0.25rem;

    mat-label {
      font: vars.$label-small;
      letter-spacing: vars.$label-small-tracking;
      color: vars.$primary-fixed;
    }

    &.mat-focused {
      mat-label {
        color: vars.$tertiary;
      }

      .mdc-line-ripple::after {
        --mdc-filled-text-field-focus-active-indicator-color: vars.$tertiary;
      }

      mat-select {
        .mat-mdc-select-value-text .mat-mdc-select-min-line {
          color: vars.$primary-fixed;
          letter-spacing: vars.$label-medium-tracking;
        }
      }
    }

    mat-select {
      .mat-mdc-select-value-text .mat-mdc-select-min-line {
        font: vars.$label-medium;
        letter-spacing: vars.$label-medium-tracking;
      }
    }

    &.mat-form-field-disabled {
      mat-label {
        color: var(--mdc-filled-text-field-disabled-label-text-color);
      }
    }
  }

  .options-container {
    --mat-select-panel-background-color: vars.$on-primary;
    --mat-option-selected-state-label-text-color: vars.$secondary;
    --mat-option-hover-state-layer-color: color-mix(in srgb, vars.$on-surface 4%, transparent);
    --mat-select-container-elevation-shadow: 0px 5px 4px 0px rgb(from vars.$shadow r g b / 0.16);
    --mat-option-label-text-color: vars.$primary-container;
    --mat-option-focus-state-layer-color: color-mix(in srgb, vars.$on-surface 4%, transparent);

    mat-option.mat-mdc-option {
      font: vars.$label-large;
      margin-bottom: 0.5px;
      min-height: 3.5rem;

      &:active {
        --mat-option-hover-state-layer-color: color-mix(in srgb, vars.$on-surface 8%, transparent);
      }

      &:focus-visible {
        outline: 2px solid vars.$tertiary;
      }

      &.mdc-list-item--selected.mat-mdc-option-active {
        --mat-minimal-pseudo-checkbox-selected-checkmark-color: vars.$on-tertiary-container;
        background-color: color-mix(in srgb, vars.$on-tertiary-container 8%, transparent);
      }

      &.mat-mdc-option-active {
        outline: 1px solid color-mix(in srgb, vars.$on-surface 32%, transparent);
      }
    }
  }
}
