<mat-expansion-panel
  hraFeature="navigation-category-expansion"
  [hraClickEvent]="{
    label: navigationCategory().label,
    action: expanded() ? 'collapse' : 'expand',
  }"
  class="category"
  [expanded]="expanded()"
  (expandedChange)="expandedChange.emit($event)"
>
  <mat-expansion-panel-header class="header">
    <mat-icon>{{ navigationCategory().icon }}</mat-icon>
    <div>{{ navigationCategory().label }}</div>
  </mat-expansion-panel-header>

  <div matExpansionPanelContent>
    @for (navigationItem of navigationCategory().children; track navigationItem) {
      <hra-navigation-item [navigationItem]="navigationItem" [baseUrl]="baseUrl()" />
    }
  </div>
</mat-expansion-panel>
