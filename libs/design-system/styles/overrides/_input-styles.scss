@use '@angular/material' as mat;
@use '../utils';
@use '../vars';

// Override mixin for mat-form-field styles
@mixin overrides() {
  // Filled appearance overrides
  mat-form-field.mat-mdc-form-field-type-mat-input {
    @include mat.form-field-overrides(
      (
        // Container colors
        filled-container-color: vars.$surface-container,
        outlined-outline-color: vars.$outline-variant,
        outlined-focus-outline-color: vars.$tertiary,
        outlined-input-text-color: vars.$primary-fixed,

        container-height: 3rem,
        filled-with-label-container-padding-top: 1.25rem,
        filled-with-label-container-padding-bottom: 0.25rem
      )
    );

    mat-label {
      font: vars.$label-small;
      letter-spacing: vars.$label-small-tracking;
      color: vars.$primary-fixed;
    }

    .mat-mdc-form-field-infix {
      font: vars.$label-medium;
      letter-spacing: vars.$label-medium-tracking;

      input {
        height: 1.5rem;
      }
    }

    &.mat-focused {
      @include mat.form-field-overrides(
        (
          filled-label-text-color: vars.$tertiary,
          filled-active-indicator-color: vars.$tertiary,
          filled-focus-active-indicator-color: vars.$tertiary,
          filled-focus-active-indicator-height: 1px,
        )
      );
      mat-label {
        color: vars.$tertiary;
      }
    }

    &.mat-form-field-disabled {
      mat-label {
        color: filled-disabled-label-text-color;
      }
    }
  }

  mat-form-field[appearance='outline'] {
    @include mat.form-field-overrides(
      (
        outlined-outline-width: 1px,
      )
    );
    .mdc-text-field:hover {
      @include mat.form-field-overrides(
        (
          outlined-outline-width: 2px,
          outlined-hover-outline-color: vars.$outline-variant,
        )
      );
    }
  }
}
