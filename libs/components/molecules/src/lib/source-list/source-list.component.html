<hra-label-box class="toggle" (click)="toggleTable()">
  Source Data
  <mat-icon class="end">
    {{ showTable ? 'keyboard_arrow_down' : 'keyboard_arrow_up' }}
  </mat-icon>
</hra-label-box>

<div class="table-content" [class.hidden]="!showTable">
  <table *ngIf="sources.length !== 0" mat-table [dataSource]="dataSource" matSort>
    <!-- <caption class="sr-only">
      Source List Table with Title and Links
    </caption> -->

    <!-- Checkbox Column -->
    <ng-container matColumnDef="select">
      <th mat-header-cell *matHeaderCellDef>
        <mat-checkbox
          (change)="$event ? toggleAllRows() : null"
          [checked]="selection.hasValue() && isAllSelected()"
          [indeterminate]="selection.hasValue() && !isAllSelected()"
        >
        </mat-checkbox>
      </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox
          (click)="$event.stopPropagation()"
          (change)="$event ? toggleRow(row) : null"
          [checked]="selection.isSelected(row)"
        >
        </mat-checkbox>
      </td>
    </ng-container>

    <!-- Authors Column -->
    <ng-container matColumnDef="authors">
      <th class="sr-only" mat-header-cell *matHeaderCellDef mat-sort-header>Authors</th>
      <td mat-cell *matCellDef="let row">{{ row.authors }}</td>
    </ng-container>

    <!-- Year Column -->
    <ng-container matColumnDef="year">
      <th class="sr-only" mat-header-cell *matHeaderCellDef mat-sort-header>Year</th>
      <td mat-cell *matCellDef="let row">{{ row.year }}</td>
    </ng-container>

    <!-- Title Column -->
    <ng-container matColumnDef="title">
      <th class="sr-only" mat-header-cell *matHeaderCellDef mat-sort-header>Paper Title</th>
      <td mat-cell *matCellDef="let row">
        {{ row.title }}
        <!-- <br /> -->
        <!-- <a [href]="row.link" target="_blank" (click)="sourceLinkClicked(row)">{{ row.label }}</a> -->
      </td>
    </ng-container>

    <!-- DOI Column -->
    <ng-container matColumnDef="doi">
      <th class="sr-only" mat-header-cell *matHeaderCellDef mat-sort-header>Paper DOI</th>
      <td mat-cell *matCellDef="let row">{{ row.doi }}</td>
    </ng-container>

    <!-- Link Column -->
    <ng-container matColumnDef="link">
      <th class="sr-only" mat-header-cell *matHeaderCellDef mat-sort-header>Link to Data</th>
      <td mat-cell *matCellDef="let row">{{ row.link }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
  <hra-empty-biomarker
    *ngIf="sources.length === 0"
    [collaborateText]="collaborateText"
    [message]="message"
    (collaborateClick)="collaborateClick.emit()"
  ></hra-empty-biomarker>
</div>
