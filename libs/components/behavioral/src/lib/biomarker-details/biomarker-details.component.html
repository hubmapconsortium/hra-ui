<hra-label-box class="table-header">
  Cell Types by Gene Biomarkers
  <span (click)="toggleFullscreen()" class="end material-symbols-outlined cursor">
    {{ isTableFullScreen ? 'close_fullscreen' : 'open_in_full' }}
  </span>
</hra-label-box>

<mat-tab-group
  class="table"
  [class.table-fullscreen]="isTableFullScreen"
  mat-stretch-tabs="true"
  color="accent"
  (selectedTabChange)="logTabChange($event)"
>
  <mat-tab *ngFor="let tab of tabs()" labelClass="table-tab-header" [label]="tab.label">
    <hra-biomarker-table
      *ngIf="tab.rows.length !== 0"
      [data]="$any(tab.rows)"
      [columns]="tab.columns"
      [gradient]="gradients()"
      [sizes]="sizes()"
      [tissueInfo]="tissueInfo"
      [highlightedCellId]="selectedOnHovered()?.ontologyId ?? ''"
      [illustrationIds]="illustrationIds"
      (rowHover)="highlightCells($event)"
    ></hra-biomarker-table>
    <hra-empty-biomarker
      *ngIf="tab.rows.length === 0"
      [collaborateText]="collaborateText"
      [message]="message"
      (collaborateClick)="collaborate()"
    ></hra-empty-biomarker>
  </mat-tab>
</mat-tab-group>

<hra-label-box class="legend-header gradient">
  Biomarker Expression Mean in FTU
  <mat-icon class="icon" [hraHover]="infoTooltip" [hraHoverData]="gradientHoverInfo()">info_outlined</mat-icon>
</hra-label-box>
<div class="legend gradient">
  <hra-gradient-legend [gradient]="gradients()" class="content"></hra-gradient-legend>
</div>

<hra-label-box class="legend-header size">
  Percentage of Cells in FTU
  <mat-icon class="icon" [hraHover]="infoTooltip" [hraHoverData]="sizeHoverInfo()">info_outlined</mat-icon>
</hra-label-box>
<div class="legend size">
  <hra-size-legend [sizes]="sizes()" class="content"></hra-size-legend>
</div>

<div class="source-list">
  <hra-source-list
    [collaborateText]="collaborateText"
    [message]="message"
    (collaborateClick)="collaborate()"
    [sources]="source()"
    class="content"
  ></hra-source-list>
</div>

<ng-template #infoTooltip let-tooltip>
  <div class="biomarker-details info-tooltip">
    {{ tooltip }}
  </div>
</ng-template>
