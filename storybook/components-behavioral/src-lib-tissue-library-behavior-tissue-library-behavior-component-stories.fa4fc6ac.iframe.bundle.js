(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[587],{"./libs/cdk/src/lib/link/link.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>LinkDirective});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),select_snapshot=__webpack_require__("./libs/cdk/injectors/src/lib/select/select-snapshot.ts"),dispatch=__webpack_require__("./libs/cdk/injectors/src/lib/dispatch/dispatch.ts"),link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),link_registry_state=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.state.ts");class LinkRegistrySelectors{static query(state){return(id,type)=>this.getEntry(state,id,type)}static getEntry(state,id,type){const entry=state[id];return void 0===type||entry?.type===type?entry:void 0}}(0,tslib_es6.gn)([(0,ngxs_store.Qf)([link_registry_state.V]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Function)],LinkRegistrySelectors,"query",null);var _class,link_registry_actions=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),create=__webpack_require__("./libs/shared/utils/src/lib/url/create.ts");let LinkDirective=((_class=class LinkDirective{constructor(){this.linkId=link_registry_model.Ry,this.injector=(0,core.inject)(core.Injector),this.tagName=(0,core.inject)(core.ElementRef).nativeElement.tagName.toLowerCase(),this.queryLink=(0,select_snapshot.w)(LinkRegistrySelectors.query),this.navigate=(0,dispatch.WI)(link_registry_actions.Fg)}get isAnchorElement(){return["a","area"].includes(this.tagName)}get isResourceUrl(){return["base","link"].includes(this.tagName)}get extras(){const{link}=this;return this.mergeExtras(link?.type===link_registry_model.Un.Internal?link.extras:void 0,this)}ngOnChanges(){this.updateLink()}onClick(event){const{link,linkId,isAnchorElement}=this;if(!link)return!0;if(isAnchorElement){const{button,ctrlKey,shiftKey,altKey,metaKey}=event;if(link.type===link_registry_model.Un.External||0!==button||ctrlKey||shiftKey||altKey||metaKey)return!0}return this.navigate(linkId,this.extras),!isAnchorElement}updateLink(){const link=this.link=this.queryLink(this.linkId);({href:this.href,rel:this.rel,target:this.target}=this.getLinkAttributes(link))}getLinkAttributes(link){const{injector,extras,isResourceUrl}=this;switch(link?.type){case link_registry_model.Un.Internal:return{href:(0,create.L)(injector,link.commands,extras,isResourceUrl)};case link_registry_model.Un.External:return{...link,href:(0,create.D)(link.url,extras)};default:return{}}}mergeExtras(opt1,opt2){const result={...opt1},mergeKey=key=>{void 0!==opt2[key]&&(result[key]=opt2[key])};return mergeKey("queryParams"),mergeKey("queryParamsHandling"),mergeKey("fragment"),mergeKey("preserveFragment"),mergeKey("relativeTo"),result}}).propDecorators={linkId:[{type:core.Input,args:["hraLink"]}],queryParams:[{type:core.Input}],queryParamsHandling:[{type:core.Input}],fragment:[{type:core.Input}],preserveFragment:[{type:core.Input}],relativeTo:[{type:core.Input}],href:[{type:core.HostBinding,args:["attr.href"]}],rel:[{type:core.HostBinding,args:["attr.rel"]}],target:[{type:core.HostBinding,args:["attr.target"]}],onClick:[{type:core.HostListener,args:["click",["$event"]]}]},_class);LinkDirective=(0,tslib_es6.gn)([(0,core.Directive)({selector:"[hraLink]",standalone:!0})],LinkDirective)},"./libs/cdk/state/src/link-registry/link-registry.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{AU:()=>LoadFromYaml,Fg:()=>Navigate,Gg:()=>AddMany,mm:()=>Add,tI:()=>AddFromYaml});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").W)("LinkRegistry");class Add extends(Action("Add")){constructor(id,entry){super(),this.id=id,this.entry=entry}}class AddMany extends(Action("Add Many")){constructor(entries){super(),this.entries=entries}}class AddFromYaml extends(Action("Add from Yaml")){constructor(yaml){super(),this.yaml=yaml}}class LoadFromYaml extends(Action("Load from Yaml")){constructor(url){super(),this.url=url}}class Navigate extends(Action("Navigate")){constructor(id,extras={}){super(),this.id=id,this.extras=extras}}},"./libs/cdk/state/src/link-registry/link-registry.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HW:()=>createLinkId,Ry:()=>EMPTY_LINK,Un:()=>LinkType,l$:()=>LINK_REGISTRY_SCHEMA});var LinkType,zod__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zod/lib/index.mjs");!function(LinkType){LinkType.Internal="internal",LinkType.External="external"}(LinkType||(LinkType={}));const EXTERNAL_LINK_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({type:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(LinkType.External),url:zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),rel:zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default("noopener"),target:zod__WEBPACK_IMPORTED_MODULE_0__.z.string()}).partial({rel:!0,target:!0}),INTERNAL_LINK_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({type:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(LinkType.Internal),commands:zod__WEBPACK_IMPORTED_MODULE_0__.z.any().array(),extras:zod__WEBPACK_IMPORTED_MODULE_0__.z.object({queryParams:zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.any()).nullable(),fragment:zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),queryParamsHandling:zod__WEBPACK_IMPORTED_MODULE_0__.z.enum(["merge","preserve",""]).nullable(),preserveFragment:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),onSameUrlNavigation:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal("reload"),skipLocationChange:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),replaceUrl:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()}).partial()}).partial({extras:!0}),LINK_REGISTRY_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((id=>`LinkId:'${id}'`)).brand("LinkId"),zod__WEBPACK_IMPORTED_MODULE_0__.z.discriminatedUnion("type",[EXTERNAL_LINK_SCHEMA,INTERNAL_LINK_SCHEMA]));function createLinkId(id){return LINK_REGISTRY_SCHEMA.keySchema.parse(id)}const EMPTY_LINK=createLinkId("@@__EMPTY__")},"./libs/cdk/state/src/link-registry/link-registry.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{V:()=>LinkRegistryState});var _home_runner_work_hra_ui_hra_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/tslib/tslib.es6.js"),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2020/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/router/fesm2020/router.mjs"),_hra_ui_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/shared/utils/src/lib/url/create.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),js_yaml__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/js-yaml/dist/js-yaml.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),_link_registry_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts");let LinkRegistryState=class LinkRegistryState{constructor(){this.http=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.eN),this.router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_router__WEBPACK_IMPORTED_MODULE_4__.F0),this.zone=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgZone)}addOne(ctx,{id,entry}){this.addMany(ctx,new _link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gg({[id]:entry}))}addMany(ctx,{entries}){ctx.patchState(entries)}addYaml(ctx,{yaml},filename){const data=(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.zD)(yaml,{filename}),entries=_link_registry_model__WEBPACK_IMPORTED_MODULE_6__.l$.parse(data);this.addMany(ctx,new _link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gg(entries))}loadYaml(ctx,{url}){return this.http.get(url,{responseType:"text"}).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.U)((data=>this.addYaml(ctx,new _link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.tI(data),url))))}navigate(ctx,{id,extras}){var _this=this;return(0,_home_runner_work_hra_ui_hra_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.Z)((function*(){const entry=ctx.getState()[id];switch(entry?.type){case _link_registry_model__WEBPACK_IMPORTED_MODULE_6__.Un.Internal:yield _this.navigateToInternal(entry,extras);break;case _link_registry_model__WEBPACK_IMPORTED_MODULE_6__.Un.External:_this.navigateToExternal(entry,extras);break;default:throw new Error(`Cannot navigate to non-existing link '${id}'`)}}))()}navigateToInternal(entry,extras){var _this2=this;return(0,_home_runner_work_hra_ui_hra_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.Z)((function*(){yield _this2.zone.run((()=>_this2.router.navigate(entry.commands,{...entry.extras,...extras})))}))()}navigateToExternal(entry,extras){const url=(0,_hra_ui_utils__WEBPACK_IMPORTED_MODULE_9__.D)(entry.url,extras);window.open(url,entry.target,entry.rel)}};(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.mm),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.mm]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:returntype",void 0)],LinkRegistryState.prototype,"addOne",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gg),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gg]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:returntype",void 0)],LinkRegistryState.prototype,"addMany",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.tI),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.tI,String]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:returntype",void 0)],LinkRegistryState.prototype,"addYaml",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.AU),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.AU]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_11__.y)],LinkRegistryState.prototype,"loadYaml",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.aU)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Fg),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Fg]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.w6)("design:returntype",Promise)],LinkRegistryState.prototype,"navigate",null),LinkRegistryState=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.gn)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.ZM)({name:"linkRegistry",defaults:{}}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)()],LinkRegistryState)},"./libs/components/atoms/src/lib/label-box/label-box.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>LabelBoxComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var label_box_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource"),label_box_componentngResource_default=__webpack_require__.n(label_box_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs");let LabelBoxComponent=class LabelBoxComponent{};LabelBoxComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-label-box",standalone:!0,imports:[common.CommonModule],template:'<ng-content></ng-content>\n\n<div class="filler"></div>\n\n<ng-content select=".end"></ng-content>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[label_box_componentngResource_default()]})],LabelBoxComponent)},"./libs/shared/utils/src/lib/url/create.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>createExternalUrl,L:()=>createInternalUrl});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2020/platform-browser.mjs"),_angular_router__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/router/fesm2020/router.mjs");function setQueryParams(dest,params){for(const[key,value]of Object.entries(params??{}))null!=value&&dest.set(key,`${value}`)}function createInternalUrl(injector,commands,extras,isResourceUrl){const router=injector.get(_angular_router__WEBPACK_IMPORTED_MODULE_0__.F0),locationStrategy=injector.get(_angular_common__WEBPACK_IMPORTED_MODULE_1__.LocationStrategy),sanitizer=injector.get(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__.DomSanitizer),route=extras.relativeTo??injector.get(_angular_router__WEBPACK_IMPORTED_MODULE_0__.gz,null),securityContext=isResourceUrl?_angular_core__WEBPACK_IMPORTED_MODULE_3__.SecurityContext.RESOURCE_URL:_angular_core__WEBPACK_IMPORTED_MODULE_3__.SecurityContext.URL,tree=router.createUrlTree(commands,{...extras,relativeTo:route}),url=locationStrategy.prepareExternalUrl(router.serializeUrl(tree));return sanitizer.sanitize(securityContext,url)??void 0}function createExternalUrl(url,extras){const{fragment,preserveFragment,queryParams,queryParamsHandling}=extras,result=new URL(url);return void 0===fragment&&!1!==preserveFragment||(result.hash=fragment??""),""===queryParamsHandling?(result.search="",setQueryParams(result.searchParams,queryParams)):"preserve"!==queryParamsHandling&&setQueryParams(result.searchParams,queryParams),result.toString()}},"./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 2rem;\n  background: #f8f9fa;\n}\n:host .filler {\n  flex-grow: 1;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/behavioral/src/lib/tissue-library-behavior/tissue-library-behavior.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .label {\n  border-bottom: 1px solid #e2e7e9;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .row {\n  min-height: 2rem;\n}\n:host .row.selected {\n  background-color: var(--palette-accent-A100-rgb);\n}\n:host .row .toggle {\n  width: 2rem;\n  height: 2rem;\n  padding: 0.25rem;\n}\n:host .row .label-container {\n  display: flex;\n  align-items: center;\n  height: 2rem;\n  padding: 0 1rem;\n  border-radius: 0.25rem;\n}\n:host .row .label-container .link {\n  cursor: pointer;\n  text-decoration: none;\n  color: rgba(var(--dark-primary-text));\n}\n:host .row.selected .label-container .link {\n  color: var(--palette-accent-A200-rgb);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/behavioral/src/lib/tissue-library-behavior/tissue-library-behavior.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>tissue_library_behavior_component_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var tissue_library_behavior_componentngResource=__webpack_require__("./libs/components/behavioral/src/lib/tissue-library-behavior/tissue-library-behavior.component.scss?ngResource"),tissue_library_behavior_componentngResource_default=__webpack_require__.n(tissue_library_behavior_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),select_snapshot=__webpack_require__("./libs/cdk/injectors/src/lib/select/select-snapshot.ts"),select_select=__webpack_require__("./libs/cdk/injectors/src/lib/select/select.ts");var _class,tissue_tree_list_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.scss?ngResource"),tissue_tree_list_componentngResource_default=__webpack_require__.n(tissue_tree_list_componentngResource),tree=__webpack_require__("./node_modules/@angular/cdk/fesm2020/tree.mjs"),fesm2020_button=__webpack_require__("./node_modules/@angular/material/fesm2020/button.mjs"),fesm2020_core=__webpack_require__("./node_modules/@angular/material/fesm2020/core.mjs"),expansion=__webpack_require__("./node_modules/@angular/material/fesm2020/expansion.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2020/icon.mjs"),fesm2020_tree=__webpack_require__("./node_modules/@angular/material/fesm2020/tree.mjs"),link_directive=__webpack_require__("./libs/cdk/src/lib/link/link.directive.ts");let TissueTreeListComponent=((_class=class TissueTreeListComponent{constructor(){this.nodes={},this.selected=void 0,this.selectedChange=new core.EventEmitter,this.control=new tree.C2((node=>node.level),(node=>node.expandable)),this.flattener=new fesm2020_tree.JZ(((node,level)=>({label:node.label,expandable:(node.children?.length??0)>0,level,data:node})),(node=>node.level),(node=>node.expandable),(node=>node.children?.map((id=>this.nodes[id])))),this.dataSource=new fesm2020_tree.kc(this.control,this.flattener)}ngOnChanges(changes){"nodes"in changes&&(this.dataSource.data=this.findRootNodes())}hasChild(_,node){return node.expandable}selectNode(node){this.selected!==node&&(this.selected=node,this.selectedChange.emit(this.selected))}findRootNodes(){const nodes={...this.nodes};for(const key in nodes)for(const child of nodes[key].children??[])delete nodes[child];return Object.values(nodes)}}).propDecorators={nodes:[{type:core.Input}],selected:[{type:core.Input}],selectedChange:[{type:core.Output}]},_class);TissueTreeListComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-tissue-tree-list",standalone:!0,imports:[common.CommonModule,fesm2020_button.ot,fesm2020_tree.dp,icon.Ps,expansion.To,fesm2020_core.si,link_directive.I],template:'<mat-tree [dataSource]="dataSource" [treeControl]="control" class="tree">\n  <mat-tree-node\n    *matTreeNodeDef="let node; let level = level"\n    [matTreeNodePadding]="level"\n    matTreeNodePaddingIndent="64"\n    [class.selected]="node.data === selected"\n    class="row"\n    tabIndex="0"\n  >\n    <ng-container [ngTemplateOutlet]="label" [ngTemplateOutletContext]="node"> </ng-container>\n  </mat-tree-node>\n\n  <mat-tree-node\n    *matTreeNodeDef="let node; let level = level; when: hasChild"\n    class="row"\n    [class.selected]="node.data === selected"\n  >\n    <button mat-icon-button matTreeNodeToggle class="toggle" [attr.aria-label]="\'Toggle \' + node.label">\n      <mat-icon>\n        {{ control.isExpanded(node) ? \'keyboard_arrow_up\' : \'chevron_right\' }}\n      </mat-icon>\n    </button>\n\n    <ng-container [ngTemplateOutlet]="label" [ngTemplateOutletContext]="node"> </ng-container>\n  </mat-tree-node>\n</mat-tree>\n\n<ng-template let-label="label" let-data="data" #label>\n  <div class="label-container" matRipple [matRippleDisabled]="!data.link">\n    <a\n      *ngIf="data.link; else noLink"\n      [hraLink]="data.link"\n      [queryParams]="{ id: data.id }"\n      class="link"\n      (click)="selectNode(data)"\n    >\n      {{ label }}\n    </a>\n    <ng-template #noLink>\n      <span>{{ label }}</span>\n    </ng-template>\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[tissue_tree_list_componentngResource_default()]})],TissueTreeListComponent);var ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs");const IRI=lib.z.string().url().brand("IRI"),TISSUE_ITEM_SCHEMA=lib.z.object({"@type":lib.z.string(),"@id":IRI,id:IRI,parent:IRI.or(lib.z.literal("")),label:lib.z.string(),synonymLabels:lib.z.string().array(),children:IRI.array()});lib.z.object({root:IRI,nodes:lib.z.record(IRI,TISSUE_ITEM_SCHEMA)});let TissueLibraryService=class TissueLibraryService{};TissueLibraryService=(0,tslib_es6.gn)([(0,core.Injectable)()],TissueLibraryService);var tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),actions=__webpack_require__("./libs/cdk/state/src/actions/actions.ts");class Load extends((0,actions.a)("[TissueLibrary] Load Tissue Data")){}let TissueLibraryState=class TissueLibraryState{constructor(){this.dataService=(0,core.inject)(TissueLibraryService)}setActive(ctx){return this.dataService.getTissues().pipe((0,tap.b)((data=>ctx.setState(data))))}};(0,tslib_es6.gn)([(0,ngxs_store.aU)(Load),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Observable.y)],TissueLibraryState.prototype,"setActive",null),TissueLibraryState=(0,tslib_es6.gn)([(0,ngxs_store.ZM)({name:"tissueLibrary"}),(0,core.Injectable)()],TissueLibraryState);class TissueLibrarySelectors{static tissues(state){return state.nodes}}(0,tslib_es6.gn)([(0,ngxs_store.Qf)([TissueLibraryState]),(0,tslib_es6.w6)("design:type",Function),(0,tslib_es6.w6)("design:paramtypes",[Object]),(0,tslib_es6.w6)("design:returntype",Object)],TissueLibrarySelectors,"tissues",null);var tissue_library_behavior_component_class,medical_illustration_selectors=__webpack_require__("./libs/state/src/lib/medical-illustration/medical-illustration.selectors.ts"),label_box_component=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.ts");let TissueLibraryBehaviorComponent=((tissue_library_behavior_component_class=class TissueLibraryBehaviorComponent{constructor(){this.tissues=(0,select_snapshot.g)(TissueLibrarySelectors.tissues),(0,select_select.N)(medical_illustration_selectors.W.url).subscribe((url=>{void 0===url&&(this.selected=void 0)}))}}).ctorParameters=()=>[],tissue_library_behavior_component_class);TissueLibraryBehaviorComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"ftu-tissue-library-behavior",standalone:!0,imports:[common.CommonModule,label_box_component.d,TissueTreeListComponent],template:'<hra-label-box class="label">FTU Library</hra-label-box>\n<hra-tissue-tree-list [nodes]="tissues()" [(selected)]="selected"> </hra-tissue-tree-list>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[tissue_library_behavior_componentngResource_default()]}),(0,tslib_es6.w6)("design:paramtypes",[])],TissueLibraryBehaviorComponent);var link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),of=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js");function defineNode(label,parent,url,...children){const id=function createNodeId(label,parent){return`${parent}${label.replace(/ /g,"_")}/`}(label,parent),childNodes=children.reduce(((acc,[childLabel,childUrl])=>({...acc,...defineNode(childLabel,id,childUrl)})),{}),node={"@type":"","@id":id,id,parent,label,synonymLabels:[],link:url&&(0,link_registry_model.HW)("FTU"),representation_of:id,object:{file:url},children:Object.keys(childNodes)};return{[id]:node,...childNodes}}const BASE_ID="https://example.com/",MOCK_TISSUE_DATA={root:BASE_ID,nodes:Object.assign({},defineNode("Kidney",BASE_ID,void 0,["Descending Thin Loop of Henle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-descending-thin-loop-of-henle.svg"],["Renal Corpuscle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-renal-corpuscle.svg"],["Ascending Thin Loop of Henle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-ascending-thin-loop-of-henle.svg"],["Cortical Collecting Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-cortical-collecting-duct.svg"],["Inner Medullary Collecting Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-inner-medullary-collecting-duct.svg"],["Nephron","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-nephron.svg"],["Outer Medullary Collectiong Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-outer-medullary-collecting-duct.svg"],["Thick Ascending Loop of Henle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-thick-ascending-loop-of-henle.svg"]),defineNode("Lung",BASE_ID,void 0,["Pulmonary Alveolus","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-lung-pulmonary-alveolus.svg"],["Bronchial Submucosal Gland","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-lung-bronchial-submucosal-gland.svg"]),defineNode("Large Intestine",BASE_ID,void 0,["Crypt Lieberkuhn","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-large-intestine-crypt-lieberkuhn.svg"]),defineNode("Pancreas",BASE_ID,void 0,["Islates Langerhans","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-pancreas-islets-langerhans.svg"],["Intercalated Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-pancreas-intercalated-duct.svg"],["Pancreatic Acinus","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-pancreas-pancreatic-acinus.svg"]),defineNode("Skin",BASE_ID,void 0,["Dermal Papilla","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-skin-dermal-papilla.svg"],["Epidermal Ridge","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-skin-epidermal-ridge.svg"]),defineNode("Liver",BASE_ID,void 0,["Liver Lobule","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-liver-liver-lobule.svg"]),defineNode("Prostate",BASE_ID,void 0,["Prostate Glandular Acinus","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-prostate-prostate-glandular-acinus.svg"]),defineNode("Thymus",BASE_ID,void 0,["Thymus Lobule","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-thymus-thymus-lobule.svg"]))};let MockTissueLibraryService=class MockTissueLibraryService extends TissueLibraryService{getTissues(){return(0,of.of)(MOCK_TISSUE_DATA)}};MockTissueLibraryService=(0,tslib_es6.gn)([(0,core.Injectable)({providedIn:"root"})],MockTissueLibraryService);const tissue_library_behavior_component_stories={title:"TissueLibraryBehaviorComponent",parameters:{state:{states:[TissueLibraryState],actions:[new Load]}},component:TissueLibraryBehaviorComponent,decorators:[(0,dist.applicationConfig)({providers:[{provide:TissueLibraryService,useExisting:MockTissueLibraryService}]})]},Primary={render:args=>({props:args}),args:{}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  render: args => ({\n    props: args\n  }),\n  args: {}\n}",...Primary.parameters?.docs?.source}}}}}]);