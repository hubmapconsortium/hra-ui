(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[996],{"./libs/cdk/state/src/link-registry/link-registry.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BX:()=>AddFromYaml,C5:()=>Navigate,GD:()=>LoadFromYaml,OM:()=>Add,j8:()=>AddMany});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").K)("LinkRegistry");class Add extends(Action("Add")){constructor(id,entry){super(),this.id=id,this.entry=entry}}class AddMany extends(Action("Add Many")){constructor(entries){super(),this.entries=entries}}class AddFromYaml extends(Action("Add from Yaml")){constructor(yaml){super(),this.yaml=yaml}}class LoadFromYaml extends(Action("Load from Yaml")){constructor(url){super(),this.url=url}}class Navigate extends(Action("Navigate")){constructor(id,extras={}){super(),this.id=id,this.extras=extras}}},"./libs/cdk/state/src/link-registry/link-registry.model.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>LinkType,LB:()=>LINK_REGISTRY_SCHEMA,ZJ:()=>EMPTY_LINK,cp:()=>createLinkId});var LinkType,zod__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/zod/lib/index.mjs");!function(LinkType){LinkType.Internal="internal",LinkType.External="external"}(LinkType||(LinkType={}));const EXTERNAL_LINK_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({type:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(LinkType.External),url:zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),rel:zod__WEBPACK_IMPORTED_MODULE_0__.z.string().default("noopener"),target:zod__WEBPACK_IMPORTED_MODULE_0__.z.string()}).partial({rel:!0,target:!0}),INTERNAL_LINK_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.object({type:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(LinkType.Internal),commands:zod__WEBPACK_IMPORTED_MODULE_0__.z.any().array(),extras:zod__WEBPACK_IMPORTED_MODULE_0__.z.object({queryParams:zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.any()).nullable(),fragment:zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),queryParamsHandling:zod__WEBPACK_IMPORTED_MODULE_0__.z.enum(["merge","preserve",""]).nullable(),preserveFragment:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),onSameUrlNavigation:zod__WEBPACK_IMPORTED_MODULE_0__.z.literal("reload"),skipLocationChange:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean(),replaceUrl:zod__WEBPACK_IMPORTED_MODULE_0__.z.boolean()}).partial()}).partial({extras:!0}),LINK_REGISTRY_SCHEMA=zod__WEBPACK_IMPORTED_MODULE_0__.z.record(zod__WEBPACK_IMPORTED_MODULE_0__.z.string().transform((id=>`LinkId:'${id}'`)).brand("LinkId"),zod__WEBPACK_IMPORTED_MODULE_0__.z.discriminatedUnion("type",[EXTERNAL_LINK_SCHEMA,INTERNAL_LINK_SCHEMA]));function createLinkId(id){return LINK_REGISTRY_SCHEMA.keySchema.parse(id)}const EMPTY_LINK=createLinkId("@@__EMPTY__")},"./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 2rem;\n  background: rgba(var(--palette-primary-100));\n  border-bottom: 1px solid rgba(var(--light-dividers));\n  font-size: 1rem;\n}\n:host .filler {\n  flex-grow: 1;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/atoms/src/lib/label-box/label-box.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>LabelBoxComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var label_box_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource"),label_box_componentngResource_default=__webpack_require__.n(label_box_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs");let LabelBoxComponent=class LabelBoxComponent{};LabelBoxComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-label-box",imports:[common.CommonModule],template:'<ng-content></ng-content>\n\n<div class="filler"></div>\n\n<ng-content select=".end"></ng-content>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[label_box_componentngResource_default()]})],LabelBoxComponent)},"./libs/services/src/lib/ftu-data/ftu-data.mock.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{ZV:()=>MockFtuDataService});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/of.js"),_ftu_data_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts");function defineNode(label,parent,url,...children){const id=function createNodeId(label,parent){return`${parent}${label.replace(/ /g,"_")}/`}(label,parent),childNodes=children.reduce(((acc,[childLabel,childUrl])=>({...acc,...defineNode(childLabel,id,childUrl)})),{}),node={"@type":"","@id":id,id,parent,label,synonymLabels:[],link:url&&(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("FTU"),representation_of:id,object:{file:url},children:Object.keys(childNodes)};return{[id]:node,...childNodes}}const BASE_ID="https://purl.humanatlas.io/2d-ftu/",MOCK_TISSUE_DATA={root:BASE_ID,nodes:Object.assign({},defineNode("Kidney",BASE_ID,void 0,["Descending Thin Loop of Henle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-descending-thin-loop-of-henle.svg"],["Renal Corpuscle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-renal-corpuscle.svg"],["Ascending Thin Loop of Henle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-ascending-thin-loop-of-henle.svg"],["Cortical Collecting Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-cortical-collecting-duct.svg"],["Inner Medullary Collecting Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-inner-medullary-collecting-duct.svg"],["Nephron","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-nephron.svg"],["Outer Medullary Collectiong Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-outer-medullary-collecting-duct.svg"],["Thick Ascending Loop of Henle","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-kidney-thick-ascending-loop-of-henle.svg"]),defineNode("Lung",BASE_ID,void 0,["Pulmonary Alveolus","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-lung-pulmonary-alveolus.svg"],["Bronchial Submucosal Gland","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-lung-bronchial-submucosal-gland.svg"]),defineNode("Large Intestine",BASE_ID,void 0,["Crypt Lieberkuhn","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-large-intestine-crypt-lieberkuhn.svg"]),defineNode("Pancreas",BASE_ID,void 0,["Islates Langerhans","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-pancreas-islets-langerhans.svg"],["Intercalated Duct","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-pancreas-intercalated-duct.svg"],["Pancreatic Acinus","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-pancreas-pancreatic-acinus.svg"]),defineNode("Skin",BASE_ID,void 0,["Dermal Papilla","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-skin-dermal-papilla.svg"],["Epidermal Ridge","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-skin-epidermal-ridge.svg"]),defineNode("Liver",BASE_ID,void 0,["Liver Lobule","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-liver-liver-lobule.svg"]),defineNode("Prostate",BASE_ID,void 0,["Prostate Glandular Acinus","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-prostate-prostate-glandular-acinus.svg"]),defineNode("Thymus",BASE_ID,void 0,["Thymus Lobule","https://hubmapconsortium.github.io/ccf-releases/v1.3/2d-ftu/2d-ftu-thymus-thymus-lobule.svg"]))};function createCell(cid,clabel,bid,blabel,count,percentage,meanExpression,metadata=[]){return{cell:{id:cid,label:clabel},biomarker:{id:bid,label:blabel},count,percentage,meanExpression,metadata}}createCell("cell1","Cell 1","biomarker1","Biomarker 1",10,1,1,[[{label:"metadata 1",value:"value of data"},{label:"metadata 2",value:"value of data"}],[{label:"metadata 3",value:"value of data"}]]),createCell("cell2","Cell 2","biomarker1","Biomarker 1",5,.2,.3),createCell("cell2","Cell 2","biomarker2","Biomarker 2",5,.2,.3),createCell("cell1","Cell 1","biomarker3","Biomarker 3",15,.2,.3),createCell("cell3","Cell 3","biomarker1","Biomarker 1",11,.3,.5),createCell("cell3","Cell 3","biomarker3","Biomarker 3",11,.1,.3),createCell("cell4","Cell 4","biomarker1","Biomarker 1",2e3,.1,1),createCell("cell5","Cell 5","biomarker1","Biomarker 1",332,.4,.3),createCell("cell6","Cell 6","biomarker3","Biomarker 3",101,.2,.1),createCell("cell7","Cell 7","biomarker1","Biomarker 1",2,.5,.3),createCell("cell7","Cell 7","biomarker2","Biomarker 2",230,.4,.3),createCell("cell7","Cell 7","biomarker3","Biomarker 3",601,.7,.3),createCell("cell8","Cell 8","biomarker1","Biomarker 1",124,.5,.5),createCell("cell8","Cell 8","biomarker2","Biomarker 2",244,.3,.3),createCell("cell9","Cell 9","biomarker1","Biomarker 1",21,.4,.3),createCell("cell10","Cell 10","biomarker2","Biomarker 2",675,.5,.3),createCell("cell11","Cell 11","biomarker3","Biomarker 3",57,.3,.3),createCell("cell12","Cell 12","biomarker2","Biomarker 2",45,.1,.7),createCell("cell13","Cell 13","biomarker4","Biomarker 4",45,.1,.3),createCell("cell13","Cell 13","biomarker5","Biomarker 5",45,.1,.3),createCell("cell13","Cell 13","biomarker6","Biomarker 6",45,.1,.4),createCell("cell13","Cell 13","biomarker7","Biomarker 7",45,.1,.3),createCell("cell13","Cell 13","biomarker8","Biomarker 8",45,.1,.9),createCell("cell1","Cell 1","biomarker2","Biomarker 2",20,1,.9);const sourceReferences=[{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"Kidney Precision Medicine Project",label:"Ancillary Study Data, Clinical Data, HRT Codebook",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"[Dataset Owner Title]",label:"<Dataset Title + Link to Dataset>",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"[Dataset Owner Title]",label:"<Dataset Title + Link to Dataset>",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"[Dataset Owner Title but extremely long and wraps around to the next line as you can see here in this example]",label:"<Extremely long dataset title that wraps around to the next line as you can see in this example + link to dataset>",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"Kidney Precision Medicine Project",label:"Ancillary Study Data, Clinical Data, HRT Codebook",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"[Dataset Owner Title]",label:"<Dataset Title + Link to Dataset>",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"[Dataset Owner Title]",label:"<Dataset Title + Link to Dataset>",link:"google.com",authors:[],year:-1,doi:""},{id:"https://cns-iu.github.io/hra-cell-type-populations-supporting-information/data/enriched_rui_locations.jsonld#36e76662-60b8-4193-8a70-1bfd4f6938d0_D088_Lung",title:"[Dataset Owner Title but extremely long and wraps around to the next line as you can see here in this example]",label:"<Extremely long dataset title that wraps around to the next line as you can see in this example + link to dataset>",link:"google.com",authors:[],year:-1,doi:""}],CELL_SUMMARY_DATA=[];let MockFtuDataService=class MockFtuDataService extends _ftu_data_service__WEBPACK_IMPORTED_MODULE_1__.N{getTissueLibrary(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)()}getIllustrationUrl(iri){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(MOCK_TISSUE_DATA.nodes[iri].object.file)}getIllustrationMapping(_iri){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)([])}getCellSummaries(_iri){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(CELL_SUMMARY_DATA)}getDataFileReferences(iri){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)([{format:"svg",url:MOCK_TISSUE_DATA.nodes[iri].object.file}])}getSourceReferences(_iri){return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(sourceReferences)}};MockFtuDataService=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_4__.Injectable)({providedIn:"root"})],MockFtuDataService)},"./libs/services/src/lib/ftu-data/ftu-data.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>FtuDataService});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");let FtuDataService=class FtuDataService{};FtuDataService=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.Injectable)()],FtuDataService)},"./libs/state/src/lib/active-ftu/active-ftu.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>ActiveFtuSelectors});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),link_registry_actions=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),switchMap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),cell_summary_actions=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.actions.ts"),cell_summary_state=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.state.ts"),download_action=__webpack_require__("./libs/state/src/lib/download/download.action.ts"),download_state=__webpack_require__("./libs/state/src/lib/download/download.state.ts"),illustrator_actions=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.actions.ts"),illustrator_state=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.state.ts"),link_ids=__webpack_require__("./libs/state/src/lib/link-ids.ts"),source_refs_actions=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.actions.ts"),source_refs_state=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.state.ts");const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").K)("ActiveFtu");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class SetIllustrationUrl extends(Action("Set Illustration Url")){constructor(iri){super(),this.iri=iri}}class Clear extends(Action("Clear")){}class Reset extends(Action("Reset")){}let ActiveFtuState=class ActiveFtuState{load({getState,patchState,dispatch},{iri}){if(getState().iri!==iri)return dispatch([new cell_summary_actions.Tf(iri),new illustrator_actions.Tf(iri),new download_action.Tf(iri),new source_refs_actions.Tf(iri),new SetIllustrationUrl(iri)]).pipe((0,tap.M)((()=>patchState({iri}))),(0,switchMap.n)((()=>dispatch(new source_refs_actions.TZ))))}setIllustrationUrl({dispatch},{iri}){const[name]=iri.split("/").slice(-1),url=`https://hubmapconsortium.github.io/ccf-releases/v1.4/docs/2d-ftu/2d-ftu-${name}.html`;return dispatch(new link_registry_actions.OM(link_ids.Illustration,{type:link_registry_model.J.External,url}))}clear({patchState}){patchState({iri:void 0})}reset({dispatch}){return dispatch([new cell_summary_actions.Yn,new illustrator_actions.Yn,new source_refs_actions.Yn,new download_action.EW])}};(0,tslib_es6.Cg)([(0,ngxs_store.rc)(Load,{cancelUncompleted:!0}),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,Load]),(0,tslib_es6.Sn)("design:returntype",Object)],ActiveFtuState.prototype,"load",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(SetIllustrationUrl),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,SetIllustrationUrl]),(0,tslib_es6.Sn)("design:returntype",Object)],ActiveFtuState.prototype,"setIllustrationUrl",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)([Clear,Reset]),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",void 0)],ActiveFtuState.prototype,"clear",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(Reset),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",Observable.c)],ActiveFtuState.prototype,"reset",null),ActiveFtuState=(0,tslib_es6.Cg)([(0,ngxs_store.Uw)({name:"activeFtu",defaults:{},children:[cell_summary_state.o,download_state.m,illustrator_state.D,source_refs_state.N]}),(0,core.Injectable)()],ActiveFtuState);class ActiveFtuSelectors{static isActive({iri}){return void 0!==iri}static iri({iri}){return iri}}(0,tslib_es6.Cg)([(0,ngxs_store.MD)([ActiveFtuState]),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",Boolean)],ActiveFtuSelectors,"isActive",null),(0,tslib_es6.Cg)([(0,ngxs_store.MD)([ActiveFtuState]),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",Object)],ActiveFtuSelectors,"iri",null)},"./libs/state/src/lib/cell-summary/cell-summary.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P5:()=>CombineSummariesByBiomarker,T3:()=>FilterSummaries,Tf:()=>Load,UQ:()=>ComputeAggregates,Yn:()=>Reset});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").K)("CellSummary");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class FilterSummaries extends(Action("Filter Summaries")){constructor(sources){super(),this.sources=sources}}class CombineSummariesByBiomarker extends(Action("Combine Summaries by Biomarker")){}class ComputeAggregates extends(Action("Compute Aggregates")){}class Reset extends(Action("Reset")){}},"./libs/state/src/lib/cell-summary/cell-summary.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>CellSummaryState});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ftu_data_service=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),source_refs_actions=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.actions.ts"),cell_summary_actions=__webpack_require__("./libs/state/src/lib/cell-summary/cell-summary.actions.ts");class AggregateBuilder{constructor(){this.columnIndex=new Map,this.rowIndex=new Map,this.columns=[],this.rows=[]}updateRowCount(rowObj){this.getRow(rowObj)[1]+=rowObj.count}updateEntry(rowObj,columnObj){const row=this.getRow(rowObj),index=this.getColumnIndex(columnObj);row[index]??={color:0,size:0,data:{cell:rowObj.cell_id,biomarker:columnObj.gene_id,count:0,meanExpression:0,percentage:0,dataset_count:0}};const entry=row[index];entry.data.count+=rowObj.count;const{dataset_count:count=0,meanExpression}=entry.data,cumulativeMeanExpression=(count*meanExpression+columnObj.mean_expression)/(count+1);entry.data.dataset_count=count+1,entry.data.meanExpression=cumulativeMeanExpression,entry.color=cumulativeMeanExpression}finalize(){const{columns,order}=this.sortColumns(),rows=this.sortRows(order),totalCount=rows.reduce(((acc,row)=>acc+(row[1]??0)),0);for(const entry of this.entries()){const percentage=entry.data.count/totalCount;entry.size=entry.data.percentage=percentage}return{columns,rows}}getColumnIndex(obj){const{columnIndex,columns}=this,id=`${obj.gene_id}/${obj.ensemble_id}`;let index=columnIndex.get(id);return void 0===index&&(index=columnIndex.size+2,columnIndex.set(id,index),columns.push(`${obj.gene_label} [${obj.ensemble_id}]`)),index}getRow(obj){const{rowIndex,rows}=this;let index=rowIndex.get(obj.cell_id);return void 0===index&&(index=rows.length,rowIndex.set(obj.cell_id,index),rows.push([obj.cell_label,0])),rows[index]}sortColumns(){const{columns}=this,indexedColumns=columns.map(((col,index)=>[index+2,col]));return indexedColumns.sort(((a,b)=>a[1]<=b[1]?-1:1)),{columns:indexedColumns.map((item=>item[1])),order:indexedColumns.map((item=>item[0]))}}sortRows(order){return this.rows.map((row=>{const sorted=[row[0],row[1]];for(let index=2;index<row.length;index++)if(void 0!==row[index]){sorted[order[index-2]]=row[index]}return sorted}))}*entries(){for(const row of this.rows)for(let index=2;index<row.length;index++)void 0!==row[index]&&(yield row[index])}}function computeAggregate(summary){const state=new AggregateBuilder;for(const cell of summary.summary){state.updateRowCount(cell);for(const gene of cell.genes)state.updateEntry(cell,gene)}return{label:`${str=summary.biomarker_type,str.slice(0,1).toUpperCase()+str.slice(1)} Biomarkers`,...state.finalize()};var str}var link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs");const IRI=lib.z.string().url().brand("URL").brand("IRI");const COUNT=lib.z.number().int("Count must be an integer").nonnegative("Count must be greater than or equal to 0"),PERCENTAGE=lib.z.number().gte(0,"Percentage must be between 0 and 1 (inclusive)").lte(1,"Percentage must be between 0 and 1 (inclusive)"),TISSUE=lib.z.object({id:IRI,label:lib.z.string(),parent:IRI,children:IRI.array().default([]),link:lib.z.string().transform(link_registry_model.cp).optional()}),CELL_SUMMARY_ROW=(lib.z.object({root:IRI,nodes:lib.z.record(IRI,TISSUE)}),lib.z.object({id:IRI,label:lib.z.string()}),lib.z.object({id:lib.z.string(),label:lib.z.string()}),lib.z.object({cell:IRI,biomarker:lib.z.string(),count:COUNT,percentage:PERCENTAGE,meanExpression:PERCENTAGE,dataset_count:COUNT.optional()})),CELL_SUMMARY=lib.z.object({cell_source:IRI,biomarker_type:lib.z.string(),summary:lib.z.object({cell_id:IRI,cell_label:lib.z.string(),genes:lib.z.object({gene_id:lib.z.string(),gene_label:lib.z.string(),ensemble_id:lib.z.string(),mean_expression:lib.z.number()}).array(),count:lib.z.number(),percentage:lib.z.number(),dataset_count:lib.z.number().optional()}).array()}),RAW_CELL_ENTRY=(lib.z.object({format:lib.z.string(),url:lib.z.string()}),lib.z.object({id:IRI,title:lib.z.string(),label:lib.z.string(),authors:lib.z.string().array(),year:lib.z.number(),doi:lib.z.string(),link:lib.z.string().url()}),lib.z.object({id:lib.z.string(),groupId:lib.z.string(),label:lib.z.string(),ontologyId:lib.z.string(),source:lib.z.any().transform((value=>value))}),lib.z.object({label:lib.z.string(),svg_id:lib.z.string(),svg_group_id:lib.z.string(),representation_of:lib.z.string()}).passthrough()),RAW_ILLUSTRATION_FILE=lib.z.object({file:lib.z.string(),file_format:lib.z.string()}),RAW_ILLUSTRATION=lib.z.object({"@id":IRI,label:lib.z.string(),organ_id:lib.z.string(),organ_label:lib.z.string(),representation_of:lib.z.string(),mapping:RAW_CELL_ENTRY.array(),illustration_files:RAW_ILLUSTRATION_FILE.array()}),AGGREGATE_CELL=(lib.z.object({"@graph":RAW_ILLUSTRATION.array()}),lib.z.object({"@graph":lib.z.object({"@id":IRI,data_sources:lib.z.object({"@id":IRI,label:lib.z.string(),description:lib.z.string(),authors:lib.z.string().array().optional(),year:lib.z.number().optional(),doi:lib.z.string().optional(),link:lib.z.string()}).array()}).array()}),lib.z.object({"@graph":CELL_SUMMARY.array()}),lib.z.object({color:lib.z.number().nonnegative(),size:lib.z.number().nonnegative(),data:CELL_SUMMARY_ROW})),AGGREGATE_ROW=lib.z.tuple([lib.z.string(),lib.z.number().optional()]).rest(AGGREGATE_CELL.optional());lib.z.object({label:lib.z.string(),columns:lib.z.string().array(),rows:AGGREGATE_ROW.array()});let CellSummaryState=class CellSummaryState{constructor(){this.dataService=(0,core.inject)(ftu_data_service.N)}load({patchState},{iri}){return this.dataService.getCellSummaries(iri).pipe((0,tap.M)((summaries=>{patchState({summaries,filteredSummaries:summaries,summariesByBiomarker:[],aggregates:[]})})))}filterSummaries({getState,patchState,dispatch},{sources}){const{summaries}=getState(),filteredSummaries=function filterSummaries(summaries,sources){const sourceIds=new Set(sources.map((source=>source.id)));return summaries.filter((summary=>sourceIds.has(summary.cell_source)))}(summaries,sources);return patchState({filteredSummaries}),dispatch(new cell_summary_actions.P5)}combineSummariesByBiomarker({getState,patchState,dispatch}){const{filteredSummaries,biomarkerTypes}=getState();return patchState({summariesByBiomarker:function combineSummariesByBiomarkerType(summaries,types){const summariesByBiomarkerType={};for(const summary of summaries)summariesByBiomarkerType[summary.biomarker_type]??=[],summariesByBiomarkerType[summary.biomarker_type].push(summary);const results=[];for(const type of types){const items=(summariesByBiomarkerType[type]??[]).reduce(((acc,{summary})=>acc.concat(summary)),[]);results.push({cell_source:`Aggregated by ${type}`,biomarker_type:type,summary:items})}return results}(filteredSummaries,biomarkerTypes)}),dispatch(new cell_summary_actions.UQ)}computeAggregates({getState,patchState}){const{summariesByBiomarker}=getState();patchState({aggregates:summariesByBiomarker.map(computeAggregate)})}reset({patchState}){patchState({summaries:[],filteredSummaries:[],summariesByBiomarker:[],aggregates:[]})}};(0,tslib_es6.Cg)([(0,ngxs_store.rc)(cell_summary_actions.Tf,{cancelUncompleted:!0}),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,cell_summary_actions.Tf]),(0,tslib_es6.Sn)("design:returntype",Observable.c)],CellSummaryState.prototype,"load",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)([cell_summary_actions.T3,source_refs_actions.EL]),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,Object]),(0,tslib_es6.Sn)("design:returntype",Observable.c)],CellSummaryState.prototype,"filterSummaries",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(cell_summary_actions.P5),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",Observable.c)],CellSummaryState.prototype,"combineSummariesByBiomarker",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(cell_summary_actions.UQ),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",void 0)],CellSummaryState.prototype,"computeAggregates",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(cell_summary_actions.Yn),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",void 0)],CellSummaryState.prototype,"reset",null),CellSummaryState=(0,tslib_es6.Cg)([(0,ngxs_store.Uw)({name:"cellSummary",defaults:{biomarkerTypes:["gene","protein","lipid"],summaries:[],filteredSummaries:[],summariesByBiomarker:[],aggregates:[]}}),(0,core.Injectable)()],CellSummaryState)},"./libs/state/src/lib/download/download.action.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EW:()=>ClearEntries,Tf:()=>Load,Vh:()=>RegisterFormat,Y5:()=>AddEntry,f5:()=>Download});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").K)("Download");class RegisterFormat extends(Action("Register Format")){constructor(format){super(),this.format=format}}class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class AddEntry extends(Action("Add")){constructor(id,entry){super(),this.id=id,this.entry=entry}}class ClearEntries extends(Action("Clear")){}class Download extends(Action("Download")){constructor(format){super(),this.format=format}}},"./libs/state/src/lib/download/download.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{m:()=>DownloadState});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),http=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),immer=__webpack_require__("./node_modules/immer/dist/immer.mjs"),tap=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),Observable=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),ftu_data_service=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),lib=__webpack_require__("./node_modules/zod/lib/index.mjs");const DOWNLOAD_FORMAT_ID=lib.z.string().transform((id=>`DownloadFormatId:'${id}'`)).brand("DownloadFormatId"),DOWNLOAD_ENTRY=lib.z.discriminatedUnion("type",[lib.z.object({type:lib.z.literal("url"),url:lib.z.string()}),lib.z.object({type:lib.z.literal("data"),data:lib.z.string()})]),DOWNLOAD_FORMAT=lib.z.object({id:DOWNLOAD_FORMAT_ID,label:lib.z.string(),extension:lib.z.string()}).partial({extension:!0});lib.z.object({formats:lib.z.record(DOWNLOAD_FORMAT_ID,DOWNLOAD_FORMAT),entries:lib.z.record(DOWNLOAD_FORMAT_ID,DOWNLOAD_ENTRY)});function createDownloadFormatId(id){return DOWNLOAD_FORMAT_ID.parse(id)}const Svg=createDownloadFormatId("svg"),Png=createDownloadFormatId("png"),SVG_FORMAT={id:Svg,label:"Download SVG",extension:".svg"},PNG_FORMAT={id:Png,label:"Download PNG",extension:".png"};var download_action=__webpack_require__("./libs/state/src/lib/download/download.action.ts");let DownloadState=class DownloadState{constructor(){this.http=(0,core.inject)(http.Qq),this.dataService=(0,core.inject)(ftu_data_service.N)}ngxsOnInit(ctx){ctx.dispatch([new download_action.Vh(SVG_FORMAT),new download_action.Vh(PNG_FORMAT)])}registerFormat(ctx,{format}){ctx.setState((0,immer.jM)((draft=>{draft.formats[format.id]=format})))}load(ctx,{iri}){return this.dataService.getDataFileReferences(iri).pipe((0,tap.M)((items=>ctx.setState((0,immer.jM)((draft=>{draft.entries={};for(const{format,url}of items)draft.entries[createDownloadFormatId(format)]={type:"url",url}}))))))}addEntry(ctx,{id,entry}){ctx.setState((0,immer.jM)((draft=>{draft.entries[id]=entry})))}clearEntries(ctx){ctx.setState((0,immer.jM)((draft=>{draft.entries={}})))}download(ctx,{format}){const{entries}=ctx.getState(),entry=entries[format];switch(entry?.type){case"url":{const filename=this.guessFilename(ctx,format,entry.url);return this.downloadRemoteData(entry.url).pipe((0,tap.M)((data=>this.downloadData(data,filename))))}case"data":{const filename=this.guessFilename(ctx,format,"");this.downloadData(new Blob([entry.data]),filename);break}default:throw new Error("Cannot download file without data")}}guessFilename(ctx,id,url){const{formats}=ctx.getState(),{extension=""}=formats[id]??{},segments=new URL(url,"https://base.com").pathname.split("/").filter((seg=>""!==seg)),name=segments.length>0?segments[segments.length-1]:"download";return name.includes(".")?name:`${name}${extension}`}downloadData(blob,filename){const url=window.URL.createObjectURL(blob),anchor=document.createElement("a");document.body.appendChild(anchor),anchor.download=filename,anchor.href=url,anchor.click(),anchor.remove(),window.URL.revokeObjectURL(url)}downloadRemoteData(url){return this.http.get(url,{responseType:"blob"})}};(0,tslib_es6.Cg)([(0,ngxs_store.rc)(download_action.Vh),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,download_action.Vh]),(0,tslib_es6.Sn)("design:returntype",void 0)],DownloadState.prototype,"registerFormat",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(download_action.Tf),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,download_action.Tf]),(0,tslib_es6.Sn)("design:returntype",Observable.c)],DownloadState.prototype,"load",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(download_action.Y5),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,download_action.Y5]),(0,tslib_es6.Sn)("design:returntype",void 0)],DownloadState.prototype,"addEntry",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(download_action.EW),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object]),(0,tslib_es6.Sn)("design:returntype",void 0)],DownloadState.prototype,"clearEntries",null),(0,tslib_es6.Cg)([(0,ngxs_store.rc)(download_action.f5),(0,tslib_es6.Sn)("design:type",Function),(0,tslib_es6.Sn)("design:paramtypes",[Object,download_action.f5]),(0,tslib_es6.Sn)("design:returntype",Object)],DownloadState.prototype,"download",null),DownloadState=(0,tslib_es6.Cg)([(0,ngxs_store.Uw)({name:"download",defaults:{formats:{},entries:{}}}),(0,core.Injectable)()],DownloadState)},"./libs/state/src/lib/illustrator/illustrator.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{KG:()=>SetClicked,P4:()=>SetHover,Tf:()=>Load,Yn:()=>Reset,iM:()=>ClearSelection,vg:()=>HighlightCellType});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").K)("Illustrator");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class SetHover extends(Action("Set Selection on Hover")){constructor(selectedOnHover){super(),this.selectedOnHover=selectedOnHover}}class SetClicked extends(Action("Set Selection on Clicked")){constructor(selectedOnClick){super(),this.selectedOnClick=selectedOnClick}}class HighlightCellType extends(Action("Highlight Cell Type Id")){constructor(hoverLabel){super(),this.hoverLabel=hoverLabel}}class ClearSelection extends(Action("Clear Selection")){}class Reset extends(Action("Reset")){}},"./libs/state/src/lib/illustrator/illustrator.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>IllustratorState});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_hra_ui_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/observable/forkJoin.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/state/src/lib/illustrator/illustrator.actions.ts");let IllustratorState=class IllustratorState{constructor(){this.dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_hra_ui_services__WEBPACK_IMPORTED_MODULE_1__.N)}load({patchState},{iri}){const url$=this.dataService.getIllustrationUrl(iri),mapping$=this.dataService.getIllustrationMapping(iri);return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.p)({url:url$,mapping:mapping$}).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.M)((result=>patchState({...result,selectedOnHover:void 0,selectedOnClick:void 0}))))}setHover({patchState},{selectedOnHover}){patchState({selectedOnHover})}setClicked({patchState},{selectedOnClick}){patchState({selectedOnClick})}clearSelection({patchState}){patchState({selectedOnHover:void 0,selectedOnClick:void 0})}reset({setState}){setState({mapping:[]})}highlightCellType({patchState,getState},{hoverLabel}){const match=getState().mapping.find((entry=>entry.ontologyId===hoverLabel));patchState({hoveredCellTypeId:match?match.ontologyId:void 0})}};(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.Tf,{cancelUncompleted:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.Tf]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_7__.c)],IllustratorState.prototype,"load",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.P4),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.P4]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],IllustratorState.prototype,"setHover",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.KG),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.KG]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],IllustratorState.prototype,"setClicked",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.iM),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],IllustratorState.prototype,"clearSelection",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.Yn),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],IllustratorState.prototype,"reset",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.vg),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object,_illustrator_actions__WEBPACK_IMPORTED_MODULE_6__.vg]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],IllustratorState.prototype,"highlightCellType",null),IllustratorState=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.Uw)({name:"illustrator",defaults:{mapping:[]}}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable)()],IllustratorState)},"./libs/state/src/lib/link-ids.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{About:()=>About,Embed:()=>Embed,ExploreFTU:()=>ExploreFTU,Illustration:()=>Illustration,LandingPage:()=>LandingPage,LandingPageReadMore:()=>LandingPageReadMore,Portal:()=>Portal,ProductTitle:()=>ProductTitle});var _hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts");const LandingPage=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("LandingPage"),ProductTitle=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("ProductTitle"),About=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("About"),Portal=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("Portal"),Illustration=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("Illustration"),Embed=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("Embed"),ExploreFTU=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("ExploreFTU"),LandingPageReadMore=(0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.cp)("LandingPageReadMore")},"./libs/state/src/lib/source-refs/source-refs.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EL:()=>SetSelectedSources,TZ:()=>ResetSelectedSources,Tf:()=>Load,Yn:()=>Reset});const Action=(0,__webpack_require__("./libs/cdk/state/src/actions/actions.ts").K)("SourceRefs");class Load extends(Action("Load")){constructor(iri){super(),this.iri=iri}}class SetSelectedSources extends(Action("Set Selected Sources")){constructor(sources){super(),this.sources=sources}}class ResetSelectedSources extends(Action("Reset Selected Sources")){}class Reset extends(Action("Reset")){}},"./libs/state/src/lib/source-refs/source-refs.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{N:()=>SourceRefsState});var tslib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_hra_ui_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./libs/state/src/lib/source-refs/source-refs.actions.ts");let SourceRefsState=class SourceRefsState{constructor(){this.dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_hra_ui_services__WEBPACK_IMPORTED_MODULE_1__.N)}load({setState},{iri}){return this.dataService.getSourceReferences(iri).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_2__.M)((sources=>setState({sources,selected:sources}))))}setSelectedSources({patchState},{sources}){patchState({selected:sources})}resetSelectedSources({getState,dispatch}){return dispatch(new _source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.EL(getState().sources))}reset({setState}){setState({sources:[],selected:[]})}};(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.Tf,{cancelUncompleted:!0}),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object,_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.Tf]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_6__.c)],SourceRefsState.prototype,"load",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.EL),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object,_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.EL]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],SourceRefsState.prototype,"setSelectedSources",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.TZ),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_6__.c)],SourceRefsState.prototype,"resetSelectedSources",null),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.rc)(_source_refs_actions__WEBPACK_IMPORTED_MODULE_3__.Yn),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Sn)("design:returntype",void 0)],SourceRefsState.prototype,"reset",null),SourceRefsState=(0,tslib__WEBPACK_IMPORTED_MODULE_4__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_5__.Uw)({name:"sourceReferences",defaults:{sources:[],selected:[]}}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable)()],SourceRefsState)},"./libs/state/src/lib/tissue-library/tissue-library.actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>Load});var _hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/cdk/state/src/actions/actions.ts");class Load extends((0,_hra_ui_cdk_state__WEBPACK_IMPORTED_MODULE_0__.r)("[TissueLibrary] Load Tissue Data")){}},"./libs/state/src/lib/tissue-library/tissue-library.selectors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>TissueLibrarySelectors});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_ngxs_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),_tissue_library_state__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.state.ts");class TissueLibrarySelectors{static tissues(state){return state.nodes}}(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_1__.MD)([_tissue_library_state__WEBPACK_IMPORTED_MODULE_2__.o]),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Sn)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Sn)("design:returntype",Object)],TissueLibrarySelectors,"tissues",null)},"./libs/state/src/lib/tissue-library/tissue-library.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>TissueLibraryState});var tslib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_hra_ui_services__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@ngxs/store/fesm2022/ngxs-store.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_tissue_library_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.actions.ts");let TissueLibraryState=class TissueLibraryState{constructor(){this.dataService=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.inject)(_hra_ui_services__WEBPACK_IMPORTED_MODULE_1__.N)}setActive(ctx){return this.dataService.getTissueLibrary().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_2__.M)((data=>ctx.setState(data))))}};(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_4__.rc)(_tissue_library_actions__WEBPACK_IMPORTED_MODULE_5__.T),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Sn)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Sn)("design:paramtypes",[Object]),(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Sn)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_6__.c)],TissueLibraryState.prototype,"setActive",null),TissueLibraryState=(0,tslib__WEBPACK_IMPORTED_MODULE_3__.Cg)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_4__.Uw)({name:"tissueLibrary",defaults:{root:"",nodes:{}}}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable)()],TissueLibraryState)}}]);