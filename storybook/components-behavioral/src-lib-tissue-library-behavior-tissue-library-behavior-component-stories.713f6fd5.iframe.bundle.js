(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[832],{"./libs/cdk/injectors/src/lib/on-destroy/on-destroy.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>injectDestroy$});var DestroyHostComponent_1,core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),destroy_host_component=__webpack_require__("./libs/cdk/injectors/src/lib/on-destroy/destroy-host.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=Omhvc3QgeyBkaXNwbGF5OiBub25lIH0%3D!./libs/cdk/injectors/src/lib/on-destroy/destroy-host.component.ts"),destroy_host_component_default=__webpack_require__.n(destroy_host_component);let DestroyHostComponent=DestroyHostComponent_1=class DestroyHostComponent{constructor(){this.el=(0,core.inject)(core.ElementRef).nativeElement}static create(container){return container.createComponent(DestroyHostComponent_1,{index:0})}ngAfterViewInit(){this.el.remove()}};DestroyHostComponent=DestroyHostComponent_1=(0,tslib_es6.UN)([(0,core.Component)({selector:"hra-destroy-host",standalone:!0,template:"",styles:[destroy_host_component_default()]})],DestroyHostComponent);var ReplaySubject=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js");class ScopedDestructorSubject extends ReplaySubject.o{constructor(scope){super(1),scope.onDestroy((()=>{this.next(),this.complete()}))}}const DESTRUCTOR_CACHE=new WeakMap;function firstDefinedValue(genFn){for(const value of genFn())if(null!=value)return value;throw new Error("Unreachable")}function injectDestroy$(){const key=function findStableKeyObject(){return firstDefinedValue((function*(){yield(0,core.inject)(core.ElementRef,{optional:!0})?.nativeElement,yield(0,core.inject)(core.ViewContainerRef,{optional:!0}),yield(0,core.inject)(core.NgModuleRef)}))}();let destructor=DESTRUCTOR_CACHE.get(key);if(!destructor){const scope=function findDestructorScope(){return firstDefinedValue((function*(){const vcr=(0,core.inject)(core.ViewContainerRef,{optional:!0});yield vcr&&DestroyHostComponent.create(vcr),yield(0,core.inject)(core.NgModuleRef)}))}();destructor=new ScopedDestructorSubject(scope).asObservable(),DESTRUCTOR_CACHE.set(key,destructor)}return destructor}},"./libs/cdk/injectors/src/lib/select/select-snapshot.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W:()=>selectQuerySnapshot,u:()=>selectSnapshot});var select_select=__webpack_require__("./libs/cdk/injectors/src/lib/select/select.ts");const NO_ERROR_SENTINEL_OBJ={};class SnapshotObserver{constructor(){this.value=void 0,this.errorValue=NO_ERROR_SENTINEL_OBJ}get(){if(this.errorValue!==NO_ERROR_SENTINEL_OBJ)throw this.errorValue;return this.value}next(value){this.value=value}error(err){this.value=void 0,this.errorValue=err}}function selectSnapshot(selector){const obs$=(0,select_select.i)(selector,{notifyOnChange:!0}),observer=new SnapshotObserver;return obs$.subscribe(observer),observer.get.bind(observer)}function selectQuerySnapshot(selector,...boundArgs){const get=selectSnapshot(selector);return(...args)=>get()(...boundArgs,...args)}},"./libs/cdk/injectors/src/lib/select/select.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>select$});var _angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/takeUntil.js"),_on_destroy_on_destroy__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./libs/cdk/injectors/src/lib/on-destroy/on-destroy.ts");function select$(selector,options){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.m_).select(selector).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.a)((0,_on_destroy_on_destroy__WEBPACK_IMPORTED_MODULE_4__.u)()),function markForCheck(options){const notifyOnChange=options?.notifyOnChange??!0,cdr=(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.ChangeDetectorRef,{optional:!0});if(notifyOnChange&&cdr){const markFn=()=>cdr.markForCheck();return(0,rxjs__WEBPACK_IMPORTED_MODULE_2__.y)({next:markFn,error:markFn,complete:markFn})}return source=>source}(options))}},"./libs/cdk/src/lib/link/link.directive.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{K:()=>LinkDirective});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),select_snapshot=__webpack_require__("./libs/cdk/injectors/src/lib/select/select-snapshot.ts"),dispatch=__webpack_require__("./libs/cdk/injectors/src/lib/dispatch/dispatch.ts"),link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),ngxs_store=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),link_registry_state=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.state.ts");class LinkRegistrySelectors{static query(state){return(id,type)=>this.getEntry(state,id,type)}static getEntry(state,id,type){const entry=state[id];return void 0===type||entry?.type===type?entry:void 0}}(0,tslib_es6.UN)([(0,ngxs_store.C1)([link_registry_state.o]),(0,tslib_es6.YR)("design:type",Function),(0,tslib_es6.YR)("design:paramtypes",[Object]),(0,tslib_es6.YR)("design:returntype",Function)],LinkRegistrySelectors,"query",null);var link_registry_actions=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),create=__webpack_require__("./libs/shared/utils/src/lib/url/create.ts");let LinkDirective=class LinkDirective{constructor(){this.linkId=link_registry_model.Cm,this.injector=(0,core.inject)(core.Injector),this.tagName=(0,core.inject)(core.ElementRef).nativeElement.tagName.toLowerCase(),this.queryLink=(0,select_snapshot.W)(LinkRegistrySelectors.query),this.navigate=(0,dispatch.qg)(link_registry_actions.YX)}get isAnchorElement(){return["a","area"].includes(this.tagName)}get isResourceUrl(){return["base","link"].includes(this.tagName)}get extras(){const{link}=this;return this.mergeExtras(link?.type===link_registry_model.q_.Internal?link.extras:void 0,this)}ngDoCheck(){const link=this.queryLink(this.linkId);this.link!==link&&this.updateLink(link)}onClick(event){const{link,linkId,isAnchorElement}=this;if(!link)return!0;if(isAnchorElement){const{button,ctrlKey,shiftKey,altKey,metaKey}=event;if(link.type===link_registry_model.q_.External||0!==button||ctrlKey||shiftKey||altKey||metaKey)return!0}return this.navigate(linkId,this.extras),!isAnchorElement}updateLink(link){this.link=link,({href:this.href,rel:this.rel,target:this.target}=this.getLinkAttributes(link))}getLinkAttributes(link){const{injector,extras,isResourceUrl}=this;switch(link?.type){case link_registry_model.q_.Internal:return{href:(0,create.I)(injector,link.commands,extras,isResourceUrl)};case link_registry_model.q_.External:return{...link,href:(0,create._)(link.url,extras)};default:return{}}}mergeExtras(opt1,opt2){const result={...opt1},mergeKey=key=>{void 0!==opt2[key]&&(result[key]=opt2[key])};return mergeKey("queryParams"),mergeKey("queryParamsHandling"),mergeKey("fragment"),mergeKey("preserveFragment"),mergeKey("relativeTo"),result}static#_=this.propDecorators={linkId:[{type:core.Input,args:["hraLink"]}],queryParams:[{type:core.Input}],queryParamsHandling:[{type:core.Input}],fragment:[{type:core.Input}],preserveFragment:[{type:core.Input}],relativeTo:[{type:core.Input}],href:[{type:core.HostBinding,args:["attr.href"]}],rel:[{type:core.HostBinding,args:["attr.rel"]}],target:[{type:core.HostBinding,args:["attr.target"]}],onClick:[{type:core.HostListener,args:["click",["$event"]]}]}};LinkDirective=(0,tslib_es6.UN)([(0,core.Directive)({selector:"[hraLink]",standalone:!0})],LinkDirective)},"./libs/cdk/state/src/actions/actions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>Action,G:()=>ActionGroup});const actionTypeRegistry=new Set;function registerActionType(type){!function assertUniqueActionType(type){if(actionTypeRegistry.has(type))throw new Error(`Action type '${type}' is not unique`)}(type),actionTypeRegistry.add(type)}function ActionGroup(group){return type=>Action(`[${group}] ${type}`)}function Action(type){return registerActionType(type),class BaseAction{constructor(){this.type=type}static#_=this.type=type}}},"./libs/cdk/state/src/link-registry/link-registry.state.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{o:()=>LinkRegistryState});var _home_runner_work_hra_ui_hra_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),tslib__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_common_http__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/http.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_router__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs"),_hra_ui_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./libs/shared/utils/src/lib/url/create.ts"),_ngxs_store__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@ngxs/store/fesm2015/ngxs-store.js"),js_yaml__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/js-yaml/dist/js-yaml.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Observable.js"),_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),_link_registry_model__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts");let LinkRegistryState=class LinkRegistryState{constructor(){this.http=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_common_http__WEBPACK_IMPORTED_MODULE_3__.KK),this.router=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_router__WEBPACK_IMPORTED_MODULE_4__.E5,{optional:!0}),this.zone=(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.inject)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.NgZone)}addOne(ctx,{id,entry}){this.addMany(ctx,new _link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.a_({[id]:entry}))}addMany(ctx,{entries}){ctx.patchState(entries)}addYaml(ctx,{yaml},filename){const data=(0,js_yaml__WEBPACK_IMPORTED_MODULE_1__.AJ)(yaml,{filename}),entries=_link_registry_model__WEBPACK_IMPORTED_MODULE_6__.or.parse(data);this.addMany(ctx,new _link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.a_(entries))}loadYaml(ctx,{url}){return this.http.get(url,{responseType:"text"}).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.k)((data=>this.addYaml(ctx,new _link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gu(data),url))))}navigate(ctx,{id,extras}){var _this=this;return(0,_home_runner_work_hra_ui_hra_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.c)((function*(){const entry=ctx.getState()[id];switch(entry?.type){case _link_registry_model__WEBPACK_IMPORTED_MODULE_6__.q_.Internal:yield _this.navigateToInternal(entry,extras);break;case _link_registry_model__WEBPACK_IMPORTED_MODULE_6__.q_.External:_this.navigateToExternal(entry,extras);break;default:throw new Error(`Cannot navigate to non-existing link '${id}'`)}}))()}navigateToInternal(entry,extras){var _this2=this;return(0,_home_runner_work_hra_ui_hra_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.c)((function*(){yield _this2.zone.run((()=>_this2.router?.navigate(entry.commands,{...entry.extras,...extras})))}))()}navigateToExternal(entry,extras){const url=(0,_hra_ui_utils__WEBPACK_IMPORTED_MODULE_9__._)(entry.url,extras);window.open(url,entry.target,entry.rel)}};(0,tslib__WEBPACK_IMPORTED_MODULE_10__.UN)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.So)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.OM),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.OM]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:returntype",void 0)],LinkRegistryState.prototype,"addOne",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.UN)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.So)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.a_),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.a_]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:returntype",void 0)],LinkRegistryState.prototype,"addMany",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.UN)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.So)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gu),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.Gu,String]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:returntype",void 0)],LinkRegistryState.prototype,"addYaml",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.UN)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.So)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.m_),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.m_]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:returntype",rxjs__WEBPACK_IMPORTED_MODULE_11__._)],LinkRegistryState.prototype,"loadYaml",null),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.UN)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.So)(_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.YX),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:type",Function),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:paramtypes",[Object,_link_registry_actions__WEBPACK_IMPORTED_MODULE_5__.YX]),(0,tslib__WEBPACK_IMPORTED_MODULE_10__.YR)("design:returntype",Promise)],LinkRegistryState.prototype,"navigate",null),LinkRegistryState=(0,tslib__WEBPACK_IMPORTED_MODULE_10__.UN)([(0,_ngxs_store__WEBPACK_IMPORTED_MODULE_0__.Ad)({name:"linkRegistry",defaults:{}}),(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.Injectable)()],LinkRegistryState)},"./libs/shared/utils/src/lib/url/create.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>createInternalUrl,_:()=>createExternalUrl});var _angular_common__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/platform-browser.mjs"),_angular_router__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/router/fesm2022/router.mjs");function setQueryParams(dest,params){for(const[key,value]of Object.entries(params??{}))null!=value&&dest.set(key,`${value}`)}function createInternalUrl(injector,commands,extras,isResourceUrl){const router=injector.get(_angular_router__WEBPACK_IMPORTED_MODULE_0__.E5,null),locationStrategy=injector.get(_angular_common__WEBPACK_IMPORTED_MODULE_1__.LocationStrategy,null),sanitizer=injector.get(_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__.DomSanitizer),route=extras.relativeTo??injector.get(_angular_router__WEBPACK_IMPORTED_MODULE_0__.gV,null),securityContext=isResourceUrl?_angular_core__WEBPACK_IMPORTED_MODULE_3__.SecurityContext.RESOURCE_URL:_angular_core__WEBPACK_IMPORTED_MODULE_3__.SecurityContext.URL;if(!router||!locationStrategy)return;const tree=router.createUrlTree(commands,{...extras,relativeTo:route}),url=locationStrategy.prepareExternalUrl(router.serializeUrl(tree));return sanitizer.sanitize(securityContext,url)??void 0}function createExternalUrl(url,extras){const{fragment,preserveFragment,queryParams,queryParamsHandling}=extras,result=new URL(url);return void 0===fragment&&!1!==preserveFragment||(result.hash=fragment??""),""===queryParamsHandling?(result.search="",setQueryParams(result.searchParams,queryParams)):"preserve"!==queryParamsHandling&&setQueryParams(result.searchParams,queryParams),result.toString()}},"./libs/components/behavioral/src/lib/tissue-library-behavior/tissue-library-behavior.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>tissue_library_behavior_component_stories});var tissue_library_service=__webpack_require__("./libs/services/src/lib/tissue-library/tissue-library.service.ts"),tissue_library_mock=__webpack_require__("./libs/services/src/lib/tissue-library/tissue-library.mock.ts"),ftu_data_service=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.service.ts"),ftu_data_mock=__webpack_require__("./libs/services/src/lib/ftu-data/ftu-data.mock.ts"),tissue_library_state=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.state.ts"),tissue_library_actions=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.actions.ts"),dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var tissue_library_behavior_componentngResource=__webpack_require__("./libs/components/behavioral/src/lib/tissue-library-behavior/tissue-library-behavior.component.scss?ngResource"),tissue_library_behavior_componentngResource_default=__webpack_require__.n(tissue_library_behavior_componentngResource),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),select_snapshot=__webpack_require__("./libs/cdk/injectors/src/lib/select/select-snapshot.ts"),dispatch=__webpack_require__("./libs/cdk/injectors/src/lib/dispatch/dispatch.ts"),select_select=__webpack_require__("./libs/cdk/injectors/src/lib/select/select.ts"),link_registry_actions=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.actions.ts"),label_box_component=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.ts");var tissue_tree_list_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.scss?ngResource"),tissue_tree_list_componentngResource_default=__webpack_require__.n(tissue_tree_list_componentngResource),tree=__webpack_require__("./node_modules/@angular/cdk/fesm2022/tree.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),fesm2022_core=__webpack_require__("./node_modules/@angular/material/fesm2022/core.mjs"),expansion=__webpack_require__("./node_modules/@angular/material/fesm2022/expansion.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),fesm2022_tree=__webpack_require__("./node_modules/@angular/material/fesm2022/tree.mjs"),link_directive=__webpack_require__("./libs/cdk/src/lib/link/link.directive.ts");let TissueTreeListComponent=class TissueTreeListComponent{constructor(){this.nodes={},this.selected=void 0,this.selectedChange=new core.EventEmitter,this.navigate=new core.EventEmitter,this.enableNav=!0,this.control=new tree.oz((node=>node.level),(node=>node.expandable)),this.flattener=new fesm2022_tree.MN(((node,level)=>({label:node.label,expandable:(node.children?.length??0)>0,level,data:node})),(node=>node.level),(node=>node.expandable),(node=>node.children?.map((id=>this.nodes[id])))),this.dataSource=new fesm2022_tree.uy(this.control,this.flattener)}ngOnChanges(changes){if("nodes"in changes&&(this.dataSource.data=this.findRootNodes(),this.control.expandAll()),"selected"in changes){this.selected||this.control.expandAll();const path=this.selected?this.dfsFindPath(this.findRootNodes(),this.selected):[],node=this.control.dataNodes.find((n=>n.data===changes.selected.currentValue));node?.expandable||this.expandPath(path)}}hasChild(_,node){return node.expandable}selectNode(node){this.selected!==node&&(this.selected=node,this.selectedChange.emit(this.selected))}resetSelection(){this.selected=void 0,this.control.collapseAll()}findRootNodes(){const{nodes}=this,roots={...this.nodes};for(const key in nodes)for(const child of nodes[key].children??[])delete roots[child];return Object.values(roots)}expandPath(path){this.control.dataNodes.filter((node=>path.includes(node.data))).forEach((node=>this.control.expand(node)))}dfsFindPath(nodes,target,path=[]){for(const node of nodes){if(path.push(node),node===target)return path;const savedLength=path.length,children=node.children?.map((id=>this.nodes[id]))??[];if(this.dfsFindPath(children,target,path).length>savedLength)return path;path.pop()}return path}onKeyDown(event){if(this.enableNav&&this.control){const nodes=this.control.dataNodes,selectedIndex=this.control.dataNodes.findIndex((node=>node.data.id===this.selected?.id)),currentNode=nodes[selectedIndex];if(currentNode&&currentNode.expandable){const expandableNodes=nodes.filter((node=>node.expandable)),index=expandableNodes.indexOf(currentNode);if("ArrowLeft"===event.key)this.control.collapse(currentNode);else if("ArrowRight"===event.key)this.control.expand(currentNode);else{if("ArrowDown"===event.key&&index+1<expandableNodes.length&&!this.control.isExpanded(currentNode))return void this.selectNode(expandableNodes[index+1].data);if("ArrowUp"===event.key&&index-1>=0&&!this.control.isExpanded(expandableNodes[index-1]))return void this.selectNode(expandableNodes[index-1].data)}}"ArrowDown"===event.key&&selectedIndex+1<nodes.length&&this.selectNode(nodes[selectedIndex+1].data),"ArrowUp"===event.key&&selectedIndex-1>=0&&this.selectNode(nodes[selectedIndex-1].data),"Enter"!==event.key||currentNode.expandable||this.navigate.emit(currentNode.data)}}handlePageClick(){this.enableNav=!1}handleListClick(event){event.stopPropagation(),this.enableNav=!0}static#_=this.propDecorators={nodes:[{type:core.Input}],selected:[{type:core.Input}],selectedChange:[{type:core.Output}],navigate:[{type:core.Output}],onKeyDown:[{type:core.HostListener,args:["document:keydown",["$event"]]}],handlePageClick:[{type:core.HostListener,args:["document:click"]}],handleListClick:[{type:core.HostListener,args:["click",["$event"]]}]}};TissueTreeListComponent=(0,tslib_es6.UN)([(0,core.Component)({selector:"hra-tissue-tree-list",standalone:!0,imports:[common.CommonModule,fesm2022_button.oJ,fesm2022_tree.qC,icon.oB,expansion.CU,fesm2022_core.KE,link_directive.K],template:'<mat-tree [dataSource]="dataSource" [treeControl]="control" class="tree">\n  <mat-tree-node\n    *matTreeNodeDef="let node; let level = level"\n    [matTreeNodePadding]="level"\n    matTreeNodePaddingIndent="64"\n    [class.selected]="node.data === selected"\n    class="row"\n    [class.child]="hasChild"\n    tabIndex="0"\n  >\n    <ng-container [ngTemplateOutlet]="label" [ngTemplateOutletContext]="node"> </ng-container>\n  </mat-tree-node>\n\n  <mat-tree-node\n    *matTreeNodeDef="let node; let level = level; when: hasChild"\n    class="row"\n    [class.selected]="node.data === selected"\n    (mouseup)="selectNode(node.data)"\n  >\n    <button mat-icon-button matTreeNodeToggle class="toggle" [attr.aria-label]="\'Toggle \' + node.label">\n      <mat-icon>\n        {{ control.isExpanded(node) ? \'keyboard_arrow_up\' : \'chevron_right\' }}\n      </mat-icon>\n    </button>\n\n    <ng-container [ngTemplateOutlet]="label" [ngTemplateOutletContext]="node"> </ng-container>\n  </mat-tree-node>\n</mat-tree>\n\n<ng-template let-label="label" let-data="data" #label>\n  <div class="label-container">\n    <a\n      *ngIf="data.link; else noLink"\n      [hraLink]="data.link"\n      [queryParams]="{ id: data.id }"\n      class="link"\n      (mouseup)="selectNode(data)"\n    >\n      {{ label }}\n    </a>\n    <ng-template #noLink>\n      <span>{{ label }}</span>\n    </ng-template>\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[tissue_tree_list_componentngResource_default()]})],TissueTreeListComponent);var tissue_library_selectors=__webpack_require__("./libs/state/src/lib/tissue-library/tissue-library.selectors.ts"),active_ftu_selectors=__webpack_require__("./libs/state/src/lib/active-ftu/active-ftu.selectors.ts");let TissueLibraryBehaviorComponent=class TissueLibraryBehaviorComponent{constructor(){this.tissues=(0,select_snapshot.u)(tissue_library_selectors.U.tissues),this.navigate=(0,dispatch.qg)(link_registry_actions.YX),(0,select_select.i)(active_ftu_selectors.U.iri).subscribe((iri=>{this.selected=iri&&this.tissues()[iri],void 0===iri&&this.list?.resetSelection()}))}static#_=this.ctorParameters=()=>[];static#_2=this.propDecorators={list:[{type:core.ViewChild,args:["list",{static:!0}]}]}};TissueLibraryBehaviorComponent=(0,tslib_es6.UN)([(0,core.Component)({selector:"ftu-tissue-library-behavior",standalone:!0,imports:[common.CommonModule,label_box_component.U,TissueTreeListComponent],template:'<hra-label-box class="label">FTU Library</hra-label-box>\n<hra-tissue-tree-list\n  class="tissue-tree"\n  [nodes]="tissues()"\n  (navigate)="navigate($event.link, { queryParams: { id: $event.id } })"\n  [(selected)]="selected"\n  #list\n>\n</hra-tissue-tree-list>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[tissue_library_behavior_componentngResource_default()]}),(0,tslib_es6.YR)("design:paramtypes",[])],TissueLibraryBehaviorComponent);const tissue_library_behavior_component_stories={title:"TissueLibraryBehaviorComponent",parameters:{state:{states:[tissue_library_state.e],actions:[new tissue_library_actions.Y]}},component:TissueLibraryBehaviorComponent,decorators:[(0,dist.applicationConfig)({providers:[{provide:tissue_library_service.A,useExisting:tissue_library_mock.A},{provide:ftu_data_service.g,useExisting:ftu_data_mock.s}]})]},Primary={render:args=>({props:args}),args:{}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  render: (args: TissueLibraryBehaviorComponent) => ({\n    props: args\n  }),\n  args: {}\n}",...Primary.parameters?.docs?.source}}};const __namedExportsOrder=["Primary"]},"./libs/cdk/injectors/src/lib/on-destroy/destroy-host.component.ts.css?ngResource!=!./node_modules/@ngtools/webpack/src/loaders/inline-resource.js?data=Omhvc3QgeyBkaXNwbGF5OiBub25lIH0%3D!./libs/cdk/injectors/src/lib/on-destroy/destroy-host.component.ts":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host { display: none }",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/behavioral/src/lib/tissue-library-behavior/tissue-library-behavior.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .label {\n  border-bottom: 1px solid #e2e7e9;\n  width: 100%;\n  height: 3.5rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  height: calc(100% - 3.5rem);\n  overflow-y: auto;\n}\n:host .row {\n  min-height: unset;\n}\n:host .row.selected {\n  background-color: var(--palette-accent-A100-rgb);\n}\n:host .row .toggle {\n  width: 2rem;\n  height: 2rem;\n  padding: 0.25rem;\n}\n:host .row .label-container {\n  display: flex;\n  align-items: center;\n  min-height: 2rem;\n  padding: 0 1rem;\n  border-radius: 0.25rem;\n  width: 100%;\n}\n:host .row .label-container .link {\n  cursor: pointer;\n  text-decoration: none;\n  color: rgba(var(--dark-primary-text));\n  line-height: normal;\n  width: 100%;\n  height: 100%;\n  align-items: center;\n  display: flex;\n}\n:host .row.selected .label-container .link {\n  color: var(--palette-accent-A200-rgb);\n}\n:host .row:focus-visible {\n  outline: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);