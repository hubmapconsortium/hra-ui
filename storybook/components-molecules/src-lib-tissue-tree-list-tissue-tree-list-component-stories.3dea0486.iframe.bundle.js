(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[593],{"./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .row {\n  min-height: 2rem;\n}\n:host .row.selected {\n  background-color: var(--palette-accent-A100-rgb);\n}\n:host .row .toggle {\n  width: 2rem;\n  height: 2rem;\n  padding: 0.25rem;\n}\n:host .row .label-container {\n  display: flex;\n  align-items: center;\n  height: 2rem;\n  padding: 0 1rem;\n  border-radius: 0.25rem;\n}\n:host .row .label-container .link {\n  cursor: pointer;\n  text-decoration: none;\n  color: rgba(var(--dark-primary-text));\n}\n:host .row.selected .label-container .link {\n  color: var(--palette-accent-A200-rgb);\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,default:()=>tissue_tree_list_component_stories});var link_registry_state=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.state.ts"),link_registry_model=__webpack_require__("./libs/cdk/state/src/link-registry/link-registry.model.ts"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.js");var _class,tissue_tree_list_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/tissue-tree-list/tissue-tree-list.component.scss?ngResource"),tissue_tree_list_componentngResource_default=__webpack_require__.n(tissue_tree_list_componentngResource),tree=__webpack_require__("./node_modules/@angular/cdk/fesm2020/tree.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2020/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2020/core.mjs"),fesm2020_button=__webpack_require__("./node_modules/@angular/material/fesm2020/button.mjs"),fesm2020_core=__webpack_require__("./node_modules/@angular/material/fesm2020/core.mjs"),expansion=__webpack_require__("./node_modules/@angular/material/fesm2020/expansion.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2020/icon.mjs"),fesm2020_tree=__webpack_require__("./node_modules/@angular/material/fesm2020/tree.mjs"),link_directive=__webpack_require__("./libs/cdk/src/lib/link/link.directive.ts");let TissueTreeListComponent=(_class=class TissueTreeListComponent{constructor(){this.nodes={},this.selected=void 0,this.selectedChange=new core.EventEmitter,this.control=new tree.C2((node=>node.level),(node=>node.expandable)),this.flattener=new fesm2020_tree.JZ(((node,level)=>({label:node.label,expandable:(node.children?.length??0)>0,level,data:node})),(node=>node.level),(node=>node.expandable),(node=>node.children?.map((id=>this.nodes[id])))),this.dataSource=new fesm2020_tree.kc(this.control,this.flattener)}ngOnChanges(changes){"nodes"in changes&&(this.dataSource.data=this.findRootNodes())}hasChild(_,node){return node.expandable}selectNode(node){this.selected!==node&&(this.selected=node,this.selectedChange.emit(this.selected))}findRootNodes(){const nodes={...this.nodes};for(const key in nodes)for(const child of nodes[key].children??[])delete nodes[child];return Object.values(nodes)}},_class.propDecorators={nodes:[{type:core.Input}],selected:[{type:core.Input}],selectedChange:[{type:core.Output}]},_class);TissueTreeListComponent=(0,tslib_es6.gn)([(0,core.Component)({selector:"hra-tissue-tree-list",standalone:!0,imports:[common.CommonModule,fesm2020_button.ot,fesm2020_tree.dp,icon.Ps,expansion.To,fesm2020_core.si,link_directive.I],template:'<mat-tree [dataSource]="dataSource" [treeControl]="control" class="tree">\n  <mat-tree-node\n    *matTreeNodeDef="let node; let level = level"\n    [matTreeNodePadding]="level"\n    matTreeNodePaddingIndent="64"\n    [class.selected]="node.data === selected"\n    class="row"\n    tabIndex="0"\n  >\n    <ng-container [ngTemplateOutlet]="label" [ngTemplateOutletContext]="node"> </ng-container>\n  </mat-tree-node>\n\n  <mat-tree-node\n    *matTreeNodeDef="let node; let level = level; when: hasChild"\n    class="row"\n    [class.selected]="node.data === selected"\n  >\n    <button mat-icon-button matTreeNodeToggle class="toggle" [attr.aria-label]="\'Toggle \' + node.label">\n      <mat-icon>\n        {{ control.isExpanded(node) ? \'keyboard_arrow_up\' : \'chevron_right\' }}\n      </mat-icon>\n    </button>\n\n    <ng-container [ngTemplateOutlet]="label" [ngTemplateOutletContext]="node"> </ng-container>\n  </mat-tree-node>\n</mat-tree>\n\n<ng-template let-label="label" let-data="data" #label>\n  <div class="label-container" matRipple [matRippleDisabled]="!data.link">\n    <a\n      *ngIf="data.link; else noLink"\n      [hraLink]="data.link"\n      [queryParams]="{ id: data.id }"\n      class="link"\n      (click)="selectNode(data)"\n    >\n      {{ label }}\n    </a>\n    <ng-template #noLink>\n      <span>{{ label }}</span>\n    </ng-template>\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[tissue_tree_list_componentngResource_default()]})],TissueTreeListComponent);const tissue_tree_list_component_stories={title:"TissueTreeListComponent",component:TissueTreeListComponent,parameters:{state:{states:[link_registry_state.V]}}},Primary={args:{nodes:{id1:{label:"Kidney",children:["id2","id3"]},id2:{label:"Ascending thin limb",link:(0,link_registry_model.HW)("id2")},id3:{label:"Cortical collecting duct",link:(0,link_registry_model.HW)("id3")},id4:{label:"Large Intestine",link:(0,link_registry_model.HW)("id4"),children:["id5"]},id5:{label:"Crypt of Lieberkuhn",link:(0,link_registry_model.HW)("id5")},id6:{label:"Liver",children:["id7"]},id7:{label:"Liver lobule",link:(0,link_registry_model.HW)("id7")}}}};Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    nodes\n  }\n}",...Primary.parameters?.docs?.source}}}}}]);