(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[987],{"./libs/components/molecules/src/lib/source-list/source-list.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>source_list_component_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var source_list_componentngResource=__webpack_require__("./libs/components/molecules/src/lib/source-list/source-list.component.scss?ngResource"),source_list_componentngResource_default=__webpack_require__.n(source_list_componentngResource),collections=__webpack_require__("./node_modules/@angular/cdk/fesm2022/collections.mjs"),common=__webpack_require__("./node_modules/@angular/common/fesm2022/common.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),fesm2022_button=__webpack_require__("./node_modules/@angular/material/fesm2022/button.mjs"),fesm2022_checkbox=__webpack_require__("./node_modules/@angular/material/fesm2022/checkbox.mjs"),icon=__webpack_require__("./node_modules/@angular/material/fesm2022/icon.mjs"),sort=__webpack_require__("./node_modules/@angular/material/fesm2022/sort.mjs"),table=__webpack_require__("./node_modules/@angular/material/fesm2022/table.mjs"),overlay=__webpack_require__("./node_modules/@angular/cdk/fesm2022/overlay.mjs"),portal=__webpack_require__("./node_modules/@angular/cdk/fesm2022/portal.mjs");let HoverDirective=class HoverDirective{constructor(){this.el=(0,core.inject)(core.ElementRef).nativeElement,this.overlay=(0,core.inject)(overlay.hJ),this.viewContainerRef=(0,core.inject)(core.ViewContainerRef)}set content(content){this.portal=new portal.VA(content,this.viewContainerRef,this._data),this.updateContent()}set data(data){this._data={$implicit:data},this.portal&&(this.portal.context=this._data,this.updateContent())}startHover(){const{portal}=this;portal&&(this.overlayRef=this.createOverlay(),this.overlayRef.attach(portal))}endHover(){const{overlayRef}=this;overlayRef?.dispose()}updateContent(){const{overlayRef,portal}=this;overlayRef&&portal&&(overlayRef.detach(),overlayRef.attach(portal))}createOverlay(){return this.overlay.create({positionStrategy:this.overlay.position().flexibleConnectedTo(this.el).withPositions([new overlay.uH({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),new overlay.uH({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),new overlay.uH({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),new overlay.uH({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"})]).withPush(!0)})}static#_=this.propDecorators={content:[{type:core.Input,args:["hraHover"]}],data:[{type:core.Input,args:["hraHoverData"]}],startHover:[{type:core.HostListener,args:["mouseover"]}],endHover:[{type:core.HostListener,args:["mouseout"]}]}};HoverDirective=(0,tslib_es6.Cg)([(0,core.Directive)({selector:"[hraHover]",standalone:!0})],HoverDirective);var label_box_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource"),label_box_componentngResource_default=__webpack_require__.n(label_box_componentngResource);let LabelBoxComponent=class LabelBoxComponent{};LabelBoxComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-label-box",standalone:!0,imports:[common.CommonModule],template:'<ng-content></ng-content>\n\n<div class="filler"></div>\n\n<ng-content select=".end"></ng-content>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[label_box_componentngResource_default()]})],LabelBoxComponent);var empty_biomarker_componentngResource=__webpack_require__("./libs/components/atoms/src/lib/empty-biomarker/empty-biomarker.component.scss?ngResource"),empty_biomarker_componentngResource_default=__webpack_require__.n(empty_biomarker_componentngResource),ngx_markdown=__webpack_require__("./node_modules/ngx-markdown/fesm2022/ngx-markdown.mjs");let EmptyBiomarkerComponent=class EmptyBiomarkerComponent{constructor(){this.collaborateText="",this.message="",this.collaborateClick=new core.EventEmitter}static#_=this.propDecorators={collaborateText:[{type:core.Input}],message:[{type:core.Input}],collaborateClick:[{type:core.Output}]}};EmptyBiomarkerComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-empty-biomarker",standalone:!0,imports:[common.CommonModule,fesm2022_button.Hl,ngx_markdown.y2],template:'<markdown [data]="message" class="message"></markdown>\n<button mat-flat-button class="collaborate-button" color="primary" (click)="collaborateClick.emit($event)">\n  {{ collaborateText }}\n</button>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[empty_biomarker_componentngResource_default()]})],EmptyBiomarkerComponent);var ngx_google_analytics=__webpack_require__("./node_modules/ngx-google-analytics/fesm2020/ngx-google-analytics.mjs");let SourceListComponent=class SourceListComponent{constructor(){this.sources=[],this.collaborateText="",this.message="",this.showTable=!0,this.selection=new collections.CB(!0,[]),this.dataSource=new table.I6,this.displayedColumns=["select","authors","year","title","link"],this.collaborateClick=new core.EventEmitter,this.selectionChanged=new core.EventEmitter,this.ga=(0,core.inject)(ngx_google_analytics.p)}set sort(sorter){this.dataSource.sort=sorter||null}ngOnChanges(changes){"sources"in changes&&(this.selection.clear(),this.dataSource.data=this.sources,this.toggleAllRows())}toggleTable(){this.showTable=!this.showTable,this.ga.event("source_table_toggle",this.showTable.toString())}sourceLinkClicked(item){this.ga.event("source_link_clicked","link_click",item.link)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){if(this.isAllSelected())return this.selection.clear(),void this.selectionChanged.emit(this.selection.selected);this.dataSource.data.forEach((row=>this.selection.select(row))),this.selectionChanged.emit(this.selection.selected)}toggleRow(row){this.selection.toggle(row),this.selectionChanged.emit(this.selection.selected)}static#_=this.propDecorators={sources:[{type:core.Input}],collaborateText:[{type:core.Input}],message:[{type:core.Input}],collaborateClick:[{type:core.Output}],selectionChanged:[{type:core.Output}],sort:[{type:core.ViewChild,args:[sort.B4]}]}};SourceListComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-source-list",standalone:!0,imports:[common.CommonModule,fesm2022_button.Hl,table.tP,icon.m_,sort.NQ,LabelBoxComponent,EmptyBiomarkerComponent,fesm2022_checkbox.g7,HoverDirective],template:'<hra-label-box class="toggle" (click)="toggleTable()">\n  Source Data\n  <mat-icon class="end">\n    {{ showTable ? \'keyboard_arrow_down\' : \'keyboard_arrow_up\' }}\n  </mat-icon>\n</hra-label-box>\n\n<div class="table-content" [class.hidden]="!showTable">\n  <table\n    *ngIf="sources.length !== 0"\n    mat-table\n    [dataSource]="dataSource"\n    matSort\n    matSortActive="authors"\n    matSortDirection="asc"\n  >\n    <caption class="sr-only">\n      Source Data\n    </caption>\n\n    \x3c!-- Checkbox Column --\x3e\n    <ng-container matColumnDef="select">\n      <th mat-header-cell *matHeaderCellDef>\n        <mat-checkbox\n          (change)="$event ? toggleAllRows() : null"\n          [checked]="selection.hasValue() && isAllSelected()"\n          [indeterminate]="selection.hasValue() && !isAllSelected()"\n          [disableRipple]="true"\n        >\n        </mat-checkbox>\n      </th>\n      <td mat-cell *matCellDef="let row">\n        <mat-checkbox\n          (click)="$event.stopPropagation()"\n          (change)="$event ? toggleRow(row) : null"\n          [checked]="selection.isSelected(row)"\n          [disableRipple]="true"\n        >\n        </mat-checkbox>\n      </td>\n    </ng-container>\n\n    \x3c!-- Authors Column --\x3e\n    <ng-container matColumnDef="authors">\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>Authors</th>\n      <td mat-cell *matCellDef="let row" [hraHover]="dataHover" [hraHoverData]="row.authors">\n        {{ row.authors.join(\', \') }}\n      </td>\n    </ng-container>\n\n    \x3c!-- Year Column --\x3e\n    <ng-container matColumnDef="year">\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>Year</th>\n      <td mat-cell *matCellDef="let row">{{ row.year < 0 ? \'\' : row.year }}</td>\n    </ng-container>\n\n    \x3c!-- Title Column --\x3e\n    <ng-container matColumnDef="title">\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>Paper Title</th>\n      <td mat-cell *matCellDef="let row" [hraHover]="dataHover" [hraHoverData]="row.title">{{ row.title }}</td>\n    </ng-container>\n\n    \x3c!-- DOI Column --\x3e\n    <ng-container matColumnDef="link">\n      <th mat-header-cell *matHeaderCellDef mat-sort-header>Paper DOI</th>\n      <td\n        mat-cell\n        *matCellDef="let row"\n        [hraHover]="dataHover"\n        [hraHoverData]="row.link"\n        (click)="sourceLinkClicked(row)"\n      >\n        <a\n          class="source-link"\n          mat-flat-button\n          [href]="row.link"\n          target="_blank"\n          rel="noopener noreferrer"\n          disableRipple\n        >\n          {{ row.link }}\n        </a>\n      </td>\n    </ng-container>\n\n    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>\n    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>\n  </table>\n  <hra-empty-biomarker\n    *ngIf="sources.length === 0"\n    [collaborateText]="collaborateText"\n    [message]="message"\n    (collaborateClick)="collaborateClick.emit()"\n  ></hra-empty-biomarker>\n</div>\n\n<ng-template #dataHover let-columnName>\n  <div class="biomarker-table-hover full-column-name" [class.empty]="columnName.toString() === \'\'">\n    {{ columnName }}\n  </div>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[source_list_componentngResource_default()]})],SourceListComponent);const source_list_component_stories={title:"SourceListComponent",component:SourceListComponent},Default={render:args=>({props:args}),args:{sources:[{title:"Kidney Precision Medicine Project",label:"Ancillary Study Data, Clinical Data, HRT Codebook",link:"google.com"},{title:"[Dataset Owner Title]",label:"<Dataset Title + Link to Dataset>",link:"google.com"},{title:"[Dataset Owner Title]",label:"<Dataset Title + Link to Dataset>",link:"google.com"},{title:"[Dataset Owner Title but extremely long and wraps around to the next line as you can see here in this example]",label:"<Extremely long dataset title that wraps around to the next line as you can see in this example + link to dataset>",link:"google.com"}]}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  render: Template,\n  args: {\n    sources: [{\n      title: 'Kidney Precision Medicine Project',\n      label: 'Ancillary Study Data, Clinical Data, HRT Codebook',\n      link: 'google.com'\n    }, {\n      title: '[Dataset Owner Title]',\n      label: '<Dataset Title + Link to Dataset>',\n      link: 'google.com'\n    }, {\n      title: '[Dataset Owner Title]',\n      label: '<Dataset Title + Link to Dataset>',\n      link: 'google.com'\n    }, {\n      title: '[Dataset Owner Title but extremely long and wraps around to the next line as you can see here in this example]',\n      label: '<Extremely long dataset title that wraps around to the next line as you can see in this example + link to dataset>',\n      link: 'google.com'\n    }]\n  }\n}",...Default.parameters?.docs?.source}}}},"./libs/components/atoms/src/lib/empty-biomarker/empty-biomarker.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  padding: 1.5rem;\n}\n:host .collaborate-button {\n  margin-top: 0.5rem;\n  font-weight: 700;\n  color: #fff;\n  width: 100%;\n  max-width: 20rem;\n  height: 3rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/atoms/src/lib/label-box/label-box.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  align-items: center;\n  padding: 0.75rem 2rem;\n  background: rgba(var(--palette-primary-100));\n  border-bottom: 1px solid rgba(var(--light-dividers));\n  font-size: 1rem;\n}\n:host .filler {\n  flex-grow: 1;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/components/molecules/src/lib/source-list/source-list.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  height: 100%;\n}\n@media (min-height: 60.75rem) {\n  :host .toggle {\n    height: 3rem !important;\n  }\n  :host ::ng-deep thead > tr {\n    height: 3rem !important;\n  }\n}\n:host .sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  border: 0;\n}\n:host hra-label-box {\n  font-size: 0.875rem;\n  padding-left: 1.5rem;\n}\n:host .toggle {\n  display: flex;\n  align-items: center;\n  height: 2.5rem;\n  grid-area: source-list-header;\n  border-top: 1px solid rgba(var(--light-dividers));\n  border-bottom: 1px solid rgba(var(--light-dividers));\n}\n:host .table-content {\n  max-height: 236px;\n  overflow: auto;\n}\n:host .table-content.hidden {\n  display: none;\n}\n:host .table-content .mat-column-select {\n  width: 1rem;\n  padding-right: 0;\n}\n:host .table-content .mat-column-authors,\n:host .table-content .mat-column-title,\n:host .table-content .mat-column-doi,\n:host .table-content .mat-column-link {\n  max-width: 7rem;\n}\n:host .table-content .mat-column-year {\n  max-width: 3.5rem;\n}\n:host .table-content .mat-column-link {\n  padding-right: 3rem;\n  text-overflow: unset !important;\n}\n:host .table-content ::ng-deep thead .mat-sort-header-stem,\n:host .table-content ::ng-deep thead .mat-sort-header-indicator {\n  opacity: 0 !important;\n}\n:host .table-content ::ng-deep thead .mat-sort-header-arrow {\n  background-image: url('arrow-upward.svg');\n  background-size: contain;\n  height: 1rem;\n  width: 1rem;\n}\n:host .table-content ::ng-deep thead [aria-sort=descending] .mat-sort-header-arrow {\n  background-image: url('arrow-down.svg');\n}\n:host .table-content ::ng-deep thead [aria-sort=none] .mat-sort-header-arrow {\n  background-image: url('arrow-upward.svg');\n  transition: 0.5s;\n}\n:host .table-content ::ng-deep thead tr {\n  color: rgba(var(--palette-primary-700));\n  background: rgba(var(--palette-primary-100));\n  height: 2.5rem;\n}\n:host .table-content ::ng-deep tbody .mat-column-doi,\n:host .table-content ::ng-deep tbody .mat-column-link {\n  color: rgba(var(--palette-accent-A200));\n  font-weight: 500;\n}\n:host .table-content .mat-mdc-cell,\n:host .table-content .mat-mdc-header-cell {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n:host .table-content .mat-mdc-header-cell {\n  border-bottom-color: rgba(var(--light-dividers));\n}\n:host .table-content .mat-mdc-cell {\n  border-bottom: none;\n}\n:host .table-content tr {\n  color: rgba(var(--palette-primary-500));\n  font-size: 0.75rem;\n  height: 2.25rem;\n}\n:host .table-content tr .mat-column-link {\n  cursor: pointer;\n}\n:host .table-content .source-link {\n  --mdc-filled-button-label-text-tracking: 0.0178571429em;\n  font-size: 0.75rem;\n  font-weight: 500;\n  padding: 0;\n  justify-content: left;\n  color: #b20a2f;\n  text-decoration: none;\n  border: 0.25rem solid transparent;\n}\n:host .table-content .source-link:hover {\n  color: #8e0825;\n}\n:host .table-content .source-link:active {\n  color: #6a061c;\n}\n:host .table-content .source-link:focus {\n  color: #201e3d;\n  border-color: #e00d3a;\n}\n:host .table-content .source-link ::ng-deep .mdc-button__ripple::before {\n  background-color: transparent;\n}\n:host .table-content .source-link ::ng-deep .mdc-button__label {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 9rem;\n  overflow: hidden;\n}\n:host ::ng-deep mat-checkbox {\n  --mdc-checkbox-selected-checkmark-color: rgba(vars.$primary) !important;\n}\n:host ::ng-deep mat-checkbox .mdc-form-field {\n  height: 2.25rem;\n}\n:host ::ng-deep mat-checkbox .mdc-form-field .mdc-checkbox {\n  padding: 9px;\n}\n:host ::ng-deep mat-checkbox .mdc-checkbox__background {\n  background-color: transparent !important;\n  border-color: rgba(var(--palette-primary-500)) !important;\n  top: 9px;\n  left: 9px;\n}\n:host .end {\n  cursor: pointer;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);