"use strict";(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[3193],{"./libs/design-system/select/src/lib/select.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,RequiredSelect:()=>RequiredSelect,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/material/fesm2022/module-3bb03da5.mjs"),_angular_material_select__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/material/fesm2022/module-b2aac45b.mjs"),_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/platform-browser/fesm2022/animations.mjs"),_storybook_angular__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),_providers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/design-system/select/src/lib/providers.ts"),_angular_forms__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");const __WEBPACK_DEFAULT_EXPORT__={title:"Select",decorators:[(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.applicationConfig)({providers:[(0,_providers__WEBPACK_IMPORTED_MODULE_1__.W)(),(0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.importProvidersFrom)(_angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_3__.BrowserAnimationsModule)]}),(0,_storybook_angular__WEBPACK_IMPORTED_MODULE_0__.moduleMetadata)({imports:[_angular_material_select__WEBPACK_IMPORTED_MODULE_4__.a,_angular_material_form_field__WEBPACK_IMPORTED_MODULE_5__.M,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.X1]})]},Default={render:()=>({template:'\n      <mat-form-field>\n        <mat-label>Choose an option</mat-label>\n        <mat-select disableRipple panelClass="options-container">\n          <mat-option value="option1">Option 1</mat-option>\n          <mat-option value="option2">Option 2</mat-option>\n          <mat-option value="option3">Option 3</mat-option>\n        </mat-select>\n      </mat-form-field>\n    '})},RequiredSelect={render:()=>({props:{selectFormControl:new _angular_forms__WEBPACK_IMPORTED_MODULE_6__.MJ(null,_angular_forms__WEBPACK_IMPORTED_MODULE_6__.k0.required),options:["option1","option2","option3"]},template:'\n      <mat-form-field>\n        <mat-label>Choose an option</mat-label>\n        <mat-select disableRipple panelClass="options-container" [formControl]="selectFormControl" required>\n          <mat-option>--</mat-option>\n          @for (option of options; track option) {\n            <mat-option [value]="option">{{option}}</mat-option>\n          }\n        </mat-select>\n        @if (selectFormControl.hasError(\'required\')) {\n          <mat-error>Please choose an option</mat-error>\n        }\n      </mat-form-field>\n    '})},__namedExportsOrder=["Default","RequiredSelect"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:'{\n  render: () => ({\n    template: `\n      <mat-form-field>\n        <mat-label>Choose an option</mat-label>\n        <mat-select disableRipple panelClass="options-container">\n          <mat-option value="option1">Option 1</mat-option>\n          <mat-option value="option2">Option 2</mat-option>\n          <mat-option value="option3">Option 3</mat-option>\n        </mat-select>\n      </mat-form-field>\n    `\n  })\n}',...Default.parameters?.docs?.source}}},RequiredSelect.parameters={...RequiredSelect.parameters,docs:{...RequiredSelect.parameters?.docs,source:{originalSource:"{\n  render: () => ({\n    props: {\n      selectFormControl: new FormControl<string | null>(null, Validators.required),\n      options: ['option1', 'option2', 'option3']\n    },\n    template: `\n      <mat-form-field>\n        <mat-label>Choose an option</mat-label>\n        <mat-select disableRipple panelClass=\"options-container\" [formControl]=\"selectFormControl\" required>\n          <mat-option>--</mat-option>\n          @for (option of options; track option) {\n            <mat-option [value]=\"option\">{{option}}</mat-option>\n          }\n        </mat-select>\n        @if (selectFormControl.hasError('required')) {\n          <mat-error>Please choose an option</mat-error>\n        }\n      </mat-form-field>\n    `\n  })\n}",...RequiredSelect.parameters?.docs?.source}}}},"./node_modules/@angular/cdk/fesm2022/list-key-manager-f9c3e90c.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>ListKeyManager});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),rxjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subscription.js"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),_typeahead_0113d27c_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/typeahead-0113d27c.mjs"),_modifiers_3e8908bb_mjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/modifiers-3e8908bb.mjs"),_keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/keycodes-0e4398c6.mjs");class ListKeyManager{_items;_activeItemIndex=-1;_activeItem=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.signal)(null);_wrap=!1;_typeaheadSubscription=rxjs__WEBPACK_IMPORTED_MODULE_1__.yU.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=item=>item.disabled;constructor(_items,injector){if(this._items=_items,_items instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.QueryList)this._itemChangesSubscription=_items.changes.subscribe((newItems=>this._itemsChanged(newItems.toArray())));else if((0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.isSignal)(_items)){if(!injector&&("undefined"==typeof ngDevMode||ngDevMode))throw new Error("ListKeyManager constructed with a signal must receive an injector");this._effectRef=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.effect)((()=>this._itemsChanged(_items())),{injector})}}tabOut=new rxjs__WEBPACK_IMPORTED_MODULE_2__.B;change=new rxjs__WEBPACK_IMPORTED_MODULE_2__.B;skipPredicate(predicate){return this._skipPredicateFn=predicate,this}withWrap(shouldWrap=!0){return this._wrap=shouldWrap,this}withVerticalOrientation(enabled=!0){return this._vertical=enabled,this}withHorizontalOrientation(direction){return this._horizontal=direction,this}withAllowedModifierKeys(keys){return this._allowedModifierKeys=keys,this}withTypeAhead(debounceInterval=200){if("undefined"==typeof ngDevMode||ngDevMode){const items=this._getItemsArray();if(items.length>0&&items.some((item=>"function"!=typeof item.getLabel)))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.")}this._typeaheadSubscription.unsubscribe();const items=this._getItemsArray();return this._typeahead=new _typeahead_0113d27c_mjs__WEBPACK_IMPORTED_MODULE_3__.T(items,{debounceInterval:"number"==typeof debounceInterval?debounceInterval:void 0,skipPredicate:item=>this._skipPredicateFn(item)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe((item=>{this.setActiveItem(item)})),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(enabled=!0){return this._homeAndEnd=enabled,this}withPageUpDown(enabled=!0,delta=10){return this._pageUpAndDown={enabled,delta},this}setActiveItem(item){const previousActiveItem=this._activeItem();this.updateActiveItem(item),this._activeItem()!==previousActiveItem&&this.change.next(this._activeItemIndex)}onKeydown(event){const keyCode=event.keyCode,isModifierAllowed=["altKey","ctrlKey","metaKey","shiftKey"].every((modifier=>!event[modifier]||this._allowedModifierKeys.indexOf(modifier)>-1));switch(keyCode){case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.T:return void this.tabOut.next();case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.D:if(this._vertical&&isModifierAllowed){this.setNextItemActive();break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.U:if(this._vertical&&isModifierAllowed){this.setPreviousItemActive();break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.R:if(this._horizontal&&isModifierAllowed){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.L:if(this._horizontal&&isModifierAllowed){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.H:if(this._homeAndEnd&&isModifierAllowed){this.setFirstItemActive();break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.E:if(this._homeAndEnd&&isModifierAllowed){this.setLastItemActive();break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.b:if(this._pageUpAndDown.enabled&&isModifierAllowed){const targetIndex=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(targetIndex>0?targetIndex:0,1);break}return;case _keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_4__.P:if(this._pageUpAndDown.enabled&&isModifierAllowed){const targetIndex=this._activeItemIndex+this._pageUpAndDown.delta,itemsLength=this._getItemsArray().length;this._setActiveItemByIndex(targetIndex<itemsLength?targetIndex:itemsLength-1,-1);break}return;default:return void((isModifierAllowed||(0,_modifiers_3e8908bb_mjs__WEBPACK_IMPORTED_MODULE_5__.h)(event,"shiftKey"))&&this._typeahead?.handleKey(event))}this._typeahead?.reset(),event.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(item){const itemArray=this._getItemsArray(),index="number"==typeof item?item:itemArray.indexOf(item),activeItem=itemArray[index];this._activeItem.set(null==activeItem?null:activeItem),this._activeItemIndex=index,this._typeahead?.setCurrentSelectedItemIndex(index)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(delta){this._wrap?this._setActiveInWrapMode(delta):this._setActiveInDefaultMode(delta)}_setActiveInWrapMode(delta){const items=this._getItemsArray();for(let i=1;i<=items.length;i++){const index=(this._activeItemIndex+delta*i+items.length)%items.length,item=items[index];if(!this._skipPredicateFn(item))return void this.setActiveItem(index)}}_setActiveInDefaultMode(delta){this._setActiveItemByIndex(this._activeItemIndex+delta,delta)}_setActiveItemByIndex(index,fallbackDelta){const items=this._getItemsArray();if(items[index]){for(;this._skipPredicateFn(items[index]);)if(!items[index+=fallbackDelta])return;this.setActiveItem(index)}}_getItemsArray(){return(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.isSignal)(this._items)?this._items():this._items instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__.QueryList?this._items.toArray():this._items}_itemsChanged(newItems){this._typeahead?.setItems(newItems);const activeItem=this._activeItem();if(activeItem){const newIndex=newItems.indexOf(activeItem);newIndex>-1&&newIndex!==this._activeItemIndex&&(this._activeItemIndex=newIndex,this._typeahead?.setCurrentSelectedItemIndex(newIndex))}}}},"./node_modules/@angular/cdk/fesm2022/typeahead-0113d27c.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>Typeahead});var rxjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/Subject.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/tap.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/filter.js"),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/rxjs/dist/esm5/internal/operators/map.js"),_keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/cdk/fesm2022/keycodes-0e4398c6.mjs");class Typeahead{_letterKeyStream=new rxjs__WEBPACK_IMPORTED_MODULE_0__.B;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new rxjs__WEBPACK_IMPORTED_MODULE_0__.B;selectedItem=this._selectedItem;constructor(initialItems,config){const typeAheadInterval="number"==typeof config?.debounceInterval?config.debounceInterval:200;if(config?.skipPredicate&&(this._skipPredicateFn=config.skipPredicate),("undefined"==typeof ngDevMode||ngDevMode)&&initialItems.length&&initialItems.some((item=>"function"!=typeof item.getLabel)))throw new Error("KeyManager items in typeahead mode must implement the `getLabel` method.");this.setItems(initialItems),this._setupKeyHandler(typeAheadInterval)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(index){this._selectedItemIndex=index}setItems(items){this._items=items}handleKey(event){const keyCode=event.keyCode;event.key&&1===event.key.length?this._letterKeyStream.next(event.key.toLocaleUpperCase()):(keyCode>=_keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_1__.c&&keyCode<=_keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_1__.Z||keyCode>=_keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_1__.d&&keyCode<=_keycodes_0e4398c6_mjs__WEBPACK_IMPORTED_MODULE_1__.N)&&this._letterKeyStream.next(String.fromCharCode(keyCode))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(typeAheadInterval){this._letterKeyStream.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.M)((letter=>this._pressedLetters.push(letter))),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.B)(typeAheadInterval),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.p)((()=>this._pressedLetters.length>0)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.T)((()=>this._pressedLetters.join("").toLocaleUpperCase()))).subscribe((inputString=>{for(let i=1;i<this._items.length+1;i++){const index=(this._selectedItemIndex+i)%this._items.length,item=this._items[index];if(!this._skipPredicateFn?.(item)&&0===item.getLabel?.().toLocaleUpperCase().trim().indexOf(inputString)){this._selectedItem.next(item);break}}this._pressedLetters=[]}))}}}}]);