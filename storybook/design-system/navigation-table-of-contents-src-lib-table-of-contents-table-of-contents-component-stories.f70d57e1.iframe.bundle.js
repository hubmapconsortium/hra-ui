(self.webpackChunkhra_ui=self.webpackChunkhra_ui||[]).push([[4018],{"./libs/common/src/lib/assets-href/asset-url.pipe.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>AssetUrlPipe});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),location_CprIx2Bv=__webpack_require__("./node_modules/@angular/common/fesm2022/location-CprIx2Bv.mjs"),utils_url=__webpack_require__("./libs/common/src/lib/utils/url.ts");function buildAssetUrl(base,path,type){let url=path;return null===(0,utils_url.D)(url)&&(url=location_CprIx2Bv.L.joinWithSlash(base,path)),"css"===type?`url("${url}")`:url}var tokens=__webpack_require__("./libs/common/src/lib/assets-href/tokens.ts");let AssetUrlPipe=class AssetUrlPipe{assetsHref=(0,core.inject)(tokens.eO);transform(path,type){return buildAssetUrl(this.assetsHref(),path,type)}};AssetUrlPipe=(0,tslib_es6.Cg)([(0,core.Pipe)({name:"assetUrl"})],AssetUrlPipe)},"./libs/common/src/lib/common.module.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>HraCommonModule});var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_common__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D8YipLWl.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_assets_href_asset_url_pipe__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./libs/common/src/lib/assets-href/asset-url.pipe.ts");let HraCommonModule=class HraCommonModule{};HraCommonModule=(0,tslib__WEBPACK_IMPORTED_MODULE_0__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_1__.NgModule)({imports:[_assets_href_asset_url_pipe__WEBPACK_IMPORTED_MODULE_2__.i],exports:[_angular_common__WEBPACK_IMPORTED_MODULE_3__.D,_assets_href_asset_url_pipe__WEBPACK_IMPORTED_MODULE_2__.i]})],HraCommonModule)},"./libs/design-system/content-templates/page-section/src/lib/page-section.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n}\n:host .content {\n  font: var(--mat-sys-body-xl);\n  letter-spacing: var(--mat-sys-body-xl-tracking);\n  color: var(--mat-sys-primary);\n  margin-top: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/design-system/content-templates/page-section/src/lib/page-section.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{I:()=>PageSectionComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var page_section_componentngResource=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/page-section.component.scss?ngResource"),page_section_componentngResource_default=__webpack_require__.n(page_section_componentngResource),common_module_D8YipLWl=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D8YipLWl.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),divider=__webpack_require__("./node_modules/@angular/material/fesm2022/divider.mjs"),page_label_component=__webpack_require__("./libs/design-system/content-templates/page-label/src/lib/page-label.component.ts"),page_section_service=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section.service.ts");let PageSectionComponent=class PageSectionComponent{tagline=core.input.required();level=(0,core.input)(1,{transform:core.numberAttribute});anchor=(0,core.input)();elementRef=core.viewChild.required("section",{read:core.ElementRef});constructor(){const destroyRef=(0,core.inject)(core.DestroyRef),pageSectionService=(0,core.inject)(page_section_service.S,{optional:!0});pageSectionService&&(pageSectionService.addSection(this),destroyRef.onDestroy((()=>pageSectionService.removeSection(this))))}static ctorParameters=()=>[];static propDecorators={tagline:[{type:core.Input,args:[{isSignal:!0,alias:"tagline",required:!0,transform:void 0}]}],level:[{type:core.Input,args:[{isSignal:!0,alias:"level",required:!1,transform:void 0}]}],anchor:[{type:core.Input,args:[{isSignal:!0,alias:"anchor",required:!1,transform:void 0}]}],elementRef:[{type:core.ViewChild,args:["section",{read:core.ElementRef,isSignal:!0}]}]}};PageSectionComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-page-section",imports:[common_module_D8YipLWl.D,divider.w,page_label_component.p],template:'<section [attr.id]="anchor() || null" #section>\n  <hra-page-label class="header" [tagline]="tagline()" [level]="level()" [anchor]="anchor()" />\n\n  <div class="content">\n    <ng-content />\n  </div>\n</section>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[page_section_componentngResource_default()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],PageSectionComponent)},"./libs/design-system/content-templates/page-section/src/lib/providers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{G:()=>providePageSectionNavigation});var _services_page_section_activation_service__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section-activation.service.ts"),_services_page_section_service__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section.service.ts");function providePageSectionNavigation(options={}){return[{provide:_services_page_section_activation_service__WEBPACK_IMPORTED_MODULE_0__.u,useValue:options},_services_page_section_service__WEBPACK_IMPORTED_MODULE_1__.S,_services_page_section_activation_service__WEBPACK_IMPORTED_MODULE_0__.k]}},"./libs/design-system/content-templates/page-section/src/lib/services/page-section-activation.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{u:()=>PAGE_SECTION_ACTIVATION_OPTIONS,k:()=>PageSectionActivationService});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),element_15999318=__webpack_require__("./node_modules/@angular/cdk/fesm2022/element-15999318.mjs"),dom_tokens_CNpAxedO=__webpack_require__("./node_modules/@angular/common/fesm2022/dom_tokens-CNpAxedO.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");const WINDOW=new core.InjectionToken("window",{providedIn:"root",factory:()=>(0,core.inject)(dom_tokens_CNpAxedO.D).defaultView??void 0}),INTERSECTION_OBSERVER=new core.InjectionToken("IntersectionObserver",{providedIn:"root",factory:()=>(0,core.inject)(WINDOW)?.IntersectionObserver});var page_section_service=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section.service.ts");const PAGE_SECTION_ACTIVATION_OPTIONS=new core.InjectionToken("Page Section Activation Options"),DEFAULT_ROOT_MARGIN="0px 0px -80% 0px";let PageSectionActivationService=class PageSectionActivationService{options=(0,core.inject)(PAGE_SECTION_ACTIVATION_OPTIONS);sections=(0,core.inject)(page_section_service.S).linkableSections;observedElements=new Set;activeElement=(0,core.signal)(void 0);observer=this.createObserver();activeSection=(0,core.computed)((()=>{const element=this.activeElement();if(!element)return;return this.sections().find((s=>(0,page_section_service.c)(s)===element))}));constructor(){(0,core.effect)((()=>{const elements=this.sections().map(page_section_service.c),diff=this.diffObservedElements(elements);this.applyObservedElementsDiff(diff)}))}activate(section){this.activeElement.set((0,page_section_service.c)(section))}createObserver(){const IntersectionObserver=(0,core.inject)(INTERSECTION_OBSERVER);if(!IntersectionObserver)return;const{rootMargin=DEFAULT_ROOT_MARGIN,threshold}=this.options;return new IntersectionObserver(this.handleIntersection.bind(this),{root:this.resolveRootElement(),rootMargin,threshold})}resolveRootElement(){const{root}=this.options;if("string"==typeof root){return(0,core.inject)(dom_tokens_CNpAxedO.D).querySelector(root)}if(root){const el=(0,core.inject)(root,{optional:!0});return(0,element_15999318.c)(el)}}handleIntersection(entries){for(const entry of entries)if(entry.isIntersecting){this.activeElement.set(entry.target);break}}diffObservedElements(elements){const observedElements=this.observedElements,newElements=new Set(elements),added=[],removed=[];for(const el of newElements)observedElements.has(el)||added.push(el);for(const el of observedElements)newElements.has(el)||removed.push(el);return{added,removed}}applyObservedElementsDiff(diff){const{observer,observedElements}=this,{added,removed}=diff;for(const el of removed)observer?.unobserve(el),observedElements.delete(el);for(const el of added)observer?.observe(el),observedElements.add(el)}static ctorParameters=()=>[]};PageSectionActivationService=(0,tslib_es6.Cg)([(0,core.Injectable)(),(0,tslib_es6.Sn)("design:paramtypes",[])],PageSectionActivationService)},"./libs/design-system/content-templates/page-section/src/lib/services/page-section.service.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{S:()=>PageSectionService,c:()=>getSectionElement});var tslib__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs");function getSectionElement(section){return section.elementRef().nativeElement}let PageSectionService=class PageSectionService{_sections=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.signal)([]);sections=this._sections.asReadonly();linkableSections=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>this.filterLinkableSections(this._sections())));sortedSections=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>this.sortSectionsByDomPosition(this.linkableSections())));addSection(section){this._sections.update((sections=>[...sections,section]))}removeSection(section){this._sections.update((sections=>sections.filter((s=>s!==section))))}filterLinkableSections(sections){return sections.filter((section=>section.anchor()))}sortSectionsByDomPosition(sections){return(sections=[...sections]).sort(((section1,section2)=>{const el1=getSectionElement(section1),el2=getSectionElement(section2);return el1.compareDocumentPosition(el2)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})),sections}};PageSectionService=(0,tslib__WEBPACK_IMPORTED_MODULE_1__.Cg)([(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.Injectable)()],PageSectionService)},"./libs/design-system/navigation/table-of-contents/src/lib/table-of-contents/table-of-contents.component.scss?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: block;\n  border: 0.0625rem solid var(--mat-sys-outline-variant);\n  border-radius: 0.5rem;\n}\n:host .tagline {\n  font: var(--mat-sys-label-large);\n  letter-spacing: var(--mat-sys-label-large-tracking);\n  min-height: 3rem;\n  padding: 0.75rem 1.5rem;\n  border-bottom: 0.0625rem solid var(--mat-sys-outline-variant);\n  border-top-left-radius: 0.5rem;\n  border-top-right-radius: 0.5rem;\n  color: var(--mat-sys-secondary);\n  background-color: var(--mat-sys-surface-container-low);\n}\n:host .links {\n  display: flex;\n  flex-direction: column;\n  font: var(--mat-sys-label-medium);\n  letter-spacing: var(--mat-sys-label-medium-tracking);\n  padding: 0.5rem;\n}\n:host .links .link {\n  min-height: 2rem;\n  border-radius: 0.5rem;\n  padding: 0.3438rem 1rem;\n  margin-left: calc((var(--indentation-level, 1) - 1) * 0.75rem);\n  color: var(--mat-sys-primary);\n}\n:host .links .link:hover {\n  background-color: rgb(from var(--mat-sys-secondary) r g b/8%);\n}\n:host .links .link:focus-visible {\n  outline: 2px solid var(--mat-sys-primary);\n  outline-offset: -2px;\n}\n@media (min-width: 1100px) {\n  :host {\n    border: none;\n  }\n  :host .tagline {\n    min-height: 2.5rem;\n    padding: 0.5rem 1rem;\n    border-bottom: none;\n    background-color: unset;\n  }\n  :host .links {\n    padding: 0;\n  }\n  :host .links .link.active {\n    background-color: rgb(from var(--mat-sys-tertiary) r g b/20%);\n  }\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./libs/design-system/navigation/table-of-contents/src/lib/table-of-contents/table-of-contents.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>table_of_contents_component_stories});var dist=__webpack_require__("./node_modules/@storybook/angular/dist/index.mjs"),tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var common_module_D8YipLWl=__webpack_require__("./node_modules/@angular/common/fesm2022/common_module-D8YipLWl.mjs"),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),page_section_activation_service=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section-activation.service.ts"),page_section_component=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/page-section.component.ts"),providers=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/providers.ts"),table_of_contents_component=__webpack_require__("./libs/design-system/navigation/table-of-contents/src/lib/table-of-contents/table-of-contents.component.ts");let TableOfContentsDemoComponent=class TableOfContentsDemoComponent{activeSection=(0,core.input)(void 0,{transform:core.numberAttribute});activationService=(0,core.inject)(page_section_activation_service.k);sections=(0,core.viewChildren)(page_section_component.I);constructor(){(0,core.effect)((()=>{const index=this.activeSection(),sections=this.sections();void 0!==index&&index>0&&index<=sections.length&&this.activationService.activate(sections[index-1])}))}static ctorParameters=()=>[];static propDecorators={activeSection:[{type:core.Input,args:[{isSignal:!0,alias:"activeSection",required:!1,transform:void 0}]}],sections:[{type:core.ViewChildren,args:[page_section_component.I,{isSignal:!0}]}]}};TableOfContentsDemoComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-table-of-contents-demo",imports:[common_module_D8YipLWl.D,page_section_component.I,table_of_contents_component.p],template:'<hra-table-of-contents />\n\n<div style="display: none">\n  @for (level of [1, 2, 3, 4, 5, 6, 1, 2, 3, 3]; track $index) {\n    <hra-page-section\n      [tagline]="`Section label in sentence case ${$index + 1}`"\n      [level]="level"\n      [anchor]="`section-label-in-sentence-case-${$index + 1}`"\n    >\n      <ng-container *ngTemplateOutlet="sectionContentPlaceholder" />\n    </hra-page-section>\n  }\n</div>\n\n<ng-template #sectionContentPlaceholder>\n  This is placeholder text. We should try to keep this short. When writing content, imagine you\'ve never been to the HRA\n  before. What would you want to learn here?\n  <ul>\n    <li>Text always goes on top.</li>\n    <li>Other components may be swapped out for the button set.</li>\n  </ul>\n</ng-template>\n',changeDetection:core.ChangeDetectionStrategy.OnPush,providers:[...(0,providers.G)()]}),(0,tslib_es6.Sn)("design:paramtypes",[])],TableOfContentsDemoComponent);const table_of_contents_component_stories={component:table_of_contents_component.p,title:"Design System/Navigation/Table of Contents",parameters:{design:{type:"figma",url:"https://www.figma.com/design/BCEJn9KCIbBJ5MzqnojKQp/HRA-Components?node-id=2571-207"}},argTypes:{activeSection:{type:"number"}},decorators:[(0,dist.moduleMetadata)({imports:[TableOfContentsDemoComponent]})],render:args=>({props:args,template:`<hra-table-of-contents-demo activeSection="${args.activeSection}" />`})},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}},"./libs/design-system/navigation/table-of-contents/src/lib/table-of-contents/table-of-contents.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{p:()=>TableOfContentsComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var table_of_contents_componentngResource=__webpack_require__("./libs/design-system/navigation/table-of-contents/src/lib/table-of-contents/table-of-contents.component.scss?ngResource"),table_of_contents_componentngResource_default=__webpack_require__.n(table_of_contents_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),index_91512b69=__webpack_require__("./node_modules/@angular/material/fesm2022/index-91512b69.mjs"),router_module_C0FJ_J6L=__webpack_require__("./node_modules/@angular/router/fesm2022/router_module-C0FJ-J6L.mjs"),common_module=__webpack_require__("./libs/common/src/lib/common.module.ts"),page_section_service=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section.service.ts"),page_section_activation_service=__webpack_require__("./libs/design-system/content-templates/page-section/src/lib/services/page-section-activation.service.ts"),scrolling_module=__webpack_require__("./libs/design-system/scrolling/src/lib/scrolling.module.ts");let TableOfContentsComponent=class TableOfContentsComponent{tagline=(0,core.input)("On this page");sections=(0,core.inject)(page_section_service.S).sortedSections;activeSection=(0,core.inject)(page_section_activation_service.k).activeSection;static propDecorators={tagline:[{type:core.Input,args:[{isSignal:!0,alias:"tagline",required:!1,transform:void 0}]}]}};TableOfContentsComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"hra-table-of-contents",template:'<ng-scrollbar class="scrollbar">\n  <nav class="nav" aria-labelledby="table-of-contents-navigation">\n    <div id="table-of-contents-navigation" class="tagline">{{ tagline() }}</div>\n    <div class="links">\n      @for (section of sections(); track section) {\n        <a\n          class="link"\n          matRipple\n          [class.active]="activeSection() === section"\n          [style.--indentation-level]="section.level()"\n          [routerLink]="[]"\n          [fragment]="section.anchor()"\n        >\n          {{ section.tagline() }}\n        </a>\n      }\n    </div>\n  </nav>\n</ng-scrollbar>\n',imports:[common_module.D,index_91512b69.M,router_module_C0FJ_J6L.m,scrolling_module.E],changeDetection:core.ChangeDetectionStrategy.OnPush,styles:[table_of_contents_componentngResource_default()]})],TableOfContentsComponent)}}]);