🔎 checking possible migrations..

🔎 found a 'remove-react-dependency' migration:
╭ Manual migration detected ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                          │
│   We detected that your project has a dependency for "react" that it might not need.                                                                     │
│   Nothing breaks by having it, you can safely ignore this message, if you wish.                                                                          │
│                                                                                                                                                          │
│   Storybook asked you to add "react" as a direct dependency in the past when upgrading from Storybook 6 to 7.                                            │
│   However, since version 8.0, Storybook no longer requires you to provide "react" as a dependency.                                                       │
│   Some community addons might still wrongfully list "react" and "react-dom" as required peer dependencies, but since Storybook 7.6 it should not be      │
│   needed in the majority of cases.                                                                                                                       │
│                                                                                                                                                          │
│   If you know you are not using React outside of Storybook, it should be safe to remove the "react" and "react-dom" dependencies from your project's     │
│   package.json.                                                                                                                                          │
│   Storybook cannot do this automatically as removing it might break your project, so it should be done manually with care.                               │
│                                                                                                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

🔎 found a 'visual-tests-addon' migration:
╭ Automigration detected ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                          │
│   New to Storybook 8: Storybook's Visual Tests addon helps you catch unintentional changes/bugs in your stories. The addon is powered by Chromatic, a    │
│   cloud-based testing tool developed by Storybook's core team.                                                                                           │
│                                                                                                                                                          │
│   Learn more: https://storybook.js.org/docs/writing-tests/visual-testing                                                                                 │
│                                                                                                                                                          │
│   Install Visual Tests addon in your project?                                                                                                            │
│                                                                                                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✅ Adding "@chromatic-com/storybook" addon
✅ ran visual-tests-addon migration

🔎 found a 'autodocs-tags' migration:
╭ Automigration detected ───────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                   │
│   The docs.autodocs setting in libs/shared/theming/.storybook/main.ts is deprecated.                              │
│                                                                                                                   │
│   Learn more: https://github.com/storybookjs/storybook/blob/next/MIGRATION.md#mainjs-docsautodocs-is-deprecated   │
│                                                                                                                   │
│   Remove docs.autodocs and update libs/shared/theming/.storybook/preview.ts?                                      │
│                                                                                                                   │
╰───────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
✅ Adding "autodocs" tag to libs/shared/theming/.storybook/preview.ts
❌ error when running autodocs-tags migration
TypeError: Cannot read properties of null (reading 'init')
    at /home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:73842:33
    at Array.forEach (<anonymous>)
    at enter (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:73839:44)
    at t._call (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:62504:17)
    at t.call (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:62493:19)
    at t.visit (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:62530:36)
    at X0.visitQueue (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63502:32)
    at X0.visitMultiple (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63486:19)
    at X0.visit (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63516:42)
    at traverseNode (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63539:37)


⚠️  failed to check fix initial-globals

TypeError: Cannot read properties of null (reading 'init')
    at /home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:73842:33
    at Array.forEach (<anonymous>)
    at enter (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:73839:44)
    at t._call (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:62504:17)
    at t.call (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:62493:19)
    at t.visit (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:62530:36)
    at X0.visitQueue (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63502:32)
    at X0.visitMultiple (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63486:19)
    at X0.visit (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63516:42)
    at traverseNode (/home/axbolin/Github/hra-ui/node_modules/@storybook/core/dist/csf-tools/index.cjs:63539:37)

╭ Migration check ran with failures ───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                          │
│   Successful migrations:                                                                                                                                 │
│                                                                                                                                                          │
│   visual-tests-addon                                                                                                                                     │
│                                                                                                                                                          │
│   Failed migrations:                                                                                                                                     │
│                                                                                                                                                          │
│   autodocs-tags:                                                                                                                                         │
│   Cannot read properties of null (reading 'init')                                                                                                        │
│   initial-globals:                                                                                                                                       │
│   Cannot read properties of null (reading 'init')                                                                                                        │
│                                                                                                                                                          │
│   You can find the full logs in /home/axbolin/Github/hra-ui/migration-storybook.log                                                                      │
│                                                                                                                                                          │
│   Manual migrations:                                                                                                                                     │
│                                                                                                                                                          │
│   remove-react-dependency                                                                                                                                │
│                                                                                                                                                          │
│   ─────────────────────────────────────────────────                                                                                                      │
│                                                                                                                                                          │
│   If you'd like to run the migrations again, you can do so by running 'npx storybook automigrate'                                                        │
│                                                                                                                                                          │
│   The automigrations try to migrate common patterns in your project, but might not contain everything needed to migrate to the latest version of         │
│   Storybook.                                                                                                                                             │
│                                                                                                                                                          │
│   Please check the changelog and migration guide for manual migrations and more information: https://storybook.js.org/docs/8.0/migration-guide           │
│   And reach out on Discord if you need help: https://discord.gg/storybook                                                                                │
│                                                                                                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

